{"version":3,"file":"dw-2.0.min.js","sources":["../lib/dw/utils/delimited.mjs","../node_modules/underscore/modules/_setup.js","../node_modules/underscore/modules/restArguments.js","../node_modules/underscore/modules/isObject.js","../node_modules/underscore/modules/isNull.js","../node_modules/underscore/modules/isUndefined.js","../node_modules/underscore/modules/isBoolean.js","../node_modules/underscore/modules/_tagTester.js","../node_modules/underscore/modules/isString.js","../node_modules/underscore/modules/isNumber.js","../node_modules/underscore/modules/isDate.js","../node_modules/underscore/modules/isRegExp.js","../node_modules/underscore/modules/isError.js","../node_modules/underscore/modules/isSymbol.js","../node_modules/underscore/modules/isArrayBuffer.js","../node_modules/underscore/modules/isFunction.js","../node_modules/underscore/modules/_hasObjectTag.js","../node_modules/underscore/modules/_stringTagBug.js","../node_modules/underscore/modules/isDataView.js","../node_modules/underscore/modules/isArray.js","../node_modules/underscore/modules/_has.js","../node_modules/underscore/modules/isArguments.js","../node_modules/underscore/modules/isNaN.js","../node_modules/underscore/modules/constant.js","../node_modules/underscore/modules/_createSizePropertyCheck.js","../node_modules/underscore/modules/_shallowProperty.js","../node_modules/underscore/modules/_getByteLength.js","../node_modules/underscore/modules/_isBufferLike.js","../node_modules/underscore/modules/isTypedArray.js","../node_modules/underscore/modules/_getLength.js","../node_modules/underscore/modules/_collectNonEnumProps.js","../node_modules/underscore/modules/keys.js","../node_modules/underscore/modules/isMatch.js","../node_modules/underscore/modules/underscore.js","../node_modules/underscore/modules/_toBufferView.js","../node_modules/underscore/modules/isEqual.js","../node_modules/underscore/modules/allKeys.js","../node_modules/underscore/modules/_methodFingerprint.js","../node_modules/underscore/modules/isMap.js","../node_modules/underscore/modules/isWeakMap.js","../node_modules/underscore/modules/isSet.js","../node_modules/underscore/modules/isWeakSet.js","../node_modules/underscore/modules/values.js","../node_modules/underscore/modules/invert.js","../node_modules/underscore/modules/functions.js","../node_modules/underscore/modules/_createAssigner.js","../node_modules/underscore/modules/extend.js","../node_modules/underscore/modules/extendOwn.js","../node_modules/underscore/modules/defaults.js","../node_modules/underscore/modules/_baseCreate.js","../node_modules/underscore/modules/clone.js","../node_modules/underscore/modules/toPath.js","../node_modules/underscore/modules/_toPath.js","../node_modules/underscore/modules/_deepGet.js","../node_modules/underscore/modules/get.js","../node_modules/underscore/modules/identity.js","../node_modules/underscore/modules/matcher.js","../node_modules/underscore/modules/property.js","../node_modules/underscore/modules/_optimizeCb.js","../node_modules/underscore/modules/_baseIteratee.js","../node_modules/underscore/modules/iteratee.js","../node_modules/underscore/modules/_cb.js","../node_modules/underscore/modules/noop.js","../node_modules/underscore/modules/random.js","../node_modules/underscore/modules/now.js","../node_modules/underscore/modules/_createEscaper.js","../node_modules/underscore/modules/_escapeMap.js","../node_modules/underscore/modules/escape.js","../node_modules/underscore/modules/unescape.js","../node_modules/underscore/modules/_unescapeMap.js","../node_modules/underscore/modules/templateSettings.js","../node_modules/underscore/modules/template.js","../node_modules/underscore/modules/uniqueId.js","../node_modules/underscore/modules/_executeBound.js","../node_modules/underscore/modules/partial.js","../node_modules/underscore/modules/bind.js","../node_modules/underscore/modules/_isArrayLike.js","../node_modules/underscore/modules/_flatten.js","../node_modules/underscore/modules/bindAll.js","../node_modules/underscore/modules/delay.js","../node_modules/underscore/modules/defer.js","../node_modules/underscore/modules/negate.js","../node_modules/underscore/modules/before.js","../node_modules/underscore/modules/once.js","../node_modules/underscore/modules/findKey.js","../node_modules/underscore/modules/_createPredicateIndexFinder.js","../node_modules/underscore/modules/findIndex.js","../node_modules/underscore/modules/findLastIndex.js","../node_modules/underscore/modules/sortedIndex.js","../node_modules/underscore/modules/_createIndexFinder.js","../node_modules/underscore/modules/indexOf.js","../node_modules/underscore/modules/lastIndexOf.js","../node_modules/underscore/modules/find.js","../node_modules/underscore/modules/each.js","../node_modules/underscore/modules/map.js","../node_modules/underscore/modules/_createReduce.js","../node_modules/underscore/modules/reduce.js","../node_modules/underscore/modules/reduceRight.js","../node_modules/underscore/modules/filter.js","../node_modules/underscore/modules/every.js","../node_modules/underscore/modules/some.js","../node_modules/underscore/modules/contains.js","../node_modules/underscore/modules/invoke.js","../node_modules/underscore/modules/pluck.js","../node_modules/underscore/modules/max.js","../node_modules/underscore/modules/toArray.js","../node_modules/underscore/modules/sample.js","../node_modules/underscore/modules/shuffle.js","../node_modules/underscore/modules/_group.js","../node_modules/underscore/modules/groupBy.js","../node_modules/underscore/modules/indexBy.js","../node_modules/underscore/modules/countBy.js","../node_modules/underscore/modules/partition.js","../node_modules/underscore/modules/_keyInObj.js","../node_modules/underscore/modules/pick.js","../node_modules/underscore/modules/omit.js","../node_modules/underscore/modules/initial.js","../node_modules/underscore/modules/first.js","../node_modules/underscore/modules/rest.js","../node_modules/underscore/modules/flatten.js","../node_modules/underscore/modules/difference.js","../node_modules/underscore/modules/without.js","../node_modules/underscore/modules/uniq.js","../node_modules/underscore/modules/union.js","../node_modules/underscore/modules/unzip.js","../node_modules/underscore/modules/zip.js","../node_modules/underscore/modules/range.js","../node_modules/underscore/modules/_chainResult.js","../node_modules/underscore/modules/mixin.js","../node_modules/underscore/modules/underscore-array-methods.js","../node_modules/underscore/modules/isElement.js","../node_modules/underscore/modules/isFinite.js","../node_modules/underscore/modules/isEmpty.js","../node_modules/underscore/modules/pairs.js","../node_modules/underscore/modules/create.js","../node_modules/underscore/modules/tap.js","../node_modules/underscore/modules/has.js","../node_modules/underscore/modules/mapObject.js","../node_modules/underscore/modules/propertyOf.js","../node_modules/underscore/modules/times.js","../node_modules/underscore/modules/result.js","../node_modules/underscore/modules/chain.js","../node_modules/underscore/modules/memoize.js","../node_modules/underscore/modules/throttle.js","../node_modules/underscore/modules/debounce.js","../node_modules/underscore/modules/wrap.js","../node_modules/underscore/modules/compose.js","../node_modules/underscore/modules/after.js","../node_modules/underscore/modules/findWhere.js","../node_modules/underscore/modules/reject.js","../node_modules/underscore/modules/where.js","../node_modules/underscore/modules/min.js","../node_modules/underscore/modules/sortBy.js","../node_modules/underscore/modules/size.js","../node_modules/underscore/modules/last.js","../node_modules/underscore/modules/compact.js","../node_modules/underscore/modules/intersection.js","../node_modules/underscore/modules/object.js","../node_modules/underscore/modules/chunk.js","../node_modules/underscore/modules/index-default.js","../lib/dw/dataset/index.mjs","../lib/dw/dataset/columnTypes/date.mjs","../lib/dw/dataset/columnTypes/index.mjs","../lib/dw/dataset/columnTypes/text.mjs","../lib/dw/dataset/columnTypes/number.mjs","../node_modules/dompurify/dist/purify.js","../node_modules/isomorphic-dompurify/browser.js","../node_modules/@datawrapper/shared/memoizer.js","../node_modules/@datawrapper/shared/purifyHtml.js","../lib/dw/dataset/column.mjs","../lib/dw/dataset/delimited.mjs","../lib/dw/dataset/json.mjs","../node_modules/@datawrapper/shared/tailLength.js","../node_modules/@datawrapper/shared/round.js","../node_modules/underscore/underscore-umd.js","../node_modules/@datawrapper/shared/significantDimension.js","../node_modules/@datawrapper/shared/smartRound.js","../node_modules/@datawrapper/shared/clone.js","../lib/dw/utils/getNonChartHeight.mjs","../node_modules/@datawrapper/expr-eval/src/token.js","../node_modules/@datawrapper/expr-eval/src/token-stream.js","../node_modules/@datawrapper/expr-eval/src/instruction.js","../node_modules/@datawrapper/expr-eval/src/parser-state.js","../node_modules/@datawrapper/expr-eval/src/contains.js","../node_modules/@datawrapper/expr-eval/src/functions.js","../node_modules/@datawrapper/expr-eval/src/evaluate.js","../lib/dw/utils/parser.mjs","../lib/dw/utils/templateParser.mjs","../lib/dw/utils/htmlTemplate.mjs","../lib/dw/utils/index.mjs","../node_modules/@datawrapper/shared/equalish.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_getPrototype.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isPlainObject.js","../node_modules/@datawrapper/shared/get.js","../node_modules/@datawrapper/shared/set.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/eq.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/keys.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/isEqual.js","../node_modules/@datawrapper/shared/objectDiff.js","../lib/dw/utils/events.mjs","../lib/dw/dataset/applyChanges.mjs","../node_modules/@datawrapper/shared/columnNameToVariable.js","../lib/dw/dataset/addComputedColumns.mjs","../lib/dw/chart.mjs","../node_modules/numeral/numeral.js","../lib/dw/utils/populateVisAxes.mjs","../lib/dw/visualization.base.mjs","../lib/dw/utils/filterDatasetColumns.mjs","../lib/dw/visualization.mjs","../lib/dw/theme.mjs","../lib/dw/block.mjs","../lib/dw/notify.mjs","../lib/dw/index.mjs","../lib/dw/dataset/reorderColumns.mjs","../node_modules/@datawrapper/shared/postEvent.js"],"sourcesContent":["export function guessDelimiterFromLocale(numeral) {\n    try {\n        if (numeral.localeData().delimiters.decimal === ',') {\n            return ';';\n        }\n    } catch (e) {\n        // invalid locale data\n    }\n    return ',';\n}\n\nfunction escapeDelimitedValue(value, delimiter, quoteChar) {\n    if (\n        value === null ||\n        value === undefined ||\n        (typeof value === 'number' && !Number.isFinite(value))\n    ) {\n        return '';\n    }\n    const s = String(value);\n    if (s.indexOf(quoteChar) !== -1) {\n        // A double-quote appearing inside a field MUST be escaped by preceding it with another\n        // double quote, and the field itself MUST be enclosed in double quotes.\n        // See paragraph 8 at https://csv-spec.org/#csv-format-specification\n        return quoteChar + s.replace(new RegExp(quoteChar, 'g'), quoteChar + quoteChar) + quoteChar;\n    }\n    if (new RegExp(`[\\n\\r${delimiter}]`).test(s)) {\n        // Fields containing line breaks (CRLF, LF, or CR), double quotes, or the delimiter\n        // character (normally a comma) MUST be enclosed in double-quotes.\n        // See paragraph 7 at https://csv-spec.org/#csv-format-specification\n        return quoteChar + s + quoteChar;\n    }\n    return s;\n}\n\nexport function formatDelimited(\n    rows,\n    { delimiter = ',', quoteChar = '\"', lineTerminator = '\\n' } = {}\n) {\n    return rows\n        .map(row =>\n            row.map(value => escapeDelimitedValue(value, delimiter, quoteChar)).join(delimiter)\n        )\n        .join(lineTerminator);\n}\n\nexport default {\n    formatDelimited,\n    guessDelimiterFromLocale\n};\n","// Current version.\nexport var VERSION = '1.13.4';\n\n// Establish the root object, `window` (`self`) in the browser, `global`\n// on the server, or `this` in some virtual machines. We use `self`\n// instead of `window` for `WebWorker` support.\nexport var root = (typeof self == 'object' && self.self === self && self) ||\n          (typeof global == 'object' && global.global === global && global) ||\n          Function('return this')() ||\n          {};\n\n// Save bytes in the minified (but not gzipped) version:\nexport var ArrayProto = Array.prototype, ObjProto = Object.prototype;\nexport var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n// Create quick reference variables for speed access to core prototypes.\nexport var push = ArrayProto.push,\n    slice = ArrayProto.slice,\n    toString = ObjProto.toString,\n    hasOwnProperty = ObjProto.hasOwnProperty;\n\n// Modern feature detection.\nexport var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n    supportsDataView = typeof DataView !== 'undefined';\n\n// All **ECMAScript 5+** native function implementations that we hope to use\n// are declared here.\nexport var nativeIsArray = Array.isArray,\n    nativeKeys = Object.keys,\n    nativeCreate = Object.create,\n    nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n// Create references to these builtin functions because we override them.\nexport var _isNaN = isNaN,\n    _isFinite = isFinite;\n\n// Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\nexport var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\nexport var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n  'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n// The largest integer that can be represented exactly.\nexport var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n","// Some functions take a variable number of arguments, or a few expected\n// arguments at the beginning and then a variable number of values to operate\n// on. This helper accumulates all remaining arguments past the function’s\n// argument length (or an explicit `startIndex`), into an array that becomes\n// the last argument. Similar to ES6’s \"rest parameter\".\nexport default function restArguments(func, startIndex) {\n  startIndex = startIndex == null ? func.length - 1 : +startIndex;\n  return function() {\n    var length = Math.max(arguments.length - startIndex, 0),\n        rest = Array(length),\n        index = 0;\n    for (; index < length; index++) {\n      rest[index] = arguments[index + startIndex];\n    }\n    switch (startIndex) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, arguments[0], rest);\n      case 2: return func.call(this, arguments[0], arguments[1], rest);\n    }\n    var args = Array(startIndex + 1);\n    for (index = 0; index < startIndex; index++) {\n      args[index] = arguments[index];\n    }\n    args[startIndex] = rest;\n    return func.apply(this, args);\n  };\n}\n","// Is a given variable an object?\nexport default function isObject(obj) {\n  var type = typeof obj;\n  return type === 'function' || (type === 'object' && !!obj);\n}\n","// Is a given value equal to null?\nexport default function isNull(obj) {\n  return obj === null;\n}\n","// Is a given variable undefined?\nexport default function isUndefined(obj) {\n  return obj === void 0;\n}\n","import { toString } from './_setup.js';\n\n// Is a given value a boolean?\nexport default function isBoolean(obj) {\n  return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n}\n","import { toString } from './_setup.js';\n\n// Internal function for creating a `toString`-based type tester.\nexport default function tagTester(name) {\n  var tag = '[object ' + name + ']';\n  return function(obj) {\n    return toString.call(obj) === tag;\n  };\n}\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('String');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Number');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Date');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('RegExp');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Error');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Symbol');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('ArrayBuffer');\n","import tagTester from './_tagTester.js';\nimport { root } from './_setup.js';\n\nvar isFunction = tagTester('Function');\n\n// Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n// v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\nvar nodelist = root.document && root.document.childNodes;\nif (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n  isFunction = function(obj) {\n    return typeof obj == 'function' || false;\n  };\n}\n\nexport default isFunction;\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Object');\n","import { supportsDataView } from './_setup.js';\nimport hasObjectTag from './_hasObjectTag.js';\n\n// In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n// In IE 11, the most common among them, this problem also applies to\n// `Map`, `WeakMap` and `Set`.\nexport var hasStringTagBug = (\n      supportsDataView && hasObjectTag(new DataView(new ArrayBuffer(8)))\n    ),\n    isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n","import tagTester from './_tagTester.js';\nimport isFunction from './isFunction.js';\nimport isArrayBuffer from './isArrayBuffer.js';\nimport { hasStringTagBug } from './_stringTagBug.js';\n\nvar isDataView = tagTester('DataView');\n\n// In IE 10 - Edge 13, we need a different heuristic\n// to determine whether an object is a `DataView`.\nfunction ie10IsDataView(obj) {\n  return obj != null && isFunction(obj.getInt8) && isArrayBuffer(obj.buffer);\n}\n\nexport default (hasStringTagBug ? ie10IsDataView : isDataView);\n","import { nativeIsArray } from './_setup.js';\nimport tagTester from './_tagTester.js';\n\n// Is a given value an array?\n// Delegates to ECMA5's native `Array.isArray`.\nexport default nativeIsArray || tagTester('Array');\n","import { hasOwnProperty } from './_setup.js';\n\n// Internal function to check whether `key` is an own property name of `obj`.\nexport default function has(obj, key) {\n  return obj != null && hasOwnProperty.call(obj, key);\n}\n","import tagTester from './_tagTester.js';\nimport has from './_has.js';\n\nvar isArguments = tagTester('Arguments');\n\n// Define a fallback version of the method in browsers (ahem, IE < 9), where\n// there isn't any inspectable \"Arguments\" type.\n(function() {\n  if (!isArguments(arguments)) {\n    isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n}());\n\nexport default isArguments;\n","import { _isNaN } from './_setup.js';\nimport isNumber from './isNumber.js';\n\n// Is the given value `NaN`?\nexport default function isNaN(obj) {\n  return isNumber(obj) && _isNaN(obj);\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function constant(value) {\n  return function() {\n    return value;\n  };\n}\n","import { MAX_ARRAY_INDEX } from './_setup.js';\n\n// Common internal logic for `isArrayLike` and `isBufferLike`.\nexport default function createSizePropertyCheck(getSizeProperty) {\n  return function(collection) {\n    var sizeProperty = getSizeProperty(collection);\n    return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n  }\n}\n","// Internal helper to generate a function to obtain property `key` from `obj`.\nexport default function shallowProperty(key) {\n  return function(obj) {\n    return obj == null ? void 0 : obj[key];\n  };\n}\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `byteLength` property of an object.\nexport default shallowProperty('byteLength');\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getByteLength from './_getByteLength.js';\n\n// Internal helper to determine whether we should spend extensive checks against\n// `ArrayBuffer` et al.\nexport default createSizePropertyCheck(getByteLength);\n","import { supportsArrayBuffer, nativeIsView, toString } from './_setup.js';\nimport isDataView from './isDataView.js';\nimport constant from './constant.js';\nimport isBufferLike from './_isBufferLike.js';\n\n// Is a given value a typed array?\nvar typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\nfunction isTypedArray(obj) {\n  // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n  // Otherwise, fall back on the above regular expression.\n  return nativeIsView ? (nativeIsView(obj) && !isDataView(obj)) :\n                isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n}\n\nexport default supportsArrayBuffer ? isTypedArray : constant(false);\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `length` property of an object.\nexport default shallowProperty('length');\n","import { nonEnumerableProps, ObjProto } from './_setup.js';\nimport isFunction from './isFunction.js';\nimport has from './_has.js';\n\n// Internal helper to create a simple lookup structure.\n// `collectNonEnumProps` used to depend on `_.contains`, but this led to\n// circular imports. `emulatedSet` is a one-off solution that only works for\n// arrays of strings.\nfunction emulatedSet(keys) {\n  var hash = {};\n  for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n  return {\n    contains: function(key) { return hash[key] === true; },\n    push: function(key) {\n      hash[key] = true;\n      return keys.push(key);\n    }\n  };\n}\n\n// Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n// be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n// needed.\nexport default function collectNonEnumProps(obj, keys) {\n  keys = emulatedSet(keys);\n  var nonEnumIdx = nonEnumerableProps.length;\n  var constructor = obj.constructor;\n  var proto = (isFunction(constructor) && constructor.prototype) || ObjProto;\n\n  // Constructor is a special case.\n  var prop = 'constructor';\n  if (has(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\n  while (nonEnumIdx--) {\n    prop = nonEnumerableProps[nonEnumIdx];\n    if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n      keys.push(prop);\n    }\n  }\n}\n","import isObject from './isObject.js';\nimport { nativeKeys, hasEnumBug } from './_setup.js';\nimport has from './_has.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve the names of an object's own properties.\n// Delegates to **ECMAScript 5**'s native `Object.keys`.\nexport default function keys(obj) {\n  if (!isObject(obj)) return [];\n  if (nativeKeys) return nativeKeys(obj);\n  var keys = [];\n  for (var key in obj) if (has(obj, key)) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import keys from './keys.js';\n\n// Returns whether an object has a given set of `key:value` pairs.\nexport default function isMatch(object, attrs) {\n  var _keys = keys(attrs), length = _keys.length;\n  if (object == null) return !length;\n  var obj = Object(object);\n  for (var i = 0; i < length; i++) {\n    var key = _keys[i];\n    if (attrs[key] !== obj[key] || !(key in obj)) return false;\n  }\n  return true;\n}\n","import { VERSION } from './_setup.js';\n\n// If Underscore is called as a function, it returns a wrapped object that can\n// be used OO-style. This wrapper holds altered versions of all functions added\n// through `_.mixin`. Wrapped objects may be chained.\nexport default function _(obj) {\n  if (obj instanceof _) return obj;\n  if (!(this instanceof _)) return new _(obj);\n  this._wrapped = obj;\n}\n\n_.VERSION = VERSION;\n\n// Extracts the result from a wrapped and chained object.\n_.prototype.value = function() {\n  return this._wrapped;\n};\n\n// Provide unwrapping proxies for some methods used in engine operations\n// such as arithmetic and JSON stringification.\n_.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n_.prototype.toString = function() {\n  return String(this._wrapped);\n};\n","import getByteLength from './_getByteLength.js';\n\n// Internal function to wrap or shallow-copy an ArrayBuffer,\n// typed array or DataView to a new view, reusing the buffer.\nexport default function toBufferView(bufferSource) {\n  return new Uint8Array(\n    bufferSource.buffer || bufferSource,\n    bufferSource.byteOffset || 0,\n    getByteLength(bufferSource)\n  );\n}\n","import _ from './underscore.js';\nimport { toString, SymbolProto } from './_setup.js';\nimport getByteLength from './_getByteLength.js';\nimport isTypedArray from './isTypedArray.js';\nimport isFunction from './isFunction.js';\nimport { hasStringTagBug }  from './_stringTagBug.js';\nimport isDataView from './isDataView.js';\nimport keys from './keys.js';\nimport has from './_has.js';\nimport toBufferView from './_toBufferView.js';\n\n// We use this string twice, so give it a name for minification.\nvar tagDataView = '[object DataView]';\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction eq(a, b, aStack, bStack) {\n  // Identical objects are equal. `0 === -0`, but they aren't identical.\n  // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n  if (a === b) return a !== 0 || 1 / a === 1 / b;\n  // `null` or `undefined` only equal to itself (strict comparison).\n  if (a == null || b == null) return false;\n  // `NaN`s are equivalent, but non-reflexive.\n  if (a !== a) return b !== b;\n  // Exhaust primitive checks\n  var type = typeof a;\n  if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n  return deepEq(a, b, aStack, bStack);\n}\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction deepEq(a, b, aStack, bStack) {\n  // Unwrap any wrapped objects.\n  if (a instanceof _) a = a._wrapped;\n  if (b instanceof _) b = b._wrapped;\n  // Compare `[[Class]]` names.\n  var className = toString.call(a);\n  if (className !== toString.call(b)) return false;\n  // Work around a bug in IE 10 - Edge 13.\n  if (hasStringTagBug && className == '[object Object]' && isDataView(a)) {\n    if (!isDataView(b)) return false;\n    className = tagDataView;\n  }\n  switch (className) {\n    // These types are compared by value.\n    case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n    case '[object String]':\n      // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n      // equivalent to `new String(\"5\")`.\n      return '' + a === '' + b;\n    case '[object Number]':\n      // `NaN`s are equivalent, but non-reflexive.\n      // Object(NaN) is equivalent to NaN.\n      if (+a !== +a) return +b !== +b;\n      // An `egal` comparison is performed for other numeric values.\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n      // millisecond representations. Note that invalid dates with millisecond representations\n      // of `NaN` are not equivalent.\n      return +a === +b;\n    case '[object Symbol]':\n      return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    case '[object ArrayBuffer]':\n    case tagDataView:\n      // Coerce to typed array so we can fall through.\n      return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n  }\n\n  var areArrays = className === '[object Array]';\n  if (!areArrays && isTypedArray(a)) {\n      var byteLength = getByteLength(a);\n      if (byteLength !== getByteLength(b)) return false;\n      if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n      areArrays = true;\n  }\n  if (!areArrays) {\n    if (typeof a != 'object' || typeof b != 'object') return false;\n\n    // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor &&\n                             isFunction(bCtor) && bCtor instanceof bCtor)\n                        && ('constructor' in a && 'constructor' in b)) {\n      return false;\n    }\n  }\n  // Assume equality for cyclic structures. The algorithm for detecting cyclic\n  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n  // Initializing stack of traversed objects.\n  // It's done here since we only need them for objects and arrays comparison.\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    // Linear search. Performance is inversely proportional to the number of\n    // unique nested structures.\n    if (aStack[length] === a) return bStack[length] === b;\n  }\n\n  // Add the first object to the stack of traversed objects.\n  aStack.push(a);\n  bStack.push(b);\n\n  // Recursively compare objects and arrays.\n  if (areArrays) {\n    // Compare array lengths to determine if a deep comparison is necessary.\n    length = a.length;\n    if (length !== b.length) return false;\n    // Deep compare the contents, ignoring non-numeric properties.\n    while (length--) {\n      if (!eq(a[length], b[length], aStack, bStack)) return false;\n    }\n  } else {\n    // Deep compare objects.\n    var _keys = keys(a), key;\n    length = _keys.length;\n    // Ensure that both objects contain the same number of properties before comparing deep equality.\n    if (keys(b).length !== length) return false;\n    while (length--) {\n      // Deep compare each member\n      key = _keys[length];\n      if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n    }\n  }\n  // Remove the first object from the stack of traversed objects.\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\n// Perform a deep comparison to check if two objects are equal.\nexport default function isEqual(a, b) {\n  return eq(a, b);\n}\n","import isObject from './isObject.js';\nimport { hasEnumBug } from './_setup.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve all the enumerable property names of an object.\nexport default function allKeys(obj) {\n  if (!isObject(obj)) return [];\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isFunction from './isFunction.js';\nimport allKeys from './allKeys.js';\n\n// Since the regular `Object.prototype.toString` type tests don't work for\n// some types in IE 11, we use a fingerprinting heuristic instead, based\n// on the methods. It's not great, but it's the best we got.\n// The fingerprint method lists are defined below.\nexport function ie11fingerprint(methods) {\n  var length = getLength(methods);\n  return function(obj) {\n    if (obj == null) return false;\n    // `Map`, `WeakMap` and `Set` have no enumerable keys.\n    var keys = allKeys(obj);\n    if (getLength(keys)) return false;\n    for (var i = 0; i < length; i++) {\n      if (!isFunction(obj[methods[i]])) return false;\n    }\n    // If we are testing against `WeakMap`, we need to ensure that\n    // `obj` doesn't have a `forEach` method in order to distinguish\n    // it from a regular `Map`.\n    return methods !== weakMapMethods || !isFunction(obj[forEachName]);\n  };\n}\n\n// In the interest of compact minification, we write\n// each string in the fingerprints only once.\nvar forEachName = 'forEach',\n    hasName = 'has',\n    commonInit = ['clear', 'delete'],\n    mapTail = ['get', hasName, 'set'];\n\n// `Map`, `WeakMap` and `Set` each have slightly different\n// combinations of the above sublists.\nexport var mapMethods = commonInit.concat(forEachName, mapTail),\n    weakMapMethods = commonInit.concat(mapTail),\n    setMethods = ['add'].concat(commonInit, forEachName, hasName);\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, mapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, weakMapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, setMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('WeakSet');\n","import keys from './keys.js';\n\n// Retrieve the values of an object's properties.\nexport default function values(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var values = Array(length);\n  for (var i = 0; i < length; i++) {\n    values[i] = obj[_keys[i]];\n  }\n  return values;\n}\n","import keys from './keys.js';\n\n// Invert the keys and values of an object. The values must be serializable.\nexport default function invert(obj) {\n  var result = {};\n  var _keys = keys(obj);\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    result[obj[_keys[i]]] = _keys[i];\n  }\n  return result;\n}\n","import isFunction from './isFunction.js';\n\n// Return a sorted list of the function names available on the object.\nexport default function functions(obj) {\n  var names = [];\n  for (var key in obj) {\n    if (isFunction(obj[key])) names.push(key);\n  }\n  return names.sort();\n}\n","// An internal function for creating assigner functions.\nexport default function createAssigner(keysFunc, defaults) {\n  return function(obj) {\n    var length = arguments.length;\n    if (defaults) obj = Object(obj);\n    if (length < 2 || obj == null) return obj;\n    for (var index = 1; index < length; index++) {\n      var source = arguments[index],\n          keys = keysFunc(source),\n          l = keys.length;\n      for (var i = 0; i < l; i++) {\n        var key = keys[i];\n        if (!defaults || obj[key] === void 0) obj[key] = source[key];\n      }\n    }\n    return obj;\n  };\n}\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Extend a given object with all the properties in passed-in object(s).\nexport default createAssigner(allKeys);\n","import createAssigner from './_createAssigner.js';\nimport keys from './keys.js';\n\n// Assigns a given object with all the own properties in the passed-in\n// object(s).\n// (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\nexport default createAssigner(keys);\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Fill in a given object with default properties.\nexport default createAssigner(allKeys, true);\n","import isObject from './isObject.js';\nimport { nativeCreate } from './_setup.js';\n\n// Create a naked function reference for surrogate-prototype-swapping.\nfunction ctor() {\n  return function(){};\n}\n\n// An internal function for creating a new object that inherits from another.\nexport default function baseCreate(prototype) {\n  if (!isObject(prototype)) return {};\n  if (nativeCreate) return nativeCreate(prototype);\n  var Ctor = ctor();\n  Ctor.prototype = prototype;\n  var result = new Ctor;\n  Ctor.prototype = null;\n  return result;\n}\n","import isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport extend from './extend.js';\n\n// Create a (shallow-cloned) duplicate of an object.\nexport default function clone(obj) {\n  if (!isObject(obj)) return obj;\n  return isArray(obj) ? obj.slice() : extend({}, obj);\n}\n","import _ from './underscore.js';\nimport isArray from './isArray.js';\n\n// Normalize a (deep) property `path` to array.\n// Like `_.iteratee`, this function can be customized.\nexport default function toPath(path) {\n  return isArray(path) ? path : [path];\n}\n_.toPath = toPath;\n","import _ from './underscore.js';\nimport './toPath.js';\n\n// Internal wrapper for `_.toPath` to enable minification.\n// Similar to `cb` for `_.iteratee`.\nexport default function toPath(path) {\n  return _.toPath(path);\n}\n","// Internal function to obtain a nested property in `obj` along `path`.\nexport default function deepGet(obj, path) {\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    if (obj == null) return void 0;\n    obj = obj[path[i]];\n  }\n  return length ? obj : void 0;\n}\n","import toPath from './_toPath.js';\nimport deepGet from './_deepGet.js';\nimport isUndefined from './isUndefined.js';\n\n// Get the value of the (deep) property on `path` from `object`.\n// If any property in `path` does not exist or if the value is\n// `undefined`, return `defaultValue` instead.\n// The `path` is normalized through `_.toPath`.\nexport default function get(object, path, defaultValue) {\n  var value = deepGet(object, toPath(path));\n  return isUndefined(value) ? defaultValue : value;\n}\n","// Keep the identity function around for default iteratees.\nexport default function identity(value) {\n  return value;\n}\n","import extendOwn from './extendOwn.js';\nimport isMatch from './isMatch.js';\n\n// Returns a predicate for checking whether an object has a given set of\n// `key:value` pairs.\nexport default function matcher(attrs) {\n  attrs = extendOwn({}, attrs);\n  return function(obj) {\n    return isMatch(obj, attrs);\n  };\n}\n","import deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Creates a function that, when passed an object, will traverse that object’s\n// properties down the given `path`, specified as an array of keys or indices.\nexport default function property(path) {\n  path = toPath(path);\n  return function(obj) {\n    return deepGet(obj, path);\n  };\n}\n","// Internal function that returns an efficient (for current engines) version\n// of the passed-in callback, to be repeatedly applied in other Underscore\n// functions.\nexport default function optimizeCb(func, context, argCount) {\n  if (context === void 0) return func;\n  switch (argCount == null ? 3 : argCount) {\n    case 1: return function(value) {\n      return func.call(context, value);\n    };\n    // The 2-argument case is omitted because we’re not using it.\n    case 3: return function(value, index, collection) {\n      return func.call(context, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(context, accumulator, value, index, collection);\n    };\n  }\n  return function() {\n    return func.apply(context, arguments);\n  };\n}\n","import identity from './identity.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport matcher from './matcher.js';\nimport property from './property.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// An internal function to generate callbacks that can be applied to each\n// element in a collection, returning the desired result — either `_.identity`,\n// an arbitrary callback, a property matcher, or a property accessor.\nexport default function baseIteratee(value, context, argCount) {\n  if (value == null) return identity;\n  if (isFunction(value)) return optimizeCb(value, context, argCount);\n  if (isObject(value) && !isArray(value)) return matcher(value);\n  return property(value);\n}\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\n\n// External wrapper for our callback generator. Users may customize\n// `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n// This abstraction hides the internal-only `argCount` argument.\nexport default function iteratee(value, context) {\n  return baseIteratee(value, context, Infinity);\n}\n_.iteratee = iteratee;\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\nimport iteratee from './iteratee.js';\n\n// The function we call internally to generate a callback. It invokes\n// `_.iteratee` if overridden, otherwise `baseIteratee`.\nexport default function cb(value, context, argCount) {\n  if (_.iteratee !== iteratee) return _.iteratee(value, context);\n  return baseIteratee(value, context, argCount);\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function noop(){}\n","// Return a random integer between `min` and `max` (inclusive).\nexport default function random(min, max) {\n  if (max == null) {\n    max = min;\n    min = 0;\n  }\n  return min + Math.floor(Math.random() * (max - min + 1));\n}\n","// A (possibly faster) way to get the current timestamp as an integer.\nexport default Date.now || function() {\n  return new Date().getTime();\n};\n","import keys from './keys.js';\n\n// Internal helper to generate functions for escaping and unescaping strings\n// to/from HTML interpolation.\nexport default function createEscaper(map) {\n  var escaper = function(match) {\n    return map[match];\n  };\n  // Regexes for identifying a key that needs to be escaped.\n  var source = '(?:' + keys(map).join('|') + ')';\n  var testRegexp = RegExp(source);\n  var replaceRegexp = RegExp(source, 'g');\n  return function(string) {\n    string = string == null ? '' : '' + string;\n    return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n  };\n}\n","// Internal list of HTML entities for escaping.\nexport default {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;'\n};\n","import createEscaper from './_createEscaper.js';\nimport escapeMap from './_escapeMap.js';\n\n// Function for escaping strings to HTML interpolation.\nexport default createEscaper(escapeMap);\n","import createEscaper from './_createEscaper.js';\nimport unescapeMap from './_unescapeMap.js';\n\n// Function for unescaping strings from HTML interpolation.\nexport default createEscaper(unescapeMap);\n","import invert from './invert.js';\nimport escapeMap from './_escapeMap.js';\n\n// Internal list of HTML entities for unescaping.\nexport default invert(escapeMap);\n","import _ from './underscore.js';\n\n// By default, Underscore uses ERB-style template delimiters. Change the\n// following template settings to use alternative delimiters.\nexport default _.templateSettings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n};\n","import defaults from './defaults.js';\nimport _ from './underscore.js';\nimport './templateSettings.js';\n\n// When customizing `_.templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\nvar noMatch = /(.)^/;\n\n// Certain characters need to be escaped so that they can be put into a\n// string literal.\nvar escapes = {\n  \"'\": \"'\",\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\nvar escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction escapeChar(match) {\n  return '\\\\' + escapes[match];\n}\n\n// In order to prevent third-party code injection through\n// `_.templateSettings.variable`, we test it against the following regular\n// expression. It is intentionally a bit more liberal than just matching valid\n// identifiers, but still prevents possible loopholes through defaults or\n// destructuring assignment.\nvar bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\n// JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n// NB: `oldSettings` only exists for backwards compatibility.\nexport default function template(text, settings, oldSettings) {\n  if (!settings && oldSettings) settings = oldSettings;\n  settings = defaults({}, settings, _.templateSettings);\n\n  // Combine delimiters into one regular expression via alternation.\n  var matcher = RegExp([\n    (settings.escape || noMatch).source,\n    (settings.interpolate || noMatch).source,\n    (settings.evaluate || noMatch).source\n  ].join('|') + '|$', 'g');\n\n  // Compile the template source, escaping string literals appropriately.\n  var index = 0;\n  var source = \"__p+='\";\n  text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n    index = offset + match.length;\n\n    if (escape) {\n      source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n    } else if (interpolate) {\n      source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n    } else if (evaluate) {\n      source += \"';\\n\" + evaluate + \"\\n__p+='\";\n    }\n\n    // Adobe VMs need the match returned to produce the correct offset.\n    return match;\n  });\n  source += \"';\\n\";\n\n  var argument = settings.variable;\n  if (argument) {\n    // Insure against third-party code injection. (CVE-2021-23358)\n    if (!bareIdentifier.test(argument)) throw new Error(\n      'variable is not a bare identifier: ' + argument\n    );\n  } else {\n    // If a variable is not specified, place data values in local scope.\n    source = 'with(obj||{}){\\n' + source + '}\\n';\n    argument = 'obj';\n  }\n\n  source = \"var __t,__p='',__j=Array.prototype.join,\" +\n    \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n    source + 'return __p;\\n';\n\n  var render;\n  try {\n    render = new Function(argument, '_', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  var template = function(data) {\n    return render.call(this, data, _);\n  };\n\n  // Provide the compiled source as a convenience for precompilation.\n  template.source = 'function(' + argument + '){\\n' + source + '}';\n\n  return template;\n}\n","// Generate a unique integer id (unique within the entire client session).\n// Useful for temporary DOM ids.\nvar idCounter = 0;\nexport default function uniqueId(prefix) {\n  var id = ++idCounter + '';\n  return prefix ? prefix + id : id;\n}\n","import baseCreate from './_baseCreate.js';\nimport isObject from './isObject.js';\n\n// Internal function to execute `sourceFunc` bound to `context` with optional\n// `args`. Determines whether to execute a function as a constructor or as a\n// normal function.\nexport default function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n  if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n  var self = baseCreate(sourceFunc.prototype);\n  var result = sourceFunc.apply(self, args);\n  if (isObject(result)) return result;\n  return self;\n}\n","import restArguments from './restArguments.js';\nimport executeBound from './_executeBound.js';\nimport _ from './underscore.js';\n\n// Partially apply a function by creating a version that has had some of its\n// arguments pre-filled, without changing its dynamic `this` context. `_` acts\n// as a placeholder by default, allowing any combination of arguments to be\n// pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\nvar partial = restArguments(function(func, boundArgs) {\n  var placeholder = partial.placeholder;\n  var bound = function() {\n    var position = 0, length = boundArgs.length;\n    var args = Array(length);\n    for (var i = 0; i < length; i++) {\n      args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n    }\n    while (position < arguments.length) args.push(arguments[position++]);\n    return executeBound(func, bound, this, this, args);\n  };\n  return bound;\n});\n\npartial.placeholder = _;\nexport default partial;\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport executeBound from './_executeBound.js';\n\n// Create a function bound to a given object (assigning `this`, and arguments,\n// optionally).\nexport default restArguments(function(func, context, args) {\n  if (!isFunction(func)) throw new TypeError('Bind must be called on a function');\n  var bound = restArguments(function(callArgs) {\n    return executeBound(func, bound, context, this, args.concat(callArgs));\n  });\n  return bound;\n});\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getLength from './_getLength.js';\n\n// Internal helper for collection methods to determine whether a collection\n// should be iterated as an array or as an object.\n// Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n// Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\nexport default createSizePropertyCheck(getLength);\n","import getLength from './_getLength.js';\nimport isArrayLike from './_isArrayLike.js';\nimport isArray from './isArray.js';\nimport isArguments from './isArguments.js';\n\n// Internal implementation of a recursive `flatten` function.\nexport default function flatten(input, depth, strict, output) {\n  output = output || [];\n  if (!depth && depth !== 0) {\n    depth = Infinity;\n  } else if (depth <= 0) {\n    return output.concat(input);\n  }\n  var idx = output.length;\n  for (var i = 0, length = getLength(input); i < length; i++) {\n    var value = input[i];\n    if (isArrayLike(value) && (isArray(value) || isArguments(value))) {\n      // Flatten current level of array or arguments object.\n      if (depth > 1) {\n        flatten(value, depth - 1, strict, output);\n        idx = output.length;\n      } else {\n        var j = 0, len = value.length;\n        while (j < len) output[idx++] = value[j++];\n      }\n    } else if (!strict) {\n      output[idx++] = value;\n    }\n  }\n  return output;\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport bind from './bind.js';\n\n// Bind a number of an object's methods to that object. Remaining arguments\n// are the method names to be bound. Useful for ensuring that all callbacks\n// defined on an object belong to it.\nexport default restArguments(function(obj, keys) {\n  keys = flatten(keys, false, false);\n  var index = keys.length;\n  if (index < 1) throw new Error('bindAll must be passed function names');\n  while (index--) {\n    var key = keys[index];\n    obj[key] = bind(obj[key], obj);\n  }\n  return obj;\n});\n","import restArguments from './restArguments.js';\n\n// Delays a function for the given number of milliseconds, and then calls\n// it with the arguments supplied.\nexport default restArguments(function(func, wait, args) {\n  return setTimeout(function() {\n    return func.apply(null, args);\n  }, wait);\n});\n","import partial from './partial.js';\nimport delay from './delay.js';\nimport _ from './underscore.js';\n\n// Defers a function, scheduling it to run after the current call stack has\n// cleared.\nexport default partial(delay, _, 1);\n","// Returns a negated version of the passed-in predicate.\nexport default function negate(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n","// Returns a function that will only be executed up to (but not including) the\n// Nth call.\nexport default function before(times, func) {\n  var memo;\n  return function() {\n    if (--times > 0) {\n      memo = func.apply(this, arguments);\n    }\n    if (times <= 1) func = null;\n    return memo;\n  };\n}\n","import partial from './partial.js';\nimport before from './before.js';\n\n// Returns a function that will be executed at most one time, no matter how\n// often you call it. Useful for lazy initialization.\nexport default partial(before, 2);\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the first key on an object that passes a truth test.\nexport default function findKey(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = keys(obj), key;\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    key = _keys[i];\n    if (predicate(obj[key], key, obj)) return key;\n  }\n}\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Internal function to generate `_.findIndex` and `_.findLastIndex`.\nexport default function createPredicateIndexFinder(dir) {\n  return function(array, predicate, context) {\n    predicate = cb(predicate, context);\n    var length = getLength(array);\n    var index = dir > 0 ? 0 : length - 1;\n    for (; index >= 0 && index < length; index += dir) {\n      if (predicate(array[index], index, array)) return index;\n    }\n    return -1;\n  };\n}\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the first index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(1);\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the last index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(-1);\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Use a comparator function to figure out the smallest index at which\n// an object should be inserted so as to maintain order. Uses binary search.\nexport default function sortedIndex(array, obj, iteratee, context) {\n  iteratee = cb(iteratee, context, 1);\n  var value = iteratee(obj);\n  var low = 0, high = getLength(array);\n  while (low < high) {\n    var mid = Math.floor((low + high) / 2);\n    if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n  }\n  return low;\n}\n","import getLength from './_getLength.js';\nimport { slice } from './_setup.js';\nimport isNaN from './isNaN.js';\n\n// Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\nexport default function createIndexFinder(dir, predicateFind, sortedIndex) {\n  return function(array, item, idx) {\n    var i = 0, length = getLength(array);\n    if (typeof idx == 'number') {\n      if (dir > 0) {\n        i = idx >= 0 ? idx : Math.max(idx + length, i);\n      } else {\n        length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n      }\n    } else if (sortedIndex && idx && length) {\n      idx = sortedIndex(array, item);\n      return array[idx] === item ? idx : -1;\n    }\n    if (item !== item) {\n      idx = predicateFind(slice.call(array, i, length), isNaN);\n      return idx >= 0 ? idx + i : -1;\n    }\n    for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n      if (array[idx] === item) return idx;\n    }\n    return -1;\n  };\n}\n","import sortedIndex from './sortedIndex.js';\nimport findIndex from './findIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the first occurrence of an item in an array,\n// or -1 if the item is not included in the array.\n// If the array is large and already in sort order, pass `true`\n// for **isSorted** to use binary search.\nexport default createIndexFinder(1, findIndex, sortedIndex);\n","import findLastIndex from './findLastIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the last occurrence of an item in an array,\n// or -1 if the item is not included in the array.\nexport default createIndexFinder(-1, findLastIndex);\n","import isArrayLike from './_isArrayLike.js';\nimport findIndex from './findIndex.js';\nimport findKey from './findKey.js';\n\n// Return the first value which passes a truth test.\nexport default function find(obj, predicate, context) {\n  var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n  var key = keyFinder(obj, predicate, context);\n  if (key !== void 0 && key !== -1) return obj[key];\n}\n","import optimizeCb from './_optimizeCb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// The cornerstone for collection functions, an `each`\n// implementation, aka `forEach`.\n// Handles raw objects in addition to array-likes. Treats all\n// sparse array-likes as if they were dense.\nexport default function each(obj, iteratee, context) {\n  iteratee = optimizeCb(iteratee, context);\n  var i, length;\n  if (isArrayLike(obj)) {\n    for (i = 0, length = obj.length; i < length; i++) {\n      iteratee(obj[i], i, obj);\n    }\n  } else {\n    var _keys = keys(obj);\n    for (i = 0, length = _keys.length; i < length; i++) {\n      iteratee(obj[_keys[i]], _keys[i], obj);\n    }\n  }\n  return obj;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the results of applying the iteratee to each element.\nexport default function map(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length,\n      results = Array(length);\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    results[index] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// Internal helper to create a reducing function, iterating left or right.\nexport default function createReduce(dir) {\n  // Wrap code that reassigns argument variables in a separate function than\n  // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n  var reducer = function(obj, iteratee, memo, initial) {\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        index = dir > 0 ? 0 : length - 1;\n    if (!initial) {\n      memo = obj[_keys ? _keys[index] : index];\n      index += dir;\n    }\n    for (; index >= 0 && index < length; index += dir) {\n      var currentKey = _keys ? _keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  return function(obj, iteratee, memo, context) {\n    var initial = arguments.length >= 3;\n    return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n  };\n}\n","import createReduce from './_createReduce.js';\n\n// **Reduce** builds up a single result from a list of values, aka `inject`,\n// or `foldl`.\nexport default createReduce(1);\n","import createReduce from './_createReduce.js';\n\n// The right-associative version of reduce, also known as `foldr`.\nexport default createReduce(-1);\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// Return all the elements that pass a truth test.\nexport default function filter(obj, predicate, context) {\n  var results = [];\n  predicate = cb(predicate, context);\n  each(obj, function(value, index, list) {\n    if (predicate(value, index, list)) results.push(value);\n  });\n  return results;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine whether all of the elements pass a truth test.\nexport default function every(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (!predicate(obj[currentKey], currentKey, obj)) return false;\n  }\n  return true;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine if at least one element in the object passes a truth test.\nexport default function some(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (predicate(obj[currentKey], currentKey, obj)) return true;\n  }\n  return false;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport indexOf from './indexOf.js';\n\n// Determine if the array or object contains a given item (using `===`).\nexport default function contains(obj, item, fromIndex, guard) {\n  if (!isArrayLike(obj)) obj = values(obj);\n  if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n  return indexOf(obj, item, fromIndex) >= 0;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport map from './map.js';\nimport deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Invoke a method (with arguments) on every item in a collection.\nexport default restArguments(function(obj, path, args) {\n  var contextPath, func;\n  if (isFunction(path)) {\n    func = path;\n  } else {\n    path = toPath(path);\n    contextPath = path.slice(0, -1);\n    path = path[path.length - 1];\n  }\n  return map(obj, function(context) {\n    var method = func;\n    if (!method) {\n      if (contextPath && contextPath.length) {\n        context = deepGet(context, contextPath);\n      }\n      if (context == null) return void 0;\n      method = context[path];\n    }\n    return method == null ? method : method.apply(context, args);\n  });\n});\n","import map from './map.js';\nimport property from './property.js';\n\n// Convenience version of a common use case of `_.map`: fetching a property.\nexport default function pluck(obj, key) {\n  return map(obj, property(key));\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the maximum element (or element-based computation).\nexport default function max(obj, iteratee, context) {\n  var result = -Infinity, lastComputed = -Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value > result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed > lastComputed || (computed === -Infinity && result === -Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArray from './isArray.js';\nimport { slice } from './_setup.js';\nimport isString from './isString.js';\nimport isArrayLike from './_isArrayLike.js';\nimport map from './map.js';\nimport identity from './identity.js';\nimport values from './values.js';\n\n// Safely create a real, live array from anything iterable.\nvar reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\nexport default function toArray(obj) {\n  if (!obj) return [];\n  if (isArray(obj)) return slice.call(obj);\n  if (isString(obj)) {\n    // Keep surrogate pair characters together.\n    return obj.match(reStrSymbol);\n  }\n  if (isArrayLike(obj)) return map(obj, identity);\n  return values(obj);\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport getLength from './_getLength.js';\nimport random from './random.js';\nimport toArray from './toArray.js';\n\n// Sample **n** random values from a collection using the modern version of the\n// [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n// If **n** is not specified, returns a single random element.\n// The internal `guard` argument allows it to work with `_.map`.\nexport default function sample(obj, n, guard) {\n  if (n == null || guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    return obj[random(obj.length - 1)];\n  }\n  var sample = toArray(obj);\n  var length = getLength(sample);\n  n = Math.max(Math.min(n, length), 0);\n  var last = length - 1;\n  for (var index = 0; index < n; index++) {\n    var rand = random(index, last);\n    var temp = sample[index];\n    sample[index] = sample[rand];\n    sample[rand] = temp;\n  }\n  return sample.slice(0, n);\n}\n","import sample from './sample.js';\n\n// Shuffle a collection.\nexport default function shuffle(obj) {\n  return sample(obj, Infinity);\n}\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// An internal function used for aggregate \"group by\" operations.\nexport default function group(behavior, partition) {\n  return function(obj, iteratee, context) {\n    var result = partition ? [[], []] : {};\n    iteratee = cb(iteratee, context);\n    each(obj, function(value, index) {\n      var key = iteratee(value, index, obj);\n      behavior(result, value, key);\n    });\n    return result;\n  };\n}\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Groups the object's values by a criterion. Pass either a string attribute\n// to group by, or a function that returns the criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key].push(value); else result[key] = [value];\n});\n","import group from './_group.js';\n\n// Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n// when you know that your index values will be unique.\nexport default group(function(result, value, key) {\n  result[key] = value;\n});\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Counts instances of an object that group by a certain criterion. Pass\n// either a string attribute to count by, or a function that returns the\n// criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key]++; else result[key] = 1;\n});\n","import group from './_group.js';\n\n// Split a collection into two arrays: one whose elements all pass the given\n// truth test, and one whose elements all do not pass the truth test.\nexport default group(function(result, value, pass) {\n  result[pass ? 0 : 1].push(value);\n}, true);\n","// Internal `_.pick` helper function to determine whether `key` is an enumerable\n// property name of `obj`.\nexport default function keyInObj(value, key, obj) {\n  return key in obj;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport optimizeCb from './_optimizeCb.js';\nimport allKeys from './allKeys.js';\nimport keyInObj from './_keyInObj.js';\nimport flatten from './_flatten.js';\n\n// Return a copy of the object only containing the allowed properties.\nexport default restArguments(function(obj, keys) {\n  var result = {}, iteratee = keys[0];\n  if (obj == null) return result;\n  if (isFunction(iteratee)) {\n    if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n    keys = allKeys(obj);\n  } else {\n    iteratee = keyInObj;\n    keys = flatten(keys, false, false);\n    obj = Object(obj);\n  }\n  for (var i = 0, length = keys.length; i < length; i++) {\n    var key = keys[i];\n    var value = obj[key];\n    if (iteratee(value, key, obj)) result[key] = value;\n  }\n  return result;\n});\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport negate from './negate.js';\nimport map from './map.js';\nimport flatten from './_flatten.js';\nimport contains from './contains.js';\nimport pick from './pick.js';\n\n// Return a copy of the object without the disallowed properties.\nexport default restArguments(function(obj, keys) {\n  var iteratee = keys[0], context;\n  if (isFunction(iteratee)) {\n    iteratee = negate(iteratee);\n    if (keys.length > 1) context = keys[1];\n  } else {\n    keys = map(flatten(keys, false, false), String);\n    iteratee = function(value, key) {\n      return !contains(keys, key);\n    };\n  }\n  return pick(obj, iteratee, context);\n});\n","import { slice } from './_setup.js';\n\n// Returns everything but the last entry of the array. Especially useful on\n// the arguments object. Passing **n** will return all the values in\n// the array, excluding the last N.\nexport default function initial(array, n, guard) {\n  return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n}\n","import initial from './initial.js';\n\n// Get the first element of an array. Passing **n** will return the first N\n// values in the array. The **guard** check allows it to work with `_.map`.\nexport default function first(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[0];\n  return initial(array, array.length - n);\n}\n","import { slice } from './_setup.js';\n\n// Returns everything but the first entry of the `array`. Especially useful on\n// the `arguments` object. Passing an **n** will return the rest N values in the\n// `array`.\nexport default function rest(array, n, guard) {\n  return slice.call(array, n == null || guard ? 1 : n);\n}\n","import _flatten from './_flatten.js';\n\n// Flatten out an array, either recursively (by default), or up to `depth`.\n// Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\nexport default function flatten(array, depth) {\n  return _flatten(array, depth, false);\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport filter from './filter.js';\nimport contains from './contains.js';\n\n// Take the difference between one array and a number of other arrays.\n// Only the elements present in just the first array will remain.\nexport default restArguments(function(array, rest) {\n  rest = flatten(rest, true, true);\n  return filter(array, function(value){\n    return !contains(rest, value);\n  });\n});\n","import restArguments from './restArguments.js';\nimport difference from './difference.js';\n\n// Return a version of the array that does not contain the specified value(s).\nexport default restArguments(function(array, otherArrays) {\n  return difference(array, otherArrays);\n});\n","import isBoolean from './isBoolean.js';\nimport cb from './_cb.js';\nimport getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce a duplicate-free version of the array. If the array has already\n// been sorted, you have the option of using a faster algorithm.\n// The faster algorithm will not work with an iteratee if the iteratee\n// is not a one-to-one function, so providing an iteratee will disable\n// the faster algorithm.\nexport default function uniq(array, isSorted, iteratee, context) {\n  if (!isBoolean(isSorted)) {\n    context = iteratee;\n    iteratee = isSorted;\n    isSorted = false;\n  }\n  if (iteratee != null) iteratee = cb(iteratee, context);\n  var result = [];\n  var seen = [];\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var value = array[i],\n        computed = iteratee ? iteratee(value, i, array) : value;\n    if (isSorted && !iteratee) {\n      if (!i || seen !== computed) result.push(value);\n      seen = computed;\n    } else if (iteratee) {\n      if (!contains(seen, computed)) {\n        seen.push(computed);\n        result.push(value);\n      }\n    } else if (!contains(result, value)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport uniq from './uniq.js';\nimport flatten from './_flatten.js';\n\n// Produce an array that contains the union: each distinct element from all of\n// the passed-in arrays.\nexport default restArguments(function(arrays) {\n  return uniq(flatten(arrays, true, true));\n});\n","import max from './max.js';\nimport getLength from './_getLength.js';\nimport pluck from './pluck.js';\n\n// Complement of zip. Unzip accepts an array of arrays and groups\n// each array's elements on shared indices.\nexport default function unzip(array) {\n  var length = (array && max(array, getLength).length) || 0;\n  var result = Array(length);\n\n  for (var index = 0; index < length; index++) {\n    result[index] = pluck(array, index);\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport unzip from './unzip.js';\n\n// Zip together multiple lists into a single array -- elements that share\n// an index go together.\nexport default restArguments(unzip);\n","// Generate an integer Array containing an arithmetic progression. A port of\n// the native Python `range()` function. See\n// [the Python documentation](https://docs.python.org/library/functions.html#range).\nexport default function range(start, stop, step) {\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (!step) {\n    step = stop < start ? -1 : 1;\n  }\n\n  var length = Math.max(Math.ceil((stop - start) / step), 0);\n  var range = Array(length);\n\n  for (var idx = 0; idx < length; idx++, start += step) {\n    range[idx] = start;\n  }\n\n  return range;\n}\n","import _ from './underscore.js';\n\n// Helper function to continue chaining intermediate results.\nexport default function chainResult(instance, obj) {\n  return instance._chain ? _(obj).chain() : obj;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport functions from './functions.js';\nimport { push } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add your own custom functions to the Underscore object.\nexport default function mixin(obj) {\n  each(functions(obj), function(name) {\n    var func = _[name] = obj[name];\n    _.prototype[name] = function() {\n      var args = [this._wrapped];\n      push.apply(args, arguments);\n      return chainResult(this, func.apply(_, args));\n    };\n  });\n  return _;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport { ArrayProto } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add all mutator `Array` functions to the wrapper.\neach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) {\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n        delete obj[0];\n      }\n    }\n    return chainResult(this, obj);\n  };\n});\n\n// Add all accessor `Array` functions to the wrapper.\neach(['concat', 'join', 'slice'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) obj = method.apply(obj, arguments);\n    return chainResult(this, obj);\n  };\n});\n\nexport default _;\n","// Is a given value a DOM element?\nexport default function isElement(obj) {\n  return !!(obj && obj.nodeType === 1);\n}\n","import { _isFinite } from './_setup.js';\nimport isSymbol from './isSymbol.js';\n\n// Is a given object a finite number?\nexport default function isFinite(obj) {\n  return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n}\n","import getLength from './_getLength.js';\nimport isArray from './isArray.js';\nimport isString from './isString.js';\nimport isArguments from './isArguments.js';\nimport keys from './keys.js';\n\n// Is a given array, string, or object empty?\n// An \"empty\" object has no enumerable own-properties.\nexport default function isEmpty(obj) {\n  if (obj == null) return true;\n  // Skip the more expensive `toString`-based type checks if `obj` has no\n  // `.length`.\n  var length = getLength(obj);\n  if (typeof length == 'number' && (\n    isArray(obj) || isString(obj) || isArguments(obj)\n  )) return length === 0;\n  return getLength(keys(obj)) === 0;\n}\n","import keys from './keys.js';\n\n// Convert an object into a list of `[key, value]` pairs.\n// The opposite of `_.object` with one argument.\nexport default function pairs(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var pairs = Array(length);\n  for (var i = 0; i < length; i++) {\n    pairs[i] = [_keys[i], obj[_keys[i]]];\n  }\n  return pairs;\n}\n","import baseCreate from './_baseCreate.js';\nimport extendOwn from './extendOwn.js';\n\n// Creates an object that inherits from the given prototype object.\n// If additional properties are provided then they will be added to the\n// created object.\nexport default function create(prototype, props) {\n  var result = baseCreate(prototype);\n  if (props) extendOwn(result, props);\n  return result;\n}\n","// Invokes `interceptor` with the `obj` and then returns `obj`.\n// The primary purpose of this method is to \"tap into\" a method chain, in\n// order to perform operations on intermediate results within the chain.\nexport default function tap(obj, interceptor) {\n  interceptor(obj);\n  return obj;\n}\n","import _has from './_has.js';\nimport toPath from './_toPath.js';\n\n// Shortcut function for checking if an object has a given property directly on\n// itself (in other words, not on a prototype). Unlike the internal `has`\n// function, this public version can also traverse nested properties.\nexport default function has(obj, path) {\n  path = toPath(path);\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    var key = path[i];\n    if (!_has(obj, key)) return false;\n    obj = obj[key];\n  }\n  return !!length;\n}\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the results of applying the `iteratee` to each element of `obj`.\n// In contrast to `_.map` it returns an object.\nexport default function mapObject(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = keys(obj),\n      length = _keys.length,\n      results = {};\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys[index];\n    results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","import noop from './noop.js';\nimport get from './get.js';\n\n// Generates a function for a given object that returns a given property.\nexport default function propertyOf(obj) {\n  if (obj == null) return noop;\n  return function(path) {\n    return get(obj, path);\n  };\n}\n","import optimizeCb from './_optimizeCb.js';\n\n// Run a function **n** times.\nexport default function times(n, iteratee, context) {\n  var accum = Array(Math.max(0, n));\n  iteratee = optimizeCb(iteratee, context, 1);\n  for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n  return accum;\n}\n","import isFunction from './isFunction.js';\nimport toPath from './_toPath.js';\n\n// Traverses the children of `obj` along `path`. If a child is a function, it\n// is invoked with its parent as context. Returns the value of the final\n// child, or `fallback` if any child is undefined.\nexport default function result(obj, path, fallback) {\n  path = toPath(path);\n  var length = path.length;\n  if (!length) {\n    return isFunction(fallback) ? fallback.call(obj) : fallback;\n  }\n  for (var i = 0; i < length; i++) {\n    var prop = obj == null ? void 0 : obj[path[i]];\n    if (prop === void 0) {\n      prop = fallback;\n      i = length; // Ensure we don't continue iterating.\n    }\n    obj = isFunction(prop) ? prop.call(obj) : prop;\n  }\n  return obj;\n}\n","import _ from './underscore.js';\n\n// Start chaining a wrapped Underscore object.\nexport default function chain(obj) {\n  var instance = _(obj);\n  instance._chain = true;\n  return instance;\n}\n","import has from './_has.js';\n\n// Memoize an expensive function by storing its results.\nexport default function memoize(func, hasher) {\n  var memoize = function(key) {\n    var cache = memoize.cache;\n    var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n    if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n    return cache[address];\n  };\n  memoize.cache = {};\n  return memoize;\n}\n","import now from './now.js';\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nexport default function throttle(func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function() {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function() {\n    var _now = now();\n    if (!previous && options.leading === false) previous = _now;\n    var remaining = wait - (_now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = _now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  throttled.cancel = function() {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n","import restArguments from './restArguments.js';\nimport now from './now.js';\n\n// When a sequence of calls of the returned function ends, the argument\n// function is triggered. The end of a sequence is defined by the `wait`\n// parameter. If `immediate` is passed, the argument function will be\n// triggered at the beginning of the sequence instead of at the end.\nexport default function debounce(func, wait, immediate) {\n  var timeout, previous, args, result, context;\n\n  var later = function() {\n    var passed = now() - previous;\n    if (wait > passed) {\n      timeout = setTimeout(later, wait - passed);\n    } else {\n      timeout = null;\n      if (!immediate) result = func.apply(context, args);\n      // This check is needed because `func` can recursively invoke `debounced`.\n      if (!timeout) args = context = null;\n    }\n  };\n\n  var debounced = restArguments(function(_args) {\n    context = this;\n    args = _args;\n    previous = now();\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n      if (immediate) result = func.apply(context, args);\n    }\n    return result;\n  });\n\n  debounced.cancel = function() {\n    clearTimeout(timeout);\n    timeout = args = context = null;\n  };\n\n  return debounced;\n}\n","import partial from './partial.js';\n\n// Returns the first function passed as an argument to the second,\n// allowing you to adjust arguments, run code before and after, and\n// conditionally execute the original function.\nexport default function wrap(func, wrapper) {\n  return partial(wrapper, func);\n}\n","// Returns a function that is the composition of a list of functions, each\n// consuming the return value of the function that follows.\nexport default function compose() {\n  var args = arguments;\n  var start = args.length - 1;\n  return function() {\n    var i = start;\n    var result = args[start].apply(this, arguments);\n    while (i--) result = args[i].call(this, result);\n    return result;\n  };\n}\n","// Returns a function that will only be executed on and after the Nth call.\nexport default function after(times, func) {\n  return function() {\n    if (--times < 1) {\n      return func.apply(this, arguments);\n    }\n  };\n}\n","import find from './find.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.find`: getting the first\n// object containing specific `key:value` pairs.\nexport default function findWhere(obj, attrs) {\n  return find(obj, matcher(attrs));\n}\n","import filter from './filter.js';\nimport negate from './negate.js';\nimport cb from './_cb.js';\n\n// Return all the elements for which a truth test fails.\nexport default function reject(obj, predicate, context) {\n  return filter(obj, negate(cb(predicate)), context);\n}\n","import filter from './filter.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.filter`: selecting only\n// objects containing specific `key:value` pairs.\nexport default function where(obj, attrs) {\n  return filter(obj, matcher(attrs));\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the minimum element (or element-based computation).\nexport default function min(obj, iteratee, context) {\n  var result = Infinity, lastComputed = Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value < result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed < lastComputed || (computed === Infinity && result === Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import cb from './_cb.js';\nimport pluck from './pluck.js';\nimport map from './map.js';\n\n// Sort the object's values by a criterion produced by an iteratee.\nexport default function sortBy(obj, iteratee, context) {\n  var index = 0;\n  iteratee = cb(iteratee, context);\n  return pluck(map(obj, function(value, key, list) {\n    return {\n      value: value,\n      index: index++,\n      criteria: iteratee(value, key, list)\n    };\n  }).sort(function(left, right) {\n    var a = left.criteria;\n    var b = right.criteria;\n    if (a !== b) {\n      if (a > b || a === void 0) return 1;\n      if (a < b || b === void 0) return -1;\n    }\n    return left.index - right.index;\n  }), 'value');\n}\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the number of elements in a collection.\nexport default function size(obj) {\n  if (obj == null) return 0;\n  return isArrayLike(obj) ? obj.length : keys(obj).length;\n}\n","import rest from './rest.js';\n\n// Get the last element of an array. Passing **n** will return the last N\n// values in the array.\nexport default function last(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[array.length - 1];\n  return rest(array, Math.max(0, array.length - n));\n}\n","import filter from './filter.js';\n\n// Trim out all falsy values from an array.\nexport default function compact(array) {\n  return filter(array, Boolean);\n}\n","import getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce an array that contains every item shared between all the\n// passed-in arrays.\nexport default function intersection(array) {\n  var result = [];\n  var argsLength = arguments.length;\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var item = array[i];\n    if (contains(result, item)) continue;\n    var j;\n    for (j = 1; j < argsLength; j++) {\n      if (!contains(arguments[j], item)) break;\n    }\n    if (j === argsLength) result.push(item);\n  }\n  return result;\n}\n","import getLength  from './_getLength.js';\n\n// Converts lists into objects. Pass either a single array of `[key, value]`\n// pairs, or two parallel arrays of the same length -- one of keys, and one of\n// the corresponding values. Passing by pairs is the reverse of `_.pairs`.\nexport default function object(list, values) {\n  var result = {};\n  for (var i = 0, length = getLength(list); i < length; i++) {\n    if (values) {\n      result[list[i]] = values[i];\n    } else {\n      result[list[i][0]] = list[i][1];\n    }\n  }\n  return result;\n}\n","import { slice } from './_setup.js';\n\n// Chunk a single array into multiple arrays, each containing `count` or fewer\n// items.\nexport default function chunk(array, count) {\n  if (count == null || count < 1) return [];\n  var result = [];\n  var i = 0, length = array.length;\n  while (i < length) {\n    result.push(slice.call(array, i, i += count));\n  }\n  return result;\n}\n","// Default Export\n// ==============\n// In this module, we mix our bundled exports into the `_` object and export\n// the result. This is analogous to setting `module.exports = _` in CommonJS.\n// Hence, this module is also the entry point of our UMD bundle and the package\n// entry point for CommonJS and AMD users. In other words, this is (the source\n// of) the module you are interfacing with when you do any of the following:\n//\n// ```js\n// // CommonJS\n// var _ = require('underscore');\n//\n// // AMD\n// define(['underscore'], function(_) {...});\n//\n// // UMD in the browser\n// // _ is available as a global variable\n// ```\nimport * as allExports from './index.js';\nimport { mixin } from './index.js';\n\n// Add all of the Underscore functions to the wrapper object.\nvar _ = mixin(allExports);\n// Legacy Node.js API.\n_._ = _;\n// Export the Underscore API.\nexport default _;\n","import { formatDelimited, guessDelimiterFromLocale } from '../utils/delimited.mjs';\nimport { isString, range, each } from 'underscore';\n\n/*\n * Dataset class\n * @class dw.Dataset\n *\n * @param {dw.Column[]} columns\n */\nexport default function Dataset(columns) {\n    // make column names unique\n    const columnsByName = {};\n    const origColumns = columns.slice(0);\n\n    columns.forEach(col => {\n        uniqueName(col);\n        columnsByName[col.name()] = col;\n    });\n\n    // sets a unique name for a column\n    function uniqueName(col) {\n        const origColName = col.name();\n        let baseColName, suffix, colName;\n        if (origColName) {\n            baseColName = origColName;\n            suffix = 0;\n            colName = baseColName;\n        } else {\n            baseColName = 'X';\n            suffix = 1;\n            colName = `${baseColName}.${suffix}`;\n        }\n        while (Object.prototype.hasOwnProperty.call(columnsByName, colName)) {\n            colName = `${baseColName}.${++suffix}`;\n        }\n        if (colName !== origColName) {\n            col.name(colName, origColName);\n        }\n    }\n\n    // public interface\n    const dataset = {\n        /**\n         * returns all columns of the dataset\n         * @returns {dw.Column[]}\n         */\n        columns() {\n            return columns;\n        },\n\n        /**\n         * returns a specific column by name or index\n         *\n         * @param {string|number} nameOrIndex -- the name or index of the column to return\n         * @returns {dw.Column}\n         */\n        column(nameOrIndex) {\n            if (isString(nameOrIndex)) {\n                // single column by name\n                if (columnsByName[nameOrIndex] !== undefined) return columnsByName[nameOrIndex];\n                throw new Error('No column found with that name: \"' + nameOrIndex + '\"');\n            } else {\n                if (nameOrIndex < 0) {\n                    return;\n                }\n            }\n\n            // single column by index\n            if (columns[nameOrIndex] !== undefined) return columns[nameOrIndex];\n            throw new Error('No column found with that name or index: ' + nameOrIndex);\n        },\n\n        /**\n         * returns the number of columns in the dataset\n         * @returns {number}\n         */\n        numColumns() {\n            return columns.length;\n        },\n\n        /**\n         * returns the number of rows in the dataset\n         * @returns {number}\n         */\n        numRows() {\n            return columns.length ? columns[0].length : 0;\n        },\n\n        /** calls a function for each column of the dataset */\n        eachColumn(func) {\n            columns.forEach(func);\n        },\n\n        /**\n         * tests if a column name or index exists\n         *\n         * @param {string|number} nameOrIndex -- the name or index of the column\n         * @returns {boolean}\n         */\n        hasColumn(nameOrIndex) {\n            return (\n                (isString(nameOrIndex) ? columnsByName[nameOrIndex] : columns[nameOrIndex]) !==\n                undefined\n            );\n        },\n\n        /**\n         * returns the index of a column\n         * @param {string} columnName\n         * @returns {number}\n         */\n        indexOf(columnName) {\n            if (!dataset.hasColumn(columnName)) return -1;\n            return columns.indexOf(columnsByName[columnName]);\n        },\n\n        /**\n         * returns a D3 friendly list of plain objects\n         * @returns {object[]}\n         */\n        list() {\n            if (!columns.length) {\n                return [];\n            }\n            return range(columns[0].length).map(dataset.row);\n        },\n\n        /**\n         * returns an object containing the column values of the row\n         * @param {number} index the row index\n         * @returns {object}\n         */\n        row(index) {\n            if (!columns.length || index >= columns[0].length) {\n                return {};\n            }\n            const o = {};\n            columns.forEach(col => {\n                o[col.name()] = col.val(index);\n            });\n            return o;\n        },\n\n        /**\n         * returns a CSV string representation of the dataset\n         * @param {Object} opt -- options\n         * @param {boolean} [opt.includeComputedColumns=true] -- include computed columns in the CSV\n         * @param {boolean} [opt.includeHeader=true] -- include header row in the CSV\n         * @param {string} [opt.numeral=null] -- format numbers using this Numeral.js instance\n         * @returns {string}\n         */\n        csv({\n            includeComputedColumns = true,\n            includeHeader = true,\n            includeOrder = true,\n            includeFiltered = false,\n            numeral = null,\n            ...opts\n        } = {}) {\n            if (!columns.length) {\n                return '';\n            }\n            const numRows = dataset.numRows();\n            const cols = includeOrder ? columns : origColumns;\n            const filteredColumns = cols.filter(col => {\n                if (!includeComputedColumns && col.isComputed) {\n                    return false;\n                }\n                if (!includeFiltered && columns.indexOf(col) === -1) {\n                    return false;\n                }\n                return true;\n            });\n            const table = filteredColumns.map(col => [\n                ...(includeHeader ? [col.title()] : []),\n                ...col.formatted(numeral)\n            ]);\n            const rows = table[0].map((_, i) => table.map(row => row[i])).slice(0, numRows + 1);\n            if (!opts.delimiter && numeral) {\n                opts.delimiter = guessDelimiterFromLocale(numeral);\n            }\n            return formatDelimited(rows, opts);\n        },\n\n        /**\n         * @alias csv\n         * @deprecated\n         */\n        toCSV() {\n            return this.csv(...arguments);\n        },\n\n        /**\n         * removes ignored columns from dataset\n         * @param {object} ignore -- object of column names to ignore\n         */\n        filterColumns(ignore) {\n            columns = columns.filter(c => !ignore[c.name()]);\n            each(ignore, (ign, key) => {\n                if (ign && columnsByName[key]) delete columnsByName[key];\n            });\n            return dataset;\n        },\n\n        /**\n         * executes func for each row of the dataset\n         */\n        eachRow(func) {\n            var i;\n            for (i = 0; i < dataset.numRows(); i++) {\n                func(i);\n            }\n            return dataset;\n        },\n\n        /**\n         * adds a new column to the dataset\n         * @param {dw.Column} column\n         */\n        add(column) {\n            uniqueName(column);\n            columns.push(column);\n            columnsByName[column.name()] = column;\n            origColumns.push(column);\n            return dataset;\n        },\n\n        /**\n         * cuts each column in the dataset to a maximum number of rows\n         * @param {number} numRows\n         * @returns {dw.Dataset}\n         */\n        limitRows(numRows) {\n            columns.forEach(col => {\n                col.limitRows(numRows);\n            });\n            return dataset;\n        },\n\n        /**\n         * cuts the number of columns to a maximum value\n         * @param {number} numCols\n         * @returns {dw.Dataset}\n         */\n        limitColumns(numCols) {\n            if (columns.length > numCols) {\n                columns.length = numCols;\n                origColumns.length = numCols;\n            }\n            return dataset;\n        },\n\n        /**\n         * Sorts columns according to give `sortOrder`.\n         *\n         * Columns that don't appear in `sortOrder` will be put at the end.\n         *\n         * @param {number[]} sortOrder -- array of original column indexes in the desired order\n         */\n        columnOrder(sortOrder) {\n            if (arguments.length) {\n                const columnsWithNewIndexes = columns.map((column, i) => {\n                    const newIndex = sortOrder.indexOf(i);\n                    return [column, newIndex !== -1 ? newIndex : columns.length];\n                });\n                columns = columnsWithNewIndexes.sort((a, b) => a[1] - b[1]).map(x => x[0]);\n                return dataset;\n            }\n            return columns.map(function (c) {\n                return origColumns.indexOf(c);\n            });\n        },\n\n        /**\n         * make sure all columns have the same number of rows\n         *\n         * pad with empty string by default, because that's a neutral value that doesn't make the\n         * cell invalid\n         *\n         * @param {*} [value=''] -- pad short columns with this value\n         */\n        align(value = '') {\n            const maxNumRows = Math.max(...columns.map(column => column.length));\n            for (const column of columns) {\n                const padding = Array(maxNumRows - column.length).fill(value);\n                column.add(...padding);\n            }\n        },\n\n        /**\n         * create a copy of the dataset\n         * @returns {dw.Dataset}\n         */\n        clone() {\n            return Dataset(columns.map(column => column.clone()));\n        },\n\n        /**\n         * remove all rows from all columns of the dataset\n         */\n        clear() {\n            for (const column of columns) {\n                column.clear();\n            }\n        },\n\n        /**\n         * deletes one or more rows from dataset\n         * @param {...number} rowIndex\n         * @returns {dw.Dataset}\n         */\n        deleteRow(...rowIndexes) {\n            rowIndexes.sort();\n            for (const column of columns) {\n                let numDeleted = 0;\n                rowIndexes.forEach(rowIndex => {\n                    const deletedRows = column.deleteRow(rowIndex - numDeleted);\n                    numDeleted += deletedRows.length;\n                });\n            }\n            return dataset;\n        }\n    };\n\n    return dataset;\n}\n","import { each, flatten, values, isRegExp, isDate, isUndefined, isString } from 'underscore';\n\nconst begin = /^ */.source;\nconst end = /[*']* *$/.source;\nconst s0 = /[ \\-/.]?/.source; // optional separator\nconst s1 = /[ \\-/.]/.source; // mandatory separator\nconst s2 = /[ \\-/.;,]/.source; // mandatory separator\nconst s3 = /[ \\-|T]/.source; // mandatory separator\nconst sM = /[ \\-/.m]/.source; // mandatory separator\nconst rx = {\n    YY: { parse: /['’‘]?(\\d{2})/ },\n    YYYY: { test: /([12]\\d{3})/, parse: /(\\d{4})/ },\n    YYYY2: { test: /(?:1[7-9]|20)\\d{2}/, parse: /(\\d{4})/ },\n    H: { parse: /h([12])/ },\n    Q: { parse: /q([1234])/ },\n    W: { parse: /w([0-5]?[0-9])/ },\n    MM: { test: /(0?[1-9]|1[0-2])/, parse: /(0?[1-9]|1[0-2])/ },\n    DD: { parse: /(0?[1-9]|[1-2][0-9]|3[01])/ },\n    DOW: { parse: /([0-7])/ },\n    HHMM: { parse: /(0?\\d|1\\d|2[0-3]):([0-5]\\d)(?::([0-5]\\d))? *(am|pm)?/ }\n};\n\nconst MONTHS = {\n    // feel free to add more localized month names\n    0: [\n        'jan',\n        'january',\n        'januar',\n        'jänner',\n        'jän',\n        'janv',\n        'janvier',\n        'ene',\n        'enero',\n        'gen',\n        'gennaio',\n        'janeiro'\n    ],\n    1: [\n        'feb',\n        'february',\n        'febr',\n        'februar',\n        'fév',\n        'févr',\n        'février',\n        'febrero',\n        'febbraio',\n        'fev',\n        'fevereiro'\n    ],\n    2: ['mar', 'mär', 'march', 'mrz', 'märz', 'mars', 'mars', 'marzo', 'marzo', 'março'],\n    3: ['apr', 'april', 'apr', 'april', 'avr', 'avril', 'abr', 'abril', 'aprile'],\n    4: ['may', 'mai', 'mayo', 'mag', 'maggio', 'maio', 'maj'],\n    5: ['jun', 'june', 'juni', 'juin', 'junio', 'giu', 'giugno', 'junho'],\n    6: ['jul', 'july', 'juli', 'juil', 'juillet', 'julio', 'lug', 'luglio', 'julho'],\n    7: ['aug', 'august', 'août', 'ago', 'agosto'],\n    8: ['sep', 'september', 'sept', 'septembre', 'septiembre', 'set', 'settembre', 'setembro'],\n    9: [\n        'oct',\n        'october',\n        'okt',\n        'oktober',\n        'octobre',\n        'octubre',\n        'ott',\n        'ottobre',\n        'out',\n        'outubro'\n    ],\n    10: ['nov', 'november', 'november', 'novembre', 'noviembre', 'novembre', 'novembro'],\n    11: [\n        'dec',\n        'december',\n        'dez',\n        'des',\n        'dezember',\n        'déc',\n        'décembre',\n        'dic',\n        'diciembre',\n        'dicembre',\n        'desember',\n        'dezembro'\n    ]\n};\nconst shortMonthKey = {};\n\neach(MONTHS, function (abbr, m) {\n    each(abbr, function (a) {\n        shortMonthKey[a] = m;\n    });\n});\n\nrx.MMM = { parse: new RegExp('(' + flatten(values(MONTHS)).join('|') + ')') };\n\neach(rx, function (r) {\n    r.parse = r.parse.source;\n    if (isRegExp(r.test)) r.test = r.test.source;\n    else r.test = r.parse;\n});\n\nvar knownFormats = {\n    // each format has two regex, a strict one for format guessing\n    // based on a sample and a lazy one for parsing\n    YYYY: {\n        test: reg(rx.YYYY2.test),\n        parse: reg(rx.YYYY2.parse),\n        precision: 'year'\n    },\n    'YYYY-H': {\n        test: reg(rx.YYYY.test, s0, rx.H.test),\n        parse: reg(rx.YYYY.parse, s0, rx.H.parse),\n        precision: 'half'\n    },\n    'H-YYYY': {\n        test: reg(rx.H.test, s1, rx.YYYY.test),\n        parse: reg(rx.H.parse, s1, rx.YYYY.parse),\n        precision: 'half'\n    },\n    'YYYY-Q': {\n        test: reg(rx.YYYY.test, s0, rx.Q.test),\n        parse: reg(rx.YYYY.parse, s0, rx.Q.parse),\n        precision: 'quarter'\n    },\n    'Q-YYYY': {\n        test: reg(rx.Q.test, s1, rx.YYYY.test),\n        parse: reg(rx.Q.parse, s1, rx.YYYY.parse),\n        precision: 'quarter'\n    },\n    'YYYY-M': {\n        test: reg(rx.YYYY.test, sM, rx.MM.test),\n        parse: reg(rx.YYYY.parse, sM, rx.MM.parse),\n        precision: 'month'\n    },\n    'M-YYYY': {\n        test: reg(rx.MM.test, s1, rx.YYYY.test),\n        parse: reg(rx.MM.parse, s1, rx.YYYY.parse),\n        precision: 'month'\n    },\n    'YYYY-MMM': {\n        test: reg(rx.YYYY.test, s1, rx.MMM.parse),\n        parse: reg(rx.YYYY.parse, s1, rx.MMM.parse),\n        precision: 'month'\n    },\n    'MMM-YYYY': {\n        test: reg(rx.MMM.parse, s1, rx.YYYY.test),\n        parse: reg(rx.MMM.parse, s1, rx.YYYY.parse),\n        precision: 'month'\n    },\n    'MMM-YY': {\n        test: reg(rx.MMM.parse, s1, rx.YY.test),\n        parse: reg(rx.MMM.parse, s1, rx.YY.parse),\n        precision: 'month'\n    },\n    MMM: {\n        test: reg(rx.MMM.parse),\n        parse: reg(rx.MMM.parse),\n        precision: 'month'\n    },\n    'YYYY-WW': {\n        test: reg(rx.YYYY.test, s0, rx.W.test),\n        parse: reg(rx.YYYY.parse, s0, rx.W.parse),\n        precision: 'week'\n    },\n    'WW-YYYY': {\n        test: reg(rx.W.test, s1, rx.YYYY.test),\n        parse: reg(rx.W.parse, s1, rx.YYYY.parse),\n        precision: 'week'\n    },\n    'MM/DD/YYYY': {\n        test: reg(rx.MM.test, '([\\\\-\\\\/])', rx.DD.test, '\\\\2', rx.YYYY.test),\n        parse: reg(rx.MM.parse, '([\\\\-\\\\/])', rx.DD.parse, '\\\\2', rx.YYYY.parse),\n        precision: 'day'\n    },\n    'MM/DD/YY': {\n        test: reg(rx.MM.test, '([\\\\-\\\\/])', rx.DD.test, '\\\\2', rx.YY.test),\n        parse: reg(rx.MM.parse, '([\\\\-\\\\/])', rx.DD.parse, '\\\\2', rx.YY.parse),\n        precision: 'day'\n    },\n    'DD/MM/YY': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.YY.test),\n        parse: reg(rx.DD.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MM.parse, '\\\\2', rx.YY.parse),\n        precision: 'day'\n    },\n    'DD/MM/YYYY': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.YYYY.test),\n        parse: reg(rx.DD.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MM.parse, '\\\\2', rx.YYYY.parse),\n        precision: 'day'\n    },\n    'DD/MMM/YYYY': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MMM.test, '\\\\2', rx.YYYY.test),\n        parse: reg(rx.DD.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MMM.parse, '\\\\2', rx.YYYY.parse),\n        precision: 'day'\n    },\n    'DD/MMM/YY': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MMM.test, '\\\\2', rx.YY.test),\n        parse: reg(rx.DD.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MMM.parse, '\\\\2', rx.YY.parse),\n        precision: 'day'\n    },\n    'YYYY-MM-DD': {\n        test: reg(rx.YYYY.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.DD.test),\n        parse: reg(rx.YYYY.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MM.parse, '\\\\2', rx.DD.parse),\n        precision: 'day'\n    },\n\n    'MMM-DD-YYYY': {\n        test: reg(rx.MMM.test, s1, rx.DD.test, s2, rx.YYYY.test),\n        parse: reg(rx.MMM.parse, s1, rx.DD.parse, s2, rx.YYYY.parse),\n        precision: 'day'\n    },\n\n    'YYYY-WW-d': {\n        // year + ISO week + [day]\n        test: reg(rx.YYYY.test, s0, rx.W.test, s1, rx.DOW.test),\n        parse: reg(rx.YYYY.parse, s0, rx.W.parse, s1, rx.DOW.parse),\n        precision: 'day'\n    },\n\n    // dates with a time\n    'MM/DD/YYYY HH:MM': {\n        test: reg(rx.MM.test, '([\\\\-\\\\/])', rx.DD.test, '\\\\2', rx.YYYY.test, s3, rx.HHMM.test),\n        parse: reg(rx.MM.parse, '([\\\\-\\\\/])', rx.DD.parse, '\\\\2', rx.YYYY.parse, s3, rx.HHMM.parse),\n        precision: 'day-minutes'\n    },\n    'DD.MM.YYYY HH:MM': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.YYYY.test, s3, rx.HHMM.test),\n        parse: reg(\n            rx.DD.parse,\n            '([\\\\-\\\\.\\\\/ ?])',\n            rx.MM.parse,\n            '\\\\2',\n            rx.YYYY.parse,\n            s3,\n            rx.HHMM.parse\n        ),\n        precision: 'day-minutes'\n    },\n    'YYYY-MM-DD HH:MM': {\n        test: reg(rx.YYYY.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.DD.test, s3, rx.HHMM.test),\n        parse: reg(\n            rx.YYYY.parse,\n            '([\\\\-\\\\.\\\\/ ?])',\n            rx.MM.parse,\n            '\\\\2',\n            rx.DD.parse,\n            s3,\n            rx.HHMM.parse\n        ),\n        precision: 'day-minutes'\n    },\n    ISO8601: {\n        test: /\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d(\\.\\d+)?([+-][0-2]\\d:[0-5]\\d|Z)/,\n        parse: function (str) {\n            return str;\n        },\n        precision: 'day-seconds'\n    }\n};\n\nfunction reg() {\n    return new RegExp(begin + Array.prototype.slice.call(arguments).join(' *') + end, 'i');\n}\n\nfunction test(str, key) {\n    var fmt = knownFormats[key];\n    if (isRegExp(fmt.test)) {\n        return fmt.test.test(str);\n    } else {\n        return fmt.test(str, key);\n    }\n}\n\nfunction parse(str, key) {\n    var fmt = knownFormats[key];\n    if (isRegExp(fmt.parse)) {\n        return str.match(fmt.parse);\n    } else {\n        return fmt.parse(str, key);\n    }\n}\n\nfunction dateFromIsoWeek(year, week, day) {\n    var d = new Date(Date.UTC(year, 0, 3));\n    d.setUTCDate(3 - d.getUTCDay() + (week - 1) * 7 + parseInt(day, 10));\n    return d;\n}\n\nfunction hour(hr, amPm) {\n    if (hr !== 12) return hr + (amPm === 'pm' ? 12 : 0);\n    return amPm === 'am' ? 0 : 12;\n}\n\nexport default function (sample) {\n    let format;\n    let errors = 0;\n    const matches = {};\n    const bestMatch = ['', 0];\n\n    sample = sample || [];\n\n    each(knownFormats, function (format, key) {\n        each(sample, function (n) {\n            if (matches[key] === undefined) matches[key] = 0;\n            if (test(n, key)) {\n                matches[key] += 1;\n                if (matches[key] > bestMatch[1]) {\n                    bestMatch[0] = key;\n                    bestMatch[1] = matches[key];\n                }\n            }\n        });\n    });\n    format = bestMatch[0];\n\n    // public interface\n    const type = {\n        parse: function (raw) {\n            if (isDate(raw) || isUndefined(raw)) return raw;\n            if (!format || !isString(raw)) {\n                errors++;\n                return raw;\n            }\n\n            var m = parse(raw.toLowerCase(), format);\n\n            if (!m) {\n                errors++;\n                return raw;\n            } else {\n                // increment errors anyway if string doesn't match strict format\n                if (!test(raw, format)) errors++;\n            }\n\n            function guessTwoDigitYear(yr) {\n                yr = +yr;\n                if (yr < 30) return 2000 + yr;\n                else return 1900 + yr;\n            }\n\n            var curYear = new Date().getFullYear();\n\n            switch (format) {\n                case 'YYYY':\n                    return new Date(m[1], 0, 1);\n                case 'YYYY-H':\n                    return new Date(m[1], (m[2] - 1) * 6, 1);\n                case 'H-YYYY':\n                    return new Date(m[2], (m[1] - 1) * 6, 1);\n                case 'YYYY-Q':\n                    return new Date(m[1], (m[2] - 1) * 3, 1);\n                case 'Q-YYYY':\n                    return new Date(m[2], (m[1] - 1) * 3, 1);\n                case 'YYYY-M':\n                    return new Date(m[1], m[2] - 1, 1);\n                case 'M-YYYY':\n                    return new Date(m[2], m[1] - 1, 1);\n\n                case 'YYYY-MMM':\n                    return new Date(+m[1], shortMonthKey[m[2]], 1);\n                case 'MMM-YYYY':\n                    return new Date(+m[2], shortMonthKey[m[1]], 1);\n                case 'MMM-YY':\n                    return new Date(guessTwoDigitYear(+m[2]), shortMonthKey[m[1]], 1);\n                case 'MMM':\n                    return new Date(curYear, shortMonthKey[m[1]], 1);\n\n                case 'YYYY-WW':\n                    return dateFromIsoWeek(m[1], m[2], 1);\n                case 'WW-YYYY':\n                    return dateFromIsoWeek(m[2], m[1], 1);\n\n                case 'YYYY-WW-d':\n                    return dateFromIsoWeek(m[1], m[2], m[3]);\n                case 'YYYY-MM-DD':\n                    return new Date(m[1], m[3] - 1, m[4]);\n                case 'DD/MM/YYYY':\n                    return new Date(m[4], m[3] - 1, m[1]);\n                case 'DD/MMM/YYYY':\n                    return new Date(m[4], shortMonthKey[m[3]], m[1]);\n                case 'DD/MMM/YY':\n                    return new Date(guessTwoDigitYear(m[4]), shortMonthKey[m[3]], m[1]);\n                case 'MM/DD/YYYY':\n                    return new Date(m[4], m[1] - 1, m[3]);\n                case 'MM/DD/YY':\n                    return new Date(guessTwoDigitYear(m[4]), m[1] - 1, m[3]);\n                case 'DD/MM/YY':\n                    return new Date(guessTwoDigitYear(m[4]), m[3] - 1, m[1]);\n                case 'MMM-DD-YYYY':\n                    return new Date(m[3], shortMonthKey[m[1]], m[2]);\n\n                case 'YYYY-MM-DD HH:MM':\n                    return new Date(\n                        +m[1],\n                        m[3] - 1,\n                        +m[4],\n                        hour(+m[5], m[8]),\n                        +m[6] || 0,\n                        +m[7] || 0\n                    );\n                case 'DD.MM.YYYY HH:MM':\n                    return new Date(\n                        +m[4],\n                        m[3] - 1,\n                        +m[1],\n                        hour(+m[5], m[8]),\n                        +m[6] || 0,\n                        +m[7] || 0\n                    );\n                case 'MM/DD/YYYY HH:MM':\n                    return new Date(\n                        +m[4],\n                        m[1] - 1,\n                        +m[3],\n                        hour(+m[5], m[8]),\n                        +m[6] || 0,\n                        +m[7] || 0\n                    );\n\n                case 'ISO8601':\n                    return new Date(m.toUpperCase());\n\n                default:\n                    console.warn('unknown format', format);\n            }\n            errors++;\n            return raw;\n        },\n        toNum: function (d) {\n            return isDate(d) ? d.getTime() : Number.NaN;\n        },\n        fromNum: function (i) {\n            return new Date(i);\n        },\n        errors: function () {\n            return errors;\n        },\n        name: function () {\n            return 'date';\n        },\n\n        format: function (fmt) {\n            if (arguments.length) {\n                format = fmt;\n                return type;\n            }\n            return format;\n        },\n\n        precision: function () {\n            return knownFormats[format].precision;\n        },\n\n        isValid: function (val) {\n            return isDate(type.parse(val));\n        },\n\n        ambiguousFormats: function () {\n            var candidates = [];\n            each(matches, function (cnt, fmt) {\n                if (cnt === bestMatch[1]) {\n                    candidates.push([fmt, fmt]); // key, label\n                }\n            });\n            return candidates;\n        }\n    };\n    return type;\n}\n","import text from './text.mjs';\nimport number from './number.mjs';\nimport date from './date.mjs';\n\nexport default {\n    text,\n    number,\n    date\n};\n","import { identity } from 'underscore';\n\nexport default function () {\n    return {\n        parse: identity,\n        errors: function () {\n            return 0;\n        },\n        name: function () {\n            return 'text';\n        },\n        isValid: function () {\n            return true;\n        },\n        format: function () {}\n    };\n}\n","/* eslint no-irregular-whitespace: \"off\" */\n\nimport { each, isNumber, isUndefined, isNull } from 'underscore';\n\n/*\n * A type for numbers:\n *\n * Usage:\n * var parse = dw.type.number(sampleData);\n * parse()\n */\nexport default function (sample) {\n    let format;\n    let errors = 0;\n    const knownFormats = {\n        '-.': /^ *[-–—−]?[0-9]*(\\.[0-9]+)?(e[+-][0-9]+)?%? *$/,\n        '-,': /^ *[-–—−]?[0-9]*(,[0-9]+)?%? *$/,\n        ',.': /^ *[-–—−]?[0-9]{1,3}(,[0-9]{3})*(\\.[0-9]+)?%? *$/,\n        '.,': /^ *[-–—−]?[0-9]{1,3}(\\.[0-9]{3})*(,[0-9]+)?%? *$/,\n        ' .': /^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(\\.[0-9]+)?%? *$/,\n        ' ,': /^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(,[0-9]+)?%? *$/,\n        // excel sometimes produces a strange white-space:\n        \"'.\": /^ *[-–—−]?[0-9]{1,3}('[0-9]{3})*(\\.[0-9]+)?%? *$/\n    };\n    const formatLabels = {\n        '-.': '1234.56',\n        '-,': '1234,56',\n        ',.': '1,234.56',\n        '.,': '1.234,56',\n        ' .': '1 234.56',\n        ' ,': '1 234,56',\n        // excel sometimes produces a strange white-space:\n        ' .': '1 234.56',\n        ' ,': '1 234,56',\n        ' .': '1 234.56',\n        ' ,': '1 234,56'\n    };\n    // a list of strings that are recognized as 'not available'\n    const naStrings = {\n        na: 1,\n        'n/a': 1,\n        '-': 1,\n        ':': 1\n    };\n\n    const matches = {};\n    const bestMatch = ['-.', 0];\n\n    sample = sample || [];\n\n    each(sample, function (n) {\n        each(knownFormats, function (regex, fmt) {\n            if (matches[fmt] === undefined) matches[fmt] = 0;\n            if (regex.test(n)) {\n                matches[fmt] += 1;\n                if (matches[fmt] > bestMatch[1]) {\n                    bestMatch[0] = fmt;\n                    bestMatch[1] = matches[fmt];\n                }\n            }\n        });\n    });\n    format = bestMatch[0];\n\n    // public interface\n    var type = {\n        parse: function (raw) {\n            if (isNumber(raw) || isUndefined(raw) || isNull(raw)) return raw;\n            // replace percent sign, n-dash & m-dash, remove weird spaces\n            var number = raw\n                .replace('%', '')\n                .replace('−', '-')\n                .replace(/[   ]/g, '')\n                .replace('–', '-')\n                .replace('—', '-');\n            // normalize number\n            if (format[0] !== '-') {\n                // remove kilo seperator\n                number = number.replace(new RegExp(format[0] === '.' ? '\\\\.' : format[0], 'g'), '');\n            }\n            if (format[1] !== '.') {\n                // replace decimal char w/ point\n                number = number.replace(format[1], '.');\n            }\n            if (isNaN(number) || number === '') {\n                if (!naStrings[number.toLowerCase()] && number !== '') errors++;\n                return raw;\n            }\n            return Number(number);\n        },\n        toNum: function (i) {\n            return i;\n        },\n        fromNum: function (i) {\n            return i;\n        },\n        errors: function () {\n            return errors;\n        },\n        name: function () {\n            return 'number';\n        },\n\n        isValid: function (val) {\n            return val === '' || naStrings[String(val).toLowerCase()] || isNumber(type.parse(val));\n        },\n\n        ambiguousFormats: function () {\n            var candidates = [];\n            each(matches, function (cnt, fmt) {\n                if (cnt === bestMatch[1]) {\n                    candidates.push([fmt, formatLabels[fmt]]); // key, label\n                }\n            });\n            return candidates;\n        },\n\n        format: function (fmt) {\n            if (arguments.length) {\n                format = fmt;\n                return type;\n            }\n            return format;\n        }\n    };\n    return type;\n}\n","/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.DOMPurify = factory());\n})(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (_isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var hasOwnProperty = Object.hasOwnProperty,\n      setPrototypeOf = Object.setPrototypeOf,\n      isFrozen = Object.isFrozen,\n      getPrototypeOf = Object.getPrototypeOf,\n      getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n  var freeze = Object.freeze,\n      seal = Object.seal,\n      create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n  var _ref = typeof Reflect !== 'undefined' && Reflect,\n      apply = _ref.apply,\n      construct = _ref.construct;\n\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return _construct(Func, _toConsumableArray(args));\n    };\n  }\n\n  var arrayForEach = unapply(Array.prototype.forEach);\n  var arrayPop = unapply(Array.prototype.pop);\n  var arrayPush = unapply(Array.prototype.push);\n  var stringToLowerCase = unapply(String.prototype.toLowerCase);\n  var stringMatch = unapply(String.prototype.match);\n  var stringReplace = unapply(String.prototype.replace);\n  var stringIndexOf = unapply(String.prototype.indexOf);\n  var stringTrim = unapply(String.prototype.trim);\n  var regExpTest = unapply(RegExp.prototype.test);\n  var typeErrorCreate = unconstruct(TypeError);\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return apply(func, thisArg, args);\n    };\n  }\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return construct(func, args);\n    };\n  }\n  /* Add properties to a lookup table */\n\n  function addToSet(set, array, transformCaseFunc) {\n    transformCaseFunc = transformCaseFunc ? transformCaseFunc : stringToLowerCase;\n\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n\n    var l = array.length;\n\n    while (l--) {\n      var element = array[l];\n\n      if (typeof element === 'string') {\n        var lcElement = transformCaseFunc(element);\n\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n\n          element = lcElement;\n        }\n      }\n\n      set[element] = true;\n    }\n\n    return set;\n  }\n  /* Shallow clone an object */\n\n  function clone(object) {\n    var newObject = create(null);\n    var property;\n\n    for (property in object) {\n      if (apply(hasOwnProperty, object, [property])) {\n        newObject[property] = object[property];\n      }\n    }\n\n    return newObject;\n  }\n  /* IE10 doesn't support __lookupGetter__ so lets'\n   * simulate it. It also automatically checks\n   * if the prop is function or getter and behaves\n   * accordingly. */\n\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      var desc = getOwnPropertyDescriptor(object, prop);\n\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n\n      object = getPrototypeOf(object);\n    }\n\n    function fallbackValue(element) {\n      console.warn('fallback value for', element);\n      return null;\n    }\n\n    return fallbackValue;\n  }\n\n  var html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']); // SVG\n\n  var svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']); // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n\n  var svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'fedropshadow', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n  var mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']); // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n\n  var mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n  var text = freeze(['#text']);\n\n  var html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n  var svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n  var mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n\n  var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n  var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n\n  var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n\n  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n  var DOCTYPE_NAME = seal(/^html$/i);\n\n  var getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {Document} document The document object (to determine policy name suffix)\n   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported).\n   */\n\n\n  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n    if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    } // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n\n\n    var suffix = null;\n    var ATTR_NAME = 'data-tt-policy-suffix';\n\n    if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n      suffix = document.currentScript.getAttribute(ATTR_NAME);\n    }\n\n    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML: function createHTML(html) {\n          return html;\n        },\n        createScriptURL: function createScriptURL(scriptUrl) {\n          return scriptUrl;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n\n  function createDOMPurify() {\n    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n    var DOMPurify = function DOMPurify(root) {\n      return createDOMPurify(root);\n    };\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n\n\n    DOMPurify.version = '2.4.0';\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n      return DOMPurify;\n    }\n\n    var originalDocument = window.document;\n    var document = window.document;\n    var DocumentFragment = window.DocumentFragment,\n        HTMLTemplateElement = window.HTMLTemplateElement,\n        Node = window.Node,\n        Element = window.Element,\n        NodeFilter = window.NodeFilter,\n        _window$NamedNodeMap = window.NamedNodeMap,\n        NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n        HTMLFormElement = window.HTMLFormElement,\n        DOMParser = window.DOMParser,\n        trustedTypes = window.trustedTypes;\n    var ElementPrototype = Element.prototype;\n    var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    var getParentNode = lookupGetter(ElementPrototype, 'parentNode'); // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n\n    if (typeof HTMLTemplateElement === 'function') {\n      var template = document.createElement('template');\n\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n\n    var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n\n    var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n    var _document = document,\n        implementation = _document.implementation,\n        createNodeIterator = _document.createNodeIterator,\n        createDocumentFragment = _document.createDocumentFragment,\n        getElementsByTagName = _document.getElementsByTagName;\n    var importNode = originalDocument.importNode;\n    var documentMode = {};\n\n    try {\n      documentMode = clone(document).documentMode ? document.documentMode : {};\n    } catch (_) {}\n\n    var hooks = {};\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n\n    DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n    var MUSTACHE_EXPR$1 = MUSTACHE_EXPR,\n        ERB_EXPR$1 = ERB_EXPR,\n        DATA_ATTR$1 = DATA_ATTR,\n        ARIA_ATTR$1 = ARIA_ATTR,\n        IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n    var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n    /* Allowed attribute names */\n\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n    /*\n     * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n     * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n     * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n     * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n     */\n\n    var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false\n      }\n    }));\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n\n    var FORBID_TAGS = null;\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n\n    var FORBID_ATTR = null;\n    /* Decide if ARIA attributes are okay */\n\n    var ALLOW_ARIA_ATTR = true;\n    /* Decide if custom data attributes are okay */\n\n    var ALLOW_DATA_ATTR = true;\n    /* Decide if unknown protocols are okay */\n\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n\n    var SAFE_FOR_TEMPLATES = false;\n    /* Decide if document with <html>... should be returned */\n\n    var WHOLE_DOCUMENT = false;\n    /* Track whether config is already set on this instance of DOMPurify. */\n\n    var SET_CONFIG = false;\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n\n    var FORCE_BODY = false;\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n\n    var RETURN_DOM = false;\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n\n    var RETURN_DOM_FRAGMENT = false;\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n\n    var RETURN_TRUSTED_TYPE = false;\n    /* Output should be free from DOM clobbering attacks?\n     * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n     */\n\n    var SANITIZE_DOM = true;\n    /* Achieve full DOM Clobbering protection by isolating the namespace of named\n     * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n     *\n     * HTML/DOM spec rules that enable DOM Clobbering:\n     *   - Named Access on Window (§7.3.3)\n     *   - DOM Tree Accessors (§3.1.5)\n     *   - Form Element Parent-Child Relations (§4.10.3)\n     *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n     *   - HTMLCollection (§4.2.10.2)\n     *\n     * Namespace isolation is implemented by prefixing `id` and `name` attributes\n     * with a constant string, i.e., `user-content-`\n     */\n\n    var SANITIZE_NAMED_PROPS = false;\n    var SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n    /* Keep element content when removing element? */\n\n    var KEEP_CONTENT = true;\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n\n    var IN_PLACE = false;\n    /* Allow usage of profiles like html, svg and mathMl */\n\n    var USE_PROFILES = {};\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n\n    var FORBID_CONTENTS = null;\n    var DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n    /* Tags that are safe for data: URIs */\n\n    var DATA_URI_TAGS = null;\n    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n    /* Attributes safe for values like \"javascript:\" */\n\n    var URI_SAFE_ATTRIBUTES = null;\n    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n\n    var NAMESPACE = HTML_NAMESPACE;\n    var IS_EMPTY_INPUT = false;\n    /* Parsing of strict XHTML documents */\n\n    var PARSER_MEDIA_TYPE;\n    var SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n    var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n    var transformCaseFunc;\n    /* Keep a reference to config to pass to hooks */\n\n    var CONFIG = null;\n    /* Ideally, do not touch anything below this line */\n\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    var isRegexOrFunction = function isRegexOrFunction(testValue) {\n      return testValue instanceof RegExp || testValue instanceof Function;\n    };\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n\n\n    var _parseConfig = function _parseConfig(cfg) {\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n      /* Shield configuration object from tampering */\n\n\n      if (!cfg || _typeof(cfg) !== 'object') {\n        cfg = {};\n      }\n      /* Shield configuration object from prototype pollution */\n\n\n      cfg = clone(cfg);\n      PARSER_MEDIA_TYPE = // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE; // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n\n      transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? function (x) {\n        return x;\n      } : stringToLowerCase;\n      /* Set configuration parameters */\n\n      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n      cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n      cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n      FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n\n      SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n      IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n        CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n      }\n\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n      /* Parse profile info */\n\n\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n        ALLOWED_ATTR = [];\n\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html$1);\n          addToSet(ALLOWED_ATTR, html);\n        }\n\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg$1);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl$1);\n          addToSet(ALLOWED_ATTR, mathMl);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n      /* Merge configuration parameters */\n\n\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n      }\n\n      if (cfg.FORBID_CONTENTS) {\n        if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n          FORBID_CONTENTS = clone(FORBID_CONTENTS);\n        }\n\n        addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n      }\n      /* Add #text in case KEEP_CONTENT is set to true */\n\n\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n\n\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n\n\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      } // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n\n\n      if (freeze) {\n        freeze(cfg);\n      }\n\n      CONFIG = cfg;\n    };\n\n    var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n    var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']); // Certain elements are allowed in both SVG and HTML\n    // namespace. We need to specify them explicitly\n    // so that they don't get erroneously deleted from\n    // HTML namespace.\n\n    var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n\n    var ALL_SVG_TAGS = addToSet({}, svg$1);\n    addToSet(ALL_SVG_TAGS, svgFilters);\n    addToSet(ALL_SVG_TAGS, svgDisallowed);\n    var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n    addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n    /**\n     *\n     *\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n\n    var _checkValidNamespace = function _checkValidNamespace(element) {\n      var parent = getParentNode(element); // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: HTML_NAMESPACE,\n          tagName: 'template'\n        };\n      }\n\n      var tagName = stringToLowerCase(element.tagName);\n      var parentTagName = stringToLowerCase(parent.tagName);\n\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        } // The only way to switch from MathML to SVG is via\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n\n\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        } // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n\n\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        } // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n\n\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        } // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n\n\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        } // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n\n\n        return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n      } // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG or MathML). Return false just in case.\n\n\n      return false;\n    };\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n\n\n    var _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, {\n        element: node\n      });\n\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        try {\n          node.outerHTML = emptyHTML;\n        } catch (_) {\n          node.remove();\n        }\n      }\n    };\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n\n\n    var _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n\n      node.removeAttribute(name); // We void attribute values for unremovable \"is\"\" attributes\n\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n\n\n    var _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      var doc;\n      var leadingWhitespace;\n\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml') {\n        // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n        dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n      }\n\n      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n        } catch (_) {}\n      }\n      /* Use createHTMLDocument in case DOMParser is not available */\n\n\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n        } catch (_) {// Syntax error if dirtyPayload is invalid xml\n        }\n      }\n\n      var body = doc.body || doc.documentElement;\n\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n      /* Work on whole document or just its body */\n\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n    /**\n     * _createIterator\n     *\n     * @param  {Document} root document/fragment to create iterator for\n     * @return {Iterator} iterator instance\n     */\n\n\n    var _createIterator = function _createIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root, // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n    };\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n\n\n    var _isClobbered = function _isClobbered(elm) {\n      return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function');\n    };\n    /**\n     * _isNode\n     *\n     * @param  {Node} obj object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n\n\n    var _isNode = function _isNode(object) {\n      return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n    };\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n\n\n    var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n\n      arrayForEach(hooks[entryPoint], function (hook) {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n\n\n    var _sanitizeElements = function _sanitizeElements(currentNode) {\n      var content;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeElements', currentNode, null);\n      /* Check if element is clobbered or can clobber */\n\n\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Check if tagname contains Unicode */\n\n\n      if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Now let's check the element's type and name */\n\n\n      var tagName = transformCaseFunc(currentNode.nodeName);\n      /* Execute a hook if present */\n\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName: tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n      /* Detect mXSS attempts abusing namespace confusion */\n\n\n      if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Mitigate a problem with templates inside select */\n\n\n      if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Remove element if anything forbids its presence */\n\n\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Check if we have a custom element to handle */\n        if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) return false;\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) return false;\n        }\n        /* Keep content except for bad-listed elements */\n\n\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n          if (childNodes && parentNode) {\n            var childCount = childNodes.length;\n\n            for (var i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Check whether element has a valid namespace */\n\n\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n\n      if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Sanitize element content to be template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n        content = stringReplace(content, ERB_EXPR$1, ' ');\n\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, {\n            element: currentNode.cloneNode()\n          });\n          currentNode.textContent = content;\n        }\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeElements', currentNode, null);\n\n      return false;\n    };\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n\n\n    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n\n\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        if ( // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        _basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n          return false;\n        }\n        /* Check value is safe. First, is attr inert? If so, is safe */\n\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ; else if (!value) ; else {\n        return false;\n      }\n\n      return true;\n    };\n    /**\n     * _basicCustomElementCheck\n     * checks if at least one dash is included in tagName, and it's not the first char\n     * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n     * @param {string} tagName name of the tag of the node to sanitize\n     */\n\n\n    var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n      return tagName.indexOf('-') > 0;\n    };\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n\n\n    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      var attr;\n      var value;\n      var lcName;\n      var l;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n      var attributes = currentNode.attributes;\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n\n      var hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      l = attributes.length;\n      /* Go backwards over all attributes; safely remove bad ones */\n\n      while (l--) {\n        attr = attributes[l];\n        var _attr = attr,\n            name = _attr.name,\n            namespaceURI = _attr.namespaceURI;\n        value = name === 'value' ? attr.value : stringTrim(attr.value);\n        lcName = transformCaseFunc(name);\n        /* Execute a hook if present */\n\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n        /* Remove attribute */\n\n\n        _removeAttribute(name, currentNode);\n        /* Did the hooks approve of the attribute? */\n\n\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n        /* Work around a security issue in jQuery 3.0 */\n\n\n        if (regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n\n          continue;\n        }\n        /* Sanitize attribute content to be template-safe */\n\n\n        if (SAFE_FOR_TEMPLATES) {\n          value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n          value = stringReplace(value, ERB_EXPR$1, ' ');\n        }\n        /* Is `value` valid for this attribute? */\n\n\n        var lcTag = transformCaseFunc(currentNode.nodeName);\n\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n        /* Full DOM Clobbering protection via namespace isolation,\n         * Prefix id and name attributes with `user-content-`\n         */\n\n\n        if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n          // Remove the attribute with this value\n          _removeAttribute(name, currentNode); // Prefix the value and later re-create the attribute with the sanitized value\n\n\n          value = SANITIZE_NAMED_PROPS_PREFIX + value;\n        }\n        /* Handle attributes that require Trusted Types */\n\n\n        if (trustedTypesPolicy && _typeof(trustedTypes) === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n          if (namespaceURI) ; else {\n            switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML':\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n\n              case 'TrustedScriptURL':\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n            }\n          }\n        }\n        /* Handle invalid data-* attribute set by try-catching it */\n\n\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n\n\n    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      var shadowNode;\n\n      var shadowIterator = _createIterator(fragment);\n      /* Execute a hook if present */\n\n\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n        /* Sanitize tags and elements */\n\n\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n        /* Deep shadow DOM detected */\n\n\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n\n        _sanitizeAttributes(shadowNode);\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    // eslint-disable-next-line complexity\n\n\n    DOMPurify.sanitize = function (dirty) {\n      var cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var body;\n      var importedNode;\n      var currentNode;\n      var oldNode;\n      var returnNode;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n\n      IS_EMPTY_INPUT = !dirty;\n\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n      /* Stringify, in case dirty is an object */\n\n\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        // eslint-disable-next-line no-negated-condition\n        if (typeof dirty.toString !== 'function') {\n          throw typeErrorCreate('toString is not a function');\n        } else {\n          dirty = dirty.toString();\n\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        }\n      }\n      /* Check we can run. Otherwise fall back or ignore */\n\n\n      if (!DOMPurify.isSupported) {\n        if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n          if (typeof dirty === 'string') {\n            return window.toStaticHTML(dirty);\n          }\n\n          if (_isNode(dirty)) {\n            return window.toStaticHTML(dirty.outerHTML);\n          }\n        }\n\n        return dirty;\n      }\n      /* Assign config vars */\n\n\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n      /* Clean up removed elements */\n\n\n      DOMPurify.removed = [];\n      /* Check if dirty is correctly typed for IN_PLACE */\n\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n\n      if (IN_PLACE) {\n        /* Do some early pre-sanitization to avoid unsafe root nodes */\n        if (dirty.nodeName) {\n          var tagName = transformCaseFunc(dirty.nodeName);\n\n          if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n          }\n        }\n      } else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n        /* Initialize the document to work on */\n\n\n        body = _initDocument(dirty);\n        /* Check we have a DOM node from the data */\n\n        if (!body) {\n          return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n        }\n      }\n      /* Remove first element node (ours) if FORCE_BODY is set */\n\n\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n      /* Get node iterator */\n\n\n      var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n      /* Now start iterating over the created document */\n\n\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Fix IE's strange behavior with manipulated textNodes #89 */\n        if (currentNode.nodeType === 3 && currentNode === oldNode) {\n          continue;\n        }\n        /* Sanitize tags and elements */\n\n\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n        /* Shadow DOM detected, sanitize it */\n\n\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n\n        _sanitizeAttributes(currentNode);\n\n        oldNode = currentNode;\n      }\n\n      oldNode = null;\n      /* If we sanitized `dirty` in-place, return it. */\n\n      if (IN_PLACE) {\n        return dirty;\n      }\n      /* Return sanitized string or DOM */\n\n\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n\n        if (ALLOWED_ATTR.shadowroot) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n\n        return returnNode;\n      }\n\n      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n      /* Serialize doctype if allowed */\n\n      if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n        serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n      }\n      /* Sanitize final string template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES) {\n        serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n      }\n\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n\n\n    DOMPurify.setConfig = function (cfg) {\n      _parseConfig(cfg);\n\n      SET_CONFIG = true;\n    };\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n\n\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {string} tag Tag name of containing element.\n     * @param  {string} attr Attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n\n\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n\n      var lcTag = transformCaseFunc(tag);\n      var lcName = transformCaseFunc(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n\n\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     * @return {Function} removed(popped) hook\n     */\n\n\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        return arrayPop(hooks[entryPoint]);\n      }\n    };\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n\n\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     */\n\n\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n\n    return DOMPurify;\n  }\n\n  var purify = createDOMPurify();\n\n  return purify;\n\n}));\n//# sourceMappingURL=purify.js.map\n","module.exports = window.DOMPurify || (window.DOMPurify = require('dompurify').default || require('dompurify'));","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createPermanentMemoizer = void 0;\nconst createPermanentMemoizer = (keySerializer, valueCreator, { maxsize } = {}) => {\n    let map = new Map();\n    return {\n        get: (key) => {\n            const serializedKey = keySerializer(key);\n            if (map.has(serializedKey)) {\n                // We can be certain that `map.get` does not return undefined\n                // (if TValue does not include undefined)\n                // because we've just checked that it has this key.\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                return map.get(serializedKey);\n            }\n            const value = valueCreator(key);\n            if (maxsize && map.size >= maxsize) {\n                map = new Map();\n            }\n            map.set(serializedKey, value);\n            return value;\n        }\n    };\n};\nexports.createPermanentMemoizer = createPermanentMemoizer;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst isomorphic_dompurify_1 = __importDefault(require(\"isomorphic-dompurify\"));\nconst memoizer_1 = require(\"./memoizer\");\nconst DEFAULT_ALLOWED = [\n    'a',\n    'span',\n    'b',\n    'br',\n    'i',\n    'strong',\n    'sup',\n    'sub',\n    'strike',\n    'u',\n    'em',\n    'tt'\n].sort();\nconst MEMOIZER_MAXSIZE = 100000;\n/**\n * Set default TARGET and REL for A tags.\n *\n * Don't overwrite target=\"_self\".\n */\nisomorphic_dompurify_1.default.addHook('afterSanitizeElements', function (el) {\n    if (el.nodeName.toLowerCase() === 'a') {\n        if (el.getAttribute('target') !== '_self') {\n            el.setAttribute('target', '_blank');\n        }\n        el.setAttribute('rel', 'nofollow noopener noreferrer');\n    }\n});\nconst memoizer = (0, memoizer_1.createPermanentMemoizer)((allowedTagsInput) => String(allowedTagsInput), allowedTagsInput => {\n    const allowedTags = allowedTagsInput === undefined\n        ? DEFAULT_ALLOWED\n        : typeof allowedTagsInput === 'string'\n            ? allowedTagsInput.toLowerCase().slice(1, -1).split('><')\n            : allowedTagsInput;\n    const config = {\n        ALLOWED_TAGS: allowedTags,\n        ADD_ATTR: ['target'],\n        FORCE_BODY: true // Makes sure that top-level SCRIPT tags are kept if explicitly allowed.\n    };\n    return (0, memoizer_1.createPermanentMemoizer)((input) => input, input => {\n        // Implementation of DOMPurify accepts anything,\n        // and we need to accept anything too, according to tests\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return isomorphic_dompurify_1.default.sanitize(input, config);\n    }, { maxsize: MEMOIZER_MAXSIZE });\n}, { maxsize: MEMOIZER_MAXSIZE });\nfunction purifyHTML(input, allowedTagsInput) {\n    if (!input) {\n        return input;\n    }\n    return memoizer.get(allowedTagsInput).get(input);\n}\nmodule.exports = purifyHTML;\n","/*\n * column abstracts the functionality of each column\n * of a dataset. A column has a type (text|number|date).\n *\n * API:\n *\n * column.name() ... returns the name (string)\n * column.type() ... return column type (string)\n * column.length ... number of rows (number)\n * column.val(i) ... parsed value in row i\n * column.each(func) ... apply function to each value\n * column.raw() ... access raw, unparsed values\n *\n */\n\nimport {\n    every,\n    isString,\n    isNumber,\n    isDate,\n    isNaN,\n    each,\n    isUndefined,\n    shuffle,\n    map,\n    find,\n    range\n} from 'underscore';\nimport columnTypes from './columnTypes/index.mjs';\nimport purifyHtml from '@datawrapper/shared/purifyHtml.js';\n\n/**\n * @class dw.Column\n */\nexport default function Column(name_, rows, type, allowedTags) {\n    function notEmpty(d) {\n        return d !== null && d !== undefined && d !== '';\n    }\n\n    function guessType(sample) {\n        if (rows.length === 0) return columnTypes.text(); // empty columns are type text by default\n        if (every(rows, isNumber)) return columnTypes.number();\n        if (every(rows, isDate)) return columnTypes.date();\n        // guessing column type by counting parsing errors\n        // for every known type\n        const types = [columnTypes.date(sample), columnTypes.number(sample), columnTypes.text()];\n        let type;\n        const tolerance = 0.1 * rows.filter(notEmpty).length; // allowing 10% mis-parsed values\n\n        each(rows, function (val) {\n            each(types, function (t) {\n                t.parse(val);\n            });\n        });\n        every(types, function (t) {\n            if (t.errors() < tolerance) type = t;\n            return !type;\n        });\n        if (isUndefined(type)) type = types[2]; // default to text;\n        return type;\n    }\n\n    // we pick random 200 non-empty values for column type testing\n    const sample = shuffle(range(rows.length))\n        .filter(function (i) {\n            return notEmpty(rows[i]);\n        })\n        .slice(0, 200)\n        .map(function (i) {\n            return rows[i];\n        });\n\n    type = type ? columnTypes[type](sample) : guessType(sample);\n\n    let name = purifyHtml(name_);\n    let origName = name;\n    let valueRange, sum, mean, median;\n    const origRows = rows.slice(0);\n    let title;\n\n    // public interface\n    var column = {\n        // column name (used for reference in chart metadata)\n        name() {\n            if (arguments.length >= 1) {\n                name = purifyHtml(arguments[0]);\n                if (arguments.length === 2) {\n                    origName = purifyHtml(arguments[1]);\n                } else {\n                    origName = name;\n                }\n                return column;\n            }\n            return name;\n        },\n\n        origName() {\n            return origName;\n        },\n\n        // column title (used for presentation)\n        title() {\n            if (arguments.length) {\n                title = purifyHtml(arguments[0], allowedTags);\n                return column;\n            }\n            return title || name;\n        },\n\n        /**\n         * number of rows\n         */\n        length: rows.length,\n\n        /**\n         * returns ith row of the col, parsed\n         *\n         * @param i\n         * @param unfiltered  if set to true, precedent calls of filterRows are ignored\n         */\n        val(i, unfiltered) {\n            if (!arguments.length) return undefined;\n            var r = unfiltered ? origRows : rows;\n            if (i < 0) i += r.length;\n            return type.parse(\n                isDate(r[i]) || isNumber(r[i]) ? r[i] : purifyHtml(r[i], allowedTags)\n            );\n        },\n\n        /**\n         * returns an array of formatted values\n         *\n         * @param {string} [opt.numeral=null] -- format numbers using this Numeral.js instance\n         */\n        formatted(numeral = null) {\n            if (numeral && this.type() === 'number') {\n                return this.values().map(val => {\n                    if (Number.isFinite(val)) {\n                        return numeral(val).format('0.[00000000000000000000]');\n                    }\n                    // When the value is null, undefined, NaN, Infinity, or when parsing failed.\n                    return val;\n                });\n            }\n            return this.raw();\n        },\n\n        /**\n         * returns an array of parsed values\n         */\n        values(unfiltered) {\n            var r = unfiltered ? origRows : rows;\n            r = map(r, function (d) {\n                return isDate(d) || isNumber(d) ? d : purifyHtml(d, allowedTags);\n            });\n            return map(r, type.parse);\n        },\n\n        /**\n         * apply function to each value\n         */\n        each(f) {\n            for (var i = 0; i < rows.length; i++) {\n                f(column.val(i), i);\n            }\n        },\n\n        // access to raw values\n        raw(i, val) {\n            if (!arguments.length)\n                return rows.map(d => (isDate(d) || isNumber(d) ? d : purifyHtml(d, allowedTags)));\n            if (arguments.length === 2) {\n                rows[i] = val;\n                return column;\n            }\n            return isDate(rows[i]) || isNumber(rows[i])\n                ? rows[i]\n                : purifyHtml(rows[i], allowedTags);\n        },\n\n        /**\n         * if called with no arguments, this returns the column type name\n         * if called with true as argument, this returns the column type (as object)\n         * if called with a string as argument, this sets a new column type\n         */\n        type(o) {\n            if (o === true) return type;\n            if (isString(o)) {\n                if (columnTypes[o]) {\n                    type = columnTypes[o](sample);\n                    return column;\n                } else {\n                    throw new Error('unknown column type: ' + o);\n                }\n            }\n            return type.name();\n        },\n\n        // [min,max] range\n        range() {\n            if (!type.toNum) return false;\n            if (!valueRange) {\n                valueRange = [Number.MAX_VALUE, -Number.MAX_VALUE];\n                column.each(function (v) {\n                    v = type.toNum(v);\n                    if (!isNumber(v) || isNaN(v)) return;\n                    if (v < valueRange[0]) valueRange[0] = v;\n                    if (v > valueRange[1]) valueRange[1] = v;\n                });\n                valueRange[0] = type.fromNum(valueRange[0]);\n                valueRange[1] = type.fromNum(valueRange[1]);\n            }\n            return valueRange;\n        },\n        // sum of values\n        sum() {\n            if (!type.toNum) return false;\n            if (sum === undefined) {\n                sum = 0;\n                column.each(function (v) {\n                    const n = type.toNum(v);\n                    if (Number.isFinite(n)) {\n                        sum += n;\n                    }\n                });\n                sum = type.fromNum(sum);\n            }\n            return sum;\n        },\n\n        mean() {\n            if (!type.toNum) return false;\n            if (mean === undefined) {\n                mean = 0;\n                let count = 0;\n                column.each(function (v) {\n                    const n = type.toNum(v);\n                    if (Number.isFinite(n)) {\n                        mean += n;\n                        count++;\n                    }\n                });\n                mean = type.fromNum(mean / count);\n            }\n            return mean;\n        },\n\n        median() {\n            if (!type.toNum) return false;\n            if (median === undefined) {\n                const arr = column.values().map(type.toNum);\n                median = type.fromNum(d3Median(arr));\n            }\n            return median;\n        },\n\n        // remove rows from column, keep those whose index\n        // is within @r\n        filterRows(r) {\n            rows = [];\n            if (arguments.length) {\n                each(r, function (i) {\n                    rows.push(origRows[i]);\n                });\n            } else {\n                rows = origRows.slice(0);\n            }\n            column.length = rows.length;\n            // invalidate valueRange and total\n            valueRange = sum = mean = median = undefined;\n            return column;\n        },\n\n        deleteRow(i) {\n            const deletedRows = rows.splice(i, 1);\n            origRows.splice(i, 1);\n            column.length = rows.length;\n            // invalidate valueRange and total\n            valueRange = sum = mean = median = undefined;\n            return deletedRows;\n        },\n\n        toString() {\n            return name + ' (' + type.name() + ')';\n        },\n\n        indexOf(val) {\n            return find(range(rows.length), function (i) {\n                return column.val(i) === val;\n            });\n        },\n\n        limitRows(numRows) {\n            if (origRows.length > numRows) {\n                origRows.length = numRows;\n                rows.length = numRows;\n                column.length = numRows;\n            }\n        },\n\n        /**\n         * add one or more new rows\n         * @param {...*} values\n         */\n        add(...values) {\n            origRows.push(...values);\n            rows.push(...values);\n            column.length = rows.length;\n        },\n\n        /**\n         * create a copy of the column\n         * @returns {dw.Column}\n         */\n        clone() {\n            return Column(name, rows.slice(), type.name());\n        },\n\n        /**\n         * delete all rows\n         */\n        clear() {\n            rows.splice(0);\n            column.length = rows.length;\n        }\n    };\n    // backwards compatibility\n    column.total = column.sum;\n    return column;\n}\n\n// some d3 stuff\nfunction d3Median(array) {\n    var numbers = [];\n    var n = array.length;\n    var a;\n    var i = -1;\n    if (arguments.length === 1) {\n        while (++i < n) if (d3Numeric((a = d3Number(array[i])))) numbers.push(a);\n    }\n    if (numbers.length) return d3Quantile(numbers.sort(d3Ascending), 0.5);\n}\nfunction d3Quantile(values, p) {\n    var H = (values.length - 1) * p + 1;\n    var h = Math.floor(H);\n    var v = +values[h - 1];\n    var e = H - h;\n    return e ? v + e * (values[h] - v) : v;\n}\nfunction d3Number(x) {\n    return x === null ? NaN : +x;\n}\nfunction d3Numeric(x) {\n    return !isNaN(x);\n}\nfunction d3Ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","/*\n * dataset source for delimited files (CSV, TSV, ...)\n */\n\n/**\n * Smart delimited data parser.\n * - Handles CSV and other delimited data.\n * Includes auto-guessing of delimiter character\n * Parameters:\n *   options\n *     delimiter : \",\"\n */\n\nimport { isString } from 'underscore';\nimport dataset from './index.mjs';\nimport column from './column.mjs';\n\n/**\n * Parses a separator-delimited string (e.g. CSV)\n *\n * @param {object} opts\n * @param {string} opts.csv - the CSV string to be parsed\n * @param {string} opts.delimiter - defaults to 'auto'\n * @param {string} opts.quoteChar\n * @param {number} opts.skipRows - number of initial rows to skip\n * @param {*} opts.emptyValue\n * @param {boolean} opts.transpose\n * @param {boolean} opts.firstRowIsHeader\n * @param {string} opts.allowedTags - list of HTML tags that will not get filtered out by purifyHTML\n * @return {Dataset}\n */\nfunction delimited(opts) {\n    function loadAndParseCsv() {\n        if (opts.url) {\n            const ts = new Date().getTime();\n            const url = `${opts.url}${opts.url.indexOf('?') > -1 ? '&' : '?'}v=${\n                opts.url.indexOf('//static.dwcdn.net') > -1 ? ts - (ts % 60000) : ts\n            }`;\n            return window\n                .fetch(url)\n                .then(res => res.text())\n                .then(raw => {\n                    return new DelimitedParser(opts).parse(raw);\n                });\n        } else if (opts.csv || opts.csv === '') {\n            const dfd = new Promise(resolve => {\n                resolve(opts.csv);\n            });\n            const parsed = dfd.then(raw => {\n                return new DelimitedParser(opts).parse(raw);\n            });\n            return parsed;\n        }\n        const err = new Error('You need to provide either a URL or CSV data');\n        return Promise.reject(err);\n    }\n\n    return {\n        dataset: function () {\n            return loadAndParseCsv().catch(e => {\n                console.error(\n                    `Could not fetch delimited data source for chart ${opts.chartId}, ` +\n                        `returning an empty dataset: ${e.message}`\n                );\n                return dataset([]);\n            });\n        },\n        parse: function () {\n            return new DelimitedParser(opts).parse(opts.csv);\n        }\n    };\n}\n\ndataset.delimited = delimited;\n\nexport default delimited;\n\nclass DelimitedParser {\n    constructor(opts) {\n        opts = Object.assign(\n            {\n                delimiter: 'auto',\n                quoteChar: '\"',\n                skipRows: 0,\n                emptyValue: null,\n                transpose: false,\n                firstRowIsHeader: true\n            },\n            opts\n        );\n\n        this.__delimiterPatterns = getDelimiterPatterns(opts.delimiter, opts.quoteChar);\n        this.opts = opts;\n    }\n\n    parse(data) {\n        this.__rawData = data;\n        const opts = this.opts;\n\n        if (opts.delimiter === 'auto') {\n            opts.delimiter = this.guessDelimiter(data, opts.skipRows);\n            this.__delimiterPatterns = getDelimiterPatterns(opts.delimiter, opts.quoteChar);\n        }\n        const closure = opts.delimiter !== '|' ? '|' : '#';\n        let arrData;\n\n        data = closure + '\\n' + data.replace(/[ \\r\\n\\f]+$/g, '').replace(/^\\uFEFF/, '') + closure;\n\n        function parseCSV(delimiterPattern, strData, strDelimiter) {\n            // implementation and regex borrowed from:\n            // http://www.bennadel.com/blog/1504-Ask-Ben-Parsing-CSV-Strings-With-Javascript-Exec-Regular-Expression-Command.htm\n\n            // Check to see if the delimiter is defined. If not,\n            // then default to comma.\n            strDelimiter = strDelimiter || ',';\n\n            // Create an array to hold our data. Give the array\n            // a default empty first row.\n            const arrData = [[]];\n\n            // Create an array to hold our individual pattern\n            // matching groups.\n            let arrMatches = null;\n            let strMatchedValue;\n\n            // Keep looping over the regular expression matches\n            // until we can no longer find a match.\n            while ((arrMatches = delimiterPattern.exec(strData))) {\n                // Get the delimiter that was found.\n                var strMatchedDelimiter = arrMatches[1];\n\n                // Check to see if the given delimiter has a length\n                // (is not the start of string) and if it matches\n                // field delimiter. If id does not, then we know\n                // that this delimiter is a row delimiter.\n                if (strMatchedDelimiter.length && strMatchedDelimiter !== strDelimiter) {\n                    // Since we have reached a new row of data,\n                    // add an empty row to our data array.\n                    arrData.push([]);\n                }\n\n                // Now that we have our delimiter out of the way,\n                // let's check to see which kind of value we\n                // captured (quoted or unquoted).\n                if (arrMatches[2]) {\n                    // We found a quoted value. When we capture\n                    // this value, unescape any double quotes.\n                    strMatchedValue = arrMatches[2].replace(new RegExp('\"\"', 'g'), '\"');\n                } else {\n                    // We found a non-quoted value.\n                    strMatchedValue = arrMatches[3];\n                }\n\n                // Now that we have our value string, let's add\n                // it to the data array.\n                arrData[arrData.length - 1].push(\n                    strMatchedValue === undefined ? '' : strMatchedValue\n                );\n            }\n\n            // remove closure\n            if (arrData[0][0].substr(0, 1) === closure) {\n                arrData[0][0] = arrData[0][0].substr(1);\n            }\n            const p = arrData.length - 1;\n            const q = arrData[p].length - 1;\n            const r = arrData[p][q].length - 1;\n            if (arrData[p][q].substr(r) === closure) {\n                arrData[p][q] = arrData[p][q].substr(0, r);\n            }\n\n            // Return the parsed data.\n            return arrData.slice(1);\n        } // end parseCSV\n\n        function transpose(arrMatrix) {\n            // borrowed from:\n            // http://www.shamasis.net/2010/02/transpose-an-array-in-javascript-and-jquery/\n            const a = arrMatrix;\n            const w = a.length ? a.length : 0;\n            const h = a[0] instanceof Array ? a[0].length : 0;\n            if (h === 0 || w === 0) {\n                return [];\n            }\n            let i, j;\n            const t = [];\n            for (i = 0; i < h; i++) {\n                t[i] = [];\n                for (j = 0; j < w; j++) {\n                    t[i][j] = a[j][i];\n                }\n            }\n            return t;\n        }\n\n        function makeColumns(arrData) {\n            if (!arrData) {\n                return [];\n            }\n            arrData = arrData.slice(opts.skipRows);\n            if (!arrData.length) {\n                return [];\n            }\n\n            // compute series\n            const firstRow = arrData[0];\n            const columnNames = {};\n            let srcColumns = [];\n            let rowIndex = 0;\n            if (opts.firstRowIsHeader) {\n                srcColumns = arrData[rowIndex];\n                rowIndex++;\n                arrData.shift();\n            }\n\n            return firstRow.map((_, i) => {\n                const data = arrData.map(row => (row[i] !== '' ? row[i] : opts.emptyValue));\n                let col = isString(srcColumns[i]) ? srcColumns[i].replace(/^\\s+|\\s+$/g, '') : '';\n                let suffix = col !== '' ? '' : 1;\n                col = col !== '' ? col : 'X.';\n                while (columnNames[col + suffix] !== undefined) {\n                    suffix = suffix === '' ? 1 : suffix + 1;\n                }\n                columnNames[col + suffix] = true;\n                return column(col + suffix, data, undefined, opts.allowedTags);\n            });\n        }\n\n        function makeDataset(arrData) {\n            const columns = makeColumns(arrData);\n            return dataset(columns);\n        }\n\n        arrData = parseCSV(this.__delimiterPatterns, data, opts.delimiter);\n        if (opts.transpose) {\n            arrData = transpose(arrData);\n        }\n        return makeDataset(trimArrayData(arrData));\n    } // end parse\n\n    guessDelimiter(strData) {\n        // find delimiter which occurs most often\n        let maxMatchCount = 0;\n        let k = -1;\n        const me = this;\n        const delimiters = ['\\t', ';', '|', ','];\n        delimiters.forEach((delimiter, i) => {\n            const regex = getDelimiterPatterns(delimiter, me.quoteChar);\n            let c = strData.match(regex).length;\n            if (delimiter === '\\t') c *= 1.15; // give tab delimiters more weight\n            if (c > maxMatchCount) {\n                maxMatchCount = c;\n                k = i;\n            }\n        });\n        return delimiters[k];\n    }\n}\n\nfunction getDelimiterPatterns(delimiter, quoteChar) {\n    return new RegExp(\n        // Delimiters.\n        '(\\\\' +\n            delimiter +\n            '|\\\\r?\\\\n|\\\\r|^)' +\n            // Quoted fields.\n            '(?:' +\n            quoteChar +\n            '([^' +\n            quoteChar +\n            ']*(?:' +\n            quoteChar +\n            '\"[^' +\n            quoteChar +\n            ']*)*)' +\n            quoteChar +\n            '|' +\n            // Standard fields.\n            '([^\\\\' +\n            delimiter +\n            '\\\\r\\\\n]*))',\n        'gi'\n    );\n}\n\nfunction trimArrayData(arrData) {\n    for (let i = arrData.length - 1; i >= 0; i--) {\n        if (arrData[i].some(col => col !== '')) {\n            return arrData.slice(0, i + 1);\n        }\n    }\n    return arrData.slice(0, 1);\n}\n","import dataset from './index.mjs';\n\n/*\n * dataset source for JSON data\n */\nfunction json(opts) {\n    function loadAndParseJSON() {\n        if (opts.url) {\n            return fetch(opts.url)\n                .then(res => res.text())\n                .then(raw => {\n                    return JSON.parse(raw);\n                });\n        } else if (opts.csv) {\n            const dfd = new Promise(resolve => {\n                resolve(opts.csv);\n            });\n            const parsed = dfd.then(raw => {\n                return JSON.parse(raw);\n            });\n            return parsed;\n        }\n        const err = new Error('You need to provide either a URL or CSV data');\n        return Promise.reject(err);\n    }\n\n    return {\n        dataset: function () {\n            return loadAndParseJSON().catch(e => {\n                console.error(\n                    `Could not fetch JSON data source for chart ${opts.chartId}, ` +\n                        `returning an empty object: ${e.message}`\n                );\n                return {};\n            });\n        },\n        parse: function () {\n            return JSON.parse(opts.csv);\n        }\n    };\n}\n\ndataset.json = json;\n\nexport default json;\n","\"use strict\";\nmodule.exports = function tailLength(value) {\n    return Math.max(0, String(value - Math.floor(value))\n        .replace(/00000*[0-9]+$/, '')\n        .replace(/33333*[0-9]+$/, '')\n        .replace(/99999*[0-9]+$/, '').length - 2);\n};\n","\"use strict\";\nmodule.exports = function round(value, decimals = 0) {\n    const base = Math.pow(10, decimals);\n    return Math.round(value * base) / base;\n};\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define('underscore', factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (function () {\n    var current = global._;\n    var exports = global._ = factory();\n    exports.noConflict = function () { global._ = current; return exports; };\n  }()));\n}(this, (function () {\n  //     Underscore.js 1.13.4\n  //     https://underscorejs.org\n  //     (c) 2009-2022 Jeremy Ashkenas, Julian Gonggrijp, and DocumentCloud and Investigative Reporters & Editors\n  //     Underscore may be freely distributed under the MIT license.\n\n  // Current version.\n  var VERSION = '1.13.4';\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = (typeof self == 'object' && self.self === self && self) ||\n            (typeof global == 'object' && global.global === global && global) ||\n            Function('return this')() ||\n            {};\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // Modern feature detection.\n  var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n      supportsDataView = typeof DataView !== 'undefined';\n\n  // All **ECMAScript 5+** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create,\n      nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n  // Create references to these builtin functions because we override them.\n  var _isNaN = isNaN,\n      _isFinite = isFinite;\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  // The largest integer that can be represented exactly.\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the function’s\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6’s \"rest parameter\".\n  function restArguments(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  }\n\n  // Is a given variable an object?\n  function isObject(obj) {\n    var type = typeof obj;\n    return type === 'function' || (type === 'object' && !!obj);\n  }\n\n  // Is a given value equal to null?\n  function isNull(obj) {\n    return obj === null;\n  }\n\n  // Is a given variable undefined?\n  function isUndefined(obj) {\n    return obj === void 0;\n  }\n\n  // Is a given value a boolean?\n  function isBoolean(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  }\n\n  // Is a given value a DOM element?\n  function isElement(obj) {\n    return !!(obj && obj.nodeType === 1);\n  }\n\n  // Internal function for creating a `toString`-based type tester.\n  function tagTester(name) {\n    var tag = '[object ' + name + ']';\n    return function(obj) {\n      return toString.call(obj) === tag;\n    };\n  }\n\n  var isString = tagTester('String');\n\n  var isNumber = tagTester('Number');\n\n  var isDate = tagTester('Date');\n\n  var isRegExp = tagTester('RegExp');\n\n  var isError = tagTester('Error');\n\n  var isSymbol = tagTester('Symbol');\n\n  var isArrayBuffer = tagTester('ArrayBuffer');\n\n  var isFunction = tagTester('Function');\n\n  // Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n  // v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  var isFunction$1 = isFunction;\n\n  var hasObjectTag = tagTester('Object');\n\n  // In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n  // In IE 11, the most common among them, this problem also applies to\n  // `Map`, `WeakMap` and `Set`.\n  var hasStringTagBug = (\n        supportsDataView && hasObjectTag(new DataView(new ArrayBuffer(8)))\n      ),\n      isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n\n  var isDataView = tagTester('DataView');\n\n  // In IE 10 - Edge 13, we need a different heuristic\n  // to determine whether an object is a `DataView`.\n  function ie10IsDataView(obj) {\n    return obj != null && isFunction$1(obj.getInt8) && isArrayBuffer(obj.buffer);\n  }\n\n  var isDataView$1 = (hasStringTagBug ? ie10IsDataView : isDataView);\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native `Array.isArray`.\n  var isArray = nativeIsArray || tagTester('Array');\n\n  // Internal function to check whether `key` is an own property name of `obj`.\n  function has$1(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  }\n\n  var isArguments = tagTester('Arguments');\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  (function() {\n    if (!isArguments(arguments)) {\n      isArguments = function(obj) {\n        return has$1(obj, 'callee');\n      };\n    }\n  }());\n\n  var isArguments$1 = isArguments;\n\n  // Is a given object a finite number?\n  function isFinite$1(obj) {\n    return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n  }\n\n  // Is the given value `NaN`?\n  function isNaN$1(obj) {\n    return isNumber(obj) && _isNaN(obj);\n  }\n\n  // Predicate-generating function. Often useful outside of Underscore.\n  function constant(value) {\n    return function() {\n      return value;\n    };\n  }\n\n  // Common internal logic for `isArrayLike` and `isBufferLike`.\n  function createSizePropertyCheck(getSizeProperty) {\n    return function(collection) {\n      var sizeProperty = getSizeProperty(collection);\n      return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n    }\n  }\n\n  // Internal helper to generate a function to obtain property `key` from `obj`.\n  function shallowProperty(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  }\n\n  // Internal helper to obtain the `byteLength` property of an object.\n  var getByteLength = shallowProperty('byteLength');\n\n  // Internal helper to determine whether we should spend extensive checks against\n  // `ArrayBuffer` et al.\n  var isBufferLike = createSizePropertyCheck(getByteLength);\n\n  // Is a given value a typed array?\n  var typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\n  function isTypedArray(obj) {\n    // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n    // Otherwise, fall back on the above regular expression.\n    return nativeIsView ? (nativeIsView(obj) && !isDataView$1(obj)) :\n                  isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n  }\n\n  var isTypedArray$1 = supportsArrayBuffer ? isTypedArray : constant(false);\n\n  // Internal helper to obtain the `length` property of an object.\n  var getLength = shallowProperty('length');\n\n  // Internal helper to create a simple lookup structure.\n  // `collectNonEnumProps` used to depend on `_.contains`, but this led to\n  // circular imports. `emulatedSet` is a one-off solution that only works for\n  // arrays of strings.\n  function emulatedSet(keys) {\n    var hash = {};\n    for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n    return {\n      contains: function(key) { return hash[key] === true; },\n      push: function(key) {\n        hash[key] = true;\n        return keys.push(key);\n      }\n    };\n  }\n\n  // Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n  // be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n  // needed.\n  function collectNonEnumProps(obj, keys) {\n    keys = emulatedSet(keys);\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (isFunction$1(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (has$1(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  function keys(obj) {\n    if (!isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (has$1(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  }\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  function isEmpty(obj) {\n    if (obj == null) return true;\n    // Skip the more expensive `toString`-based type checks if `obj` has no\n    // `.length`.\n    var length = getLength(obj);\n    if (typeof length == 'number' && (\n      isArray(obj) || isString(obj) || isArguments$1(obj)\n    )) return length === 0;\n    return getLength(keys(obj)) === 0;\n  }\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  function isMatch(object, attrs) {\n    var _keys = keys(attrs), length = _keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = _keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  }\n\n  // If Underscore is called as a function, it returns a wrapped object that can\n  // be used OO-style. This wrapper holds altered versions of all functions added\n  // through `_.mixin`. Wrapped objects may be chained.\n  function _$1(obj) {\n    if (obj instanceof _$1) return obj;\n    if (!(this instanceof _$1)) return new _$1(obj);\n    this._wrapped = obj;\n  }\n\n  _$1.VERSION = VERSION;\n\n  // Extracts the result from a wrapped and chained object.\n  _$1.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxies for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _$1.prototype.valueOf = _$1.prototype.toJSON = _$1.prototype.value;\n\n  _$1.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  // Internal function to wrap or shallow-copy an ArrayBuffer,\n  // typed array or DataView to a new view, reusing the buffer.\n  function toBufferView(bufferSource) {\n    return new Uint8Array(\n      bufferSource.buffer || bufferSource,\n      bufferSource.byteOffset || 0,\n      getByteLength(bufferSource)\n    );\n  }\n\n  // We use this string twice, so give it a name for minification.\n  var tagDataView = '[object DataView]';\n\n  // Internal recursive comparison function for `_.isEqual`.\n  function eq(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  }\n\n  // Internal recursive comparison function for `_.isEqual`.\n  function deepEq(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _$1) a = a._wrapped;\n    if (b instanceof _$1) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    // Work around a bug in IE 10 - Edge 13.\n    if (hasStringTagBug && className == '[object Object]' && isDataView$1(a)) {\n      if (!isDataView$1(b)) return false;\n      className = tagDataView;\n    }\n    switch (className) {\n      // These types are compared by value.\n      case '[object RegExp]':\n        // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n      case '[object ArrayBuffer]':\n      case tagDataView:\n        // Coerce to typed array so we can fall through.\n        return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays && isTypedArray$1(a)) {\n        var byteLength = getByteLength(a);\n        if (byteLength !== getByteLength(b)) return false;\n        if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n        areArrays = true;\n    }\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(isFunction$1(aCtor) && aCtor instanceof aCtor &&\n                               isFunction$1(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var _keys = keys(a), key;\n      length = _keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = _keys[length];\n        if (!(has$1(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  }\n\n  // Perform a deep comparison to check if two objects are equal.\n  function isEqual(a, b) {\n    return eq(a, b);\n  }\n\n  // Retrieve all the enumerable property names of an object.\n  function allKeys(obj) {\n    if (!isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  }\n\n  // Since the regular `Object.prototype.toString` type tests don't work for\n  // some types in IE 11, we use a fingerprinting heuristic instead, based\n  // on the methods. It's not great, but it's the best we got.\n  // The fingerprint method lists are defined below.\n  function ie11fingerprint(methods) {\n    var length = getLength(methods);\n    return function(obj) {\n      if (obj == null) return false;\n      // `Map`, `WeakMap` and `Set` have no enumerable keys.\n      var keys = allKeys(obj);\n      if (getLength(keys)) return false;\n      for (var i = 0; i < length; i++) {\n        if (!isFunction$1(obj[methods[i]])) return false;\n      }\n      // If we are testing against `WeakMap`, we need to ensure that\n      // `obj` doesn't have a `forEach` method in order to distinguish\n      // it from a regular `Map`.\n      return methods !== weakMapMethods || !isFunction$1(obj[forEachName]);\n    };\n  }\n\n  // In the interest of compact minification, we write\n  // each string in the fingerprints only once.\n  var forEachName = 'forEach',\n      hasName = 'has',\n      commonInit = ['clear', 'delete'],\n      mapTail = ['get', hasName, 'set'];\n\n  // `Map`, `WeakMap` and `Set` each have slightly different\n  // combinations of the above sublists.\n  var mapMethods = commonInit.concat(forEachName, mapTail),\n      weakMapMethods = commonInit.concat(mapTail),\n      setMethods = ['add'].concat(commonInit, forEachName, hasName);\n\n  var isMap = isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n\n  var isWeakMap = isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n\n  var isSet = isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n\n  var isWeakSet = tagTester('WeakSet');\n\n  // Retrieve the values of an object's properties.\n  function values(obj) {\n    var _keys = keys(obj);\n    var length = _keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[_keys[i]];\n    }\n    return values;\n  }\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of `_.object` with one argument.\n  function pairs(obj) {\n    var _keys = keys(obj);\n    var length = _keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [_keys[i], obj[_keys[i]]];\n    }\n    return pairs;\n  }\n\n  // Invert the keys and values of an object. The values must be serializable.\n  function invert(obj) {\n    var result = {};\n    var _keys = keys(obj);\n    for (var i = 0, length = _keys.length; i < length; i++) {\n      result[obj[_keys[i]]] = _keys[i];\n    }\n    return result;\n  }\n\n  // Return a sorted list of the function names available on the object.\n  function functions(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (isFunction$1(obj[key])) names.push(key);\n    }\n    return names.sort();\n  }\n\n  // An internal function for creating assigner functions.\n  function createAssigner(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  }\n\n  // Extend a given object with all the properties in passed-in object(s).\n  var extend = createAssigner(allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in\n  // object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  var extendOwn = createAssigner(keys);\n\n  // Fill in a given object with default properties.\n  var defaults = createAssigner(allKeys, true);\n\n  // Create a naked function reference for surrogate-prototype-swapping.\n  function ctor() {\n    return function(){};\n  }\n\n  // An internal function for creating a new object that inherits from another.\n  function baseCreate(prototype) {\n    if (!isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    var Ctor = ctor();\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  }\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  function create(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) extendOwn(result, props);\n    return result;\n  }\n\n  // Create a (shallow-cloned) duplicate of an object.\n  function clone(obj) {\n    if (!isObject(obj)) return obj;\n    return isArray(obj) ? obj.slice() : extend({}, obj);\n  }\n\n  // Invokes `interceptor` with the `obj` and then returns `obj`.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  function tap(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  }\n\n  // Normalize a (deep) property `path` to array.\n  // Like `_.iteratee`, this function can be customized.\n  function toPath$1(path) {\n    return isArray(path) ? path : [path];\n  }\n  _$1.toPath = toPath$1;\n\n  // Internal wrapper for `_.toPath` to enable minification.\n  // Similar to `cb` for `_.iteratee`.\n  function toPath(path) {\n    return _$1.toPath(path);\n  }\n\n  // Internal function to obtain a nested property in `obj` along `path`.\n  function deepGet(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  }\n\n  // Get the value of the (deep) property on `path` from `object`.\n  // If any property in `path` does not exist or if the value is\n  // `undefined`, return `defaultValue` instead.\n  // The `path` is normalized through `_.toPath`.\n  function get(object, path, defaultValue) {\n    var value = deepGet(object, toPath(path));\n    return isUndefined(value) ? defaultValue : value;\n  }\n\n  // Shortcut function for checking if an object has a given property directly on\n  // itself (in other words, not on a prototype). Unlike the internal `has`\n  // function, this public version can also traverse nested properties.\n  function has(obj, path) {\n    path = toPath(path);\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (!has$1(obj, key)) return false;\n      obj = obj[key];\n    }\n    return !!length;\n  }\n\n  // Keep the identity function around for default iteratees.\n  function identity(value) {\n    return value;\n  }\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  function matcher(attrs) {\n    attrs = extendOwn({}, attrs);\n    return function(obj) {\n      return isMatch(obj, attrs);\n    };\n  }\n\n  // Creates a function that, when passed an object, will traverse that object’s\n  // properties down the given `path`, specified as an array of keys or indices.\n  function property(path) {\n    path = toPath(path);\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  }\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  function optimizeCb(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because we’re not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  }\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result — either `_.identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  function baseIteratee(value, context, argCount) {\n    if (value == null) return identity;\n    if (isFunction$1(value)) return optimizeCb(value, context, argCount);\n    if (isObject(value) && !isArray(value)) return matcher(value);\n    return property(value);\n  }\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only `argCount` argument.\n  function iteratee(value, context) {\n    return baseIteratee(value, context, Infinity);\n  }\n  _$1.iteratee = iteratee;\n\n  // The function we call internally to generate a callback. It invokes\n  // `_.iteratee` if overridden, otherwise `baseIteratee`.\n  function cb(value, context, argCount) {\n    if (_$1.iteratee !== iteratee) return _$1.iteratee(value, context);\n    return baseIteratee(value, context, argCount);\n  }\n\n  // Returns the results of applying the `iteratee` to each element of `obj`.\n  // In contrast to `_.map` it returns an object.\n  function mapObject(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var _keys = keys(obj),\n        length = _keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  }\n\n  // Predicate-generating function. Often useful outside of Underscore.\n  function noop(){}\n\n  // Generates a function for a given object that returns a given property.\n  function propertyOf(obj) {\n    if (obj == null) return noop;\n    return function(path) {\n      return get(obj, path);\n    };\n  }\n\n  // Run a function **n** times.\n  function times(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  }\n\n  // Return a random integer between `min` and `max` (inclusive).\n  function random(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  }\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  var now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // Internal helper to generate functions for escaping and unescaping strings\n  // to/from HTML interpolation.\n  function createEscaper(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  }\n\n  // Internal list of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n\n  // Function for escaping strings to HTML interpolation.\n  var _escape = createEscaper(escapeMap);\n\n  // Internal list of HTML entities for unescaping.\n  var unescapeMap = invert(escapeMap);\n\n  // Function for unescaping strings from HTML interpolation.\n  var _unescape = createEscaper(unescapeMap);\n\n  // By default, Underscore uses ERB-style template delimiters. Change the\n  // following template settings to use alternative delimiters.\n  var templateSettings = _$1.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `_.templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  function escapeChar(match) {\n    return '\\\\' + escapes[match];\n  }\n\n  // In order to prevent third-party code injection through\n  // `_.templateSettings.variable`, we test it against the following regular\n  // expression. It is intentionally a bit more liberal than just matching valid\n  // identifiers, but still prevents possible loopholes through defaults or\n  // destructuring assignment.\n  var bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  function template(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = defaults({}, settings, _$1.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    var argument = settings.variable;\n    if (argument) {\n      // Insure against third-party code injection. (CVE-2021-23358)\n      if (!bareIdentifier.test(argument)) throw new Error(\n        'variable is not a bare identifier: ' + argument\n      );\n    } else {\n      // If a variable is not specified, place data values in local scope.\n      source = 'with(obj||{}){\\n' + source + '}\\n';\n      argument = 'obj';\n    }\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(argument, '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _$1);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  }\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  function result(obj, path, fallback) {\n    path = toPath(path);\n    var length = path.length;\n    if (!length) {\n      return isFunction$1(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = isFunction$1(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  }\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  function uniqueId(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  }\n\n  // Start chaining a wrapped Underscore object.\n  function chain(obj) {\n    var instance = _$1(obj);\n    instance._chain = true;\n    return instance;\n  }\n\n  // Internal function to execute `sourceFunc` bound to `context` with optional\n  // `args`. Determines whether to execute a function as a constructor or as a\n  // normal function.\n  function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (isObject(result)) return result;\n    return self;\n  }\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. `_` acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n  var partial = restArguments(function(func, boundArgs) {\n    var placeholder = partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  partial.placeholder = _$1;\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally).\n  var bind = restArguments(function(func, context, args) {\n    if (!isFunction$1(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Internal helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var isArrayLike = createSizePropertyCheck(getLength);\n\n  // Internal implementation of a recursive `flatten` function.\n  function flatten$1(input, depth, strict, output) {\n    output = output || [];\n    if (!depth && depth !== 0) {\n      depth = Infinity;\n    } else if (depth <= 0) {\n      return output.concat(input);\n    }\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (isArray(value) || isArguments$1(value))) {\n        // Flatten current level of array or arguments object.\n        if (depth > 1) {\n          flatten$1(value, depth - 1, strict, output);\n          idx = output.length;\n        } else {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  }\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  var bindAll = restArguments(function(obj, keys) {\n    keys = flatten$1(keys, false, false);\n    var index = keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = keys[index];\n      obj[key] = bind(obj[key], obj);\n    }\n    return obj;\n  });\n\n  // Memoize an expensive function by storing its results.\n  function memoize(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!has$1(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  }\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  var delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  var defer = partial(delay, _$1, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  function throttle(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var _now = now();\n      if (!previous && options.leading === false) previous = _now;\n      var remaining = wait - (_now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = _now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  }\n\n  // When a sequence of calls of the returned function ends, the argument\n  // function is triggered. The end of a sequence is defined by the `wait`\n  // parameter. If `immediate` is passed, the argument function will be\n  // triggered at the beginning of the sequence instead of at the end.\n  function debounce(func, wait, immediate) {\n    var timeout, previous, args, result, context;\n\n    var later = function() {\n      var passed = now() - previous;\n      if (wait > passed) {\n        timeout = setTimeout(later, wait - passed);\n      } else {\n        timeout = null;\n        if (!immediate) result = func.apply(context, args);\n        // This check is needed because `func` can recursively invoke `debounced`.\n        if (!timeout) args = context = null;\n      }\n    };\n\n    var debounced = restArguments(function(_args) {\n      context = this;\n      args = _args;\n      previous = now();\n      if (!timeout) {\n        timeout = setTimeout(later, wait);\n        if (immediate) result = func.apply(context, args);\n      }\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = args = context = null;\n    };\n\n    return debounced;\n  }\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  function wrap(func, wrapper) {\n    return partial(wrapper, func);\n  }\n\n  // Returns a negated version of the passed-in predicate.\n  function negate(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  }\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  function compose() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  }\n\n  // Returns a function that will only be executed on and after the Nth call.\n  function after(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  }\n\n  // Returns a function that will only be executed up to (but not including) the\n  // Nth call.\n  function before(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  }\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  var once = partial(before, 2);\n\n  // Returns the first key on an object that passes a truth test.\n  function findKey(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var _keys = keys(obj), key;\n    for (var i = 0, length = _keys.length; i < length; i++) {\n      key = _keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  }\n\n  // Internal function to generate `_.findIndex` and `_.findLastIndex`.\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a truth test.\n  var findIndex = createPredicateIndexFinder(1);\n\n  // Returns the last index on an array-like that passes a truth test.\n  var findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  function sortedIndex(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  }\n\n  // Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), isNaN$1);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  var indexOf = createIndexFinder(1, findIndex, sortedIndex);\n\n  // Return the position of the last occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  var lastIndexOf = createIndexFinder(-1, findLastIndex);\n\n  // Return the first value which passes a truth test.\n  function find(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  }\n\n  // Convenience version of a common use case of `_.find`: getting the first\n  // object containing specific `key:value` pairs.\n  function findWhere(obj, attrs) {\n    return find(obj, matcher(attrs));\n  }\n\n  // The cornerstone for collection functions, an `each`\n  // implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  function each(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var _keys = keys(obj);\n      for (i = 0, length = _keys.length; i < length; i++) {\n        iteratee(obj[_keys[i]], _keys[i], obj);\n      }\n    }\n    return obj;\n  }\n\n  // Return the results of applying the iteratee to each element.\n  function map(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys ? _keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  }\n\n  // Internal helper to create a reducing function, iterating left or right.\n  function createReduce(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var _keys = !isArrayLike(obj) && keys(obj),\n          length = (_keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[_keys ? _keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = _keys ? _keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  var reduce = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  var reduceRight = createReduce(-1);\n\n  // Return all the elements that pass a truth test.\n  function filter(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  }\n\n  // Return all the elements for which a truth test fails.\n  function reject(obj, predicate, context) {\n    return filter(obj, negate(cb(predicate)), context);\n  }\n\n  // Determine whether all of the elements pass a truth test.\n  function every(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys ? _keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  }\n\n  // Determine if at least one element in the object passes a truth test.\n  function some(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys ? _keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  }\n\n  // Determine if the array or object contains a given item (using `===`).\n  function contains(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return indexOf(obj, item, fromIndex) >= 0;\n  }\n\n  // Invoke a method (with arguments) on every item in a collection.\n  var invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (isFunction$1(path)) {\n      func = path;\n    } else {\n      path = toPath(path);\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `_.map`: fetching a property.\n  function pluck(obj, key) {\n    return map(obj, property(key));\n  }\n\n  // Convenience version of a common use case of `_.filter`: selecting only\n  // objects containing specific `key:value` pairs.\n  function where(obj, attrs) {\n    return filter(obj, matcher(attrs));\n  }\n\n  // Return the maximum element (or element-based computation).\n  function max(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n      obj = isArrayLike(obj) ? obj : values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || (computed === -Infinity && result === -Infinity)) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  }\n\n  // Return the minimum element (or element-based computation).\n  function min(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n      obj = isArrayLike(obj) ? obj : values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || (computed === Infinity && result === Infinity)) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  }\n\n  // Safely create a real, live array from anything iterable.\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  function toArray(obj) {\n    if (!obj) return [];\n    if (isArray(obj)) return slice.call(obj);\n    if (isString(obj)) {\n      // Keep surrogate pair characters together.\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return map(obj, identity);\n    return values(obj);\n  }\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `_.map`.\n  function sample(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = values(obj);\n      return obj[random(obj.length - 1)];\n    }\n    var sample = toArray(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  }\n\n  // Shuffle a collection.\n  function shuffle(obj) {\n    return sample(obj, Infinity);\n  }\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  function sortBy(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return pluck(map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  }\n\n  // An internal function used for aggregate \"group by\" operations.\n  function group(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  }\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  var groupBy = group(function(result, value, key) {\n    if (has$1(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n  // when you know that your index values will be unique.\n  var indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  var countBy = group(function(result, value, key) {\n    if (has$1(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Split a collection into two arrays: one whose elements all pass the given\n  // truth test, and one whose elements all do not pass the truth test.\n  var partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Return the number of elements in a collection.\n  function size(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : keys(obj).length;\n  }\n\n  // Internal `_.pick` helper function to determine whether `key` is an enumerable\n  // property name of `obj`.\n  function keyInObj(value, key, obj) {\n    return key in obj;\n  }\n\n  // Return a copy of the object only containing the allowed properties.\n  var pick = restArguments(function(obj, keys) {\n    var result = {}, iteratee = keys[0];\n    if (obj == null) return result;\n    if (isFunction$1(iteratee)) {\n      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n      keys = allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      keys = flatten$1(keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the disallowed properties.\n  var omit = restArguments(function(obj, keys) {\n    var iteratee = keys[0], context;\n    if (isFunction$1(iteratee)) {\n      iteratee = negate(iteratee);\n      if (keys.length > 1) context = keys[1];\n    } else {\n      keys = map(flatten$1(keys, false, false), String);\n      iteratee = function(value, key) {\n        return !contains(keys, key);\n      };\n    }\n    return pick(obj, iteratee, context);\n  });\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  function initial(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  }\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. The **guard** check allows it to work with `_.map`.\n  function first(array, n, guard) {\n    if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return initial(array, array.length - n);\n  }\n\n  // Returns everything but the first entry of the `array`. Especially useful on\n  // the `arguments` object. Passing an **n** will return the rest N values in the\n  // `array`.\n  function rest(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  }\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  function last(array, n, guard) {\n    if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return rest(array, Math.max(0, array.length - n));\n  }\n\n  // Trim out all falsy values from an array.\n  function compact(array) {\n    return filter(array, Boolean);\n  }\n\n  // Flatten out an array, either recursively (by default), or up to `depth`.\n  // Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\n  function flatten(array, depth) {\n    return flatten$1(array, depth, false);\n  }\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  var difference = restArguments(function(array, rest) {\n    rest = flatten$1(rest, true, true);\n    return filter(array, function(value){\n      return !contains(rest, value);\n    });\n  });\n\n  // Return a version of the array that does not contain the specified value(s).\n  var without = restArguments(function(array, otherArrays) {\n    return difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  function uniq(array, isSorted, iteratee, context) {\n    if (!isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  var union = restArguments(function(arrays) {\n    return uniq(flatten$1(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  function intersection(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  }\n\n  // Complement of zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  function unzip(array) {\n    var length = (array && max(array, getLength).length) || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = pluck(array, index);\n    }\n    return result;\n  }\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  var zip = restArguments(unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of `_.pairs`.\n  function object(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  }\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](https://docs.python.org/library/functions.html#range).\n  function range(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  }\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  function chunk(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  }\n\n  // Helper function to continue chaining intermediate results.\n  function chainResult(instance, obj) {\n    return instance._chain ? _$1(obj).chain() : obj;\n  }\n\n  // Add your own custom functions to the Underscore object.\n  function mixin(obj) {\n    each(functions(obj), function(name) {\n      var func = _$1[name] = obj[name];\n      _$1.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_$1, args));\n      };\n    });\n    return _$1;\n  }\n\n  // Add all mutator `Array` functions to the wrapper.\n  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _$1.prototype[name] = function() {\n      var obj = this._wrapped;\n      if (obj != null) {\n        method.apply(obj, arguments);\n        if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n          delete obj[0];\n        }\n      }\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor `Array` functions to the wrapper.\n  each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _$1.prototype[name] = function() {\n      var obj = this._wrapped;\n      if (obj != null) obj = method.apply(obj, arguments);\n      return chainResult(this, obj);\n    };\n  });\n\n  // Named Exports\n\n  var allExports = {\n    __proto__: null,\n    VERSION: VERSION,\n    restArguments: restArguments,\n    isObject: isObject,\n    isNull: isNull,\n    isUndefined: isUndefined,\n    isBoolean: isBoolean,\n    isElement: isElement,\n    isString: isString,\n    isNumber: isNumber,\n    isDate: isDate,\n    isRegExp: isRegExp,\n    isError: isError,\n    isSymbol: isSymbol,\n    isArrayBuffer: isArrayBuffer,\n    isDataView: isDataView$1,\n    isArray: isArray,\n    isFunction: isFunction$1,\n    isArguments: isArguments$1,\n    isFinite: isFinite$1,\n    isNaN: isNaN$1,\n    isTypedArray: isTypedArray$1,\n    isEmpty: isEmpty,\n    isMatch: isMatch,\n    isEqual: isEqual,\n    isMap: isMap,\n    isWeakMap: isWeakMap,\n    isSet: isSet,\n    isWeakSet: isWeakSet,\n    keys: keys,\n    allKeys: allKeys,\n    values: values,\n    pairs: pairs,\n    invert: invert,\n    functions: functions,\n    methods: functions,\n    extend: extend,\n    extendOwn: extendOwn,\n    assign: extendOwn,\n    defaults: defaults,\n    create: create,\n    clone: clone,\n    tap: tap,\n    get: get,\n    has: has,\n    mapObject: mapObject,\n    identity: identity,\n    constant: constant,\n    noop: noop,\n    toPath: toPath$1,\n    property: property,\n    propertyOf: propertyOf,\n    matcher: matcher,\n    matches: matcher,\n    times: times,\n    random: random,\n    now: now,\n    escape: _escape,\n    unescape: _unescape,\n    templateSettings: templateSettings,\n    template: template,\n    result: result,\n    uniqueId: uniqueId,\n    chain: chain,\n    iteratee: iteratee,\n    partial: partial,\n    bind: bind,\n    bindAll: bindAll,\n    memoize: memoize,\n    delay: delay,\n    defer: defer,\n    throttle: throttle,\n    debounce: debounce,\n    wrap: wrap,\n    negate: negate,\n    compose: compose,\n    after: after,\n    before: before,\n    once: once,\n    findKey: findKey,\n    findIndex: findIndex,\n    findLastIndex: findLastIndex,\n    sortedIndex: sortedIndex,\n    indexOf: indexOf,\n    lastIndexOf: lastIndexOf,\n    find: find,\n    detect: find,\n    findWhere: findWhere,\n    each: each,\n    forEach: each,\n    map: map,\n    collect: map,\n    reduce: reduce,\n    foldl: reduce,\n    inject: reduce,\n    reduceRight: reduceRight,\n    foldr: reduceRight,\n    filter: filter,\n    select: filter,\n    reject: reject,\n    every: every,\n    all: every,\n    some: some,\n    any: some,\n    contains: contains,\n    includes: contains,\n    include: contains,\n    invoke: invoke,\n    pluck: pluck,\n    where: where,\n    max: max,\n    min: min,\n    shuffle: shuffle,\n    sample: sample,\n    sortBy: sortBy,\n    groupBy: groupBy,\n    indexBy: indexBy,\n    countBy: countBy,\n    partition: partition,\n    toArray: toArray,\n    size: size,\n    pick: pick,\n    omit: omit,\n    first: first,\n    head: first,\n    take: first,\n    initial: initial,\n    last: last,\n    rest: rest,\n    tail: rest,\n    drop: rest,\n    compact: compact,\n    flatten: flatten,\n    without: without,\n    uniq: uniq,\n    unique: uniq,\n    union: union,\n    intersection: intersection,\n    difference: difference,\n    unzip: unzip,\n    transpose: unzip,\n    zip: zip,\n    object: object,\n    range: range,\n    chunk: chunk,\n    mixin: mixin,\n    'default': _$1\n  };\n\n  // Default Export\n\n  // Add all of the Underscore functions to the wrapper object.\n  var _ = mixin(allExports);\n  // Legacy Node.js API.\n  _._ = _;\n\n  return _;\n\n})));\n//# sourceMappingURL=underscore-umd.js.map\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst tailLength_1 = __importDefault(require(\"./tailLength\"));\nconst round_1 = __importDefault(require(\"./round\"));\nconst underscore_1 = require(\"underscore\");\nmodule.exports = function significantDimension(values, tolerance = 0.1) {\n    let result = [];\n    let decimals = 0;\n    const uniqValues = (0, underscore_1.uniq)(values.filter(underscore_1.isFinite));\n    const totalUniq = uniqValues.length;\n    let check;\n    let diff;\n    const accepted = Math.floor(totalUniq * (1 - tolerance));\n    if (uniqValues.length < 3) {\n        // special case if there are only 2 unique values\n        return Math.round(uniqValues.reduce(function (acc, cur) {\n            if (!cur)\n                return acc;\n            const exp = Math.log(Math.abs(cur)) / Math.LN10;\n            if (exp < 8 && exp > -3) {\n                // use tail length for normal numbers\n                return acc + Math.min(3, (0, tailLength_1.default)(uniqValues[0]));\n            }\n            else {\n                return acc + (exp > 0 ? (exp - 1) * -1 : exp * -1);\n            }\n        }, 0) / uniqValues.length);\n    }\n    if ((0, underscore_1.uniq)(uniqValues.map(currentRound)).length > accepted) {\n        // we seem to have enough precision, but maybe it's too much?\n        check = function () {\n            return (0, underscore_1.uniq)(result).length === totalUniq;\n        };\n        diff = -1;\n    }\n    else {\n        // if we end up here it means we're loosing too much information\n        // due to rounding, we need to increase precision\n        check = function () {\n            return (0, underscore_1.uniq)(result).length <= accepted;\n        };\n        diff = +1;\n    }\n    let maxIter = 100;\n    do {\n        result = uniqValues.map(currentRound);\n        decimals += diff;\n    } while (check() && maxIter-- > 0);\n    if (maxIter < 10) {\n        console.warn('maximum iteration reached', values, result, decimals);\n    }\n    if (diff < 0)\n        decimals += 2;\n    else\n        decimals--;\n    /* rounds to the current number of decimals */\n    function currentRound(v) {\n        return (0, round_1.default)(v, decimals);\n    }\n    return decimals;\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst significantDimension_1 = __importDefault(require(\"./significantDimension\"));\nconst round_1 = __importDefault(require(\"./round\"));\nmodule.exports = function smartRound(values, addPrecision = 0, tolerance = 0.1) {\n    let dim = (0, significantDimension_1.default)(values, tolerance);\n    dim += addPrecision;\n    return values.map(v => (0, round_1.default)(v, dim));\n};\n","\"use strict\";\nfunction clone(o) {\n    if (!o || typeof o !== 'object')\n        return o;\n    try {\n        return JSON.parse(JSON.stringify(o));\n    }\n    catch (e) {\n        return o;\n    }\n}\nmodule.exports = clone;\n","export function outerHeight(element, withMargin = false) {\n    if (!element) return null;\n    let height = element.offsetHeight;\n    if (!withMargin) return height;\n    var style = getComputedStyle(element);\n    height += parseInt(style.marginTop) + parseInt(style.marginBottom);\n    return height;\n}\n\nexport function getNonChartHeight() {\n    let h = 0;\n\n    const chart = document.querySelector('.dw-chart .dw-chart-styles');\n    for (let i = 0; i < chart.children.length; i++) {\n        const el = chart.children[i];\n        const tagName = el.tagName.toLowerCase();\n        if (\n            tagName !== 'script' &&\n            tagName !== 'style' &&\n            el.id !== 'chart' &&\n            !hasClass(el, 'tooltip') &&\n            !hasClass(el, 'vg-tooltip') &&\n            !hasClass(el, 'hidden') &&\n            !hasClass(el, 'sr-only') &&\n            !hasClass(el, 'qtip') &&\n            !hasClass(el, 'container') &&\n            !hasClass(el, 'noscript') &&\n            !hasClass(el, 'hidden') &&\n            !hasClass(el, 'dw-after-body') &&\n            !hasClass(el, 'dw-chart-body')\n        ) {\n            h += Number(outerHeight(el, true));\n\n            if (hasClass(el, 'dw-chart-header')) {\n                const filter = el.querySelector('.filter-ui');\n                if (filter) h -= Number(outerHeight(filter, true));\n            }\n        }\n    }\n\n    function hasClass(el, className) {\n        return el.classList.contains(className);\n    }\n\n    function getProp(selector, property) {\n        return getComputedStyle(document.querySelector(selector))[property].replace('px', '');\n    }\n\n    const selectors = ['.dw-chart', '.dw-chart-styles', '.dw-chart-body', 'body'];\n    const properties = [\n        'padding-top',\n        'padding-bottom',\n        'margin-top',\n        'margin-bottom',\n        'border-top-width',\n        'border-bottom-width'\n    ];\n\n    selectors.forEach(function (sel) {\n        properties.forEach(function (prop) {\n            h += Number(getProp(sel, prop));\n        });\n    });\n\n    return h;\n}\n","export var TEOF = 'TEOF';\nexport var TOP = 'TOP';\nexport var TNUMBER = 'TNUMBER';\nexport var TSTRING = 'TSTRING';\nexport var TPAREN = 'TPAREN';\nexport var TBRACKET = 'TBRACKET';\nexport var TCOMMA = 'TCOMMA';\nexport var TNAME = 'TNAME';\nexport var TSEMICOLON = 'TSEMICOLON';\n\nexport function Token(type, value, index) {\n  this.type = type;\n  this.value = value;\n  this.index = index;\n}\n\nToken.prototype.toString = function () {\n  return this.type + ': ' + this.value;\n};\n","import { Token, TEOF, TOP, TNUMBER, TSTRING, TPAREN, TBRACKET, TCOMMA, TNAME, TSEMICOLON } from './token.js';\n\nexport function TokenStream(parser, expression) {\n  this.pos = 0;\n  this.current = null;\n  this.unaryOps = parser.unaryOps;\n  this.binaryOps = parser.binaryOps;\n  this.ternaryOps = parser.ternaryOps;\n  this.consts = parser.consts;\n  this.expression = expression;\n  this.savedPosition = 0;\n  this.savedCurrent = null;\n  this.options = parser.options;\n  this.parser = parser;\n}\n\nTokenStream.prototype.newToken = function (type, value, pos) {\n  return new Token(type, value, pos != null ? pos : this.pos);\n};\n\nTokenStream.prototype.save = function () {\n  this.savedPosition = this.pos;\n  this.savedCurrent = this.current;\n};\n\nTokenStream.prototype.restore = function () {\n  this.pos = this.savedPosition;\n  this.current = this.savedCurrent;\n};\n\nTokenStream.prototype.next = function () {\n  if (this.pos >= this.expression.length) {\n    return this.newToken(TEOF, 'EOF');\n  }\n\n  if (this.isWhitespace() || this.isComment()) {\n    return this.next();\n  } else if (\n    this.isRadixInteger() ||\n    this.isNumber() ||\n    this.isOperator() ||\n    this.isString() ||\n    this.isParen() ||\n    this.isBracket() ||\n    this.isComma() ||\n    this.isSemicolon() ||\n    this.isNamedOp() ||\n    this.isConst() ||\n    this.isName()\n  ) {\n    return this.current;\n  } else {\n    this.parseError('Unknown character \"' + this.expression.charAt(this.pos) + '\"');\n  }\n};\n\nTokenStream.prototype.isString = function () {\n  var r = false;\n  var startPos = this.pos;\n  var quote = this.expression.charAt(startPos);\n\n  if (quote === \"'\" || quote === '\"') {\n    var index = this.expression.indexOf(quote, startPos + 1);\n    while (index >= 0 && this.pos < this.expression.length) {\n      this.pos = index + 1;\n      if (this.expression.charAt(index - 1) !== '\\\\') {\n        var rawString = this.expression.substring(startPos + 1, index);\n        this.current = this.newToken(TSTRING, this.unescape(rawString), startPos);\n        r = true;\n        break;\n      }\n      index = this.expression.indexOf(quote, index + 1);\n    }\n  }\n  return r;\n};\n\nTokenStream.prototype.isParen = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === '(' || c === ')') {\n    this.current = this.newToken(TPAREN, c);\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isBracket = function () {\n  var c = this.expression.charAt(this.pos);\n  if ((c === '[' || c === ']') && this.isOperatorEnabled('[')) {\n    this.current = this.newToken(TBRACKET, c);\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isComma = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === ',') {\n    this.current = this.newToken(TCOMMA, ',');\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isSemicolon = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === ';') {\n    this.current = this.newToken(TSEMICOLON, ';');\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isConst = function () {\n  var startPos = this.pos;\n  var i = startPos;\n  for (; i < this.expression.length; i++) {\n    var c = this.expression.charAt(i);\n    if (c.toUpperCase() === c.toLowerCase()) {\n      if (i === this.pos || (c !== '_' && c !== '.' && (c < '0' || c > '9'))) {\n        break;\n      }\n    }\n  }\n  if (i > startPos) {\n    var str = this.expression.substring(startPos, i);\n    if (str in this.consts) {\n      this.current = this.newToken(TNUMBER, this.consts[str]);\n      this.pos += str.length;\n      return true;\n    }\n  }\n  return false;\n};\n\nTokenStream.prototype.isNamedOp = function () {\n  var startPos = this.pos;\n  var i = startPos;\n  for (; i < this.expression.length; i++) {\n    var c = this.expression.charAt(i);\n    if (c.toUpperCase() === c.toLowerCase()) {\n      if (i === this.pos || (c !== '_' && (c < '0' || c > '9'))) {\n        break;\n      }\n    }\n  }\n  if (i > startPos) {\n    var str = this.expression.substring(startPos, i);\n    if (this.isOperatorEnabled(str) && (str in this.binaryOps || str in this.unaryOps || str in this.ternaryOps)) {\n      this.current = this.newToken(TOP, str);\n      this.pos += str.length;\n      return true;\n    }\n  }\n  return false;\n};\n\nTokenStream.prototype.isName = function () {\n  var startPos = this.pos;\n  var i = startPos;\n  var hasLetter = false;\n  for (; i < this.expression.length; i++) {\n    var c = this.expression.charAt(i);\n    if (c.toUpperCase() === c.toLowerCase()) {\n      if (i === this.pos && (c === '$' || c === '_')) {\n        if (c === '_') {\n          hasLetter = true;\n        }\n        continue;\n      } else if (i === this.pos || !hasLetter || (c !== '_' && (c < '0' || c > '9'))) {\n        break;\n      }\n    } else {\n      hasLetter = true;\n    }\n  }\n  if (hasLetter) {\n    var str = this.expression.substring(startPos, i);\n    this.current = this.newToken(TNAME, str);\n    this.pos += str.length;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isWhitespace = function () {\n  var r = false;\n  var c = this.expression.charAt(this.pos);\n  while (c === ' ' || c === '\\t' || c === '\\n' || c === '\\r') {\n    r = true;\n    this.pos++;\n    if (this.pos >= this.expression.length) {\n      break;\n    }\n    c = this.expression.charAt(this.pos);\n  }\n  return r;\n};\n\nvar codePointPattern = /^[0-9a-f]{4}$/i;\n\nTokenStream.prototype.unescape = function (v) {\n  var index = v.indexOf('\\\\');\n  if (index < 0) {\n    return v;\n  }\n\n  var buffer = v.substring(0, index);\n  while (index >= 0) {\n    var c = v.charAt(++index);\n    switch (c) {\n      case \"'\":\n        buffer += \"'\";\n        break;\n      case '\"':\n        buffer += '\"';\n        break;\n      case '\\\\':\n        buffer += '\\\\';\n        break;\n      case '/':\n        buffer += '/';\n        break;\n      case 'b':\n        buffer += '\\b';\n        break;\n      case 'f':\n        buffer += '\\f';\n        break;\n      case 'n':\n        buffer += '\\n';\n        break;\n      case 'r':\n        buffer += '\\r';\n        break;\n      case 't':\n        buffer += '\\t';\n        break;\n      case 'u':\n        // interpret the following 4 characters as the hex of the unicode code point\n        var codePoint = v.substring(index + 1, index + 5);\n        if (!codePointPattern.test(codePoint)) {\n          this.parseError('Illegal escape sequence: \\\\u' + codePoint);\n        }\n        buffer += String.fromCharCode(parseInt(codePoint, 16));\n        index += 4;\n        break;\n      default:\n        throw this.parseError('Illegal escape sequence: \"\\\\' + c + '\"');\n    }\n    ++index;\n    var backslash = v.indexOf('\\\\', index);\n    buffer += v.substring(index, backslash < 0 ? v.length : backslash);\n    index = backslash;\n  }\n\n  return buffer;\n};\n\nTokenStream.prototype.isComment = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === '/' && this.expression.charAt(this.pos + 1) === '*') {\n    this.pos = this.expression.indexOf('*/', this.pos) + 2;\n    if (this.pos === 1) {\n      this.pos = this.expression.length;\n    }\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isRadixInteger = function () {\n  var pos = this.pos;\n\n  if (pos >= this.expression.length - 2 || this.expression.charAt(pos) !== '0') {\n    return false;\n  }\n  ++pos;\n\n  var radix;\n  var validDigit;\n  if (this.expression.charAt(pos) === 'x') {\n    radix = 16;\n    validDigit = /^[0-9a-f]$/i;\n    ++pos;\n  } else if (this.expression.charAt(pos) === 'b') {\n    radix = 2;\n    validDigit = /^[01]$/i;\n    ++pos;\n  } else {\n    return false;\n  }\n\n  var valid = false;\n  var startPos = pos;\n\n  while (pos < this.expression.length) {\n    var c = this.expression.charAt(pos);\n    if (validDigit.test(c)) {\n      pos++;\n      valid = true;\n    } else {\n      break;\n    }\n  }\n\n  if (valid) {\n    this.current = this.newToken(TNUMBER, parseInt(this.expression.substring(startPos, pos), radix));\n    this.pos = pos;\n  }\n  return valid;\n};\n\nTokenStream.prototype.isNumber = function () {\n  var valid = false;\n  var pos = this.pos;\n  var startPos = pos;\n  var resetPos = pos;\n  var foundDot = false;\n  var foundDigits = false;\n  var c;\n\n  while (pos < this.expression.length) {\n    c = this.expression.charAt(pos);\n    if ((c >= '0' && c <= '9') || (!foundDot && c === '.')) {\n      if (c === '.') {\n        foundDot = true;\n      } else {\n        foundDigits = true;\n      }\n      pos++;\n      valid = foundDigits;\n    } else {\n      break;\n    }\n  }\n\n  if (valid) {\n    resetPos = pos;\n  }\n\n  if (c === 'e' || c === 'E') {\n    pos++;\n    var acceptSign = true;\n    var validExponent = false;\n    while (pos < this.expression.length) {\n      c = this.expression.charAt(pos);\n      if (acceptSign && (c === '+' || c === '-')) {\n        acceptSign = false;\n      } else if (c >= '0' && c <= '9') {\n        validExponent = true;\n        acceptSign = false;\n      } else {\n        break;\n      }\n      pos++;\n    }\n\n    if (!validExponent) {\n      pos = resetPos;\n    }\n  }\n\n  if (valid) {\n    this.current = this.newToken(TNUMBER, parseFloat(this.expression.substring(startPos, pos)));\n    this.pos = pos;\n  } else {\n    this.pos = resetPos;\n  }\n  return valid;\n};\n\nTokenStream.prototype.isOperator = function () {\n  var startPos = this.pos;\n  var c = this.expression.charAt(this.pos);\n\n  if (c === '+' || c === '-' || c === '*' || c === '/' || c === '%' || c === '^' || c === '?' || c === ':' || c === '.') {\n    this.current = this.newToken(TOP, c);\n  } else if (c === '∙' || c === '•') {\n    this.current = this.newToken(TOP, '*');\n  } else if (c === '>') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '>=');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, '>');\n    }\n  } else if (c === '<') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '<=');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, '<');\n    }\n  } else if (c === '|') {\n    if (this.expression.charAt(this.pos + 1) === '|') {\n      this.current = this.newToken(TOP, '||');\n      this.pos++;\n    } else {\n      return false;\n    }\n  } else if (c === '=') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '==');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, c);\n    }\n  } else if (c === '!') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '!=');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, c);\n    }\n  } else {\n    return false;\n  }\n  this.pos++;\n\n  if (this.isOperatorEnabled(this.current.value)) {\n    return true;\n  } else {\n    this.pos = startPos;\n    return false;\n  }\n};\n\nTokenStream.prototype.isOperatorEnabled = function (op) {\n  return this.parser.isOperatorEnabled(op);\n};\n\nTokenStream.prototype.getCoordinates = function () {\n  var line = 0;\n  var column;\n  var newline = -1;\n  do {\n    line++;\n    column = this.pos - newline;\n    newline = this.expression.indexOf('\\n', newline + 1);\n  } while (newline >= 0 && newline < this.pos);\n\n  return {\n    line: line,\n    column: column\n  };\n};\n\nTokenStream.prototype.parseError = function (msg) {\n  var coords = this.getCoordinates();\n  throw new Error('parse error [' + coords.line + ':' + coords.column + ']: ' + msg);\n};\n","export var INUMBER = 'INUMBER';\nexport var IOP1 = 'IOP1';\nexport var IOP2 = 'IOP2';\nexport var IOP3 = 'IOP3';\nexport var IVAR = 'IVAR';\nexport var IVARNAME = 'IVARNAME';\nexport var IFUNCALL = 'IFUNCALL';\nexport var IFUNDEF = 'IFUNDEF';\nexport var IEXPR = 'IEXPR';\nexport var IEXPREVAL = 'IEXPREVAL';\nexport var IMEMBER = 'IMEMBER';\nexport var IENDSTATEMENT = 'IENDSTATEMENT';\nexport var IARRAY = 'IARRAY';\n\nexport function Instruction(type, value) {\n  this.type = type;\n  this.value = value !== undefined && value !== null ? value : 0;\n}\n\nInstruction.prototype.toString = function () {\n  switch (this.type) {\n    case INUMBER:\n    case IOP1:\n    case IOP2:\n    case IOP3:\n    case IVAR:\n    case IVARNAME:\n    case IENDSTATEMENT:\n      return this.value;\n    case IFUNCALL:\n      return 'CALL ' + this.value;\n    case IFUNDEF:\n      return 'DEF ' + this.value;\n    case IARRAY:\n      return 'ARRAY ' + this.value;\n    case IMEMBER:\n      return '.' + this.value;\n    default:\n      return 'Invalid Instruction';\n  }\n};\n\nexport function unaryInstruction(value) {\n  return new Instruction(IOP1, value);\n}\n\nexport function binaryInstruction(value) {\n  return new Instruction(IOP2, value);\n}\n\nexport function ternaryInstruction(value) {\n  return new Instruction(IOP3, value);\n}\n","import { TOP, TNUMBER, TSTRING, TPAREN, TBRACKET, TCOMMA, TNAME, TSEMICOLON, TEOF } from './token.js';\nimport { Instruction, INUMBER, IVAR, IVARNAME, IFUNCALL, IFUNDEF, IEXPR, IMEMBER, IENDSTATEMENT, IARRAY, ternaryInstruction, binaryInstruction, unaryInstruction } from './instruction.js';\nimport contains from './contains.js';\n\nexport function ParserState(parser, tokenStream, options) {\n  this.parser = parser;\n  this.tokens = tokenStream;\n  this.current = null;\n  this.nextToken = null;\n  this.next();\n  this.savedCurrent = null;\n  this.savedNextToken = null;\n  this.allowMemberAccess = options.allowMemberAccess !== false;\n  this.restrictMemberAccess = new Set(options.restrictMemberAccess || []);\n}\n\nParserState.prototype.next = function () {\n  this.current = this.nextToken;\n  return (this.nextToken = this.tokens.next());\n};\n\nParserState.prototype.tokenMatches = function (token, value) {\n  if (typeof value === 'undefined') {\n    return true;\n  } else if (Array.isArray(value)) {\n    return contains(value, token.value);\n  } else if (typeof value === 'function') {\n    return value(token);\n  } else {\n    return token.value === value;\n  }\n};\n\nParserState.prototype.save = function () {\n  this.savedCurrent = this.current;\n  this.savedNextToken = this.nextToken;\n  this.tokens.save();\n};\n\nParserState.prototype.restore = function () {\n  this.tokens.restore();\n  this.current = this.savedCurrent;\n  this.nextToken = this.savedNextToken;\n};\n\nParserState.prototype.accept = function (type, value) {\n  if (this.nextToken.type === type && this.tokenMatches(this.nextToken, value)) {\n    this.next();\n    return true;\n  }\n  return false;\n};\n\nParserState.prototype.expect = function (type, value) {\n  if (!this.accept(type, value)) {\n    var coords = this.tokens.getCoordinates();\n    throw new Error('parse error [' + coords.line + ':' + coords.column + ']: Expected ' + (value || type));\n  }\n};\n\nParserState.prototype.parseAtom = function (instr) {\n  var unaryOps = this.tokens.unaryOps;\n  function isPrefixOperator(token) {\n    return token.value in unaryOps;\n  }\n\n  if (this.accept(TNAME) || this.accept(TOP, isPrefixOperator)) {\n    instr.push(new Instruction(IVAR, this.current.value));\n  } else if (this.accept(TNUMBER)) {\n    instr.push(new Instruction(INUMBER, this.current.value));\n  } else if (this.accept(TSTRING)) {\n    instr.push(new Instruction(INUMBER, this.current.value));\n  } else if (this.accept(TPAREN, '(')) {\n    this.parseExpression(instr);\n    this.expect(TPAREN, ')');\n  } else if (this.accept(TBRACKET, '[')) {\n    if (this.accept(TBRACKET, ']')) {\n      instr.push(new Instruction(IARRAY, 0));\n    } else {\n      var argCount = this.parseArrayList(instr);\n      instr.push(new Instruction(IARRAY, argCount));\n    }\n  } else {\n    throw new Error('unexpected ' + this.nextToken);\n  }\n};\n\nParserState.prototype.parseExpression = function (instr) {\n  var exprInstr = [];\n  if (this.parseUntilEndStatement(instr, exprInstr)) {\n    return;\n  }\n  this.parseVariableAssignmentExpression(exprInstr);\n  if (this.parseUntilEndStatement(instr, exprInstr)) {\n    return;\n  }\n  this.pushExpression(instr, exprInstr);\n};\n\nParserState.prototype.pushExpression = function (instr, exprInstr) {\n  for (var i = 0, len = exprInstr.length; i < len; i++) {\n    instr.push(exprInstr[i]);\n  }\n};\n\nParserState.prototype.parseUntilEndStatement = function (instr, exprInstr) {\n  if (!this.accept(TSEMICOLON)) return false;\n  if (this.nextToken && this.nextToken.type !== TEOF && !(this.nextToken.type === TPAREN && this.nextToken.value === ')')) {\n    exprInstr.push(new Instruction(IENDSTATEMENT));\n  }\n  if (this.nextToken.type !== TEOF) {\n    this.parseExpression(exprInstr);\n  }\n  instr.push(new Instruction(IEXPR, exprInstr));\n  return true;\n};\n\nParserState.prototype.parseArrayList = function (instr) {\n  var argCount = 0;\n\n  while (!this.accept(TBRACKET, ']')) {\n    this.parseExpression(instr);\n    ++argCount;\n    while (this.accept(TCOMMA)) {\n      this.parseExpression(instr);\n      ++argCount;\n    }\n  }\n\n  return argCount;\n};\n\nParserState.prototype.parseVariableAssignmentExpression = function (instr) {\n  this.parseConditionalExpression(instr);\n  while (this.accept(TOP, '=')) {\n    var varName = instr.pop();\n    var varValue = [];\n    var lastInstrIndex = instr.length - 1;\n    if (varName.type === IFUNCALL) {\n      if (!this.tokens.isOperatorEnabled('()=')) {\n        throw new Error('function definition is not permitted');\n      }\n      for (var i = 0, len = varName.value + 1; i < len; i++) {\n        var index = lastInstrIndex - i;\n        if (instr[index].type === IVAR) {\n          instr[index] = new Instruction(IVARNAME, instr[index].value);\n        }\n      }\n      this.parseVariableAssignmentExpression(varValue);\n      instr.push(new Instruction(IEXPR, varValue));\n      instr.push(new Instruction(IFUNDEF, varName.value));\n      continue;\n    }\n    if (varName.type !== IVAR && varName.type !== IMEMBER) {\n      throw new Error('expected variable for assignment');\n    }\n    this.parseVariableAssignmentExpression(varValue);\n    instr.push(new Instruction(IVARNAME, varName.value));\n    instr.push(new Instruction(IEXPR, varValue));\n    instr.push(binaryInstruction('='));\n  }\n};\n\nParserState.prototype.parseConditionalExpression = function (instr) {\n  this.parseOrExpression(instr);\n  while (this.accept(TOP, '?')) {\n    var trueBranch = [];\n    var falseBranch = [];\n    this.parseConditionalExpression(trueBranch);\n    this.expect(TOP, ':');\n    this.parseConditionalExpression(falseBranch);\n    instr.push(new Instruction(IEXPR, trueBranch));\n    instr.push(new Instruction(IEXPR, falseBranch));\n    instr.push(ternaryInstruction('?'));\n  }\n};\n\nParserState.prototype.parseOrExpression = function (instr) {\n  this.parseAndExpression(instr);\n  while (this.accept(TOP, 'or')) {\n    var falseBranch = [];\n    this.parseAndExpression(falseBranch);\n    instr.push(new Instruction(IEXPR, falseBranch));\n    instr.push(binaryInstruction('or'));\n  }\n};\n\nParserState.prototype.parseAndExpression = function (instr) {\n  this.parseComparison(instr);\n  while (this.accept(TOP, 'and')) {\n    var trueBranch = [];\n    this.parseComparison(trueBranch);\n    instr.push(new Instruction(IEXPR, trueBranch));\n    instr.push(binaryInstruction('and'));\n  }\n};\n\nvar COMPARISON_OPERATORS = ['==', '!=', '<', '<=', '>=', '>', 'in'];\n\nParserState.prototype.parseComparison = function (instr) {\n  this.parseAddSub(instr);\n  while (this.accept(TOP, COMPARISON_OPERATORS)) {\n    var op = this.current;\n    this.parseAddSub(instr);\n    instr.push(binaryInstruction(op.value));\n  }\n};\n\nvar ADD_SUB_OPERATORS = ['+', '-', '||'];\n\nParserState.prototype.parseAddSub = function (instr) {\n  this.parseTerm(instr);\n  while (this.accept(TOP, ADD_SUB_OPERATORS)) {\n    var op = this.current;\n    this.parseTerm(instr);\n    instr.push(binaryInstruction(op.value));\n  }\n};\n\nvar TERM_OPERATORS = ['*', '/', '%'];\n\nParserState.prototype.parseTerm = function (instr) {\n  this.parseFactor(instr);\n  while (this.accept(TOP, TERM_OPERATORS)) {\n    var op = this.current;\n    this.parseFactor(instr);\n    instr.push(binaryInstruction(op.value));\n  }\n};\n\nParserState.prototype.parseFactor = function (instr) {\n  var unaryOps = this.tokens.unaryOps;\n  function isPrefixOperator(token) {\n    return token.value in unaryOps;\n  }\n\n  this.save();\n  if (this.accept(TOP, isPrefixOperator)) {\n    if (this.current.value !== '-' && this.current.value !== '+') {\n      if (this.nextToken.type === TPAREN && this.nextToken.value === '(') {\n        this.restore();\n        this.parseExponential(instr);\n        return;\n      } else if (this.nextToken.type === TSEMICOLON || this.nextToken.type === TCOMMA || this.nextToken.type === TEOF || (this.nextToken.type === TPAREN && this.nextToken.value === ')')) {\n        this.restore();\n        this.parseAtom(instr);\n        return;\n      }\n    }\n\n    var op = this.current;\n    this.parseFactor(instr);\n    instr.push(unaryInstruction(op.value));\n  } else {\n    this.parseExponential(instr);\n  }\n};\n\nParserState.prototype.parseExponential = function (instr) {\n  this.parsePostfixExpression(instr);\n  while (this.accept(TOP, '^')) {\n    this.parseFactor(instr);\n    instr.push(binaryInstruction('^'));\n  }\n};\n\nParserState.prototype.parsePostfixExpression = function (instr) {\n  this.parseFunctionCall(instr);\n  while (this.accept(TOP, '!')) {\n    instr.push(unaryInstruction('!'));\n  }\n};\n\nParserState.prototype.parseFunctionCall = function (instr) {\n  var unaryOps = this.tokens.unaryOps;\n  function isPrefixOperator(token) {\n    return token.value in unaryOps;\n  }\n\n  if (this.accept(TOP, isPrefixOperator)) {\n    var op = this.current;\n    this.parseAtom(instr);\n    instr.push(unaryInstruction(op.value));\n  } else {\n    this.parseMemberExpression(instr);\n    while (this.accept(TPAREN, '(')) {\n      if (this.accept(TPAREN, ')')) {\n        instr.push(new Instruction(IFUNCALL, 0));\n      } else {\n        var argCount = this.parseArgumentList(instr);\n        instr.push(new Instruction(IFUNCALL, argCount));\n      }\n    }\n  }\n};\n\nParserState.prototype.parseArgumentList = function (instr) {\n  var argCount = 0;\n\n  while (!this.accept(TPAREN, ')')) {\n    this.parseExpression(instr);\n    ++argCount;\n    while (this.accept(TCOMMA)) {\n      this.parseExpression(instr);\n      ++argCount;\n    }\n  }\n\n  return argCount;\n};\n\nParserState.prototype.parseMemberExpression = function (instr) {\n  this.parseAtom(instr);\n  while (this.accept(TOP, '.') || this.accept(TBRACKET, '[')) {\n    var op = this.current;\n\n    if (op.value === '.') {\n      if (!this.allowMemberAccess) {\n        throw new Error('unexpected \".\", member access is not permitted');\n      }\n      if (this.restrictMemberAccess.has(this.nextToken.value)) {\n        throw new Error('access to member \"'+this.nextToken.value+'\" is not permitted');\n      }\n\n      this.expect(TNAME);\n      instr.push(new Instruction(IMEMBER, this.current.value));\n    } else if (op.value === '[') {\n      if (!this.tokens.isOperatorEnabled('[')) {\n        throw new Error('unexpected \"[]\", arrays are disabled');\n      }\n\n      this.parseExpression(instr);\n      this.expect(TBRACKET, ']');\n      instr.push(binaryInstruction('['));\n    } else {\n      throw new Error('unexpected symbol: ' + op.value);\n    }\n  }\n};\n","export default function contains(array, obj) {\n  for (var i = 0; i < array.length; i++) {\n    if (array[i] === obj) {\n      return true;\n    }\n  }\n  return false;\n}\n","import contains from './contains.js';\n\nexport function add(a, b) {\n  return Number(a) + Number(b);\n}\n\nexport function sub(a, b) {\n  return a - b;\n}\n\nexport function mul(a, b) {\n  return a * b;\n}\n\nexport function div(a, b) {\n  return a / b;\n}\n\nexport function mod(a, b) {\n  return a % b;\n}\n\nexport function concat(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return a.concat(b);\n  }\n  return '' + a + b;\n}\n\nexport function equal(a, b) {\n  return a === b;\n}\n\nexport function notEqual(a, b) {\n  return a !== b;\n}\n\nexport function greaterThan(a, b) {\n  return a > b;\n}\n\nexport function lessThan(a, b) {\n  return a < b;\n}\n\nexport function greaterThanEqual(a, b) {\n  return a >= b;\n}\n\nexport function lessThanEqual(a, b) {\n  return a <= b;\n}\n\nexport function andOperator(a, b) {\n  return Boolean(a && b);\n}\n\nexport function orOperator(a, b) {\n  return Boolean(a || b);\n}\n\nexport function inOperator(a, b) {\n  return contains(b, a);\n}\n\nexport function sinh(a) {\n  return (Math.exp(a) - Math.exp(-a)) / 2;\n}\n\nexport function cosh(a) {\n  return (Math.exp(a) + Math.exp(-a)) / 2;\n}\n\nexport function tanh(a) {\n  if (a === Infinity) return 1;\n  if (a === -Infinity) return -1;\n  return (Math.exp(a) - Math.exp(-a)) / (Math.exp(a) + Math.exp(-a));\n}\n\nexport function asinh(a) {\n  if (a === -Infinity) return a;\n  return Math.log(a + Math.sqrt(a * a + 1));\n}\n\nexport function acosh(a) {\n  return Math.log(a + Math.sqrt(a * a - 1));\n}\n\nexport function atanh(a) {\n  return Math.log((1 + a) / (1 - a)) / 2;\n}\n\nexport function log10(a) {\n  return Math.log(a) * Math.LOG10E;\n}\n\nexport function neg(a) {\n  return -a;\n}\n\nexport function not(a) {\n  return !a;\n}\n\nexport function trunc(a) {\n  return a < 0 ? Math.ceil(a) : Math.floor(a);\n}\n\nexport function random(a) {\n  return Math.random() * (a || 1);\n}\n\nexport function factorial(a) {\n  // a!\n  return gamma(a + 1);\n}\n\nfunction isInteger(value) {\n  return isFinite(value) && value === Math.round(value);\n}\n\nvar GAMMA_G = 4.7421875;\nvar GAMMA_P = [\n  0.99999999999999709182, 57.156235665862923517, -59.597960355475491248, 14.136097974741747174, -0.49191381609762019978, 0.33994649984811888699e-4, 0.46523628927048575665e-4,\n  -0.98374475304879564677e-4, 0.15808870322491248884e-3, -0.21026444172410488319e-3, 0.2174396181152126432e-3, -0.16431810653676389022e-3, 0.84418223983852743293e-4, -0.2619083840158140867e-4,\n  0.36899182659531622704e-5\n];\n\n// Gamma function from math.js\nexport function gamma(n) {\n  var t, x;\n\n  if (isInteger(n)) {\n    if (n <= 0) {\n      return isFinite(n) ? Infinity : NaN;\n    }\n\n    if (n > 171) {\n      return Infinity; // Will overflow\n    }\n\n    var value = n - 2;\n    var res = n - 1;\n    while (value > 1) {\n      res *= value;\n      value--;\n    }\n\n    if (res === 0) {\n      res = 1; // 0! is per definition 1\n    }\n\n    return res;\n  }\n\n  if (n < 0.5) {\n    return Math.PI / (Math.sin(Math.PI * n) * gamma(1 - n));\n  }\n\n  if (n >= 171.35) {\n    return Infinity; // will overflow\n  }\n\n  if (n > 85.0) {\n    // Extended Stirling Approx\n    var twoN = n * n;\n    var threeN = twoN * n;\n    var fourN = threeN * n;\n    var fiveN = fourN * n;\n    return (\n      Math.sqrt((2 * Math.PI) / n) *\n      Math.pow(n / Math.E, n) *\n      (1 + 1 / (12 * n) + 1 / (288 * twoN) - 139 / (51840 * threeN) - 571 / (2488320 * fourN) + 163879 / (209018880 * fiveN) + 5246819 / (75246796800 * fiveN * n))\n    );\n  }\n\n  --n;\n  x = GAMMA_P[0];\n  for (var i = 1; i < GAMMA_P.length; ++i) {\n    x += GAMMA_P[i] / (n + i);\n  }\n\n  t = n + GAMMA_G + 0.5;\n  return Math.sqrt(2 * Math.PI) * Math.pow(t, n + 0.5) * Math.exp(-t) * x;\n}\n\nexport function stringOrArrayLength(s) {\n  if (Array.isArray(s)) {\n    return s.length;\n  }\n  return String(s).length;\n}\n\nexport function hypot() {\n  var sum = 0;\n  var larg = 0;\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = Math.abs(arguments[i]);\n    var div;\n    if (larg < arg) {\n      div = larg / arg;\n      sum = sum * div * div + 1;\n      larg = arg;\n    } else if (arg > 0) {\n      div = arg / larg;\n      sum += div * div;\n    } else {\n      sum += arg;\n    }\n  }\n  return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n}\n\nexport function condition(cond, yep, nope) {\n  return cond ? yep : nope;\n}\n\n/**\n * Decimal adjustment of a number.\n * From @escopecz.\n *\n * @param {Number} value The number.\n * @param {Integer} exp  The exponent (the 10 logarithm of the adjustment base).\n * @return {Number} The adjusted value.\n */\nexport function roundTo(value, exp) {\n  // If the exp is undefined or zero...\n  if (typeof exp === 'undefined' || +exp === 0) {\n    return Math.round(value);\n  }\n  value = +value;\n  exp = -+exp;\n  // If the value is not a number or the exp is not an integer...\n  if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n    return NaN;\n  }\n  // Shift\n  value = value.toString().split('e');\n  value = Math.round(+(value[0] + 'e' + (value[1] ? +value[1] - exp : -exp)));\n  // Shift back\n  value = value.toString().split('e');\n  return +(value[0] + 'e' + (value[1] ? +value[1] + exp : exp));\n}\n\nexport function setVar(name, value, variables) {\n  if (variables) variables[name] = value;\n  return value;\n}\n\nexport function arrayIndex(array, index) {\n  return array[index | 0];\n}\n\nexport function max(array) {\n  if (arguments.length === 1 && Array.isArray(array)) {\n    return Math.max.apply(Math, array);\n  } else {\n    return Math.max.apply(Math, arguments);\n  }\n}\n\nexport function min(array) {\n  if (arguments.length === 1 && Array.isArray(array)) {\n    return Math.min.apply(Math, array);\n  } else {\n    return Math.min.apply(Math, arguments);\n  }\n}\n\nexport function arrayMap(f, a) {\n  if (typeof f !== 'function') {\n    throw new Error('First argument to map is not a function');\n  }\n  if (!Array.isArray(a)) {\n    throw new Error('Second argument to map is not an array');\n  }\n  return a.map(function (x, i) {\n    return f(x, i);\n  });\n}\n\nexport function arrayFold(f, init, a) {\n  if (typeof f !== 'function') {\n    throw new Error('First argument to fold is not a function');\n  }\n  if (!Array.isArray(a)) {\n    throw new Error('Second argument to fold is not an array');\n  }\n  return a.reduce(function (acc, x, i) {\n    return f(acc, x, i);\n  }, init);\n}\n\nexport function arrayFilter(f, a) {\n  if (typeof f !== 'function') {\n    throw new Error('First argument to filter is not a function');\n  }\n  if (!Array.isArray(a)) {\n    throw new Error('Second argument to filter is not an array');\n  }\n  return a.filter(function (x, i) {\n    return f(x, i);\n  });\n}\n\nexport function stringOrArrayIndexOf(target, s) {\n  if (!(Array.isArray(s) || typeof s === 'string')) {\n    throw new Error('Second argument to indexOf is not a string or array');\n  }\n\n  return s.indexOf(target);\n}\n\nexport function arrayJoin(sep, a) {\n  if (!Array.isArray(a)) {\n    throw new Error('Second argument to join is not an array');\n  }\n\n  return a.join(sep);\n}\n\nexport function sign(x) {\n  return (x > 0) - (x < 0) || +x;\n}\n\nvar ONE_THIRD = 1 / 3;\nexport function cbrt(x) {\n  return x < 0 ? -Math.pow(-x, ONE_THIRD) : Math.pow(x, ONE_THIRD);\n}\n\nexport function expm1(x) {\n  return Math.exp(x) - 1;\n}\n\nexport function log1p(x) {\n  return Math.log(1 + x);\n}\n\nexport function log2(x) {\n  return Math.log(x) / Math.LN2;\n}\n\nexport function sum(array) {\n  if (!Array.isArray(array)) {\n    throw new Error('Sum argument is not an array');\n  }\n\n  return array.reduce(function (total, value) {\n    return total + Number(value);\n  }, 0);\n}\n","import { INUMBER, IOP1, IOP2, IOP3, IVAR, IVARNAME, IFUNCALL, IFUNDEF, IEXPR, IEXPREVAL, IMEMBER, IENDSTATEMENT, IARRAY } from './instruction.js';\n\nexport default function evaluate(tokens, expr, values) {\n  var nstack = [];\n  var n1, n2, n3;\n  var f, args, argCount;\n\n  if (isExpressionEvaluator(tokens)) {\n    return resolveExpression(tokens, values);\n  }\n\n  var numTokens = tokens.length;\n\n  for (var i = 0; i < numTokens; i++) {\n    var item = tokens[i];\n    var type = item.type;\n    if (type === INUMBER || type === IVARNAME) {\n      nstack.push(item.value);\n    } else if (type === IOP2) {\n      n2 = nstack.pop();\n      n1 = nstack.pop();\n      if (item.value === 'and') {\n        nstack.push(n1 ? !!evaluate(n2, expr, values) : false);\n      } else if (item.value === 'or') {\n        nstack.push(n1 ? true : !!evaluate(n2, expr, values));\n      } else if (item.value === '=') {\n        f = expr.binaryOps[item.value];\n        nstack.push(f(n1, evaluate(n2, expr, values), values));\n      } else {\n        f = expr.binaryOps[item.value];\n        nstack.push(f(resolveExpression(n1, values), resolveExpression(n2, values)));\n      }\n    } else if (type === IOP3) {\n      n3 = nstack.pop();\n      n2 = nstack.pop();\n      n1 = nstack.pop();\n      if (item.value === '?') {\n        nstack.push(evaluate(n1 ? n2 : n3, expr, values));\n      } else {\n        f = expr.ternaryOps[item.value];\n        nstack.push(f(resolveExpression(n1, values), resolveExpression(n2, values), resolveExpression(n3, values)));\n      }\n    } else if (type === IVAR) {\n      if (/^__proto__|prototype|constructor$/.test(item.value)) {\n        throw new Error('prototype access detected');\n      }\n      if (item.value in expr.functions) {\n        nstack.push(expr.functions[item.value]);\n      } else if (item.value in expr.unaryOps && expr.parser.isOperatorEnabled(item.value)) {\n        nstack.push(expr.unaryOps[item.value]);\n      } else {\n        var v = values[item.value];\n        if (v !== undefined) {\n          nstack.push(v);\n        } else {\n          throw new Error('undefined variable: ' + item.value);\n        }\n      }\n    } else if (type === IOP1) {\n      n1 = nstack.pop();\n      f = expr.unaryOps[item.value];\n      nstack.push(f(resolveExpression(n1, values)));\n    } else if (type === IFUNCALL) {\n      argCount = item.value;\n      args = [];\n      while (argCount-- > 0) {\n        args.unshift(resolveExpression(nstack.pop(), values));\n      }\n      f = nstack.pop();\n      if (f.apply && f.call) {\n        nstack.push(f.apply(undefined, args));\n      } else {\n        throw new Error(f + ' is not a function');\n      }\n    } else if (type === IFUNDEF) {\n      // Create closure to keep references to arguments and expression\n      nstack.push(\n        (function () {\n          var n2 = nstack.pop();\n          var args = [];\n          var argCount = item.value;\n          while (argCount-- > 0) {\n            args.unshift(nstack.pop());\n          }\n          var n1 = nstack.pop();\n          var f = function () {\n            var scope = Object.assign({}, values);\n            for (var i = 0, len = args.length; i < len; i++) {\n              scope[args[i]] = arguments[i];\n            }\n            return evaluate(n2, expr, scope);\n          };\n          // f.name = n1\n          Object.defineProperty(f, 'name', {\n            value: n1,\n            writable: false\n          });\n          values[n1] = f;\n          return f;\n        })()\n      );\n    } else if (type === IEXPR) {\n      nstack.push(createExpressionEvaluator(item, expr, values));\n    } else if (type === IEXPREVAL) {\n      nstack.push(item);\n    } else if (type === IMEMBER) {\n      n1 = nstack.pop();\n      nstack.push(n1[item.value]);\n    } else if (type === IENDSTATEMENT) {\n      nstack.pop();\n    } else if (type === IARRAY) {\n      argCount = item.value;\n      args = [];\n      while (argCount-- > 0) {\n        args.unshift(nstack.pop());\n      }\n      nstack.push(args);\n    } else {\n      throw new Error('invalid Expression');\n    }\n  }\n  if (nstack.length > 1) {\n    throw new Error('invalid Expression (parity)');\n  }\n  // Explicitly return zero to avoid test issues caused by -0\n  return nstack[0] === 0 ? 0 : resolveExpression(nstack[0], values);\n}\n\nfunction createExpressionEvaluator(token, expr, values) {\n  if (isExpressionEvaluator(token)) return token;\n  return {\n    type: IEXPREVAL,\n    value: function (scope) {\n      return evaluate(token.value, expr, scope);\n    }\n  };\n}\n\nfunction isExpressionEvaluator(n) {\n  return n && n.type === IEXPREVAL;\n}\n\nfunction resolveExpression(n, values) {\n  return isExpressionEvaluator(n) ? n.value(values) : n;\n}\n","import { TEOF } from '@datawrapper/expr-eval/src/token.js';\nimport { TokenStream } from '@datawrapper/expr-eval/src/token-stream.js';\nimport { ParserState } from '@datawrapper/expr-eval/src/parser-state.js';\nimport {\n    add,\n    sub,\n    mul,\n    div,\n    mod,\n    equal,\n    notEqual,\n    greaterThan,\n    lessThan,\n    greaterThanEqual,\n    lessThanEqual,\n    andOperator,\n    orOperator,\n    // inOperator,\n    // sinh,\n    // cosh,\n    // tanh,\n    // asinh,\n    // acosh,\n    // atanh,\n    log10,\n    neg,\n    not,\n    trunc,\n    random,\n    // factorial,\n    // gamma,\n    stringOrArrayLength,\n    // hypot,\n    condition,\n    roundTo,\n    // setVar,\n    arrayIndex,\n    max,\n    min,\n    sum,\n    arrayMap,\n    arrayFold,\n    arrayFilter,\n    // stringOrArrayIndexOf,\n    // arrayJoin,\n    sign,\n    // cbrt,\n    // expm1,\n    log1p,\n    log2\n} from '@datawrapper/expr-eval/src/functions.js';\n\n// expression\nimport evaluate from '@datawrapper/expr-eval/src/evaluate.js';\n\nfunction Expression(tokens, parser) {\n    this.tokens = tokens;\n    this.parser = parser;\n    this.unaryOps = parser.unaryOps;\n    this.binaryOps = parser.binaryOps;\n    this.ternaryOps = parser.ternaryOps;\n    this.functions = parser.functions;\n}\n\nExpression.prototype.evaluate = function (values) {\n    values = values || {};\n    return evaluate(this.tokens, this, values);\n};\n\nExpression.prototype.variables = function () {\n    return (this.tokens || []).filter(token => token.type === 'IVAR').map(token => token.value);\n};\n\nfunction trim(s) {\n    return s.trim();\n}\n\nconst RESTRICT_MEMBER_ACCESS = new Set(['__proto__', 'prototype', 'constructor']);\n\n// parser\nexport function Parser(options) {\n    this.options = options || {};\n    this.unaryOps = {\n        /**\n         * Sine (trigonometric function)\n         *\n         * @method SIN\n         * @returns {number}\n         * @example\n         * SIN PI\n         * SIN(PI)\n         */\n        SIN: Math.sin,\n        /**\n         * Cosine (trigonometric function)\n         *\n         * @method COS\n         * @returns {number}\n         * @example\n         * COS PI\n         * COS(PI)\n         */\n        COS: Math.cos,\n        /**\n         * Tangent (trigonometric function)\n         *\n         * @method TAN\n         * @returns {number}\n         * @example\n         * TAN PI\n         * TAN(PI)\n         */\n        TAN: Math.tan,\n        /**\n         * Arcus sine (inverse tigonometric function)\n         *\n         * @method ASIN\n         * @returns {number}\n         */\n        ASIN: Math.asin,\n        /**\n         * Arcus cosine (inverse trigonometric function)\n         *\n         * @method ACOS\n         * @returns {number}\n         */\n        ACOS: Math.acos,\n        /**\n         * Arcus tangent (inverse trigonometric function)\n         *\n         * @method ATAN\n         * @returns {number}\n         */\n        ATAN: Math.atan,\n        /**\n         * Computes the square root\n         *\n         * @method SQRT\n         * @returns {number}\n         * @example\n         * SQRT 9 // 3\n         * SQRT(9) // 3\n         */\n        SQRT: Math.sqrt,\n        /**\n         * Returns the natural logarithm (base `e`) of a number\n         *\n         * @method LOG\n         * @returns {number}\n         * @example\n         * LOG x\n         */\n        LOG: Math.log,\n        /**\n         * Returns the base 2 logarithm of a number\n         *\n         * @method LOG2\n         * @returns {number}\n         * @example\n         * LOG2 8 // 3\n         */\n        LOG2: Math.log2 || log2,\n        /**\n         * Alias for {@link LOG}\n         * @method LN\n         * @returns {number}\n         * @alias LOG\n         */\n        LN: Math.log,\n        /**\n         * Returns the base 10 logarithm of a number\n         *\n         * @method LOG10\n         * @alias LG\n         * @returns {number}\n         * @example\n         * LOG10 10 // 1\n         * LOG10(100) // 2\n         * LOG10(1000) // 3\n         */\n        LOG10: Math.log10 || log10,\n        /**\n         * Alias for {@link LOG10}\n         * @method LG\n         * @returns {number}\n         * @alias LOG10\n         */\n        LG: Math.log10 || log10,\n        LOG1P: Math.log1p || log1p,\n        /**\n         * Absolute number\n         *\n         * @method ABS\n         * @example\n         * ABS -10 // 10\n         * @returns {number}\n         */\n        ABS: Math.abs,\n        /**\n         * Round number to next largest integer\n         *\n         * @method CEIL\n         * @example\n         * CEIL 2.3 // 3\n         * CEIL(2.7) // 3\n         * @returns {number}\n         * @see {@link FLOOR}, {@link ROUND}, {@link TRUNC}\n         */\n        CEIL: Math.ceil,\n        /**\n         * Round number to the next smallest integer\n         *\n         * @method FLOOR\n         * @example\n         * FLOOR 2.3 // 2\n         * FLOOR 2.7 // 2\n         * FLOOR -5.05 // -6\n         * @see {@link CEIL}, {@link ROUND}, {@link TRUNC}\n         * @returns {number}\n         */\n        FLOOR: Math.floor,\n        /**\n         * Checks if an expression is NULL\n         *\n         * @method ISNULL\n         * @example\n         * ISNULL 0 // false\n         * ISNULL NULL // true*\n         * @returns {boolean}\n         */\n        ISNULL(a) {\n            return a === null;\n        },\n        /**\n         * Returns the integer part of a number by removing any fractional digits\n         * @method TRUNC\n         * @returns {number}\n         * @see {@link CEIL}, {@link ROUND}, {@link FLOOR}\n         * @example\n         * TRUNC 5.05 // 5\n         * TRUNC -5.05 // -5\n         */\n        TRUNC: Math.trunc || trunc,\n        '-': neg,\n        '+': Number,\n        /**\n         * Returns `e^x` where `e` is the Euler's number\n         * @method EXP\n         * @returns {number}\n         * @example\n         * LOG(EXP(4)) // 4\n         */\n        EXP: Math.exp,\n        /**\n         * Negates a boolean expression\n         * @method NOT\n         * @returns {boolean}\n         * @example\n         * NOT 3 > 5 // true\n         */\n        NOT: not,\n        /**\n         * Returns the length of an array or strng\n         * @method LENGTH\n         * @returns {number}\n         * @example\n         * LENGTH 'hello' // 5\n         * LENGTH [1,2,3] // 3\n         */\n        LENGTH: stringOrArrayLength,\n        /**\n         * Alias for {@link NOT}\n         * @method !\n         * @alias NOT\n         */\n        '!': not,\n        /**\n         * returns either a positive or negative +/- 1, indicating the sign of a number passed\n         * @example\n         * SIGN 35 // 1\n         * SIGN -6 // -1\n         * @returns {number}\n         */\n        SIGN: Math.sign || sign,\n        /**\n         * Converts a value to a string\n         * @method TEXT\n         * @returns {string}\n         * @example\n         * TEXT 12.5 // '12.5'\n         * @see {@link NUMBER}\n         */\n        TEXT(value) {\n            if (isDate(value)) {\n                return value.toISOString();\n            }\n            return String(value);\n        },\n        /**\n         * Converts a value to a number\n         * @method NUMBER\n         * @returns {number}\n         * @example\n         * NUMBER '12.5' // 12.5\n         * @see {@link TEXT}\n         */\n        NUMBER: Number\n    };\n\n    this.binaryOps = {\n        '+': add,\n        '-': sub,\n        '*': mul,\n        '/': div,\n        '%': mod,\n        '^': Math.pow,\n        '==': equal,\n        '!=': notEqual,\n        '>': greaterThan,\n        '<': lessThan,\n        '>=': greaterThanEqual,\n        '<=': lessThanEqual,\n        and: andOperator,\n        or: orOperator,\n        in: (needle, haystack) =>\n            Array.isArray(haystack) ? haystack.includes(needle) : String(haystack).includes(needle),\n        '[': arrayIndex\n    };\n\n    this.ternaryOps = {\n        '?': condition\n    };\n\n    const isDate = d => d instanceof Date && !isNaN(d);\n    const asDate = d => {\n        if (isDate(d)) return d;\n        try {\n            const n = new Date(d);\n            if (isDate(n)) return n;\n            return null;\n        } catch (e) {\n            return null;\n        }\n    };\n    function filterNumbers(array) {\n        return (arguments.length === 1 && Array.isArray(array) ? array : Array.from(arguments))\n            .slice(0)\n            .filter(v => !isNaN(v) && Number.isFinite(v));\n    }\n    // fallback regular expressions for browsers without\n    // support for the unicode flag //u\n    let PROPER_REGEX = /\\w*/g;\n    let TITLE_REGEX = /\\w\\S*/g;\n    const ESCAPE_REGEX = /[\\\\^$*+?.()|[\\]{}]/g;\n\n    try {\n        PROPER_REGEX = new RegExp('\\\\p{L}*', 'ug');\n        TITLE_REGEX = new RegExp('[\\\\p{L}\\\\p{N}]\\\\S*', 'ug');\n    } catch (e) {\n        // continue regardless of error\n    }\n\n    this.functions = {\n        // ---- LOGICAL FUNCTIONS ----\n\n        /**\n         * if-else statement\n         *\n         * @method IF\n         *\n         * @param boolean condition\n         * @param expr  yay   expression to use if condition is `TRUE`\n         * @param expr  nay   expression to use if condition is `FALSE`\n         * @example IF(temp_diff > 0, \"hotter\", \"colder\")\n         * // note: you can also use the shorthand ? notaton:\n         * temp_diff > 0 ? \"hotter\" : \"colder\"\n         */\n        IF: condition,\n\n        // ---- MATH FUNCTIONS ----\n\n        /**\n         * Generate a random real number between 0 and 1 when used without arguments, or between 0 and the passed number\n         *\n         * @method RANDOM\n         * @param number  max value (optional)\n         * @example RANDOM()\n         * RANDOM(100)\n         * @returns {number}\n         */\n        RANDOM: random,\n        // fac: factorial,\n\n        /**\n         * Returns the smallest of the given numbers\n         *\n         * @method MIN\n         * @example\n         * MIN(1,2,3) // 1\n         * MIN([1,2,3]) // 1\n         * @returns {number}\n         */\n        MIN() {\n            const v = filterNumbers.apply(this, arguments);\n            return min(v);\n        },\n\n        /**\n         * Returns the largest of the given numbers\n         *\n         * @method MAX\n         * @example\n         * MAX(1,2,3) // 3\n         * MAX([1,2,3]) // 3\n         * @returns {number}\n         */\n        MAX() {\n            return max(filterNumbers.apply(this, arguments));\n        },\n\n        /**\n         * Returns the sum of the given numbers\n         *\n         * @method SUM\n         *\n         * @example\n         * SUM(1,2,3) // 6\n         * SUM([1,2,3]) // 6\n         * @returns {number}\n         */\n        SUM() {\n            return sum(filterNumbers.apply(this, arguments));\n        },\n\n        /**\n         * Returns the average of the given numbers\n         *\n         * @method MEAN\n         * @example\n         * MEAN(1,2,4,8) // 3.75\n         * MEAN([1,2,4,8]) // 3.75\n         * @returns {number}\n         * @see {@link MEDIAN}\n         */\n        MEAN() {\n            const v = filterNumbers.apply(this, arguments);\n            return sum(v) / v.length;\n        },\n\n        /**\n         * Returns the median of the given numbers\n         *\n         * @method MEDIAN\n         * @example\n         * MEDIAN(1,2,4,8) // 3\n         * MEDIAN([1,2,4,8]) // 3\n         * @returns {number}\n         * @see {@link MEAN}\n         */\n        MEDIAN() {\n            const v = filterNumbers.apply(this, arguments).sort((a, b) => a - b);\n            const i = Math.floor(v.length / 2);\n            return v.length % 2 === 1 ? v[i] : (v[i - 1] + v[i]) * 0.5;\n        },\n\n        /**\n         * Computes the power of a number\n         *\n         * @method POW\n         * @example\n         * POW(2,3) // 8\n         * POW(4,2) // 16\n         * @returns {number}\n         */\n        POW: Math.pow,\n\n        /**\n         * Computes the atan2, see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/atan2\n         *\n         * @method ATAN2\n         * @example\n         * ATAN2(2,3) // 8\n         * ATAN2(4,2) // 16\n         * @returns {number}\n         */\n        ATAN2: Math.atan2,\n\n        /**\n         * Rounds a number (to a given number of decimals)\n         *\n         * @method ROUND\n         * @example\n         * ROUND(3.1415) // 3\n         * ROUND(3.1415, 2) // 3.14\n         * @returns {number}\n         * @see {@link FLOOR}, {@link CEIL}\n         */\n        ROUND: roundTo,\n\n        // ---- STRING FUNCTIONS ----\n        /**\n         * Concatenate two or more strings\n         *\n         * @method CONCAT\n         * @example\n         * CONCAT(\"<b>\", name, \"</b>\")\n         * @returns {string}\n         */\n        CONCAT() {\n            return Array.from(arguments).join('');\n        },\n        /**\n         * Removes whitespaces at the beginning and end of a string\n         *\n         * @method TRIM\n         * @returns {string}\n         * @example\n         * TRIM(\"  hello \") // 'hello'\n         */\n        TRIM: trim,\n        /**\n         * Extracts a part of a string\n         *\n         * @method SUBSTR\n         * @param string the input string\n         * @param number start\n         * @param number end\n         * @example\n         * SUBSTR(\"This is fine\", 5,7) // 'is'\n         * @returns {string}\n         */\n        SUBSTR(s, start, end) {\n            return s.substr(start, end);\n        },\n        /**\n         * Replaces all occurances of a string with another string\n         *\n         * @method REPLACE\n         * @param string the input string\n         * @param string the search string\n         * @param string the replacement string or function\n         * @example\n         * REPLACE(\"hello name\", \"name\", \"world\") // 'hello world'\n         * REPLACE(\"hello name\", \"name\", TITLE) // 'hello Name'\n         * REPLACE(\"hello name\", \"name\", f(d) = CONCAT(\"<b>\", d, \"</b>\")) // 'hello <b>name</b>'\n         * @returns {string}\n         * @see {@link REPLACE_REGEX}\n         */\n        REPLACE(str, search, replace) {\n            return str.replace(\n                new RegExp(String(search).replace(ESCAPE_REGEX, '\\\\$&'), 'g'),\n                replace\n            );\n        },\n        /**\n         * Like REPLACE, but interprets the search string as regular expression\n         *\n         * @method REPLACE_REGEX\n         * @param string the input string\n         * @param string the search regex\n         * @param string the replacement string or function\n         * @example\n         * REPLACE_REGEX(\"hello 123 world\", \"[0-9]\", '#') // 'hello ### world'\n         * REPLACE_REGEX(\"hello 123 world\", \"[0-9]+\", '#') // 'hello # world'\n         * @returns {string}\n         * @see {@link REPLACE}\n         */\n        REPLACE_REGEX(str, regex, replace) {\n            return str.replace(new RegExp(regex, 'g'), replace);\n        },\n        /**\n         * Splits a string into an array\n         *\n         * @method SPLIT\n         * @param string the input string\n         * @param string the separator string\n         * @example\n         * SPLIT(\"hello world\", \" \") // ['hello', 'world']\n         * @returns {array}\n         */\n        SPLIT(str, sep) {\n            return String(str).split(sep);\n        },\n        /**\n         * Lowercase a string\n         *\n         * @method LOWER\n         * @example\n         * LOWER(\"Hello World\") // 'hello world'\n         * @returns {string}\n         * @see {@link UPPER}, {@link TITLE}, {@link PROPER}\n         */\n        LOWER(str) {\n            return String(str).toLowerCase();\n        },\n        /**\n         * Uppercase a string\n         *\n         * @method UPPER\n         * @example\n         * UPPER(\"Hello World\") // 'HELLO WORLD'\n         * @returns {string}\n         * @see {@link LOWER}, {@link TITLE}, {@link PROPER}\n         */\n        UPPER(str) {\n            return String(str).toUpperCase();\n        },\n        /**\n         * Convert a string to title-case. Like `TITLE`, but better for names.\n         *\n         * @method PROPER\n         * @example\n         * PROPER(\"hello WoRLd\") // 'Hello World'\n         * PROPER(\"2-WAY STREET\") // '2-Way Street'\n         * PROPER(\"baron lloyd-webber\") // 'Baron Lloyd-Webber'\n         * @returns {string}\n         * @see {@link TITLE}\n         */\n        PROPER(str) {\n            return String(str).replace(\n                PROPER_REGEX,\n                txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n            );\n        },\n        /**\n         * Convert a string to title-case. Like `PROPER`, but better for headlines.\n         *\n         * @method TITLE\n         * @example\n         * TITLE(\"hello WoRLd\") // 'Hello World'\n         * TITLE(\"2-WAY STREET\") // '2-way Street'\n         * TITLE(\"baron lloyd-webber\") // 'Baron Lloyd-webber'\n         * @returns {string}\n         * @see {@link PROPER}\n         */\n        TITLE(str) {\n            return String(str).replace(\n                TITLE_REGEX,\n                txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n            );\n        },\n\n        // ARRAY FUNCTIONS\n        /**\n         * Sort an array ascending or descending\n         *\n         * @method SORT\n         * @param array the input array\n         * @param boolean true for ascending, false for descending\n         * @param string key to sort by (optional)\n         * @example\n         * SORT([5,2,4,1]) // [1,2,4,5]\n         * SORT(countries, false, 'population')\n         * @returns {array}\n         */\n        SORT(arr, asc = true, key = null) {\n            if (RESTRICT_MEMBER_ACCESS.has(key)) throw new Error('Invalid key');\n            if (!Array.isArray(arr)) {\n                throw new Error('First argument to SORT is not an array');\n            }\n            return arr.slice(0).sort((a, b) => {\n                a = typeof key === 'string' ? a[key] : typeof key === 'function' ? key(a) : a;\n                b = typeof key === 'string' ? b[key] : typeof key === 'function' ? key(b) : b;\n                return (a > b ? 1 : a < b ? -1 : 0) * (asc ? 1 : -1);\n            });\n        },\n        /**\n         * Slice an array (extract a part of array)\n         *\n         * @method SLICE\n         * @param array the input array\n         * @param number start index\n         * @param number end index\n         * @example\n         * SLICE([1,2,3,4,5], 1) // [2,3,4,5]\n         * SLICE([1,2,3,4,5], 1,3) // [2,3]\n         * SLICE([1,2,3,4,5], -2) // [4,5]\n         * @returns {array}\n         */\n        SLICE(arr, start, end) {\n            if (!Array.isArray(arr)) {\n                throw new Error('First argument to SLICE is not an array');\n            }\n            return arr.slice(start, end);\n        },\n        /**\n         * Join array elements into a string\n         *\n         * @method JOIN\n         * @param array the input array\n         * @param string the glue string\n         * @param string alternative glue string for the last join (optional)\n         * @returns {string}\n         * @example\n         * JOIN(['USA', 'Canada', 'Mexico'], ', ') // 'USA, Canada, Mexico'\n         * JOIN(['USA', 'Canada', 'Mexico'], ', ', ', and ') // 'USA, Canada, and Mexico'\n         */\n        JOIN(arr, sep, sepLast = null) {\n            if (!Array.isArray(arr)) {\n                throw new Error('First argument to JOIN is not an array');\n            }\n            return sepLast\n                ? [arr.slice(0, arr.length - 1).join(sep), arr[arr.length - 1]].join(sepLast)\n                : arr.join(sep);\n        },\n        /**\n         * Evaluate function for each element in an array\n         *\n         * @method MAP\n         * @param function the function to call\n         * @param array the input array\n         * @returns {array}\n         * @example\n         * MAP(UPPER, ['USA', 'Canada', 'Mexico']) // ['USA', 'CANADA', 'MEXICO']\n         * MAP(f(s) = SUBSTR(s, 0, 2), ['USA', 'Canada', 'Mexico']) // ['US', 'Ca', 'Me']\n         */\n        MAP: arrayMap,\n        /**\n         * Fold array into a single value, good for more complex aggregations\n         *\n         * @method FOLD\n         * @param function the function to call\n         * @param * intial value\n         * @param array the input array\n         * @returns {}\n         * @example\n         * FOLD(f(a,b) = a * b, 1, [1,2,3,4,5]) // 120\n         */\n        FOLD: arrayFold,\n        /**\n         * Filter elements of an array using a function\n         *\n         * @method FILTER\n         * @param function the function to test elements\n         * @param array the input array\n         * @returns {array}\n         * @example\n         * FILTER(f(x) = x > 2, [1, 2, 0, 3, -1, 5]) // [3, 5]\n         * FILTER(f(x) = x >= 2, [1, 2, 0, 3, -1, 5]) // [2, 3, 5]\n         */\n        FILTER: arrayFilter,\n        /**\n         * Extract values from an array of objects\n         *\n         * @method PLUCK\n         * @param array the input array of objects\n         * @param string the key\n         * @returns {array}\n         * @example\n         * PLUCK(countries, 'name')\n         * PLUCK(countries, 'population')\n         */\n        PLUCK(arr, key) {\n            if (RESTRICT_MEMBER_ACCESS.has(key)) throw new Error('Invalid key');\n            if (!Array.isArray(arr)) throw new Error('First argument to PLUCK is not an array');\n            return arr.map(item =>\n                Object.prototype.hasOwnProperty.call(item, key) ? item[key] : null\n            );\n        },\n        /**\n         * Returns the index of the first occurance of an element in an array (or -1 if it's not in the array)\n         *\n         * @method INDEXOF\n         * @param array the input array of objects\n         * @param * target\n         * @returns {number}\n         * @example\n         * INDEXOF(['a', 'b', 'c'], 'b') // 1\n         * INDEXOF(['a', 'b', 'c'], 'd') // -1\n         * @see {@link FIND}\n         */\n        INDEXOF(arr, target) {\n            if (!Array.isArray(arr)) arr = String(arr);\n            return arr.indexOf(target);\n        },\n        /**\n         * Returns the first element of an array for which the test function returns true\n         *\n         * @method FIND\n         * @param array the input array of objects\n         * @param function test function\n         * @returns {*}\n         * @example\n         * FIND([1,2,3,4,5,6], f(d) = d > 3) // 4\n         * @see {@link INDEXOF}\n         */\n        FIND(arr, test) {\n            if (!Array.isArray(arr)) throw new Error('First argument to FIND is not an array');\n            if (typeof test !== 'function')\n                throw new Error('Second argument to FIND is not a function');\n            const k = arr.length;\n            for (let i = 0; i < k; i++) {\n                if (test(arr[i])) return arr[i];\n            }\n            return null;\n        },\n        /**\n         * Creates an array of numbers\n         *\n         * @method RANGE\n         * @param number start value\n         * @param number stop value (not included)\n         * @param number step to increment each\n         * @returns {array}\n         * @example\n         * RANGE(0,5) // [0,1,2,3,4]\n         * RANGE(0,5,2) // [0,2,4]\n         * RANGE(0,1,0.25) // [0,0.25,0.5,0.75]\n         */\n        RANGE(start, stop, step) {\n            // borrowed from https://github.com/jashkenas/underscore/blob/master/modules/range.js\n            if (stop == null) {\n                stop = start || 0;\n                start = 0;\n            }\n            if (!step) {\n                step = stop < start ? -1 : 1;\n            }\n\n            var length = Math.max(Math.ceil((stop - start) / step), 0);\n            var range = Array(length);\n\n            for (var idx = 0; idx < length; idx++, start += step) {\n                range[idx] = start;\n            }\n\n            return range;\n        },\n        /**\n         * Returns TRUE if the test function is TRUE for every element in the arrat\n         *\n         * @method EVERY\n         * @param array the input array\n         * @param function the test function\n         * @returns {boolean}\n         * @see {@link SOME}\n         * @example\n         * EVERY([5,8,4,7,3], f(d) = d > 2) // true\n         * EVERY([5,8,4,7,3], f(d) = d < 6) // false\n         */\n        EVERY(arr, test) {\n            if (!Array.isArray(arr)) throw new Error('First argument to EVERY is not an array');\n            if (typeof test !== 'function')\n                throw new Error('Second argument to EVERY is not a function');\n            const k = arr.length;\n            let every = true;\n            for (let i = 0; i < k; i++) {\n                every = every && test(arr[i]);\n                if (!every) return false;\n            }\n            return true;\n        },\n        /**\n         * Returns `true` if the test function is `true` for at least one element in the arrat\n         *\n         * @method SOME\n         * @param array the input array\n         * @param function the test function\n         * @returns {boolean}\n         * @see {@link EVERY}\n         * @example\n         * SOME([5,8,4,7,3], f(d) = d > 2) // true\n         * SOME([5,8,4,7,3], f(d) = d < 6) // true\n         * SOME([5,8,4,7,3], f(d) = d < 2) // false\n         */\n        SOME(arr, test) {\n            if (!Array.isArray(arr)) throw new Error('First argument to SOME is not an array');\n            if (typeof test !== 'function')\n                throw new Error('Second argument to SOME is not a function');\n            const k = arr.length;\n            let some = false;\n            for (let i = 0; i < k; i++) {\n                some = some || test(arr[i]);\n                if (some) return true;\n            }\n            return false;\n        },\n\n        // ---- DATE FUNCTIONS ----\n        /**\n         * Constructs a new date object\n         *\n         * @method DATE\n         * @param number year\n         * @param number month\n         * @param number day\n         * @returns {date}\n         * @example\n         * DATE(2020, 1, 1) // January 1st, 2020\n         */\n        DATE() {\n            if (arguments.length > 1) {\n                // \"correct\" month argument (1=january, etc)\n                arguments[1] = arguments[1] - 1;\n            }\n            return new Date(...arguments);\n        },\n        /**\n         * Returns the year of a date\n         *\n         * @method YEAR\n         * @param date the input date\n         * @returns {number}\n         * @see {@link MONTH},{@link DAY}\n         * @example\n         * YEAR(DATE(2020, 1, 1)) // 2020\n         */\n        YEAR(d) {\n            d = asDate(d);\n            return d ? d.getFullYear() : null;\n        },\n        /**\n         * Returns the month of a date (1-12)\n         *\n         * @method MONTH\n         * @param date the input date\n         * @returns {number}\n         * @see {@link YEAR},{@link DAY}\n         * @example\n         * MONTH(DATE(2020, 6, 1)) // 6\n         */\n        MONTH(d) {\n            d = asDate(d);\n            return d ? d.getMonth() + 1 : null;\n        },\n        /**\n         * Returns the day of a date (1-31)\n         *\n         * @method DAY\n         * @param date the input date\n         * @returns {number}\n         * @see {@link WEEKDAY},{@link YEAR},{@link MONTH},{@link DAY}\n         * @example\n         * DAY(DATE(2020, 6, 1)) // 1\n         */\n        DAY(d) {\n            d = asDate(d);\n            return d ? d.getDate() : null;\n        },\n        /**\n         * Returns the weekday of a date (0 = Sunday, 1 = Monday, etc)\n         *\n         * @method WEEKDAY\n         * @param date the input date\n         * @returns {number}\n         * @see {@link DAY}\n         * @example\n         * WEEKDAY(DATE(2020, 5, 10)) // 0\n         */\n        WEEKDAY(d) {\n            d = asDate(d);\n            return d ? d.getDay() : null;\n        },\n        /**\n         * Returns the hours of a date (0-23)\n         *\n         * @method HOURS\n         * @param date the input date\n         * @returns {number}\n         * @see {@link DAY},{@link MINUTES},{@link SECONDS}\n         * @example\n         * HOURS(time)\n         */\n        HOURS(d) {\n            d = asDate(d);\n            return d ? d.getHours() : null;\n        },\n        /**\n         * Returns the minutes of a date (0-59)\n         *\n         * @method MINUTES\n         * @param date the input date\n         * @returns {number}\n         * @see {@link HOURS},{@link SECONDS}\n         * @example\n         * MINUTES(time)\n         */\n        MINUTES(d) {\n            d = asDate(d);\n            return d ? d.getMinutes() : null;\n        },\n        /**\n         * Returns the seconds of a date (0-59)\n         *\n         * @method SECONDS\n         * @param date the input date\n         * @returns {number}\n         * @see {@link HOURS},{@link MINUTES}\n         * @example\n         * SECONDS(time)\n         */\n        SECONDS(d) {\n            d = asDate(d);\n            return d ? d.getSeconds() : null;\n        },\n        /**\n         * Computes the  number of days between two dates\n         *\n         * @method DATEDIFF\n         * @param date the input date 1\n         * @param date the input date to substract from\n         * @returns {number}\n         * @see {@link TIMEDIFF}\n         * @example\n         * DATEDIFF(date1, date2)\n         */\n        DATEDIFF(d1, d2) {\n            d1 = asDate(d1);\n            d2 = asDate(d2);\n            return d1 && d2 ? (d2.getTime() - d1.getTime()) / 864e5 : null;\n        },\n        /**\n         * Computes the  number of seconds between two dates\n         *\n         * @method TIMEDIFF\n         * @param date the input date 1\n         * @param date the input date to substract from\n         * @returns {number}\n         * @see {@link DATEDIFF}\n         * @example\n         * TIMEDIFF(date1, date2)\n         */\n        TIMEDIFF(d1, d2) {\n            d1 = asDate(d1);\n            d2 = asDate(d2);\n            return d1 && d2 ? (d2.getTime() - d1.getTime()) / 1000 : null;\n        }\n    };\n\n    this.unaryOps.LOWER = this.functions.LOWER;\n    this.unaryOps.UPPER = this.functions.UPPER;\n    this.unaryOps.PROPER = this.functions.PROPER;\n    this.unaryOps.TITLE = this.functions.TITLE;\n    this.unaryOps.TRIM = this.functions.TRIM;\n    this.unaryOps.YEAR = this.functions.YEAR;\n    this.unaryOps.MONTH = this.functions.MONTH;\n    this.unaryOps.DAY = this.functions.DAY;\n    this.unaryOps.WEEKDAY = this.functions.WEEKDAY;\n    this.unaryOps.HOURS = this.functions.HOURS;\n    this.unaryOps.MINUTES = this.functions.MINUTES;\n    this.unaryOps.SECONDS = this.functions.SECONDS;\n\n    this.consts = {\n        E: Math.E,\n        PI: Math.PI,\n        TRUE: true,\n        FALSE: false,\n        NA: Number.NaN,\n        NULL: Number.NaN\n    };\n}\n\nParser.prototype.parse = function (expr) {\n    var instr = [];\n    var parserState = new ParserState(this, new TokenStream(this, expr), {\n        allowMemberAccess: true,\n        restrictMemberAccess: RESTRICT_MEMBER_ACCESS\n    });\n\n    parserState.parseExpression(instr);\n    parserState.expect(TEOF, 'EOF');\n\n    return new Expression(instr, this);\n};\n\nParser.prototype.evaluate = function (expr, variables) {\n    return this.parse(expr).evaluate(variables);\n};\n\nvar sharedParser = new Parser();\n\nParser.parse = function (expr) {\n    return sharedParser.parse(expr);\n};\n\nParser.evaluate = function (expr, variables) {\n    return sharedParser.parse(expr).evaluate(variables);\n};\n\nParser.keywords = [\n    'ABS',\n    'ACOS',\n    'ACOSH',\n    'and',\n    'ASIN',\n    'ASINH',\n    'ATAN',\n    'ATAN2',\n    'ATANH',\n    'CBRT',\n    'CEIL',\n    'CONCAT',\n    'COS',\n    'COSH',\n    'DATEDIFF',\n    'DAY',\n    'E',\n    'EVERY',\n    'EXP',\n    'EXPM1',\n    'FIND',\n    'FLOOR',\n    'HOURS',\n    'IF',\n    'in',\n    'INDEXOF',\n    'ISNULL',\n    'JOIN',\n    'LENGTH',\n    'LN',\n    'LOG',\n    'LOG10',\n    'LOG1P',\n    'LOG2',\n    'LOWER',\n    'MAP',\n    'MAX',\n    'MEAN',\n    'MEDIAN',\n    'MIN',\n    'MINUTES',\n    'MONTH',\n    'NOT',\n    'NOT',\n    'or',\n    'PI',\n    'PLUCK',\n    'POW',\n    'PROPER',\n    'RANDOM',\n    'RANGE',\n    'REPLACE',\n    'REPLACE_REGEX',\n    'ROUND',\n    'SECONDS',\n    'SIGN',\n    'SIN',\n    'SINH',\n    'SLICE',\n    'SOME',\n    'SORT',\n    'SPLIT',\n    'SQRT',\n    'SUBSTR',\n    'SUM',\n    'TAN',\n    'TANH',\n    'TIMEDIFF',\n    'TITLE',\n    'TRIM',\n    'TRUNC',\n    'UPPER',\n    'WEEKDAY',\n    'YEAR'\n];\n\nvar optionNameMap = {\n    '+': 'add',\n    '-': 'subtract',\n    '*': 'multiply',\n    '/': 'divide',\n    '%': 'remainder',\n    '^': 'power',\n    '!': 'factorial',\n    '<': 'comparison',\n    '>': 'comparison',\n    '<=': 'comparison',\n    '>=': 'comparison',\n    '==': 'comparison',\n    '!=': 'comparison',\n    '||': 'concatenate',\n    AND: 'logical',\n    OR: 'logical',\n    NOT: 'logical',\n    IN: 'logical',\n    '?': 'conditional',\n    ':': 'conditional',\n    '=': 'assignment',\n    '[': 'array',\n    '()=': 'fndef'\n};\n\nfunction getOptionName(op) {\n    return Object.prototype.hasOwnProperty.call(optionNameMap, op) ? optionNameMap[op] : op;\n}\n\nParser.prototype.isOperatorEnabled = function (op) {\n    var optionName = getOptionName(op);\n    var operators = this.options.operators || {};\n\n    return !(optionName in operators) || !!operators[optionName];\n};\n","import { Parser } from './parser.mjs';\n\nconst TPL_REG = /\\{\\{(.+?)\\}\\}/g;\n/*\n * returns a function that evaluates template strings\n * using `expr-eval`.\n */\nexport default function templateParser(template) {\n    const expressions = {};\n    const parser = new Parser();\n    template.replace(TPL_REG, (s, formula) => {\n        formula = formula.trim();\n        if (formula && !expressions[formula]) {\n            expressions[formula] = parser.parse(formula);\n        }\n    });\n    return context =>\n        template.replace(TPL_REG, (s, formula) => {\n            const result = formula.trim() ? expressions[formula.trim()].evaluate(context) : '';\n            return result === null ? '' : result;\n        });\n}\n","import purifyHtml from '@datawrapper/shared/purifyHtml.js';\nimport templateParser from './templateParser.mjs';\n\nconst ALLOWED_TAGS = [\n    'a',\n    'abbr',\n    'address',\n    'b',\n    'big',\n    'blockquote',\n    'br',\n    'caption',\n    'cite',\n    'code',\n    'col',\n    'colgroup',\n    'dd',\n    'del',\n    'details',\n    'dfn',\n    'div',\n    'dl',\n    'dt',\n    'em',\n    'figure',\n    'font',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'hr',\n    'hgroup',\n    'i',\n    'img',\n    'ins',\n    'kbd',\n    'li',\n    'mark',\n    'meter',\n    'ol',\n    'p',\n    'pre',\n    'q',\n    's',\n    'small',\n    'span',\n    'strike',\n    'strong',\n    'sub',\n    'summary',\n    'sup',\n    'table',\n    'tbody',\n    'td',\n    'th',\n    'thead',\n    'tfoot',\n    'tr',\n    'tt',\n    'u',\n    'ul',\n    'wbr'\n];\n/*\n * returns a function that evaluates template strings\n * using `expr-eval`.\n */\nexport default function htmlTemplate(template) {\n    const evaluateTemplate = templateParser(template);\n    return context => purifyHtml(evaluateTemplate(context), ALLOWED_TAGS);\n}\n","import purifyHtml from '@datawrapper/shared/purifyHtml.js';\nimport column from '../dataset/column.mjs';\nimport significantDimension from '@datawrapper/shared/significantDimension.js';\nimport tailLength from '@datawrapper/shared/tailLength.js';\nimport round from '@datawrapper/shared/round.js';\nimport smartRound from '@datawrapper/shared/smartRound.js';\nimport equalish from '@datawrapper/shared/equalish.js';\nimport clone from '@datawrapper/shared/clone.js';\nimport delimited from './delimited.mjs';\nimport { outerHeight, getNonChartHeight } from './getNonChartHeight.mjs';\nimport htmlTemplate from './htmlTemplate.mjs';\nimport templateParser from './templateParser.mjs';\nimport { isFunction, isString, range } from 'underscore';\n\nexport {\n    purifyHtml,\n    significantDimension,\n    tailLength,\n    round,\n    smartRound,\n    equalish,\n    clone,\n    delimited,\n    getNonChartHeight,\n    outerHeight,\n    htmlTemplate,\n    templateParser\n};\n\n/*\n * returns the min/max range of a set of columns\n */\nexport function minMax(columns) {\n    const minmax = [Number.MAX_VALUE, -Number.MAX_VALUE];\n    columns.forEach(column => {\n        minmax[0] = Math.min(minmax[0], column.range()[0]);\n        minmax[1] = Math.max(minmax[1], column.range()[1]);\n    });\n    return minmax;\n}\n\n/*\n * returns a new column with all column names as values\n */\nexport function columnNameColumn(columns) {\n    const names = columns.map(col => col.title());\n    return column('', names);\n}\n\nexport function name(obj) {\n    return isFunction(obj.name) ? obj.name() : isString(obj.name) ? obj.name : obj;\n}\n\nexport function getMaxChartHeight() {\n    if (window.innerHeight === 0) return 0;\n    var maxH = window.innerHeight - getNonChartHeight();\n    return Math.max(maxH, 0);\n}\n\nexport function nearest(array, value) {\n    let minDiff = Number.MAX_VALUE;\n    let minDiffVal;\n    array.forEach(v => {\n        var d = Math.abs(v - value);\n        if (d < minDiff) {\n            minDiff = d;\n            minDiffVal = v;\n        }\n    });\n    return minDiffVal;\n}\n\nexport function metricSuffix(locale) {\n    switch (locale.substr(0, 2).toLowerCase()) {\n        case 'de':\n            return { 3: ' Tsd.', 6: ' Mio.', 9: ' Mrd.', 12: ' Bio.' };\n        case 'fr':\n            return { 3: ' mil', 6: ' Mio', 9: ' Mrd' };\n        case 'es':\n            return { 3: ' Mil', 6: ' millón' };\n        default:\n            return { 3: 'k', 6: 'M', 9: ' bil' };\n    }\n}\n\nexport function magnitudeRange(minmax) {\n    return (\n        Math.round(Math.log(minmax[1]) / Math.LN10) - Math.round(Math.log(minmax[0]) / Math.LN10)\n    );\n}\n\nexport function logTicks(min, max) {\n    const e0 = Math.round(Math.log(min) / Math.LN10);\n    const e1 = Math.round(Math.log(max) / Math.LN10);\n    return range(e0, e1).map(exp => Math.pow(10, exp));\n}\n\nexport function height(element) {\n    const h = parseFloat(getComputedStyle(element, null).height.replace('px', ''));\n    return isNaN(h) ? 0 : h;\n}\n\nexport function width(element) {\n    const w = parseFloat(getComputedStyle(element, null).width.replace('px', ''));\n    return isNaN(w) ? 0 : w;\n}\n\nexport function addClass(element, className) {\n    if (element) element.classList.add(className);\n}\n\nexport function removeClass(element, className) {\n    if (element) element.classList.remove(className);\n}\n\nexport function remove(elementOrSelector) {\n    const element =\n        typeof elementOrSelector === 'string'\n            ? document.querySelector(elementOrSelector)\n            : elementOrSelector;\n    if (element) element.parentElement.removeChild(element);\n}\n\nexport function domReady(callback) {\n    if (/complete|interactive|loaded/.test(document.readyState)) {\n        // dom is already loaded\n        callback();\n    } else {\n        // wait for dom to load\n        window.addEventListener('DOMContentLoaded', () => {\n            callback();\n        });\n    }\n}\n","\"use strict\";\nmodule.exports = function equalish(a, b) {\n    return Math.abs(a - b) < 1e-6;\n};\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","\"use strict\";\nfunction get(object, key = null, _default = null) {\n    if (!key)\n        return object;\n    const keys = Array.isArray(key) ? key : key.split('.');\n    // It is impractical to try to replicate signature types in implementation\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let pt = object;\n    for (let i = 0; i < keys.length; i++) {\n        if (pt === null || pt === undefined)\n            break; // break out of the loop\n        // move one more level in\n        pt = pt[keys[i]];\n    }\n    return pt === undefined || pt === null ? _default : pt;\n}\nmodule.exports = get;\n","\"use strict\";\nconst isArray = (value) => Array.isArray(value);\nmodule.exports = function set(object, key, value) {\n    const keys = isArray(key) ? [...key] : key.split('.');\n    if (!keys.length) {\n        throw new Error('Key should not be empty');\n    }\n    // `pop` will never return undefined, because `key` does not contain `undefined` values,\n    // and we've just checked that `key` has elements.\n    // However, TS does not narrow `key` type from \"array of non-empty values\" to\n    // to \"array of non-empty values with at least one value\",\n    // so `pop` always has `undefined` in its return type definition.\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const lastKey = keys.pop();\n    // It is impractical to try to replicate signature types in implementation\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let pt = object;\n    // resolve property until the parent dict\n    keys.forEach(key => {\n        if (pt[key] === undefined || pt[key] === null) {\n            pt[key] = {};\n        }\n        pt = pt[key];\n    });\n    // check if new value is set\n    if (JSON.stringify(pt[lastKey]) !== JSON.stringify(value)) {\n        pt[lastKey] = value;\n        return true;\n    }\n    return false;\n};\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst isEqual_js_1 = __importDefault(require(\"lodash/isEqual.js\"));\nconst isPlainObject_js_1 = __importDefault(require(\"lodash/isPlainObject.js\"));\n/**\n * @param {object} source - the source object\n * @param {object} target - the target object\n * @param {Set|null} allowedKeys - Set\n *\n * @returns {object} - the merge patch\n */\n// It is impractical to try to replicate signature types in implementation\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction diffKeys(source, target, allowedKeys = null) {\n    const patch = {};\n    Object.keys(target).forEach(targetKey => {\n        if (!(0, isEqual_js_1.default)(target[targetKey], source[targetKey])) {\n            if (allowedKeys && !allowedKeys.has(targetKey))\n                return;\n            if ((0, isPlainObject_js_1.default)(target[targetKey]) && (0, isPlainObject_js_1.default)(source[targetKey])) {\n                // iterate one level down\n                const childPatch = diffKeys(source[targetKey], target[targetKey]);\n                if (Object.keys(childPatch).length) {\n                    patch[targetKey] = childPatch;\n                }\n            }\n            else {\n                patch[targetKey] = target[targetKey];\n            }\n        }\n    });\n    // also look for removed keys and set them null\n    Object.keys(source).forEach(sourceKey => {\n        if (allowedKeys && !allowedKeys.has(sourceKey))\n            return;\n        if (target[sourceKey] === undefined) {\n            patch[sourceKey] = null;\n        }\n    });\n    return patch;\n}\nmodule.exports = function objectDiff(source, target, allowedKeys = null) {\n    return diffKeys(source, target, allowedKeys ? new Set(allowedKeys) : null);\n};\n","/*\n * simple event callbacks, mimicing the $.Callbacks API\n */\n\nexport default function () {\n    const list = [];\n\n    return {\n        fire() {\n            for (var i = list.length - 1; i >= 0; i--) {\n                list[i].apply(this, arguments);\n            }\n        },\n        add(callback) {\n            list.push(callback);\n        }\n    };\n}\n","import { each } from 'underscore';\n\nexport default function applyChanges(chart, dataset) {\n    const changes = chart.getMetadata('data.changes', []);\n    const transpose = chart.getMetadata('data.transpose', false);\n    const numRows = dataset.numRows();\n    changes.forEach(change => {\n        const row = !transpose ? change.row : change.column;\n        const column = !transpose ? change.column : change.row;\n        if (dataset.hasColumn(column)) {\n            change.ignored = false;\n            if (row === 0) {\n                if (change.previous && change.previous !== 'undefined') {\n                    const oldTitle = dataset.column(column).title();\n                    if (oldTitle !== change.previous) {\n                        // change.ignored = true; // TODO Something is buggy about this, let's revisit later.\n                        return;\n                    }\n                }\n                dataset.column(column).title(change.value);\n            } else if (row <= numRows) {\n                if (change.previous && change.previous !== 'undefined') {\n                    const curValue = dataset.column(column).raw(row - 1);\n                    if (curValue !== change.previous) {\n                        // change.ignored = true; // TODO Something is buggy about this, let's revisit later.\n                        return;\n                    }\n                }\n                dataset.column(column).raw(row - 1, change.value);\n            }\n        }\n    });\n\n    // overwrite column types\n    var columnFormats = chart.getMetadata('data.column-format', {});\n    each(columnFormats, (columnFormat, key) => {\n        if (columnFormat.type && dataset.hasColumn(key) && columnFormat.type !== 'auto') {\n            dataset.column(key).type(columnFormat.type);\n        }\n        if (columnFormat['input-format'] && dataset.hasColumn(key)) {\n            dataset.column(key).type(true).format(columnFormat['input-format']);\n        }\n    });\n    return dataset;\n}\n","\"use strict\";\nmodule.exports = function columnNameToVariable(name) {\n    return name\n        .toString()\n        .toLowerCase()\n        .replace(/\\s+/g, '_') // Replace spaces with _\n        .replace(/[^\\w-]+/g, '') // Remove all non-word chars\n        .replace(/-/g, '_') // Replace multiple - with single -\n        .replace(/__+/g, '_') // Replace multiple - with single -\n        .replace(/^_+/, '') // Trim - from start of text\n        .replace(/_+$/, '') // Trim - from end of text\n        .replace(/^(\\d)/, '_$1') // If first char is a number, prefix with _\n        .replace(/^(and|or|in|true|false)$/, '$1_'); // avoid reserved keywords\n};\n","import { each, isBoolean, isDate, isNumber, isNull } from 'underscore';\nimport column from './column.mjs';\nimport columnNameToVariable from '@datawrapper/shared/columnNameToVariable.js';\nimport applyChanges from './applyChanges.mjs';\nimport { Parser } from '../utils/parser.mjs';\n\nfunction toISOStringSafe(date) {\n    try {\n        return date.toISOString();\n    } catch (e) {\n        if (e instanceof RangeError) {\n            return date.toString();\n        }\n        throw e;\n    }\n}\n\nexport default function addComputedColumns(chart, dataset) {\n    let virtualColumns = chart.getMetadata('describe.computed-columns', {});\n    if (!Array.isArray(virtualColumns)) {\n        // convert to array\n        virtualColumns = Object.keys(virtualColumns).reduce((acc, cur) => {\n            acc.push({\n                name: cur,\n                formula: virtualColumns[cur]\n            });\n            return acc;\n        }, []);\n    }\n\n    const data = applyChanges(chart, dataset).list();\n    const columnNameToVar = {};\n    const colAggregates = {};\n    const parser = new Parser();\n\n    dataset.eachColumn(function (col) {\n        if (col.isComputed) return;\n        columnNameToVar[col.name()] = columnNameToVariable(col.name());\n        if (col.type() === 'number') {\n            const [min, max] = col.range();\n            colAggregates[col.name()] = {\n                min,\n                max,\n                sum: col.sum(),\n                mean: col.mean(),\n                median: col.median()\n            };\n        } else if (col.type() === 'date') {\n            const [min, max] = col.range();\n            colAggregates[col.name()] = { min, max };\n        }\n    });\n\n    // initialize meta objects for each computed column\n    const vNamesToVar = virtualColumns.reduce((acc, val, idx) => {\n        const key = columnNameToVariable(val.name);\n        return acc.set(key, {\n            name: val.name,\n            index: dataset.numColumns() + idx,\n            key,\n            formula: val.formula,\n            visited: 0,\n            computed: false,\n            dependsOn: []\n        });\n    }, new Map());\n\n    // parse formulas to detect cross-column dependencies\n    virtualColumns.forEach(({ formula, name }) => {\n        const col = vNamesToVar.get(columnNameToVariable(name));\n        if (formula.trim()) {\n            try {\n                col.expr = parser.parse(formula.trim());\n                col.expr.variables().forEach(v => {\n                    v = v.split('__')[0];\n                    if (vNamesToVar.has(v)) {\n                        col.dependsOn.push(vNamesToVar.get(v));\n                    }\n                });\n            } catch (e) {\n                col.error = e.message;\n                // console.error('err', e);\n            }\n        } else {\n            col.expr = {\n                evaluate() {\n                    return '';\n                },\n                variables() {\n                    return [];\n                }\n            };\n        }\n    });\n\n    // sort computed columns in order of their dependency graph\n    // circular dependencies are not allowed and will result in\n    // errors\n    const computedColumns = [];\n\n    let curIter = 0;\n    while (vNamesToVar.size) {\n        if (curIter > 1000) break;\n        vNamesToVar.forEach(col => {\n            curIter++;\n            try {\n                visit(col, []);\n            } catch (e) {\n                if (e.message.startsWith('circular-dependency')) {\n                    col.error = e.message;\n                    // col.computed = true;\n                    vNamesToVar.delete(col.key);\n                    computedColumns.push(col);\n                } else {\n                    throw e;\n                }\n            }\n        });\n    }\n\n    // compute in order of dependencies\n    computedColumns.forEach(col => {\n        if (col.error) {\n            const errorCol = column(\n                col.name,\n                data.map(() => 'null')\n            );\n            errorCol.isComputed = true;\n            errorCol.formula = col.formula;\n            errorCol.errors = [\n                {\n                    message: col.error,\n                    row: 'all'\n                }\n            ];\n            col.column = errorCol;\n        } else {\n            col.column = addComputedColumn(col);\n        }\n    });\n\n    // add to dataset in original order\n    computedColumns.sort((a, b) => a.index - b.index).forEach(({ column }) => dataset.add(column));\n\n    return dataset;\n\n    function visit(col, stack) {\n        if (col.computed) return;\n        stack.push(col.name);\n        for (let i = 0; i < stack.length - 2; i++) {\n            if (col.name === stack[i]) {\n                throw new Error('circular-dependency: ' + stack.join(' ‣ '));\n            }\n        }\n        col.curIter = curIter;\n        let allComputed = true;\n        for (let i = 0; i < col.dependsOn.length; i++) {\n            allComputed = allComputed && col.dependsOn[i].computed;\n        }\n        if (allComputed) {\n            // no dependencies, we can compute this now\n            col.computed = true;\n            computedColumns.push(col);\n            vNamesToVar.delete(col.key);\n        } else {\n            if (stack.length < 10) {\n                col.dependsOn.forEach(c => {\n                    visit(c, stack.slice(0));\n                });\n            }\n        }\n    }\n\n    function addComputedColumn({ formula, name, expr, error, index }) {\n        const errors = [];\n        if (error) {\n            errors.push({ row: 'all', message: error });\n        }\n\n        // create a map of changes for this column\n        const changes = chart\n            .getMetadata('data.changes', [])\n            .filter(change => change.column === index && change.row > 0)\n            .reduce((acc, cur) => {\n                const old = acc.get(cur.row - 1);\n                if (old) {\n                    // overwrite previous value\n                    cur.previous = old.previous;\n                }\n                acc.set(cur.row - 1, cur);\n                return acc;\n            }, new Map());\n\n        const values = data.map(function (row, index) {\n            const context = {\n                ROWNUMBER: index\n            };\n            each(row, function (val, key) {\n                if (!columnNameToVar[key]) return;\n                context[columnNameToVar[key]] = val;\n                if (colAggregates[key]) {\n                    Object.keys(colAggregates[key]).forEach(aggr => {\n                        context[`${columnNameToVar[key]}__${aggr}`] = colAggregates[key][aggr];\n                    });\n                }\n            });\n            let value;\n            try {\n                value = expr.evaluate(context);\n                if (typeof value === 'function') {\n                    errors.push({ message: 'formula returned function', row: index });\n                    value = null;\n                }\n            } catch (error) {\n                errors.push({ message: error.message, row: index });\n                value = null;\n            }\n            if (changes.has(index)) {\n                const change = changes.get(index);\n                if (change.previous === undefined || change.previous == value) {\n                    // we have a change and it's still valid\n                    return change.value;\n                }\n            }\n            return value;\n        });\n        columnNameToVar[name] = columnNameToVariable(name);\n        // apply values to rows so they can be used in formulas\n        values.forEach((val, i) => {\n            data[i][name] = val;\n        });\n        var virtualColumn = column(\n            name,\n            values.map(function (v) {\n                if (isBoolean(v)) return v ? 'yes' : 'no';\n                if (isDate(v)) return toISOStringSafe(v);\n                if (isNumber(v)) return String(v);\n                if (isNull(v)) return null;\n                return String(v);\n            })\n        );\n        // aggregate values\n        if (virtualColumn.type() === 'number') {\n            const [min, max] = virtualColumn.range();\n            colAggregates[name] = {\n                min,\n                max,\n                sum: virtualColumn.sum(),\n                mean: virtualColumn.mean(),\n                median: virtualColumn.median()\n            };\n        } else if (virtualColumn.type() === 'date') {\n            const [min, max] = virtualColumn.range();\n            colAggregates[name] = { min, max };\n        }\n        virtualColumn.isComputed = true;\n        virtualColumn.errors = errors;\n        virtualColumn.formula = formula;\n        return virtualColumn;\n    }\n}\n","import { isArray, isUndefined, indexOf } from 'underscore';\nimport isPlainObject from 'lodash/isPlainObject.js';\nimport get from '@datawrapper/shared/get.js';\nimport set from '@datawrapper/shared/set.js';\nimport objectDiff from '@datawrapper/shared/objectDiff.js';\nimport PostEvent from '@datawrapper/shared/postEvent.js';\n\nimport json from './dataset/json.mjs';\nimport delimited from './dataset/delimited.mjs';\nimport { name, width, getMaxChartHeight } from './utils/index.mjs';\nimport events from './utils/events.mjs';\nimport reorderColumns from './dataset/reorderColumns.mjs';\nimport applyChanges from './dataset/applyChanges.mjs';\nimport addComputedColumns from './dataset/addComputedColumns.mjs';\nimport { outerHeight, getNonChartHeight } from './utils/getNonChartHeight.mjs';\n\n/**\n * Chart\n * @module dw.chart\n */\nexport default function (attributes) {\n    // private methods and properties\n    let dataset;\n    let theme;\n    let metricPrefix;\n    let locale;\n    let flags = {};\n    let visualization;\n\n    const changeCallbacks = events();\n    const datasetChangeCallbacks = events();\n\n    const _assets = {};\n    let _translations = {};\n    let _ds;\n\n    // public interface\n    const chart = {\n        /**\n         * @function chart.get\n         */\n        get(key, _default) {\n            return get(attributes, key, _default);\n        },\n\n        getMetadata(key, _default) {\n            return get(attributes, `metadata.${key}`, _default);\n        },\n\n        set(key, value) {\n            if (set(attributes, key, value)) {\n                changeCallbacks.fire(chart, key, value);\n            }\n            return this;\n        },\n\n        setMetadata(key, value) {\n            return chart.set(`metadata.${key}`, value);\n        },\n\n        getElementBounds(element) {\n            const rootBounds = visualization.target().getBoundingClientRect();\n            const elementBounds = element.getBoundingClientRect();\n\n            return {\n                top: elementBounds.top - rootBounds.top,\n                right: elementBounds.right - rootBounds.left,\n                bottom: elementBounds.bottom - rootBounds.top,\n                left: elementBounds.left - rootBounds.left,\n                width: elementBounds.width,\n                height: elementBounds.height\n            };\n        },\n\n        // loads the dataset and returns a deferred\n        load(csv, externalData) {\n            const dsopts = {\n                chartId: chart.get('id'),\n                firstRowIsHeader: chart.get('metadata.data.horizontal-header', true),\n                transpose: chart.get('metadata.data.transpose', false)\n            };\n\n            if ((csv || csv === '') && !externalData) dsopts.csv = csv;\n            else dsopts.url = externalData || 'data.csv';\n\n            const datasource = chart.get('metadata.data.json') ? json(dsopts) : delimited(dsopts);\n\n            return datasource.dataset().then(ds => {\n                this.dataset(ds);\n                datasetChangeCallbacks.fire(chart, ds);\n                return ds;\n            });\n        },\n\n        /**\n         * Getter/setter for the dw.dataset class. This method\n         * can also be used to \"reset\" the current dataset by passing\n         * true as argument. This will re-apply changes, column sorting\n         * and computed columns to the existing dataset.\n         *\n         * @param {dw.dataset|true}\n         *\n         * @returns dataset\n         */\n        dataset(ds) {\n            if (arguments.length) {\n                if (ds !== true) _ds = ds;\n                dataset = chart.get('metadata.data.json')\n                    ? _ds\n                    : reorderColumns(chart, applyChanges(chart, addComputedColumns(chart, _ds)));\n                if (ds === true) return dataset;\n                return chart;\n            }\n            return dataset;\n        },\n\n        /**\n         * This helper method is used by the chart editor to inject\n         * a dataset which has computed columns, changes and column\n         * ordering already applied.\n         *\n         * @param {dw.dataset} ds\n         */\n        setDataset(ds) {\n            dataset = ds;\n        },\n\n        // sets or gets the theme\n        theme(_theme) {\n            if (arguments.length) {\n                theme = _theme;\n                return chart;\n            }\n            return theme || {};\n        },\n\n        // sets or gets the visualization\n        vis(_vis) {\n            if (arguments.length) {\n                visualization = _vis;\n                visualization.chart(chart);\n                return chart;\n            }\n            return visualization;\n        },\n\n        // returns true if the user has set any highlights\n        hasHighlight() {\n            var hl = chart.get('metadata.visualize.highlighted-series');\n            return isArray(hl) && hl.length > 0;\n        },\n\n        isHighlighted(obj) {\n            if (isUndefined(obj) === undefined) return false;\n            const hl = chart.get('metadata.visualize.highlighted-series');\n            const objName = name(obj);\n            return !isArray(hl) || hl.length === 0 || indexOf(hl, objName) >= 0;\n        },\n\n        locale(_locale, callback) {\n            if (arguments.length) {\n                locale = _locale.replace('_', '-');\n                if (!locale) locale = 'en-US';\n                if (typeof callback === 'function') callback();\n                return chart;\n            }\n            return locale;\n        },\n\n        metricPrefix(_metricPrefix) {\n            if (arguments.length) {\n                metricPrefix = _metricPrefix;\n                return chart;\n            }\n            return metricPrefix;\n        },\n\n        inEditor: () => {\n            try {\n                return (\n                    window.parent !== window &&\n                    window.parent.dw &&\n                    window.parent.dw.backend &&\n                    window.parent.dw.backend.hooks\n                );\n            } catch (ex) {\n                return false;\n            }\n        },\n\n        createPostEvent() {\n            const chartId = chart.get('id');\n            const { isIframe } = flags;\n            return PostEvent(chartId, isIframe);\n        },\n\n        // sets or gets the flags\n        flags(_flags) {\n            if (arguments.length) {\n                flags = _flags;\n                return chart;\n            }\n            return flags;\n        },\n\n        render(outerContainer) {\n            if (!visualization || !theme || !dataset) {\n                throw new Error('cannot render the chart!');\n            }\n\n            const isIframe = flags.isIframe;\n            const container = chart.vis().target();\n\n            visualization.chart(chart);\n            visualization.container(container);\n\n            // compute chart dimensions\n            const w = width(container);\n            const h = isIframe\n                ? getMaxChartHeight()\n                : chart.getMetadata('publish.chart-height') || 400;\n\n            const heightMode = chart.getHeightMode();\n\n            // only render if iframe has valid dimensions\n            if (heightMode === 'fixed' ? w <= 0 : w <= 0 || h <= 0) {\n                console.warn('Aborting chart rendering due to invalid container dimensions');\n\n                window.clearInterval(this.__resizingInterval);\n                this.__resizingInterval = setInterval(postMessage, 1000);\n                postMessage();\n\n                return;\n            }\n\n            // set chart mode class\n            [container, outerContainer].forEach(el => {\n                el.classList.toggle('vis-height-fit', heightMode === 'fit');\n                el.classList.toggle('vis-height-fixed', heightMode === 'fixed');\n            });\n\n            // set mobile class\n            const breakpoint = get(theme, `vis.${chart.type}.mobileBreakpoint`, 450);\n            outerContainer.classList.toggle('is-mobile', outerContainer.clientWidth <= breakpoint);\n\n            // really needed?\n            outerContainer.classList.add('vis-' + visualization.id);\n\n            visualization.reset(container);\n            visualization.size(w, h);\n            visualization.__init();\n\n            visualization.render(container);\n\n            if (isIframe) {\n                window.clearInterval(this.__resizingInterval);\n                this.__resizingInterval = setInterval(postMessage, 1000);\n                postMessage();\n            }\n\n            function postMessage() {\n                if (flags && flags.fitchart) return;\n\n                let desiredHeight;\n\n                if (chart.getHeightMode() === 'fit') {\n                    if (chart.inEditor() || !chart.getMetadata('publish.chart-height')) return;\n                    desiredHeight = getNonChartHeight() + chart.getMetadata('publish.chart-height');\n                } else {\n                    desiredHeight = outerHeight(document.querySelector('html'), true);\n                }\n\n                if (Math.round(window.innerHeight) === Math.round(desiredHeight)) {\n                    // no need to request a height change here\n                    return;\n                }\n\n                const { previewId } = flags;\n\n                // datawrapper responsive embed\n                window.parent.postMessage(\n                    {\n                        'datawrapper-height': {\n                            [chart.get().id]: desiredHeight,\n                            ...(previewId ? { previewId } : {})\n                        }\n                    },\n                    '*'\n                );\n\n                // Google AMP\n                window.parent.postMessage(\n                    {\n                        sentinel: 'amp',\n                        type: 'embed-size',\n                        height: desiredHeight\n                    },\n                    '*'\n                );\n\n                // Medium\n                window.parent.postMessage(\n                    JSON.stringify({\n                        src: location.href,\n                        context: 'iframe.resize',\n                        height: desiredHeight\n                    }),\n                    '*'\n                );\n\n                if (typeof window.datawrapperHeightCallback === 'function') {\n                    window.datawrapperHeightCallback(desiredHeight);\n                }\n            }\n        },\n\n        getHeightMode() {\n            const themeFitChart =\n                get(visualization.theme(), 'vis.d3-pies.fitchart', false) &&\n                ['d3-pies', 'd3-donuts', 'd3-multiple-pies', 'd3-multiple-donuts'].indexOf(\n                    visualization.meta.id\n                ) > -1;\n            const urlParams = new URLSearchParams(window.location.search);\n            const urlFitChart = !!urlParams.get('fitchart');\n\n            return themeFitChart || urlFitChart || visualization.meta.height !== 'fixed'\n                ? 'fit'\n                : 'fixed';\n        },\n\n        attributes(attrs) {\n            if (arguments.length) {\n                const diff = objectDiff(attributes, attrs);\n                attributes = attrs;\n                // fire onChange callbacks\n                getNestedObjectKeys(diff).forEach(key => {\n                    changeCallbacks.fire(chart, key, get(attrs, key));\n                });\n                return chart;\n            }\n            return attributes;\n        },\n\n        // Legacy event-handling (TODO: Remove/replace?):\n        onChange: changeCallbacks.add,\n        onDatasetChange: datasetChangeCallbacks.add,\n\n        dataCellChanged(column, row) {\n            const changes = chart.get('metadata.data.changes', []);\n            const transpose = chart.get('metadata.data.transpose', false);\n            let changed = false;\n\n            const order = dataset.columnOrder();\n            column = order[column];\n\n            changes.forEach(change => {\n                let r = 'row';\n                let c = 'column';\n                if (transpose) {\n                    r = 'column';\n                    c = 'row';\n                }\n                if (column === change[c] && change[r] === row) {\n                    changed = true;\n                }\n            });\n            return changed;\n        },\n\n        asset(id, asset) {\n            if (arguments.length === 1) {\n                return _assets[id];\n            }\n\n            _assets[id] = asset;\n        },\n\n        translations(values) {\n            if (arguments.length === 0) {\n                return _translations;\n            }\n\n            _translations = values;\n\n            return this;\n        },\n\n        translate(key) {\n            if (!_translations[key]) return 'MISSING: ' + key;\n            var translation = _translations[key];\n\n            if (typeof translation === 'string' && arguments.length > 1) {\n                // replace $0, $1 etc with remaining arguments\n                translation = translation.replace(/\\$(\\d)/g, (m, i) => {\n                    i = 1 + Number(i);\n                    if (arguments[i] === undefined) return m;\n                    return arguments[i];\n                });\n            }\n\n            return translation;\n        }\n    };\n\n    return chart;\n}\n\n/**\n * returns list of keys defined in an object\n *\n * @param {object} object\n * @returns {string[]} list of keys\n */\nfunction getNestedObjectKeys(object) {\n    const candidates = Object.keys(object);\n    const keys = [];\n    candidates.forEach(key => {\n        if (!isPlainObject(object[key])) keys.push(key);\n        else {\n            getNestedObjectKeys(object[key]).forEach(subkey => {\n                keys.push(`${key}.${subkey}`);\n            });\n        }\n    });\n    return keys;\n}\n","/*! @preserve\n * numeral.js\n * version : 2.0.6\n * author : Adam Draper\n * license : MIT\n * http://adamwdraper.github.com/Numeral-js/\n */\n\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        global.numeral = factory();\n    }\n}(this, function () {\n    /************************************\n        Variables\n    ************************************/\n\n    var numeral,\n        _,\n        VERSION = '2.0.6',\n        formats = {},\n        locales = {},\n        defaults = {\n            currentLocale: 'en',\n            zeroFormat: null,\n            nullFormat: null,\n            defaultFormat: '0,0',\n            scalePercentBy100: true\n        },\n        options = {\n            currentLocale: defaults.currentLocale,\n            zeroFormat: defaults.zeroFormat,\n            nullFormat: defaults.nullFormat,\n            defaultFormat: defaults.defaultFormat,\n            scalePercentBy100: defaults.scalePercentBy100\n        };\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n    // Numeral prototype object\n    function Numeral(input, number) {\n        this._input = input;\n\n        this._value = number;\n    }\n\n    numeral = function(input) {\n        var value,\n            kind,\n            unformatFunction,\n            regexp;\n\n        if (numeral.isNumeral(input)) {\n            value = input.value();\n        } else if (input === 0 || typeof input === 'undefined') {\n            value = 0;\n        } else if (input === null || _.isNaN(input)) {\n            value = null;\n        } else if (typeof input === 'string') {\n            if (options.zeroFormat && input === options.zeroFormat) {\n                value = 0;\n            } else if (options.nullFormat && input === options.nullFormat || !input.replace(/[^0-9]+/g, '').length) {\n                value = null;\n            } else {\n                for (kind in formats) {\n                    regexp = typeof formats[kind].regexps.unformat === 'function' ? formats[kind].regexps.unformat() : formats[kind].regexps.unformat;\n\n                    if (regexp && input.match(regexp)) {\n                        unformatFunction = formats[kind].unformat;\n\n                        break;\n                    }\n                }\n\n                unformatFunction = unformatFunction || numeral._.stringToNumber;\n\n                value = unformatFunction(input);\n            }\n        } else {\n            value = Number(input)|| null;\n        }\n\n        return new Numeral(input, value);\n    };\n\n    // version number\n    numeral.version = VERSION;\n\n    // compare numeral object\n    numeral.isNumeral = function(obj) {\n        return obj instanceof Numeral;\n    };\n\n    // helper functions\n    numeral._ = _ = {\n        // formats numbers separators, decimals places, signs, abbreviations\n        numberToFormat: function(value, format, roundingFunction) {\n            var locale = locales[numeral.options.currentLocale],\n                negP = false,\n                optDec = false,\n                leadingCount = 0,\n                abbr = '',\n                trillion = 1000000000000,\n                billion = 1000000000,\n                million = 1000000,\n                thousand = 1000,\n                decimal = '',\n                neg = false,\n                abbrForce, // force abbreviation\n                abs,\n                min,\n                max,\n                power,\n                int,\n                precision,\n                signed,\n                thousands,\n                output;\n\n            // make sure we never format a null value\n            value = value || 0;\n\n            abs = Math.abs(value);\n\n            // see if we should use parentheses for negative number or if we should prefix with a sign\n            // if both are present we default to parentheses\n            if (numeral._.includes(format, '(')) {\n                negP = true;\n                format = format.replace(/[\\(|\\)]/g, '');\n            } else if (numeral._.includes(format, '+') || numeral._.includes(format, '-')) {\n                signed = numeral._.includes(format, '+') ? format.indexOf('+') : value < 0 ? format.indexOf('-') : -1;\n                format = format.replace(/[\\+|\\-]/g, '');\n            }\n\n            // see if abbreviation is wanted\n            if (numeral._.includes(format, 'a')) {\n                abbrForce = format.match(/a(k|m|b|t)?/);\n\n                abbrForce = abbrForce ? abbrForce[1] : false;\n\n                // check for space before abbreviation\n                if (numeral._.includes(format, ' a')) {\n                    abbr = ' ';\n                }\n\n                format = format.replace(new RegExp(abbr + 'a[kmbt]?'), '');\n\n                if (abs >= trillion && !abbrForce || abbrForce === 't') {\n                    // trillion\n                    abbr += locale.abbreviations.trillion;\n                    value = value / trillion;\n                } else if (abs < trillion && abs >= billion && !abbrForce || abbrForce === 'b') {\n                    // billion\n                    abbr += locale.abbreviations.billion;\n                    value = value / billion;\n                } else if (abs < billion && abs >= million && !abbrForce || abbrForce === 'm') {\n                    // million\n                    abbr += locale.abbreviations.million;\n                    value = value / million;\n                } else if (abs < million && abs >= thousand && !abbrForce || abbrForce === 'k') {\n                    // thousand\n                    abbr += locale.abbreviations.thousand;\n                    value = value / thousand;\n                }\n            }\n\n            // check for optional decimals\n            if (numeral._.includes(format, '[.]')) {\n                optDec = true;\n                format = format.replace('[.]', '.');\n            }\n\n            // break number and format\n            int = value.toString().split('.')[0];\n            precision = format.split('.')[1];\n            thousands = format.indexOf(',');\n            leadingCount = (format.split('.')[0].split(',')[0].match(/0/g) || []).length;\n\n            if (precision) {\n                if (numeral._.includes(precision, '[')) {\n                    precision = precision.replace(']', '');\n                    precision = precision.split('[');\n                    decimal = numeral._.toFixed(value, (precision[0].length + precision[1].length), roundingFunction, precision[1].length);\n                } else {\n                    decimal = numeral._.toFixed(value, precision.length, roundingFunction);\n                }\n\n                int = decimal.split('.')[0];\n\n                if (numeral._.includes(decimal, '.')) {\n                    decimal = locale.delimiters.decimal + decimal.split('.')[1];\n                } else {\n                    decimal = '';\n                }\n\n                if (optDec && Number(decimal.slice(1)) === 0) {\n                    decimal = '';\n                }\n            } else {\n                int = numeral._.toFixed(value, 0, roundingFunction);\n            }\n\n            // check abbreviation again after rounding\n            if (abbr && !abbrForce && Number(int) >= 1000 && abbr !== locale.abbreviations.trillion) {\n                int = String(Number(int) / 1000);\n\n                switch (abbr) {\n                    case locale.abbreviations.thousand:\n                        abbr = locale.abbreviations.million;\n                        break;\n                    case locale.abbreviations.million:\n                        abbr = locale.abbreviations.billion;\n                        break;\n                    case locale.abbreviations.billion:\n                        abbr = locale.abbreviations.trillion;\n                        break;\n                }\n            }\n\n\n            // format number\n            if (numeral._.includes(int, '-')) {\n                int = int.slice(1);\n                neg = true;\n            }\n\n            if (int.length < leadingCount) {\n                for (var i = leadingCount - int.length; i > 0; i--) {\n                    int = '0' + int;\n                }\n            }\n\n            if (thousands > -1) {\n                int = int.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + locale.delimiters.thousands);\n            }\n\n            if (format.indexOf('.') === 0) {\n                int = '';\n            }\n\n            output = int + decimal + (abbr ? abbr : '');\n\n            if (negP) {\n                output = (negP && neg ? '(' : '') + output + (negP && neg ? ')' : '');\n            } else {\n                if (signed >= 0) {\n                    output = signed === 0 ? (neg ? '-' : '+') + output : output + (neg ? '-' : '+');\n                } else if (neg) {\n                    output = '-' + output;\n                }\n            }\n\n            return output;\n        },\n        // unformats numbers separators, decimals places, signs, abbreviations\n        stringToNumber: function(string) {\n            var locale = locales[options.currentLocale],\n                stringOriginal = string,\n                abbreviations = {\n                    thousand: 3,\n                    million: 6,\n                    billion: 9,\n                    trillion: 12\n                },\n                abbreviation,\n                value,\n                i,\n                regexp;\n\n            if (options.zeroFormat && string === options.zeroFormat) {\n                value = 0;\n            } else if (options.nullFormat && string === options.nullFormat || !string.replace(/[^0-9]+/g, '').length) {\n                value = null;\n            } else {\n                value = 1;\n\n                if (locale.delimiters.decimal !== '.') {\n                    string = string.replace(/\\./g, '').replace(locale.delimiters.decimal, '.');\n                }\n\n                for (abbreviation in abbreviations) {\n                    regexp = new RegExp('[^a-zA-Z]' + locale.abbreviations[abbreviation] + '(?:\\\\)|(\\\\' + locale.currency.symbol + ')?(?:\\\\))?)?$');\n\n                    if (stringOriginal.match(regexp)) {\n                        value *= Math.pow(10, abbreviations[abbreviation]);\n                        break;\n                    }\n                }\n\n                // check for negative number\n                value *= (string.split('-').length + Math.min(string.split('(').length - 1, string.split(')').length - 1)) % 2 ? 1 : -1;\n\n                // remove non numbers\n                string = string.replace(/[^0-9\\.]+/g, '');\n\n                value *= Number(string);\n            }\n\n            return value;\n        },\n        isNaN: function(value) {\n            return typeof value === 'number' && isNaN(value);\n        },\n        includes: function(string, search) {\n            return string.indexOf(search) !== -1;\n        },\n        insert: function(string, subString, start) {\n            return string.slice(0, start) + subString + string.slice(start);\n        },\n        reduce: function(array, callback /*, initialValue*/) {\n            if (this === null) {\n                throw new TypeError('Array.prototype.reduce called on null or undefined');\n            }\n\n            if (typeof callback !== 'function') {\n                throw new TypeError(callback + ' is not a function');\n            }\n\n            var t = Object(array),\n                len = t.length >>> 0,\n                k = 0,\n                value;\n\n            if (arguments.length === 3) {\n                value = arguments[2];\n            } else {\n                while (k < len && !(k in t)) {\n                    k++;\n                }\n\n                if (k >= len) {\n                    throw new TypeError('Reduce of empty array with no initial value');\n                }\n\n                value = t[k++];\n            }\n            for (; k < len; k++) {\n                if (k in t) {\n                    value = callback(value, t[k], k, t);\n                }\n            }\n            return value;\n        },\n        /**\n         * Computes the multiplier necessary to make x >= 1,\n         * effectively eliminating miscalculations caused by\n         * finite precision.\n         */\n        multiplier: function (x) {\n            var parts = x.toString().split('.');\n\n            return parts.length < 2 ? 1 : Math.pow(10, parts[1].length);\n        },\n        /**\n         * Given a variable number of arguments, returns the maximum\n         * multiplier that must be used to normalize an operation involving\n         * all of them.\n         */\n        correctionFactor: function () {\n            var args = Array.prototype.slice.call(arguments);\n\n            return args.reduce(function(accum, next) {\n                var mn = _.multiplier(next);\n                return accum > mn ? accum : mn;\n            }, 1);\n        },\n        /**\n         * Implementation of toFixed() that treats floats more like decimals\n         *\n         * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present\n         * problems for accounting- and finance-related software.\n         */\n        toFixed: function(value, maxDecimals, roundingFunction, optionals) {\n            var splitValue = value.toString().split('.'),\n                minDecimals = maxDecimals - (optionals || 0),\n                boundedPrecision,\n                optionalsRegExp,\n                power,\n                output;\n\n            // Use the smallest precision value possible to avoid errors from floating point representation\n            if (splitValue.length === 2) {\n              boundedPrecision = Math.min(Math.max(splitValue[1].length, minDecimals), maxDecimals);\n            } else {\n              boundedPrecision = minDecimals;\n            }\n\n            power = Math.pow(10, boundedPrecision);\n\n            // Multiply up by precision, round accurately, then divide and use native toFixed():\n            output = (roundingFunction(value + 'e+' + boundedPrecision) / power).toFixed(boundedPrecision);\n\n            if (optionals > maxDecimals - boundedPrecision) {\n                optionalsRegExp = new RegExp('\\\\.?0{1,' + (optionals - (maxDecimals - boundedPrecision)) + '}$');\n                output = output.replace(optionalsRegExp, '');\n            }\n\n            return output;\n        }\n    };\n\n    // avaliable options\n    numeral.options = options;\n\n    // avaliable formats\n    numeral.formats = formats;\n\n    // avaliable formats\n    numeral.locales = locales;\n\n    // This function sets the current locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    numeral.locale = function(key) {\n        if (key) {\n            options.currentLocale = key.toLowerCase();\n        }\n\n        return options.currentLocale;\n    };\n\n    // This function provides access to the loaded locale data.  If\n    // no arguments are passed in, it will simply return the current\n    // global locale object.\n    numeral.localeData = function(key) {\n        if (!key) {\n            return locales[options.currentLocale];\n        }\n\n        key = key.toLowerCase();\n\n        if (!locales[key]) {\n            throw new Error('Unknown locale : ' + key);\n        }\n\n        return locales[key];\n    };\n\n    numeral.reset = function() {\n        for (var property in defaults) {\n            options[property] = defaults[property];\n        }\n    };\n\n    numeral.zeroFormat = function(format) {\n        options.zeroFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.nullFormat = function (format) {\n        options.nullFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.defaultFormat = function(format) {\n        options.defaultFormat = typeof(format) === 'string' ? format : '0.0';\n    };\n\n    numeral.register = function(type, name, format) {\n        name = name.toLowerCase();\n\n        if (this[type + 's'][name]) {\n            throw new TypeError(name + ' ' + type + ' already registered.');\n        }\n\n        this[type + 's'][name] = format;\n\n        return format;\n    };\n\n\n    numeral.validate = function(val, culture) {\n        var _decimalSep,\n            _thousandSep,\n            _currSymbol,\n            _valArray,\n            _abbrObj,\n            _thousandRegEx,\n            localeData,\n            temp;\n\n        //coerce val to string\n        if (typeof val !== 'string') {\n            val += '';\n\n            if (console.warn) {\n                console.warn('Numeral.js: Value is not string. It has been co-erced to: ', val);\n            }\n        }\n\n        //trim whitespaces from either sides\n        val = val.trim();\n\n        //if val is just digits return true\n        if (!!val.match(/^\\d+$/)) {\n            return true;\n        }\n\n        //if val is empty return false\n        if (val === '') {\n            return false;\n        }\n\n        //get the decimal and thousands separator from numeral.localeData\n        try {\n            //check if the culture is understood by numeral. if not, default it to current locale\n            localeData = numeral.localeData(culture);\n        } catch (e) {\n            localeData = numeral.localeData(numeral.locale());\n        }\n\n        //setup the delimiters and currency symbol based on culture/locale\n        _currSymbol = localeData.currency.symbol;\n        _abbrObj = localeData.abbreviations;\n        _decimalSep = localeData.delimiters.decimal;\n        if (localeData.delimiters.thousands === '.') {\n            _thousandSep = '\\\\.';\n        } else {\n            _thousandSep = localeData.delimiters.thousands;\n        }\n\n        // validating currency symbol\n        temp = val.match(/^[^\\d]+/);\n        if (temp !== null) {\n            val = val.substr(1);\n            if (temp[0] !== _currSymbol) {\n                return false;\n            }\n        }\n\n        //validating abbreviation symbol\n        temp = val.match(/[^\\d]+$/);\n        if (temp !== null) {\n            val = val.slice(0, -1);\n            if (temp[0] !== _abbrObj.thousand && temp[0] !== _abbrObj.million && temp[0] !== _abbrObj.billion && temp[0] !== _abbrObj.trillion) {\n                return false;\n            }\n        }\n\n        _thousandRegEx = new RegExp(_thousandSep + '{2}');\n\n        if (!val.match(/[^\\d.,]/g)) {\n            _valArray = val.split(_decimalSep);\n            if (_valArray.length > 2) {\n                return false;\n            } else {\n                if (_valArray.length < 2) {\n                    return ( !! _valArray[0].match(/^\\d+.*\\d$/) && !_valArray[0].match(_thousandRegEx));\n                } else {\n                    if (_valArray[0].length === 1) {\n                        return ( !! _valArray[0].match(/^\\d+$/) && !_valArray[0].match(_thousandRegEx) && !! _valArray[1].match(/^\\d+$/));\n                    } else {\n                        return ( !! _valArray[0].match(/^\\d+.*\\d$/) && !_valArray[0].match(_thousandRegEx) && !! _valArray[1].match(/^\\d+$/));\n                    }\n                }\n            }\n        }\n\n        return false;\n    };\n\n\n    /************************************\n        Numeral Prototype\n    ************************************/\n\n    numeral.fn = Numeral.prototype = {\n        clone: function() {\n            return numeral(this);\n        },\n        format: function(inputString, roundingFunction) {\n            var value = this._value,\n                format = inputString || options.defaultFormat,\n                kind,\n                output,\n                formatFunction;\n\n            // make sure we have a roundingFunction\n            roundingFunction = roundingFunction || Math.round;\n\n            // format based on value\n            if (value === 0 && options.zeroFormat !== null) {\n                output = options.zeroFormat;\n            } else if (value === null && options.nullFormat !== null) {\n                output = options.nullFormat;\n            } else {\n                for (kind in formats) {\n                    if (format.match(formats[kind].regexps.format)) {\n                        formatFunction = formats[kind].format;\n\n                        break;\n                    }\n                }\n\n                formatFunction = formatFunction || numeral._.numberToFormat;\n\n                output = formatFunction(value, format, roundingFunction);\n            }\n\n            return output;\n        },\n        value: function() {\n            return this._value;\n        },\n        input: function() {\n            return this._input;\n        },\n        set: function(value) {\n            this._value = Number(value);\n\n            return this;\n        },\n        add: function(value) {\n            var corrFactor = _.correctionFactor.call(null, this._value, value);\n\n            function cback(accum, curr, currI, O) {\n                return accum + Math.round(corrFactor * curr);\n            }\n\n            this._value = _.reduce([this._value, value], cback, 0) / corrFactor;\n\n            return this;\n        },\n        subtract: function(value) {\n            var corrFactor = _.correctionFactor.call(null, this._value, value);\n\n            function cback(accum, curr, currI, O) {\n                return accum - Math.round(corrFactor * curr);\n            }\n\n            this._value = _.reduce([value], cback, Math.round(this._value * corrFactor)) / corrFactor;\n\n            return this;\n        },\n        multiply: function(value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = _.correctionFactor(accum, curr);\n                return Math.round(accum * corrFactor) * Math.round(curr * corrFactor) / Math.round(corrFactor * corrFactor);\n            }\n\n            this._value = _.reduce([this._value, value], cback, 1);\n\n            return this;\n        },\n        divide: function(value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = _.correctionFactor(accum, curr);\n                return Math.round(accum * corrFactor) / Math.round(curr * corrFactor);\n            }\n\n            this._value = _.reduce([this._value, value], cback);\n\n            return this;\n        },\n        difference: function(value) {\n            return Math.abs(numeral(this._value).subtract(value).value());\n        }\n    };\n\n    /************************************\n        Default Locale && Format\n    ************************************/\n\n    numeral.register('locale', 'en', {\n        delimiters: {\n            thousands: ',',\n            decimal: '.'\n        },\n        abbreviations: {\n            thousand: 'k',\n            million: 'm',\n            billion: 'b',\n            trillion: 't'\n        },\n        ordinal: function(number) {\n            var b = number % 10;\n            return (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n        },\n        currency: {\n            symbol: '$'\n        }\n    });\n\n    \n\n(function() {\n        numeral.register('format', 'bps', {\n            regexps: {\n                format: /(BPS)/,\n                unformat: /(BPS)/\n            },\n            format: function(value, format, roundingFunction) {\n                var space = numeral._.includes(format, ' BPS') ? ' ' : '',\n                    output;\n\n                value = value * 10000;\n\n                // check for space before BPS\n                format = format.replace(/\\s?BPS/, '');\n\n                output = numeral._.numberToFormat(value, format, roundingFunction);\n\n                if (numeral._.includes(output, ')')) {\n                    output = output.split('');\n\n                    output.splice(-1, 0, space + 'BPS');\n\n                    output = output.join('');\n                } else {\n                    output = output + space + 'BPS';\n                }\n\n                return output;\n            },\n            unformat: function(string) {\n                return +(numeral._.stringToNumber(string) * 0.0001).toFixed(15);\n            }\n        });\n})();\n\n\n(function() {\n        var decimal = {\n            base: 1000,\n            suffixes: ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n        },\n        binary = {\n            base: 1024,\n            suffixes: ['B', 'KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']\n        };\n\n    var allSuffixes =  decimal.suffixes.concat(binary.suffixes.filter(function (item) {\n            return decimal.suffixes.indexOf(item) < 0;\n        }));\n        var unformatRegex = allSuffixes.join('|');\n        // Allow support for BPS (http://www.investopedia.com/terms/b/basispoint.asp)\n        unformatRegex = '(' + unformatRegex.replace('B', 'B(?!PS)') + ')';\n\n    numeral.register('format', 'bytes', {\n        regexps: {\n            format: /([0\\s]i?b)/,\n            unformat: new RegExp(unformatRegex)\n        },\n        format: function(value, format, roundingFunction) {\n            var output,\n                bytes = numeral._.includes(format, 'ib') ? binary : decimal,\n                suffix = numeral._.includes(format, ' b') || numeral._.includes(format, ' ib') ? ' ' : '',\n                power,\n                min,\n                max;\n\n            // check for space before\n            format = format.replace(/\\s?i?b/, '');\n\n            for (power = 0; power <= bytes.suffixes.length; power++) {\n                min = Math.pow(bytes.base, power);\n                max = Math.pow(bytes.base, power + 1);\n\n                if (value === null || value === 0 || value >= min && value < max) {\n                    suffix += bytes.suffixes[power];\n\n                    if (min > 0) {\n                        value = value / min;\n                    }\n\n                    break;\n                }\n            }\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            return output + suffix;\n        },\n        unformat: function(string) {\n            var value = numeral._.stringToNumber(string),\n                power,\n                bytesMultiplier;\n\n            if (value) {\n                for (power = decimal.suffixes.length - 1; power >= 0; power--) {\n                    if (numeral._.includes(string, decimal.suffixes[power])) {\n                        bytesMultiplier = Math.pow(decimal.base, power);\n\n                        break;\n                    }\n\n                    if (numeral._.includes(string, binary.suffixes[power])) {\n                        bytesMultiplier = Math.pow(binary.base, power);\n\n                        break;\n                    }\n                }\n\n                value *= (bytesMultiplier || 1);\n            }\n\n            return value;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'currency', {\n        regexps: {\n            format: /(\\$)/\n        },\n        format: function(value, format, roundingFunction) {\n            var locale = numeral.locales[numeral.options.currentLocale],\n                symbols = {\n                    before: format.match(/^([\\+|\\-|\\(|\\s|\\$]*)/)[0],\n                    after: format.match(/([\\+|\\-|\\)|\\s|\\$]*)$/)[0]\n                },\n                output,\n                symbol,\n                i;\n\n            // strip format of spaces and $\n            format = format.replace(/\\s?\\$\\s?/, '');\n\n            // format the number\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            // update the before and after based on value\n            if (value >= 0) {\n                symbols.before = symbols.before.replace(/[\\-\\(]/, '');\n                symbols.after = symbols.after.replace(/[\\-\\)]/, '');\n            } else if (value < 0 && (!numeral._.includes(symbols.before, '-') && !numeral._.includes(symbols.before, '('))) {\n                symbols.before = '-' + symbols.before;\n            }\n\n            // loop through each before symbol\n            for (i = 0; i < symbols.before.length; i++) {\n                symbol = symbols.before[i];\n\n                switch (symbol) {\n                    case '$':\n                        output = numeral._.insert(output, locale.currency.symbol, i);\n                        break;\n                    case ' ':\n                        output = numeral._.insert(output, ' ', i + locale.currency.symbol.length - 1);\n                        break;\n                }\n            }\n\n            // loop through each after symbol\n            for (i = symbols.after.length - 1; i >= 0; i--) {\n                symbol = symbols.after[i];\n\n                switch (symbol) {\n                    case '$':\n                        output = i === symbols.after.length - 1 ? output + locale.currency.symbol : numeral._.insert(output, locale.currency.symbol, -(symbols.after.length - (1 + i)));\n                        break;\n                    case ' ':\n                        output = i === symbols.after.length - 1 ? output + ' ' : numeral._.insert(output, ' ', -(symbols.after.length - (1 + i) + locale.currency.symbol.length - 1));\n                        break;\n                }\n            }\n\n\n            return output;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'exponential', {\n        regexps: {\n            format: /(e\\+|e-)/,\n            unformat: /(e\\+|e-)/\n        },\n        format: function(value, format, roundingFunction) {\n            var output,\n                exponential = typeof value === 'number' && !numeral._.isNaN(value) ? value.toExponential() : '0e+0',\n                parts = exponential.split('e');\n\n            format = format.replace(/e[\\+|\\-]{1}0/, '');\n\n            output = numeral._.numberToFormat(Number(parts[0]), format, roundingFunction);\n\n            return output + 'e' + parts[1];\n        },\n        unformat: function(string) {\n            var parts = numeral._.includes(string, 'e+') ? string.split('e+') : string.split('e-'),\n                value = Number(parts[0]),\n                power = Number(parts[1]);\n\n            power = numeral._.includes(string, 'e-') ? power *= -1 : power;\n\n            function cback(accum, curr, currI, O) {\n                var corrFactor = numeral._.correctionFactor(accum, curr),\n                    num = (accum * corrFactor) * (curr * corrFactor) / (corrFactor * corrFactor);\n                return num;\n            }\n\n            return numeral._.reduce([value, Math.pow(10, power)], cback, 1);\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'ordinal', {\n        regexps: {\n            format: /(o)/\n        },\n        format: function(value, format, roundingFunction) {\n            var locale = numeral.locales[numeral.options.currentLocale],\n                output,\n                ordinal = numeral._.includes(format, ' o') ? ' ' : '';\n\n            // check for space before\n            format = format.replace(/\\s?o/, '');\n\n            ordinal += locale.ordinal(value);\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            return output + ordinal;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'percentage', {\n        regexps: {\n            format: /(%)/,\n            unformat: /(%)/\n        },\n        format: function(value, format, roundingFunction) {\n            var space = numeral._.includes(format, ' %') ? ' ' : '',\n                output;\n\n            if (numeral.options.scalePercentBy100) {\n                value = value * 100;\n            }\n\n            // check for space before %\n            format = format.replace(/\\s?\\%/, '');\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            if (numeral._.includes(output, ')')) {\n                output = output.split('');\n\n                output.splice(-1, 0, space + '%');\n\n                output = output.join('');\n            } else {\n                output = output + space + '%';\n            }\n\n            return output;\n        },\n        unformat: function(string) {\n            var number = numeral._.stringToNumber(string);\n            if (numeral.options.scalePercentBy100) {\n                return number * 0.01;\n            }\n            return number;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'time', {\n        regexps: {\n            format: /(:)/,\n            unformat: /(:)/\n        },\n        format: function(value, format, roundingFunction) {\n            var hours = Math.floor(value / 60 / 60),\n                minutes = Math.floor((value - (hours * 60 * 60)) / 60),\n                seconds = Math.round(value - (hours * 60 * 60) - (minutes * 60));\n\n            return hours + ':' + (minutes < 10 ? '0' + minutes : minutes) + ':' + (seconds < 10 ? '0' + seconds : seconds);\n        },\n        unformat: function(string) {\n            var timeArray = string.split(':'),\n                seconds = 0;\n\n            // turn hours and minutes into seconds and add them all up\n            if (timeArray.length === 3) {\n                // hours\n                seconds = seconds + (Number(timeArray[0]) * 60 * 60);\n                // minutes\n                seconds = seconds + (Number(timeArray[1]) * 60);\n                // seconds\n                seconds = seconds + Number(timeArray[2]);\n            } else if (timeArray.length === 2) {\n                // minutes\n                seconds = seconds + (Number(timeArray[0]) * 60);\n                // seconds\n                seconds = seconds + Number(timeArray[1]);\n            }\n            return Number(seconds);\n        }\n    });\n})();\n\nreturn numeral;\n}));\n","import column from '../dataset/column.mjs';\nimport { each, isArray, filter, find, indexOf, map, range } from 'underscore';\n\n/**\n * Assign dataset columns to visualization axes. Non-optional columns\n * will automatically be assigned based on a matching column type and\n * column name (if the vis axis defined a regex).\n *\n * Optional axes can define a `overrideOptionalKey` which will turn\n * it into a non-optional axis in case the specified metadata key\n * contains a truthy value.\n *\n * @param {Dataset} dataset - the parsed dataset\n * @param {object} visAxes - axis definitions from visualization\n * @param {object} userAxes - user preferences for axis assignments\n *                            (from chart.metadata.axis)\n * @param {object} overrideKeys - map of all axes overrideOptionalKeys\n *                                and the current metadata values\n * @returns {object}\n */\nexport default function populateVisAxes({ dataset, visAxes, userAxes, overrideKeys }) {\n    userAxes = userAxes || {};\n    overrideKeys = overrideKeys || {};\n    const usedColumns = {};\n    const axes = {};\n    const axesAsColumns = {};\n\n    // get user preference\n    each(visAxes, (o, key) => {\n        if (userAxes[key]) {\n            let columns = userAxes[key];\n\n            if (o.optional && o.overrideOptionalKey && !overrideKeys[o.overrideOptionalKey]) {\n                return;\n            }\n\n            if (\n                columnExists(columns) &&\n                checkColumn(o, columns, true) &&\n                !!o.multiple === isArray(columns)\n            ) {\n                axes[key] = o.multiple && !isArray(columns) ? [columns] : columns;\n                // mark columns as used\n                if (!isArray(columns)) columns = [columns];\n                each(columns, function (column) {\n                    usedColumns[column] = true;\n                });\n            }\n        }\n    });\n\n    var checked = [];\n\n    each(visAxes, axisDef => {\n        if (axisDef.optional) {\n            // chart settings may override this\n            if (axisDef.overrideOptionalKey && overrideKeys[axisDef.overrideOptionalKey]) {\n                // now the axis is mandatory\n                axisDef.optional = false;\n            }\n        }\n    });\n\n    // auto-populate remaining axes\n    each(visAxes, (axisDef, key) => {\n        function remainingRequiredColumns(accepts) {\n            // returns how many required columns there are for the remaining axes\n            // either an integer or \"multiple\" if there's another multi-column axis coming up\n            function equalAccepts(a1, a2) {\n                if (typeof a1 === 'undefined' && typeof a2 !== 'undefined') return false;\n                if (typeof a2 === 'undefined' && typeof a1 !== 'undefined') return false;\n                if (a1.length !== a2.length) return false;\n\n                for (let i = 0; i < a1.length; i++) {\n                    if (a2.indexOf(a1[i]) === -1) return false;\n                }\n                return true;\n            }\n\n            let res = 0;\n            each(visAxes, function (axisDef, key) {\n                if (checked.indexOf(key) > -1) return;\n                if (!equalAccepts(axisDef.accepts, accepts)) return;\n                if (typeof res === 'string') return;\n                if (axisDef.optional) return;\n                if (axisDef.multiple) {\n                    res = 'multiple';\n                    return;\n                }\n                res += 1;\n            });\n            return res;\n        }\n        function remainingAvailableColumns(dataset) {\n            let count = 0;\n            dataset.eachColumn(c => {\n                if (checkColumn(axisDef, c)) {\n                    count++;\n                }\n            });\n            return count;\n        }\n        checked.push(key);\n        if (axes[key]) return; // user has defined this axis already\n        if (!axisDef.optional) {\n            // we only populate mandatory axes\n            if (!axisDef.multiple) {\n                const accepted = filter(dataset.columns(), c => checkColumn(axisDef, c));\n                let firstMatch;\n                if (axisDef.preferred) {\n                    // axis defined a regex for testing column names\n                    const regex = new RegExp(axisDef.preferred, 'i');\n                    firstMatch = find(accepted, function (col) {\n                        return (\n                            regex.test(col.name()) ||\n                            (col.title() !== col.name() && regex.test(col.title()))\n                        );\n                    });\n                }\n                // simply use first colulmn accepted by axis\n                if (!firstMatch) firstMatch = accepted[0];\n                if (firstMatch) {\n                    usedColumns[firstMatch.name()] = true; // mark column as used\n                    axes[key] = firstMatch.name();\n                } else {\n                    // try to auto-populate missing text column\n                    if (indexOf(axisDef.accepts, 'text') >= 0) {\n                        // try using the first text column in the dataset instead\n                        const acceptedAllowUsed = filter(dataset.columns(), function (col) {\n                            return indexOf(axisDef.accepts, col.type()) >= 0;\n                        });\n                        if (acceptedAllowUsed.length) {\n                            axes[key] = acceptedAllowUsed[0].name();\n                        } else {\n                            // no other text column in dataset, so genetate one with A,B,C,D...\n                            const col = column(\n                                key,\n                                map(range(dataset.numRows()), function (i) {\n                                    return (\n                                        (i > 25 ? String.fromCharCode(64 + i / 26) : '') +\n                                        String.fromCharCode(65 + (i % 26))\n                                    );\n                                }),\n                                'text'\n                            );\n                            dataset.add(col);\n                            usedColumns[col.name()] = true;\n                            axes[key] = col.name();\n                        }\n                    } else if (indexOf(axisDef.accepts, 'number') >= 0) {\n                        // try to auto-populate missing number column\n                        const acceptedAllowUsed = filter(dataset.columns(), function (col) {\n                            return indexOf(axisDef.accepts, col.type()) >= 0;\n                        });\n                        if (acceptedAllowUsed.length) {\n                            axes[key] = acceptedAllowUsed[0].name();\n                        }\n                    }\n                }\n            } else {\n                const required = remainingRequiredColumns(axisDef.accepts);\n                let available = remainingAvailableColumns(dataset);\n\n                // fill axis with all accepted columns\n                axes[key] = [];\n                dataset.eachColumn(function (c) {\n                    if (required === 'multiple' && axes[key].length) return;\n                    else if (available <= required) return;\n\n                    if (checkColumn(axisDef, c)) {\n                        usedColumns[c.name()] = true;\n                        axes[key].push(c.name());\n                        available--;\n                    }\n                });\n            }\n        } else {\n            axes[key] = false;\n        }\n    });\n\n    each(axes, (columns, key) => {\n        if (!isArray(columns)) {\n            axesAsColumns[key] = columns !== false ? dataset.column(columns) : null;\n        } else {\n            axesAsColumns[key] = [];\n            each(columns, function (column, i) {\n                axesAsColumns[key][i] = column !== false ? dataset.column(column) : null;\n            });\n        }\n    });\n\n    return { axes, axesAsColumns, usedColumns };\n\n    function columnExists(columns) {\n        if (!isArray(columns)) columns = [columns];\n        for (var i = 0; i < columns.length; i++) {\n            if (!dataset.hasColumn(columns[i])) return false;\n        }\n        return true;\n    }\n\n    function checkColumn(axisDef, columns, allowMultipleUse) {\n        if (!isArray(columns)) columns = [columns];\n        columns = columns.map(el => (typeof el === 'string' ? dataset.column(el) : el));\n        for (var i = 0; i < columns.length; i++) {\n            if (\n                (!allowMultipleUse && usedColumns[columns[i].name()]) ||\n                indexOf(axisDef.accepts, columns[i].type()) === -1\n            ) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n","/* globals dw */\n\n/*\n * Every visualization extends this class.\n * It provides the basic API between the chart editor\n * and the visualization render code.\n */\n\nimport { extend, isEqual } from 'underscore';\nimport get from '@datawrapper/shared/get.js';\nimport clone from '@datawrapper/shared/clone.js';\n\nimport { remove } from './utils/index.mjs';\nimport populateVisAxes from './utils/populateVisAxes.mjs';\nimport filterDatasetColumns from './utils/filterDatasetColumns.mjs';\n\nconst base = function () {}.prototype;\n\nextend(base, {\n    // called before rendering\n    __init() {\n        this.__renderedDfd = new Promise(resolve => {\n            this.__renderedResolve = resolve;\n        });\n        this.__rendered = false;\n        this.__colors = {};\n        this.__callbacks = {};\n\n        if (window.parent && window.parent.postMessage) {\n            window.parent.postMessage('datawrapper:vis:init', '*');\n        }\n        return this;\n    },\n\n    render(el) {\n        el.innerHTML = 'implement me!';\n    },\n\n    theme(theme) {\n        if (!arguments.length) {\n            if (typeof this.__theme === 'string') return dw.theme(this.__theme);\n            return this.__theme;\n        }\n\n        this.__theme = theme;\n        return this;\n    },\n\n    libraries(libraries) {\n        if (!arguments.length) {\n            return this.__libraries || {};\n        }\n\n        this.__libraries = libraries;\n        return this;\n    },\n\n    target(target) {\n        if (!arguments.length) {\n            return this.__target;\n        }\n\n        this.__target = target;\n        return this;\n    },\n\n    size(width, height) {\n        const me = this;\n        if (!arguments.length) return [me.__w, me.__h];\n        me.__w = width;\n        me.__h = height;\n        return me;\n    },\n\n    /**\n     * short-cut for this.chart.get('metadata.visualize.*')\n     */\n    get(str, _default) {\n        return get(this.chart().get(), 'metadata.visualize' + (str ? '.' + str : ''), _default);\n    },\n\n    chart(chart) {\n        var me = this;\n        if (!arguments.length) return me.__chart;\n        me.dataset = chart.dataset();\n        me.theme(chart.theme());\n        me.__chart = chart;\n        // reset visualization cache to make sure\n        // auto-populated columns get re-created\n        me.__axisCache = undefined;\n        filterDatasetColumns(chart, me.dataset);\n\n        // set locale\n        const { numeral } = me.libraries();\n        if (numeral && chart.locales && chart.locales.numeral) {\n            try {\n                numeral.register('locale', 'dw', chart.locales.numeral);\n            } catch (e) {\n                if (e instanceof TypeError) {\n                    // already registered\n                } else {\n                    throw e;\n                }\n            }\n            numeral.locale('dw');\n        }\n\n        return me;\n    },\n\n    /**\n     * Get or set the container element the vis was last rendered in\n     * @param {HTMLElement} el\n     * @returns {HTMLElement|void}\n     */\n    container(el) {\n        if (!arguments.length) return this.__container;\n        this.__container = el;\n    },\n\n    axes(returnAsColumns, noCache) {\n        const me = this;\n        const userAxes = get(me.chart().get(), 'metadata.axes', {});\n        const visAxes = clone(me.meta.axes);\n\n        const overrideKeys = Object.fromEntries(\n            Object.entries(visAxes)\n                .filter(([, axis]) => axis.optional && axis.overrideOptionalKey)\n                .map(([, axis]) => [\n                    axis.overrideOptionalKey,\n                    me.chart().getMetadata(axis.overrideOptionalKey, false)\n                ])\n        );\n\n        if (\n            !noCache &&\n            me.__axisCache &&\n            isEqual(me.__axisCache.userAxes, userAxes) &&\n            isEqual(me.__axisCache.overrideKeys, overrideKeys) &&\n            me.__axisCache.transpose === me.chart().getMetadata('data.transpose')\n        ) {\n            return me.__axisCache[returnAsColumns ? 'axesAsColumns' : 'axes'];\n        }\n\n        const dataset = me.chart().dataset();\n\n        const { axes, axesAsColumns } = populateVisAxes({\n            dataset,\n            userAxes,\n            visAxes,\n            overrideKeys\n        });\n\n        me.__axisCache = {\n            axes: axes,\n            axesAsColumns: axesAsColumns,\n            userAxes: clone(userAxes),\n            overrideKeys,\n            transpose: me.chart().getMetadata('data.transpose')\n        };\n\n        return me.__axisCache[returnAsColumns ? 'axesAsColumns' : 'axes'];\n    },\n\n    keys() {\n        const axesDef = this.axes();\n        if (axesDef.labels) {\n            const lblCol = this.dataset.column(axesDef.labels);\n            const keys = [];\n            lblCol.each(val => {\n                keys.push(String(val));\n            });\n            return keys;\n        }\n        return [];\n    },\n\n    keyLabel(key) {\n        return key;\n    },\n\n    /*\n     * called by the core whenever the chart is re-drawn\n     * without reloading the page\n     */\n    reset() {\n        this.clear();\n        const el = this.target();\n        el.innerHTML = '';\n        remove('.chart .filter-ui');\n        remove('.chart .legend');\n    },\n\n    clear() {},\n\n    renderingComplete() {\n        if (window.parent && window.parent.postMessage) {\n            setTimeout(function () {\n                window.parent.postMessage('datawrapper:vis:rendered', '*');\n            }, 200);\n        }\n        this.__renderedResolve();\n        this.__rendered = true;\n        this.postRendering();\n    },\n\n    postRendering() {},\n\n    rendered() {\n        return this.__renderedDfd;\n    },\n\n    /*\n     * smart rendering means that a visualization is able to\n     * re-render itself without having to instantiate it again\n     */\n    supportsSmartRendering() {\n        return false;\n    },\n\n    colorMode(cm) {\n        if (!arguments.length) {\n            return this.__colorMode;\n        }\n\n        this.__colorMode = cm;\n    },\n\n    colorMap(cm) {\n        if (!arguments.length) {\n            return (...args) => {\n                let color = args[0];\n                const applyDarkModeMap = this.__darkMode && this.__darkModeColorMap;\n                this.__colors[color] = 1;\n                if (this.__colorMap) {\n                    if (applyDarkModeMap) color = this.__darkModeColorMap(...args);\n                    return this.__colorMap(color);\n                } else if (applyDarkModeMap) {\n                    color = this.__darkModeColorMap(...args);\n                }\n                return color;\n            };\n        }\n\n        this.__colorMap = cm;\n    },\n\n    initDarkMode(cb, cm) {\n        this.__onDarkModeChange = cb;\n        this.__darkModeColorMap = cm;\n    },\n\n    /**\n     * set or get dark mode state of vis\n     */\n    darkMode(dm) {\n        // can't initialize in __init because that sets it back to false on each render\n        if (this.__darkMode === undefined) this.__darkMode = false;\n        if (!arguments.length) return this.__darkMode;\n        if (!this.__onDarkModeChange) return;\n\n        this.__darkMode = dm;\n        this.__onDarkModeChange(dm);\n    },\n\n    colorsUsed() {\n        return Object.keys(this.__colors);\n    },\n\n    /**\n     * register an event listener for custom vis events\n     */\n    on(eventType, callback) {\n        if (!this.__callbacks[eventType]) {\n            this.__callbacks[eventType] = [];\n        }\n        this.__callbacks[eventType].push(callback);\n    },\n\n    /**\n     * fire a custom vis event\n     */\n    fire(eventType, data) {\n        if (this.__callbacks && this.__callbacks[eventType]) {\n            this.__callbacks[eventType].forEach(function (cb) {\n                if (typeof cb === 'function') cb(data);\n            });\n        }\n    },\n\n    /**\n     * log error message\n     * @param {string} message\n     */\n    showError(message) {\n        const { isEditingAllowed } = this.chart().flags();\n        if (isEditingAllowed) {\n            // inside editor we show the error to the user directly\n            this.container().innerHTML = `<div class=\"error\"><p>${message}</p></div>`;\n        }\n        console.warn(message);\n    }\n});\n\nexport default base;\n","export default function (chart, dataset) {\n    if (!dataset.filterColumns) return dataset;\n\n    const columnFormat = chart.getMetadata('data.column-format', {});\n    const ignore = Object.fromEntries(\n        Object.entries(columnFormat).map(([key, format]) => [key, !!format.ignore])\n    );\n    dataset.filterColumns(ignore);\n    return dataset;\n}\n","import numeral from 'numeral';\nimport { clone } from 'underscore';\nimport base from './visualization.base.mjs';\n\nconst __vis = {};\n\nfunction visualization(id, target) {\n    if (!__vis[id]) {\n        console.warn('unknown visualization type: ' + id);\n        const known = Object.keys(__vis);\n        if (known.length > 0) console.warn('try one of these instead: ' + known.join(', '));\n        return false;\n    }\n\n    function getParents(vis) {\n        const parents = [];\n\n        while (vis.parentVis !== 'base') {\n            vis = __vis[vis.parentVis];\n            parents.push({ id: vis.parentVis, vis });\n        }\n\n        return parents.reverse();\n    }\n\n    const vis = clone(base);\n\n    const parents = getParents(__vis[id]);\n    parents.push({ id, vis: __vis[id] });\n    parents.forEach(el => {\n        Object.assign(\n            vis,\n            typeof el.vis.init === 'function' ? el.vis.init({ target }) : el.vis.init,\n            { id }\n        );\n    });\n\n    vis.libraries(visualization.libraries);\n\n    if (target) {\n        vis.target(target);\n    }\n\n    return vis;\n}\n\nvisualization.register = function (id) {\n    let parentVis, init;\n\n    if (arguments.length === 2) {\n        parentVis = 'base';\n        init = arguments[1];\n    } else if (arguments.length === 3) {\n        parentVis = arguments[1];\n        init = arguments[2];\n    }\n\n    __vis[id] = {\n        parentVis,\n        init\n    };\n};\n\nvisualization.has = function (id) {\n    return __vis[id] !== undefined;\n};\n\nvisualization.libraries = {\n    numeral\n};\n\nvisualization.base = base;\n\nexport default visualization;\n","const __themes = {};\n\nfunction theme(id) {\n    return __themes[id];\n}\n\ntheme.register = function (id, themeData) {\n    __themes[id] = themeData;\n};\n\nexport default theme;\n","const __blocks = {};\n\nfunction block(id) {\n    return __blocks[id];\n}\n\nblock.register = function (id, lib) {\n    __blocks[id] = lib;\n};\n\nblock.has = function (id) {\n    return __blocks[id] !== undefined;\n};\n\nexport default block;\n","let __notifications = [];\n\nfunction notify(notification) {\n    notification.remove = () => {\n        __notifications = __notifications.filter(d => d !== notification);\n        window.parent.dw.backend.fire('notifications.change', __notifications);\n    };\n    __notifications.push(notification);\n    try {\n        window.parent.dw.backend.fire('notifications.change', __notifications);\n        return notification.remove;\n    } catch (ex) {\n        /* not in editor, do nothing */\n    }\n}\nexport default notify;\n","/* eslint-env node */\nimport dataset from './dataset/index.mjs';\nimport column from './dataset/column.mjs';\nimport delimited from './dataset/delimited.mjs';\nimport columnTypes from './dataset/columnTypes/index.mjs';\nimport json from './dataset/json.mjs';\nimport * as utils from './utils/index.mjs';\nimport chart from './chart.mjs';\nimport visualization from './visualization.mjs';\nimport theme from './theme.mjs';\nimport block from './block.mjs';\nimport notify from './notify.mjs';\n\ncolumn.types = columnTypes;\n\n// dw.start.js\nconst dw = {\n    version: 'chart-core@__chartCoreVersion__',\n    dataset,\n    column,\n    datasource: {\n        delimited,\n        json\n    },\n    utils,\n    chart,\n    visualization,\n    theme,\n    block,\n    notify\n};\n\nif (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n        exports = module.exports = dw;\n    }\n    exports.dw = dw;\n} else {\n    window.dw = dw;\n}\n\nexport default dw;\n","export default function (chart, dataset) {\n    var order = chart.getMetadata('data.column-order', []);\n    if (order.length && order.length === dataset.numColumns()) {\n        dataset.columnOrder(order);\n    }\n    return dataset;\n}\n","\"use strict\";\nmodule.exports = function postEvent(chartId, isIframe) {\n    const host = isIframe ? window.parent : window;\n    return function (event, data) {\n        if (host && host.postMessage) {\n            const evt = {\n                source: 'datawrapper',\n                chartId,\n                type: event,\n                data\n            };\n            host.postMessage(evt, '*');\n        }\n    };\n};\n"],"names":["guessDelimiterFromLocale","numeral","localeData","delimiters","decimal","e","escapeDelimitedValue","value","delimiter","quoteChar","Number","isFinite","s","String","indexOf","replace","RegExp","test","formatDelimited","rows","lineTerminator","map","row","join","delimited$1","VERSION","root","self","global","Function","ArrayProto","Array","prototype","ObjProto","Object","SymbolProto","Symbol","push","slice","toString","hasOwnProperty","supportsArrayBuffer","ArrayBuffer","supportsDataView","DataView","nativeIsArray","isArray","nativeKeys","keys","nativeCreate","create","nativeIsView","isView","_isNaN","isNaN","_isFinite","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","MAX_ARRAY_INDEX","Math","pow","restArguments","func","startIndex","length","max","arguments","rest","index","call","this","args","apply","isObject","obj","type","isNull","isUndefined","isBoolean","tagTester","name","tag","isString","isNumber","isDate","isRegExp","isError","isSymbol","isArrayBuffer","isFunction","nodelist","document","childNodes","Int8Array","isFunction$4","hasObjectTag","hasStringTagBug","isIE11","Map","isDataView","isDataView$1","getInt8","buffer","isArray$5","has","key","isArguments","isArguments$3","constant","createSizePropertyCheck","getSizeProperty","collection","sizeProperty","shallowProperty","getByteLength","isBufferLike","typedArrayPattern","isTypedArray$4","getLength","collectNonEnumProps","hash","l","i","contains","emulatedSet","nonEnumIdx","constructor","proto","prop","isMatch","object","attrs","_keys","_","_wrapped","toBufferView","bufferSource","Uint8Array","byteOffset","valueOf","toJSON","tagDataView","eq","a","b","aStack","bStack","deepEq","className","areArrays","isTypedArray","aCtor","bCtor","pop","isEqual","allKeys","ie11fingerprint","methods","weakMapMethods","forEachName","commonInit","mapTail","mapMethods","concat","setMethods","isMap","isWeakMap","isSet","isWeakSet","values","invert","result","functions","names","sort","createAssigner","keysFunc","defaults","source","extend","extendOwn","baseCreate","Ctor","clone","toPath","path","deepGet","get","defaultValue","identity","matcher","property","optimizeCb","context","argCount","accumulator","baseIteratee","iteratee","Infinity","cb","noop","random","min","floor","_$1","now","Date","getTime","createEscaper","escaper","match","testRegexp","replaceRegexp","string","escapeMap","escape","unescape","templateSettings","evaluate","interpolate","noMatch","escapes","escapeRegExp","escapeChar","bareIdentifier","idCounter","executeBound","sourceFunc","boundFunc","callingContext","partial","boundArgs","placeholder","bound","position","bind","TypeError","callArgs","isArrayLike$2","flatten","input","depth","strict","output","idx","isArrayLike","j","len","bindAll","Error","delay","wait","setTimeout","defer","negate","predicate","before","times","memo","once","findKey","createPredicateIndexFinder","dir","array","findIndex","findLastIndex","sortedIndex","low","high","mid","createIndexFinder","predicateFind","item","lastIndexOf","find","each","results","currentKey","createReduce","reducer","initial","reduce","reduceRight","filter","list","every","some","fromIndex","guard","invoke","contextPath","method","pluck","computed","lastComputed","v","reStrSymbol","toArray","sample","n","last","rand","temp","shuffle","group","behavior","partition","groupBy","indexBy","countBy","pass","keyInObj","pick","omit","first","_flatten","difference","without","otherArrays","uniq","isSorted","seen","union","arrays","unzip","zip","range","start","stop","step","ceil","chainResult","instance","_chain","chain","mixin","nodeType","parseFloat","pairs","props","interceptor","_has","accum","text","settings","oldSettings","offset","render","argument","variable","template","data","fallback","prefix","id","hasher","memoize","cache","address","options","timeout","previous","later","leading","throttled","_now","remaining","clearTimeout","trailing","cancel","immediate","passed","debounced","_args","wrapper","criteria","left","right","Boolean","argsLength","count","allExports","Dataset","columns","columnsByName","origColumns","uniqueName","col","origColName","baseColName","suffix","colName","forEach","dataset","column","nameOrIndex","undefined","numColumns","numRows","eachColumn","hasColumn","columnName","o","val","csv","includeComputedColumns","includeHeader","includeOrder","includeFiltered","opts","table","isComputed","title","formatted","toCSV","filterColumns","ignore","c","ign","eachRow","add","limitRows","limitColumns","numCols","columnOrder","sortOrder","columnsWithNewIndexes","newIndex","x","align","maxNumRows","padding","fill","clear","deleteRow","_len","rowIndexes","_key","numDeleted","rowIndex","deletedRows","begin","end","s0","s1","s2","s3","sM","rx","YY","parse","YYYY","YYYY2","H","Q","W","MM","DD","DOW","HHMM","MONTHS","shortMonthKey","abbr","m","MMM","r","knownFormats","reg","precision","ISO8601","str","fmt","dateFromIsoWeek","year","week","day","d","UTC","setUTCDate","getUTCDay","parseInt","hour","hr","amPm","columnTypes","errors","isValid","format","number","formatLabels","naStrings","na","matches","bestMatch","regex","raw","toLowerCase","toNum","fromNum","ambiguousFormats","candidates","cnt","date","guessTwoDigitYear","yr","curYear","getFullYear","toUpperCase","console","warn","NaN","module","exports","_typeof","iterator","_setPrototypeOf","p","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_construct","Parent","Class","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","from","minLen","arr2","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","_ref","fun","thisValue","Func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","trim","regExpTest","typeErrorCreate","unconstruct","thisArg","_len2","_key2","addToSet","set","transformCaseFunc","element","lcElement","newObject","lookupGetter","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","window","_createTrustedTypesPolicy","trustedTypes","createPolicy","ATTR_NAME","currentScript","hasAttribute","getAttribute","policyName","createHTML","createScriptURL","scriptUrl","createDOMPurify","DOMPurify","version","removed","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","createElement","content","ownerDocument","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","documentMode","hooks","createHTMLDocument","PARSER_MEDIA_TYPE","MUSTACHE_EXPR$1","ERB_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","namespaceURI","parentTagName","_forceRemove","node","parentNode","removeChild","outerHTML","remove","_removeAttribute","attribute","getAttributeNode","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","createTextNode","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","elm","nodeName","textContent","attributes","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","allowedTags","hasChildNodes","firstElementChild","_basicCustomElementTest","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","oldNode","returnNode","toStaticHTML","appendChild","firstChild","nodeIterator","shadowroot","serializedHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","factory","browser","require$$0","default","defineProperty","memoizer","createPermanentMemoizer","memoizer$1","keySerializer","valueCreator","maxsize","serializedKey","size","__importDefault","mod","__esModule","isomorphic_dompurify_1","memoizer_1","require$$1","DEFAULT_ALLOWED","MEMOIZER_MAXSIZE","el","allowedTagsInput","config","split","purifyHtml","Column","name_","notEmpty","types","tolerance","t","guessType","valueRange","sum","mean","median","origName","origRows","unfiltered","f","MAX_VALUE","numbers","d3Numeric","d3Number","d3Quantile","d3Ascending","d3Median","filterRows","splice","total","h","delimited","url","ts","fetch","then","res","DelimitedParser","Promise","resolve","err","reject","loadAndParseCsv","catch","error","chartId","message","assign","skipRows","emptyValue","transpose","firstRowIsHeader","__delimiterPatterns","getDelimiterPatterns","__rawData","guessDelimiter","closure","arrData","delimiterPattern","strData","strDelimiter","strMatchedValue","arrMatches","exec","strMatchedDelimiter","substr","q","parseCSV","arrMatrix","w","firstRow","columnNames","srcColumns","shift","makeColumns","makeDataset","trimArrayData","maxMatchCount","k","me","json","JSON","loadAndParseJSON","tailLength","round","decimals","base","isElement","isFunction$1","ie10IsDataView","has$1","isArguments$1","isFinite$1","isNaN$1","isTypedArray$1","isEmpty","hasName","ctor","tap","toPath$1","mapObject","propertyOf","_escape","_unescape","uniqueId","flatten$1","throttle","debounce","wrap","compose","after","findWhere","where","sortBy","compact","intersection","chunk","detect","collect","foldl","inject","foldr","select","all","any","includes","include","head","take","tail","drop","unique","tailLength_1","round_1","underscore_1","require$$2","significantDimension","uniqValues","totalUniq","check","diff","accepted","acc","cur","exp","log","abs","LN10","currentRound","maxIter","significantDimension_1","clone_1","stringify","outerHeight","withMargin","height","offsetHeight","style","getComputedStyle","marginTop","marginBottom","getNonChartHeight","chart","querySelector","children","hasClass","classList","properties","sel","selector","getProp","TEOF","TOP","TNUMBER","TSTRING","TPAREN","TBRACKET","TCOMMA","TNAME","TSEMICOLON","Token","TokenStream","parser","expression","pos","current","unaryOps","binaryOps","ternaryOps","consts","savedPosition","savedCurrent","newToken","save","restore","next","isWhitespace","isComment","isRadixInteger","isOperator","isParen","isBracket","isComma","isSemicolon","isNamedOp","isConst","isName","parseError","charAt","startPos","quote","rawString","substring","isOperatorEnabled","hasLetter","codePointPattern","codePoint","fromCharCode","backslash","radix","validDigit","valid","resetPos","foundDot","foundDigits","acceptSign","validExponent","op","getCoordinates","line","newline","msg","coords","INUMBER","IOP1","IOP2","IOP3","IVAR","IVARNAME","IFUNCALL","IFUNDEF","IEXPR","IEXPREVAL","IMEMBER","IENDSTATEMENT","IARRAY","Instruction","unaryInstruction","binaryInstruction","ParserState","tokenStream","tokens","nextToken","savedNextToken","allowMemberAccess","restrictMemberAccess","Set","tokenMatches","token","accept","expect","parseAtom","instr","parseExpression","parseArrayList","exprInstr","parseUntilEndStatement","parseVariableAssignmentExpression","pushExpression","parseConditionalExpression","varName","varValue","lastInstrIndex","parseOrExpression","trueBranch","falseBranch","parseAndExpression","parseComparison","COMPARISON_OPERATORS","parseAddSub","ADD_SUB_OPERATORS","parseTerm","TERM_OPERATORS","sub","mul","div","equal","notEqual","greaterThan","lessThan","greaterThanEqual","lessThanEqual","andOperator","orOperator","log10","LOG10E","neg","not","trunc","stringOrArrayLength","condition","cond","yep","nope","roundTo","arrayIndex","arrayMap","arrayFold","init","arrayFilter","sign","log1p","log2","LN2","expr","n1","n2","n3","nstack","isExpressionEvaluator","resolveExpression","numTokens","unshift","scope","createExpressionEvaluator","Expression","parseFactor","parseExponential","parsePostfixExpression","parseFunctionCall","parseMemberExpression","parseArgumentList","variables","RESTRICT_MEMBER_ACCESS","Parser","SIN","sin","COS","cos","TAN","tan","ASIN","asin","ACOS","acos","ATAN","atan","SQRT","sqrt","LOG","LOG2","LN","LOG10","LG","LOG1P","ABS","CEIL","FLOOR","ISNULL","TRUNC","EXP","NOT","LENGTH","SIGN","TEXT","toISOString","NUMBER","and","or","in","needle","haystack","asDate","filterNumbers","PROPER_REGEX","TITLE_REGEX","ESCAPE_REGEX","IF","RANDOM","MIN","MAX","SUM","MEAN","MEDIAN","POW","ATAN2","atan2","ROUND","CONCAT","TRIM","SUBSTR","REPLACE","search","REPLACE_REGEX","SPLIT","sep","LOWER","UPPER","PROPER","txt","TITLE","SORT","asc","SLICE","JOIN","sepLast","MAP","FOLD","FILTER","PLUCK","INDEXOF","target","FIND","RANGE","EVERY","SOME","DATE","YEAR","MONTH","getMonth","DAY","getDate","WEEKDAY","getDay","HOURS","getHours","MINUTES","getMinutes","SECONDS","getSeconds","DATEDIFF","d1","d2","TIMEDIFF","E","PI","TRUE","FALSE","NA","NULL","parserState","sharedParser","keywords","optionNameMap","AND","OR","IN","optionName","getOptionName","operators","TPL_REG","templateParser","expressions","formula","getMaxChartHeight","innerHeight","maxH","width","elementOrSelector","parentElement","addPrecision","dim","evaluateTemplate","minmax","minDiffVal","minDiff","locale","callback","readyState","addEventListener","_freeGlobal","freeGlobal","freeSelf","_root","_Symbol","objectProto","nativeObjectToString","symToStringTag","toStringTag","_getRawTag","isOwn","unmasked","getRawTag","objectToString","_baseGetTag","_overArg","transform","arg","getPrototype","isObjectLike_1","baseGetTag","isObjectLike","funcProto","funcToString","objectCtorString","isPlainObject_1","get_1","_default","pt","lastKey","_listCacheClear","__data__","eq_1","other","_assocIndexOf","assocIndexOf","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","entry","_ListCache","_stackClear","_stackDelete","_stackGet","_stackHas","isObject_1","uid","isFunction_1","coreJsData","maskSrcKey","IE_PROTO","_isMasked","_toSource","isMasked","toSource","require$$3","reIsHostCtor","reIsNative","_getValue","baseIsNative","getValue","_getNative","_Map","_nativeCreate","_hashClear","_hashDelete","_hashGet","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","isKeyable","_getMapData","getMapData","_mapCacheDelete","_mapCacheSet","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","require$$4","MapCache","_MapCache","_stackSet","LARGE_ARRAY_SIZE","stackClear","stackDelete","stackGet","stackHas","stackSet","require$$5","Stack","_Stack","setCacheAdd","setCacheHas","SetCache","arraySome","cacheHas","_equalArrays","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","arrValue","othValue","compared","othIndex","_mapToArray","_setToArray","equalArrays","mapToArray","setToArray","symbolProto","symbolValueOf","_equalByTag","byteLength","convert","stacked","_arrayPush","isArray_1","_baseGetAllKeys","symbolsFunc","_arrayFilter","resIndex","stubArray","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","_getSymbols","_baseTimes","baseIsArguments","isArguments_1","stubFalse_1","stubFalse","freeExports","freeModule","Buffer","isBuffer","reIsUint","_isIndex","isLength_1","isLength","typedArrayTags","_baseIsTypedArray","_baseUnary","freeProcess","process","nodeUtil","require","binding","baseIsTypedArray","baseUnary","nodeIsTypedArray","isTypedArray_1","baseTimes","isIndex","_arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","_isPrototype","isPrototype","_baseKeys","arrayLikeKeys","baseKeys","keys_1","baseGetAllKeys","_getAllKeys","getAllKeys","_equalObjects","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","WeakMap","require$$6","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","equalByTag","equalObjects","require$$7","argsTag","arrayTag","objectTag","_baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqualDeep","_baseIsEqual","baseIsEqual","isEqual_1","isEqual_js_1","isPlainObject_js_1","diffKeys","allowedKeys","patch","targetKey","childPatch","sourceKey","events","fire","applyChanges","changes","getMetadata","change","ignored","columnFormat","columnNameToVariable","addComputedColumns","virtualColumns","columnNameToVar","colAggregates","vNamesToVar","visited","dependsOn","computedColumns","curIter","visit","startsWith","delete","errorCol","_ref3","old","ROWNUMBER","aggr","virtualColumn","RangeError","toISOStringSafe","addComputedColumn","_ref2","allComputed","getNestedObjectKeys","isPlainObject","subkey","binary","unformatRegex","formats","locales","currentLocale","zeroFormat","nullFormat","defaultFormat","scalePercentBy100","Numeral","_input","_value","kind","unformatFunction","regexp","isNumeral","regexps","unformat","stringToNumber","numberToFormat","roundingFunction","leadingCount","abbrForce","int","signed","thousands","negP","optDec","trillion","billion","million","abbreviations","thousand","toFixed","abbreviation","stringOriginal","currency","insert","subString","multiplier","parts","correctionFactor","mn","maxDecimals","optionals","boundedPrecision","optionalsRegExp","power","splitValue","minDecimals","reset","register","validate","culture","_decimalSep","_thousandSep","_currSymbol","_valArray","_abbrObj","_thousandRegEx","fn","inputString","formatFunction","corrFactor","curr","currI","O","subtract","multiply","divide","ordinal","space","suffixes","bytes","bytesMultiplier","symbols","toExponential","hours","minutes","seconds","timeArray","populateVisAxes","visAxes","userAxes","overrideKeys","usedColumns","axes","axesAsColumns","optional","overrideOptionalKey","columnExists","checkColumn","multiple","checked","axisDef","required","accepts","a1","a2","equalAccepts","remainingRequiredColumns","available","remainingAvailableColumns","firstMatch","preferred","acceptedAllowUsed","allowMultipleUse","__init","__renderedDfd","__renderedResolve","__rendered","__colors","__callbacks","postMessage","theme","__theme","dw","libraries","__libraries","__target","__w","__h","__chart","__axisCache","fromEntries","filterDatasetColumns","container","__container","returnAsColumns","noCache","meta","axis","axesDef","labels","lblCol","keyLabel","renderingComplete","postRendering","rendered","supportsSmartRendering","colorMode","cm","__colorMode","colorMap","_this","color","applyDarkModeMap","__darkMode","__darkModeColorMap","__colorMap","initDarkMode","__onDarkModeChange","darkMode","dm","colorsUsed","on","eventType","showError","isEditingAllowed","flags","__vis","visualization","known","vis","parents","parentVis","reverse","getParents","__themes","themeData","__blocks","block","lib","__notifications","datasource","utils","metricPrefix","changeCallbacks","datasetChangeCallbacks","_assets","_ds","_translations","setMetadata","getElementBounds","rootBounds","getBoundingClientRect","elementBounds","top","bottom","load","externalData","dsopts","ds","order","reorderColumns","setDataset","_theme","_vis","hasHighlight","hl","isHighlighted","objName","_locale","_metricPrefix","inEditor","backend","ex","createPostEvent","isIframe","host","event","evt","PostEvent","_flags","outerContainer","heightMode","getHeightMode","clearInterval","__resizingInterval","setInterval","toggle","breakpoint","fitchart","desiredHeight","previewId","sentinel","src","location","href","datawrapperHeightCallback","clientWidth","themeFitChart","urlFitChart","URLSearchParams","objectDiff","onChange","onDatasetChange","dataCellChanged","changed","asset","translations","translate","translation","notify","notification"],"mappings":"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C,OAAO,EACPC,GAAIxtC,OAAOqf,IACXouB,KAAMztC,OAAOqf,IAEpB,CAED2nB,GAAO1lC,UAAUma,MAAQ,SAAUmqB,GAC/B,IAAIpD,EAAQ,GACRkL,EAAc,IAAI/L,GAAY99B,KAAM,IAAI05B,GAAY15B,KAAM+hC,GAAO,CACjE5D,mBAAmB,EACnBC,qBAAsB8E,KAM1B,OAHA2G,EAAYjL,gBAAgBD,GAC5BkL,EAAYpL,OAAOzF,GAAM,OAElB,IAAI0J,GAAW/D,EAAO3+B,KAChC,EAEDmjC,GAAO1lC,UAAU2L,SAAW,SAAU24B,EAAMkB,GACxC,OAAOjjC,KAAK4X,MAAMmqB,GAAM34B,SAAS65B,EACpC,EAED,IAAI6G,GAAe,IAAI3G,GAEvBA,GAAOvrB,MAAQ,SAAUmqB,GACrB,OAAO+H,GAAalyB,MAAMmqB,EAC7B,EAEDoB,GAAO/5B,SAAW,SAAU24B,EAAMkB,GAC9B,OAAO6G,GAAalyB,MAAMmqB,GAAM34B,SAAS65B,EAC5C,EAEDE,GAAO4G,SAAW,CACd,MACA,OACA,QACA,MACA,OACA,QACA,OACA,QACA,QACA,OACA,OACA,SACA,MACA,OACA,WACA,MACA,IACA,QACA,MACA,QACA,OACA,QACA,QACA,KACA,KACA,UACA,SACA,OACA,SACA,KACA,MACA,QACA,QACA,OACA,QACA,MACA,MACA,OACA,SACA,MACA,UACA,QACA,MACA,MACA,KACA,KACA,QACA,MACA,SACA,SACA,QACA,UACA,gBACA,QACA,UACA,OACA,MACA,OACA,QACA,OACA,OACA,QACA,OACA,SACA,MACA,MACA,OACA,WACA,QACA,OACA,QACA,QACA,UACA,QAGJ,IAAIC,GAAgB,CAChB,IAAK,MACL,IAAK,WACL,IAAK,WACL,IAAK,SACL,IAAK,YACL,IAAK,QACL,IAAK,YACL,IAAK,aACL,IAAK,aACL,KAAM,aACN,KAAM,aACN,KAAM,aACN,KAAM,aACN,KAAM,cACNC,IAAK,UACLC,GAAI,UACJpF,IAAK,UACLqF,GAAI,UACJ,IAAK,cACL,IAAK,cACL,IAAK,aACL,IAAK,QACL,MAA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"}