{"version":3,"file":"dw-2.0.min.js","sources":["../lib/dw/utils/delimited.mjs","../node_modules/underscore/modules/_setup.js","../node_modules/underscore/modules/restArguments.js","../node_modules/underscore/modules/isObject.js","../node_modules/underscore/modules/isNull.js","../node_modules/underscore/modules/isUndefined.js","../node_modules/underscore/modules/isBoolean.js","../node_modules/underscore/modules/_tagTester.js","../node_modules/underscore/modules/isString.js","../node_modules/underscore/modules/isNumber.js","../node_modules/underscore/modules/isDate.js","../node_modules/underscore/modules/isRegExp.js","../node_modules/underscore/modules/isError.js","../node_modules/underscore/modules/isSymbol.js","../node_modules/underscore/modules/isArrayBuffer.js","../node_modules/underscore/modules/isFunction.js","../node_modules/underscore/modules/_hasObjectTag.js","../node_modules/underscore/modules/_stringTagBug.js","../node_modules/underscore/modules/isDataView.js","../node_modules/underscore/modules/isArray.js","../node_modules/underscore/modules/_has.js","../node_modules/underscore/modules/isArguments.js","../node_modules/underscore/modules/isNaN.js","../node_modules/underscore/modules/constant.js","../node_modules/underscore/modules/_createSizePropertyCheck.js","../node_modules/underscore/modules/_shallowProperty.js","../node_modules/underscore/modules/_getByteLength.js","../node_modules/underscore/modules/_isBufferLike.js","../node_modules/underscore/modules/isTypedArray.js","../node_modules/underscore/modules/_getLength.js","../node_modules/underscore/modules/_collectNonEnumProps.js","../node_modules/underscore/modules/keys.js","../node_modules/underscore/modules/isMatch.js","../node_modules/underscore/modules/underscore.js","../node_modules/underscore/modules/_toBufferView.js","../node_modules/underscore/modules/isEqual.js","../node_modules/underscore/modules/allKeys.js","../node_modules/underscore/modules/_methodFingerprint.js","../node_modules/underscore/modules/isMap.js","../node_modules/underscore/modules/isWeakMap.js","../node_modules/underscore/modules/isSet.js","../node_modules/underscore/modules/isWeakSet.js","../node_modules/underscore/modules/values.js","../node_modules/underscore/modules/invert.js","../node_modules/underscore/modules/functions.js","../node_modules/underscore/modules/_createAssigner.js","../node_modules/underscore/modules/extend.js","../node_modules/underscore/modules/extendOwn.js","../node_modules/underscore/modules/defaults.js","../node_modules/underscore/modules/_baseCreate.js","../node_modules/underscore/modules/clone.js","../node_modules/underscore/modules/toPath.js","../node_modules/underscore/modules/_toPath.js","../node_modules/underscore/modules/_deepGet.js","../node_modules/underscore/modules/get.js","../node_modules/underscore/modules/identity.js","../node_modules/underscore/modules/matcher.js","../node_modules/underscore/modules/property.js","../node_modules/underscore/modules/_optimizeCb.js","../node_modules/underscore/modules/_baseIteratee.js","../node_modules/underscore/modules/iteratee.js","../node_modules/underscore/modules/_cb.js","../node_modules/underscore/modules/noop.js","../node_modules/underscore/modules/random.js","../node_modules/underscore/modules/now.js","../node_modules/underscore/modules/_createEscaper.js","../node_modules/underscore/modules/_escapeMap.js","../node_modules/underscore/modules/escape.js","../node_modules/underscore/modules/unescape.js","../node_modules/underscore/modules/_unescapeMap.js","../node_modules/underscore/modules/templateSettings.js","../node_modules/underscore/modules/template.js","../node_modules/underscore/modules/uniqueId.js","../node_modules/underscore/modules/_executeBound.js","../node_modules/underscore/modules/partial.js","../node_modules/underscore/modules/bind.js","../node_modules/underscore/modules/_isArrayLike.js","../node_modules/underscore/modules/_flatten.js","../node_modules/underscore/modules/bindAll.js","../node_modules/underscore/modules/delay.js","../node_modules/underscore/modules/defer.js","../node_modules/underscore/modules/negate.js","../node_modules/underscore/modules/before.js","../node_modules/underscore/modules/once.js","../node_modules/underscore/modules/findKey.js","../node_modules/underscore/modules/_createPredicateIndexFinder.js","../node_modules/underscore/modules/findIndex.js","../node_modules/underscore/modules/findLastIndex.js","../node_modules/underscore/modules/sortedIndex.js","../node_modules/underscore/modules/_createIndexFinder.js","../node_modules/underscore/modules/indexOf.js","../node_modules/underscore/modules/lastIndexOf.js","../node_modules/underscore/modules/find.js","../node_modules/underscore/modules/each.js","../node_modules/underscore/modules/map.js","../node_modules/underscore/modules/_createReduce.js","../node_modules/underscore/modules/reduce.js","../node_modules/underscore/modules/reduceRight.js","../node_modules/underscore/modules/filter.js","../node_modules/underscore/modules/every.js","../node_modules/underscore/modules/some.js","../node_modules/underscore/modules/contains.js","../node_modules/underscore/modules/invoke.js","../node_modules/underscore/modules/pluck.js","../node_modules/underscore/modules/max.js","../node_modules/underscore/modules/toArray.js","../node_modules/underscore/modules/sample.js","../node_modules/underscore/modules/shuffle.js","../node_modules/underscore/modules/_group.js","../node_modules/underscore/modules/groupBy.js","../node_modules/underscore/modules/indexBy.js","../node_modules/underscore/modules/countBy.js","../node_modules/underscore/modules/partition.js","../node_modules/underscore/modules/_keyInObj.js","../node_modules/underscore/modules/pick.js","../node_modules/underscore/modules/omit.js","../node_modules/underscore/modules/initial.js","../node_modules/underscore/modules/first.js","../node_modules/underscore/modules/rest.js","../node_modules/underscore/modules/flatten.js","../node_modules/underscore/modules/difference.js","../node_modules/underscore/modules/without.js","../node_modules/underscore/modules/uniq.js","../node_modules/underscore/modules/union.js","../node_modules/underscore/modules/unzip.js","../node_modules/underscore/modules/zip.js","../node_modules/underscore/modules/range.js","../node_modules/underscore/modules/_chainResult.js","../node_modules/underscore/modules/mixin.js","../node_modules/underscore/modules/underscore-array-methods.js","../node_modules/underscore/modules/isElement.js","../node_modules/underscore/modules/isFinite.js","../node_modules/underscore/modules/isEmpty.js","../node_modules/underscore/modules/pairs.js","../node_modules/underscore/modules/create.js","../node_modules/underscore/modules/tap.js","../node_modules/underscore/modules/has.js","../node_modules/underscore/modules/mapObject.js","../node_modules/underscore/modules/propertyOf.js","../node_modules/underscore/modules/times.js","../node_modules/underscore/modules/result.js","../node_modules/underscore/modules/chain.js","../node_modules/underscore/modules/memoize.js","../node_modules/underscore/modules/throttle.js","../node_modules/underscore/modules/debounce.js","../node_modules/underscore/modules/wrap.js","../node_modules/underscore/modules/compose.js","../node_modules/underscore/modules/after.js","../node_modules/underscore/modules/findWhere.js","../node_modules/underscore/modules/reject.js","../node_modules/underscore/modules/where.js","../node_modules/underscore/modules/min.js","../node_modules/underscore/modules/sortBy.js","../node_modules/underscore/modules/size.js","../node_modules/underscore/modules/last.js","../node_modules/underscore/modules/compact.js","../node_modules/underscore/modules/intersection.js","../node_modules/underscore/modules/object.js","../node_modules/underscore/modules/chunk.js","../node_modules/underscore/modules/index-default.js","../lib/dw/dataset/index.mjs","../lib/dw/dataset/columnTypes/date.mjs","../lib/dw/dataset/columnTypes/index.mjs","../lib/dw/dataset/columnTypes/text.mjs","../lib/dw/dataset/columnTypes/number.mjs","../node_modules/dompurify/dist/purify.js","../node_modules/isomorphic-dompurify/browser.js","../node_modules/@datawrapper/shared/memoizer.js","../node_modules/@datawrapper/shared/purifyHtml.js","../lib/dw/dataset/column.mjs","../lib/dw/dataset/delimited.mjs","../lib/dw/dataset/json.mjs","../node_modules/@datawrapper/shared/tailLength.js","../node_modules/@datawrapper/shared/round.js","../node_modules/underscore/underscore-umd.js","../node_modules/@datawrapper/shared/significantDimension.js","../node_modules/@datawrapper/shared/smartRound.js","../node_modules/@datawrapper/shared/clone.js","../node_modules/@datawrapper/shared/get.js","../lib/dw/utils/getNonChartHeight.mjs","../node_modules/@datawrapper/expr-eval/src/token.js","../node_modules/@datawrapper/expr-eval/src/token-stream.js","../node_modules/@datawrapper/expr-eval/src/instruction.js","../node_modules/@datawrapper/expr-eval/src/parser-state.js","../node_modules/@datawrapper/expr-eval/src/contains.js","../node_modules/@datawrapper/expr-eval/src/functions.js","../node_modules/@datawrapper/expr-eval/src/evaluate.js","../lib/dw/utils/parser.mjs","../lib/dw/utils/templateParser.mjs","../lib/dw/utils/htmlTemplate.mjs","../lib/dw/utils/index.mjs","../node_modules/@datawrapper/shared/equalish.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_getPrototype.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isPlainObject.js","../node_modules/@datawrapper/shared/set.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/eq.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/keys.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/isEqual.js","../node_modules/@datawrapper/shared/objectDiff.js","../lib/dw/utils/events.mjs","../lib/dw/dataset/applyChanges.mjs","../node_modules/@datawrapper/shared/columnNameToVariable.js","../lib/dw/dataset/addComputedColumns.mjs","../lib/dw/chart.mjs","../node_modules/numeral/numeral.js","../lib/dw/utils/populateVisAxes.mjs","../lib/dw/visualization.base.mjs","../lib/dw/utils/filterDatasetColumns.mjs","../lib/dw/visualization.mjs","../lib/dw/theme.mjs","../lib/dw/block.mjs","../lib/dw/notify.mjs","../lib/dw/index.mjs","../lib/dw/dataset/reorderColumns.mjs","../node_modules/@datawrapper/shared/postEvent.js"],"sourcesContent":["export function guessDelimiterFromLocale(numeral) {\n    try {\n        if (numeral.localeData().delimiters.decimal === ',') {\n            return ';';\n        }\n    } catch (e) {\n        // invalid locale data\n    }\n    return ',';\n}\n\nfunction escapeDelimitedValue(value, delimiter, quoteChar) {\n    if (\n        value === null ||\n        value === undefined ||\n        (typeof value === 'number' && !Number.isFinite(value))\n    ) {\n        return '';\n    }\n    const s = String(value);\n    if (s.indexOf(quoteChar) !== -1) {\n        // A double-quote appearing inside a field MUST be escaped by preceding it with another\n        // double quote, and the field itself MUST be enclosed in double quotes.\n        // See paragraph 8 at https://csv-spec.org/#csv-format-specification\n        return quoteChar + s.replace(new RegExp(quoteChar, 'g'), quoteChar + quoteChar) + quoteChar;\n    }\n    if (new RegExp(`[\\n\\r${delimiter}]`).test(s)) {\n        // Fields containing line breaks (CRLF, LF, or CR), double quotes, or the delimiter\n        // character (normally a comma) MUST be enclosed in double-quotes.\n        // See paragraph 7 at https://csv-spec.org/#csv-format-specification\n        return quoteChar + s + quoteChar;\n    }\n    return s;\n}\n\nexport function formatDelimited(\n    rows,\n    { delimiter = ',', quoteChar = '\"', lineTerminator = '\\n' } = {}\n) {\n    return rows\n        .map(row =>\n            row.map(value => escapeDelimitedValue(value, delimiter, quoteChar)).join(delimiter)\n        )\n        .join(lineTerminator);\n}\n\nexport default {\n    formatDelimited,\n    guessDelimiterFromLocale\n};\n","// Current version.\nexport var VERSION = '1.13.4';\n\n// Establish the root object, `window` (`self`) in the browser, `global`\n// on the server, or `this` in some virtual machines. We use `self`\n// instead of `window` for `WebWorker` support.\nexport var root = (typeof self == 'object' && self.self === self && self) ||\n          (typeof global == 'object' && global.global === global && global) ||\n          Function('return this')() ||\n          {};\n\n// Save bytes in the minified (but not gzipped) version:\nexport var ArrayProto = Array.prototype, ObjProto = Object.prototype;\nexport var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n// Create quick reference variables for speed access to core prototypes.\nexport var push = ArrayProto.push,\n    slice = ArrayProto.slice,\n    toString = ObjProto.toString,\n    hasOwnProperty = ObjProto.hasOwnProperty;\n\n// Modern feature detection.\nexport var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n    supportsDataView = typeof DataView !== 'undefined';\n\n// All **ECMAScript 5+** native function implementations that we hope to use\n// are declared here.\nexport var nativeIsArray = Array.isArray,\n    nativeKeys = Object.keys,\n    nativeCreate = Object.create,\n    nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n// Create references to these builtin functions because we override them.\nexport var _isNaN = isNaN,\n    _isFinite = isFinite;\n\n// Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\nexport var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\nexport var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n  'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n// The largest integer that can be represented exactly.\nexport var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n","// Some functions take a variable number of arguments, or a few expected\n// arguments at the beginning and then a variable number of values to operate\n// on. This helper accumulates all remaining arguments past the function’s\n// argument length (or an explicit `startIndex`), into an array that becomes\n// the last argument. Similar to ES6’s \"rest parameter\".\nexport default function restArguments(func, startIndex) {\n  startIndex = startIndex == null ? func.length - 1 : +startIndex;\n  return function() {\n    var length = Math.max(arguments.length - startIndex, 0),\n        rest = Array(length),\n        index = 0;\n    for (; index < length; index++) {\n      rest[index] = arguments[index + startIndex];\n    }\n    switch (startIndex) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, arguments[0], rest);\n      case 2: return func.call(this, arguments[0], arguments[1], rest);\n    }\n    var args = Array(startIndex + 1);\n    for (index = 0; index < startIndex; index++) {\n      args[index] = arguments[index];\n    }\n    args[startIndex] = rest;\n    return func.apply(this, args);\n  };\n}\n","// Is a given variable an object?\nexport default function isObject(obj) {\n  var type = typeof obj;\n  return type === 'function' || (type === 'object' && !!obj);\n}\n","// Is a given value equal to null?\nexport default function isNull(obj) {\n  return obj === null;\n}\n","// Is a given variable undefined?\nexport default function isUndefined(obj) {\n  return obj === void 0;\n}\n","import { toString } from './_setup.js';\n\n// Is a given value a boolean?\nexport default function isBoolean(obj) {\n  return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n}\n","import { toString } from './_setup.js';\n\n// Internal function for creating a `toString`-based type tester.\nexport default function tagTester(name) {\n  var tag = '[object ' + name + ']';\n  return function(obj) {\n    return toString.call(obj) === tag;\n  };\n}\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('String');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Number');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Date');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('RegExp');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Error');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Symbol');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('ArrayBuffer');\n","import tagTester from './_tagTester.js';\nimport { root } from './_setup.js';\n\nvar isFunction = tagTester('Function');\n\n// Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n// v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\nvar nodelist = root.document && root.document.childNodes;\nif (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n  isFunction = function(obj) {\n    return typeof obj == 'function' || false;\n  };\n}\n\nexport default isFunction;\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Object');\n","import { supportsDataView } from './_setup.js';\nimport hasObjectTag from './_hasObjectTag.js';\n\n// In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n// In IE 11, the most common among them, this problem also applies to\n// `Map`, `WeakMap` and `Set`.\nexport var hasStringTagBug = (\n      supportsDataView && hasObjectTag(new DataView(new ArrayBuffer(8)))\n    ),\n    isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n","import tagTester from './_tagTester.js';\nimport isFunction from './isFunction.js';\nimport isArrayBuffer from './isArrayBuffer.js';\nimport { hasStringTagBug } from './_stringTagBug.js';\n\nvar isDataView = tagTester('DataView');\n\n// In IE 10 - Edge 13, we need a different heuristic\n// to determine whether an object is a `DataView`.\nfunction ie10IsDataView(obj) {\n  return obj != null && isFunction(obj.getInt8) && isArrayBuffer(obj.buffer);\n}\n\nexport default (hasStringTagBug ? ie10IsDataView : isDataView);\n","import { nativeIsArray } from './_setup.js';\nimport tagTester from './_tagTester.js';\n\n// Is a given value an array?\n// Delegates to ECMA5's native `Array.isArray`.\nexport default nativeIsArray || tagTester('Array');\n","import { hasOwnProperty } from './_setup.js';\n\n// Internal function to check whether `key` is an own property name of `obj`.\nexport default function has(obj, key) {\n  return obj != null && hasOwnProperty.call(obj, key);\n}\n","import tagTester from './_tagTester.js';\nimport has from './_has.js';\n\nvar isArguments = tagTester('Arguments');\n\n// Define a fallback version of the method in browsers (ahem, IE < 9), where\n// there isn't any inspectable \"Arguments\" type.\n(function() {\n  if (!isArguments(arguments)) {\n    isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n}());\n\nexport default isArguments;\n","import { _isNaN } from './_setup.js';\nimport isNumber from './isNumber.js';\n\n// Is the given value `NaN`?\nexport default function isNaN(obj) {\n  return isNumber(obj) && _isNaN(obj);\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function constant(value) {\n  return function() {\n    return value;\n  };\n}\n","import { MAX_ARRAY_INDEX } from './_setup.js';\n\n// Common internal logic for `isArrayLike` and `isBufferLike`.\nexport default function createSizePropertyCheck(getSizeProperty) {\n  return function(collection) {\n    var sizeProperty = getSizeProperty(collection);\n    return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n  }\n}\n","// Internal helper to generate a function to obtain property `key` from `obj`.\nexport default function shallowProperty(key) {\n  return function(obj) {\n    return obj == null ? void 0 : obj[key];\n  };\n}\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `byteLength` property of an object.\nexport default shallowProperty('byteLength');\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getByteLength from './_getByteLength.js';\n\n// Internal helper to determine whether we should spend extensive checks against\n// `ArrayBuffer` et al.\nexport default createSizePropertyCheck(getByteLength);\n","import { supportsArrayBuffer, nativeIsView, toString } from './_setup.js';\nimport isDataView from './isDataView.js';\nimport constant from './constant.js';\nimport isBufferLike from './_isBufferLike.js';\n\n// Is a given value a typed array?\nvar typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\nfunction isTypedArray(obj) {\n  // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n  // Otherwise, fall back on the above regular expression.\n  return nativeIsView ? (nativeIsView(obj) && !isDataView(obj)) :\n                isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n}\n\nexport default supportsArrayBuffer ? isTypedArray : constant(false);\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `length` property of an object.\nexport default shallowProperty('length');\n","import { nonEnumerableProps, ObjProto } from './_setup.js';\nimport isFunction from './isFunction.js';\nimport has from './_has.js';\n\n// Internal helper to create a simple lookup structure.\n// `collectNonEnumProps` used to depend on `_.contains`, but this led to\n// circular imports. `emulatedSet` is a one-off solution that only works for\n// arrays of strings.\nfunction emulatedSet(keys) {\n  var hash = {};\n  for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n  return {\n    contains: function(key) { return hash[key] === true; },\n    push: function(key) {\n      hash[key] = true;\n      return keys.push(key);\n    }\n  };\n}\n\n// Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n// be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n// needed.\nexport default function collectNonEnumProps(obj, keys) {\n  keys = emulatedSet(keys);\n  var nonEnumIdx = nonEnumerableProps.length;\n  var constructor = obj.constructor;\n  var proto = (isFunction(constructor) && constructor.prototype) || ObjProto;\n\n  // Constructor is a special case.\n  var prop = 'constructor';\n  if (has(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\n  while (nonEnumIdx--) {\n    prop = nonEnumerableProps[nonEnumIdx];\n    if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n      keys.push(prop);\n    }\n  }\n}\n","import isObject from './isObject.js';\nimport { nativeKeys, hasEnumBug } from './_setup.js';\nimport has from './_has.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve the names of an object's own properties.\n// Delegates to **ECMAScript 5**'s native `Object.keys`.\nexport default function keys(obj) {\n  if (!isObject(obj)) return [];\n  if (nativeKeys) return nativeKeys(obj);\n  var keys = [];\n  for (var key in obj) if (has(obj, key)) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import keys from './keys.js';\n\n// Returns whether an object has a given set of `key:value` pairs.\nexport default function isMatch(object, attrs) {\n  var _keys = keys(attrs), length = _keys.length;\n  if (object == null) return !length;\n  var obj = Object(object);\n  for (var i = 0; i < length; i++) {\n    var key = _keys[i];\n    if (attrs[key] !== obj[key] || !(key in obj)) return false;\n  }\n  return true;\n}\n","import { VERSION } from './_setup.js';\n\n// If Underscore is called as a function, it returns a wrapped object that can\n// be used OO-style. This wrapper holds altered versions of all functions added\n// through `_.mixin`. Wrapped objects may be chained.\nexport default function _(obj) {\n  if (obj instanceof _) return obj;\n  if (!(this instanceof _)) return new _(obj);\n  this._wrapped = obj;\n}\n\n_.VERSION = VERSION;\n\n// Extracts the result from a wrapped and chained object.\n_.prototype.value = function() {\n  return this._wrapped;\n};\n\n// Provide unwrapping proxies for some methods used in engine operations\n// such as arithmetic and JSON stringification.\n_.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n_.prototype.toString = function() {\n  return String(this._wrapped);\n};\n","import getByteLength from './_getByteLength.js';\n\n// Internal function to wrap or shallow-copy an ArrayBuffer,\n// typed array or DataView to a new view, reusing the buffer.\nexport default function toBufferView(bufferSource) {\n  return new Uint8Array(\n    bufferSource.buffer || bufferSource,\n    bufferSource.byteOffset || 0,\n    getByteLength(bufferSource)\n  );\n}\n","import _ from './underscore.js';\nimport { toString, SymbolProto } from './_setup.js';\nimport getByteLength from './_getByteLength.js';\nimport isTypedArray from './isTypedArray.js';\nimport isFunction from './isFunction.js';\nimport { hasStringTagBug }  from './_stringTagBug.js';\nimport isDataView from './isDataView.js';\nimport keys from './keys.js';\nimport has from './_has.js';\nimport toBufferView from './_toBufferView.js';\n\n// We use this string twice, so give it a name for minification.\nvar tagDataView = '[object DataView]';\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction eq(a, b, aStack, bStack) {\n  // Identical objects are equal. `0 === -0`, but they aren't identical.\n  // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n  if (a === b) return a !== 0 || 1 / a === 1 / b;\n  // `null` or `undefined` only equal to itself (strict comparison).\n  if (a == null || b == null) return false;\n  // `NaN`s are equivalent, but non-reflexive.\n  if (a !== a) return b !== b;\n  // Exhaust primitive checks\n  var type = typeof a;\n  if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n  return deepEq(a, b, aStack, bStack);\n}\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction deepEq(a, b, aStack, bStack) {\n  // Unwrap any wrapped objects.\n  if (a instanceof _) a = a._wrapped;\n  if (b instanceof _) b = b._wrapped;\n  // Compare `[[Class]]` names.\n  var className = toString.call(a);\n  if (className !== toString.call(b)) return false;\n  // Work around a bug in IE 10 - Edge 13.\n  if (hasStringTagBug && className == '[object Object]' && isDataView(a)) {\n    if (!isDataView(b)) return false;\n    className = tagDataView;\n  }\n  switch (className) {\n    // These types are compared by value.\n    case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n    case '[object String]':\n      // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n      // equivalent to `new String(\"5\")`.\n      return '' + a === '' + b;\n    case '[object Number]':\n      // `NaN`s are equivalent, but non-reflexive.\n      // Object(NaN) is equivalent to NaN.\n      if (+a !== +a) return +b !== +b;\n      // An `egal` comparison is performed for other numeric values.\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n      // millisecond representations. Note that invalid dates with millisecond representations\n      // of `NaN` are not equivalent.\n      return +a === +b;\n    case '[object Symbol]':\n      return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    case '[object ArrayBuffer]':\n    case tagDataView:\n      // Coerce to typed array so we can fall through.\n      return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n  }\n\n  var areArrays = className === '[object Array]';\n  if (!areArrays && isTypedArray(a)) {\n      var byteLength = getByteLength(a);\n      if (byteLength !== getByteLength(b)) return false;\n      if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n      areArrays = true;\n  }\n  if (!areArrays) {\n    if (typeof a != 'object' || typeof b != 'object') return false;\n\n    // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor &&\n                             isFunction(bCtor) && bCtor instanceof bCtor)\n                        && ('constructor' in a && 'constructor' in b)) {\n      return false;\n    }\n  }\n  // Assume equality for cyclic structures. The algorithm for detecting cyclic\n  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n  // Initializing stack of traversed objects.\n  // It's done here since we only need them for objects and arrays comparison.\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    // Linear search. Performance is inversely proportional to the number of\n    // unique nested structures.\n    if (aStack[length] === a) return bStack[length] === b;\n  }\n\n  // Add the first object to the stack of traversed objects.\n  aStack.push(a);\n  bStack.push(b);\n\n  // Recursively compare objects and arrays.\n  if (areArrays) {\n    // Compare array lengths to determine if a deep comparison is necessary.\n    length = a.length;\n    if (length !== b.length) return false;\n    // Deep compare the contents, ignoring non-numeric properties.\n    while (length--) {\n      if (!eq(a[length], b[length], aStack, bStack)) return false;\n    }\n  } else {\n    // Deep compare objects.\n    var _keys = keys(a), key;\n    length = _keys.length;\n    // Ensure that both objects contain the same number of properties before comparing deep equality.\n    if (keys(b).length !== length) return false;\n    while (length--) {\n      // Deep compare each member\n      key = _keys[length];\n      if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n    }\n  }\n  // Remove the first object from the stack of traversed objects.\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\n// Perform a deep comparison to check if two objects are equal.\nexport default function isEqual(a, b) {\n  return eq(a, b);\n}\n","import isObject from './isObject.js';\nimport { hasEnumBug } from './_setup.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve all the enumerable property names of an object.\nexport default function allKeys(obj) {\n  if (!isObject(obj)) return [];\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isFunction from './isFunction.js';\nimport allKeys from './allKeys.js';\n\n// Since the regular `Object.prototype.toString` type tests don't work for\n// some types in IE 11, we use a fingerprinting heuristic instead, based\n// on the methods. It's not great, but it's the best we got.\n// The fingerprint method lists are defined below.\nexport function ie11fingerprint(methods) {\n  var length = getLength(methods);\n  return function(obj) {\n    if (obj == null) return false;\n    // `Map`, `WeakMap` and `Set` have no enumerable keys.\n    var keys = allKeys(obj);\n    if (getLength(keys)) return false;\n    for (var i = 0; i < length; i++) {\n      if (!isFunction(obj[methods[i]])) return false;\n    }\n    // If we are testing against `WeakMap`, we need to ensure that\n    // `obj` doesn't have a `forEach` method in order to distinguish\n    // it from a regular `Map`.\n    return methods !== weakMapMethods || !isFunction(obj[forEachName]);\n  };\n}\n\n// In the interest of compact minification, we write\n// each string in the fingerprints only once.\nvar forEachName = 'forEach',\n    hasName = 'has',\n    commonInit = ['clear', 'delete'],\n    mapTail = ['get', hasName, 'set'];\n\n// `Map`, `WeakMap` and `Set` each have slightly different\n// combinations of the above sublists.\nexport var mapMethods = commonInit.concat(forEachName, mapTail),\n    weakMapMethods = commonInit.concat(mapTail),\n    setMethods = ['add'].concat(commonInit, forEachName, hasName);\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, mapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, weakMapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, setMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('WeakSet');\n","import keys from './keys.js';\n\n// Retrieve the values of an object's properties.\nexport default function values(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var values = Array(length);\n  for (var i = 0; i < length; i++) {\n    values[i] = obj[_keys[i]];\n  }\n  return values;\n}\n","import keys from './keys.js';\n\n// Invert the keys and values of an object. The values must be serializable.\nexport default function invert(obj) {\n  var result = {};\n  var _keys = keys(obj);\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    result[obj[_keys[i]]] = _keys[i];\n  }\n  return result;\n}\n","import isFunction from './isFunction.js';\n\n// Return a sorted list of the function names available on the object.\nexport default function functions(obj) {\n  var names = [];\n  for (var key in obj) {\n    if (isFunction(obj[key])) names.push(key);\n  }\n  return names.sort();\n}\n","// An internal function for creating assigner functions.\nexport default function createAssigner(keysFunc, defaults) {\n  return function(obj) {\n    var length = arguments.length;\n    if (defaults) obj = Object(obj);\n    if (length < 2 || obj == null) return obj;\n    for (var index = 1; index < length; index++) {\n      var source = arguments[index],\n          keys = keysFunc(source),\n          l = keys.length;\n      for (var i = 0; i < l; i++) {\n        var key = keys[i];\n        if (!defaults || obj[key] === void 0) obj[key] = source[key];\n      }\n    }\n    return obj;\n  };\n}\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Extend a given object with all the properties in passed-in object(s).\nexport default createAssigner(allKeys);\n","import createAssigner from './_createAssigner.js';\nimport keys from './keys.js';\n\n// Assigns a given object with all the own properties in the passed-in\n// object(s).\n// (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\nexport default createAssigner(keys);\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Fill in a given object with default properties.\nexport default createAssigner(allKeys, true);\n","import isObject from './isObject.js';\nimport { nativeCreate } from './_setup.js';\n\n// Create a naked function reference for surrogate-prototype-swapping.\nfunction ctor() {\n  return function(){};\n}\n\n// An internal function for creating a new object that inherits from another.\nexport default function baseCreate(prototype) {\n  if (!isObject(prototype)) return {};\n  if (nativeCreate) return nativeCreate(prototype);\n  var Ctor = ctor();\n  Ctor.prototype = prototype;\n  var result = new Ctor;\n  Ctor.prototype = null;\n  return result;\n}\n","import isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport extend from './extend.js';\n\n// Create a (shallow-cloned) duplicate of an object.\nexport default function clone(obj) {\n  if (!isObject(obj)) return obj;\n  return isArray(obj) ? obj.slice() : extend({}, obj);\n}\n","import _ from './underscore.js';\nimport isArray from './isArray.js';\n\n// Normalize a (deep) property `path` to array.\n// Like `_.iteratee`, this function can be customized.\nexport default function toPath(path) {\n  return isArray(path) ? path : [path];\n}\n_.toPath = toPath;\n","import _ from './underscore.js';\nimport './toPath.js';\n\n// Internal wrapper for `_.toPath` to enable minification.\n// Similar to `cb` for `_.iteratee`.\nexport default function toPath(path) {\n  return _.toPath(path);\n}\n","// Internal function to obtain a nested property in `obj` along `path`.\nexport default function deepGet(obj, path) {\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    if (obj == null) return void 0;\n    obj = obj[path[i]];\n  }\n  return length ? obj : void 0;\n}\n","import toPath from './_toPath.js';\nimport deepGet from './_deepGet.js';\nimport isUndefined from './isUndefined.js';\n\n// Get the value of the (deep) property on `path` from `object`.\n// If any property in `path` does not exist or if the value is\n// `undefined`, return `defaultValue` instead.\n// The `path` is normalized through `_.toPath`.\nexport default function get(object, path, defaultValue) {\n  var value = deepGet(object, toPath(path));\n  return isUndefined(value) ? defaultValue : value;\n}\n","// Keep the identity function around for default iteratees.\nexport default function identity(value) {\n  return value;\n}\n","import extendOwn from './extendOwn.js';\nimport isMatch from './isMatch.js';\n\n// Returns a predicate for checking whether an object has a given set of\n// `key:value` pairs.\nexport default function matcher(attrs) {\n  attrs = extendOwn({}, attrs);\n  return function(obj) {\n    return isMatch(obj, attrs);\n  };\n}\n","import deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Creates a function that, when passed an object, will traverse that object’s\n// properties down the given `path`, specified as an array of keys or indices.\nexport default function property(path) {\n  path = toPath(path);\n  return function(obj) {\n    return deepGet(obj, path);\n  };\n}\n","// Internal function that returns an efficient (for current engines) version\n// of the passed-in callback, to be repeatedly applied in other Underscore\n// functions.\nexport default function optimizeCb(func, context, argCount) {\n  if (context === void 0) return func;\n  switch (argCount == null ? 3 : argCount) {\n    case 1: return function(value) {\n      return func.call(context, value);\n    };\n    // The 2-argument case is omitted because we’re not using it.\n    case 3: return function(value, index, collection) {\n      return func.call(context, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(context, accumulator, value, index, collection);\n    };\n  }\n  return function() {\n    return func.apply(context, arguments);\n  };\n}\n","import identity from './identity.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport matcher from './matcher.js';\nimport property from './property.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// An internal function to generate callbacks that can be applied to each\n// element in a collection, returning the desired result — either `_.identity`,\n// an arbitrary callback, a property matcher, or a property accessor.\nexport default function baseIteratee(value, context, argCount) {\n  if (value == null) return identity;\n  if (isFunction(value)) return optimizeCb(value, context, argCount);\n  if (isObject(value) && !isArray(value)) return matcher(value);\n  return property(value);\n}\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\n\n// External wrapper for our callback generator. Users may customize\n// `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n// This abstraction hides the internal-only `argCount` argument.\nexport default function iteratee(value, context) {\n  return baseIteratee(value, context, Infinity);\n}\n_.iteratee = iteratee;\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\nimport iteratee from './iteratee.js';\n\n// The function we call internally to generate a callback. It invokes\n// `_.iteratee` if overridden, otherwise `baseIteratee`.\nexport default function cb(value, context, argCount) {\n  if (_.iteratee !== iteratee) return _.iteratee(value, context);\n  return baseIteratee(value, context, argCount);\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function noop(){}\n","// Return a random integer between `min` and `max` (inclusive).\nexport default function random(min, max) {\n  if (max == null) {\n    max = min;\n    min = 0;\n  }\n  return min + Math.floor(Math.random() * (max - min + 1));\n}\n","// A (possibly faster) way to get the current timestamp as an integer.\nexport default Date.now || function() {\n  return new Date().getTime();\n};\n","import keys from './keys.js';\n\n// Internal helper to generate functions for escaping and unescaping strings\n// to/from HTML interpolation.\nexport default function createEscaper(map) {\n  var escaper = function(match) {\n    return map[match];\n  };\n  // Regexes for identifying a key that needs to be escaped.\n  var source = '(?:' + keys(map).join('|') + ')';\n  var testRegexp = RegExp(source);\n  var replaceRegexp = RegExp(source, 'g');\n  return function(string) {\n    string = string == null ? '' : '' + string;\n    return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n  };\n}\n","// Internal list of HTML entities for escaping.\nexport default {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;'\n};\n","import createEscaper from './_createEscaper.js';\nimport escapeMap from './_escapeMap.js';\n\n// Function for escaping strings to HTML interpolation.\nexport default createEscaper(escapeMap);\n","import createEscaper from './_createEscaper.js';\nimport unescapeMap from './_unescapeMap.js';\n\n// Function for unescaping strings from HTML interpolation.\nexport default createEscaper(unescapeMap);\n","import invert from './invert.js';\nimport escapeMap from './_escapeMap.js';\n\n// Internal list of HTML entities for unescaping.\nexport default invert(escapeMap);\n","import _ from './underscore.js';\n\n// By default, Underscore uses ERB-style template delimiters. Change the\n// following template settings to use alternative delimiters.\nexport default _.templateSettings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n};\n","import defaults from './defaults.js';\nimport _ from './underscore.js';\nimport './templateSettings.js';\n\n// When customizing `_.templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\nvar noMatch = /(.)^/;\n\n// Certain characters need to be escaped so that they can be put into a\n// string literal.\nvar escapes = {\n  \"'\": \"'\",\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\nvar escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction escapeChar(match) {\n  return '\\\\' + escapes[match];\n}\n\n// In order to prevent third-party code injection through\n// `_.templateSettings.variable`, we test it against the following regular\n// expression. It is intentionally a bit more liberal than just matching valid\n// identifiers, but still prevents possible loopholes through defaults or\n// destructuring assignment.\nvar bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\n// JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n// NB: `oldSettings` only exists for backwards compatibility.\nexport default function template(text, settings, oldSettings) {\n  if (!settings && oldSettings) settings = oldSettings;\n  settings = defaults({}, settings, _.templateSettings);\n\n  // Combine delimiters into one regular expression via alternation.\n  var matcher = RegExp([\n    (settings.escape || noMatch).source,\n    (settings.interpolate || noMatch).source,\n    (settings.evaluate || noMatch).source\n  ].join('|') + '|$', 'g');\n\n  // Compile the template source, escaping string literals appropriately.\n  var index = 0;\n  var source = \"__p+='\";\n  text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n    index = offset + match.length;\n\n    if (escape) {\n      source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n    } else if (interpolate) {\n      source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n    } else if (evaluate) {\n      source += \"';\\n\" + evaluate + \"\\n__p+='\";\n    }\n\n    // Adobe VMs need the match returned to produce the correct offset.\n    return match;\n  });\n  source += \"';\\n\";\n\n  var argument = settings.variable;\n  if (argument) {\n    // Insure against third-party code injection. (CVE-2021-23358)\n    if (!bareIdentifier.test(argument)) throw new Error(\n      'variable is not a bare identifier: ' + argument\n    );\n  } else {\n    // If a variable is not specified, place data values in local scope.\n    source = 'with(obj||{}){\\n' + source + '}\\n';\n    argument = 'obj';\n  }\n\n  source = \"var __t,__p='',__j=Array.prototype.join,\" +\n    \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n    source + 'return __p;\\n';\n\n  var render;\n  try {\n    render = new Function(argument, '_', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  var template = function(data) {\n    return render.call(this, data, _);\n  };\n\n  // Provide the compiled source as a convenience for precompilation.\n  template.source = 'function(' + argument + '){\\n' + source + '}';\n\n  return template;\n}\n","// Generate a unique integer id (unique within the entire client session).\n// Useful for temporary DOM ids.\nvar idCounter = 0;\nexport default function uniqueId(prefix) {\n  var id = ++idCounter + '';\n  return prefix ? prefix + id : id;\n}\n","import baseCreate from './_baseCreate.js';\nimport isObject from './isObject.js';\n\n// Internal function to execute `sourceFunc` bound to `context` with optional\n// `args`. Determines whether to execute a function as a constructor or as a\n// normal function.\nexport default function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n  if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n  var self = baseCreate(sourceFunc.prototype);\n  var result = sourceFunc.apply(self, args);\n  if (isObject(result)) return result;\n  return self;\n}\n","import restArguments from './restArguments.js';\nimport executeBound from './_executeBound.js';\nimport _ from './underscore.js';\n\n// Partially apply a function by creating a version that has had some of its\n// arguments pre-filled, without changing its dynamic `this` context. `_` acts\n// as a placeholder by default, allowing any combination of arguments to be\n// pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\nvar partial = restArguments(function(func, boundArgs) {\n  var placeholder = partial.placeholder;\n  var bound = function() {\n    var position = 0, length = boundArgs.length;\n    var args = Array(length);\n    for (var i = 0; i < length; i++) {\n      args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n    }\n    while (position < arguments.length) args.push(arguments[position++]);\n    return executeBound(func, bound, this, this, args);\n  };\n  return bound;\n});\n\npartial.placeholder = _;\nexport default partial;\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport executeBound from './_executeBound.js';\n\n// Create a function bound to a given object (assigning `this`, and arguments,\n// optionally).\nexport default restArguments(function(func, context, args) {\n  if (!isFunction(func)) throw new TypeError('Bind must be called on a function');\n  var bound = restArguments(function(callArgs) {\n    return executeBound(func, bound, context, this, args.concat(callArgs));\n  });\n  return bound;\n});\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getLength from './_getLength.js';\n\n// Internal helper for collection methods to determine whether a collection\n// should be iterated as an array or as an object.\n// Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n// Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\nexport default createSizePropertyCheck(getLength);\n","import getLength from './_getLength.js';\nimport isArrayLike from './_isArrayLike.js';\nimport isArray from './isArray.js';\nimport isArguments from './isArguments.js';\n\n// Internal implementation of a recursive `flatten` function.\nexport default function flatten(input, depth, strict, output) {\n  output = output || [];\n  if (!depth && depth !== 0) {\n    depth = Infinity;\n  } else if (depth <= 0) {\n    return output.concat(input);\n  }\n  var idx = output.length;\n  for (var i = 0, length = getLength(input); i < length; i++) {\n    var value = input[i];\n    if (isArrayLike(value) && (isArray(value) || isArguments(value))) {\n      // Flatten current level of array or arguments object.\n      if (depth > 1) {\n        flatten(value, depth - 1, strict, output);\n        idx = output.length;\n      } else {\n        var j = 0, len = value.length;\n        while (j < len) output[idx++] = value[j++];\n      }\n    } else if (!strict) {\n      output[idx++] = value;\n    }\n  }\n  return output;\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport bind from './bind.js';\n\n// Bind a number of an object's methods to that object. Remaining arguments\n// are the method names to be bound. Useful for ensuring that all callbacks\n// defined on an object belong to it.\nexport default restArguments(function(obj, keys) {\n  keys = flatten(keys, false, false);\n  var index = keys.length;\n  if (index < 1) throw new Error('bindAll must be passed function names');\n  while (index--) {\n    var key = keys[index];\n    obj[key] = bind(obj[key], obj);\n  }\n  return obj;\n});\n","import restArguments from './restArguments.js';\n\n// Delays a function for the given number of milliseconds, and then calls\n// it with the arguments supplied.\nexport default restArguments(function(func, wait, args) {\n  return setTimeout(function() {\n    return func.apply(null, args);\n  }, wait);\n});\n","import partial from './partial.js';\nimport delay from './delay.js';\nimport _ from './underscore.js';\n\n// Defers a function, scheduling it to run after the current call stack has\n// cleared.\nexport default partial(delay, _, 1);\n","// Returns a negated version of the passed-in predicate.\nexport default function negate(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n","// Returns a function that will only be executed up to (but not including) the\n// Nth call.\nexport default function before(times, func) {\n  var memo;\n  return function() {\n    if (--times > 0) {\n      memo = func.apply(this, arguments);\n    }\n    if (times <= 1) func = null;\n    return memo;\n  };\n}\n","import partial from './partial.js';\nimport before from './before.js';\n\n// Returns a function that will be executed at most one time, no matter how\n// often you call it. Useful for lazy initialization.\nexport default partial(before, 2);\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the first key on an object that passes a truth test.\nexport default function findKey(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = keys(obj), key;\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    key = _keys[i];\n    if (predicate(obj[key], key, obj)) return key;\n  }\n}\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Internal function to generate `_.findIndex` and `_.findLastIndex`.\nexport default function createPredicateIndexFinder(dir) {\n  return function(array, predicate, context) {\n    predicate = cb(predicate, context);\n    var length = getLength(array);\n    var index = dir > 0 ? 0 : length - 1;\n    for (; index >= 0 && index < length; index += dir) {\n      if (predicate(array[index], index, array)) return index;\n    }\n    return -1;\n  };\n}\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the first index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(1);\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the last index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(-1);\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Use a comparator function to figure out the smallest index at which\n// an object should be inserted so as to maintain order. Uses binary search.\nexport default function sortedIndex(array, obj, iteratee, context) {\n  iteratee = cb(iteratee, context, 1);\n  var value = iteratee(obj);\n  var low = 0, high = getLength(array);\n  while (low < high) {\n    var mid = Math.floor((low + high) / 2);\n    if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n  }\n  return low;\n}\n","import getLength from './_getLength.js';\nimport { slice } from './_setup.js';\nimport isNaN from './isNaN.js';\n\n// Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\nexport default function createIndexFinder(dir, predicateFind, sortedIndex) {\n  return function(array, item, idx) {\n    var i = 0, length = getLength(array);\n    if (typeof idx == 'number') {\n      if (dir > 0) {\n        i = idx >= 0 ? idx : Math.max(idx + length, i);\n      } else {\n        length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n      }\n    } else if (sortedIndex && idx && length) {\n      idx = sortedIndex(array, item);\n      return array[idx] === item ? idx : -1;\n    }\n    if (item !== item) {\n      idx = predicateFind(slice.call(array, i, length), isNaN);\n      return idx >= 0 ? idx + i : -1;\n    }\n    for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n      if (array[idx] === item) return idx;\n    }\n    return -1;\n  };\n}\n","import sortedIndex from './sortedIndex.js';\nimport findIndex from './findIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the first occurrence of an item in an array,\n// or -1 if the item is not included in the array.\n// If the array is large and already in sort order, pass `true`\n// for **isSorted** to use binary search.\nexport default createIndexFinder(1, findIndex, sortedIndex);\n","import findLastIndex from './findLastIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the last occurrence of an item in an array,\n// or -1 if the item is not included in the array.\nexport default createIndexFinder(-1, findLastIndex);\n","import isArrayLike from './_isArrayLike.js';\nimport findIndex from './findIndex.js';\nimport findKey from './findKey.js';\n\n// Return the first value which passes a truth test.\nexport default function find(obj, predicate, context) {\n  var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n  var key = keyFinder(obj, predicate, context);\n  if (key !== void 0 && key !== -1) return obj[key];\n}\n","import optimizeCb from './_optimizeCb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// The cornerstone for collection functions, an `each`\n// implementation, aka `forEach`.\n// Handles raw objects in addition to array-likes. Treats all\n// sparse array-likes as if they were dense.\nexport default function each(obj, iteratee, context) {\n  iteratee = optimizeCb(iteratee, context);\n  var i, length;\n  if (isArrayLike(obj)) {\n    for (i = 0, length = obj.length; i < length; i++) {\n      iteratee(obj[i], i, obj);\n    }\n  } else {\n    var _keys = keys(obj);\n    for (i = 0, length = _keys.length; i < length; i++) {\n      iteratee(obj[_keys[i]], _keys[i], obj);\n    }\n  }\n  return obj;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the results of applying the iteratee to each element.\nexport default function map(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length,\n      results = Array(length);\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    results[index] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// Internal helper to create a reducing function, iterating left or right.\nexport default function createReduce(dir) {\n  // Wrap code that reassigns argument variables in a separate function than\n  // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n  var reducer = function(obj, iteratee, memo, initial) {\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        index = dir > 0 ? 0 : length - 1;\n    if (!initial) {\n      memo = obj[_keys ? _keys[index] : index];\n      index += dir;\n    }\n    for (; index >= 0 && index < length; index += dir) {\n      var currentKey = _keys ? _keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  return function(obj, iteratee, memo, context) {\n    var initial = arguments.length >= 3;\n    return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n  };\n}\n","import createReduce from './_createReduce.js';\n\n// **Reduce** builds up a single result from a list of values, aka `inject`,\n// or `foldl`.\nexport default createReduce(1);\n","import createReduce from './_createReduce.js';\n\n// The right-associative version of reduce, also known as `foldr`.\nexport default createReduce(-1);\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// Return all the elements that pass a truth test.\nexport default function filter(obj, predicate, context) {\n  var results = [];\n  predicate = cb(predicate, context);\n  each(obj, function(value, index, list) {\n    if (predicate(value, index, list)) results.push(value);\n  });\n  return results;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine whether all of the elements pass a truth test.\nexport default function every(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (!predicate(obj[currentKey], currentKey, obj)) return false;\n  }\n  return true;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine if at least one element in the object passes a truth test.\nexport default function some(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (predicate(obj[currentKey], currentKey, obj)) return true;\n  }\n  return false;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport indexOf from './indexOf.js';\n\n// Determine if the array or object contains a given item (using `===`).\nexport default function contains(obj, item, fromIndex, guard) {\n  if (!isArrayLike(obj)) obj = values(obj);\n  if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n  return indexOf(obj, item, fromIndex) >= 0;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport map from './map.js';\nimport deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Invoke a method (with arguments) on every item in a collection.\nexport default restArguments(function(obj, path, args) {\n  var contextPath, func;\n  if (isFunction(path)) {\n    func = path;\n  } else {\n    path = toPath(path);\n    contextPath = path.slice(0, -1);\n    path = path[path.length - 1];\n  }\n  return map(obj, function(context) {\n    var method = func;\n    if (!method) {\n      if (contextPath && contextPath.length) {\n        context = deepGet(context, contextPath);\n      }\n      if (context == null) return void 0;\n      method = context[path];\n    }\n    return method == null ? method : method.apply(context, args);\n  });\n});\n","import map from './map.js';\nimport property from './property.js';\n\n// Convenience version of a common use case of `_.map`: fetching a property.\nexport default function pluck(obj, key) {\n  return map(obj, property(key));\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the maximum element (or element-based computation).\nexport default function max(obj, iteratee, context) {\n  var result = -Infinity, lastComputed = -Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value > result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed > lastComputed || (computed === -Infinity && result === -Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArray from './isArray.js';\nimport { slice } from './_setup.js';\nimport isString from './isString.js';\nimport isArrayLike from './_isArrayLike.js';\nimport map from './map.js';\nimport identity from './identity.js';\nimport values from './values.js';\n\n// Safely create a real, live array from anything iterable.\nvar reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\nexport default function toArray(obj) {\n  if (!obj) return [];\n  if (isArray(obj)) return slice.call(obj);\n  if (isString(obj)) {\n    // Keep surrogate pair characters together.\n    return obj.match(reStrSymbol);\n  }\n  if (isArrayLike(obj)) return map(obj, identity);\n  return values(obj);\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport getLength from './_getLength.js';\nimport random from './random.js';\nimport toArray from './toArray.js';\n\n// Sample **n** random values from a collection using the modern version of the\n// [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n// If **n** is not specified, returns a single random element.\n// The internal `guard` argument allows it to work with `_.map`.\nexport default function sample(obj, n, guard) {\n  if (n == null || guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    return obj[random(obj.length - 1)];\n  }\n  var sample = toArray(obj);\n  var length = getLength(sample);\n  n = Math.max(Math.min(n, length), 0);\n  var last = length - 1;\n  for (var index = 0; index < n; index++) {\n    var rand = random(index, last);\n    var temp = sample[index];\n    sample[index] = sample[rand];\n    sample[rand] = temp;\n  }\n  return sample.slice(0, n);\n}\n","import sample from './sample.js';\n\n// Shuffle a collection.\nexport default function shuffle(obj) {\n  return sample(obj, Infinity);\n}\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// An internal function used for aggregate \"group by\" operations.\nexport default function group(behavior, partition) {\n  return function(obj, iteratee, context) {\n    var result = partition ? [[], []] : {};\n    iteratee = cb(iteratee, context);\n    each(obj, function(value, index) {\n      var key = iteratee(value, index, obj);\n      behavior(result, value, key);\n    });\n    return result;\n  };\n}\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Groups the object's values by a criterion. Pass either a string attribute\n// to group by, or a function that returns the criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key].push(value); else result[key] = [value];\n});\n","import group from './_group.js';\n\n// Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n// when you know that your index values will be unique.\nexport default group(function(result, value, key) {\n  result[key] = value;\n});\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Counts instances of an object that group by a certain criterion. Pass\n// either a string attribute to count by, or a function that returns the\n// criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key]++; else result[key] = 1;\n});\n","import group from './_group.js';\n\n// Split a collection into two arrays: one whose elements all pass the given\n// truth test, and one whose elements all do not pass the truth test.\nexport default group(function(result, value, pass) {\n  result[pass ? 0 : 1].push(value);\n}, true);\n","// Internal `_.pick` helper function to determine whether `key` is an enumerable\n// property name of `obj`.\nexport default function keyInObj(value, key, obj) {\n  return key in obj;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport optimizeCb from './_optimizeCb.js';\nimport allKeys from './allKeys.js';\nimport keyInObj from './_keyInObj.js';\nimport flatten from './_flatten.js';\n\n// Return a copy of the object only containing the allowed properties.\nexport default restArguments(function(obj, keys) {\n  var result = {}, iteratee = keys[0];\n  if (obj == null) return result;\n  if (isFunction(iteratee)) {\n    if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n    keys = allKeys(obj);\n  } else {\n    iteratee = keyInObj;\n    keys = flatten(keys, false, false);\n    obj = Object(obj);\n  }\n  for (var i = 0, length = keys.length; i < length; i++) {\n    var key = keys[i];\n    var value = obj[key];\n    if (iteratee(value, key, obj)) result[key] = value;\n  }\n  return result;\n});\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport negate from './negate.js';\nimport map from './map.js';\nimport flatten from './_flatten.js';\nimport contains from './contains.js';\nimport pick from './pick.js';\n\n// Return a copy of the object without the disallowed properties.\nexport default restArguments(function(obj, keys) {\n  var iteratee = keys[0], context;\n  if (isFunction(iteratee)) {\n    iteratee = negate(iteratee);\n    if (keys.length > 1) context = keys[1];\n  } else {\n    keys = map(flatten(keys, false, false), String);\n    iteratee = function(value, key) {\n      return !contains(keys, key);\n    };\n  }\n  return pick(obj, iteratee, context);\n});\n","import { slice } from './_setup.js';\n\n// Returns everything but the last entry of the array. Especially useful on\n// the arguments object. Passing **n** will return all the values in\n// the array, excluding the last N.\nexport default function initial(array, n, guard) {\n  return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n}\n","import initial from './initial.js';\n\n// Get the first element of an array. Passing **n** will return the first N\n// values in the array. The **guard** check allows it to work with `_.map`.\nexport default function first(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[0];\n  return initial(array, array.length - n);\n}\n","import { slice } from './_setup.js';\n\n// Returns everything but the first entry of the `array`. Especially useful on\n// the `arguments` object. Passing an **n** will return the rest N values in the\n// `array`.\nexport default function rest(array, n, guard) {\n  return slice.call(array, n == null || guard ? 1 : n);\n}\n","import _flatten from './_flatten.js';\n\n// Flatten out an array, either recursively (by default), or up to `depth`.\n// Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\nexport default function flatten(array, depth) {\n  return _flatten(array, depth, false);\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport filter from './filter.js';\nimport contains from './contains.js';\n\n// Take the difference between one array and a number of other arrays.\n// Only the elements present in just the first array will remain.\nexport default restArguments(function(array, rest) {\n  rest = flatten(rest, true, true);\n  return filter(array, function(value){\n    return !contains(rest, value);\n  });\n});\n","import restArguments from './restArguments.js';\nimport difference from './difference.js';\n\n// Return a version of the array that does not contain the specified value(s).\nexport default restArguments(function(array, otherArrays) {\n  return difference(array, otherArrays);\n});\n","import isBoolean from './isBoolean.js';\nimport cb from './_cb.js';\nimport getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce a duplicate-free version of the array. If the array has already\n// been sorted, you have the option of using a faster algorithm.\n// The faster algorithm will not work with an iteratee if the iteratee\n// is not a one-to-one function, so providing an iteratee will disable\n// the faster algorithm.\nexport default function uniq(array, isSorted, iteratee, context) {\n  if (!isBoolean(isSorted)) {\n    context = iteratee;\n    iteratee = isSorted;\n    isSorted = false;\n  }\n  if (iteratee != null) iteratee = cb(iteratee, context);\n  var result = [];\n  var seen = [];\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var value = array[i],\n        computed = iteratee ? iteratee(value, i, array) : value;\n    if (isSorted && !iteratee) {\n      if (!i || seen !== computed) result.push(value);\n      seen = computed;\n    } else if (iteratee) {\n      if (!contains(seen, computed)) {\n        seen.push(computed);\n        result.push(value);\n      }\n    } else if (!contains(result, value)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport uniq from './uniq.js';\nimport flatten from './_flatten.js';\n\n// Produce an array that contains the union: each distinct element from all of\n// the passed-in arrays.\nexport default restArguments(function(arrays) {\n  return uniq(flatten(arrays, true, true));\n});\n","import max from './max.js';\nimport getLength from './_getLength.js';\nimport pluck from './pluck.js';\n\n// Complement of zip. Unzip accepts an array of arrays and groups\n// each array's elements on shared indices.\nexport default function unzip(array) {\n  var length = (array && max(array, getLength).length) || 0;\n  var result = Array(length);\n\n  for (var index = 0; index < length; index++) {\n    result[index] = pluck(array, index);\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport unzip from './unzip.js';\n\n// Zip together multiple lists into a single array -- elements that share\n// an index go together.\nexport default restArguments(unzip);\n","// Generate an integer Array containing an arithmetic progression. A port of\n// the native Python `range()` function. See\n// [the Python documentation](https://docs.python.org/library/functions.html#range).\nexport default function range(start, stop, step) {\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (!step) {\n    step = stop < start ? -1 : 1;\n  }\n\n  var length = Math.max(Math.ceil((stop - start) / step), 0);\n  var range = Array(length);\n\n  for (var idx = 0; idx < length; idx++, start += step) {\n    range[idx] = start;\n  }\n\n  return range;\n}\n","import _ from './underscore.js';\n\n// Helper function to continue chaining intermediate results.\nexport default function chainResult(instance, obj) {\n  return instance._chain ? _(obj).chain() : obj;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport functions from './functions.js';\nimport { push } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add your own custom functions to the Underscore object.\nexport default function mixin(obj) {\n  each(functions(obj), function(name) {\n    var func = _[name] = obj[name];\n    _.prototype[name] = function() {\n      var args = [this._wrapped];\n      push.apply(args, arguments);\n      return chainResult(this, func.apply(_, args));\n    };\n  });\n  return _;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport { ArrayProto } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add all mutator `Array` functions to the wrapper.\neach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) {\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n        delete obj[0];\n      }\n    }\n    return chainResult(this, obj);\n  };\n});\n\n// Add all accessor `Array` functions to the wrapper.\neach(['concat', 'join', 'slice'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) obj = method.apply(obj, arguments);\n    return chainResult(this, obj);\n  };\n});\n\nexport default _;\n","// Is a given value a DOM element?\nexport default function isElement(obj) {\n  return !!(obj && obj.nodeType === 1);\n}\n","import { _isFinite } from './_setup.js';\nimport isSymbol from './isSymbol.js';\n\n// Is a given object a finite number?\nexport default function isFinite(obj) {\n  return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n}\n","import getLength from './_getLength.js';\nimport isArray from './isArray.js';\nimport isString from './isString.js';\nimport isArguments from './isArguments.js';\nimport keys from './keys.js';\n\n// Is a given array, string, or object empty?\n// An \"empty\" object has no enumerable own-properties.\nexport default function isEmpty(obj) {\n  if (obj == null) return true;\n  // Skip the more expensive `toString`-based type checks if `obj` has no\n  // `.length`.\n  var length = getLength(obj);\n  if (typeof length == 'number' && (\n    isArray(obj) || isString(obj) || isArguments(obj)\n  )) return length === 0;\n  return getLength(keys(obj)) === 0;\n}\n","import keys from './keys.js';\n\n// Convert an object into a list of `[key, value]` pairs.\n// The opposite of `_.object` with one argument.\nexport default function pairs(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var pairs = Array(length);\n  for (var i = 0; i < length; i++) {\n    pairs[i] = [_keys[i], obj[_keys[i]]];\n  }\n  return pairs;\n}\n","import baseCreate from './_baseCreate.js';\nimport extendOwn from './extendOwn.js';\n\n// Creates an object that inherits from the given prototype object.\n// If additional properties are provided then they will be added to the\n// created object.\nexport default function create(prototype, props) {\n  var result = baseCreate(prototype);\n  if (props) extendOwn(result, props);\n  return result;\n}\n","// Invokes `interceptor` with the `obj` and then returns `obj`.\n// The primary purpose of this method is to \"tap into\" a method chain, in\n// order to perform operations on intermediate results within the chain.\nexport default function tap(obj, interceptor) {\n  interceptor(obj);\n  return obj;\n}\n","import _has from './_has.js';\nimport toPath from './_toPath.js';\n\n// Shortcut function for checking if an object has a given property directly on\n// itself (in other words, not on a prototype). Unlike the internal `has`\n// function, this public version can also traverse nested properties.\nexport default function has(obj, path) {\n  path = toPath(path);\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    var key = path[i];\n    if (!_has(obj, key)) return false;\n    obj = obj[key];\n  }\n  return !!length;\n}\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the results of applying the `iteratee` to each element of `obj`.\n// In contrast to `_.map` it returns an object.\nexport default function mapObject(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = keys(obj),\n      length = _keys.length,\n      results = {};\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys[index];\n    results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","import noop from './noop.js';\nimport get from './get.js';\n\n// Generates a function for a given object that returns a given property.\nexport default function propertyOf(obj) {\n  if (obj == null) return noop;\n  return function(path) {\n    return get(obj, path);\n  };\n}\n","import optimizeCb from './_optimizeCb.js';\n\n// Run a function **n** times.\nexport default function times(n, iteratee, context) {\n  var accum = Array(Math.max(0, n));\n  iteratee = optimizeCb(iteratee, context, 1);\n  for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n  return accum;\n}\n","import isFunction from './isFunction.js';\nimport toPath from './_toPath.js';\n\n// Traverses the children of `obj` along `path`. If a child is a function, it\n// is invoked with its parent as context. Returns the value of the final\n// child, or `fallback` if any child is undefined.\nexport default function result(obj, path, fallback) {\n  path = toPath(path);\n  var length = path.length;\n  if (!length) {\n    return isFunction(fallback) ? fallback.call(obj) : fallback;\n  }\n  for (var i = 0; i < length; i++) {\n    var prop = obj == null ? void 0 : obj[path[i]];\n    if (prop === void 0) {\n      prop = fallback;\n      i = length; // Ensure we don't continue iterating.\n    }\n    obj = isFunction(prop) ? prop.call(obj) : prop;\n  }\n  return obj;\n}\n","import _ from './underscore.js';\n\n// Start chaining a wrapped Underscore object.\nexport default function chain(obj) {\n  var instance = _(obj);\n  instance._chain = true;\n  return instance;\n}\n","import has from './_has.js';\n\n// Memoize an expensive function by storing its results.\nexport default function memoize(func, hasher) {\n  var memoize = function(key) {\n    var cache = memoize.cache;\n    var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n    if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n    return cache[address];\n  };\n  memoize.cache = {};\n  return memoize;\n}\n","import now from './now.js';\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nexport default function throttle(func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function() {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function() {\n    var _now = now();\n    if (!previous && options.leading === false) previous = _now;\n    var remaining = wait - (_now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = _now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  throttled.cancel = function() {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n","import restArguments from './restArguments.js';\nimport now from './now.js';\n\n// When a sequence of calls of the returned function ends, the argument\n// function is triggered. The end of a sequence is defined by the `wait`\n// parameter. If `immediate` is passed, the argument function will be\n// triggered at the beginning of the sequence instead of at the end.\nexport default function debounce(func, wait, immediate) {\n  var timeout, previous, args, result, context;\n\n  var later = function() {\n    var passed = now() - previous;\n    if (wait > passed) {\n      timeout = setTimeout(later, wait - passed);\n    } else {\n      timeout = null;\n      if (!immediate) result = func.apply(context, args);\n      // This check is needed because `func` can recursively invoke `debounced`.\n      if (!timeout) args = context = null;\n    }\n  };\n\n  var debounced = restArguments(function(_args) {\n    context = this;\n    args = _args;\n    previous = now();\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n      if (immediate) result = func.apply(context, args);\n    }\n    return result;\n  });\n\n  debounced.cancel = function() {\n    clearTimeout(timeout);\n    timeout = args = context = null;\n  };\n\n  return debounced;\n}\n","import partial from './partial.js';\n\n// Returns the first function passed as an argument to the second,\n// allowing you to adjust arguments, run code before and after, and\n// conditionally execute the original function.\nexport default function wrap(func, wrapper) {\n  return partial(wrapper, func);\n}\n","// Returns a function that is the composition of a list of functions, each\n// consuming the return value of the function that follows.\nexport default function compose() {\n  var args = arguments;\n  var start = args.length - 1;\n  return function() {\n    var i = start;\n    var result = args[start].apply(this, arguments);\n    while (i--) result = args[i].call(this, result);\n    return result;\n  };\n}\n","// Returns a function that will only be executed on and after the Nth call.\nexport default function after(times, func) {\n  return function() {\n    if (--times < 1) {\n      return func.apply(this, arguments);\n    }\n  };\n}\n","import find from './find.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.find`: getting the first\n// object containing specific `key:value` pairs.\nexport default function findWhere(obj, attrs) {\n  return find(obj, matcher(attrs));\n}\n","import filter from './filter.js';\nimport negate from './negate.js';\nimport cb from './_cb.js';\n\n// Return all the elements for which a truth test fails.\nexport default function reject(obj, predicate, context) {\n  return filter(obj, negate(cb(predicate)), context);\n}\n","import filter from './filter.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.filter`: selecting only\n// objects containing specific `key:value` pairs.\nexport default function where(obj, attrs) {\n  return filter(obj, matcher(attrs));\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the minimum element (or element-based computation).\nexport default function min(obj, iteratee, context) {\n  var result = Infinity, lastComputed = Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value < result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed < lastComputed || (computed === Infinity && result === Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import cb from './_cb.js';\nimport pluck from './pluck.js';\nimport map from './map.js';\n\n// Sort the object's values by a criterion produced by an iteratee.\nexport default function sortBy(obj, iteratee, context) {\n  var index = 0;\n  iteratee = cb(iteratee, context);\n  return pluck(map(obj, function(value, key, list) {\n    return {\n      value: value,\n      index: index++,\n      criteria: iteratee(value, key, list)\n    };\n  }).sort(function(left, right) {\n    var a = left.criteria;\n    var b = right.criteria;\n    if (a !== b) {\n      if (a > b || a === void 0) return 1;\n      if (a < b || b === void 0) return -1;\n    }\n    return left.index - right.index;\n  }), 'value');\n}\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the number of elements in a collection.\nexport default function size(obj) {\n  if (obj == null) return 0;\n  return isArrayLike(obj) ? obj.length : keys(obj).length;\n}\n","import rest from './rest.js';\n\n// Get the last element of an array. Passing **n** will return the last N\n// values in the array.\nexport default function last(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[array.length - 1];\n  return rest(array, Math.max(0, array.length - n));\n}\n","import filter from './filter.js';\n\n// Trim out all falsy values from an array.\nexport default function compact(array) {\n  return filter(array, Boolean);\n}\n","import getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce an array that contains every item shared between all the\n// passed-in arrays.\nexport default function intersection(array) {\n  var result = [];\n  var argsLength = arguments.length;\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var item = array[i];\n    if (contains(result, item)) continue;\n    var j;\n    for (j = 1; j < argsLength; j++) {\n      if (!contains(arguments[j], item)) break;\n    }\n    if (j === argsLength) result.push(item);\n  }\n  return result;\n}\n","import getLength  from './_getLength.js';\n\n// Converts lists into objects. Pass either a single array of `[key, value]`\n// pairs, or two parallel arrays of the same length -- one of keys, and one of\n// the corresponding values. Passing by pairs is the reverse of `_.pairs`.\nexport default function object(list, values) {\n  var result = {};\n  for (var i = 0, length = getLength(list); i < length; i++) {\n    if (values) {\n      result[list[i]] = values[i];\n    } else {\n      result[list[i][0]] = list[i][1];\n    }\n  }\n  return result;\n}\n","import { slice } from './_setup.js';\n\n// Chunk a single array into multiple arrays, each containing `count` or fewer\n// items.\nexport default function chunk(array, count) {\n  if (count == null || count < 1) return [];\n  var result = [];\n  var i = 0, length = array.length;\n  while (i < length) {\n    result.push(slice.call(array, i, i += count));\n  }\n  return result;\n}\n","// Default Export\n// ==============\n// In this module, we mix our bundled exports into the `_` object and export\n// the result. This is analogous to setting `module.exports = _` in CommonJS.\n// Hence, this module is also the entry point of our UMD bundle and the package\n// entry point for CommonJS and AMD users. In other words, this is (the source\n// of) the module you are interfacing with when you do any of the following:\n//\n// ```js\n// // CommonJS\n// var _ = require('underscore');\n//\n// // AMD\n// define(['underscore'], function(_) {...});\n//\n// // UMD in the browser\n// // _ is available as a global variable\n// ```\nimport * as allExports from './index.js';\nimport { mixin } from './index.js';\n\n// Add all of the Underscore functions to the wrapper object.\nvar _ = mixin(allExports);\n// Legacy Node.js API.\n_._ = _;\n// Export the Underscore API.\nexport default _;\n","import { formatDelimited, guessDelimiterFromLocale } from '../utils/delimited.mjs';\nimport { isString, range, each } from 'underscore';\n\n/*\n * Dataset class\n * @class dw.Dataset\n *\n * @param {dw.Column[]} columns\n */\nexport default function Dataset(columns) {\n    // make column names unique\n    const columnsByName = {};\n    const origColumns = columns.slice(0);\n\n    columns.forEach(col => {\n        uniqueName(col);\n        columnsByName[col.name()] = col;\n    });\n\n    // sets a unique name for a column\n    function uniqueName(col) {\n        const origColName = col.name();\n        let baseColName, suffix, colName;\n        if (origColName) {\n            baseColName = origColName;\n            suffix = 0;\n            colName = baseColName;\n        } else {\n            baseColName = 'X';\n            suffix = 1;\n            colName = `${baseColName}.${suffix}`;\n        }\n        while (Object.prototype.hasOwnProperty.call(columnsByName, colName)) {\n            colName = `${baseColName}.${++suffix}`;\n        }\n        if (colName !== origColName) {\n            col.name(colName, origColName);\n        }\n    }\n\n    // public interface\n    const dataset = {\n        /**\n         * returns all columns of the dataset\n         * @returns {dw.Column[]}\n         */\n        columns() {\n            return columns;\n        },\n\n        /**\n         * returns a specific column by name or index\n         *\n         * @param {string|number} nameOrIndex -- the name or index of the column to return\n         * @returns {dw.Column}\n         */\n        column(nameOrIndex) {\n            if (isString(nameOrIndex)) {\n                // single column by name\n                if (columnsByName[nameOrIndex] !== undefined) return columnsByName[nameOrIndex];\n                throw new Error('No column found with that name: \"' + nameOrIndex + '\"');\n            } else {\n                if (nameOrIndex < 0) {\n                    return;\n                }\n            }\n\n            // single column by index\n            if (columns[nameOrIndex] !== undefined) return columns[nameOrIndex];\n            throw new Error('No column found with that name or index: ' + nameOrIndex);\n        },\n\n        /**\n         * returns the number of columns in the dataset\n         * @returns {number}\n         */\n        numColumns() {\n            return columns.length;\n        },\n\n        /**\n         * returns the number of rows in the dataset\n         * @returns {number}\n         */\n        numRows() {\n            return columns.length ? columns[0].length : 0;\n        },\n\n        /** calls a function for each column of the dataset */\n        eachColumn(func) {\n            columns.forEach(func);\n        },\n\n        /**\n         * tests if a column name or index exists\n         *\n         * @param {string|number} nameOrIndex -- the name or index of the column\n         * @returns {boolean}\n         */\n        hasColumn(nameOrIndex) {\n            return (\n                (isString(nameOrIndex) ? columnsByName[nameOrIndex] : columns[nameOrIndex]) !==\n                undefined\n            );\n        },\n\n        /**\n         * returns the index of a column\n         * @param {string} columnName\n         * @returns {number}\n         */\n        indexOf(columnName) {\n            if (!dataset.hasColumn(columnName)) return -1;\n            return columns.indexOf(columnsByName[columnName]);\n        },\n\n        /**\n         * returns a D3 friendly list of plain objects\n         * @returns {object[]}\n         */\n        list() {\n            if (!columns.length) {\n                return [];\n            }\n            return range(columns[0].length).map(dataset.row);\n        },\n\n        /**\n         * returns an object containing the column values of the row\n         * @param {number} index the row index\n         * @returns {object}\n         */\n        row(index) {\n            if (!columns.length || index >= columns[0].length) {\n                return {};\n            }\n            const o = {};\n            columns.forEach(col => {\n                o[col.name()] = col.val(index);\n            });\n            return o;\n        },\n\n        /**\n         * returns a CSV string representation of the dataset\n         * @param {Object} opt -- options\n         * @param {boolean} [opt.includeComputedColumns=true] -- include computed columns in the CSV\n         * @param {boolean} [opt.includeHeader=true] -- include header row in the CSV\n         * @param {string} [opt.numeral=null] -- format numbers using this Numeral.js instance\n         * @returns {string}\n         */\n        csv({\n            includeComputedColumns = true,\n            includeHeader = true,\n            includeOrder = true,\n            includeFiltered = false,\n            numeral = null,\n            ...opts\n        } = {}) {\n            if (!columns.length) {\n                return '';\n            }\n            const numRows = dataset.numRows();\n            const cols = includeOrder ? columns : origColumns;\n            const filteredColumns = cols.filter(col => {\n                if (!includeComputedColumns && col.isComputed) {\n                    return false;\n                }\n                if (!includeFiltered && columns.indexOf(col) === -1) {\n                    return false;\n                }\n                return true;\n            });\n            const table = filteredColumns.map(col => [\n                ...(includeHeader ? [col.title()] : []),\n                ...col.formatted(numeral)\n            ]);\n            const rows = table[0].map((_, i) => table.map(row => row[i])).slice(0, numRows + 1);\n            if (!opts.delimiter && numeral) {\n                opts.delimiter = guessDelimiterFromLocale(numeral);\n            }\n            return formatDelimited(rows, opts);\n        },\n\n        /**\n         * @alias csv\n         * @deprecated\n         */\n        toCSV() {\n            return this.csv(...arguments);\n        },\n\n        /**\n         * removes ignored columns from dataset\n         * @param {object} ignore -- object of column names to ignore\n         */\n        filterColumns(ignore) {\n            columns = columns.filter(c => !ignore[c.name()]);\n            each(ignore, (ign, key) => {\n                if (ign && columnsByName[key]) delete columnsByName[key];\n            });\n            return dataset;\n        },\n\n        /**\n         * executes func for each row of the dataset\n         */\n        eachRow(func) {\n            var i;\n            for (i = 0; i < dataset.numRows(); i++) {\n                func(i);\n            }\n            return dataset;\n        },\n\n        /**\n         * adds a new column to the dataset\n         * @param {dw.Column} column\n         */\n        add(column) {\n            uniqueName(column);\n            columns.push(column);\n            columnsByName[column.name()] = column;\n            origColumns.push(column);\n            return dataset;\n        },\n\n        /**\n         * cuts each column in the dataset to a maximum number of rows\n         * @param {number} numRows\n         * @returns {dw.Dataset}\n         */\n        limitRows(numRows) {\n            columns.forEach(col => {\n                col.limitRows(numRows);\n            });\n            return dataset;\n        },\n\n        /**\n         * cuts the number of columns to a maximum value\n         * @param {number} numCols\n         * @returns {dw.Dataset}\n         */\n        limitColumns(numCols) {\n            if (columns.length > numCols) {\n                columns.length = numCols;\n                origColumns.length = numCols;\n            }\n            return dataset;\n        },\n\n        /**\n         * Sorts columns according to give `sortOrder`.\n         *\n         * Columns that don't appear in `sortOrder` will be put at the end.\n         *\n         * @param {number[]} sortOrder -- array of original column indexes in the desired order\n         */\n        columnOrder(sortOrder) {\n            if (arguments.length) {\n                const columnsWithNewIndexes = columns.map((column, i) => {\n                    const newIndex = sortOrder.indexOf(i);\n                    return [column, newIndex !== -1 ? newIndex : columns.length];\n                });\n                columns = columnsWithNewIndexes.sort((a, b) => a[1] - b[1]).map(x => x[0]);\n                return dataset;\n            }\n            return columns.map(function (c) {\n                return origColumns.indexOf(c);\n            });\n        },\n\n        /**\n         * make sure all columns have the same number of rows\n         *\n         * pad with empty string by default, because that's a neutral value that doesn't make the\n         * cell invalid\n         *\n         * @param {*} [value=''] -- pad short columns with this value\n         */\n        align(value = '') {\n            const maxNumRows = Math.max(...columns.map(column => column.length));\n            for (const column of columns) {\n                const padding = Array(maxNumRows - column.length).fill(value);\n                column.add(...padding);\n            }\n        },\n\n        /**\n         * create a copy of the dataset\n         * @returns {dw.Dataset}\n         */\n        clone() {\n            return Dataset(columns.map(column => column.clone()));\n        },\n\n        /**\n         * remove all rows from all columns of the dataset\n         */\n        clear() {\n            for (const column of columns) {\n                column.clear();\n            }\n        },\n\n        /**\n         * deletes one or more rows from dataset\n         * @param {...number} rowIndex\n         * @returns {dw.Dataset}\n         */\n        deleteRow(...rowIndexes) {\n            rowIndexes.sort();\n            for (const column of columns) {\n                let numDeleted = 0;\n                rowIndexes.forEach(rowIndex => {\n                    const deletedRows = column.deleteRow(rowIndex - numDeleted);\n                    numDeleted += deletedRows.length;\n                });\n            }\n            return dataset;\n        }\n    };\n\n    return dataset;\n}\n","import { each, flatten, values, isRegExp, isDate, isUndefined, isString } from 'underscore';\n\nconst begin = /^ */.source;\nconst end = /[*']* *$/.source;\nconst s0 = /[ \\-/.]?/.source; // optional separator\nconst s1 = /[ \\-/.]/.source; // mandatory separator\nconst s2 = /[ \\-/.;,]/.source; // mandatory separator\nconst s3 = /[ \\-|T]/.source; // mandatory separator\nconst sM = /[ \\-/.m]/.source; // mandatory separator\nconst rx = {\n    YY: { parse: /['’‘]?(\\d{2})/ },\n    YYYY: { test: /([12]\\d{3})/, parse: /(\\d{4})/ },\n    YYYY2: { test: /(?:1[7-9]|20)\\d{2}/, parse: /(\\d{4})/ },\n    H: { parse: /h([12])/ },\n    Q: { parse: /q([1234])/ },\n    W: { parse: /w([0-5]?[0-9])/ },\n    MM: { test: /(0?[1-9]|1[0-2])/, parse: /(0?[1-9]|1[0-2])/ },\n    DD: { parse: /(0?[1-9]|[1-2][0-9]|3[01])/ },\n    DOW: { parse: /([0-7])/ },\n    HHMM: { parse: /(0?\\d|1\\d|2[0-3]):([0-5]\\d)(?::([0-5]\\d))? *(AM|PM)?/ }\n};\n\nconst MONTHS = {\n    // feel free to add more localized month names\n    0: [\n        'JAN',\n        'JANUARY',\n        'JANUAR',\n        'JÄNNER',\n        'JÄN',\n        'JANV',\n        'JANVIER',\n        'ENE',\n        'ENERO',\n        'GEN',\n        'GENNAIO',\n        'JANEIRO'\n    ],\n    1: [\n        'FEB',\n        'FEBRUARY',\n        'FEBR',\n        'FEBRUAR',\n        'FÉV',\n        'FÉVR',\n        'FÉVRIER',\n        'FEBRERO',\n        'FEBBRAIO',\n        'FEV',\n        'FEVEREIRO'\n    ],\n    2: ['MAR', 'MÄR', 'MARCH', 'MRZ', 'MÄRZ', 'MARS', 'MARS', 'MARZO', 'MARZO', 'MARÇO'],\n    3: ['APR', 'APRIL', 'APR', 'APRIL', 'AVR', 'AVRIL', 'ABR', 'ABRIL', 'APRILE'],\n    4: ['MAY', 'MAI', 'MAYO', 'MAG', 'MAGGIO', 'MAIO', 'MAJ'],\n    5: ['JUN', 'JUNE', 'JUNI', 'JUIN', 'JUNIO', 'GIU', 'GIUGNO', 'JUNHO'],\n    6: ['JUL', 'JULY', 'JULI', 'JUIL', 'JUILLET', 'JULIO', 'LUG', 'LUGLIO', 'JULHO'],\n    7: ['AUG', 'AUGUST', 'AOÛT', 'AGO', 'AGOSTO'],\n    8: ['SEP', 'SEPTEMBER', 'SEPT', 'SEPTEMBRE', 'SEPTIEMBRE', 'SET', 'SETTEMBRE', 'SETEMBRO'],\n    9: [\n        'OCT',\n        'OCTOBER',\n        'OKT',\n        'OKTOBER',\n        'OCTOBRE',\n        'OCTUBRE',\n        'OTT',\n        'OTTOBRE',\n        'OUT',\n        'OUTUBRO'\n    ],\n    10: ['NOV', 'NOVEMBER', 'NOVEMBER', 'NOVEMBRE', 'NOVIEMBRE', 'NOVEMBRE', 'NOVEMBRO'],\n    11: [\n        'DEC',\n        'DECEMBER',\n        'DEZ',\n        'DES',\n        'DEZEMBER',\n        'DÉC',\n        'DÉCEMBRE',\n        'DIC',\n        'DICIEMBRE',\n        'DICEMBRE',\n        'DESEMBER',\n        'DEZEMBRO'\n    ]\n};\nconst shortMonthKey = {};\n\neach(MONTHS, function (abbr, m) {\n    each(abbr, function (a) {\n        shortMonthKey[a] = m;\n    });\n});\n\nrx.MMM = { parse: new RegExp('(' + flatten(values(MONTHS)).join('|') + ')') };\n\nconst ISO8601_REG =\n    /^(?:([1-9]\\d{3})(-?)(?:(0\\d|1[012]))\\2(0\\d|1\\d|2\\d|3[01]))T([01]\\d|2[0-3])(:?)([0-5]\\d)(?:\\6([0-5]\\d)(?:\\.(\\d{3}))?)?(Z|[+-][01]\\d(?:\\6[0-5]\\d)?)$/;\n\neach(rx, function (r) {\n    r.parse = r.parse.source;\n    if (isRegExp(r.test)) r.test = r.test.source;\n    else r.test = r.parse;\n});\n\nvar knownFormats = {\n    // each format has two regex, a strict one for format guessing\n    // based on a sample and a lazy one for parsing\n    YYYY: {\n        test: reg(rx.YYYY2.test),\n        parse: reg(rx.YYYY2.parse),\n        precision: 'year'\n    },\n    'YYYY-H': {\n        test: reg(rx.YYYY.test, s0, rx.H.test),\n        parse: reg(rx.YYYY.parse, s0, rx.H.parse),\n        precision: 'half'\n    },\n    'H-YYYY': {\n        test: reg(rx.H.test, s1, rx.YYYY.test),\n        parse: reg(rx.H.parse, s1, rx.YYYY.parse),\n        precision: 'half'\n    },\n    'YYYY-Q': {\n        test: reg(rx.YYYY.test, s0, rx.Q.test),\n        parse: reg(rx.YYYY.parse, s0, rx.Q.parse),\n        precision: 'quarter'\n    },\n    'Q-YYYY': {\n        test: reg(rx.Q.test, s1, rx.YYYY.test),\n        parse: reg(rx.Q.parse, s1, rx.YYYY.parse),\n        precision: 'quarter'\n    },\n    'YYYY-M': {\n        test: reg(rx.YYYY.test, sM, rx.MM.test),\n        parse: reg(rx.YYYY.parse, sM, rx.MM.parse),\n        precision: 'month'\n    },\n    'M-YYYY': {\n        test: reg(rx.MM.test, s1, rx.YYYY.test),\n        parse: reg(rx.MM.parse, s1, rx.YYYY.parse),\n        precision: 'month'\n    },\n    'YYYY-MMM': {\n        test: reg(rx.YYYY.test, s1, rx.MMM.parse),\n        parse: reg(rx.YYYY.parse, s1, rx.MMM.parse),\n        precision: 'month'\n    },\n    'MMM-YYYY': {\n        test: reg(rx.MMM.parse, s1, rx.YYYY.test),\n        parse: reg(rx.MMM.parse, s1, rx.YYYY.parse),\n        precision: 'month'\n    },\n    'MMM-YY': {\n        test: reg(rx.MMM.parse, s1, rx.YY.test),\n        parse: reg(rx.MMM.parse, s1, rx.YY.parse),\n        precision: 'month'\n    },\n    MMM: {\n        test: reg(rx.MMM.parse),\n        parse: reg(rx.MMM.parse),\n        precision: 'month'\n    },\n    'YYYY-WW': {\n        test: reg(rx.YYYY.test, s0, rx.W.test),\n        parse: reg(rx.YYYY.parse, s0, rx.W.parse),\n        precision: 'week'\n    },\n    'WW-YYYY': {\n        test: reg(rx.W.test, s1, rx.YYYY.test),\n        parse: reg(rx.W.parse, s1, rx.YYYY.parse),\n        precision: 'week'\n    },\n    'MM/DD/YYYY': {\n        test: reg(rx.MM.test, '([\\\\-\\\\/])', rx.DD.test, '\\\\2', rx.YYYY.test),\n        parse: reg(rx.MM.parse, '([\\\\-\\\\/])', rx.DD.parse, '\\\\2', rx.YYYY.parse),\n        precision: 'day'\n    },\n    'MM/DD/YY': {\n        test: reg(rx.MM.test, '([\\\\-\\\\/])', rx.DD.test, '\\\\2', rx.YY.test),\n        parse: reg(rx.MM.parse, '([\\\\-\\\\/])', rx.DD.parse, '\\\\2', rx.YY.parse),\n        precision: 'day'\n    },\n    'DD/MM/YY': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.YY.test),\n        parse: reg(rx.DD.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MM.parse, '\\\\2', rx.YY.parse),\n        precision: 'day'\n    },\n    'DD/MM/YYYY': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.YYYY.test),\n        parse: reg(rx.DD.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MM.parse, '\\\\2', rx.YYYY.parse),\n        precision: 'day'\n    },\n    'DD/MMM/YYYY': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MMM.test, '\\\\2', rx.YYYY.test),\n        parse: reg(rx.DD.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MMM.parse, '\\\\2', rx.YYYY.parse),\n        precision: 'day'\n    },\n    'DD/MMM/YY': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MMM.test, '\\\\2', rx.YY.test),\n        parse: reg(rx.DD.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MMM.parse, '\\\\2', rx.YY.parse),\n        precision: 'day'\n    },\n    'YYYY-MM-DD': {\n        test: reg(rx.YYYY.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.DD.test),\n        parse: reg(rx.YYYY.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MM.parse, '\\\\2', rx.DD.parse),\n        precision: 'day'\n    },\n\n    'MMM-DD-YYYY': {\n        test: reg(rx.MMM.test, s1, rx.DD.test, s2, rx.YYYY.test),\n        parse: reg(rx.MMM.parse, s1, rx.DD.parse, s2, rx.YYYY.parse),\n        precision: 'day'\n    },\n\n    'YYYY-WW-d': {\n        // year + ISO week + [day]\n        test: reg(rx.YYYY.test, s0, rx.W.test, s1, rx.DOW.test),\n        parse: reg(rx.YYYY.parse, s0, rx.W.parse, s1, rx.DOW.parse),\n        precision: 'day'\n    },\n\n    // dates with a time\n    'MM/DD/YYYY HH:MM': {\n        test: reg(rx.MM.test, '([\\\\-\\\\/])', rx.DD.test, '\\\\2', rx.YYYY.test, s3, rx.HHMM.test),\n        parse: reg(rx.MM.parse, '([\\\\-\\\\/])', rx.DD.parse, '\\\\2', rx.YYYY.parse, s3, rx.HHMM.parse),\n        precision: 'day-minutes'\n    },\n    'DD.MM.YYYY HH:MM': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.YYYY.test, s3, rx.HHMM.test),\n        parse: reg(\n            rx.DD.parse,\n            '([\\\\-\\\\.\\\\/ ?])',\n            rx.MM.parse,\n            '\\\\2',\n            rx.YYYY.parse,\n            s3,\n            rx.HHMM.parse\n        ),\n        precision: 'day-minutes'\n    },\n    'YYYY-MM-DD HH:MM': {\n        test: reg(rx.YYYY.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.DD.test, s3, rx.HHMM.test),\n        parse: reg(\n            rx.YYYY.parse,\n            '([\\\\-\\\\.\\\\/ ?])',\n            rx.MM.parse,\n            '\\\\2',\n            rx.DD.parse,\n            s3,\n            rx.HHMM.parse\n        ),\n        precision: 'day-minutes'\n    },\n    ISO8601: {\n        test: ISO8601_REG,\n        parse: ISO8601_REG,\n        precision: 'day-seconds'\n    }\n};\n\nfunction reg() {\n    return new RegExp(begin + Array.prototype.slice.call(arguments).join(' *') + end, 'i');\n}\n\nfunction test(str, key) {\n    var fmt = knownFormats[key];\n    if (isRegExp(fmt.test)) {\n        return fmt.test.test(str);\n    } else {\n        return fmt.test(str, key);\n    }\n}\n\nfunction parse(str, key) {\n    var fmt = knownFormats[key];\n    if (isRegExp(fmt.parse)) {\n        return str.match(fmt.parse);\n    } else {\n        return fmt.parse(str, key);\n    }\n}\n\nfunction dateFromIsoWeek(year, week, day) {\n    var d = new Date(Date.UTC(year, 0, 3));\n    d.setUTCDate(3 - d.getUTCDay() + (week - 1) * 7 + parseInt(day, 10));\n    return d;\n}\n\nfunction hour(hr, amPm) {\n    if (hr !== 12) return hr + (amPm === 'PM' ? 12 : 0);\n    return amPm === 'AM' ? 0 : 12;\n}\n\nexport default function (sample) {\n    let format;\n    let errors = 0;\n    const matches = {};\n    const bestMatch = ['', 0];\n\n    sample = sample || [];\n\n    each(knownFormats, function (format, key) {\n        each(sample, function (n) {\n            if (matches[key] === undefined) matches[key] = 0;\n            if (test(String(n).toUpperCase(), key)) {\n                matches[key] += 1;\n                if (matches[key] > bestMatch[1]) {\n                    bestMatch[0] = key;\n                    bestMatch[1] = matches[key];\n                }\n            }\n        });\n    });\n    format = bestMatch[0];\n    // public interface\n    const type = {\n        parse: function (raw) {\n            if (isDate(raw) || isUndefined(raw)) return raw;\n            if (!format || !isString(raw)) {\n                errors++;\n                return raw;\n            }\n\n            var m = parse(raw.toUpperCase(), format);\n\n            if (!m) {\n                errors++;\n                return raw;\n            } else {\n                // increment errors anyway if string doesn't match strict format\n                if (!test(raw, format)) errors++;\n            }\n\n            function guessTwoDigitYear(yr) {\n                yr = +yr;\n                if (yr < 30) return 2000 + yr;\n                else return 1900 + yr;\n            }\n\n            var curYear = new Date().getFullYear();\n\n            switch (format) {\n                case 'YYYY':\n                    return new Date(m[1], 0, 1);\n                case 'YYYY-H':\n                    return new Date(m[1], (m[2] - 1) * 6, 1);\n                case 'H-YYYY':\n                    return new Date(m[2], (m[1] - 1) * 6, 1);\n                case 'YYYY-Q':\n                    return new Date(m[1], (m[2] - 1) * 3, 1);\n                case 'Q-YYYY':\n                    return new Date(m[2], (m[1] - 1) * 3, 1);\n                case 'YYYY-M':\n                    return new Date(m[1], m[2] - 1, 1);\n                case 'M-YYYY':\n                    return new Date(m[2], m[1] - 1, 1);\n\n                case 'YYYY-MMM':\n                    return new Date(+m[1], shortMonthKey[m[2]], 1);\n                case 'MMM-YYYY':\n                    return new Date(+m[2], shortMonthKey[m[1]], 1);\n                case 'MMM-YY':\n                    return new Date(guessTwoDigitYear(+m[2]), shortMonthKey[m[1]], 1);\n                case 'MMM':\n                    return new Date(curYear, shortMonthKey[m[1]], 1);\n\n                case 'YYYY-WW':\n                    return dateFromIsoWeek(m[1], m[2], 1);\n                case 'WW-YYYY':\n                    return dateFromIsoWeek(m[2], m[1], 1);\n\n                case 'YYYY-WW-d':\n                    return dateFromIsoWeek(m[1], m[2], m[3]);\n                case 'YYYY-MM-DD':\n                    return new Date(m[1], m[3] - 1, m[4]);\n                case 'DD/MM/YYYY':\n                    return new Date(m[4], m[3] - 1, m[1]);\n                case 'DD/MMM/YYYY':\n                    return new Date(m[4], shortMonthKey[m[3]], m[1]);\n                case 'DD/MMM/YY':\n                    return new Date(guessTwoDigitYear(m[4]), shortMonthKey[m[3]], m[1]);\n                case 'MM/DD/YYYY':\n                    return new Date(m[4], m[1] - 1, m[3]);\n                case 'MM/DD/YY':\n                    return new Date(guessTwoDigitYear(m[4]), m[1] - 1, m[3]);\n                case 'DD/MM/YY':\n                    return new Date(guessTwoDigitYear(m[4]), m[3] - 1, m[1]);\n                case 'MMM-DD-YYYY':\n                    return new Date(m[3], shortMonthKey[m[1]], m[2]);\n\n                case 'YYYY-MM-DD HH:MM':\n                    return new Date(\n                        +m[1],\n                        m[3] - 1,\n                        +m[4],\n                        hour(+m[5], m[8]),\n                        +m[6] || 0,\n                        +m[7] || 0\n                    );\n                case 'DD.MM.YYYY HH:MM':\n                    return new Date(\n                        +m[4],\n                        m[3] - 1,\n                        +m[1],\n                        hour(+m[5], m[8]),\n                        +m[6] || 0,\n                        +m[7] || 0\n                    );\n                case 'MM/DD/YYYY HH:MM':\n                    return new Date(\n                        +m[4],\n                        m[1] - 1,\n                        +m[3],\n                        hour(+m[5], m[8]),\n                        +m[6] || 0,\n                        +m[7] || 0\n                    );\n\n                case 'ISO8601':\n                    return new Date(\n                        `${m[1]}-${m[3]}-${m[4]}T${m[5]}:${m[7]}:${m[8] || '00'}.${m[9] || '000'}${\n                            m[10] || ''\n                        }`\n                    );\n\n                default:\n                    console.warn('unknown format', format);\n            }\n            errors++;\n            return raw;\n        },\n        toNum: function (d) {\n            return isDate(d) ? d.getTime() : Number.NaN;\n        },\n        fromNum: function (i) {\n            return new Date(i);\n        },\n        errors: function () {\n            return errors;\n        },\n        name: function () {\n            return 'date';\n        },\n\n        format: function (fmt) {\n            if (arguments.length) {\n                format = fmt;\n                return type;\n            }\n            return format;\n        },\n\n        precision: function () {\n            return knownFormats[format].precision;\n        },\n\n        isValid: function (val) {\n            return isDate(type.parse(val));\n        },\n\n        ambiguousFormats: function () {\n            var candidates = [];\n            each(matches, function (cnt, fmt) {\n                if (cnt === bestMatch[1]) {\n                    candidates.push([fmt, fmt]); // key, label\n                }\n            });\n            return candidates;\n        }\n    };\n    return type;\n}\n","import text from './text.mjs';\nimport number from './number.mjs';\nimport date from './date.mjs';\n\nexport default {\n    text,\n    number,\n    date\n};\n","import { identity } from 'underscore';\n\nexport default function () {\n    return {\n        parse: identity,\n        errors: function () {\n            return 0;\n        },\n        name: function () {\n            return 'text';\n        },\n        isValid: function () {\n            return true;\n        },\n        format: function () {}\n    };\n}\n","/* eslint no-irregular-whitespace: \"off\" */\n\nimport { each, isNumber, isUndefined, isNull } from 'underscore';\n\n/*\n * A type for numbers:\n *\n * Usage:\n * var parse = dw.type.number(sampleData);\n * parse()\n */\nexport default function (sample) {\n    let format;\n    let errors = 0;\n    const knownFormats = {\n        '-.': /^ *[-–—−]?[0-9]*(\\.[0-9]+)?(e[+-][0-9]+)?%? *$/,\n        '-,': /^ *[-–—−]?[0-9]*(,[0-9]+)?%? *$/,\n        ',.': /^ *[-–—−]?[0-9]{1,3}(,[0-9]{3})*(\\.[0-9]+)?%? *$/,\n        '.,': /^ *[-–—−]?[0-9]{1,3}(\\.[0-9]{3})*(,[0-9]+)?%? *$/,\n        ' .': /^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(\\.[0-9]+)?%? *$/,\n        ' ,': /^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(,[0-9]+)?%? *$/,\n        // excel sometimes produces a strange white-space:\n        \"'.\": /^ *[-–—−]?[0-9]{1,3}('[0-9]{3})*(\\.[0-9]+)?%? *$/\n    };\n    const formatLabels = {\n        '-.': '1234.56',\n        '-,': '1234,56',\n        ',.': '1,234.56',\n        '.,': '1.234,56',\n        ' .': '1 234.56',\n        ' ,': '1 234,56',\n        // excel sometimes produces a strange white-space:\n        ' .': '1 234.56',\n        ' ,': '1 234,56',\n        ' .': '1 234.56',\n        ' ,': '1 234,56'\n    };\n    // a list of strings that are recognized as 'not available'\n    const naStrings = {\n        na: 1,\n        'n/a': 1,\n        '-': 1,\n        ':': 1\n    };\n\n    const matches = {};\n    const bestMatch = ['-.', 0];\n\n    sample = sample || [];\n\n    each(sample, function (n) {\n        each(knownFormats, function (regex, fmt) {\n            if (matches[fmt] === undefined) matches[fmt] = 0;\n            if (regex.test(n)) {\n                matches[fmt] += 1;\n                if (matches[fmt] > bestMatch[1]) {\n                    bestMatch[0] = fmt;\n                    bestMatch[1] = matches[fmt];\n                }\n            }\n        });\n    });\n    format = bestMatch[0];\n\n    // public interface\n    var type = {\n        parse: function (raw) {\n            if (isNumber(raw) || isUndefined(raw) || isNull(raw)) return raw;\n            // replace percent sign, n-dash & m-dash, remove weird spaces\n            var number = raw\n                .replace('%', '')\n                .replace('−', '-')\n                .replace(/[   ]/g, '')\n                .replace('–', '-')\n                .replace('—', '-');\n            // normalize number\n            if (format[0] !== '-') {\n                // remove kilo seperator\n                number = number.replace(new RegExp(format[0] === '.' ? '\\\\.' : format[0], 'g'), '');\n            }\n            if (format[1] !== '.') {\n                // replace decimal char w/ point\n                number = number.replace(format[1], '.');\n            }\n            if (isNaN(number) || number === '') {\n                if (!naStrings[number.toLowerCase()] && number !== '') errors++;\n                return raw;\n            }\n            return Number(number);\n        },\n        toNum: function (i) {\n            return i;\n        },\n        fromNum: function (i) {\n            return i;\n        },\n        errors: function () {\n            return errors;\n        },\n        name: function () {\n            return 'number';\n        },\n\n        isValid: function (val) {\n            return val === '' || naStrings[String(val).toLowerCase()] || isNumber(type.parse(val));\n        },\n\n        ambiguousFormats: function () {\n            var candidates = [];\n            each(matches, function (cnt, fmt) {\n                if (cnt === bestMatch[1]) {\n                    candidates.push([fmt, formatLabels[fmt]]); // key, label\n                }\n            });\n            return candidates;\n        },\n\n        format: function (fmt) {\n            if (arguments.length) {\n                format = fmt;\n                return type;\n            }\n            return format;\n        }\n    };\n    return type;\n}\n","/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.DOMPurify = factory());\n})(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (_isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var hasOwnProperty = Object.hasOwnProperty,\n      setPrototypeOf = Object.setPrototypeOf,\n      isFrozen = Object.isFrozen,\n      getPrototypeOf = Object.getPrototypeOf,\n      getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n  var freeze = Object.freeze,\n      seal = Object.seal,\n      create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n  var _ref = typeof Reflect !== 'undefined' && Reflect,\n      apply = _ref.apply,\n      construct = _ref.construct;\n\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return _construct(Func, _toConsumableArray(args));\n    };\n  }\n\n  var arrayForEach = unapply(Array.prototype.forEach);\n  var arrayPop = unapply(Array.prototype.pop);\n  var arrayPush = unapply(Array.prototype.push);\n  var stringToLowerCase = unapply(String.prototype.toLowerCase);\n  var stringMatch = unapply(String.prototype.match);\n  var stringReplace = unapply(String.prototype.replace);\n  var stringIndexOf = unapply(String.prototype.indexOf);\n  var stringTrim = unapply(String.prototype.trim);\n  var regExpTest = unapply(RegExp.prototype.test);\n  var typeErrorCreate = unconstruct(TypeError);\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return apply(func, thisArg, args);\n    };\n  }\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return construct(func, args);\n    };\n  }\n  /* Add properties to a lookup table */\n\n  function addToSet(set, array, transformCaseFunc) {\n    transformCaseFunc = transformCaseFunc ? transformCaseFunc : stringToLowerCase;\n\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n\n    var l = array.length;\n\n    while (l--) {\n      var element = array[l];\n\n      if (typeof element === 'string') {\n        var lcElement = transformCaseFunc(element);\n\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n\n          element = lcElement;\n        }\n      }\n\n      set[element] = true;\n    }\n\n    return set;\n  }\n  /* Shallow clone an object */\n\n  function clone(object) {\n    var newObject = create(null);\n    var property;\n\n    for (property in object) {\n      if (apply(hasOwnProperty, object, [property])) {\n        newObject[property] = object[property];\n      }\n    }\n\n    return newObject;\n  }\n  /* IE10 doesn't support __lookupGetter__ so lets'\n   * simulate it. It also automatically checks\n   * if the prop is function or getter and behaves\n   * accordingly. */\n\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      var desc = getOwnPropertyDescriptor(object, prop);\n\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n\n      object = getPrototypeOf(object);\n    }\n\n    function fallbackValue(element) {\n      console.warn('fallback value for', element);\n      return null;\n    }\n\n    return fallbackValue;\n  }\n\n  var html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']); // SVG\n\n  var svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']); // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n\n  var svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'fedropshadow', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n  var mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']); // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n\n  var mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n  var text = freeze(['#text']);\n\n  var html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n  var svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n  var mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n\n  var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n  var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n\n  var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n\n  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n  var DOCTYPE_NAME = seal(/^html$/i);\n\n  var getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {Document} document The document object (to determine policy name suffix)\n   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported).\n   */\n\n\n  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n    if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    } // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n\n\n    var suffix = null;\n    var ATTR_NAME = 'data-tt-policy-suffix';\n\n    if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n      suffix = document.currentScript.getAttribute(ATTR_NAME);\n    }\n\n    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML: function createHTML(html) {\n          return html;\n        },\n        createScriptURL: function createScriptURL(scriptUrl) {\n          return scriptUrl;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n\n  function createDOMPurify() {\n    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n    var DOMPurify = function DOMPurify(root) {\n      return createDOMPurify(root);\n    };\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n\n\n    DOMPurify.version = '2.4.0';\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n      return DOMPurify;\n    }\n\n    var originalDocument = window.document;\n    var document = window.document;\n    var DocumentFragment = window.DocumentFragment,\n        HTMLTemplateElement = window.HTMLTemplateElement,\n        Node = window.Node,\n        Element = window.Element,\n        NodeFilter = window.NodeFilter,\n        _window$NamedNodeMap = window.NamedNodeMap,\n        NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n        HTMLFormElement = window.HTMLFormElement,\n        DOMParser = window.DOMParser,\n        trustedTypes = window.trustedTypes;\n    var ElementPrototype = Element.prototype;\n    var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    var getParentNode = lookupGetter(ElementPrototype, 'parentNode'); // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n\n    if (typeof HTMLTemplateElement === 'function') {\n      var template = document.createElement('template');\n\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n\n    var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n\n    var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n    var _document = document,\n        implementation = _document.implementation,\n        createNodeIterator = _document.createNodeIterator,\n        createDocumentFragment = _document.createDocumentFragment,\n        getElementsByTagName = _document.getElementsByTagName;\n    var importNode = originalDocument.importNode;\n    var documentMode = {};\n\n    try {\n      documentMode = clone(document).documentMode ? document.documentMode : {};\n    } catch (_) {}\n\n    var hooks = {};\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n\n    DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n    var MUSTACHE_EXPR$1 = MUSTACHE_EXPR,\n        ERB_EXPR$1 = ERB_EXPR,\n        DATA_ATTR$1 = DATA_ATTR,\n        ARIA_ATTR$1 = ARIA_ATTR,\n        IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n    var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n    /* Allowed attribute names */\n\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n    /*\n     * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n     * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n     * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n     * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n     */\n\n    var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false\n      }\n    }));\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n\n    var FORBID_TAGS = null;\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n\n    var FORBID_ATTR = null;\n    /* Decide if ARIA attributes are okay */\n\n    var ALLOW_ARIA_ATTR = true;\n    /* Decide if custom data attributes are okay */\n\n    var ALLOW_DATA_ATTR = true;\n    /* Decide if unknown protocols are okay */\n\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n\n    var SAFE_FOR_TEMPLATES = false;\n    /* Decide if document with <html>... should be returned */\n\n    var WHOLE_DOCUMENT = false;\n    /* Track whether config is already set on this instance of DOMPurify. */\n\n    var SET_CONFIG = false;\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n\n    var FORCE_BODY = false;\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n\n    var RETURN_DOM = false;\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n\n    var RETURN_DOM_FRAGMENT = false;\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n\n    var RETURN_TRUSTED_TYPE = false;\n    /* Output should be free from DOM clobbering attacks?\n     * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n     */\n\n    var SANITIZE_DOM = true;\n    /* Achieve full DOM Clobbering protection by isolating the namespace of named\n     * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n     *\n     * HTML/DOM spec rules that enable DOM Clobbering:\n     *   - Named Access on Window (§7.3.3)\n     *   - DOM Tree Accessors (§3.1.5)\n     *   - Form Element Parent-Child Relations (§4.10.3)\n     *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n     *   - HTMLCollection (§4.2.10.2)\n     *\n     * Namespace isolation is implemented by prefixing `id` and `name` attributes\n     * with a constant string, i.e., `user-content-`\n     */\n\n    var SANITIZE_NAMED_PROPS = false;\n    var SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n    /* Keep element content when removing element? */\n\n    var KEEP_CONTENT = true;\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n\n    var IN_PLACE = false;\n    /* Allow usage of profiles like html, svg and mathMl */\n\n    var USE_PROFILES = {};\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n\n    var FORBID_CONTENTS = null;\n    var DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n    /* Tags that are safe for data: URIs */\n\n    var DATA_URI_TAGS = null;\n    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n    /* Attributes safe for values like \"javascript:\" */\n\n    var URI_SAFE_ATTRIBUTES = null;\n    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n\n    var NAMESPACE = HTML_NAMESPACE;\n    var IS_EMPTY_INPUT = false;\n    /* Parsing of strict XHTML documents */\n\n    var PARSER_MEDIA_TYPE;\n    var SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n    var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n    var transformCaseFunc;\n    /* Keep a reference to config to pass to hooks */\n\n    var CONFIG = null;\n    /* Ideally, do not touch anything below this line */\n\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    var isRegexOrFunction = function isRegexOrFunction(testValue) {\n      return testValue instanceof RegExp || testValue instanceof Function;\n    };\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n\n\n    var _parseConfig = function _parseConfig(cfg) {\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n      /* Shield configuration object from tampering */\n\n\n      if (!cfg || _typeof(cfg) !== 'object') {\n        cfg = {};\n      }\n      /* Shield configuration object from prototype pollution */\n\n\n      cfg = clone(cfg);\n      PARSER_MEDIA_TYPE = // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE; // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n\n      transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? function (x) {\n        return x;\n      } : stringToLowerCase;\n      /* Set configuration parameters */\n\n      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n      cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n      cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n      FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n\n      SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n      IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n        CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n      }\n\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n      /* Parse profile info */\n\n\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n        ALLOWED_ATTR = [];\n\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html$1);\n          addToSet(ALLOWED_ATTR, html);\n        }\n\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg$1);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl$1);\n          addToSet(ALLOWED_ATTR, mathMl);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n      /* Merge configuration parameters */\n\n\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n      }\n\n      if (cfg.FORBID_CONTENTS) {\n        if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n          FORBID_CONTENTS = clone(FORBID_CONTENTS);\n        }\n\n        addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n      }\n      /* Add #text in case KEEP_CONTENT is set to true */\n\n\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n\n\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n\n\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      } // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n\n\n      if (freeze) {\n        freeze(cfg);\n      }\n\n      CONFIG = cfg;\n    };\n\n    var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n    var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']); // Certain elements are allowed in both SVG and HTML\n    // namespace. We need to specify them explicitly\n    // so that they don't get erroneously deleted from\n    // HTML namespace.\n\n    var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n\n    var ALL_SVG_TAGS = addToSet({}, svg$1);\n    addToSet(ALL_SVG_TAGS, svgFilters);\n    addToSet(ALL_SVG_TAGS, svgDisallowed);\n    var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n    addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n    /**\n     *\n     *\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n\n    var _checkValidNamespace = function _checkValidNamespace(element) {\n      var parent = getParentNode(element); // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: HTML_NAMESPACE,\n          tagName: 'template'\n        };\n      }\n\n      var tagName = stringToLowerCase(element.tagName);\n      var parentTagName = stringToLowerCase(parent.tagName);\n\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        } // The only way to switch from MathML to SVG is via\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n\n\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        } // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n\n\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        } // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n\n\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        } // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n\n\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        } // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n\n\n        return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n      } // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG or MathML). Return false just in case.\n\n\n      return false;\n    };\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n\n\n    var _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, {\n        element: node\n      });\n\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        try {\n          node.outerHTML = emptyHTML;\n        } catch (_) {\n          node.remove();\n        }\n      }\n    };\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n\n\n    var _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n\n      node.removeAttribute(name); // We void attribute values for unremovable \"is\"\" attributes\n\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n\n\n    var _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      var doc;\n      var leadingWhitespace;\n\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml') {\n        // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n        dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n      }\n\n      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n        } catch (_) {}\n      }\n      /* Use createHTMLDocument in case DOMParser is not available */\n\n\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n        } catch (_) {// Syntax error if dirtyPayload is invalid xml\n        }\n      }\n\n      var body = doc.body || doc.documentElement;\n\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n      /* Work on whole document or just its body */\n\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n    /**\n     * _createIterator\n     *\n     * @param  {Document} root document/fragment to create iterator for\n     * @return {Iterator} iterator instance\n     */\n\n\n    var _createIterator = function _createIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root, // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n    };\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n\n\n    var _isClobbered = function _isClobbered(elm) {\n      return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function');\n    };\n    /**\n     * _isNode\n     *\n     * @param  {Node} obj object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n\n\n    var _isNode = function _isNode(object) {\n      return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n    };\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n\n\n    var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n\n      arrayForEach(hooks[entryPoint], function (hook) {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n\n\n    var _sanitizeElements = function _sanitizeElements(currentNode) {\n      var content;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeElements', currentNode, null);\n      /* Check if element is clobbered or can clobber */\n\n\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Check if tagname contains Unicode */\n\n\n      if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Now let's check the element's type and name */\n\n\n      var tagName = transformCaseFunc(currentNode.nodeName);\n      /* Execute a hook if present */\n\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName: tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n      /* Detect mXSS attempts abusing namespace confusion */\n\n\n      if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Mitigate a problem with templates inside select */\n\n\n      if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Remove element if anything forbids its presence */\n\n\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Check if we have a custom element to handle */\n        if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) return false;\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) return false;\n        }\n        /* Keep content except for bad-listed elements */\n\n\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n          if (childNodes && parentNode) {\n            var childCount = childNodes.length;\n\n            for (var i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Check whether element has a valid namespace */\n\n\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n\n      if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Sanitize element content to be template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n        content = stringReplace(content, ERB_EXPR$1, ' ');\n\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, {\n            element: currentNode.cloneNode()\n          });\n          currentNode.textContent = content;\n        }\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeElements', currentNode, null);\n\n      return false;\n    };\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n\n\n    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n\n\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        if ( // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        _basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n          return false;\n        }\n        /* Check value is safe. First, is attr inert? If so, is safe */\n\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ; else if (!value) ; else {\n        return false;\n      }\n\n      return true;\n    };\n    /**\n     * _basicCustomElementCheck\n     * checks if at least one dash is included in tagName, and it's not the first char\n     * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n     * @param {string} tagName name of the tag of the node to sanitize\n     */\n\n\n    var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n      return tagName.indexOf('-') > 0;\n    };\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n\n\n    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      var attr;\n      var value;\n      var lcName;\n      var l;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n      var attributes = currentNode.attributes;\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n\n      var hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      l = attributes.length;\n      /* Go backwards over all attributes; safely remove bad ones */\n\n      while (l--) {\n        attr = attributes[l];\n        var _attr = attr,\n            name = _attr.name,\n            namespaceURI = _attr.namespaceURI;\n        value = name === 'value' ? attr.value : stringTrim(attr.value);\n        lcName = transformCaseFunc(name);\n        /* Execute a hook if present */\n\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n        /* Remove attribute */\n\n\n        _removeAttribute(name, currentNode);\n        /* Did the hooks approve of the attribute? */\n\n\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n        /* Work around a security issue in jQuery 3.0 */\n\n\n        if (regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n\n          continue;\n        }\n        /* Sanitize attribute content to be template-safe */\n\n\n        if (SAFE_FOR_TEMPLATES) {\n          value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n          value = stringReplace(value, ERB_EXPR$1, ' ');\n        }\n        /* Is `value` valid for this attribute? */\n\n\n        var lcTag = transformCaseFunc(currentNode.nodeName);\n\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n        /* Full DOM Clobbering protection via namespace isolation,\n         * Prefix id and name attributes with `user-content-`\n         */\n\n\n        if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n          // Remove the attribute with this value\n          _removeAttribute(name, currentNode); // Prefix the value and later re-create the attribute with the sanitized value\n\n\n          value = SANITIZE_NAMED_PROPS_PREFIX + value;\n        }\n        /* Handle attributes that require Trusted Types */\n\n\n        if (trustedTypesPolicy && _typeof(trustedTypes) === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n          if (namespaceURI) ; else {\n            switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML':\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n\n              case 'TrustedScriptURL':\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n            }\n          }\n        }\n        /* Handle invalid data-* attribute set by try-catching it */\n\n\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n\n\n    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      var shadowNode;\n\n      var shadowIterator = _createIterator(fragment);\n      /* Execute a hook if present */\n\n\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n        /* Sanitize tags and elements */\n\n\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n        /* Deep shadow DOM detected */\n\n\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n\n        _sanitizeAttributes(shadowNode);\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    // eslint-disable-next-line complexity\n\n\n    DOMPurify.sanitize = function (dirty) {\n      var cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var body;\n      var importedNode;\n      var currentNode;\n      var oldNode;\n      var returnNode;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n\n      IS_EMPTY_INPUT = !dirty;\n\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n      /* Stringify, in case dirty is an object */\n\n\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        // eslint-disable-next-line no-negated-condition\n        if (typeof dirty.toString !== 'function') {\n          throw typeErrorCreate('toString is not a function');\n        } else {\n          dirty = dirty.toString();\n\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        }\n      }\n      /* Check we can run. Otherwise fall back or ignore */\n\n\n      if (!DOMPurify.isSupported) {\n        if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n          if (typeof dirty === 'string') {\n            return window.toStaticHTML(dirty);\n          }\n\n          if (_isNode(dirty)) {\n            return window.toStaticHTML(dirty.outerHTML);\n          }\n        }\n\n        return dirty;\n      }\n      /* Assign config vars */\n\n\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n      /* Clean up removed elements */\n\n\n      DOMPurify.removed = [];\n      /* Check if dirty is correctly typed for IN_PLACE */\n\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n\n      if (IN_PLACE) {\n        /* Do some early pre-sanitization to avoid unsafe root nodes */\n        if (dirty.nodeName) {\n          var tagName = transformCaseFunc(dirty.nodeName);\n\n          if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n          }\n        }\n      } else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n        /* Initialize the document to work on */\n\n\n        body = _initDocument(dirty);\n        /* Check we have a DOM node from the data */\n\n        if (!body) {\n          return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n        }\n      }\n      /* Remove first element node (ours) if FORCE_BODY is set */\n\n\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n      /* Get node iterator */\n\n\n      var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n      /* Now start iterating over the created document */\n\n\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Fix IE's strange behavior with manipulated textNodes #89 */\n        if (currentNode.nodeType === 3 && currentNode === oldNode) {\n          continue;\n        }\n        /* Sanitize tags and elements */\n\n\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n        /* Shadow DOM detected, sanitize it */\n\n\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n\n        _sanitizeAttributes(currentNode);\n\n        oldNode = currentNode;\n      }\n\n      oldNode = null;\n      /* If we sanitized `dirty` in-place, return it. */\n\n      if (IN_PLACE) {\n        return dirty;\n      }\n      /* Return sanitized string or DOM */\n\n\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n\n        if (ALLOWED_ATTR.shadowroot) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n\n        return returnNode;\n      }\n\n      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n      /* Serialize doctype if allowed */\n\n      if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n        serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n      }\n      /* Sanitize final string template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES) {\n        serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n      }\n\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n\n\n    DOMPurify.setConfig = function (cfg) {\n      _parseConfig(cfg);\n\n      SET_CONFIG = true;\n    };\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n\n\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {string} tag Tag name of containing element.\n     * @param  {string} attr Attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n\n\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n\n      var lcTag = transformCaseFunc(tag);\n      var lcName = transformCaseFunc(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n\n\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     * @return {Function} removed(popped) hook\n     */\n\n\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        return arrayPop(hooks[entryPoint]);\n      }\n    };\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n\n\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     */\n\n\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n\n    return DOMPurify;\n  }\n\n  var purify = createDOMPurify();\n\n  return purify;\n\n}));\n//# sourceMappingURL=purify.js.map\n","module.exports = window.DOMPurify || (window.DOMPurify = require('dompurify').default || require('dompurify'));","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createPermanentMemoizer = void 0;\nconst createPermanentMemoizer = (keySerializer, valueCreator, { maxsize } = {}) => {\n    let map = new Map();\n    return {\n        get: (key) => {\n            const serializedKey = keySerializer(key);\n            if (map.has(serializedKey)) {\n                // We can be certain that `map.get` does not return undefined\n                // (if TValue does not include undefined)\n                // because we've just checked that it has this key.\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                return map.get(serializedKey);\n            }\n            const value = valueCreator(key);\n            if (maxsize && map.size >= maxsize) {\n                map = new Map();\n            }\n            map.set(serializedKey, value);\n            return value;\n        }\n    };\n};\nexports.createPermanentMemoizer = createPermanentMemoizer;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst isomorphic_dompurify_1 = __importDefault(require(\"isomorphic-dompurify\"));\nconst memoizer_1 = require(\"./memoizer\");\nconst DEFAULT_ALLOWED = [\n    'a',\n    'span',\n    'b',\n    'br',\n    'i',\n    'strong',\n    'sup',\n    'sub',\n    'strike',\n    'u',\n    'em',\n    'tt'\n].sort();\nconst MEMOIZER_MAXSIZE = 100000;\n/**\n * Set default TARGET and REL for A tags.\n *\n * Don't overwrite target=\"_self\".\n */\nisomorphic_dompurify_1.default.addHook('afterSanitizeElements', function (el) {\n    if (el.nodeName.toLowerCase() === 'a') {\n        if (el.getAttribute('target') !== '_self') {\n            el.setAttribute('target', '_blank');\n        }\n        el.setAttribute('rel', 'nofollow noopener noreferrer');\n    }\n});\nconst memoizer = (0, memoizer_1.createPermanentMemoizer)((allowedTagsInput) => String(allowedTagsInput), allowedTagsInput => {\n    const allowedTags = allowedTagsInput === undefined\n        ? DEFAULT_ALLOWED\n        : typeof allowedTagsInput === 'string'\n            ? allowedTagsInput.toLowerCase().slice(1, -1).split('><')\n            : allowedTagsInput;\n    const config = {\n        ALLOWED_TAGS: allowedTags,\n        ADD_ATTR: ['target'],\n        FORCE_BODY: true // Makes sure that top-level SCRIPT tags are kept if explicitly allowed.\n    };\n    return (0, memoizer_1.createPermanentMemoizer)((input) => input, input => {\n        // Implementation of DOMPurify accepts anything,\n        // and we need to accept anything too, according to tests\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return isomorphic_dompurify_1.default.sanitize(input, config);\n    }, { maxsize: MEMOIZER_MAXSIZE });\n}, { maxsize: MEMOIZER_MAXSIZE });\nfunction purifyHTML(input, allowedTagsInput) {\n    if (!input) {\n        return input;\n    }\n    return memoizer.get(allowedTagsInput).get(input);\n}\nmodule.exports = purifyHTML;\n","/*\n * column abstracts the functionality of each column\n * of a dataset. A column has a type (text|number|date).\n *\n * API:\n *\n * column.name() ... returns the name (string)\n * column.type() ... return column type (string)\n * column.length ... number of rows (number)\n * column.val(i) ... parsed value in row i\n * column.each(func) ... apply function to each value\n * column.raw() ... access raw, unparsed values\n *\n */\n\nimport {\n    every,\n    isString,\n    isNumber,\n    isDate,\n    isNaN,\n    each,\n    isUndefined,\n    shuffle,\n    map,\n    find,\n    range\n} from 'underscore';\nimport columnTypes from './columnTypes/index.mjs';\nimport purifyHtml from '@datawrapper/shared/purifyHtml.js';\n\n/**\n * @class dw.Column\n */\nexport default function Column(name_, rows, type, allowedTags) {\n    function notEmpty(d) {\n        return d !== null && d !== undefined && d !== '';\n    }\n\n    function guessType(sample) {\n        if (rows.length === 0) return columnTypes.text(); // empty columns are type text by default\n        if (every(rows, isNumber)) return columnTypes.number();\n        if (every(rows, isDate)) return columnTypes.date();\n        // guessing column type by counting parsing errors\n        // for every known type\n        const types = [columnTypes.date(sample), columnTypes.number(sample), columnTypes.text()];\n        let type;\n        const tolerance = 0.1 * rows.filter(notEmpty).length; // allowing 10% mis-parsed values\n\n        each(rows, function (val) {\n            each(types, function (t) {\n                t.parse(val);\n            });\n        });\n        every(types, function (t) {\n            if (t.errors() < tolerance) type = t;\n            return !type;\n        });\n        if (isUndefined(type)) type = types[2]; // default to text;\n        return type;\n    }\n\n    // we pick random 200 non-empty values for column type testing\n    const sample = shuffle(range(rows.length))\n        .filter(function (i) {\n            return notEmpty(rows[i]);\n        })\n        .slice(0, 200)\n        .map(function (i) {\n            return rows[i];\n        });\n\n    type = type ? columnTypes[type](sample) : guessType(sample);\n\n    let name = purifyHtml(name_);\n    let origName = name;\n    let valueRange, sum, mean, median;\n    const origRows = rows.slice(0);\n    let title;\n\n    // public interface\n    var column = {\n        // column name (used for reference in chart metadata)\n        name() {\n            if (arguments.length >= 1) {\n                name = purifyHtml(arguments[0]);\n                if (arguments.length === 2) {\n                    origName = purifyHtml(arguments[1]);\n                } else {\n                    origName = name;\n                }\n                return column;\n            }\n            return name;\n        },\n\n        origName() {\n            return origName;\n        },\n\n        // column title (used for presentation)\n        title() {\n            if (arguments.length) {\n                title = purifyHtml(arguments[0], allowedTags);\n                return column;\n            }\n            return title || name;\n        },\n\n        /**\n         * number of rows\n         */\n        length: rows.length,\n\n        /**\n         * returns ith row of the col, parsed\n         *\n         * @param i\n         * @param unfiltered  if set to true, precedent calls of filterRows are ignored\n         */\n        val(i, unfiltered) {\n            if (!arguments.length) return undefined;\n            var r = unfiltered ? origRows : rows;\n            if (i < 0) i += r.length;\n            return type.parse(\n                isDate(r[i]) || isNumber(r[i]) ? r[i] : purifyHtml(r[i], allowedTags)\n            );\n        },\n\n        /**\n         * returns an array of formatted values\n         *\n         * @param {string} [opt.numeral=null] -- format numbers using this Numeral.js instance\n         */\n        formatted(numeral = null) {\n            if (numeral && this.type() === 'number') {\n                return this.values().map(val => {\n                    if (Number.isFinite(val)) {\n                        return numeral(val).format('0.[00000000000000000000]');\n                    }\n                    // When the value is null, undefined, NaN, Infinity, or when parsing failed.\n                    return val;\n                });\n            }\n            return this.raw();\n        },\n\n        /**\n         * returns an array of parsed values\n         */\n        values(unfiltered) {\n            var r = unfiltered ? origRows : rows;\n            r = map(r, function (d) {\n                return isDate(d) || isNumber(d) ? d : purifyHtml(d, allowedTags);\n            });\n            return map(r, type.parse);\n        },\n\n        /**\n         * apply function to each value\n         */\n        each(f) {\n            for (var i = 0; i < rows.length; i++) {\n                f(column.val(i), i);\n            }\n        },\n\n        // access to raw values\n        raw(i, val) {\n            if (!arguments.length)\n                return rows.map(d => (isDate(d) || isNumber(d) ? d : purifyHtml(d, allowedTags)));\n            if (arguments.length === 2) {\n                rows[i] = val;\n                return column;\n            }\n            return isDate(rows[i]) || isNumber(rows[i])\n                ? rows[i]\n                : purifyHtml(rows[i], allowedTags);\n        },\n\n        /**\n         * if called with no arguments, this returns the column type name\n         * if called with true as argument, this returns the column type (as object)\n         * if called with a string as argument, this sets a new column type\n         */\n        type(o) {\n            if (o === true) return type;\n            if (isString(o)) {\n                if (columnTypes[o]) {\n                    type = columnTypes[o](sample);\n                    return column;\n                } else {\n                    throw new Error('unknown column type: ' + o);\n                }\n            }\n            return type.name();\n        },\n\n        // [min,max] range\n        range() {\n            if (!type.toNum) return false;\n            if (!valueRange) {\n                valueRange = [Number.MAX_VALUE, -Number.MAX_VALUE];\n                column.each(function (v) {\n                    v = type.toNum(v);\n                    if (!isNumber(v) || isNaN(v)) return;\n                    if (v < valueRange[0]) valueRange[0] = v;\n                    if (v > valueRange[1]) valueRange[1] = v;\n                });\n                valueRange[0] = type.fromNum(valueRange[0]);\n                valueRange[1] = type.fromNum(valueRange[1]);\n            }\n            return valueRange;\n        },\n        // sum of values\n        sum() {\n            if (!type.toNum) return false;\n            if (sum === undefined) {\n                sum = 0;\n                column.each(function (v) {\n                    const n = type.toNum(v);\n                    if (Number.isFinite(n)) {\n                        sum += n;\n                    }\n                });\n                sum = type.fromNum(sum);\n            }\n            return sum;\n        },\n\n        mean() {\n            if (!type.toNum) return false;\n            if (mean === undefined) {\n                mean = 0;\n                let count = 0;\n                column.each(function (v) {\n                    const n = type.toNum(v);\n                    if (Number.isFinite(n)) {\n                        mean += n;\n                        count++;\n                    }\n                });\n                mean = type.fromNum(mean / count);\n            }\n            return mean;\n        },\n\n        median() {\n            if (!type.toNum) return false;\n            if (median === undefined) {\n                const arr = column.values().map(type.toNum);\n                median = type.fromNum(d3Median(arr));\n            }\n            return median;\n        },\n\n        // remove rows from column, keep those whose index\n        // is within @r\n        filterRows(r) {\n            rows = [];\n            if (arguments.length) {\n                each(r, function (i) {\n                    rows.push(origRows[i]);\n                });\n            } else {\n                rows = origRows.slice(0);\n            }\n            column.length = rows.length;\n            // invalidate valueRange and total\n            valueRange = sum = mean = median = undefined;\n            return column;\n        },\n\n        deleteRow(i) {\n            const deletedRows = rows.splice(i, 1);\n            origRows.splice(i, 1);\n            column.length = rows.length;\n            // invalidate valueRange and total\n            valueRange = sum = mean = median = undefined;\n            return deletedRows;\n        },\n\n        toString() {\n            return name + ' (' + type.name() + ')';\n        },\n\n        indexOf(val) {\n            return find(range(rows.length), function (i) {\n                return column.val(i) === val;\n            });\n        },\n\n        limitRows(numRows) {\n            if (origRows.length > numRows) {\n                origRows.length = numRows;\n                rows.length = numRows;\n                column.length = numRows;\n            }\n        },\n\n        /**\n         * add one or more new rows\n         * @param {...*} values\n         */\n        add(...values) {\n            origRows.push(...values);\n            rows.push(...values);\n            column.length = rows.length;\n        },\n\n        /**\n         * create a copy of the column\n         * @returns {dw.Column}\n         */\n        clone() {\n            return Column(name, rows.slice(), type.name());\n        },\n\n        /**\n         * delete all rows\n         */\n        clear() {\n            rows.splice(0);\n            column.length = rows.length;\n        }\n    };\n    // backwards compatibility\n    column.total = column.sum;\n    return column;\n}\n\n// some d3 stuff\nfunction d3Median(array) {\n    var numbers = [];\n    var n = array.length;\n    var a;\n    var i = -1;\n    if (arguments.length === 1) {\n        while (++i < n) if (d3Numeric((a = d3Number(array[i])))) numbers.push(a);\n    }\n    if (numbers.length) return d3Quantile(numbers.sort(d3Ascending), 0.5);\n}\nfunction d3Quantile(values, p) {\n    var H = (values.length - 1) * p + 1;\n    var h = Math.floor(H);\n    var v = +values[h - 1];\n    var e = H - h;\n    return e ? v + e * (values[h] - v) : v;\n}\nfunction d3Number(x) {\n    return x === null ? NaN : +x;\n}\nfunction d3Numeric(x) {\n    return !isNaN(x);\n}\nfunction d3Ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","/*\n * dataset source for delimited files (CSV, TSV, ...)\n */\n\n/**\n * Smart delimited data parser.\n * - Handles CSV and other delimited data.\n * Includes auto-guessing of delimiter character\n * Parameters:\n *   options\n *     delimiter : \",\"\n */\n\nimport { isString } from 'underscore';\nimport dataset from './index.mjs';\nimport column from './column.mjs';\n\n/**\n * Parses a separator-delimited string (e.g. CSV)\n *\n * @param {object} opts\n * @param {string} opts.csv - the CSV string to be parsed\n * @param {string} opts.delimiter - defaults to 'auto'\n * @param {string} opts.quoteChar\n * @param {number} opts.skipRows - number of initial rows to skip\n * @param {*} opts.emptyValue\n * @param {boolean} opts.transpose\n * @param {boolean} opts.firstRowIsHeader\n * @param {string} opts.allowedTags - list of HTML tags that will not get filtered out by purifyHTML\n * @return {Dataset}\n */\nfunction delimited(opts) {\n    function loadAndParseCsv() {\n        if (opts.url) {\n            const ts = new Date().getTime();\n            const url = `${opts.url}${opts.url.indexOf('?') > -1 ? '&' : '?'}v=${\n                opts.url.indexOf('//static.dwcdn.net') > -1 ? ts - (ts % 60000) : ts\n            }`;\n            return window\n                .fetch(url)\n                .then(res => res.text())\n                .then(raw => {\n                    return new DelimitedParser(opts).parse(raw);\n                });\n        } else if (opts.csv || opts.csv === '') {\n            const dfd = new Promise(resolve => {\n                resolve(opts.csv);\n            });\n            const parsed = dfd.then(raw => {\n                return new DelimitedParser(opts).parse(raw);\n            });\n            return parsed;\n        }\n        const err = new Error('You need to provide either a URL or CSV data');\n        return Promise.reject(err);\n    }\n\n    return {\n        dataset: function () {\n            return loadAndParseCsv().catch(e => {\n                console.error(\n                    `Could not fetch delimited data source for chart ${opts.chartId}, ` +\n                        `returning an empty dataset: ${e.message}`\n                );\n                return dataset([]);\n            });\n        },\n        parse: function () {\n            return new DelimitedParser(opts).parse(opts.csv);\n        }\n    };\n}\n\ndataset.delimited = delimited;\n\nexport default delimited;\n\nclass DelimitedParser {\n    constructor(opts) {\n        opts = Object.assign(\n            {\n                delimiter: 'auto',\n                quoteChar: '\"',\n                skipRows: 0,\n                emptyValue: null,\n                transpose: false,\n                firstRowIsHeader: true\n            },\n            opts\n        );\n\n        this.__delimiterPatterns = getDelimiterPatterns(opts.delimiter, opts.quoteChar);\n        this.opts = opts;\n    }\n\n    parse(data) {\n        this.__rawData = data;\n        const opts = this.opts;\n\n        if (opts.delimiter === 'auto') {\n            opts.delimiter = this.guessDelimiter(data, opts.skipRows);\n            this.__delimiterPatterns = getDelimiterPatterns(opts.delimiter, opts.quoteChar);\n        }\n        const closure = opts.delimiter !== '|' ? '|' : '#';\n        let arrData;\n\n        data = closure + '\\n' + data.replace(/[ \\r\\n\\f]+$/g, '').replace(/^\\uFEFF/, '') + closure;\n\n        function parseCSV(delimiterPattern, strData, strDelimiter) {\n            // implementation and regex borrowed from:\n            // http://www.bennadel.com/blog/1504-Ask-Ben-Parsing-CSV-Strings-With-Javascript-Exec-Regular-Expression-Command.htm\n\n            // Check to see if the delimiter is defined. If not,\n            // then default to comma.\n            strDelimiter = strDelimiter || ',';\n\n            // Create an array to hold our data. Give the array\n            // a default empty first row.\n            const arrData = [[]];\n\n            // Create an array to hold our individual pattern\n            // matching groups.\n            let arrMatches = null;\n            let strMatchedValue;\n\n            // Keep looping over the regular expression matches\n            // until we can no longer find a match.\n            while ((arrMatches = delimiterPattern.exec(strData))) {\n                // Get the delimiter that was found.\n                var strMatchedDelimiter = arrMatches[1];\n\n                // Check to see if the given delimiter has a length\n                // (is not the start of string) and if it matches\n                // field delimiter. If id does not, then we know\n                // that this delimiter is a row delimiter.\n                if (strMatchedDelimiter.length && strMatchedDelimiter !== strDelimiter) {\n                    // Since we have reached a new row of data,\n                    // add an empty row to our data array.\n                    arrData.push([]);\n                }\n\n                // Now that we have our delimiter out of the way,\n                // let's check to see which kind of value we\n                // captured (quoted or unquoted).\n                if (arrMatches[2]) {\n                    // We found a quoted value. When we capture\n                    // this value, unescape any double quotes.\n                    strMatchedValue = arrMatches[2].replace(new RegExp('\"\"', 'g'), '\"');\n                } else {\n                    // We found a non-quoted value.\n                    strMatchedValue = arrMatches[3];\n                }\n\n                // Now that we have our value string, let's add\n                // it to the data array.\n                arrData[arrData.length - 1].push(\n                    strMatchedValue === undefined ? '' : strMatchedValue\n                );\n            }\n\n            // remove closure\n            if (arrData[0][0].substr(0, 1) === closure) {\n                arrData[0][0] = arrData[0][0].substr(1);\n            }\n            const p = arrData.length - 1;\n            const q = arrData[p].length - 1;\n            const r = arrData[p][q].length - 1;\n            if (arrData[p][q].substr(r) === closure) {\n                arrData[p][q] = arrData[p][q].substr(0, r);\n            }\n\n            // Return the parsed data.\n            return arrData.slice(1);\n        } // end parseCSV\n\n        function transpose(arrMatrix) {\n            // borrowed from:\n            // http://www.shamasis.net/2010/02/transpose-an-array-in-javascript-and-jquery/\n            const a = arrMatrix;\n            const w = a.length ? a.length : 0;\n            const h = a[0] instanceof Array ? a[0].length : 0;\n            if (h === 0 || w === 0) {\n                return [];\n            }\n            let i, j;\n            const t = [];\n            for (i = 0; i < h; i++) {\n                t[i] = [];\n                for (j = 0; j < w; j++) {\n                    t[i][j] = a[j][i];\n                }\n            }\n            return t;\n        }\n\n        function makeColumns(arrData) {\n            if (!arrData) {\n                return [];\n            }\n            arrData = arrData.slice(opts.skipRows);\n            if (!arrData.length) {\n                return [];\n            }\n\n            // compute series\n            const firstRow = arrData[0];\n            const columnNames = {};\n            let srcColumns = [];\n            let rowIndex = 0;\n            if (opts.firstRowIsHeader) {\n                srcColumns = arrData[rowIndex];\n                rowIndex++;\n                arrData.shift();\n            }\n\n            return firstRow.map((_, i) => {\n                const data = arrData.map(row => (row[i] !== '' ? row[i] : opts.emptyValue));\n                let col = isString(srcColumns[i]) ? srcColumns[i].replace(/^\\s+|\\s+$/g, '') : '';\n                let suffix = col !== '' ? '' : 1;\n                col = col !== '' ? col : 'X.';\n                while (columnNames[col + suffix] !== undefined) {\n                    suffix = suffix === '' ? 1 : suffix + 1;\n                }\n                columnNames[col + suffix] = true;\n                return column(col + suffix, data, undefined, opts.allowedTags);\n            });\n        }\n\n        function makeDataset(arrData) {\n            const columns = makeColumns(arrData);\n            return dataset(columns);\n        }\n\n        arrData = parseCSV(this.__delimiterPatterns, data, opts.delimiter);\n        if (opts.transpose) {\n            arrData = transpose(arrData);\n        }\n        return makeDataset(trimArrayData(arrData));\n    } // end parse\n\n    guessDelimiter(strData) {\n        // find delimiter which occurs most often\n        let maxMatchCount = 0;\n        let k = -1;\n        const me = this;\n        const delimiters = ['\\t', ';', '|', ','];\n        delimiters.forEach((delimiter, i) => {\n            const regex = getDelimiterPatterns(delimiter, me.quoteChar);\n            let c = strData.match(regex).length;\n            if (delimiter === '\\t') c *= 1.15; // give tab delimiters more weight\n            if (c > maxMatchCount) {\n                maxMatchCount = c;\n                k = i;\n            }\n        });\n        return delimiters[k];\n    }\n}\n\nfunction getDelimiterPatterns(delimiter, quoteChar) {\n    return new RegExp(\n        // Delimiters.\n        '(\\\\' +\n            delimiter +\n            '|\\\\r?\\\\n|\\\\r|^)' +\n            // Quoted fields.\n            '(?:' +\n            quoteChar +\n            '([^' +\n            quoteChar +\n            ']*(?:' +\n            quoteChar +\n            '\"[^' +\n            quoteChar +\n            ']*)*)' +\n            quoteChar +\n            '|' +\n            // Standard fields.\n            '([^\\\\' +\n            delimiter +\n            '\\\\r\\\\n]*))',\n        'gi'\n    );\n}\n\nfunction trimArrayData(arrData) {\n    for (let i = arrData.length - 1; i >= 0; i--) {\n        if (arrData[i].some(col => col !== '')) {\n            return arrData.slice(0, i + 1);\n        }\n    }\n    return arrData.slice(0, 1);\n}\n","import dataset from './index.mjs';\n\n/*\n * dataset source for JSON data\n */\nfunction json(opts) {\n    function loadAndParseJSON() {\n        if (opts.url) {\n            return fetch(opts.url)\n                .then(res => res.text())\n                .then(raw => {\n                    return JSON.parse(raw);\n                });\n        } else if (opts.csv) {\n            const dfd = new Promise(resolve => {\n                resolve(opts.csv);\n            });\n            const parsed = dfd.then(raw => {\n                return JSON.parse(raw);\n            });\n            return parsed;\n        }\n        const err = new Error('You need to provide either a URL or CSV data');\n        return Promise.reject(err);\n    }\n\n    return {\n        dataset: function () {\n            return loadAndParseJSON().catch(e => {\n                console.error(\n                    `Could not fetch JSON data source for chart ${opts.chartId}, ` +\n                        `returning an empty object: ${e.message}`\n                );\n                return {};\n            });\n        },\n        parse: function () {\n            return JSON.parse(opts.csv);\n        }\n    };\n}\n\ndataset.json = json;\n\nexport default json;\n","\"use strict\";\nmodule.exports = function tailLength(value) {\n    return Math.max(0, String(value - Math.floor(value))\n        .replace(/00000*[0-9]+$/, '')\n        .replace(/33333*[0-9]+$/, '')\n        .replace(/99999*[0-9]+$/, '').length - 2);\n};\n","\"use strict\";\nmodule.exports = function round(value, decimals = 0) {\n    const base = Math.pow(10, decimals);\n    return Math.round(value * base) / base;\n};\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define('underscore', factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (function () {\n    var current = global._;\n    var exports = global._ = factory();\n    exports.noConflict = function () { global._ = current; return exports; };\n  }()));\n}(this, (function () {\n  //     Underscore.js 1.13.4\n  //     https://underscorejs.org\n  //     (c) 2009-2022 Jeremy Ashkenas, Julian Gonggrijp, and DocumentCloud and Investigative Reporters & Editors\n  //     Underscore may be freely distributed under the MIT license.\n\n  // Current version.\n  var VERSION = '1.13.4';\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = (typeof self == 'object' && self.self === self && self) ||\n            (typeof global == 'object' && global.global === global && global) ||\n            Function('return this')() ||\n            {};\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // Modern feature detection.\n  var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n      supportsDataView = typeof DataView !== 'undefined';\n\n  // All **ECMAScript 5+** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create,\n      nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n  // Create references to these builtin functions because we override them.\n  var _isNaN = isNaN,\n      _isFinite = isFinite;\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  // The largest integer that can be represented exactly.\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the function’s\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6’s \"rest parameter\".\n  function restArguments(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  }\n\n  // Is a given variable an object?\n  function isObject(obj) {\n    var type = typeof obj;\n    return type === 'function' || (type === 'object' && !!obj);\n  }\n\n  // Is a given value equal to null?\n  function isNull(obj) {\n    return obj === null;\n  }\n\n  // Is a given variable undefined?\n  function isUndefined(obj) {\n    return obj === void 0;\n  }\n\n  // Is a given value a boolean?\n  function isBoolean(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  }\n\n  // Is a given value a DOM element?\n  function isElement(obj) {\n    return !!(obj && obj.nodeType === 1);\n  }\n\n  // Internal function for creating a `toString`-based type tester.\n  function tagTester(name) {\n    var tag = '[object ' + name + ']';\n    return function(obj) {\n      return toString.call(obj) === tag;\n    };\n  }\n\n  var isString = tagTester('String');\n\n  var isNumber = tagTester('Number');\n\n  var isDate = tagTester('Date');\n\n  var isRegExp = tagTester('RegExp');\n\n  var isError = tagTester('Error');\n\n  var isSymbol = tagTester('Symbol');\n\n  var isArrayBuffer = tagTester('ArrayBuffer');\n\n  var isFunction = tagTester('Function');\n\n  // Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n  // v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  var isFunction$1 = isFunction;\n\n  var hasObjectTag = tagTester('Object');\n\n  // In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n  // In IE 11, the most common among them, this problem also applies to\n  // `Map`, `WeakMap` and `Set`.\n  var hasStringTagBug = (\n        supportsDataView && hasObjectTag(new DataView(new ArrayBuffer(8)))\n      ),\n      isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n\n  var isDataView = tagTester('DataView');\n\n  // In IE 10 - Edge 13, we need a different heuristic\n  // to determine whether an object is a `DataView`.\n  function ie10IsDataView(obj) {\n    return obj != null && isFunction$1(obj.getInt8) && isArrayBuffer(obj.buffer);\n  }\n\n  var isDataView$1 = (hasStringTagBug ? ie10IsDataView : isDataView);\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native `Array.isArray`.\n  var isArray = nativeIsArray || tagTester('Array');\n\n  // Internal function to check whether `key` is an own property name of `obj`.\n  function has$1(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  }\n\n  var isArguments = tagTester('Arguments');\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  (function() {\n    if (!isArguments(arguments)) {\n      isArguments = function(obj) {\n        return has$1(obj, 'callee');\n      };\n    }\n  }());\n\n  var isArguments$1 = isArguments;\n\n  // Is a given object a finite number?\n  function isFinite$1(obj) {\n    return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n  }\n\n  // Is the given value `NaN`?\n  function isNaN$1(obj) {\n    return isNumber(obj) && _isNaN(obj);\n  }\n\n  // Predicate-generating function. Often useful outside of Underscore.\n  function constant(value) {\n    return function() {\n      return value;\n    };\n  }\n\n  // Common internal logic for `isArrayLike` and `isBufferLike`.\n  function createSizePropertyCheck(getSizeProperty) {\n    return function(collection) {\n      var sizeProperty = getSizeProperty(collection);\n      return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n    }\n  }\n\n  // Internal helper to generate a function to obtain property `key` from `obj`.\n  function shallowProperty(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  }\n\n  // Internal helper to obtain the `byteLength` property of an object.\n  var getByteLength = shallowProperty('byteLength');\n\n  // Internal helper to determine whether we should spend extensive checks against\n  // `ArrayBuffer` et al.\n  var isBufferLike = createSizePropertyCheck(getByteLength);\n\n  // Is a given value a typed array?\n  var typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\n  function isTypedArray(obj) {\n    // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n    // Otherwise, fall back on the above regular expression.\n    return nativeIsView ? (nativeIsView(obj) && !isDataView$1(obj)) :\n                  isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n  }\n\n  var isTypedArray$1 = supportsArrayBuffer ? isTypedArray : constant(false);\n\n  // Internal helper to obtain the `length` property of an object.\n  var getLength = shallowProperty('length');\n\n  // Internal helper to create a simple lookup structure.\n  // `collectNonEnumProps` used to depend on `_.contains`, but this led to\n  // circular imports. `emulatedSet` is a one-off solution that only works for\n  // arrays of strings.\n  function emulatedSet(keys) {\n    var hash = {};\n    for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n    return {\n      contains: function(key) { return hash[key] === true; },\n      push: function(key) {\n        hash[key] = true;\n        return keys.push(key);\n      }\n    };\n  }\n\n  // Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n  // be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n  // needed.\n  function collectNonEnumProps(obj, keys) {\n    keys = emulatedSet(keys);\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (isFunction$1(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (has$1(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  function keys(obj) {\n    if (!isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (has$1(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  }\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  function isEmpty(obj) {\n    if (obj == null) return true;\n    // Skip the more expensive `toString`-based type checks if `obj` has no\n    // `.length`.\n    var length = getLength(obj);\n    if (typeof length == 'number' && (\n      isArray(obj) || isString(obj) || isArguments$1(obj)\n    )) return length === 0;\n    return getLength(keys(obj)) === 0;\n  }\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  function isMatch(object, attrs) {\n    var _keys = keys(attrs), length = _keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = _keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  }\n\n  // If Underscore is called as a function, it returns a wrapped object that can\n  // be used OO-style. This wrapper holds altered versions of all functions added\n  // through `_.mixin`. Wrapped objects may be chained.\n  function _$1(obj) {\n    if (obj instanceof _$1) return obj;\n    if (!(this instanceof _$1)) return new _$1(obj);\n    this._wrapped = obj;\n  }\n\n  _$1.VERSION = VERSION;\n\n  // Extracts the result from a wrapped and chained object.\n  _$1.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxies for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _$1.prototype.valueOf = _$1.prototype.toJSON = _$1.prototype.value;\n\n  _$1.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  // Internal function to wrap or shallow-copy an ArrayBuffer,\n  // typed array or DataView to a new view, reusing the buffer.\n  function toBufferView(bufferSource) {\n    return new Uint8Array(\n      bufferSource.buffer || bufferSource,\n      bufferSource.byteOffset || 0,\n      getByteLength(bufferSource)\n    );\n  }\n\n  // We use this string twice, so give it a name for minification.\n  var tagDataView = '[object DataView]';\n\n  // Internal recursive comparison function for `_.isEqual`.\n  function eq(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  }\n\n  // Internal recursive comparison function for `_.isEqual`.\n  function deepEq(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _$1) a = a._wrapped;\n    if (b instanceof _$1) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    // Work around a bug in IE 10 - Edge 13.\n    if (hasStringTagBug && className == '[object Object]' && isDataView$1(a)) {\n      if (!isDataView$1(b)) return false;\n      className = tagDataView;\n    }\n    switch (className) {\n      // These types are compared by value.\n      case '[object RegExp]':\n        // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n      case '[object ArrayBuffer]':\n      case tagDataView:\n        // Coerce to typed array so we can fall through.\n        return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays && isTypedArray$1(a)) {\n        var byteLength = getByteLength(a);\n        if (byteLength !== getByteLength(b)) return false;\n        if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n        areArrays = true;\n    }\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(isFunction$1(aCtor) && aCtor instanceof aCtor &&\n                               isFunction$1(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var _keys = keys(a), key;\n      length = _keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = _keys[length];\n        if (!(has$1(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  }\n\n  // Perform a deep comparison to check if two objects are equal.\n  function isEqual(a, b) {\n    return eq(a, b);\n  }\n\n  // Retrieve all the enumerable property names of an object.\n  function allKeys(obj) {\n    if (!isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  }\n\n  // Since the regular `Object.prototype.toString` type tests don't work for\n  // some types in IE 11, we use a fingerprinting heuristic instead, based\n  // on the methods. It's not great, but it's the best we got.\n  // The fingerprint method lists are defined below.\n  function ie11fingerprint(methods) {\n    var length = getLength(methods);\n    return function(obj) {\n      if (obj == null) return false;\n      // `Map`, `WeakMap` and `Set` have no enumerable keys.\n      var keys = allKeys(obj);\n      if (getLength(keys)) return false;\n      for (var i = 0; i < length; i++) {\n        if (!isFunction$1(obj[methods[i]])) return false;\n      }\n      // If we are testing against `WeakMap`, we need to ensure that\n      // `obj` doesn't have a `forEach` method in order to distinguish\n      // it from a regular `Map`.\n      return methods !== weakMapMethods || !isFunction$1(obj[forEachName]);\n    };\n  }\n\n  // In the interest of compact minification, we write\n  // each string in the fingerprints only once.\n  var forEachName = 'forEach',\n      hasName = 'has',\n      commonInit = ['clear', 'delete'],\n      mapTail = ['get', hasName, 'set'];\n\n  // `Map`, `WeakMap` and `Set` each have slightly different\n  // combinations of the above sublists.\n  var mapMethods = commonInit.concat(forEachName, mapTail),\n      weakMapMethods = commonInit.concat(mapTail),\n      setMethods = ['add'].concat(commonInit, forEachName, hasName);\n\n  var isMap = isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n\n  var isWeakMap = isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n\n  var isSet = isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n\n  var isWeakSet = tagTester('WeakSet');\n\n  // Retrieve the values of an object's properties.\n  function values(obj) {\n    var _keys = keys(obj);\n    var length = _keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[_keys[i]];\n    }\n    return values;\n  }\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of `_.object` with one argument.\n  function pairs(obj) {\n    var _keys = keys(obj);\n    var length = _keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [_keys[i], obj[_keys[i]]];\n    }\n    return pairs;\n  }\n\n  // Invert the keys and values of an object. The values must be serializable.\n  function invert(obj) {\n    var result = {};\n    var _keys = keys(obj);\n    for (var i = 0, length = _keys.length; i < length; i++) {\n      result[obj[_keys[i]]] = _keys[i];\n    }\n    return result;\n  }\n\n  // Return a sorted list of the function names available on the object.\n  function functions(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (isFunction$1(obj[key])) names.push(key);\n    }\n    return names.sort();\n  }\n\n  // An internal function for creating assigner functions.\n  function createAssigner(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  }\n\n  // Extend a given object with all the properties in passed-in object(s).\n  var extend = createAssigner(allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in\n  // object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  var extendOwn = createAssigner(keys);\n\n  // Fill in a given object with default properties.\n  var defaults = createAssigner(allKeys, true);\n\n  // Create a naked function reference for surrogate-prototype-swapping.\n  function ctor() {\n    return function(){};\n  }\n\n  // An internal function for creating a new object that inherits from another.\n  function baseCreate(prototype) {\n    if (!isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    var Ctor = ctor();\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  }\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  function create(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) extendOwn(result, props);\n    return result;\n  }\n\n  // Create a (shallow-cloned) duplicate of an object.\n  function clone(obj) {\n    if (!isObject(obj)) return obj;\n    return isArray(obj) ? obj.slice() : extend({}, obj);\n  }\n\n  // Invokes `interceptor` with the `obj` and then returns `obj`.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  function tap(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  }\n\n  // Normalize a (deep) property `path` to array.\n  // Like `_.iteratee`, this function can be customized.\n  function toPath$1(path) {\n    return isArray(path) ? path : [path];\n  }\n  _$1.toPath = toPath$1;\n\n  // Internal wrapper for `_.toPath` to enable minification.\n  // Similar to `cb` for `_.iteratee`.\n  function toPath(path) {\n    return _$1.toPath(path);\n  }\n\n  // Internal function to obtain a nested property in `obj` along `path`.\n  function deepGet(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  }\n\n  // Get the value of the (deep) property on `path` from `object`.\n  // If any property in `path` does not exist or if the value is\n  // `undefined`, return `defaultValue` instead.\n  // The `path` is normalized through `_.toPath`.\n  function get(object, path, defaultValue) {\n    var value = deepGet(object, toPath(path));\n    return isUndefined(value) ? defaultValue : value;\n  }\n\n  // Shortcut function for checking if an object has a given property directly on\n  // itself (in other words, not on a prototype). Unlike the internal `has`\n  // function, this public version can also traverse nested properties.\n  function has(obj, path) {\n    path = toPath(path);\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (!has$1(obj, key)) return false;\n      obj = obj[key];\n    }\n    return !!length;\n  }\n\n  // Keep the identity function around for default iteratees.\n  function identity(value) {\n    return value;\n  }\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  function matcher(attrs) {\n    attrs = extendOwn({}, attrs);\n    return function(obj) {\n      return isMatch(obj, attrs);\n    };\n  }\n\n  // Creates a function that, when passed an object, will traverse that object’s\n  // properties down the given `path`, specified as an array of keys or indices.\n  function property(path) {\n    path = toPath(path);\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  }\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  function optimizeCb(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because we’re not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  }\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result — either `_.identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  function baseIteratee(value, context, argCount) {\n    if (value == null) return identity;\n    if (isFunction$1(value)) return optimizeCb(value, context, argCount);\n    if (isObject(value) && !isArray(value)) return matcher(value);\n    return property(value);\n  }\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only `argCount` argument.\n  function iteratee(value, context) {\n    return baseIteratee(value, context, Infinity);\n  }\n  _$1.iteratee = iteratee;\n\n  // The function we call internally to generate a callback. It invokes\n  // `_.iteratee` if overridden, otherwise `baseIteratee`.\n  function cb(value, context, argCount) {\n    if (_$1.iteratee !== iteratee) return _$1.iteratee(value, context);\n    return baseIteratee(value, context, argCount);\n  }\n\n  // Returns the results of applying the `iteratee` to each element of `obj`.\n  // In contrast to `_.map` it returns an object.\n  function mapObject(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var _keys = keys(obj),\n        length = _keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  }\n\n  // Predicate-generating function. Often useful outside of Underscore.\n  function noop(){}\n\n  // Generates a function for a given object that returns a given property.\n  function propertyOf(obj) {\n    if (obj == null) return noop;\n    return function(path) {\n      return get(obj, path);\n    };\n  }\n\n  // Run a function **n** times.\n  function times(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  }\n\n  // Return a random integer between `min` and `max` (inclusive).\n  function random(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  }\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  var now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // Internal helper to generate functions for escaping and unescaping strings\n  // to/from HTML interpolation.\n  function createEscaper(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  }\n\n  // Internal list of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n\n  // Function for escaping strings to HTML interpolation.\n  var _escape = createEscaper(escapeMap);\n\n  // Internal list of HTML entities for unescaping.\n  var unescapeMap = invert(escapeMap);\n\n  // Function for unescaping strings from HTML interpolation.\n  var _unescape = createEscaper(unescapeMap);\n\n  // By default, Underscore uses ERB-style template delimiters. Change the\n  // following template settings to use alternative delimiters.\n  var templateSettings = _$1.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `_.templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  function escapeChar(match) {\n    return '\\\\' + escapes[match];\n  }\n\n  // In order to prevent third-party code injection through\n  // `_.templateSettings.variable`, we test it against the following regular\n  // expression. It is intentionally a bit more liberal than just matching valid\n  // identifiers, but still prevents possible loopholes through defaults or\n  // destructuring assignment.\n  var bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  function template(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = defaults({}, settings, _$1.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    var argument = settings.variable;\n    if (argument) {\n      // Insure against third-party code injection. (CVE-2021-23358)\n      if (!bareIdentifier.test(argument)) throw new Error(\n        'variable is not a bare identifier: ' + argument\n      );\n    } else {\n      // If a variable is not specified, place data values in local scope.\n      source = 'with(obj||{}){\\n' + source + '}\\n';\n      argument = 'obj';\n    }\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(argument, '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _$1);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  }\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  function result(obj, path, fallback) {\n    path = toPath(path);\n    var length = path.length;\n    if (!length) {\n      return isFunction$1(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = isFunction$1(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  }\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  function uniqueId(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  }\n\n  // Start chaining a wrapped Underscore object.\n  function chain(obj) {\n    var instance = _$1(obj);\n    instance._chain = true;\n    return instance;\n  }\n\n  // Internal function to execute `sourceFunc` bound to `context` with optional\n  // `args`. Determines whether to execute a function as a constructor or as a\n  // normal function.\n  function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (isObject(result)) return result;\n    return self;\n  }\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. `_` acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n  var partial = restArguments(function(func, boundArgs) {\n    var placeholder = partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  partial.placeholder = _$1;\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally).\n  var bind = restArguments(function(func, context, args) {\n    if (!isFunction$1(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Internal helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var isArrayLike = createSizePropertyCheck(getLength);\n\n  // Internal implementation of a recursive `flatten` function.\n  function flatten$1(input, depth, strict, output) {\n    output = output || [];\n    if (!depth && depth !== 0) {\n      depth = Infinity;\n    } else if (depth <= 0) {\n      return output.concat(input);\n    }\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (isArray(value) || isArguments$1(value))) {\n        // Flatten current level of array or arguments object.\n        if (depth > 1) {\n          flatten$1(value, depth - 1, strict, output);\n          idx = output.length;\n        } else {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  }\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  var bindAll = restArguments(function(obj, keys) {\n    keys = flatten$1(keys, false, false);\n    var index = keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = keys[index];\n      obj[key] = bind(obj[key], obj);\n    }\n    return obj;\n  });\n\n  // Memoize an expensive function by storing its results.\n  function memoize(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!has$1(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  }\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  var delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  var defer = partial(delay, _$1, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  function throttle(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var _now = now();\n      if (!previous && options.leading === false) previous = _now;\n      var remaining = wait - (_now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = _now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  }\n\n  // When a sequence of calls of the returned function ends, the argument\n  // function is triggered. The end of a sequence is defined by the `wait`\n  // parameter. If `immediate` is passed, the argument function will be\n  // triggered at the beginning of the sequence instead of at the end.\n  function debounce(func, wait, immediate) {\n    var timeout, previous, args, result, context;\n\n    var later = function() {\n      var passed = now() - previous;\n      if (wait > passed) {\n        timeout = setTimeout(later, wait - passed);\n      } else {\n        timeout = null;\n        if (!immediate) result = func.apply(context, args);\n        // This check is needed because `func` can recursively invoke `debounced`.\n        if (!timeout) args = context = null;\n      }\n    };\n\n    var debounced = restArguments(function(_args) {\n      context = this;\n      args = _args;\n      previous = now();\n      if (!timeout) {\n        timeout = setTimeout(later, wait);\n        if (immediate) result = func.apply(context, args);\n      }\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = args = context = null;\n    };\n\n    return debounced;\n  }\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  function wrap(func, wrapper) {\n    return partial(wrapper, func);\n  }\n\n  // Returns a negated version of the passed-in predicate.\n  function negate(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  }\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  function compose() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  }\n\n  // Returns a function that will only be executed on and after the Nth call.\n  function after(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  }\n\n  // Returns a function that will only be executed up to (but not including) the\n  // Nth call.\n  function before(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  }\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  var once = partial(before, 2);\n\n  // Returns the first key on an object that passes a truth test.\n  function findKey(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var _keys = keys(obj), key;\n    for (var i = 0, length = _keys.length; i < length; i++) {\n      key = _keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  }\n\n  // Internal function to generate `_.findIndex` and `_.findLastIndex`.\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a truth test.\n  var findIndex = createPredicateIndexFinder(1);\n\n  // Returns the last index on an array-like that passes a truth test.\n  var findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  function sortedIndex(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  }\n\n  // Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), isNaN$1);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  var indexOf = createIndexFinder(1, findIndex, sortedIndex);\n\n  // Return the position of the last occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  var lastIndexOf = createIndexFinder(-1, findLastIndex);\n\n  // Return the first value which passes a truth test.\n  function find(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  }\n\n  // Convenience version of a common use case of `_.find`: getting the first\n  // object containing specific `key:value` pairs.\n  function findWhere(obj, attrs) {\n    return find(obj, matcher(attrs));\n  }\n\n  // The cornerstone for collection functions, an `each`\n  // implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  function each(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var _keys = keys(obj);\n      for (i = 0, length = _keys.length; i < length; i++) {\n        iteratee(obj[_keys[i]], _keys[i], obj);\n      }\n    }\n    return obj;\n  }\n\n  // Return the results of applying the iteratee to each element.\n  function map(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys ? _keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  }\n\n  // Internal helper to create a reducing function, iterating left or right.\n  function createReduce(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var _keys = !isArrayLike(obj) && keys(obj),\n          length = (_keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[_keys ? _keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = _keys ? _keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  var reduce = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  var reduceRight = createReduce(-1);\n\n  // Return all the elements that pass a truth test.\n  function filter(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  }\n\n  // Return all the elements for which a truth test fails.\n  function reject(obj, predicate, context) {\n    return filter(obj, negate(cb(predicate)), context);\n  }\n\n  // Determine whether all of the elements pass a truth test.\n  function every(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys ? _keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  }\n\n  // Determine if at least one element in the object passes a truth test.\n  function some(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys ? _keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  }\n\n  // Determine if the array or object contains a given item (using `===`).\n  function contains(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return indexOf(obj, item, fromIndex) >= 0;\n  }\n\n  // Invoke a method (with arguments) on every item in a collection.\n  var invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (isFunction$1(path)) {\n      func = path;\n    } else {\n      path = toPath(path);\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `_.map`: fetching a property.\n  function pluck(obj, key) {\n    return map(obj, property(key));\n  }\n\n  // Convenience version of a common use case of `_.filter`: selecting only\n  // objects containing specific `key:value` pairs.\n  function where(obj, attrs) {\n    return filter(obj, matcher(attrs));\n  }\n\n  // Return the maximum element (or element-based computation).\n  function max(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n      obj = isArrayLike(obj) ? obj : values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || (computed === -Infinity && result === -Infinity)) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  }\n\n  // Return the minimum element (or element-based computation).\n  function min(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n      obj = isArrayLike(obj) ? obj : values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || (computed === Infinity && result === Infinity)) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  }\n\n  // Safely create a real, live array from anything iterable.\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  function toArray(obj) {\n    if (!obj) return [];\n    if (isArray(obj)) return slice.call(obj);\n    if (isString(obj)) {\n      // Keep surrogate pair characters together.\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return map(obj, identity);\n    return values(obj);\n  }\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `_.map`.\n  function sample(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = values(obj);\n      return obj[random(obj.length - 1)];\n    }\n    var sample = toArray(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  }\n\n  // Shuffle a collection.\n  function shuffle(obj) {\n    return sample(obj, Infinity);\n  }\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  function sortBy(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return pluck(map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  }\n\n  // An internal function used for aggregate \"group by\" operations.\n  function group(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  }\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  var groupBy = group(function(result, value, key) {\n    if (has$1(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n  // when you know that your index values will be unique.\n  var indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  var countBy = group(function(result, value, key) {\n    if (has$1(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Split a collection into two arrays: one whose elements all pass the given\n  // truth test, and one whose elements all do not pass the truth test.\n  var partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Return the number of elements in a collection.\n  function size(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : keys(obj).length;\n  }\n\n  // Internal `_.pick` helper function to determine whether `key` is an enumerable\n  // property name of `obj`.\n  function keyInObj(value, key, obj) {\n    return key in obj;\n  }\n\n  // Return a copy of the object only containing the allowed properties.\n  var pick = restArguments(function(obj, keys) {\n    var result = {}, iteratee = keys[0];\n    if (obj == null) return result;\n    if (isFunction$1(iteratee)) {\n      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n      keys = allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      keys = flatten$1(keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the disallowed properties.\n  var omit = restArguments(function(obj, keys) {\n    var iteratee = keys[0], context;\n    if (isFunction$1(iteratee)) {\n      iteratee = negate(iteratee);\n      if (keys.length > 1) context = keys[1];\n    } else {\n      keys = map(flatten$1(keys, false, false), String);\n      iteratee = function(value, key) {\n        return !contains(keys, key);\n      };\n    }\n    return pick(obj, iteratee, context);\n  });\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  function initial(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  }\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. The **guard** check allows it to work with `_.map`.\n  function first(array, n, guard) {\n    if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return initial(array, array.length - n);\n  }\n\n  // Returns everything but the first entry of the `array`. Especially useful on\n  // the `arguments` object. Passing an **n** will return the rest N values in the\n  // `array`.\n  function rest(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  }\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  function last(array, n, guard) {\n    if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return rest(array, Math.max(0, array.length - n));\n  }\n\n  // Trim out all falsy values from an array.\n  function compact(array) {\n    return filter(array, Boolean);\n  }\n\n  // Flatten out an array, either recursively (by default), or up to `depth`.\n  // Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\n  function flatten(array, depth) {\n    return flatten$1(array, depth, false);\n  }\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  var difference = restArguments(function(array, rest) {\n    rest = flatten$1(rest, true, true);\n    return filter(array, function(value){\n      return !contains(rest, value);\n    });\n  });\n\n  // Return a version of the array that does not contain the specified value(s).\n  var without = restArguments(function(array, otherArrays) {\n    return difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  function uniq(array, isSorted, iteratee, context) {\n    if (!isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  var union = restArguments(function(arrays) {\n    return uniq(flatten$1(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  function intersection(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  }\n\n  // Complement of zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  function unzip(array) {\n    var length = (array && max(array, getLength).length) || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = pluck(array, index);\n    }\n    return result;\n  }\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  var zip = restArguments(unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of `_.pairs`.\n  function object(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  }\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](https://docs.python.org/library/functions.html#range).\n  function range(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  }\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  function chunk(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  }\n\n  // Helper function to continue chaining intermediate results.\n  function chainResult(instance, obj) {\n    return instance._chain ? _$1(obj).chain() : obj;\n  }\n\n  // Add your own custom functions to the Underscore object.\n  function mixin(obj) {\n    each(functions(obj), function(name) {\n      var func = _$1[name] = obj[name];\n      _$1.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_$1, args));\n      };\n    });\n    return _$1;\n  }\n\n  // Add all mutator `Array` functions to the wrapper.\n  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _$1.prototype[name] = function() {\n      var obj = this._wrapped;\n      if (obj != null) {\n        method.apply(obj, arguments);\n        if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n          delete obj[0];\n        }\n      }\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor `Array` functions to the wrapper.\n  each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _$1.prototype[name] = function() {\n      var obj = this._wrapped;\n      if (obj != null) obj = method.apply(obj, arguments);\n      return chainResult(this, obj);\n    };\n  });\n\n  // Named Exports\n\n  var allExports = {\n    __proto__: null,\n    VERSION: VERSION,\n    restArguments: restArguments,\n    isObject: isObject,\n    isNull: isNull,\n    isUndefined: isUndefined,\n    isBoolean: isBoolean,\n    isElement: isElement,\n    isString: isString,\n    isNumber: isNumber,\n    isDate: isDate,\n    isRegExp: isRegExp,\n    isError: isError,\n    isSymbol: isSymbol,\n    isArrayBuffer: isArrayBuffer,\n    isDataView: isDataView$1,\n    isArray: isArray,\n    isFunction: isFunction$1,\n    isArguments: isArguments$1,\n    isFinite: isFinite$1,\n    isNaN: isNaN$1,\n    isTypedArray: isTypedArray$1,\n    isEmpty: isEmpty,\n    isMatch: isMatch,\n    isEqual: isEqual,\n    isMap: isMap,\n    isWeakMap: isWeakMap,\n    isSet: isSet,\n    isWeakSet: isWeakSet,\n    keys: keys,\n    allKeys: allKeys,\n    values: values,\n    pairs: pairs,\n    invert: invert,\n    functions: functions,\n    methods: functions,\n    extend: extend,\n    extendOwn: extendOwn,\n    assign: extendOwn,\n    defaults: defaults,\n    create: create,\n    clone: clone,\n    tap: tap,\n    get: get,\n    has: has,\n    mapObject: mapObject,\n    identity: identity,\n    constant: constant,\n    noop: noop,\n    toPath: toPath$1,\n    property: property,\n    propertyOf: propertyOf,\n    matcher: matcher,\n    matches: matcher,\n    times: times,\n    random: random,\n    now: now,\n    escape: _escape,\n    unescape: _unescape,\n    templateSettings: templateSettings,\n    template: template,\n    result: result,\n    uniqueId: uniqueId,\n    chain: chain,\n    iteratee: iteratee,\n    partial: partial,\n    bind: bind,\n    bindAll: bindAll,\n    memoize: memoize,\n    delay: delay,\n    defer: defer,\n    throttle: throttle,\n    debounce: debounce,\n    wrap: wrap,\n    negate: negate,\n    compose: compose,\n    after: after,\n    before: before,\n    once: once,\n    findKey: findKey,\n    findIndex: findIndex,\n    findLastIndex: findLastIndex,\n    sortedIndex: sortedIndex,\n    indexOf: indexOf,\n    lastIndexOf: lastIndexOf,\n    find: find,\n    detect: find,\n    findWhere: findWhere,\n    each: each,\n    forEach: each,\n    map: map,\n    collect: map,\n    reduce: reduce,\n    foldl: reduce,\n    inject: reduce,\n    reduceRight: reduceRight,\n    foldr: reduceRight,\n    filter: filter,\n    select: filter,\n    reject: reject,\n    every: every,\n    all: every,\n    some: some,\n    any: some,\n    contains: contains,\n    includes: contains,\n    include: contains,\n    invoke: invoke,\n    pluck: pluck,\n    where: where,\n    max: max,\n    min: min,\n    shuffle: shuffle,\n    sample: sample,\n    sortBy: sortBy,\n    groupBy: groupBy,\n    indexBy: indexBy,\n    countBy: countBy,\n    partition: partition,\n    toArray: toArray,\n    size: size,\n    pick: pick,\n    omit: omit,\n    first: first,\n    head: first,\n    take: first,\n    initial: initial,\n    last: last,\n    rest: rest,\n    tail: rest,\n    drop: rest,\n    compact: compact,\n    flatten: flatten,\n    without: without,\n    uniq: uniq,\n    unique: uniq,\n    union: union,\n    intersection: intersection,\n    difference: difference,\n    unzip: unzip,\n    transpose: unzip,\n    zip: zip,\n    object: object,\n    range: range,\n    chunk: chunk,\n    mixin: mixin,\n    'default': _$1\n  };\n\n  // Default Export\n\n  // Add all of the Underscore functions to the wrapper object.\n  var _ = mixin(allExports);\n  // Legacy Node.js API.\n  _._ = _;\n\n  return _;\n\n})));\n//# sourceMappingURL=underscore-umd.js.map\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst tailLength_1 = __importDefault(require(\"./tailLength\"));\nconst round_1 = __importDefault(require(\"./round\"));\nconst underscore_1 = require(\"underscore\");\nmodule.exports = function significantDimension(values, tolerance = 0.1) {\n    let result = [];\n    let decimals = 0;\n    const uniqValues = (0, underscore_1.uniq)(values.filter(underscore_1.isFinite));\n    const totalUniq = uniqValues.length;\n    let check;\n    let diff;\n    const accepted = Math.floor(totalUniq * (1 - tolerance));\n    if (uniqValues.length < 3) {\n        // special case if there are only 2 unique values\n        return Math.round(uniqValues.reduce(function (acc, cur) {\n            if (!cur)\n                return acc;\n            const exp = Math.log(Math.abs(cur)) / Math.LN10;\n            if (exp < 8 && exp > -3) {\n                // use tail length for normal numbers\n                return acc + Math.min(3, (0, tailLength_1.default)(uniqValues[0]));\n            }\n            else {\n                return acc + (exp > 0 ? (exp - 1) * -1 : exp * -1);\n            }\n        }, 0) / uniqValues.length);\n    }\n    if ((0, underscore_1.uniq)(uniqValues.map(currentRound)).length > accepted) {\n        // we seem to have enough precision, but maybe it's too much?\n        check = function () {\n            return (0, underscore_1.uniq)(result).length === totalUniq;\n        };\n        diff = -1;\n    }\n    else {\n        // if we end up here it means we're loosing too much information\n        // due to rounding, we need to increase precision\n        check = function () {\n            return (0, underscore_1.uniq)(result).length <= accepted;\n        };\n        diff = +1;\n    }\n    let maxIter = 100;\n    do {\n        result = uniqValues.map(currentRound);\n        decimals += diff;\n    } while (check() && maxIter-- > 0);\n    if (maxIter < 10) {\n        console.warn('maximum iteration reached', values, result, decimals);\n    }\n    if (diff < 0)\n        decimals += 2;\n    else\n        decimals--;\n    /* rounds to the current number of decimals */\n    function currentRound(v) {\n        return (0, round_1.default)(v, decimals);\n    }\n    return decimals;\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst significantDimension_1 = __importDefault(require(\"./significantDimension\"));\nconst round_1 = __importDefault(require(\"./round\"));\nmodule.exports = function smartRound(values, addPrecision = 0, tolerance = 0.1) {\n    let dim = (0, significantDimension_1.default)(values, tolerance);\n    dim += addPrecision;\n    return values.map(v => (0, round_1.default)(v, dim));\n};\n","\"use strict\";\nfunction clone(o) {\n    if (!o || typeof o !== 'object')\n        return o;\n    try {\n        return JSON.parse(JSON.stringify(o));\n    }\n    catch (e) {\n        return o;\n    }\n}\nmodule.exports = clone;\n","\"use strict\";\nfunction get(object, key = null, _default = null) {\n    if (!key)\n        return object;\n    const keys = Array.isArray(key) ? key : key.split('.');\n    // It is impractical to try to replicate signature types in implementation\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let pt = object;\n    for (let i = 0; i < keys.length; i++) {\n        if (pt === null || pt === undefined)\n            break; // break out of the loop\n        // move one more level in\n        pt = pt[keys[i]];\n    }\n    return pt === undefined || pt === null ? _default : pt;\n}\nmodule.exports = get;\n","export function outerHeight(element, withMargin = false) {\n    if (!element) return null;\n    let height = element.offsetHeight;\n    if (!withMargin) return height;\n    var style = getComputedStyle(element);\n    height += parseInt(style.marginTop) + parseInt(style.marginBottom);\n    return height;\n}\n\nexport function getNonChartHeight() {\n    let h = 0;\n\n    const chart = document.querySelector('.dw-chart .dw-chart-styles');\n    for (let i = 0; i < chart.children.length; i++) {\n        const el = chart.children[i];\n        const tagName = el.tagName.toLowerCase();\n        if (\n            tagName !== 'script' &&\n            tagName !== 'style' &&\n            el.id !== 'chart' &&\n            !hasClass(el, 'tooltip') &&\n            !hasClass(el, 'vg-tooltip') &&\n            !hasClass(el, 'hidden') &&\n            !hasClass(el, 'sr-only') &&\n            !hasClass(el, 'qtip') &&\n            !hasClass(el, 'container') &&\n            !hasClass(el, 'noscript') &&\n            !hasClass(el, 'hidden') &&\n            !hasClass(el, 'dw-after-body') &&\n            !hasClass(el, 'dw-chart-body')\n        ) {\n            h += Number(outerHeight(el, true));\n\n            if (hasClass(el, 'dw-chart-header')) {\n                const filter = el.querySelector('.filter-ui');\n                if (filter) h -= Number(outerHeight(filter, true));\n            }\n        }\n    }\n\n    function hasClass(el, className) {\n        return el.classList.contains(className);\n    }\n\n    function getProp(selector, property) {\n        return getComputedStyle(document.querySelector(selector))[property].replace('px', '');\n    }\n\n    const selectors = ['.dw-chart', '.dw-chart-styles', '.dw-chart-body', 'body'];\n    const properties = [\n        'padding-top',\n        'padding-bottom',\n        'margin-top',\n        'margin-bottom',\n        'border-top-width',\n        'border-bottom-width'\n    ];\n\n    selectors.forEach(function (sel) {\n        properties.forEach(function (prop) {\n            h += Number(getProp(sel, prop));\n        });\n    });\n\n    return h;\n}\n","export var TEOF = 'TEOF';\nexport var TOP = 'TOP';\nexport var TNUMBER = 'TNUMBER';\nexport var TSTRING = 'TSTRING';\nexport var TPAREN = 'TPAREN';\nexport var TBRACKET = 'TBRACKET';\nexport var TCOMMA = 'TCOMMA';\nexport var TNAME = 'TNAME';\nexport var TSEMICOLON = 'TSEMICOLON';\n\nexport function Token(type, value, index) {\n  this.type = type;\n  this.value = value;\n  this.index = index;\n}\n\nToken.prototype.toString = function () {\n  return this.type + ': ' + this.value;\n};\n","import { Token, TEOF, TOP, TNUMBER, TSTRING, TPAREN, TBRACKET, TCOMMA, TNAME, TSEMICOLON } from './token.js';\n\nexport function TokenStream(parser, expression) {\n  this.pos = 0;\n  this.current = null;\n  this.unaryOps = parser.unaryOps;\n  this.binaryOps = parser.binaryOps;\n  this.ternaryOps = parser.ternaryOps;\n  this.consts = parser.consts;\n  this.expression = expression;\n  this.savedPosition = 0;\n  this.savedCurrent = null;\n  this.options = parser.options;\n  this.parser = parser;\n}\n\nTokenStream.prototype.newToken = function (type, value, pos) {\n  return new Token(type, value, pos != null ? pos : this.pos);\n};\n\nTokenStream.prototype.save = function () {\n  this.savedPosition = this.pos;\n  this.savedCurrent = this.current;\n};\n\nTokenStream.prototype.restore = function () {\n  this.pos = this.savedPosition;\n  this.current = this.savedCurrent;\n};\n\nTokenStream.prototype.next = function () {\n  if (this.pos >= this.expression.length) {\n    return this.newToken(TEOF, 'EOF');\n  }\n\n  if (this.isWhitespace() || this.isComment()) {\n    return this.next();\n  } else if (\n    this.isRadixInteger() ||\n    this.isNumber() ||\n    this.isOperator() ||\n    this.isString() ||\n    this.isParen() ||\n    this.isBracket() ||\n    this.isComma() ||\n    this.isSemicolon() ||\n    this.isNamedOp() ||\n    this.isConst() ||\n    this.isName()\n  ) {\n    return this.current;\n  } else {\n    this.parseError('Unknown character \"' + this.expression.charAt(this.pos) + '\"');\n  }\n};\n\nTokenStream.prototype.isString = function () {\n  var r = false;\n  var startPos = this.pos;\n  var quote = this.expression.charAt(startPos);\n\n  if (quote === \"'\" || quote === '\"') {\n    var index = this.expression.indexOf(quote, startPos + 1);\n    while (index >= 0 && this.pos < this.expression.length) {\n      this.pos = index + 1;\n      if (this.expression.charAt(index - 1) !== '\\\\') {\n        var rawString = this.expression.substring(startPos + 1, index);\n        this.current = this.newToken(TSTRING, this.unescape(rawString), startPos);\n        r = true;\n        break;\n      }\n      index = this.expression.indexOf(quote, index + 1);\n    }\n  }\n  return r;\n};\n\nTokenStream.prototype.isParen = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === '(' || c === ')') {\n    this.current = this.newToken(TPAREN, c);\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isBracket = function () {\n  var c = this.expression.charAt(this.pos);\n  if ((c === '[' || c === ']') && this.isOperatorEnabled('[')) {\n    this.current = this.newToken(TBRACKET, c);\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isComma = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === ',') {\n    this.current = this.newToken(TCOMMA, ',');\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isSemicolon = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === ';') {\n    this.current = this.newToken(TSEMICOLON, ';');\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isConst = function () {\n  var startPos = this.pos;\n  var i = startPos;\n  for (; i < this.expression.length; i++) {\n    var c = this.expression.charAt(i);\n    if (c.toUpperCase() === c.toLowerCase()) {\n      if (i === this.pos || (c !== '_' && c !== '.' && (c < '0' || c > '9'))) {\n        break;\n      }\n    }\n  }\n  if (i > startPos) {\n    var str = this.expression.substring(startPos, i);\n    if (str in this.consts) {\n      this.current = this.newToken(TNUMBER, this.consts[str]);\n      this.pos += str.length;\n      return true;\n    }\n  }\n  return false;\n};\n\nTokenStream.prototype.isNamedOp = function () {\n  var startPos = this.pos;\n  var i = startPos;\n  for (; i < this.expression.length; i++) {\n    var c = this.expression.charAt(i);\n    if (c.toUpperCase() === c.toLowerCase()) {\n      if (i === this.pos || (c !== '_' && (c < '0' || c > '9'))) {\n        break;\n      }\n    }\n  }\n  if (i > startPos) {\n    var str = this.expression.substring(startPos, i);\n    if (this.isOperatorEnabled(str) && (str in this.binaryOps || str in this.unaryOps || str in this.ternaryOps)) {\n      this.current = this.newToken(TOP, str);\n      this.pos += str.length;\n      return true;\n    }\n  }\n  return false;\n};\n\nTokenStream.prototype.isName = function () {\n  var startPos = this.pos;\n  var i = startPos;\n  var hasLetter = false;\n  for (; i < this.expression.length; i++) {\n    var c = this.expression.charAt(i);\n    if (c.toUpperCase() === c.toLowerCase()) {\n      if (i === this.pos && (c === '$' || c === '_')) {\n        if (c === '_') {\n          hasLetter = true;\n        }\n        continue;\n      } else if (i === this.pos || !hasLetter || (c !== '_' && (c < '0' || c > '9'))) {\n        break;\n      }\n    } else {\n      hasLetter = true;\n    }\n  }\n  if (hasLetter) {\n    var str = this.expression.substring(startPos, i);\n    this.current = this.newToken(TNAME, str);\n    this.pos += str.length;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isWhitespace = function () {\n  var r = false;\n  var c = this.expression.charAt(this.pos);\n  while (c === ' ' || c === '\\t' || c === '\\n' || c === '\\r') {\n    r = true;\n    this.pos++;\n    if (this.pos >= this.expression.length) {\n      break;\n    }\n    c = this.expression.charAt(this.pos);\n  }\n  return r;\n};\n\nvar codePointPattern = /^[0-9a-f]{4}$/i;\n\nTokenStream.prototype.unescape = function (v) {\n  var index = v.indexOf('\\\\');\n  if (index < 0) {\n    return v;\n  }\n\n  var buffer = v.substring(0, index);\n  while (index >= 0) {\n    var c = v.charAt(++index);\n    switch (c) {\n      case \"'\":\n        buffer += \"'\";\n        break;\n      case '\"':\n        buffer += '\"';\n        break;\n      case '\\\\':\n        buffer += '\\\\';\n        break;\n      case '/':\n        buffer += '/';\n        break;\n      case 'b':\n        buffer += '\\b';\n        break;\n      case 'f':\n        buffer += '\\f';\n        break;\n      case 'n':\n        buffer += '\\n';\n        break;\n      case 'r':\n        buffer += '\\r';\n        break;\n      case 't':\n        buffer += '\\t';\n        break;\n      case 'u':\n        // interpret the following 4 characters as the hex of the unicode code point\n        var codePoint = v.substring(index + 1, index + 5);\n        if (!codePointPattern.test(codePoint)) {\n          this.parseError('Illegal escape sequence: \\\\u' + codePoint);\n        }\n        buffer += String.fromCharCode(parseInt(codePoint, 16));\n        index += 4;\n        break;\n      default:\n        throw this.parseError('Illegal escape sequence: \"\\\\' + c + '\"');\n    }\n    ++index;\n    var backslash = v.indexOf('\\\\', index);\n    buffer += v.substring(index, backslash < 0 ? v.length : backslash);\n    index = backslash;\n  }\n\n  return buffer;\n};\n\nTokenStream.prototype.isComment = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === '/' && this.expression.charAt(this.pos + 1) === '*') {\n    this.pos = this.expression.indexOf('*/', this.pos) + 2;\n    if (this.pos === 1) {\n      this.pos = this.expression.length;\n    }\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isRadixInteger = function () {\n  var pos = this.pos;\n\n  if (pos >= this.expression.length - 2 || this.expression.charAt(pos) !== '0') {\n    return false;\n  }\n  ++pos;\n\n  var radix;\n  var validDigit;\n  if (this.expression.charAt(pos) === 'x') {\n    radix = 16;\n    validDigit = /^[0-9a-f]$/i;\n    ++pos;\n  } else if (this.expression.charAt(pos) === 'b') {\n    radix = 2;\n    validDigit = /^[01]$/i;\n    ++pos;\n  } else {\n    return false;\n  }\n\n  var valid = false;\n  var startPos = pos;\n\n  while (pos < this.expression.length) {\n    var c = this.expression.charAt(pos);\n    if (validDigit.test(c)) {\n      pos++;\n      valid = true;\n    } else {\n      break;\n    }\n  }\n\n  if (valid) {\n    this.current = this.newToken(TNUMBER, parseInt(this.expression.substring(startPos, pos), radix));\n    this.pos = pos;\n  }\n  return valid;\n};\n\nTokenStream.prototype.isNumber = function () {\n  var valid = false;\n  var pos = this.pos;\n  var startPos = pos;\n  var resetPos = pos;\n  var foundDot = false;\n  var foundDigits = false;\n  var c;\n\n  while (pos < this.expression.length) {\n    c = this.expression.charAt(pos);\n    if ((c >= '0' && c <= '9') || (!foundDot && c === '.')) {\n      if (c === '.') {\n        foundDot = true;\n      } else {\n        foundDigits = true;\n      }\n      pos++;\n      valid = foundDigits;\n    } else {\n      break;\n    }\n  }\n\n  if (valid) {\n    resetPos = pos;\n  }\n\n  if (c === 'e' || c === 'E') {\n    pos++;\n    var acceptSign = true;\n    var validExponent = false;\n    while (pos < this.expression.length) {\n      c = this.expression.charAt(pos);\n      if (acceptSign && (c === '+' || c === '-')) {\n        acceptSign = false;\n      } else if (c >= '0' && c <= '9') {\n        validExponent = true;\n        acceptSign = false;\n      } else {\n        break;\n      }\n      pos++;\n    }\n\n    if (!validExponent) {\n      pos = resetPos;\n    }\n  }\n\n  if (valid) {\n    this.current = this.newToken(TNUMBER, parseFloat(this.expression.substring(startPos, pos)));\n    this.pos = pos;\n  } else {\n    this.pos = resetPos;\n  }\n  return valid;\n};\n\nTokenStream.prototype.isOperator = function () {\n  var startPos = this.pos;\n  var c = this.expression.charAt(this.pos);\n\n  if (c === '+' || c === '-' || c === '*' || c === '/' || c === '%' || c === '^' || c === '?' || c === ':' || c === '.') {\n    this.current = this.newToken(TOP, c);\n  } else if (c === '∙' || c === '•') {\n    this.current = this.newToken(TOP, '*');\n  } else if (c === '>') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '>=');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, '>');\n    }\n  } else if (c === '<') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '<=');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, '<');\n    }\n  } else if (c === '|') {\n    if (this.expression.charAt(this.pos + 1) === '|') {\n      this.current = this.newToken(TOP, '||');\n      this.pos++;\n    } else {\n      return false;\n    }\n  } else if (c === '=') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '==');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, c);\n    }\n  } else if (c === '!') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '!=');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, c);\n    }\n  } else {\n    return false;\n  }\n  this.pos++;\n\n  if (this.isOperatorEnabled(this.current.value)) {\n    return true;\n  } else {\n    this.pos = startPos;\n    return false;\n  }\n};\n\nTokenStream.prototype.isOperatorEnabled = function (op) {\n  return this.parser.isOperatorEnabled(op);\n};\n\nTokenStream.prototype.getCoordinates = function () {\n  var line = 0;\n  var column;\n  var newline = -1;\n  do {\n    line++;\n    column = this.pos - newline;\n    newline = this.expression.indexOf('\\n', newline + 1);\n  } while (newline >= 0 && newline < this.pos);\n\n  return {\n    line: line,\n    column: column\n  };\n};\n\nTokenStream.prototype.parseError = function (msg) {\n  var coords = this.getCoordinates();\n  throw new Error('parse error [' + coords.line + ':' + coords.column + ']: ' + msg);\n};\n","export var INUMBER = 'INUMBER';\nexport var IOP1 = 'IOP1';\nexport var IOP2 = 'IOP2';\nexport var IOP3 = 'IOP3';\nexport var IVAR = 'IVAR';\nexport var IVARNAME = 'IVARNAME';\nexport var IFUNCALL = 'IFUNCALL';\nexport var IFUNDEF = 'IFUNDEF';\nexport var IEXPR = 'IEXPR';\nexport var IEXPREVAL = 'IEXPREVAL';\nexport var IMEMBER = 'IMEMBER';\nexport var IENDSTATEMENT = 'IENDSTATEMENT';\nexport var IARRAY = 'IARRAY';\n\nexport function Instruction(type, value) {\n  this.type = type;\n  this.value = value !== undefined && value !== null ? value : 0;\n}\n\nInstruction.prototype.toString = function () {\n  switch (this.type) {\n    case INUMBER:\n    case IOP1:\n    case IOP2:\n    case IOP3:\n    case IVAR:\n    case IVARNAME:\n    case IENDSTATEMENT:\n      return this.value;\n    case IFUNCALL:\n      return 'CALL ' + this.value;\n    case IFUNDEF:\n      return 'DEF ' + this.value;\n    case IARRAY:\n      return 'ARRAY ' + this.value;\n    case IMEMBER:\n      return '.' + this.value;\n    default:\n      return 'Invalid Instruction';\n  }\n};\n\nexport function unaryInstruction(value) {\n  return new Instruction(IOP1, value);\n}\n\nexport function binaryInstruction(value) {\n  return new Instruction(IOP2, value);\n}\n\nexport function ternaryInstruction(value) {\n  return new Instruction(IOP3, value);\n}\n","import { TOP, TNUMBER, TSTRING, TPAREN, TBRACKET, TCOMMA, TNAME, TSEMICOLON, TEOF } from './token.js';\nimport { Instruction, INUMBER, IVAR, IVARNAME, IFUNCALL, IFUNDEF, IEXPR, IMEMBER, IENDSTATEMENT, IARRAY, ternaryInstruction, binaryInstruction, unaryInstruction } from './instruction.js';\nimport contains from './contains.js';\n\nexport function ParserState(parser, tokenStream, options) {\n  this.parser = parser;\n  this.tokens = tokenStream;\n  this.current = null;\n  this.nextToken = null;\n  this.next();\n  this.savedCurrent = null;\n  this.savedNextToken = null;\n  this.allowMemberAccess = options.allowMemberAccess !== false;\n  this.restrictMemberAccess = new Set(options.restrictMemberAccess || []);\n}\n\nParserState.prototype.next = function () {\n  this.current = this.nextToken;\n  return (this.nextToken = this.tokens.next());\n};\n\nParserState.prototype.tokenMatches = function (token, value) {\n  if (typeof value === 'undefined') {\n    return true;\n  } else if (Array.isArray(value)) {\n    return contains(value, token.value);\n  } else if (typeof value === 'function') {\n    return value(token);\n  } else {\n    return token.value === value;\n  }\n};\n\nParserState.prototype.save = function () {\n  this.savedCurrent = this.current;\n  this.savedNextToken = this.nextToken;\n  this.tokens.save();\n};\n\nParserState.prototype.restore = function () {\n  this.tokens.restore();\n  this.current = this.savedCurrent;\n  this.nextToken = this.savedNextToken;\n};\n\nParserState.prototype.accept = function (type, value) {\n  if (this.nextToken.type === type && this.tokenMatches(this.nextToken, value)) {\n    this.next();\n    return true;\n  }\n  return false;\n};\n\nParserState.prototype.expect = function (type, value) {\n  if (!this.accept(type, value)) {\n    var coords = this.tokens.getCoordinates();\n    throw new Error('parse error [' + coords.line + ':' + coords.column + ']: Expected ' + (value || type));\n  }\n};\n\nParserState.prototype.parseAtom = function (instr) {\n  var unaryOps = this.tokens.unaryOps;\n  function isPrefixOperator(token) {\n    return token.value in unaryOps;\n  }\n\n  if (this.accept(TNAME) || this.accept(TOP, isPrefixOperator)) {\n    instr.push(new Instruction(IVAR, this.current.value));\n  } else if (this.accept(TNUMBER)) {\n    instr.push(new Instruction(INUMBER, this.current.value));\n  } else if (this.accept(TSTRING)) {\n    instr.push(new Instruction(INUMBER, this.current.value));\n  } else if (this.accept(TPAREN, '(')) {\n    this.parseExpression(instr);\n    this.expect(TPAREN, ')');\n  } else if (this.accept(TBRACKET, '[')) {\n    if (this.accept(TBRACKET, ']')) {\n      instr.push(new Instruction(IARRAY, 0));\n    } else {\n      var argCount = this.parseArrayList(instr);\n      instr.push(new Instruction(IARRAY, argCount));\n    }\n  } else {\n    throw new Error('unexpected ' + this.nextToken);\n  }\n};\n\nParserState.prototype.parseExpression = function (instr) {\n  var exprInstr = [];\n  if (this.parseUntilEndStatement(instr, exprInstr)) {\n    return;\n  }\n  this.parseVariableAssignmentExpression(exprInstr);\n  if (this.parseUntilEndStatement(instr, exprInstr)) {\n    return;\n  }\n  this.pushExpression(instr, exprInstr);\n};\n\nParserState.prototype.pushExpression = function (instr, exprInstr) {\n  for (var i = 0, len = exprInstr.length; i < len; i++) {\n    instr.push(exprInstr[i]);\n  }\n};\n\nParserState.prototype.parseUntilEndStatement = function (instr, exprInstr) {\n  if (!this.accept(TSEMICOLON)) return false;\n  if (this.nextToken && this.nextToken.type !== TEOF && !(this.nextToken.type === TPAREN && this.nextToken.value === ')')) {\n    exprInstr.push(new Instruction(IENDSTATEMENT));\n  }\n  if (this.nextToken.type !== TEOF) {\n    this.parseExpression(exprInstr);\n  }\n  instr.push(new Instruction(IEXPR, exprInstr));\n  return true;\n};\n\nParserState.prototype.parseArrayList = function (instr) {\n  var argCount = 0;\n\n  while (!this.accept(TBRACKET, ']')) {\n    this.parseExpression(instr);\n    ++argCount;\n    while (this.accept(TCOMMA)) {\n      this.parseExpression(instr);\n      ++argCount;\n    }\n  }\n\n  return argCount;\n};\n\nParserState.prototype.parseVariableAssignmentExpression = function (instr) {\n  this.parseConditionalExpression(instr);\n  while (this.accept(TOP, '=')) {\n    var varName = instr.pop();\n    var varValue = [];\n    var lastInstrIndex = instr.length - 1;\n    if (varName.type === IFUNCALL) {\n      if (!this.tokens.isOperatorEnabled('()=')) {\n        throw new Error('function definition is not permitted');\n      }\n      for (var i = 0, len = varName.value + 1; i < len; i++) {\n        var index = lastInstrIndex - i;\n        if (instr[index].type === IVAR) {\n          instr[index] = new Instruction(IVARNAME, instr[index].value);\n        }\n      }\n      this.parseVariableAssignmentExpression(varValue);\n      instr.push(new Instruction(IEXPR, varValue));\n      instr.push(new Instruction(IFUNDEF, varName.value));\n      continue;\n    }\n    if (varName.type !== IVAR && varName.type !== IMEMBER) {\n      throw new Error('expected variable for assignment');\n    }\n    this.parseVariableAssignmentExpression(varValue);\n    instr.push(new Instruction(IVARNAME, varName.value));\n    instr.push(new Instruction(IEXPR, varValue));\n    instr.push(binaryInstruction('='));\n  }\n};\n\nParserState.prototype.parseConditionalExpression = function (instr) {\n  this.parseOrExpression(instr);\n  while (this.accept(TOP, '?')) {\n    var trueBranch = [];\n    var falseBranch = [];\n    this.parseConditionalExpression(trueBranch);\n    this.expect(TOP, ':');\n    this.parseConditionalExpression(falseBranch);\n    instr.push(new Instruction(IEXPR, trueBranch));\n    instr.push(new Instruction(IEXPR, falseBranch));\n    instr.push(ternaryInstruction('?'));\n  }\n};\n\nParserState.prototype.parseOrExpression = function (instr) {\n  this.parseAndExpression(instr);\n  while (this.accept(TOP, 'or')) {\n    var falseBranch = [];\n    this.parseAndExpression(falseBranch);\n    instr.push(new Instruction(IEXPR, falseBranch));\n    instr.push(binaryInstruction('or'));\n  }\n};\n\nParserState.prototype.parseAndExpression = function (instr) {\n  this.parseComparison(instr);\n  while (this.accept(TOP, 'and')) {\n    var trueBranch = [];\n    this.parseComparison(trueBranch);\n    instr.push(new Instruction(IEXPR, trueBranch));\n    instr.push(binaryInstruction('and'));\n  }\n};\n\nvar COMPARISON_OPERATORS = ['==', '!=', '<', '<=', '>=', '>', 'in'];\n\nParserState.prototype.parseComparison = function (instr) {\n  this.parseAddSub(instr);\n  while (this.accept(TOP, COMPARISON_OPERATORS)) {\n    var op = this.current;\n    this.parseAddSub(instr);\n    instr.push(binaryInstruction(op.value));\n  }\n};\n\nvar ADD_SUB_OPERATORS = ['+', '-', '||'];\n\nParserState.prototype.parseAddSub = function (instr) {\n  this.parseTerm(instr);\n  while (this.accept(TOP, ADD_SUB_OPERATORS)) {\n    var op = this.current;\n    this.parseTerm(instr);\n    instr.push(binaryInstruction(op.value));\n  }\n};\n\nvar TERM_OPERATORS = ['*', '/', '%'];\n\nParserState.prototype.parseTerm = function (instr) {\n  this.parseFactor(instr);\n  while (this.accept(TOP, TERM_OPERATORS)) {\n    var op = this.current;\n    this.parseFactor(instr);\n    instr.push(binaryInstruction(op.value));\n  }\n};\n\nParserState.prototype.parseFactor = function (instr) {\n  var unaryOps = this.tokens.unaryOps;\n  function isPrefixOperator(token) {\n    return token.value in unaryOps;\n  }\n\n  this.save();\n  if (this.accept(TOP, isPrefixOperator)) {\n    if (this.current.value !== '-' && this.current.value !== '+') {\n      if (this.nextToken.type === TPAREN && this.nextToken.value === '(') {\n        this.restore();\n        this.parseExponential(instr);\n        return;\n      } else if (this.nextToken.type === TSEMICOLON || this.nextToken.type === TCOMMA || this.nextToken.type === TEOF || (this.nextToken.type === TPAREN && this.nextToken.value === ')')) {\n        this.restore();\n        this.parseAtom(instr);\n        return;\n      }\n    }\n\n    var op = this.current;\n    this.parseFactor(instr);\n    instr.push(unaryInstruction(op.value));\n  } else {\n    this.parseExponential(instr);\n  }\n};\n\nParserState.prototype.parseExponential = function (instr) {\n  this.parsePostfixExpression(instr);\n  while (this.accept(TOP, '^')) {\n    this.parseFactor(instr);\n    instr.push(binaryInstruction('^'));\n  }\n};\n\nParserState.prototype.parsePostfixExpression = function (instr) {\n  this.parseFunctionCall(instr);\n  while (this.accept(TOP, '!')) {\n    instr.push(unaryInstruction('!'));\n  }\n};\n\nParserState.prototype.parseFunctionCall = function (instr) {\n  var unaryOps = this.tokens.unaryOps;\n  function isPrefixOperator(token) {\n    return token.value in unaryOps;\n  }\n\n  if (this.accept(TOP, isPrefixOperator)) {\n    var op = this.current;\n    this.parseAtom(instr);\n    instr.push(unaryInstruction(op.value));\n  } else {\n    this.parseMemberExpression(instr);\n    while (this.accept(TPAREN, '(')) {\n      if (this.accept(TPAREN, ')')) {\n        instr.push(new Instruction(IFUNCALL, 0));\n      } else {\n        var argCount = this.parseArgumentList(instr);\n        instr.push(new Instruction(IFUNCALL, argCount));\n      }\n    }\n  }\n};\n\nParserState.prototype.parseArgumentList = function (instr) {\n  var argCount = 0;\n\n  while (!this.accept(TPAREN, ')')) {\n    this.parseExpression(instr);\n    ++argCount;\n    while (this.accept(TCOMMA)) {\n      this.parseExpression(instr);\n      ++argCount;\n    }\n  }\n\n  return argCount;\n};\n\nParserState.prototype.parseMemberExpression = function (instr) {\n  this.parseAtom(instr);\n  while (this.accept(TOP, '.') || this.accept(TBRACKET, '[')) {\n    var op = this.current;\n\n    if (op.value === '.') {\n      if (!this.allowMemberAccess) {\n        throw new Error('unexpected \".\", member access is not permitted');\n      }\n      if (this.restrictMemberAccess.has(this.nextToken.value)) {\n        throw new Error('access to member \"'+this.nextToken.value+'\" is not permitted');\n      }\n\n      this.expect(TNAME);\n      instr.push(new Instruction(IMEMBER, this.current.value));\n    } else if (op.value === '[') {\n      if (!this.tokens.isOperatorEnabled('[')) {\n        throw new Error('unexpected \"[]\", arrays are disabled');\n      }\n\n      this.parseExpression(instr);\n      this.expect(TBRACKET, ']');\n      instr.push(binaryInstruction('['));\n    } else {\n      throw new Error('unexpected symbol: ' + op.value);\n    }\n  }\n};\n","export default function contains(array, obj) {\n  for (var i = 0; i < array.length; i++) {\n    if (array[i] === obj) {\n      return true;\n    }\n  }\n  return false;\n}\n","import contains from './contains.js';\n\nexport function add(a, b) {\n  return Number(a) + Number(b);\n}\n\nexport function sub(a, b) {\n  return a - b;\n}\n\nexport function mul(a, b) {\n  return a * b;\n}\n\nexport function div(a, b) {\n  return a / b;\n}\n\nexport function mod(a, b) {\n  return a % b;\n}\n\nexport function concat(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return a.concat(b);\n  }\n  return '' + a + b;\n}\n\nexport function equal(a, b) {\n  return a === b;\n}\n\nexport function notEqual(a, b) {\n  return a !== b;\n}\n\nexport function greaterThan(a, b) {\n  return a > b;\n}\n\nexport function lessThan(a, b) {\n  return a < b;\n}\n\nexport function greaterThanEqual(a, b) {\n  return a >= b;\n}\n\nexport function lessThanEqual(a, b) {\n  return a <= b;\n}\n\nexport function andOperator(a, b) {\n  return Boolean(a && b);\n}\n\nexport function orOperator(a, b) {\n  return Boolean(a || b);\n}\n\nexport function inOperator(a, b) {\n  return contains(b, a);\n}\n\nexport function sinh(a) {\n  return (Math.exp(a) - Math.exp(-a)) / 2;\n}\n\nexport function cosh(a) {\n  return (Math.exp(a) + Math.exp(-a)) / 2;\n}\n\nexport function tanh(a) {\n  if (a === Infinity) return 1;\n  if (a === -Infinity) return -1;\n  return (Math.exp(a) - Math.exp(-a)) / (Math.exp(a) + Math.exp(-a));\n}\n\nexport function asinh(a) {\n  if (a === -Infinity) return a;\n  return Math.log(a + Math.sqrt(a * a + 1));\n}\n\nexport function acosh(a) {\n  return Math.log(a + Math.sqrt(a * a - 1));\n}\n\nexport function atanh(a) {\n  return Math.log((1 + a) / (1 - a)) / 2;\n}\n\nexport function log10(a) {\n  return Math.log(a) * Math.LOG10E;\n}\n\nexport function neg(a) {\n  return -a;\n}\n\nexport function not(a) {\n  return !a;\n}\n\nexport function trunc(a) {\n  return a < 0 ? Math.ceil(a) : Math.floor(a);\n}\n\nexport function random(a) {\n  return Math.random() * (a || 1);\n}\n\nexport function factorial(a) {\n  // a!\n  return gamma(a + 1);\n}\n\nfunction isInteger(value) {\n  return isFinite(value) && value === Math.round(value);\n}\n\nvar GAMMA_G = 4.7421875;\nvar GAMMA_P = [\n  0.99999999999999709182, 57.156235665862923517, -59.597960355475491248, 14.136097974741747174, -0.49191381609762019978, 0.33994649984811888699e-4, 0.46523628927048575665e-4,\n  -0.98374475304879564677e-4, 0.15808870322491248884e-3, -0.21026444172410488319e-3, 0.2174396181152126432e-3, -0.16431810653676389022e-3, 0.84418223983852743293e-4, -0.2619083840158140867e-4,\n  0.36899182659531622704e-5\n];\n\n// Gamma function from math.js\nexport function gamma(n) {\n  var t, x;\n\n  if (isInteger(n)) {\n    if (n <= 0) {\n      return isFinite(n) ? Infinity : NaN;\n    }\n\n    if (n > 171) {\n      return Infinity; // Will overflow\n    }\n\n    var value = n - 2;\n    var res = n - 1;\n    while (value > 1) {\n      res *= value;\n      value--;\n    }\n\n    if (res === 0) {\n      res = 1; // 0! is per definition 1\n    }\n\n    return res;\n  }\n\n  if (n < 0.5) {\n    return Math.PI / (Math.sin(Math.PI * n) * gamma(1 - n));\n  }\n\n  if (n >= 171.35) {\n    return Infinity; // will overflow\n  }\n\n  if (n > 85.0) {\n    // Extended Stirling Approx\n    var twoN = n * n;\n    var threeN = twoN * n;\n    var fourN = threeN * n;\n    var fiveN = fourN * n;\n    return (\n      Math.sqrt((2 * Math.PI) / n) *\n      Math.pow(n / Math.E, n) *\n      (1 + 1 / (12 * n) + 1 / (288 * twoN) - 139 / (51840 * threeN) - 571 / (2488320 * fourN) + 163879 / (209018880 * fiveN) + 5246819 / (75246796800 * fiveN * n))\n    );\n  }\n\n  --n;\n  x = GAMMA_P[0];\n  for (var i = 1; i < GAMMA_P.length; ++i) {\n    x += GAMMA_P[i] / (n + i);\n  }\n\n  t = n + GAMMA_G + 0.5;\n  return Math.sqrt(2 * Math.PI) * Math.pow(t, n + 0.5) * Math.exp(-t) * x;\n}\n\nexport function stringOrArrayLength(s) {\n  if (Array.isArray(s)) {\n    return s.length;\n  }\n  return String(s).length;\n}\n\nexport function hypot() {\n  var sum = 0;\n  var larg = 0;\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = Math.abs(arguments[i]);\n    var div;\n    if (larg < arg) {\n      div = larg / arg;\n      sum = sum * div * div + 1;\n      larg = arg;\n    } else if (arg > 0) {\n      div = arg / larg;\n      sum += div * div;\n    } else {\n      sum += arg;\n    }\n  }\n  return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n}\n\nexport function condition(cond, yep, nope) {\n  return cond ? yep : nope;\n}\n\n/**\n * Decimal adjustment of a number.\n * From @escopecz.\n *\n * @param {Number} value The number.\n * @param {Integer} exp  The exponent (the 10 logarithm of the adjustment base).\n * @return {Number} The adjusted value.\n */\nexport function roundTo(value, exp) {\n  // If the exp is undefined or zero...\n  if (typeof exp === 'undefined' || +exp === 0) {\n    return Math.round(value);\n  }\n  value = +value;\n  exp = -+exp;\n  // If the value is not a number or the exp is not an integer...\n  if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n    return NaN;\n  }\n  // Shift\n  value = value.toString().split('e');\n  value = Math.round(+(value[0] + 'e' + (value[1] ? +value[1] - exp : -exp)));\n  // Shift back\n  value = value.toString().split('e');\n  return +(value[0] + 'e' + (value[1] ? +value[1] + exp : exp));\n}\n\nexport function setVar(name, value, variables) {\n  if (variables) variables[name] = value;\n  return value;\n}\n\nexport function arrayIndex(array, index) {\n  return array[index | 0];\n}\n\nexport function max(array) {\n  if (arguments.length === 1 && Array.isArray(array)) {\n    return Math.max.apply(Math, array);\n  } else {\n    return Math.max.apply(Math, arguments);\n  }\n}\n\nexport function min(array) {\n  if (arguments.length === 1 && Array.isArray(array)) {\n    return Math.min.apply(Math, array);\n  } else {\n    return Math.min.apply(Math, arguments);\n  }\n}\n\nexport function arrayMap(f, a) {\n  if (typeof f !== 'function') {\n    throw new Error('First argument to map is not a function');\n  }\n  if (!Array.isArray(a)) {\n    throw new Error('Second argument to map is not an array');\n  }\n  return a.map(function (x, i) {\n    return f(x, i);\n  });\n}\n\nexport function arrayFold(f, init, a) {\n  if (typeof f !== 'function') {\n    throw new Error('First argument to fold is not a function');\n  }\n  if (!Array.isArray(a)) {\n    throw new Error('Second argument to fold is not an array');\n  }\n  return a.reduce(function (acc, x, i) {\n    return f(acc, x, i);\n  }, init);\n}\n\nexport function arrayFilter(f, a) {\n  if (typeof f !== 'function') {\n    throw new Error('First argument to filter is not a function');\n  }\n  if (!Array.isArray(a)) {\n    throw new Error('Second argument to filter is not an array');\n  }\n  return a.filter(function (x, i) {\n    return f(x, i);\n  });\n}\n\nexport function stringOrArrayIndexOf(target, s) {\n  if (!(Array.isArray(s) || typeof s === 'string')) {\n    throw new Error('Second argument to indexOf is not a string or array');\n  }\n\n  return s.indexOf(target);\n}\n\nexport function arrayJoin(sep, a) {\n  if (!Array.isArray(a)) {\n    throw new Error('Second argument to join is not an array');\n  }\n\n  return a.join(sep);\n}\n\nexport function sign(x) {\n  return (x > 0) - (x < 0) || +x;\n}\n\nvar ONE_THIRD = 1 / 3;\nexport function cbrt(x) {\n  return x < 0 ? -Math.pow(-x, ONE_THIRD) : Math.pow(x, ONE_THIRD);\n}\n\nexport function expm1(x) {\n  return Math.exp(x) - 1;\n}\n\nexport function log1p(x) {\n  return Math.log(1 + x);\n}\n\nexport function log2(x) {\n  return Math.log(x) / Math.LN2;\n}\n\nexport function sum(array) {\n  if (!Array.isArray(array)) {\n    throw new Error('Sum argument is not an array');\n  }\n\n  return array.reduce(function (total, value) {\n    return total + Number(value);\n  }, 0);\n}\n","import { INUMBER, IOP1, IOP2, IOP3, IVAR, IVARNAME, IFUNCALL, IFUNDEF, IEXPR, IEXPREVAL, IMEMBER, IENDSTATEMENT, IARRAY } from './instruction.js';\n\nexport default function evaluate(tokens, expr, values) {\n  var nstack = [];\n  var n1, n2, n3;\n  var f, args, argCount;\n\n  if (isExpressionEvaluator(tokens)) {\n    return resolveExpression(tokens, values);\n  }\n\n  var numTokens = tokens.length;\n\n  for (var i = 0; i < numTokens; i++) {\n    var item = tokens[i];\n    var type = item.type;\n    if (type === INUMBER || type === IVARNAME) {\n      nstack.push(item.value);\n    } else if (type === IOP2) {\n      n2 = nstack.pop();\n      n1 = nstack.pop();\n      if (item.value === 'and') {\n        nstack.push(n1 ? !!evaluate(n2, expr, values) : false);\n      } else if (item.value === 'or') {\n        nstack.push(n1 ? true : !!evaluate(n2, expr, values));\n      } else if (item.value === '=') {\n        f = expr.binaryOps[item.value];\n        nstack.push(f(n1, evaluate(n2, expr, values), values));\n      } else {\n        f = expr.binaryOps[item.value];\n        nstack.push(f(resolveExpression(n1, values), resolveExpression(n2, values)));\n      }\n    } else if (type === IOP3) {\n      n3 = nstack.pop();\n      n2 = nstack.pop();\n      n1 = nstack.pop();\n      if (item.value === '?') {\n        nstack.push(evaluate(n1 ? n2 : n3, expr, values));\n      } else {\n        f = expr.ternaryOps[item.value];\n        nstack.push(f(resolveExpression(n1, values), resolveExpression(n2, values), resolveExpression(n3, values)));\n      }\n    } else if (type === IVAR) {\n      if (/^__proto__|prototype|constructor$/.test(item.value)) {\n        throw new Error('prototype access detected');\n      }\n      if (item.value in expr.functions) {\n        nstack.push(expr.functions[item.value]);\n      } else if (item.value in expr.unaryOps && expr.parser.isOperatorEnabled(item.value)) {\n        nstack.push(expr.unaryOps[item.value]);\n      } else {\n        var v = values[item.value];\n        if (v !== undefined) {\n          nstack.push(v);\n        } else {\n          throw new Error('undefined variable: ' + item.value);\n        }\n      }\n    } else if (type === IOP1) {\n      n1 = nstack.pop();\n      f = expr.unaryOps[item.value];\n      nstack.push(f(resolveExpression(n1, values)));\n    } else if (type === IFUNCALL) {\n      argCount = item.value;\n      args = [];\n      while (argCount-- > 0) {\n        args.unshift(resolveExpression(nstack.pop(), values));\n      }\n      f = nstack.pop();\n      if (f.apply && f.call) {\n        nstack.push(f.apply(undefined, args));\n      } else {\n        throw new Error(f + ' is not a function');\n      }\n    } else if (type === IFUNDEF) {\n      // Create closure to keep references to arguments and expression\n      nstack.push(\n        (function () {\n          var n2 = nstack.pop();\n          var args = [];\n          var argCount = item.value;\n          while (argCount-- > 0) {\n            args.unshift(nstack.pop());\n          }\n          var n1 = nstack.pop();\n          var f = function () {\n            var scope = Object.assign({}, values);\n            for (var i = 0, len = args.length; i < len; i++) {\n              scope[args[i]] = arguments[i];\n            }\n            return evaluate(n2, expr, scope);\n          };\n          // f.name = n1\n          Object.defineProperty(f, 'name', {\n            value: n1,\n            writable: false\n          });\n          values[n1] = f;\n          return f;\n        })()\n      );\n    } else if (type === IEXPR) {\n      nstack.push(createExpressionEvaluator(item, expr, values));\n    } else if (type === IEXPREVAL) {\n      nstack.push(item);\n    } else if (type === IMEMBER) {\n      n1 = nstack.pop();\n      nstack.push(n1[item.value]);\n    } else if (type === IENDSTATEMENT) {\n      nstack.pop();\n    } else if (type === IARRAY) {\n      argCount = item.value;\n      args = [];\n      while (argCount-- > 0) {\n        args.unshift(nstack.pop());\n      }\n      nstack.push(args);\n    } else {\n      throw new Error('invalid Expression');\n    }\n  }\n  if (nstack.length > 1) {\n    throw new Error('invalid Expression (parity)');\n  }\n  // Explicitly return zero to avoid test issues caused by -0\n  return nstack[0] === 0 ? 0 : resolveExpression(nstack[0], values);\n}\n\nfunction createExpressionEvaluator(token, expr, values) {\n  if (isExpressionEvaluator(token)) return token;\n  return {\n    type: IEXPREVAL,\n    value: function (scope) {\n      return evaluate(token.value, expr, scope);\n    }\n  };\n}\n\nfunction isExpressionEvaluator(n) {\n  return n && n.type === IEXPREVAL;\n}\n\nfunction resolveExpression(n, values) {\n  return isExpressionEvaluator(n) ? n.value(values) : n;\n}\n","import { TEOF } from '@datawrapper/expr-eval/src/token.js';\nimport { TokenStream } from '@datawrapper/expr-eval/src/token-stream.js';\nimport { ParserState } from '@datawrapper/expr-eval/src/parser-state.js';\nimport {\n    add,\n    sub,\n    mul,\n    div,\n    mod,\n    equal,\n    notEqual,\n    greaterThan,\n    lessThan,\n    greaterThanEqual,\n    lessThanEqual,\n    andOperator,\n    orOperator,\n    // inOperator,\n    // sinh,\n    // cosh,\n    // tanh,\n    // asinh,\n    // acosh,\n    // atanh,\n    log10,\n    neg,\n    not,\n    trunc,\n    random,\n    // factorial,\n    // gamma,\n    stringOrArrayLength,\n    // hypot,\n    condition,\n    roundTo,\n    // setVar,\n    arrayIndex,\n    max,\n    min,\n    sum,\n    arrayMap,\n    arrayFold,\n    arrayFilter,\n    // stringOrArrayIndexOf,\n    // arrayJoin,\n    sign,\n    // cbrt,\n    // expm1,\n    log1p,\n    log2\n} from '@datawrapper/expr-eval/src/functions.js';\n\n// expression\nimport evaluate from '@datawrapper/expr-eval/src/evaluate.js';\n\nfunction Expression(tokens, parser) {\n    this.tokens = tokens;\n    this.parser = parser;\n    this.unaryOps = parser.unaryOps;\n    this.binaryOps = parser.binaryOps;\n    this.ternaryOps = parser.ternaryOps;\n    this.functions = parser.functions;\n}\n\nExpression.prototype.evaluate = function (values) {\n    values = values || {};\n    return evaluate(this.tokens, this, values);\n};\n\nExpression.prototype.variables = function () {\n    return (this.tokens || []).filter(token => token.type === 'IVAR').map(token => token.value);\n};\n\nfunction trim(s) {\n    return s.trim();\n}\n\nconst RESTRICT_MEMBER_ACCESS = new Set(['__proto__', 'prototype', 'constructor']);\n\n// parser\nexport function Parser(options) {\n    this.options = options || {};\n    this.unaryOps = {\n        /**\n         * Sine (trigonometric function)\n         *\n         * @method SIN\n         * @returns {number}\n         * @example\n         * SIN PI\n         * SIN(PI)\n         */\n        SIN: Math.sin,\n        /**\n         * Cosine (trigonometric function)\n         *\n         * @method COS\n         * @returns {number}\n         * @example\n         * COS PI\n         * COS(PI)\n         */\n        COS: Math.cos,\n        /**\n         * Tangent (trigonometric function)\n         *\n         * @method TAN\n         * @returns {number}\n         * @example\n         * TAN PI\n         * TAN(PI)\n         */\n        TAN: Math.tan,\n        /**\n         * Arcus sine (inverse tigonometric function)\n         *\n         * @method ASIN\n         * @returns {number}\n         */\n        ASIN: Math.asin,\n        /**\n         * Arcus cosine (inverse trigonometric function)\n         *\n         * @method ACOS\n         * @returns {number}\n         */\n        ACOS: Math.acos,\n        /**\n         * Arcus tangent (inverse trigonometric function)\n         *\n         * @method ATAN\n         * @returns {number}\n         */\n        ATAN: Math.atan,\n        /**\n         * Computes the square root\n         *\n         * @method SQRT\n         * @returns {number}\n         * @example\n         * SQRT 9 // 3\n         * SQRT(9) // 3\n         */\n        SQRT: Math.sqrt,\n        /**\n         * Returns the natural logarithm (base `e`) of a number\n         *\n         * @method LOG\n         * @returns {number}\n         * @example\n         * LOG x\n         */\n        LOG: Math.log,\n        /**\n         * Returns the base 2 logarithm of a number\n         *\n         * @method LOG2\n         * @returns {number}\n         * @example\n         * LOG2 8 // 3\n         */\n        LOG2: Math.log2 || log2,\n        /**\n         * Alias for {@link LOG}\n         * @method LN\n         * @returns {number}\n         * @alias LOG\n         */\n        LN: Math.log,\n        /**\n         * Returns the base 10 logarithm of a number\n         *\n         * @method LOG10\n         * @alias LG\n         * @returns {number}\n         * @example\n         * LOG10 10 // 1\n         * LOG10(100) // 2\n         * LOG10(1000) // 3\n         */\n        LOG10: Math.log10 || log10,\n        /**\n         * Alias for {@link LOG10}\n         * @method LG\n         * @returns {number}\n         * @alias LOG10\n         */\n        LG: Math.log10 || log10,\n        LOG1P: Math.log1p || log1p,\n        /**\n         * Absolute number\n         *\n         * @method ABS\n         * @example\n         * ABS -10 // 10\n         * @returns {number}\n         */\n        ABS: Math.abs,\n        /**\n         * Round number to next largest integer\n         *\n         * @method CEIL\n         * @example\n         * CEIL 2.3 // 3\n         * CEIL(2.7) // 3\n         * @returns {number}\n         * @see {@link FLOOR}, {@link ROUND}, {@link TRUNC}\n         */\n        CEIL: Math.ceil,\n        /**\n         * Round number to the next smallest integer\n         *\n         * @method FLOOR\n         * @example\n         * FLOOR 2.3 // 2\n         * FLOOR 2.7 // 2\n         * FLOOR -5.05 // -6\n         * @see {@link CEIL}, {@link ROUND}, {@link TRUNC}\n         * @returns {number}\n         */\n        FLOOR: Math.floor,\n        /**\n         * Checks if an expression is NULL\n         *\n         * @method ISNULL\n         * @example\n         * ISNULL 0 // false\n         * ISNULL NULL // true*\n         * @returns {boolean}\n         */\n        ISNULL(a) {\n            return a === null;\n        },\n        /**\n         * Returns the integer part of a number by removing any fractional digits\n         * @method TRUNC\n         * @returns {number}\n         * @see {@link CEIL}, {@link ROUND}, {@link FLOOR}\n         * @example\n         * TRUNC 5.05 // 5\n         * TRUNC -5.05 // -5\n         */\n        TRUNC: Math.trunc || trunc,\n        '-': neg,\n        '+': Number,\n        /**\n         * Returns `e^x` where `e` is the Euler's number\n         * @method EXP\n         * @returns {number}\n         * @example\n         * LOG(EXP(4)) // 4\n         */\n        EXP: Math.exp,\n        /**\n         * Negates a boolean expression\n         * @method NOT\n         * @returns {boolean}\n         * @example\n         * NOT 3 > 5 // true\n         */\n        NOT: not,\n        /**\n         * Returns the length of an array or strng\n         * @method LENGTH\n         * @returns {number}\n         * @example\n         * LENGTH 'hello' // 5\n         * LENGTH [1,2,3] // 3\n         */\n        LENGTH: stringOrArrayLength,\n        /**\n         * Alias for {@link NOT}\n         * @method !\n         * @alias NOT\n         */\n        '!': not,\n        /**\n         * returns either a positive or negative +/- 1, indicating the sign of a number passed\n         * @example\n         * SIGN 35 // 1\n         * SIGN -6 // -1\n         * @returns {number}\n         */\n        SIGN: Math.sign || sign,\n        /**\n         * Converts a value to a string\n         * @method TEXT\n         * @returns {string}\n         * @example\n         * TEXT 12.5 // '12.5'\n         * @see {@link NUMBER}\n         */\n        TEXT(value) {\n            if (isDate(value)) {\n                return value.toISOString();\n            }\n            return String(value);\n        },\n        /**\n         * Converts a value to a number\n         * @method NUMBER\n         * @returns {number}\n         * @example\n         * NUMBER '12.5' // 12.5\n         * @see {@link TEXT}\n         */\n        NUMBER: Number\n    };\n\n    this.binaryOps = {\n        '+': add,\n        '-': sub,\n        '*': mul,\n        '/': div,\n        '%': mod,\n        '^': Math.pow,\n        '==': equal,\n        '!=': notEqual,\n        '>': greaterThan,\n        '<': lessThan,\n        '>=': greaterThanEqual,\n        '<=': lessThanEqual,\n        and: andOperator,\n        or: orOperator,\n        in: (needle, haystack) =>\n            Array.isArray(haystack) ? haystack.includes(needle) : String(haystack).includes(needle),\n        '[': arrayIndex\n    };\n\n    this.ternaryOps = {\n        '?': condition\n    };\n\n    const isDate = d => d instanceof Date && !isNaN(d);\n    const asDate = d => {\n        if (isDate(d)) return d;\n        try {\n            const n = new Date(d);\n            if (isDate(n)) return n;\n            return null;\n        } catch (e) {\n            return null;\n        }\n    };\n    function filterNumbers(array) {\n        return (arguments.length === 1 && Array.isArray(array) ? array : Array.from(arguments))\n            .slice(0)\n            .filter(v => !isNaN(v) && Number.isFinite(v));\n    }\n    // fallback regular expressions for browsers without\n    // support for the unicode flag //u\n    let PROPER_REGEX = /\\w*/g;\n    let TITLE_REGEX = /\\w\\S*/g;\n    const ESCAPE_REGEX = /[\\\\^$*+?.()|[\\]{}]/g;\n\n    try {\n        PROPER_REGEX = new RegExp('\\\\p{L}*', 'ug');\n        TITLE_REGEX = new RegExp('[\\\\p{L}\\\\p{N}]\\\\S*', 'ug');\n    } catch (e) {\n        // continue regardless of error\n    }\n\n    this.functions = {\n        // ---- LOGICAL FUNCTIONS ----\n\n        /**\n         * if-else statement\n         *\n         * @method IF\n         *\n         * @param boolean condition\n         * @param expr  yay   expression to use if condition is `TRUE`\n         * @param expr  nay   expression to use if condition is `FALSE`\n         * @example IF(temp_diff > 0, \"hotter\", \"colder\")\n         * // note: you can also use the shorthand ? notaton:\n         * temp_diff > 0 ? \"hotter\" : \"colder\"\n         */\n        IF: condition,\n\n        // ---- MATH FUNCTIONS ----\n\n        /**\n         * Generate a random real number between 0 and 1 when used without arguments, or between 0 and the passed number\n         *\n         * @method RANDOM\n         * @param number  max value (optional)\n         * @example RANDOM()\n         * RANDOM(100)\n         * @returns {number}\n         */\n        RANDOM: random,\n        // fac: factorial,\n\n        /**\n         * Returns the smallest of the given numbers\n         *\n         * @method MIN\n         * @example\n         * MIN(1,2,3) // 1\n         * MIN([1,2,3]) // 1\n         * @returns {number}\n         */\n        MIN() {\n            const v = filterNumbers.apply(this, arguments);\n            return min(v);\n        },\n\n        /**\n         * Returns the largest of the given numbers\n         *\n         * @method MAX\n         * @example\n         * MAX(1,2,3) // 3\n         * MAX([1,2,3]) // 3\n         * @returns {number}\n         */\n        MAX() {\n            return max(filterNumbers.apply(this, arguments));\n        },\n\n        /**\n         * Returns the sum of the given numbers\n         *\n         * @method SUM\n         *\n         * @example\n         * SUM(1,2,3) // 6\n         * SUM([1,2,3]) // 6\n         * @returns {number}\n         */\n        SUM() {\n            return sum(filterNumbers.apply(this, arguments));\n        },\n\n        /**\n         * Returns the average of the given numbers\n         *\n         * @method MEAN\n         * @example\n         * MEAN(1,2,4,8) // 3.75\n         * MEAN([1,2,4,8]) // 3.75\n         * @returns {number}\n         * @see {@link MEDIAN}\n         */\n        MEAN() {\n            const v = filterNumbers.apply(this, arguments);\n            return sum(v) / v.length;\n        },\n\n        /**\n         * Returns the median of the given numbers\n         *\n         * @method MEDIAN\n         * @example\n         * MEDIAN(1,2,4,8) // 3\n         * MEDIAN([1,2,4,8]) // 3\n         * @returns {number}\n         * @see {@link MEAN}\n         */\n        MEDIAN() {\n            const v = filterNumbers.apply(this, arguments).sort((a, b) => a - b);\n            const i = Math.floor(v.length / 2);\n            return v.length % 2 === 1 ? v[i] : (v[i - 1] + v[i]) * 0.5;\n        },\n\n        /**\n         * Computes the power of a number\n         *\n         * @method POW\n         * @example\n         * POW(2,3) // 8\n         * POW(4,2) // 16\n         * @returns {number}\n         */\n        POW: Math.pow,\n\n        /**\n         * Computes the atan2, see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/atan2\n         *\n         * @method ATAN2\n         * @example\n         * ATAN2(2,3) // 8\n         * ATAN2(4,2) // 16\n         * @returns {number}\n         */\n        ATAN2: Math.atan2,\n\n        /**\n         * Rounds a number (to a given number of decimals)\n         *\n         * @method ROUND\n         * @example\n         * ROUND(3.1415) // 3\n         * ROUND(3.1415, 2) // 3.14\n         * @returns {number}\n         * @see {@link FLOOR}, {@link CEIL}\n         */\n        ROUND: roundTo,\n\n        // ---- STRING FUNCTIONS ----\n        /**\n         * Concatenate two or more strings\n         *\n         * @method CONCAT\n         * @example\n         * CONCAT(\"<b>\", name, \"</b>\")\n         * @returns {string}\n         */\n        CONCAT() {\n            return Array.from(arguments).join('');\n        },\n        /**\n         * Removes whitespaces at the beginning and end of a string\n         *\n         * @method TRIM\n         * @returns {string}\n         * @example\n         * TRIM(\"  hello \") // 'hello'\n         */\n        TRIM: trim,\n        /**\n         * Extracts a part of a string\n         *\n         * @method SUBSTR\n         * @param string the input string\n         * @param number start\n         * @param number end\n         * @example\n         * SUBSTR(\"This is fine\", 5,7) // 'is'\n         * @returns {string}\n         */\n        SUBSTR(s, start, end) {\n            return s.substr(start, end);\n        },\n        /**\n         * Replaces all occurances of a string with another string\n         *\n         * @method REPLACE\n         * @param string the input string\n         * @param string the search string\n         * @param string the replacement string or function\n         * @example\n         * REPLACE(\"hello name\", \"name\", \"world\") // 'hello world'\n         * REPLACE(\"hello name\", \"name\", TITLE) // 'hello Name'\n         * REPLACE(\"hello name\", \"name\", f(d) = CONCAT(\"<b>\", d, \"</b>\")) // 'hello <b>name</b>'\n         * @returns {string}\n         * @see {@link REPLACE_REGEX}\n         */\n        REPLACE(str, search, replace) {\n            return str.replace(\n                new RegExp(String(search).replace(ESCAPE_REGEX, '\\\\$&'), 'g'),\n                replace\n            );\n        },\n        /**\n         * Like REPLACE, but interprets the search string as regular expression\n         *\n         * @method REPLACE_REGEX\n         * @param string the input string\n         * @param string the search regex\n         * @param string the replacement string or function\n         * @example\n         * REPLACE_REGEX(\"hello 123 world\", \"[0-9]\", '#') // 'hello ### world'\n         * REPLACE_REGEX(\"hello 123 world\", \"[0-9]+\", '#') // 'hello # world'\n         * @returns {string}\n         * @see {@link REPLACE}\n         */\n        REPLACE_REGEX(str, regex, replace) {\n            return str.replace(new RegExp(regex, 'g'), replace);\n        },\n        /**\n         * Splits a string into an array\n         *\n         * @method SPLIT\n         * @param string the input string\n         * @param string the separator string\n         * @example\n         * SPLIT(\"hello world\", \" \") // ['hello', 'world']\n         * @returns {array}\n         */\n        SPLIT(str, sep) {\n            return String(str).split(sep);\n        },\n        /**\n         * Lowercase a string\n         *\n         * @method LOWER\n         * @example\n         * LOWER(\"Hello World\") // 'hello world'\n         * @returns {string}\n         * @see {@link UPPER}, {@link TITLE}, {@link PROPER}\n         */\n        LOWER(str) {\n            return String(str).toLowerCase();\n        },\n        /**\n         * Uppercase a string\n         *\n         * @method UPPER\n         * @example\n         * UPPER(\"Hello World\") // 'HELLO WORLD'\n         * @returns {string}\n         * @see {@link LOWER}, {@link TITLE}, {@link PROPER}\n         */\n        UPPER(str) {\n            return String(str).toUpperCase();\n        },\n        /**\n         * Convert a string to title-case. Like `TITLE`, but better for names.\n         *\n         * @method PROPER\n         * @example\n         * PROPER(\"hello WoRLd\") // 'Hello World'\n         * PROPER(\"2-WAY STREET\") // '2-Way Street'\n         * PROPER(\"baron lloyd-webber\") // 'Baron Lloyd-Webber'\n         * @returns {string}\n         * @see {@link TITLE}\n         */\n        PROPER(str) {\n            return String(str).replace(\n                PROPER_REGEX,\n                txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n            );\n        },\n        /**\n         * Convert a string to title-case. Like `PROPER`, but better for headlines.\n         *\n         * @method TITLE\n         * @example\n         * TITLE(\"hello WoRLd\") // 'Hello World'\n         * TITLE(\"2-WAY STREET\") // '2-way Street'\n         * TITLE(\"baron lloyd-webber\") // 'Baron Lloyd-webber'\n         * @returns {string}\n         * @see {@link PROPER}\n         */\n        TITLE(str) {\n            return String(str).replace(\n                TITLE_REGEX,\n                txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n            );\n        },\n\n        // ARRAY FUNCTIONS\n        /**\n         * Sort an array ascending or descending\n         *\n         * @method SORT\n         * @param array the input array\n         * @param boolean true for ascending, false for descending\n         * @param string key to sort by (optional)\n         * @example\n         * SORT([5,2,4,1]) // [1,2,4,5]\n         * SORT(countries, false, 'population')\n         * @returns {array}\n         */\n        SORT(arr, asc = true, key = null) {\n            if (RESTRICT_MEMBER_ACCESS.has(key)) throw new Error('Invalid key');\n            if (!Array.isArray(arr)) {\n                throw new Error('First argument to SORT is not an array');\n            }\n            return arr.slice(0).sort((a, b) => {\n                a = typeof key === 'string' ? a[key] : typeof key === 'function' ? key(a) : a;\n                b = typeof key === 'string' ? b[key] : typeof key === 'function' ? key(b) : b;\n                return (a > b ? 1 : a < b ? -1 : 0) * (asc ? 1 : -1);\n            });\n        },\n        /**\n         * Slice an array (extract a part of array)\n         *\n         * @method SLICE\n         * @param array the input array\n         * @param number start index\n         * @param number end index\n         * @example\n         * SLICE([1,2,3,4,5], 1) // [2,3,4,5]\n         * SLICE([1,2,3,4,5], 1,3) // [2,3]\n         * SLICE([1,2,3,4,5], -2) // [4,5]\n         * @returns {array}\n         */\n        SLICE(arr, start, end) {\n            if (!Array.isArray(arr)) {\n                throw new Error('First argument to SLICE is not an array');\n            }\n            return arr.slice(start, end);\n        },\n        /**\n         * Join array elements into a string\n         *\n         * @method JOIN\n         * @param array the input array\n         * @param string the glue string\n         * @param string alternative glue string for the last join (optional)\n         * @returns {string}\n         * @example\n         * JOIN(['USA', 'Canada', 'Mexico'], ', ') // 'USA, Canada, Mexico'\n         * JOIN(['USA', 'Canada', 'Mexico'], ', ', ', and ') // 'USA, Canada, and Mexico'\n         */\n        JOIN(arr, sep, sepLast = null) {\n            if (!Array.isArray(arr)) {\n                throw new Error('First argument to JOIN is not an array');\n            }\n            return sepLast\n                ? [arr.slice(0, arr.length - 1).join(sep), arr[arr.length - 1]].join(sepLast)\n                : arr.join(sep);\n        },\n        /**\n         * Evaluate function for each element in an array\n         *\n         * @method MAP\n         * @param function the function to call\n         * @param array the input array\n         * @returns {array}\n         * @example\n         * MAP(UPPER, ['USA', 'Canada', 'Mexico']) // ['USA', 'CANADA', 'MEXICO']\n         * MAP(f(s) = SUBSTR(s, 0, 2), ['USA', 'Canada', 'Mexico']) // ['US', 'Ca', 'Me']\n         */\n        MAP: arrayMap,\n        /**\n         * Fold array into a single value, good for more complex aggregations\n         *\n         * @method FOLD\n         * @param function the function to call\n         * @param * intial value\n         * @param array the input array\n         * @returns {}\n         * @example\n         * FOLD(f(a,b) = a * b, 1, [1,2,3,4,5]) // 120\n         */\n        FOLD: arrayFold,\n        /**\n         * Filter elements of an array using a function\n         *\n         * @method FILTER\n         * @param function the function to test elements\n         * @param array the input array\n         * @returns {array}\n         * @example\n         * FILTER(f(x) = x > 2, [1, 2, 0, 3, -1, 5]) // [3, 5]\n         * FILTER(f(x) = x >= 2, [1, 2, 0, 3, -1, 5]) // [2, 3, 5]\n         */\n        FILTER: arrayFilter,\n        /**\n         * Extract values from an array of objects\n         *\n         * @method PLUCK\n         * @param array the input array of objects\n         * @param string the key\n         * @returns {array}\n         * @example\n         * PLUCK(countries, 'name')\n         * PLUCK(countries, 'population')\n         */\n        PLUCK(arr, key) {\n            if (RESTRICT_MEMBER_ACCESS.has(key)) throw new Error('Invalid key');\n            if (!Array.isArray(arr)) throw new Error('First argument to PLUCK is not an array');\n            return arr.map(item =>\n                Object.prototype.hasOwnProperty.call(item, key) ? item[key] : null\n            );\n        },\n        /**\n         * Returns the index of the first occurance of an element in an array (or -1 if it's not in the array)\n         *\n         * @method INDEXOF\n         * @param array the input array of objects\n         * @param * target\n         * @returns {number}\n         * @example\n         * INDEXOF(['a', 'b', 'c'], 'b') // 1\n         * INDEXOF(['a', 'b', 'c'], 'd') // -1\n         * @see {@link FIND}\n         */\n        INDEXOF(arr, target) {\n            if (!Array.isArray(arr)) arr = String(arr);\n            return arr.indexOf(target);\n        },\n        /**\n         * Returns the first element of an array for which the test function returns true\n         *\n         * @method FIND\n         * @param array the input array of objects\n         * @param function test function\n         * @returns {*}\n         * @example\n         * FIND([1,2,3,4,5,6], f(d) = d > 3) // 4\n         * @see {@link INDEXOF}\n         */\n        FIND(arr, test) {\n            if (!Array.isArray(arr)) throw new Error('First argument to FIND is not an array');\n            if (typeof test !== 'function')\n                throw new Error('Second argument to FIND is not a function');\n            const k = arr.length;\n            for (let i = 0; i < k; i++) {\n                if (test(arr[i])) return arr[i];\n            }\n            return null;\n        },\n        /**\n         * Creates an array of numbers\n         *\n         * @method RANGE\n         * @param number start value\n         * @param number stop value (not included)\n         * @param number step to increment each\n         * @returns {array}\n         * @example\n         * RANGE(0,5) // [0,1,2,3,4]\n         * RANGE(0,5,2) // [0,2,4]\n         * RANGE(0,1,0.25) // [0,0.25,0.5,0.75]\n         */\n        RANGE(start, stop, step) {\n            // borrowed from https://github.com/jashkenas/underscore/blob/master/modules/range.js\n            if (stop == null) {\n                stop = start || 0;\n                start = 0;\n            }\n            if (!step) {\n                step = stop < start ? -1 : 1;\n            }\n\n            var length = Math.max(Math.ceil((stop - start) / step), 0);\n            var range = Array(length);\n\n            for (var idx = 0; idx < length; idx++, start += step) {\n                range[idx] = start;\n            }\n\n            return range;\n        },\n        /**\n         * Returns TRUE if the test function is TRUE for every element in the arrat\n         *\n         * @method EVERY\n         * @param array the input array\n         * @param function the test function\n         * @returns {boolean}\n         * @see {@link SOME}\n         * @example\n         * EVERY([5,8,4,7,3], f(d) = d > 2) // true\n         * EVERY([5,8,4,7,3], f(d) = d < 6) // false\n         */\n        EVERY(arr, test) {\n            if (!Array.isArray(arr)) throw new Error('First argument to EVERY is not an array');\n            if (typeof test !== 'function')\n                throw new Error('Second argument to EVERY is not a function');\n            const k = arr.length;\n            let every = true;\n            for (let i = 0; i < k; i++) {\n                every = every && test(arr[i]);\n                if (!every) return false;\n            }\n            return true;\n        },\n        /**\n         * Returns `true` if the test function is `true` for at least one element in the arrat\n         *\n         * @method SOME\n         * @param array the input array\n         * @param function the test function\n         * @returns {boolean}\n         * @see {@link EVERY}\n         * @example\n         * SOME([5,8,4,7,3], f(d) = d > 2) // true\n         * SOME([5,8,4,7,3], f(d) = d < 6) // true\n         * SOME([5,8,4,7,3], f(d) = d < 2) // false\n         */\n        SOME(arr, test) {\n            if (!Array.isArray(arr)) throw new Error('First argument to SOME is not an array');\n            if (typeof test !== 'function')\n                throw new Error('Second argument to SOME is not a function');\n            const k = arr.length;\n            let some = false;\n            for (let i = 0; i < k; i++) {\n                some = some || test(arr[i]);\n                if (some) return true;\n            }\n            return false;\n        },\n\n        // ---- DATE FUNCTIONS ----\n        /**\n         * Constructs a new date object\n         *\n         * @method DATE\n         * @param number year\n         * @param number month\n         * @param number day\n         * @returns {date}\n         * @example\n         * DATE(2020, 1, 1) // January 1st, 2020\n         */\n        DATE() {\n            if (arguments.length > 1) {\n                // \"correct\" month argument (1=january, etc)\n                arguments[1] = arguments[1] - 1;\n            }\n            return new Date(...arguments);\n        },\n        /**\n         * Returns the year of a date\n         *\n         * @method YEAR\n         * @param date the input date\n         * @returns {number}\n         * @see {@link MONTH},{@link DAY}\n         * @example\n         * YEAR(DATE(2020, 1, 1)) // 2020\n         */\n        YEAR(d) {\n            d = asDate(d);\n            return d ? d.getFullYear() : null;\n        },\n        /**\n         * Returns the month of a date (1-12)\n         *\n         * @method MONTH\n         * @param date the input date\n         * @returns {number}\n         * @see {@link YEAR},{@link DAY}\n         * @example\n         * MONTH(DATE(2020, 6, 1)) // 6\n         */\n        MONTH(d) {\n            d = asDate(d);\n            return d ? d.getMonth() + 1 : null;\n        },\n        /**\n         * Returns the day of a date (1-31)\n         *\n         * @method DAY\n         * @param date the input date\n         * @returns {number}\n         * @see {@link WEEKDAY},{@link YEAR},{@link MONTH},{@link DAY}\n         * @example\n         * DAY(DATE(2020, 6, 1)) // 1\n         */\n        DAY(d) {\n            d = asDate(d);\n            return d ? d.getDate() : null;\n        },\n        /**\n         * Returns the weekday of a date (0 = Sunday, 1 = Monday, etc)\n         *\n         * @method WEEKDAY\n         * @param date the input date\n         * @returns {number}\n         * @see {@link DAY}\n         * @example\n         * WEEKDAY(DATE(2020, 5, 10)) // 0\n         */\n        WEEKDAY(d) {\n            d = asDate(d);\n            return d ? d.getDay() : null;\n        },\n        /**\n         * Returns the hours of a date (0-23)\n         *\n         * @method HOURS\n         * @param date the input date\n         * @returns {number}\n         * @see {@link DAY},{@link MINUTES},{@link SECONDS}\n         * @example\n         * HOURS(time)\n         */\n        HOURS(d) {\n            d = asDate(d);\n            return d ? d.getHours() : null;\n        },\n        /**\n         * Returns the minutes of a date (0-59)\n         *\n         * @method MINUTES\n         * @param date the input date\n         * @returns {number}\n         * @see {@link HOURS},{@link SECONDS}\n         * @example\n         * MINUTES(time)\n         */\n        MINUTES(d) {\n            d = asDate(d);\n            return d ? d.getMinutes() : null;\n        },\n        /**\n         * Returns the seconds of a date (0-59)\n         *\n         * @method SECONDS\n         * @param date the input date\n         * @returns {number}\n         * @see {@link HOURS},{@link MINUTES}\n         * @example\n         * SECONDS(time)\n         */\n        SECONDS(d) {\n            d = asDate(d);\n            return d ? d.getSeconds() : null;\n        },\n        /**\n         * Computes the  number of days between two dates\n         *\n         * @method DATEDIFF\n         * @param date the input date 1\n         * @param date the input date to substract from\n         * @returns {number}\n         * @see {@link TIMEDIFF}\n         * @example\n         * DATEDIFF(date1, date2)\n         */\n        DATEDIFF(d1, d2) {\n            d1 = asDate(d1);\n            d2 = asDate(d2);\n            return d1 && d2 ? (d2.getTime() - d1.getTime()) / 864e5 : null;\n        },\n        /**\n         * Computes the  number of seconds between two dates\n         *\n         * @method TIMEDIFF\n         * @param date the input date 1\n         * @param date the input date to substract from\n         * @returns {number}\n         * @see {@link DATEDIFF}\n         * @example\n         * TIMEDIFF(date1, date2)\n         */\n        TIMEDIFF(d1, d2) {\n            d1 = asDate(d1);\n            d2 = asDate(d2);\n            return d1 && d2 ? (d2.getTime() - d1.getTime()) / 1000 : null;\n        }\n    };\n\n    this.unaryOps.LOWER = this.functions.LOWER;\n    this.unaryOps.UPPER = this.functions.UPPER;\n    this.unaryOps.PROPER = this.functions.PROPER;\n    this.unaryOps.TITLE = this.functions.TITLE;\n    this.unaryOps.TRIM = this.functions.TRIM;\n    this.unaryOps.YEAR = this.functions.YEAR;\n    this.unaryOps.MONTH = this.functions.MONTH;\n    this.unaryOps.DAY = this.functions.DAY;\n    this.unaryOps.WEEKDAY = this.functions.WEEKDAY;\n    this.unaryOps.HOURS = this.functions.HOURS;\n    this.unaryOps.MINUTES = this.functions.MINUTES;\n    this.unaryOps.SECONDS = this.functions.SECONDS;\n\n    this.consts = {\n        E: Math.E,\n        PI: Math.PI,\n        TRUE: true,\n        FALSE: false,\n        NA: Number.NaN,\n        NULL: Number.NaN\n    };\n}\n\nParser.prototype.parse = function (expr) {\n    var instr = [];\n    var parserState = new ParserState(this, new TokenStream(this, expr), {\n        allowMemberAccess: true,\n        restrictMemberAccess: RESTRICT_MEMBER_ACCESS\n    });\n\n    parserState.parseExpression(instr);\n    parserState.expect(TEOF, 'EOF');\n\n    return new Expression(instr, this);\n};\n\nParser.prototype.evaluate = function (expr, variables) {\n    return this.parse(expr).evaluate(variables);\n};\n\nvar sharedParser = new Parser();\n\nParser.parse = function (expr) {\n    return sharedParser.parse(expr);\n};\n\nParser.evaluate = function (expr, variables) {\n    return sharedParser.parse(expr).evaluate(variables);\n};\n\nParser.keywords = [\n    'ABS',\n    'ACOS',\n    'ACOSH',\n    'and',\n    'ASIN',\n    'ASINH',\n    'ATAN',\n    'ATAN2',\n    'ATANH',\n    'CBRT',\n    'CEIL',\n    'CONCAT',\n    'COS',\n    'COSH',\n    'DATEDIFF',\n    'DAY',\n    'E',\n    'EVERY',\n    'EXP',\n    'EXPM1',\n    'FIND',\n    'FLOOR',\n    'HOURS',\n    'IF',\n    'in',\n    'INDEXOF',\n    'ISNULL',\n    'JOIN',\n    'LENGTH',\n    'LN',\n    'LOG',\n    'LOG10',\n    'LOG1P',\n    'LOG2',\n    'LOWER',\n    'MAP',\n    'MAX',\n    'MEAN',\n    'MEDIAN',\n    'MIN',\n    'MINUTES',\n    'MONTH',\n    'NOT',\n    'NOT',\n    'or',\n    'PI',\n    'PLUCK',\n    'POW',\n    'PROPER',\n    'RANDOM',\n    'RANGE',\n    'REPLACE',\n    'REPLACE_REGEX',\n    'ROUND',\n    'SECONDS',\n    'SIGN',\n    'SIN',\n    'SINH',\n    'SLICE',\n    'SOME',\n    'SORT',\n    'SPLIT',\n    'SQRT',\n    'SUBSTR',\n    'SUM',\n    'TAN',\n    'TANH',\n    'TIMEDIFF',\n    'TITLE',\n    'TRIM',\n    'TRUNC',\n    'UPPER',\n    'WEEKDAY',\n    'YEAR'\n];\n\nvar optionNameMap = {\n    '+': 'add',\n    '-': 'subtract',\n    '*': 'multiply',\n    '/': 'divide',\n    '%': 'remainder',\n    '^': 'power',\n    '!': 'factorial',\n    '<': 'comparison',\n    '>': 'comparison',\n    '<=': 'comparison',\n    '>=': 'comparison',\n    '==': 'comparison',\n    '!=': 'comparison',\n    '||': 'concatenate',\n    AND: 'logical',\n    OR: 'logical',\n    NOT: 'logical',\n    IN: 'logical',\n    '?': 'conditional',\n    ':': 'conditional',\n    '=': 'assignment',\n    '[': 'array',\n    '()=': 'fndef'\n};\n\nfunction getOptionName(op) {\n    return Object.prototype.hasOwnProperty.call(optionNameMap, op) ? optionNameMap[op] : op;\n}\n\nParser.prototype.isOperatorEnabled = function (op) {\n    var optionName = getOptionName(op);\n    var operators = this.options.operators || {};\n\n    return !(optionName in operators) || !!operators[optionName];\n};\n","import { Parser } from './parser.mjs';\n\nconst TPL_REG = /\\{\\{(.+?)\\}\\}/g;\n/*\n * returns a function that evaluates template strings\n * using `expr-eval`.\n */\nexport default function templateParser(template) {\n    const expressions = {};\n    const parser = new Parser();\n    template.replace(TPL_REG, (s, formula) => {\n        formula = formula.trim();\n        if (formula && !expressions[formula]) {\n            expressions[formula] = parser.parse(formula);\n        }\n    });\n    return context =>\n        template.replace(TPL_REG, (s, formula) => {\n            const result = formula.trim() ? expressions[formula.trim()].evaluate(context) : '';\n            return result === null ? '' : result;\n        });\n}\n","import purifyHtml from '@datawrapper/shared/purifyHtml.js';\nimport templateParser from './templateParser.mjs';\n\nconst ALLOWED_TAGS = [\n    'a',\n    'abbr',\n    'address',\n    'b',\n    'big',\n    'blockquote',\n    'br',\n    'caption',\n    'cite',\n    'code',\n    'col',\n    'colgroup',\n    'dd',\n    'del',\n    'details',\n    'dfn',\n    'div',\n    'dl',\n    'dt',\n    'em',\n    'figure',\n    'font',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'hr',\n    'hgroup',\n    'i',\n    'img',\n    'ins',\n    'kbd',\n    'li',\n    'mark',\n    'meter',\n    'ol',\n    'p',\n    'pre',\n    'q',\n    's',\n    'small',\n    'span',\n    'strike',\n    'strong',\n    'sub',\n    'summary',\n    'sup',\n    'table',\n    'tbody',\n    'td',\n    'th',\n    'thead',\n    'tfoot',\n    'tr',\n    'tt',\n    'u',\n    'ul',\n    'wbr'\n];\n/*\n * returns a function that evaluates template strings\n * using `expr-eval`.\n */\nexport default function htmlTemplate(template) {\n    const evaluateTemplate = templateParser(template);\n    return context => purifyHtml(evaluateTemplate(context), ALLOWED_TAGS);\n}\n","import purifyHtml from '@datawrapper/shared/purifyHtml.js';\nimport column from '../dataset/column.mjs';\nimport significantDimension from '@datawrapper/shared/significantDimension.js';\nimport tailLength from '@datawrapper/shared/tailLength.js';\nimport round from '@datawrapper/shared/round.js';\nimport smartRound from '@datawrapper/shared/smartRound.js';\nimport equalish from '@datawrapper/shared/equalish.js';\nimport clone from '@datawrapper/shared/clone.js';\nimport get from '@datawrapper/shared/get.js';\nimport delimited from './delimited.mjs';\nimport { outerHeight, getNonChartHeight } from './getNonChartHeight.mjs';\nimport htmlTemplate from './htmlTemplate.mjs';\nimport templateParser from './templateParser.mjs';\nimport { isFunction, isString, range } from 'underscore';\n\nexport {\n    purifyHtml,\n    significantDimension,\n    tailLength,\n    round,\n    smartRound,\n    equalish,\n    clone,\n    delimited,\n    getNonChartHeight,\n    outerHeight,\n    htmlTemplate,\n    templateParser\n};\n\n/*\n * returns the min/max range of a set of columns\n */\nexport function minMax(columns) {\n    const minmax = [Number.MAX_VALUE, -Number.MAX_VALUE];\n    columns.forEach(column => {\n        minmax[0] = Math.min(minmax[0], column.range()[0]);\n        minmax[1] = Math.max(minmax[1], column.range()[1]);\n    });\n    return minmax;\n}\n\n/*\n * returns a new column with all column names as values\n */\nexport function columnNameColumn(columns) {\n    const names = columns.map(col => col.title());\n    return column('', names);\n}\n\nexport function name(obj) {\n    return isFunction(obj.name) ? obj.name() : isString(obj.name) ? obj.name : obj;\n}\n\nexport function getMaxChartHeight() {\n    if (window.innerHeight === 0) return 0;\n    var maxH = window.innerHeight - getNonChartHeight();\n    return Math.max(maxH, 0);\n}\n\nexport function nearest(array, value) {\n    let minDiff = Number.MAX_VALUE;\n    let minDiffVal;\n    array.forEach(v => {\n        var d = Math.abs(v - value);\n        if (d < minDiff) {\n            minDiff = d;\n            minDiffVal = v;\n        }\n    });\n    return minDiffVal;\n}\n\nexport function metricSuffix(locale) {\n    switch (locale.substr(0, 2).toLowerCase()) {\n        case 'de':\n            return { 3: ' Tsd.', 6: ' Mio.', 9: ' Mrd.', 12: ' Bio.' };\n        case 'fr':\n            return { 3: ' mil', 6: ' Mio', 9: ' Mrd' };\n        case 'es':\n            return { 3: ' Mil', 6: ' millón' };\n        default:\n            return { 3: 'k', 6: 'M', 9: ' bil' };\n    }\n}\n\nexport function magnitudeRange(minmax) {\n    return (\n        Math.round(Math.log(minmax[1]) / Math.LN10) - Math.round(Math.log(minmax[0]) / Math.LN10)\n    );\n}\n\nexport function logTicks(min, max) {\n    const e0 = Math.round(Math.log(min) / Math.LN10);\n    const e1 = Math.round(Math.log(max) / Math.LN10);\n    return range(e0, e1).map(exp => Math.pow(10, exp));\n}\n\nexport function height(element) {\n    const h = parseFloat(getComputedStyle(element, null).height.replace('px', ''));\n    return isNaN(h) ? 0 : h;\n}\n\nexport function width(element) {\n    const w = parseFloat(getComputedStyle(element, null).width.replace('px', ''));\n    return isNaN(w) ? 0 : w;\n}\n\nexport function addClass(element, className) {\n    if (element) element.classList.add(className);\n}\n\nexport function removeClass(element, className) {\n    if (element) element.classList.remove(className);\n}\n\nexport function remove(elementOrSelector) {\n    const element =\n        typeof elementOrSelector === 'string'\n            ? document.querySelector(elementOrSelector)\n            : elementOrSelector;\n    if (element) element.parentElement.removeChild(element);\n}\n\nexport function domReady(callback) {\n    if (/complete|interactive|loaded/.test(document.readyState)) {\n        // dom is already loaded\n        callback();\n    } else {\n        // wait for dom to load\n        window.addEventListener('DOMContentLoaded', () => {\n            callback();\n        });\n    }\n}\n\nexport function getHeightMode({ themeData, visualizationMeta, renderFlags }) {\n    const D3_PIES_IDS = ['d3-pies', 'd3-donuts', 'd3-multiple-pies', 'd3-multiple-donuts'];\n    const themeFitChart =\n        get(themeData, 'vis.d3-pies.fitchart', false) && D3_PIES_IDS.includes(visualizationMeta.id);\n    return themeFitChart || renderFlags.fitchart || visualizationMeta.height !== 'fixed'\n        ? 'fit'\n        : 'fixed';\n}\n","\"use strict\";\nmodule.exports = function equalish(a, b) {\n    return Math.abs(a - b) < 1e-6;\n};\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","\"use strict\";\nconst isArray = (value) => Array.isArray(value);\nmodule.exports = function set(object, key, value) {\n    const keys = isArray(key) ? [...key] : key.split('.');\n    if (!keys.length) {\n        throw new Error('Key should not be empty');\n    }\n    // `pop` will never return undefined, because `key` does not contain `undefined` values,\n    // and we've just checked that `key` has elements.\n    // However, TS does not narrow `key` type from \"array of non-empty values\" to\n    // to \"array of non-empty values with at least one value\",\n    // so `pop` always has `undefined` in its return type definition.\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const lastKey = keys.pop();\n    // It is impractical to try to replicate signature types in implementation\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let pt = object;\n    // resolve property until the parent dict\n    keys.forEach(key => {\n        if (pt[key] === undefined || pt[key] === null) {\n            pt[key] = {};\n        }\n        pt = pt[key];\n    });\n    // check if new value is set\n    if (JSON.stringify(pt[lastKey]) !== JSON.stringify(value)) {\n        pt[lastKey] = value;\n        return true;\n    }\n    return false;\n};\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst isEqual_js_1 = __importDefault(require(\"lodash/isEqual.js\"));\nconst isPlainObject_js_1 = __importDefault(require(\"lodash/isPlainObject.js\"));\n/**\n * @param {object} source - the source object\n * @param {object} target - the target object\n * @param {Set|null} allowedKeys - Set\n *\n * @returns {object} - the merge patch\n */\n// It is impractical to try to replicate signature types in implementation\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction diffKeys(source, target, allowedKeys = null) {\n    const patch = {};\n    Object.keys(target).forEach(targetKey => {\n        if (!(0, isEqual_js_1.default)(target[targetKey], source[targetKey])) {\n            if (allowedKeys && !allowedKeys.has(targetKey))\n                return;\n            if ((0, isPlainObject_js_1.default)(target[targetKey]) && (0, isPlainObject_js_1.default)(source[targetKey])) {\n                // iterate one level down\n                const childPatch = diffKeys(source[targetKey], target[targetKey]);\n                if (Object.keys(childPatch).length) {\n                    patch[targetKey] = childPatch;\n                }\n            }\n            else {\n                patch[targetKey] = target[targetKey];\n            }\n        }\n    });\n    // also look for removed keys and set them null\n    Object.keys(source).forEach(sourceKey => {\n        if (allowedKeys && !allowedKeys.has(sourceKey))\n            return;\n        if (target[sourceKey] === undefined) {\n            patch[sourceKey] = null;\n        }\n    });\n    return patch;\n}\nmodule.exports = function objectDiff(source, target, allowedKeys = null) {\n    return diffKeys(source, target, allowedKeys ? new Set(allowedKeys) : null);\n};\n","/*\n * simple event callbacks, mimicing the $.Callbacks API\n */\n\nexport default function () {\n    const list = [];\n\n    return {\n        fire() {\n            for (var i = list.length - 1; i >= 0; i--) {\n                list[i].apply(this, arguments);\n            }\n        },\n        add(callback) {\n            list.push(callback);\n        }\n    };\n}\n","import { each } from 'underscore';\n\nexport default function applyChanges(chart, dataset) {\n    const changes = chart.getMetadata('data.changes', []);\n    const transpose = chart.getMetadata('data.transpose', false);\n    const numRows = dataset.numRows();\n    changes.forEach(change => {\n        const row = !transpose ? change.row : change.column;\n        const column = !transpose ? change.column : change.row;\n        if (dataset.hasColumn(column)) {\n            change.ignored = false;\n            if (row === 0) {\n                if (change.previous && change.previous !== 'undefined') {\n                    const oldTitle = dataset.column(column).title();\n                    if (oldTitle !== change.previous) {\n                        // change.ignored = true; // TODO Something is buggy about this, let's revisit later.\n                        return;\n                    }\n                }\n                dataset.column(column).title(change.value);\n            } else if (row <= numRows) {\n                if (change.previous && change.previous !== 'undefined') {\n                    const curValue = dataset.column(column).raw(row - 1);\n                    if (curValue !== change.previous) {\n                        // change.ignored = true; // TODO Something is buggy about this, let's revisit later.\n                        return;\n                    }\n                }\n                dataset.column(column).raw(row - 1, change.value);\n            }\n        }\n    });\n\n    // overwrite column types\n    var columnFormats = chart.getMetadata('data.column-format', {});\n    each(columnFormats, (columnFormat, key) => {\n        if (columnFormat.type && dataset.hasColumn(key) && columnFormat.type !== 'auto') {\n            dataset.column(key).type(columnFormat.type);\n        }\n        if (columnFormat['input-format'] && dataset.hasColumn(key)) {\n            dataset.column(key).type(true).format(columnFormat['input-format']);\n        }\n    });\n    return dataset;\n}\n","\"use strict\";\nmodule.exports = function columnNameToVariable(name) {\n    return name\n        .toString()\n        .toLowerCase()\n        .replace(/\\s+/g, '_') // Replace spaces with _\n        .replace(/[^\\w-]+/g, '') // Remove all non-word chars\n        .replace(/-/g, '_') // Replace multiple - with single -\n        .replace(/__+/g, '_') // Replace multiple - with single -\n        .replace(/^_+/, '') // Trim - from start of text\n        .replace(/_+$/, '') // Trim - from end of text\n        .replace(/^(\\d)/, '_$1') // If first char is a number, prefix with _\n        .replace(/^(and|or|in|true|false)$/, '$1_'); // avoid reserved keywords\n};\n","import { each, isBoolean, isDate, isNumber, isNull } from 'underscore';\nimport column from './column.mjs';\nimport columnNameToVariable from '@datawrapper/shared/columnNameToVariable.js';\nimport applyChanges from './applyChanges.mjs';\nimport { Parser } from '../utils/parser.mjs';\n\nfunction toISOStringSafe(date) {\n    try {\n        return date.toISOString();\n    } catch (e) {\n        if (e instanceof RangeError) {\n            return date.toString();\n        }\n        throw e;\n    }\n}\n\nexport default function addComputedColumns(chart, dataset) {\n    let virtualColumns = chart.getMetadata('describe.computed-columns', {});\n    if (!Array.isArray(virtualColumns)) {\n        // convert to array\n        virtualColumns = Object.keys(virtualColumns).reduce((acc, cur) => {\n            acc.push({\n                name: cur,\n                formula: virtualColumns[cur]\n            });\n            return acc;\n        }, []);\n    }\n\n    const data = applyChanges(chart, dataset).list();\n    const columnNameToVar = {};\n    const colAggregates = {};\n    const parser = new Parser();\n\n    dataset.eachColumn(function (col) {\n        if (col.isComputed) return;\n        columnNameToVar[col.name()] = columnNameToVariable(col.name());\n        if (col.type() === 'number') {\n            const [min, max] = col.range();\n            colAggregates[col.name()] = {\n                min,\n                max,\n                sum: col.sum(),\n                mean: col.mean(),\n                median: col.median()\n            };\n        } else if (col.type() === 'date') {\n            const [min, max] = col.range();\n            colAggregates[col.name()] = { min, max };\n        }\n    });\n\n    // initialize meta objects for each computed column\n    const vNamesToVar = virtualColumns.reduce((acc, val, idx) => {\n        const key = columnNameToVariable(val.name);\n        return acc.set(key, {\n            name: val.name,\n            index: dataset.numColumns() + idx,\n            key,\n            formula: val.formula,\n            visited: 0,\n            computed: false,\n            dependsOn: []\n        });\n    }, new Map());\n\n    // parse formulas to detect cross-column dependencies\n    virtualColumns.forEach(({ formula, name }) => {\n        const col = vNamesToVar.get(columnNameToVariable(name));\n        if (formula.trim()) {\n            try {\n                col.expr = parser.parse(formula.trim());\n                col.expr.variables().forEach(v => {\n                    v = v.split('__')[0];\n                    if (vNamesToVar.has(v)) {\n                        col.dependsOn.push(vNamesToVar.get(v));\n                    }\n                });\n            } catch (e) {\n                col.error = e.message;\n                // console.error('err', e);\n            }\n        } else {\n            col.expr = {\n                evaluate() {\n                    return '';\n                },\n                variables() {\n                    return [];\n                }\n            };\n        }\n    });\n\n    // sort computed columns in order of their dependency graph\n    // circular dependencies are not allowed and will result in\n    // errors\n    const computedColumns = [];\n\n    let curIter = 0;\n    while (vNamesToVar.size) {\n        if (curIter > 1000) break;\n        vNamesToVar.forEach(col => {\n            curIter++;\n            try {\n                visit(col, []);\n            } catch (e) {\n                if (e.message.startsWith('circular-dependency')) {\n                    col.error = e.message;\n                    // col.computed = true;\n                    vNamesToVar.delete(col.key);\n                    computedColumns.push(col);\n                } else {\n                    throw e;\n                }\n            }\n        });\n    }\n\n    // compute in order of dependencies\n    computedColumns.forEach(col => {\n        if (col.error) {\n            const errorCol = column(\n                col.name,\n                data.map(() => 'null')\n            );\n            errorCol.isComputed = true;\n            errorCol.formula = col.formula;\n            errorCol.errors = [\n                {\n                    message: col.error,\n                    row: 'all'\n                }\n            ];\n            col.column = errorCol;\n        } else {\n            col.column = addComputedColumn(col);\n        }\n    });\n\n    // add to dataset in original order\n    computedColumns.sort((a, b) => a.index - b.index).forEach(({ column }) => dataset.add(column));\n\n    return dataset;\n\n    function visit(col, stack) {\n        if (col.computed) return;\n        stack.push(col.name);\n        for (let i = 0; i < stack.length - 2; i++) {\n            if (col.name === stack[i]) {\n                throw new Error('circular-dependency: ' + stack.join(' ‣ '));\n            }\n        }\n        col.curIter = curIter;\n        let allComputed = true;\n        for (let i = 0; i < col.dependsOn.length; i++) {\n            allComputed = allComputed && col.dependsOn[i].computed;\n        }\n        if (allComputed) {\n            // no dependencies, we can compute this now\n            col.computed = true;\n            computedColumns.push(col);\n            vNamesToVar.delete(col.key);\n        } else {\n            if (stack.length < 10) {\n                col.dependsOn.forEach(c => {\n                    visit(c, stack.slice(0));\n                });\n            }\n        }\n    }\n\n    function addComputedColumn({ formula, name, expr, error, index }) {\n        const errors = [];\n        if (error) {\n            errors.push({ row: 'all', message: error });\n        }\n\n        // create a map of changes for this column\n        const changes = chart\n            .getMetadata('data.changes', [])\n            .filter(change => change.column === index && change.row > 0)\n            .reduce((acc, cur) => {\n                const old = acc.get(cur.row - 1);\n                if (old) {\n                    // overwrite previous value\n                    cur.previous = old.previous;\n                }\n                acc.set(cur.row - 1, cur);\n                return acc;\n            }, new Map());\n\n        const values = data.map(function (row, index) {\n            const context = {\n                ROWNUMBER: index\n            };\n            each(row, function (val, key) {\n                if (!columnNameToVar[key]) return;\n                context[columnNameToVar[key]] = val;\n                if (colAggregates[key]) {\n                    Object.keys(colAggregates[key]).forEach(aggr => {\n                        context[`${columnNameToVar[key]}__${aggr}`] = colAggregates[key][aggr];\n                    });\n                }\n            });\n            let value;\n            try {\n                value = expr.evaluate(context);\n                if (typeof value === 'function') {\n                    errors.push({ message: 'formula returned function', row: index });\n                    value = null;\n                }\n            } catch (error) {\n                errors.push({ message: error.message, row: index });\n                value = null;\n            }\n            if (changes.has(index)) {\n                const change = changes.get(index);\n                if (change.previous === undefined || change.previous == value) {\n                    // we have a change and it's still valid\n                    return change.value;\n                }\n            }\n            return value;\n        });\n        columnNameToVar[name] = columnNameToVariable(name);\n        // apply values to rows so they can be used in formulas\n        values.forEach((val, i) => {\n            data[i][name] = val;\n        });\n        var virtualColumn = column(\n            name,\n            values.map(function (v) {\n                if (isBoolean(v)) return v ? 'yes' : 'no';\n                if (isDate(v)) return toISOStringSafe(v);\n                if (isNumber(v)) return String(v);\n                if (isNull(v)) return null;\n                return String(v);\n            })\n        );\n        // aggregate values\n        if (virtualColumn.type() === 'number') {\n            const [min, max] = virtualColumn.range();\n            colAggregates[name] = {\n                min,\n                max,\n                sum: virtualColumn.sum(),\n                mean: virtualColumn.mean(),\n                median: virtualColumn.median()\n            };\n        } else if (virtualColumn.type() === 'date') {\n            const [min, max] = virtualColumn.range();\n            colAggregates[name] = { min, max };\n        }\n        virtualColumn.isComputed = true;\n        virtualColumn.errors = errors;\n        virtualColumn.formula = formula;\n        return virtualColumn;\n    }\n}\n","import { isArray, isUndefined, indexOf } from 'underscore';\nimport isPlainObject from 'lodash/isPlainObject.js';\nimport get from '@datawrapper/shared/get.js';\nimport set from '@datawrapper/shared/set.js';\nimport objectDiff from '@datawrapper/shared/objectDiff.js';\nimport PostEvent from '@datawrapper/shared/postEvent.js';\n\nimport json from './dataset/json.mjs';\nimport delimited from './dataset/delimited.mjs';\nimport { name, width, getMaxChartHeight } from './utils/index.mjs';\nimport events from './utils/events.mjs';\nimport reorderColumns from './dataset/reorderColumns.mjs';\nimport applyChanges from './dataset/applyChanges.mjs';\nimport addComputedColumns from './dataset/addComputedColumns.mjs';\nimport { outerHeight, getNonChartHeight } from './utils/getNonChartHeight.mjs';\nimport { getHeightMode } from './utils/index.mjs';\n\n/**\n * Chart\n * @module dw.chart\n */\nexport default function (attributes) {\n    // private methods and properties\n    let dataset;\n    let theme;\n    let metricPrefix;\n    let locale;\n    let flags = {};\n    let visualization;\n\n    const changeCallbacks = events();\n    const datasetChangeCallbacks = events();\n\n    const _assets = {};\n    let _translations = {};\n    let _ds;\n\n    // public interface\n    const chart = {\n        /**\n         * @function chart.get\n         */\n        get(key, _default) {\n            return get(attributes, key, _default);\n        },\n\n        getMetadata(key, _default) {\n            return get(attributes, `metadata.${key}`, _default);\n        },\n\n        set(key, value) {\n            if (set(attributes, key, value)) {\n                changeCallbacks.fire(chart, key, value);\n            }\n            return this;\n        },\n\n        setMetadata(key, value) {\n            return chart.set(`metadata.${key}`, value);\n        },\n\n        getElementBounds(element) {\n            const rootBounds = visualization.target().getBoundingClientRect();\n            const elementBounds = element.getBoundingClientRect();\n\n            return {\n                top: elementBounds.top - rootBounds.top,\n                right: elementBounds.right - rootBounds.left,\n                bottom: elementBounds.bottom - rootBounds.top,\n                left: elementBounds.left - rootBounds.left,\n                width: elementBounds.width,\n                height: elementBounds.height\n            };\n        },\n\n        // loads the dataset and returns a deferred\n        load(csv, externalData) {\n            const dsopts = {\n                chartId: chart.get('id'),\n                firstRowIsHeader: chart.get('metadata.data.horizontal-header', true),\n                transpose: chart.get('metadata.data.transpose', false)\n            };\n\n            if ((csv || csv === '') && !externalData) dsopts.csv = csv;\n            else dsopts.url = externalData || 'data.csv';\n\n            const datasource = chart.get('metadata.data.json') ? json(dsopts) : delimited(dsopts);\n\n            return datasource.dataset().then(ds => {\n                this.dataset(ds);\n                datasetChangeCallbacks.fire(chart, ds);\n                return ds;\n            });\n        },\n\n        /**\n         * Getter/setter for the dw.dataset class. This method\n         * can also be used to \"reset\" the current dataset by passing\n         * true as argument. This will re-apply changes, column sorting\n         * and computed columns to the existing dataset.\n         *\n         * @param {dw.dataset|true}\n         *\n         * @returns dataset\n         */\n        dataset(ds) {\n            if (arguments.length) {\n                if (ds !== true) _ds = ds;\n                dataset = chart.get('metadata.data.json')\n                    ? _ds\n                    : reorderColumns(chart, applyChanges(chart, addComputedColumns(chart, _ds)));\n                if (ds === true) return dataset;\n                return chart;\n            }\n            return dataset;\n        },\n\n        /**\n         * This helper method is used by the chart editor to inject\n         * a dataset which has computed columns, changes and column\n         * ordering already applied.\n         *\n         * @param {dw.dataset} ds\n         */\n        setDataset(ds) {\n            dataset = ds;\n        },\n\n        // sets or gets the theme\n        theme(_theme) {\n            if (arguments.length) {\n                theme = _theme;\n                return chart;\n            }\n            return theme || {};\n        },\n\n        // sets or gets the visualization\n        vis(_vis) {\n            if (arguments.length) {\n                visualization = _vis;\n                visualization.chart(chart);\n                return chart;\n            }\n            return visualization;\n        },\n\n        // returns true if the user has set any highlights\n        hasHighlight() {\n            var hl = chart.get('metadata.visualize.highlighted-series');\n            return isArray(hl) && hl.length > 0;\n        },\n\n        isHighlighted(obj) {\n            if (isUndefined(obj) === undefined) return false;\n            const hl = chart.get('metadata.visualize.highlighted-series');\n            const objName = name(obj);\n            return !isArray(hl) || hl.length === 0 || indexOf(hl, objName) >= 0;\n        },\n\n        locale(_locale, callback) {\n            if (arguments.length) {\n                locale = _locale.replace('_', '-');\n                if (!locale) locale = 'en-US';\n                if (typeof callback === 'function') callback();\n                return chart;\n            }\n            return locale;\n        },\n\n        metricPrefix(_metricPrefix) {\n            if (arguments.length) {\n                metricPrefix = _metricPrefix;\n                return chart;\n            }\n            return metricPrefix;\n        },\n\n        inEditor: () => {\n            try {\n                return (\n                    window.parent !== window &&\n                    window.parent.dw &&\n                    window.parent.dw.backend &&\n                    window.parent.dw.backend.hooks\n                );\n            } catch (ex) {\n                return false;\n            }\n        },\n\n        createPostEvent() {\n            const chartId = chart.get('id');\n            const { isIframe } = flags;\n            return PostEvent(chartId, isIframe);\n        },\n\n        // sets or gets the flags\n        flags(_flags) {\n            if (arguments.length) {\n                flags = _flags;\n                return chart;\n            }\n            return flags;\n        },\n\n        render(outerContainer) {\n            if (!visualization || !theme || !dataset) {\n                throw new Error('cannot render the chart!');\n            }\n\n            const isIframe = flags.isIframe;\n            const container = chart.vis().target();\n\n            visualization.chart(chart);\n            visualization.container(container);\n            visualization.outerContainer(outerContainer);\n\n            // compute chart dimensions\n            const w = width(container);\n            const h = isIframe\n                ? getMaxChartHeight()\n                : chart.getMetadata('publish.chart-height') || 400;\n\n            const heightMode = chart.getHeightMode();\n\n            // only render if iframe has valid dimensions\n            if (heightMode === 'fixed' ? w <= 0 : w <= 0 || h <= 0) {\n                console.warn('Aborting chart rendering due to invalid container dimensions');\n\n                window.clearInterval(this.__resizingInterval);\n                this.__resizingInterval = setInterval(postMessage, 1000);\n                postMessage();\n\n                return;\n            }\n\n            // set chart mode class\n            outerContainer.classList.toggle('vis-height-fit', heightMode === 'fit');\n            outerContainer.classList.toggle('vis-height-fixed', heightMode === 'fixed');\n\n            // set mobile class\n            const breakpoint = get(theme, `vis.${chart.type}.mobileBreakpoint`, 450);\n            outerContainer.classList.toggle('is-mobile', outerContainer.clientWidth <= breakpoint);\n\n            // really needed?\n            outerContainer.classList.add('vis-' + visualization.id);\n\n            visualization.reset(container);\n            visualization.size(w, h);\n            visualization.__init();\n\n            visualization.render(container);\n\n            if (isIframe) {\n                window.clearInterval(this.__resizingInterval);\n                this.__resizingInterval = setInterval(postMessage, 1000);\n                postMessage();\n            }\n\n            function postMessage() {\n                if (flags && flags.fitchart) return;\n\n                let desiredHeight;\n\n                if (chart.getHeightMode() === 'fit') {\n                    if (chart.inEditor() || !chart.getMetadata('publish.chart-height')) return;\n                    desiredHeight = getNonChartHeight() + chart.getMetadata('publish.chart-height');\n                } else {\n                    desiredHeight = outerHeight(document.querySelector('html'), true);\n                }\n\n                if (Math.round(window.innerHeight) === Math.round(desiredHeight)) {\n                    // no need to request a height change here\n                    return;\n                }\n\n                const { previewId } = flags;\n\n                // datawrapper responsive embed\n                window.parent.postMessage(\n                    {\n                        'datawrapper-height': {\n                            [chart.get().id]: desiredHeight,\n                            ...(previewId ? { previewId } : {})\n                        }\n                    },\n                    '*'\n                );\n\n                // Google AMP\n                window.parent.postMessage(\n                    {\n                        sentinel: 'amp',\n                        type: 'embed-size',\n                        height: desiredHeight\n                    },\n                    '*'\n                );\n\n                // Medium\n                window.parent.postMessage(\n                    JSON.stringify({\n                        src: location.href,\n                        context: 'iframe.resize',\n                        height: desiredHeight\n                    }),\n                    '*'\n                );\n\n                if (typeof window.datawrapperHeightCallback === 'function') {\n                    window.datawrapperHeightCallback(desiredHeight);\n                }\n            }\n        },\n\n        getHeightMode() {\n            return getHeightMode({\n                themeData: visualization.theme(),\n                visualizationMeta: visualization.meta,\n                renderFlags: flags\n            });\n        },\n\n        attributes(attrs) {\n            if (arguments.length) {\n                const diff = objectDiff(attributes, attrs);\n                attributes = attrs;\n                // fire onChange callbacks\n                getNestedObjectKeys(diff).forEach(key => {\n                    changeCallbacks.fire(chart, key, get(attrs, key));\n                });\n                return chart;\n            }\n            return attributes;\n        },\n\n        // Legacy event-handling (TODO: Remove/replace?):\n        onChange: changeCallbacks.add,\n        onDatasetChange: datasetChangeCallbacks.add,\n\n        dataCellChanged(column, row) {\n            const changes = chart.get('metadata.data.changes', []);\n            const transpose = chart.get('metadata.data.transpose', false);\n            let changed = false;\n\n            const order = dataset.columnOrder();\n            column = order[column];\n\n            changes.forEach(change => {\n                let r = 'row';\n                let c = 'column';\n                if (transpose) {\n                    r = 'column';\n                    c = 'row';\n                }\n                if (column === change[c] && change[r] === row) {\n                    changed = true;\n                }\n            });\n            return changed;\n        },\n\n        asset(id, asset) {\n            if (arguments.length === 1) {\n                return _assets[id];\n            }\n\n            _assets[id] = asset;\n        },\n\n        translations(values) {\n            if (arguments.length === 0) {\n                return _translations;\n            }\n\n            _translations = values;\n\n            return this;\n        },\n\n        translate(key) {\n            if (!_translations[key]) return 'MISSING: ' + key;\n            var translation = _translations[key];\n\n            if (typeof translation === 'string' && arguments.length > 1) {\n                // replace $0, $1 etc with remaining arguments\n                translation = translation.replace(/\\$(\\d)/g, (m, i) => {\n                    i = 1 + Number(i);\n                    if (arguments[i] === undefined) return m;\n                    return arguments[i];\n                });\n            }\n\n            return translation;\n        }\n    };\n\n    if (attributes.language) {\n        chart.locale(attributes.language);\n    }\n\n    return chart;\n}\n\n/**\n * returns list of keys defined in an object\n *\n * @param {object} object\n * @returns {string[]} list of keys\n */\nfunction getNestedObjectKeys(object) {\n    const candidates = Object.keys(object);\n    const keys = [];\n    candidates.forEach(key => {\n        if (!isPlainObject(object[key])) keys.push(key);\n        else {\n            getNestedObjectKeys(object[key]).forEach(subkey => {\n                keys.push(`${key}.${subkey}`);\n            });\n        }\n    });\n    return keys;\n}\n","/*! @preserve\n * numeral.js\n * version : 2.0.6\n * author : Adam Draper\n * license : MIT\n * http://adamwdraper.github.com/Numeral-js/\n */\n\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        global.numeral = factory();\n    }\n}(this, function () {\n    /************************************\n        Variables\n    ************************************/\n\n    var numeral,\n        _,\n        VERSION = '2.0.6',\n        formats = {},\n        locales = {},\n        defaults = {\n            currentLocale: 'en',\n            zeroFormat: null,\n            nullFormat: null,\n            defaultFormat: '0,0',\n            scalePercentBy100: true\n        },\n        options = {\n            currentLocale: defaults.currentLocale,\n            zeroFormat: defaults.zeroFormat,\n            nullFormat: defaults.nullFormat,\n            defaultFormat: defaults.defaultFormat,\n            scalePercentBy100: defaults.scalePercentBy100\n        };\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n    // Numeral prototype object\n    function Numeral(input, number) {\n        this._input = input;\n\n        this._value = number;\n    }\n\n    numeral = function(input) {\n        var value,\n            kind,\n            unformatFunction,\n            regexp;\n\n        if (numeral.isNumeral(input)) {\n            value = input.value();\n        } else if (input === 0 || typeof input === 'undefined') {\n            value = 0;\n        } else if (input === null || _.isNaN(input)) {\n            value = null;\n        } else if (typeof input === 'string') {\n            if (options.zeroFormat && input === options.zeroFormat) {\n                value = 0;\n            } else if (options.nullFormat && input === options.nullFormat || !input.replace(/[^0-9]+/g, '').length) {\n                value = null;\n            } else {\n                for (kind in formats) {\n                    regexp = typeof formats[kind].regexps.unformat === 'function' ? formats[kind].regexps.unformat() : formats[kind].regexps.unformat;\n\n                    if (regexp && input.match(regexp)) {\n                        unformatFunction = formats[kind].unformat;\n\n                        break;\n                    }\n                }\n\n                unformatFunction = unformatFunction || numeral._.stringToNumber;\n\n                value = unformatFunction(input);\n            }\n        } else {\n            value = Number(input)|| null;\n        }\n\n        return new Numeral(input, value);\n    };\n\n    // version number\n    numeral.version = VERSION;\n\n    // compare numeral object\n    numeral.isNumeral = function(obj) {\n        return obj instanceof Numeral;\n    };\n\n    // helper functions\n    numeral._ = _ = {\n        // formats numbers separators, decimals places, signs, abbreviations\n        numberToFormat: function(value, format, roundingFunction) {\n            var locale = locales[numeral.options.currentLocale],\n                negP = false,\n                optDec = false,\n                leadingCount = 0,\n                abbr = '',\n                trillion = 1000000000000,\n                billion = 1000000000,\n                million = 1000000,\n                thousand = 1000,\n                decimal = '',\n                neg = false,\n                abbrForce, // force abbreviation\n                abs,\n                min,\n                max,\n                power,\n                int,\n                precision,\n                signed,\n                thousands,\n                output;\n\n            // make sure we never format a null value\n            value = value || 0;\n\n            abs = Math.abs(value);\n\n            // see if we should use parentheses for negative number or if we should prefix with a sign\n            // if both are present we default to parentheses\n            if (numeral._.includes(format, '(')) {\n                negP = true;\n                format = format.replace(/[\\(|\\)]/g, '');\n            } else if (numeral._.includes(format, '+') || numeral._.includes(format, '-')) {\n                signed = numeral._.includes(format, '+') ? format.indexOf('+') : value < 0 ? format.indexOf('-') : -1;\n                format = format.replace(/[\\+|\\-]/g, '');\n            }\n\n            // see if abbreviation is wanted\n            if (numeral._.includes(format, 'a')) {\n                abbrForce = format.match(/a(k|m|b|t)?/);\n\n                abbrForce = abbrForce ? abbrForce[1] : false;\n\n                // check for space before abbreviation\n                if (numeral._.includes(format, ' a')) {\n                    abbr = ' ';\n                }\n\n                format = format.replace(new RegExp(abbr + 'a[kmbt]?'), '');\n\n                if (abs >= trillion && !abbrForce || abbrForce === 't') {\n                    // trillion\n                    abbr += locale.abbreviations.trillion;\n                    value = value / trillion;\n                } else if (abs < trillion && abs >= billion && !abbrForce || abbrForce === 'b') {\n                    // billion\n                    abbr += locale.abbreviations.billion;\n                    value = value / billion;\n                } else if (abs < billion && abs >= million && !abbrForce || abbrForce === 'm') {\n                    // million\n                    abbr += locale.abbreviations.million;\n                    value = value / million;\n                } else if (abs < million && abs >= thousand && !abbrForce || abbrForce === 'k') {\n                    // thousand\n                    abbr += locale.abbreviations.thousand;\n                    value = value / thousand;\n                }\n            }\n\n            // check for optional decimals\n            if (numeral._.includes(format, '[.]')) {\n                optDec = true;\n                format = format.replace('[.]', '.');\n            }\n\n            // break number and format\n            int = value.toString().split('.')[0];\n            precision = format.split('.')[1];\n            thousands = format.indexOf(',');\n            leadingCount = (format.split('.')[0].split(',')[0].match(/0/g) || []).length;\n\n            if (precision) {\n                if (numeral._.includes(precision, '[')) {\n                    precision = precision.replace(']', '');\n                    precision = precision.split('[');\n                    decimal = numeral._.toFixed(value, (precision[0].length + precision[1].length), roundingFunction, precision[1].length);\n                } else {\n                    decimal = numeral._.toFixed(value, precision.length, roundingFunction);\n                }\n\n                int = decimal.split('.')[0];\n\n                if (numeral._.includes(decimal, '.')) {\n                    decimal = locale.delimiters.decimal + decimal.split('.')[1];\n                } else {\n                    decimal = '';\n                }\n\n                if (optDec && Number(decimal.slice(1)) === 0) {\n                    decimal = '';\n                }\n            } else {\n                int = numeral._.toFixed(value, 0, roundingFunction);\n            }\n\n            // check abbreviation again after rounding\n            if (abbr && !abbrForce && Number(int) >= 1000 && abbr !== locale.abbreviations.trillion) {\n                int = String(Number(int) / 1000);\n\n                switch (abbr) {\n                    case locale.abbreviations.thousand:\n                        abbr = locale.abbreviations.million;\n                        break;\n                    case locale.abbreviations.million:\n                        abbr = locale.abbreviations.billion;\n                        break;\n                    case locale.abbreviations.billion:\n                        abbr = locale.abbreviations.trillion;\n                        break;\n                }\n            }\n\n\n            // format number\n            if (numeral._.includes(int, '-')) {\n                int = int.slice(1);\n                neg = true;\n            }\n\n            if (int.length < leadingCount) {\n                for (var i = leadingCount - int.length; i > 0; i--) {\n                    int = '0' + int;\n                }\n            }\n\n            if (thousands > -1) {\n                int = int.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + locale.delimiters.thousands);\n            }\n\n            if (format.indexOf('.') === 0) {\n                int = '';\n            }\n\n            output = int + decimal + (abbr ? abbr : '');\n\n            if (negP) {\n                output = (negP && neg ? '(' : '') + output + (negP && neg ? ')' : '');\n            } else {\n                if (signed >= 0) {\n                    output = signed === 0 ? (neg ? '-' : '+') + output : output + (neg ? '-' : '+');\n                } else if (neg) {\n                    output = '-' + output;\n                }\n            }\n\n            return output;\n        },\n        // unformats numbers separators, decimals places, signs, abbreviations\n        stringToNumber: function(string) {\n            var locale = locales[options.currentLocale],\n                stringOriginal = string,\n                abbreviations = {\n                    thousand: 3,\n                    million: 6,\n                    billion: 9,\n                    trillion: 12\n                },\n                abbreviation,\n                value,\n                i,\n                regexp;\n\n            if (options.zeroFormat && string === options.zeroFormat) {\n                value = 0;\n            } else if (options.nullFormat && string === options.nullFormat || !string.replace(/[^0-9]+/g, '').length) {\n                value = null;\n            } else {\n                value = 1;\n\n                if (locale.delimiters.decimal !== '.') {\n                    string = string.replace(/\\./g, '').replace(locale.delimiters.decimal, '.');\n                }\n\n                for (abbreviation in abbreviations) {\n                    regexp = new RegExp('[^a-zA-Z]' + locale.abbreviations[abbreviation] + '(?:\\\\)|(\\\\' + locale.currency.symbol + ')?(?:\\\\))?)?$');\n\n                    if (stringOriginal.match(regexp)) {\n                        value *= Math.pow(10, abbreviations[abbreviation]);\n                        break;\n                    }\n                }\n\n                // check for negative number\n                value *= (string.split('-').length + Math.min(string.split('(').length - 1, string.split(')').length - 1)) % 2 ? 1 : -1;\n\n                // remove non numbers\n                string = string.replace(/[^0-9\\.]+/g, '');\n\n                value *= Number(string);\n            }\n\n            return value;\n        },\n        isNaN: function(value) {\n            return typeof value === 'number' && isNaN(value);\n        },\n        includes: function(string, search) {\n            return string.indexOf(search) !== -1;\n        },\n        insert: function(string, subString, start) {\n            return string.slice(0, start) + subString + string.slice(start);\n        },\n        reduce: function(array, callback /*, initialValue*/) {\n            if (this === null) {\n                throw new TypeError('Array.prototype.reduce called on null or undefined');\n            }\n\n            if (typeof callback !== 'function') {\n                throw new TypeError(callback + ' is not a function');\n            }\n\n            var t = Object(array),\n                len = t.length >>> 0,\n                k = 0,\n                value;\n\n            if (arguments.length === 3) {\n                value = arguments[2];\n            } else {\n                while (k < len && !(k in t)) {\n                    k++;\n                }\n\n                if (k >= len) {\n                    throw new TypeError('Reduce of empty array with no initial value');\n                }\n\n                value = t[k++];\n            }\n            for (; k < len; k++) {\n                if (k in t) {\n                    value = callback(value, t[k], k, t);\n                }\n            }\n            return value;\n        },\n        /**\n         * Computes the multiplier necessary to make x >= 1,\n         * effectively eliminating miscalculations caused by\n         * finite precision.\n         */\n        multiplier: function (x) {\n            var parts = x.toString().split('.');\n\n            return parts.length < 2 ? 1 : Math.pow(10, parts[1].length);\n        },\n        /**\n         * Given a variable number of arguments, returns the maximum\n         * multiplier that must be used to normalize an operation involving\n         * all of them.\n         */\n        correctionFactor: function () {\n            var args = Array.prototype.slice.call(arguments);\n\n            return args.reduce(function(accum, next) {\n                var mn = _.multiplier(next);\n                return accum > mn ? accum : mn;\n            }, 1);\n        },\n        /**\n         * Implementation of toFixed() that treats floats more like decimals\n         *\n         * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present\n         * problems for accounting- and finance-related software.\n         */\n        toFixed: function(value, maxDecimals, roundingFunction, optionals) {\n            var splitValue = value.toString().split('.'),\n                minDecimals = maxDecimals - (optionals || 0),\n                boundedPrecision,\n                optionalsRegExp,\n                power,\n                output;\n\n            // Use the smallest precision value possible to avoid errors from floating point representation\n            if (splitValue.length === 2) {\n              boundedPrecision = Math.min(Math.max(splitValue[1].length, minDecimals), maxDecimals);\n            } else {\n              boundedPrecision = minDecimals;\n            }\n\n            power = Math.pow(10, boundedPrecision);\n\n            // Multiply up by precision, round accurately, then divide and use native toFixed():\n            output = (roundingFunction(value + 'e+' + boundedPrecision) / power).toFixed(boundedPrecision);\n\n            if (optionals > maxDecimals - boundedPrecision) {\n                optionalsRegExp = new RegExp('\\\\.?0{1,' + (optionals - (maxDecimals - boundedPrecision)) + '}$');\n                output = output.replace(optionalsRegExp, '');\n            }\n\n            return output;\n        }\n    };\n\n    // avaliable options\n    numeral.options = options;\n\n    // avaliable formats\n    numeral.formats = formats;\n\n    // avaliable formats\n    numeral.locales = locales;\n\n    // This function sets the current locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    numeral.locale = function(key) {\n        if (key) {\n            options.currentLocale = key.toLowerCase();\n        }\n\n        return options.currentLocale;\n    };\n\n    // This function provides access to the loaded locale data.  If\n    // no arguments are passed in, it will simply return the current\n    // global locale object.\n    numeral.localeData = function(key) {\n        if (!key) {\n            return locales[options.currentLocale];\n        }\n\n        key = key.toLowerCase();\n\n        if (!locales[key]) {\n            throw new Error('Unknown locale : ' + key);\n        }\n\n        return locales[key];\n    };\n\n    numeral.reset = function() {\n        for (var property in defaults) {\n            options[property] = defaults[property];\n        }\n    };\n\n    numeral.zeroFormat = function(format) {\n        options.zeroFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.nullFormat = function (format) {\n        options.nullFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.defaultFormat = function(format) {\n        options.defaultFormat = typeof(format) === 'string' ? format : '0.0';\n    };\n\n    numeral.register = function(type, name, format) {\n        name = name.toLowerCase();\n\n        if (this[type + 's'][name]) {\n            throw new TypeError(name + ' ' + type + ' already registered.');\n        }\n\n        this[type + 's'][name] = format;\n\n        return format;\n    };\n\n\n    numeral.validate = function(val, culture) {\n        var _decimalSep,\n            _thousandSep,\n            _currSymbol,\n            _valArray,\n            _abbrObj,\n            _thousandRegEx,\n            localeData,\n            temp;\n\n        //coerce val to string\n        if (typeof val !== 'string') {\n            val += '';\n\n            if (console.warn) {\n                console.warn('Numeral.js: Value is not string. It has been co-erced to: ', val);\n            }\n        }\n\n        //trim whitespaces from either sides\n        val = val.trim();\n\n        //if val is just digits return true\n        if (!!val.match(/^\\d+$/)) {\n            return true;\n        }\n\n        //if val is empty return false\n        if (val === '') {\n            return false;\n        }\n\n        //get the decimal and thousands separator from numeral.localeData\n        try {\n            //check if the culture is understood by numeral. if not, default it to current locale\n            localeData = numeral.localeData(culture);\n        } catch (e) {\n            localeData = numeral.localeData(numeral.locale());\n        }\n\n        //setup the delimiters and currency symbol based on culture/locale\n        _currSymbol = localeData.currency.symbol;\n        _abbrObj = localeData.abbreviations;\n        _decimalSep = localeData.delimiters.decimal;\n        if (localeData.delimiters.thousands === '.') {\n            _thousandSep = '\\\\.';\n        } else {\n            _thousandSep = localeData.delimiters.thousands;\n        }\n\n        // validating currency symbol\n        temp = val.match(/^[^\\d]+/);\n        if (temp !== null) {\n            val = val.substr(1);\n            if (temp[0] !== _currSymbol) {\n                return false;\n            }\n        }\n\n        //validating abbreviation symbol\n        temp = val.match(/[^\\d]+$/);\n        if (temp !== null) {\n            val = val.slice(0, -1);\n            if (temp[0] !== _abbrObj.thousand && temp[0] !== _abbrObj.million && temp[0] !== _abbrObj.billion && temp[0] !== _abbrObj.trillion) {\n                return false;\n            }\n        }\n\n        _thousandRegEx = new RegExp(_thousandSep + '{2}');\n\n        if (!val.match(/[^\\d.,]/g)) {\n            _valArray = val.split(_decimalSep);\n            if (_valArray.length > 2) {\n                return false;\n            } else {\n                if (_valArray.length < 2) {\n                    return ( !! _valArray[0].match(/^\\d+.*\\d$/) && !_valArray[0].match(_thousandRegEx));\n                } else {\n                    if (_valArray[0].length === 1) {\n                        return ( !! _valArray[0].match(/^\\d+$/) && !_valArray[0].match(_thousandRegEx) && !! _valArray[1].match(/^\\d+$/));\n                    } else {\n                        return ( !! _valArray[0].match(/^\\d+.*\\d$/) && !_valArray[0].match(_thousandRegEx) && !! _valArray[1].match(/^\\d+$/));\n                    }\n                }\n            }\n        }\n\n        return false;\n    };\n\n\n    /************************************\n        Numeral Prototype\n    ************************************/\n\n    numeral.fn = Numeral.prototype = {\n        clone: function() {\n            return numeral(this);\n        },\n        format: function(inputString, roundingFunction) {\n            var value = this._value,\n                format = inputString || options.defaultFormat,\n                kind,\n                output,\n                formatFunction;\n\n            // make sure we have a roundingFunction\n            roundingFunction = roundingFunction || Math.round;\n\n            // format based on value\n            if (value === 0 && options.zeroFormat !== null) {\n                output = options.zeroFormat;\n            } else if (value === null && options.nullFormat !== null) {\n                output = options.nullFormat;\n            } else {\n                for (kind in formats) {\n                    if (format.match(formats[kind].regexps.format)) {\n                        formatFunction = formats[kind].format;\n\n                        break;\n                    }\n                }\n\n                formatFunction = formatFunction || numeral._.numberToFormat;\n\n                output = formatFunction(value, format, roundingFunction);\n            }\n\n            return output;\n        },\n        value: function() {\n            return this._value;\n        },\n        input: function() {\n            return this._input;\n        },\n        set: function(value) {\n            this._value = Number(value);\n\n            return this;\n        },\n        add: function(value) {\n            var corrFactor = _.correctionFactor.call(null, this._value, value);\n\n            function cback(accum, curr, currI, O) {\n                return accum + Math.round(corrFactor * curr);\n            }\n\n            this._value = _.reduce([this._value, value], cback, 0) / corrFactor;\n\n            return this;\n        },\n        subtract: function(value) {\n            var corrFactor = _.correctionFactor.call(null, this._value, value);\n\n            function cback(accum, curr, currI, O) {\n                return accum - Math.round(corrFactor * curr);\n            }\n\n            this._value = _.reduce([value], cback, Math.round(this._value * corrFactor)) / corrFactor;\n\n            return this;\n        },\n        multiply: function(value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = _.correctionFactor(accum, curr);\n                return Math.round(accum * corrFactor) * Math.round(curr * corrFactor) / Math.round(corrFactor * corrFactor);\n            }\n\n            this._value = _.reduce([this._value, value], cback, 1);\n\n            return this;\n        },\n        divide: function(value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = _.correctionFactor(accum, curr);\n                return Math.round(accum * corrFactor) / Math.round(curr * corrFactor);\n            }\n\n            this._value = _.reduce([this._value, value], cback);\n\n            return this;\n        },\n        difference: function(value) {\n            return Math.abs(numeral(this._value).subtract(value).value());\n        }\n    };\n\n    /************************************\n        Default Locale && Format\n    ************************************/\n\n    numeral.register('locale', 'en', {\n        delimiters: {\n            thousands: ',',\n            decimal: '.'\n        },\n        abbreviations: {\n            thousand: 'k',\n            million: 'm',\n            billion: 'b',\n            trillion: 't'\n        },\n        ordinal: function(number) {\n            var b = number % 10;\n            return (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n        },\n        currency: {\n            symbol: '$'\n        }\n    });\n\n    \n\n(function() {\n        numeral.register('format', 'bps', {\n            regexps: {\n                format: /(BPS)/,\n                unformat: /(BPS)/\n            },\n            format: function(value, format, roundingFunction) {\n                var space = numeral._.includes(format, ' BPS') ? ' ' : '',\n                    output;\n\n                value = value * 10000;\n\n                // check for space before BPS\n                format = format.replace(/\\s?BPS/, '');\n\n                output = numeral._.numberToFormat(value, format, roundingFunction);\n\n                if (numeral._.includes(output, ')')) {\n                    output = output.split('');\n\n                    output.splice(-1, 0, space + 'BPS');\n\n                    output = output.join('');\n                } else {\n                    output = output + space + 'BPS';\n                }\n\n                return output;\n            },\n            unformat: function(string) {\n                return +(numeral._.stringToNumber(string) * 0.0001).toFixed(15);\n            }\n        });\n})();\n\n\n(function() {\n        var decimal = {\n            base: 1000,\n            suffixes: ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n        },\n        binary = {\n            base: 1024,\n            suffixes: ['B', 'KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']\n        };\n\n    var allSuffixes =  decimal.suffixes.concat(binary.suffixes.filter(function (item) {\n            return decimal.suffixes.indexOf(item) < 0;\n        }));\n        var unformatRegex = allSuffixes.join('|');\n        // Allow support for BPS (http://www.investopedia.com/terms/b/basispoint.asp)\n        unformatRegex = '(' + unformatRegex.replace('B', 'B(?!PS)') + ')';\n\n    numeral.register('format', 'bytes', {\n        regexps: {\n            format: /([0\\s]i?b)/,\n            unformat: new RegExp(unformatRegex)\n        },\n        format: function(value, format, roundingFunction) {\n            var output,\n                bytes = numeral._.includes(format, 'ib') ? binary : decimal,\n                suffix = numeral._.includes(format, ' b') || numeral._.includes(format, ' ib') ? ' ' : '',\n                power,\n                min,\n                max;\n\n            // check for space before\n            format = format.replace(/\\s?i?b/, '');\n\n            for (power = 0; power <= bytes.suffixes.length; power++) {\n                min = Math.pow(bytes.base, power);\n                max = Math.pow(bytes.base, power + 1);\n\n                if (value === null || value === 0 || value >= min && value < max) {\n                    suffix += bytes.suffixes[power];\n\n                    if (min > 0) {\n                        value = value / min;\n                    }\n\n                    break;\n                }\n            }\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            return output + suffix;\n        },\n        unformat: function(string) {\n            var value = numeral._.stringToNumber(string),\n                power,\n                bytesMultiplier;\n\n            if (value) {\n                for (power = decimal.suffixes.length - 1; power >= 0; power--) {\n                    if (numeral._.includes(string, decimal.suffixes[power])) {\n                        bytesMultiplier = Math.pow(decimal.base, power);\n\n                        break;\n                    }\n\n                    if (numeral._.includes(string, binary.suffixes[power])) {\n                        bytesMultiplier = Math.pow(binary.base, power);\n\n                        break;\n                    }\n                }\n\n                value *= (bytesMultiplier || 1);\n            }\n\n            return value;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'currency', {\n        regexps: {\n            format: /(\\$)/\n        },\n        format: function(value, format, roundingFunction) {\n            var locale = numeral.locales[numeral.options.currentLocale],\n                symbols = {\n                    before: format.match(/^([\\+|\\-|\\(|\\s|\\$]*)/)[0],\n                    after: format.match(/([\\+|\\-|\\)|\\s|\\$]*)$/)[0]\n                },\n                output,\n                symbol,\n                i;\n\n            // strip format of spaces and $\n            format = format.replace(/\\s?\\$\\s?/, '');\n\n            // format the number\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            // update the before and after based on value\n            if (value >= 0) {\n                symbols.before = symbols.before.replace(/[\\-\\(]/, '');\n                symbols.after = symbols.after.replace(/[\\-\\)]/, '');\n            } else if (value < 0 && (!numeral._.includes(symbols.before, '-') && !numeral._.includes(symbols.before, '('))) {\n                symbols.before = '-' + symbols.before;\n            }\n\n            // loop through each before symbol\n            for (i = 0; i < symbols.before.length; i++) {\n                symbol = symbols.before[i];\n\n                switch (symbol) {\n                    case '$':\n                        output = numeral._.insert(output, locale.currency.symbol, i);\n                        break;\n                    case ' ':\n                        output = numeral._.insert(output, ' ', i + locale.currency.symbol.length - 1);\n                        break;\n                }\n            }\n\n            // loop through each after symbol\n            for (i = symbols.after.length - 1; i >= 0; i--) {\n                symbol = symbols.after[i];\n\n                switch (symbol) {\n                    case '$':\n                        output = i === symbols.after.length - 1 ? output + locale.currency.symbol : numeral._.insert(output, locale.currency.symbol, -(symbols.after.length - (1 + i)));\n                        break;\n                    case ' ':\n                        output = i === symbols.after.length - 1 ? output + ' ' : numeral._.insert(output, ' ', -(symbols.after.length - (1 + i) + locale.currency.symbol.length - 1));\n                        break;\n                }\n            }\n\n\n            return output;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'exponential', {\n        regexps: {\n            format: /(e\\+|e-)/,\n            unformat: /(e\\+|e-)/\n        },\n        format: function(value, format, roundingFunction) {\n            var output,\n                exponential = typeof value === 'number' && !numeral._.isNaN(value) ? value.toExponential() : '0e+0',\n                parts = exponential.split('e');\n\n            format = format.replace(/e[\\+|\\-]{1}0/, '');\n\n            output = numeral._.numberToFormat(Number(parts[0]), format, roundingFunction);\n\n            return output + 'e' + parts[1];\n        },\n        unformat: function(string) {\n            var parts = numeral._.includes(string, 'e+') ? string.split('e+') : string.split('e-'),\n                value = Number(parts[0]),\n                power = Number(parts[1]);\n\n            power = numeral._.includes(string, 'e-') ? power *= -1 : power;\n\n            function cback(accum, curr, currI, O) {\n                var corrFactor = numeral._.correctionFactor(accum, curr),\n                    num = (accum * corrFactor) * (curr * corrFactor) / (corrFactor * corrFactor);\n                return num;\n            }\n\n            return numeral._.reduce([value, Math.pow(10, power)], cback, 1);\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'ordinal', {\n        regexps: {\n            format: /(o)/\n        },\n        format: function(value, format, roundingFunction) {\n            var locale = numeral.locales[numeral.options.currentLocale],\n                output,\n                ordinal = numeral._.includes(format, ' o') ? ' ' : '';\n\n            // check for space before\n            format = format.replace(/\\s?o/, '');\n\n            ordinal += locale.ordinal(value);\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            return output + ordinal;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'percentage', {\n        regexps: {\n            format: /(%)/,\n            unformat: /(%)/\n        },\n        format: function(value, format, roundingFunction) {\n            var space = numeral._.includes(format, ' %') ? ' ' : '',\n                output;\n\n            if (numeral.options.scalePercentBy100) {\n                value = value * 100;\n            }\n\n            // check for space before %\n            format = format.replace(/\\s?\\%/, '');\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            if (numeral._.includes(output, ')')) {\n                output = output.split('');\n\n                output.splice(-1, 0, space + '%');\n\n                output = output.join('');\n            } else {\n                output = output + space + '%';\n            }\n\n            return output;\n        },\n        unformat: function(string) {\n            var number = numeral._.stringToNumber(string);\n            if (numeral.options.scalePercentBy100) {\n                return number * 0.01;\n            }\n            return number;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'time', {\n        regexps: {\n            format: /(:)/,\n            unformat: /(:)/\n        },\n        format: function(value, format, roundingFunction) {\n            var hours = Math.floor(value / 60 / 60),\n                minutes = Math.floor((value - (hours * 60 * 60)) / 60),\n                seconds = Math.round(value - (hours * 60 * 60) - (minutes * 60));\n\n            return hours + ':' + (minutes < 10 ? '0' + minutes : minutes) + ':' + (seconds < 10 ? '0' + seconds : seconds);\n        },\n        unformat: function(string) {\n            var timeArray = string.split(':'),\n                seconds = 0;\n\n            // turn hours and minutes into seconds and add them all up\n            if (timeArray.length === 3) {\n                // hours\n                seconds = seconds + (Number(timeArray[0]) * 60 * 60);\n                // minutes\n                seconds = seconds + (Number(timeArray[1]) * 60);\n                // seconds\n                seconds = seconds + Number(timeArray[2]);\n            } else if (timeArray.length === 2) {\n                // minutes\n                seconds = seconds + (Number(timeArray[0]) * 60);\n                // seconds\n                seconds = seconds + Number(timeArray[1]);\n            }\n            return Number(seconds);\n        }\n    });\n})();\n\nreturn numeral;\n}));\n","import column from '../dataset/column.mjs';\nimport { each, isArray, filter, find, indexOf, map, range } from 'underscore';\n\n/**\n * Assign dataset columns to visualization axes. Non-optional columns\n * will automatically be assigned based on a matching column type and\n * column name (if the vis axis defined a regex).\n *\n * Optional axes can define a `overrideOptionalKey` which will turn\n * it into a non-optional axis in case the specified metadata key\n * contains a truthy value.\n *\n * @param {Dataset} dataset - the parsed dataset\n * @param {object} visAxes - axis definitions from visualization\n * @param {object} userAxes - user preferences for axis assignments\n *                            (from chart.metadata.axis)\n * @param {object} overrideKeys - map of all axes overrideOptionalKeys\n *                                and the current metadata values\n * @returns {object}\n */\nexport default function populateVisAxes({ dataset, visAxes, userAxes, overrideKeys }) {\n    userAxes = userAxes || {};\n    overrideKeys = overrideKeys || {};\n    const usedColumns = {};\n    const axes = {};\n    const axesAsColumns = {};\n\n    // get user preference\n    each(visAxes, (o, key) => {\n        if (userAxes[key]) {\n            let columns = userAxes[key];\n\n            if (o.optional && o.overrideOptionalKey && !overrideKeys[o.overrideOptionalKey]) {\n                return;\n            }\n\n            if (\n                columnExists(columns) &&\n                checkColumn(o, columns, true) &&\n                !!o.multiple === isArray(columns)\n            ) {\n                axes[key] = o.multiple && !isArray(columns) ? [columns] : columns;\n                // mark columns as used\n                if (!isArray(columns)) columns = [columns];\n                each(columns, function (column) {\n                    usedColumns[column] = true;\n                });\n            }\n        }\n    });\n\n    var checked = [];\n\n    each(visAxes, axisDef => {\n        if (axisDef.optional) {\n            // chart settings may override this\n            if (axisDef.overrideOptionalKey && overrideKeys[axisDef.overrideOptionalKey]) {\n                // now the axis is mandatory\n                axisDef.optional = false;\n            }\n        }\n    });\n\n    // auto-populate remaining axes\n    each(visAxes, (axisDef, key) => {\n        function remainingRequiredColumns(accepts) {\n            // returns how many required columns there are for the remaining axes\n            // either an integer or \"multiple\" if there's another multi-column axis coming up\n            function equalAccepts(a1, a2) {\n                if (typeof a1 === 'undefined' && typeof a2 !== 'undefined') return false;\n                if (typeof a2 === 'undefined' && typeof a1 !== 'undefined') return false;\n                if (a1.length !== a2.length) return false;\n\n                for (let i = 0; i < a1.length; i++) {\n                    if (a2.indexOf(a1[i]) === -1) return false;\n                }\n                return true;\n            }\n\n            let res = 0;\n            each(visAxes, function (axisDef, key) {\n                if (checked.indexOf(key) > -1) return;\n                if (!equalAccepts(axisDef.accepts, accepts)) return;\n                if (typeof res === 'string') return;\n                if (axisDef.optional) return;\n                if (axisDef.multiple) {\n                    res = 'multiple';\n                    return;\n                }\n                res += 1;\n            });\n            return res;\n        }\n        function remainingAvailableColumns(dataset) {\n            let count = 0;\n            dataset.eachColumn(c => {\n                if (checkColumn(axisDef, c)) {\n                    count++;\n                }\n            });\n            return count;\n        }\n        checked.push(key);\n        if (axes[key]) return; // user has defined this axis already\n        if (!axisDef.optional) {\n            // we only populate mandatory axes\n            if (!axisDef.multiple) {\n                const accepted = filter(dataset.columns(), c => checkColumn(axisDef, c));\n                let firstMatch;\n                if (axisDef.preferred) {\n                    // axis defined a regex for testing column names\n                    const regex = new RegExp(axisDef.preferred, 'i');\n                    firstMatch = find(accepted, function (col) {\n                        return (\n                            regex.test(col.name()) ||\n                            (col.title() !== col.name() && regex.test(col.title()))\n                        );\n                    });\n                }\n                // simply use first colulmn accepted by axis\n                if (!firstMatch) firstMatch = accepted[0];\n                if (firstMatch) {\n                    usedColumns[firstMatch.name()] = true; // mark column as used\n                    axes[key] = firstMatch.name();\n                } else {\n                    // try to auto-populate missing text column\n                    if (indexOf(axisDef.accepts, 'text') >= 0) {\n                        // try using the first text column in the dataset instead\n                        const acceptedAllowUsed = filter(dataset.columns(), function (col) {\n                            return indexOf(axisDef.accepts, col.type()) >= 0;\n                        });\n                        if (acceptedAllowUsed.length) {\n                            axes[key] = acceptedAllowUsed[0].name();\n                        } else {\n                            // no other text column in dataset, so genetate one with A,B,C,D...\n                            const col = column(\n                                key,\n                                map(range(dataset.numRows()), function (i) {\n                                    return (\n                                        (i > 25 ? String.fromCharCode(64 + i / 26) : '') +\n                                        String.fromCharCode(65 + (i % 26))\n                                    );\n                                }),\n                                'text'\n                            );\n                            dataset.add(col);\n                            usedColumns[col.name()] = true;\n                            axes[key] = col.name();\n                        }\n                    } else if (indexOf(axisDef.accepts, 'number') >= 0) {\n                        // try to auto-populate missing number column\n                        const acceptedAllowUsed = filter(dataset.columns(), function (col) {\n                            return indexOf(axisDef.accepts, col.type()) >= 0;\n                        });\n                        if (acceptedAllowUsed.length) {\n                            axes[key] = acceptedAllowUsed[0].name();\n                        }\n                    }\n                }\n            } else {\n                const required = remainingRequiredColumns(axisDef.accepts);\n                let available = remainingAvailableColumns(dataset);\n\n                // fill axis with all accepted columns\n                axes[key] = [];\n                dataset.eachColumn(function (c) {\n                    if (required === 'multiple' && axes[key].length) return;\n                    else if (available <= required) return;\n\n                    if (checkColumn(axisDef, c)) {\n                        usedColumns[c.name()] = true;\n                        axes[key].push(c.name());\n                        available--;\n                    }\n                });\n            }\n        } else {\n            axes[key] = false;\n        }\n    });\n\n    each(axes, (columns, key) => {\n        if (!isArray(columns)) {\n            axesAsColumns[key] = columns !== false ? dataset.column(columns) : null;\n        } else {\n            axesAsColumns[key] = [];\n            each(columns, function (column, i) {\n                axesAsColumns[key][i] = column !== false ? dataset.column(column) : null;\n            });\n        }\n    });\n\n    return { axes, axesAsColumns, usedColumns };\n\n    function columnExists(columns) {\n        if (!isArray(columns)) columns = [columns];\n        for (var i = 0; i < columns.length; i++) {\n            if (!dataset.hasColumn(columns[i])) return false;\n        }\n        return true;\n    }\n\n    function checkColumn(axisDef, columns, allowMultipleUse) {\n        if (!isArray(columns)) columns = [columns];\n        columns = columns.map(el => (typeof el === 'string' ? dataset.column(el) : el));\n        for (var i = 0; i < columns.length; i++) {\n            if (\n                (!allowMultipleUse && usedColumns[columns[i].name()]) ||\n                indexOf(axisDef.accepts, columns[i].type()) === -1\n            ) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n","/* globals dw */\n\n/*\n * Every visualization extends this class.\n * It provides the basic API between the chart editor\n * and the visualization render code.\n */\n\nimport { extend, isEqual } from 'underscore';\nimport get from '@datawrapper/shared/get.js';\nimport clone from '@datawrapper/shared/clone.js';\n\nimport { remove } from './utils/index.mjs';\nimport populateVisAxes from './utils/populateVisAxes.mjs';\nimport filterDatasetColumns from './utils/filterDatasetColumns.mjs';\n\nconst base = function () {}.prototype;\n\nextend(base, {\n    // called before rendering\n    __init() {\n        this.__renderedDfd = new Promise(resolve => {\n            this.__renderedResolve = resolve;\n        });\n        this.__rendered = false;\n        this.__colors = {};\n        this.__callbacks = {};\n\n        if (window.parent && window.parent.postMessage) {\n            window.parent.postMessage('datawrapper:vis:init', '*');\n        }\n        return this;\n    },\n\n    render(el) {\n        el.innerHTML = 'implement me!';\n    },\n\n    theme(theme) {\n        if (!arguments.length) {\n            if (typeof this.__theme === 'string') return dw.theme(this.__theme);\n            return this.__theme;\n        }\n\n        this.__theme = theme;\n        return this;\n    },\n\n    libraries(libraries) {\n        if (!arguments.length) {\n            return this.__libraries || {};\n        }\n\n        this.__libraries = libraries;\n        return this;\n    },\n\n    target(target) {\n        if (!arguments.length) {\n            return this.__target;\n        }\n\n        this.__target = target;\n        return this;\n    },\n\n    size(width, height) {\n        const me = this;\n        if (!arguments.length) return [me.__w, me.__h];\n        me.__w = width;\n        me.__h = height;\n        return me;\n    },\n\n    /**\n     * short-cut for this.chart.get('metadata.visualize.*')\n     */\n    get(str, _default) {\n        return get(this.chart().get(), 'metadata.visualize' + (str ? '.' + str : ''), _default);\n    },\n\n    chart(chart) {\n        var me = this;\n        if (!arguments.length) return me.__chart;\n        me.dataset = chart.dataset();\n        me.theme(chart.theme());\n        me.__chart = chart;\n        // reset visualization cache to make sure\n        // auto-populated columns get re-created\n        me.__axisCache = undefined;\n        filterDatasetColumns(chart, me.dataset);\n\n        // set locale\n        const { numeral } = me.libraries();\n        if (numeral && chart.locales && chart.locales.numeral) {\n            try {\n                numeral.register('locale', 'dw', chart.locales.numeral);\n            } catch (e) {\n                if (e instanceof TypeError) {\n                    // already registered\n                } else {\n                    throw e;\n                }\n            }\n            numeral.locale('dw');\n        }\n\n        return me;\n    },\n\n    /**\n     * Get or set the container element the vis was last rendered in\n     * @param {HTMLElement} el\n     * @returns {HTMLElement|void}\n     */\n    container(el) {\n        if (!arguments.length) return this.__container;\n        this.__container = el;\n    },\n\n    /**\n     * Get or set the vis's outer container element\n     */\n    outerContainer(el) {\n        if (!arguments.length) return this.__outerContainer;\n        this.__outerContainer = el;\n    },\n\n    axes(returnAsColumns, noCache) {\n        const me = this;\n        const userAxes = get(me.chart().get(), 'metadata.axes', {});\n        const visAxes = clone(me.meta.axes);\n\n        const overrideKeys = Object.fromEntries(\n            Object.entries(visAxes)\n                .filter(([, axis]) => axis.optional && axis.overrideOptionalKey)\n                .map(([, axis]) => [\n                    axis.overrideOptionalKey,\n                    me.chart().getMetadata(axis.overrideOptionalKey, false)\n                ])\n        );\n\n        if (\n            !noCache &&\n            me.__axisCache &&\n            isEqual(me.__axisCache.userAxes, userAxes) &&\n            isEqual(me.__axisCache.overrideKeys, overrideKeys) &&\n            me.__axisCache.transpose === me.chart().getMetadata('data.transpose')\n        ) {\n            return me.__axisCache[returnAsColumns ? 'axesAsColumns' : 'axes'];\n        }\n\n        const dataset = me.chart().dataset();\n\n        const { axes, axesAsColumns } = populateVisAxes({\n            dataset,\n            userAxes,\n            visAxes,\n            overrideKeys\n        });\n\n        me.__axisCache = {\n            axes: axes,\n            axesAsColumns: axesAsColumns,\n            userAxes: clone(userAxes),\n            overrideKeys,\n            transpose: me.chart().getMetadata('data.transpose')\n        };\n\n        return me.__axisCache[returnAsColumns ? 'axesAsColumns' : 'axes'];\n    },\n\n    keys() {\n        const axesDef = this.axes();\n        if (axesDef.labels) {\n            const lblCol = this.dataset.column(axesDef.labels);\n            const keys = [];\n            lblCol.each(val => {\n                keys.push(String(val));\n            });\n            return keys;\n        }\n        return [];\n    },\n\n    keyLabel(key) {\n        return key;\n    },\n\n    /*\n     * called by the core whenever the chart is re-drawn\n     * without reloading the page\n     */\n    reset() {\n        this.clear();\n        const el = this.target();\n        el.innerHTML = '';\n        remove('.chart .filter-ui');\n        remove('.chart .legend');\n    },\n\n    clear() {},\n\n    renderingComplete() {\n        if (window.parent && window.parent.postMessage) {\n            setTimeout(function () {\n                window.parent.postMessage('datawrapper:vis:rendered', '*');\n            }, 200);\n        }\n        this.__renderedResolve();\n        this.__rendered = true;\n        this.postRendering();\n    },\n\n    postRendering() {},\n\n    rendered() {\n        return this.__renderedDfd;\n    },\n\n    /*\n     * smart rendering means that a visualization is able to\n     * re-render itself without having to instantiate it again\n     */\n    supportsSmartRendering() {\n        return false;\n    },\n\n    colorMode(cm) {\n        if (!arguments.length) {\n            return this.__colorMode;\n        }\n\n        this.__colorMode = cm;\n    },\n\n    colorMap(cm) {\n        if (!arguments.length) {\n            return (...args) => {\n                let color = args[0];\n                const applyDarkModeMap = this.__darkMode && this.__darkModeColorMap;\n                this.__colors[color] = 1;\n                if (this.__colorMap) {\n                    if (applyDarkModeMap) color = this.__darkModeColorMap(...args);\n                    return this.__colorMap(color);\n                } else if (applyDarkModeMap) {\n                    color = this.__darkModeColorMap(...args);\n                }\n                return color;\n            };\n        }\n\n        this.__colorMap = cm;\n    },\n\n    initDarkMode(cb, cm) {\n        this.__onDarkModeChange = cb;\n        this.__darkModeColorMap = cm;\n    },\n\n    /**\n     * set or get dark mode state of vis\n     */\n    darkMode(dm) {\n        // can't initialize in __init because that sets it back to false on each render\n        if (this.__darkMode === undefined) this.__darkMode = false;\n        if (!arguments.length) return this.__darkMode;\n        if (!this.__onDarkModeChange) return;\n\n        this.__darkMode = dm;\n        this.__onDarkModeChange(dm);\n    },\n\n    colorsUsed() {\n        return Object.keys(this.__colors);\n    },\n\n    /**\n     * register an event listener for custom vis events\n     */\n    on(eventType, callback) {\n        if (!this.__callbacks[eventType]) {\n            this.__callbacks[eventType] = [];\n        }\n        this.__callbacks[eventType].push(callback);\n    },\n\n    /**\n     * fire a custom vis event\n     */\n    fire(eventType, data) {\n        if (this.__callbacks && this.__callbacks[eventType]) {\n            this.__callbacks[eventType].forEach(function (cb) {\n                if (typeof cb === 'function') cb(data);\n            });\n        }\n    },\n\n    /**\n     * log error message\n     * @param {string} message\n     */\n    showError(message) {\n        const { allowEditing } = this.chart().flags();\n        if (allowEditing) {\n            // inside editor we show the error to the user directly\n            this.container().innerHTML = `<div class=\"error\"><p>${message}</p></div>`;\n        }\n        console.warn(message);\n    }\n});\n\nexport default base;\n","export default function (chart, dataset) {\n    if (!dataset.filterColumns) return dataset;\n\n    const columnFormat = chart.getMetadata('data.column-format', {});\n    const ignore = Object.fromEntries(\n        Object.entries(columnFormat).map(([key, format]) => [key, !!format.ignore])\n    );\n    dataset.filterColumns(ignore);\n    return dataset;\n}\n","import numeral from 'numeral';\nimport { clone } from 'underscore';\nimport base from './visualization.base.mjs';\n\nconst __vis = {};\n\nfunction visualization(id, target) {\n    if (!__vis[id]) {\n        console.warn('unknown visualization type: ' + id);\n        const known = Object.keys(__vis);\n        if (known.length > 0) console.warn('try one of these instead: ' + known.join(', '));\n        return false;\n    }\n\n    function getParents(vis) {\n        const parents = [];\n\n        while (vis.parentVis !== 'base') {\n            vis = __vis[vis.parentVis];\n            parents.push({ id: vis.parentVis, vis });\n        }\n\n        return parents.reverse();\n    }\n\n    const vis = clone(base);\n\n    const parents = getParents(__vis[id]);\n    parents.push({ id, vis: __vis[id] });\n    parents.forEach(el => {\n        Object.assign(\n            vis,\n            typeof el.vis.init === 'function' ? el.vis.init({ target }) : el.vis.init,\n            { id }\n        );\n    });\n\n    vis.libraries(visualization.libraries);\n\n    if (target) {\n        vis.target(target);\n    }\n\n    return vis;\n}\n\nvisualization.register = function (id) {\n    let parentVis, init;\n\n    if (arguments.length === 2) {\n        parentVis = 'base';\n        init = arguments[1];\n    } else if (arguments.length === 3) {\n        parentVis = arguments[1];\n        init = arguments[2];\n    }\n\n    __vis[id] = {\n        parentVis,\n        init\n    };\n};\n\nvisualization.has = function (id) {\n    return __vis[id] !== undefined;\n};\n\nvisualization.libraries = {\n    numeral\n};\n\nvisualization.base = base;\n\nexport default visualization;\n","const __themes = {};\n\nfunction theme(id) {\n    return __themes[id];\n}\n\ntheme.register = function (id, themeData) {\n    __themes[id] = themeData;\n};\n\nexport default theme;\n","const __blocks = {};\n\nfunction block(id) {\n    return __blocks[id];\n}\n\nblock.register = function (id, lib) {\n    __blocks[id] = lib;\n};\n\nblock.has = function (id) {\n    return __blocks[id] !== undefined;\n};\n\nexport default block;\n","let __notifications = [];\n\nfunction notify(notification) {\n    notification.remove = () => {\n        __notifications = __notifications.filter(d => d !== notification);\n        window.parent.dw.backend.fire('notifications.change', __notifications);\n    };\n    __notifications.push(notification);\n    try {\n        window.parent.dw.backend.fire('notifications.change', __notifications);\n        return notification.remove;\n    } catch (ex) {\n        /* not in editor, do nothing */\n    }\n}\nexport default notify;\n","/* eslint-env node */\nimport dataset from './dataset/index.mjs';\nimport column from './dataset/column.mjs';\nimport delimited from './dataset/delimited.mjs';\nimport columnTypes from './dataset/columnTypes/index.mjs';\nimport json from './dataset/json.mjs';\nimport * as utils from './utils/index.mjs';\nimport chart from './chart.mjs';\nimport visualization from './visualization.mjs';\nimport theme from './theme.mjs';\nimport block from './block.mjs';\nimport notify from './notify.mjs';\n\ncolumn.types = columnTypes;\n\n// dw.start.js\nconst dw = {\n    version: 'chart-core@__chartCoreVersion__',\n    dataset,\n    column,\n    datasource: {\n        delimited,\n        json\n    },\n    utils,\n    chart,\n    visualization,\n    theme,\n    block,\n    notify\n};\n\nif (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n        exports = module.exports = dw;\n    }\n    exports.dw = dw;\n} else {\n    window.dw = dw;\n}\n\nexport default dw;\n","export default function (chart, dataset) {\n    var order = chart.getMetadata('data.column-order', []);\n    if (order.length && order.length === dataset.numColumns()) {\n        dataset.columnOrder(order);\n    }\n    return dataset;\n}\n","\"use strict\";\nmodule.exports = function postEvent(chartId, isIframe) {\n    const host = isIframe ? window.parent : window;\n    return function (event, data) {\n        if (host && host.postMessage) {\n            const evt = {\n                source: 'datawrapper',\n                chartId,\n                type: event,\n                data\n            };\n            host.postMessage(evt, '*');\n        }\n    };\n};\n"],"names":["guessDelimiterFromLocale","numeral","localeData","delimiters","decimal","e","escapeDelimitedValue","value","delimiter","quoteChar","Number","isFinite","s","String","indexOf","replace","RegExp","test","formatDelimited","rows","lineTerminator","map","row","join","delimited$1","VERSION","root","self","global","Function","ArrayProto","Array","prototype","ObjProto","Object","SymbolProto","Symbol","push","slice","toString","hasOwnProperty","supportsArrayBuffer","ArrayBuffer","supportsDataView","DataView","nativeIsArray","isArray","nativeKeys","keys","nativeCreate","create","nativeIsView","isView","_isNaN","isNaN","_isFinite","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","MAX_ARRAY_INDEX","Math","pow","restArguments","func","startIndex","length","max","arguments","rest","index","call","this","args","apply","isObject","obj","type","isNull","isUndefined","isBoolean","tagTester","name","tag","isString","isNumber","isDate","isRegExp","isError","isSymbol","isArrayBuffer","isFunction","nodelist","document","childNodes","Int8Array","isFunction$4","hasObjectTag","hasStringTagBug","isIE11","Map","isDataView","isDataView$1","getInt8","buffer","isArray$5","has","key","isArguments","isArguments$3","constant","createSizePropertyCheck","getSizeProperty","collection","sizeProperty","shallowProperty","getByteLength","isBufferLike","typedArrayPattern","isTypedArray$4","getLength","collectNonEnumProps","hash","l","i","contains","emulatedSet","nonEnumIdx","constructor","proto","prop","isMatch","object","attrs","_keys","_","_wrapped","toBufferView","bufferSource","Uint8Array","byteOffset","valueOf","toJSON","tagDataView","eq","a","b","aStack","bStack","deepEq","className","areArrays","isTypedArray","aCtor","bCtor","pop","isEqual","allKeys","ie11fingerprint","methods","weakMapMethods","forEachName","commonInit","mapTail","mapMethods","concat","setMethods","isMap","isWeakMap","isSet","isWeakSet","values","invert","result","functions","names","sort","createAssigner","keysFunc","defaults","source","extend","extendOwn","baseCreate","Ctor","clone","toPath","path","deepGet","get","defaultValue","identity","matcher","property","optimizeCb","context","argCount","accumulator","baseIteratee","iteratee","Infinity","cb","noop","random","min","floor","_$1","now","Date","getTime","createEscaper","escaper","match","testRegexp","replaceRegexp","string","escapeMap","escape","unescape","templateSettings","evaluate","interpolate","noMatch","escapes","escapeRegExp","escapeChar","bareIdentifier","idCounter","executeBound","sourceFunc","boundFunc","callingContext","partial","boundArgs","placeholder","bound","position","bind","TypeError","callArgs","isArrayLike$2","flatten","input","depth","strict","output","idx","isArrayLike","j","len","bindAll","Error","delay","wait","setTimeout","defer","negate","predicate","before","times","memo","once","findKey","createPredicateIndexFinder","dir","array","findIndex","findLastIndex","sortedIndex","low","high","mid","createIndexFinder","predicateFind","item","lastIndexOf","find","each","results","currentKey","createReduce","reducer","initial","reduce","reduceRight","filter","list","every","some","fromIndex","guard","invoke","contextPath","method","pluck","computed","lastComputed","v","reStrSymbol","toArray","sample","n","last","rand","temp","shuffle","group","behavior","partition","groupBy","indexBy","countBy","pass","keyInObj","pick","omit","first","_flatten","difference","without","otherArrays","uniq","isSorted","seen","union","arrays","unzip","zip","range","start","stop","step","ceil","chainResult","instance","_chain","chain","mixin","nodeType","parseFloat","pairs","props","interceptor","_has","accum","text","settings","oldSettings","offset","render","argument","variable","template","data","fallback","prefix","id","hasher","memoize","cache","address","options","timeout","previous","later","leading","throttled","_now","remaining","clearTimeout","trailing","cancel","immediate","passed","debounced","_args","wrapper","criteria","left","right","Boolean","argsLength","count","allExports","Dataset","columns","columnsByName","origColumns","uniqueName","col","origColName","baseColName","suffix","colName","forEach","dataset","column","nameOrIndex","undefined","numColumns","numRows","eachColumn","hasColumn","columnName","o","val","csv","includeComputedColumns","includeHeader","includeOrder","includeFiltered","opts","table","isComputed","title","formatted","toCSV","filterColumns","ignore","c","ign","eachRow","add","limitRows","limitColumns","numCols","columnOrder","sortOrder","columnsWithNewIndexes","newIndex","x","align","maxNumRows","padding","fill","clear","deleteRow","_len","rowIndexes","_key","numDeleted","rowIndex","deletedRows","begin","end","s0","s1","s2","s3","sM","rx","YY","parse","YYYY","YYYY2","H","Q","W","MM","DD","DOW","HHMM","MONTHS","shortMonthKey","abbr","m","MMM","ISO8601_REG","r","knownFormats","reg","precision","ISO8601","str","fmt","dateFromIsoWeek","year","week","day","d","UTC","setUTCDate","getUTCDay","parseInt","hour","hr","amPm","columnTypes","errors","isValid","format","number","formatLabels","naStrings","na","matches","bestMatch","regex","raw","toLowerCase","toNum","fromNum","ambiguousFormats","candidates","cnt","date","toUpperCase","guessTwoDigitYear","yr","curYear","getFullYear","console","warn","NaN","module","exports","_typeof","iterator","_setPrototypeOf","p","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_construct","Parent","Class","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","from","minLen","arr2","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","_ref","fun","thisValue","Func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","trim","regExpTest","typeErrorCreate","unconstruct","thisArg","_len2","_key2","addToSet","set","transformCaseFunc","element","lcElement","newObject","lookupGetter","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","window","_createTrustedTypesPolicy","trustedTypes","createPolicy","ATTR_NAME","currentScript","hasAttribute","getAttribute","policyName","createHTML","createScriptURL","scriptUrl","createDOMPurify","DOMPurify","version","removed","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","createElement","content","ownerDocument","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","documentMode","hooks","createHTMLDocument","PARSER_MEDIA_TYPE","MUSTACHE_EXPR$1","ERB_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","namespaceURI","parentTagName","_forceRemove","node","parentNode","removeChild","outerHTML","remove","_removeAttribute","attribute","getAttributeNode","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","createTextNode","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","elm","nodeName","textContent","attributes","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","allowedTags","hasChildNodes","firstElementChild","_basicCustomElementTest","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","oldNode","returnNode","toStaticHTML","appendChild","firstChild","nodeIterator","shadowroot","serializedHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","factory","browser","require$$0","default","defineProperty","memoizer","createPermanentMemoizer","memoizer$1","keySerializer","valueCreator","maxsize","serializedKey","size","__importDefault","mod","__esModule","isomorphic_dompurify_1","memoizer_1","require$$1","DEFAULT_ALLOWED","MEMOIZER_MAXSIZE","el","allowedTagsInput","config","split","purifyHtml","Column","name_","notEmpty","types","tolerance","t","guessType","valueRange","sum","mean","median","origName","origRows","unfiltered","f","MAX_VALUE","numbers","d3Numeric","d3Number","d3Quantile","d3Ascending","d3Median","filterRows","splice","total","h","delimited","url","ts","fetch","then","res","DelimitedParser","Promise","resolve","err","reject","loadAndParseCsv","catch","error","chartId","message","assign","skipRows","emptyValue","transpose","firstRowIsHeader","__delimiterPatterns","getDelimiterPatterns","__rawData","guessDelimiter","closure","arrData","delimiterPattern","strData","strDelimiter","strMatchedValue","arrMatches","exec","strMatchedDelimiter","substr","q","parseCSV","arrMatrix","w","firstRow","columnNames","srcColumns","shift","makeColumns","makeDataset","trimArrayData","maxMatchCount","k","me","json","JSON","loadAndParseJSON","tailLength","round","decimals","base","isElement","isFunction$1","ie10IsDataView","has$1","isArguments$1","isFinite$1","isNaN$1","isTypedArray$1","isEmpty","hasName","ctor","tap","toPath$1","mapObject","propertyOf","_escape","_unescape","uniqueId","flatten$1","throttle","debounce","wrap","compose","after","findWhere","where","sortBy","compact","intersection","chunk","detect","collect","foldl","inject","foldr","select","all","any","includes","include","head","take","tail","drop","unique","tailLength_1","round_1","underscore_1","require$$2","significantDimension","uniqValues","totalUniq","check","diff","accepted","acc","cur","exp","log","abs","LN10","currentRound","maxIter","significantDimension_1","clone_1","stringify","get_1","_default","pt","outerHeight","withMargin","height","offsetHeight","style","getComputedStyle","marginTop","marginBottom","getNonChartHeight","chart","querySelector","children","hasClass","classList","properties","sel","selector","getProp","TEOF","TOP","TNUMBER","TSTRING","TPAREN","TBRACKET","TCOMMA","TNAME","TSEMICOLON","Token","TokenStream","parser","expression","pos","current","unaryOps","binaryOps","ternaryOps","consts","savedPosition","savedCurrent","newToken","save","restore","next","isWhitespace","isComment","isRadixInteger","isOperator","isParen","isBracket","isComma","isSemicolon","isNamedOp","isConst","isName","parseError","charAt","startPos","quote","rawString","substring","isOperatorEnabled","hasLetter","codePointPattern","codePoint","fromCharCode","backslash","radix","validDigit","valid","resetPos","foundDot","foundDigits","acceptSign","validExponent","op","getCoordinates","line","newline","msg","coords","INUMBER","IOP1","IOP2","IOP3","IVAR","IVARNAME","IFUNCALL","IFUNDEF","IEXPR","IEXPREVAL","IMEMBER","IENDSTATEMENT","IARRAY","Instruction","unaryInstruction","binaryInstruction","ParserState","tokenStream","tokens","nextToken","savedNextToken","allowMemberAccess","restrictMemberAccess","Set","tokenMatches","token","accept","expect","parseAtom","instr","parseExpression","parseArrayList","exprInstr","parseUntilEndStatement","parseVariableAssignmentExpression","pushExpression","parseConditionalExpression","varName","varValue","lastInstrIndex","parseOrExpression","trueBranch","falseBranch","parseAndExpression","parseComparison","COMPARISON_OPERATORS","parseAddSub","ADD_SUB_OPERATORS","parseTerm","TERM_OPERATORS","sub","mul","div","equal","notEqual","greaterThan","lessThan","greaterThanEqual","lessThanEqual","andOperator","orOperator","log10","LOG10E","neg","not","trunc","stringOrArrayLength","condition","cond","yep","nope","roundTo","arrayIndex","arrayMap","arrayFold","init","arrayFilter","sign","log1p","log2","LN2","expr","n1","n2","n3","nstack","isExpressionEvaluator","resolveExpression","numTokens","unshift","scope","createExpressionEvaluator","Expression","parseFactor","parseExponential","parsePostfixExpression","parseFunctionCall","parseMemberExpression","parseArgumentList","variables","RESTRICT_MEMBER_ACCESS","Parser","SIN","sin","COS","cos","TAN","tan","ASIN","asin","ACOS","acos","ATAN","atan","SQRT","sqrt","LOG","LOG2","LN","LOG10","LG","LOG1P","ABS","CEIL","FLOOR","ISNULL","TRUNC","EXP","NOT","LENGTH","SIGN","TEXT","toISOString","NUMBER","and","or","in","needle","haystack","asDate","filterNumbers","PROPER_REGEX","TITLE_REGEX","ESCAPE_REGEX","IF","RANDOM","MIN","MAX","SUM","MEAN","MEDIAN","POW","ATAN2","atan2","ROUND","CONCAT","TRIM","SUBSTR","REPLACE","search","REPLACE_REGEX","SPLIT","sep","LOWER","UPPER","PROPER","txt","TITLE","SORT","asc","SLICE","JOIN","sepLast","MAP","FOLD","FILTER","PLUCK","INDEXOF","target","FIND","RANGE","EVERY","SOME","DATE","YEAR","MONTH","getMonth","DAY","getDate","WEEKDAY","getDay","HOURS","getHours","MINUTES","getMinutes","SECONDS","getSeconds","DATEDIFF","d1","d2","TIMEDIFF","E","PI","TRUE","FALSE","NA","NULL","parserState","sharedParser","keywords","optionNameMap","AND","OR","IN","optionName","getOptionName","operators","TPL_REG","templateParser","expressions","formula","getMaxChartHeight","innerHeight","maxH","width","elementOrSelector","parentElement","getHeightMode","themeData","visualizationMeta","renderFlags","fitchart","addPrecision","dim","evaluateTemplate","minmax","minDiffVal","minDiff","locale","callback","readyState","addEventListener","_freeGlobal","freeGlobal","freeSelf","_root","_Symbol","objectProto","nativeObjectToString","symToStringTag","toStringTag","_getRawTag","isOwn","unmasked","getRawTag","objectToString","_baseGetTag","_overArg","transform","arg","getPrototype","isObjectLike_1","baseGetTag","isObjectLike","funcProto","funcToString","objectCtorString","isPlainObject_1","lastKey","_listCacheClear","__data__","eq_1","other","_assocIndexOf","assocIndexOf","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","entry","_ListCache","_stackClear","_stackDelete","_stackGet","_stackHas","isObject_1","uid","isFunction_1","coreJsData","maskSrcKey","IE_PROTO","_isMasked","_toSource","isMasked","toSource","require$$3","reIsHostCtor","reIsNative","_getValue","baseIsNative","getValue","_getNative","_Map","_nativeCreate","_hashClear","_hashDelete","_hashGet","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","isKeyable","_getMapData","getMapData","_mapCacheDelete","_mapCacheSet","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","require$$4","MapCache","_MapCache","_stackSet","LARGE_ARRAY_SIZE","stackClear","stackDelete","stackGet","stackHas","stackSet","require$$5","Stack","_Stack","setCacheAdd","setCacheHas","SetCache","arraySome","cacheHas","_equalArrays","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","arrValue","othValue","compared","othIndex","_mapToArray","_setToArray","equalArrays","mapToArray","setToArray","symbolProto","symbolValueOf","_equalByTag","byteLength","convert","stacked","_arrayPush","isArray_1","_baseGetAllKeys","symbolsFunc","_arrayFilter","resIndex","stubArray","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","_getSymbols","_baseTimes","baseIsArguments","isArguments_1","stubFalse_1","stubFalse","freeExports","freeModule","Buffer","isBuffer","reIsUint","_isIndex","isLength_1","isLength","typedArrayTags","_baseIsTypedArray","_baseUnary","freeProcess","process","nodeUtil","require","binding","baseIsTypedArray","baseUnary","nodeIsTypedArray","isTypedArray_1","baseTimes","isIndex","_arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","_isPrototype","isPrototype","_baseKeys","arrayLikeKeys","baseKeys","keys_1","baseGetAllKeys","_getAllKeys","getAllKeys","_equalObjects","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","WeakMap","require$$6","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","equalByTag","equalObjects","require$$7","argsTag","arrayTag","objectTag","_baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqualDeep","_baseIsEqual","baseIsEqual","isEqual_1","isEqual_js_1","isPlainObject_js_1","diffKeys","allowedKeys","patch","targetKey","childPatch","sourceKey","events","fire","applyChanges","changes","getMetadata","change","ignored","columnFormat","columnNameToVariable","addComputedColumns","virtualColumns","columnNameToVar","colAggregates","vNamesToVar","visited","dependsOn","computedColumns","curIter","visit","startsWith","delete","errorCol","_ref3","old","ROWNUMBER","aggr","virtualColumn","RangeError","toISOStringSafe","addComputedColumn","_ref2","allComputed","getNestedObjectKeys","isPlainObject","subkey","binary","unformatRegex","formats","locales","currentLocale","zeroFormat","nullFormat","defaultFormat","scalePercentBy100","Numeral","_input","_value","kind","unformatFunction","regexp","isNumeral","regexps","unformat","stringToNumber","numberToFormat","roundingFunction","leadingCount","abbrForce","int","signed","thousands","negP","optDec","trillion","billion","million","abbreviations","thousand","toFixed","abbreviation","stringOriginal","currency","insert","subString","multiplier","parts","correctionFactor","mn","maxDecimals","optionals","boundedPrecision","optionalsRegExp","power","splitValue","minDecimals","reset","register","validate","culture","_decimalSep","_thousandSep","_currSymbol","_valArray","_abbrObj","_thousandRegEx","fn","inputString","formatFunction","corrFactor","curr","currI","O","subtract","multiply","divide","ordinal","space","suffixes","bytes","bytesMultiplier","symbols","toExponential","hours","minutes","seconds","timeArray","populateVisAxes","visAxes","userAxes","overrideKeys","usedColumns","axes","axesAsColumns","optional","overrideOptionalKey","columnExists","checkColumn","multiple","checked","axisDef","required","accepts","a1","a2","equalAccepts","remainingRequiredColumns","available","remainingAvailableColumns","firstMatch","preferred","acceptedAllowUsed","allowMultipleUse","__init","__renderedDfd","__renderedResolve","__rendered","__colors","__callbacks","postMessage","theme","__theme","dw","libraries","__libraries","__target","__w","__h","__chart","__axisCache","fromEntries","filterDatasetColumns","container","__container","outerContainer","__outerContainer","returnAsColumns","noCache","meta","axis","axesDef","labels","lblCol","keyLabel","renderingComplete","postRendering","rendered","supportsSmartRendering","colorMode","cm","__colorMode","colorMap","_this","color","applyDarkModeMap","__darkMode","__darkModeColorMap","__colorMap","initDarkMode","__onDarkModeChange","darkMode","dm","colorsUsed","on","eventType","showError","allowEditing","flags","__vis","visualization","known","vis","parents","parentVis","reverse","getParents","__themes","__blocks","block","lib","__notifications","datasource","utils","metricPrefix","changeCallbacks","datasetChangeCallbacks","_assets","_ds","_translations","setMetadata","getElementBounds","rootBounds","getBoundingClientRect","elementBounds","top","bottom","load","externalData","dsopts","ds","order","reorderColumns","setDataset","_theme","_vis","hasHighlight","hl","isHighlighted","objName","_locale","_metricPrefix","inEditor","backend","ex","createPostEvent","isIframe","host","event","evt","PostEvent","_flags","heightMode","clearInterval","__resizingInterval","setInterval","toggle","breakpoint","desiredHeight","previewId","sentinel","src","location","href","datawrapperHeightCallback","clientWidth","objectDiff","onChange","onDatasetChange","dataCellChanged","changed","asset","translations","translate","translation","language","notify","notification"],"mappings":"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WAAYA,GACZntB,QAASA,GACT+S,QAAS/S,GACTmE,MAAOA,GACPxD,OAAQA,GACRI,IAAKA,GACLU,OAAQ2rB,GACR1rB,SAAU2rB,GACV1rB,iBAAkBA,GAClBqI,SAAUA,GACVnL,OAAQA,GACRyuB,SAAUA,GACVtkB,MAAOA,GACPzI,SAAUA,GACViC,QAASA,GACTK,KAAMA,GACNa,QAASA,GACT4G,QAASA,GACT1G,MAAOA,GACPG,MAAOA,GACPypB,SAAUA,GACVC,SAAUA,GACVC,KAAMA,GACN1pB,OAAQA,GACR2pB,QAASA,GACTC,MAAOA,GACP1pB,OAAQA,GACRG,KAAMA,GACNC,QAASA,GACTI,UAAWA,GACXC,cAAeA,GACfC,YAAaA,GACb7P,QAASA,GACToQ,YAAaA,GACbC,KAAMA,GACN+oB,OAAQ/oB,GACRyoB,UAAWA,GACXxoB,KAAMA,GACNqH,QAASrH,GACT/P,IAAKA,GACL84B,QAAS94B,GACTqQ,OAAQA,GACR0oB,MAAO1oB,GACP2oB,OAAQ3oB,GACRC,YAAaA,GACb2oB,MAAO3oB,GACPC,OAAQA,GACR2oB,OAAQ3oB,GACR0jB,OAAQA,GACRxjB,MAAOA,GACP0oB,IAAK1oB,GACLC,KAAMA,GACN0oB,IAAK1oB,GACLnK,SAAUA,GACV8yB,SAAU9yB,GACV+yB,QAAS/yB,GACTsK,OAAQA,GACRG,MAAOA,GACPwnB,MAAOA,GACP31B,IAAKA,GACLyI,IAAKA,GACLqG,QAASA,GACTL,OAAQA,GACRmnB,OAAQA,GACR1mB,QAASA,GACTC,QAASA,GACTC,QAASA,GACTH,UAAWA,GACXT,QAASA,GACT0f,KAAMA,GACN3e,KAAMA,GACNC,KAAMA,GACNC,MAAOA,GACPinB,KAAMjnB,GACNknB,KAAMlnB,GACNlC,QAASA,GACToB,KAAMA,GACNzO,KAAMA,GACN02B,KAAM12B,GACN22B,KAAM32B,GACN21B,QAASA,GACT/qB,QAASA,GACT8E,QAASA,GACTE,KAAMA,GACNgnB,OAAQhnB,GACRG,MAAOA,GACP6lB,aAAcA,GACdnmB,WAAYA,GACZQ,MAAOA,GAC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"}