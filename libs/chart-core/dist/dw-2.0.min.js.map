{"version":3,"file":"dw-2.0.min.js","sources":["../lib/dw/utils/delimited.mjs","../node_modules/underscore/modules/_setup.js","../node_modules/underscore/modules/restArguments.js","../node_modules/underscore/modules/isObject.js","../node_modules/underscore/modules/isNull.js","../node_modules/underscore/modules/isUndefined.js","../node_modules/underscore/modules/isBoolean.js","../node_modules/underscore/modules/isElement.js","../node_modules/underscore/modules/_tagTester.js","../node_modules/underscore/modules/isString.js","../node_modules/underscore/modules/isNumber.js","../node_modules/underscore/modules/isDate.js","../node_modules/underscore/modules/isRegExp.js","../node_modules/underscore/modules/isError.js","../node_modules/underscore/modules/isSymbol.js","../node_modules/underscore/modules/isArrayBuffer.js","../node_modules/underscore/modules/isFunction.js","../node_modules/underscore/modules/_hasObjectTag.js","../node_modules/underscore/modules/_stringTagBug.js","../node_modules/underscore/modules/isDataView.js","../node_modules/underscore/modules/isArray.js","../node_modules/underscore/modules/_has.js","../node_modules/underscore/modules/isArguments.js","../node_modules/underscore/modules/isFinite.js","../node_modules/underscore/modules/isNaN.js","../node_modules/underscore/modules/constant.js","../node_modules/underscore/modules/_createSizePropertyCheck.js","../node_modules/underscore/modules/_shallowProperty.js","../node_modules/underscore/modules/_getByteLength.js","../node_modules/underscore/modules/_isBufferLike.js","../node_modules/underscore/modules/isTypedArray.js","../node_modules/underscore/modules/_getLength.js","../node_modules/underscore/modules/_collectNonEnumProps.js","../node_modules/underscore/modules/keys.js","../node_modules/underscore/modules/isEmpty.js","../node_modules/underscore/modules/isMatch.js","../node_modules/underscore/modules/underscore.js","../node_modules/underscore/modules/_toBufferView.js","../node_modules/underscore/modules/isEqual.js","../node_modules/underscore/modules/allKeys.js","../node_modules/underscore/modules/_methodFingerprint.js","../node_modules/underscore/modules/isMap.js","../node_modules/underscore/modules/isWeakMap.js","../node_modules/underscore/modules/isSet.js","../node_modules/underscore/modules/isWeakSet.js","../node_modules/underscore/modules/values.js","../node_modules/underscore/modules/pairs.js","../node_modules/underscore/modules/invert.js","../node_modules/underscore/modules/functions.js","../node_modules/underscore/modules/_createAssigner.js","../node_modules/underscore/modules/extend.js","../node_modules/underscore/modules/extendOwn.js","../node_modules/underscore/modules/defaults.js","../node_modules/underscore/modules/_baseCreate.js","../node_modules/underscore/modules/create.js","../node_modules/underscore/modules/clone.js","../node_modules/underscore/modules/tap.js","../node_modules/underscore/modules/toPath.js","../node_modules/underscore/modules/_toPath.js","../node_modules/underscore/modules/_deepGet.js","../node_modules/underscore/modules/get.js","../node_modules/underscore/modules/has.js","../node_modules/underscore/modules/identity.js","../node_modules/underscore/modules/matcher.js","../node_modules/underscore/modules/property.js","../node_modules/underscore/modules/_optimizeCb.js","../node_modules/underscore/modules/_baseIteratee.js","../node_modules/underscore/modules/iteratee.js","../node_modules/underscore/modules/_cb.js","../node_modules/underscore/modules/mapObject.js","../node_modules/underscore/modules/noop.js","../node_modules/underscore/modules/propertyOf.js","../node_modules/underscore/modules/times.js","../node_modules/underscore/modules/random.js","../node_modules/underscore/modules/now.js","../node_modules/underscore/modules/_createEscaper.js","../node_modules/underscore/modules/_escapeMap.js","../node_modules/underscore/modules/escape.js","../node_modules/underscore/modules/unescape.js","../node_modules/underscore/modules/_unescapeMap.js","../node_modules/underscore/modules/templateSettings.js","../node_modules/underscore/modules/template.js","../node_modules/underscore/modules/result.js","../node_modules/underscore/modules/uniqueId.js","../node_modules/underscore/modules/chain.js","../node_modules/underscore/modules/_executeBound.js","../node_modules/underscore/modules/partial.js","../node_modules/underscore/modules/bind.js","../node_modules/underscore/modules/_isArrayLike.js","../node_modules/underscore/modules/_flatten.js","../node_modules/underscore/modules/bindAll.js","../node_modules/underscore/modules/memoize.js","../node_modules/underscore/modules/delay.js","../node_modules/underscore/modules/defer.js","../node_modules/underscore/modules/throttle.js","../node_modules/underscore/modules/debounce.js","../node_modules/underscore/modules/wrap.js","../node_modules/underscore/modules/negate.js","../node_modules/underscore/modules/compose.js","../node_modules/underscore/modules/after.js","../node_modules/underscore/modules/before.js","../node_modules/underscore/modules/once.js","../node_modules/underscore/modules/findKey.js","../node_modules/underscore/modules/_createPredicateIndexFinder.js","../node_modules/underscore/modules/findIndex.js","../node_modules/underscore/modules/findLastIndex.js","../node_modules/underscore/modules/sortedIndex.js","../node_modules/underscore/modules/_createIndexFinder.js","../node_modules/underscore/modules/indexOf.js","../node_modules/underscore/modules/lastIndexOf.js","../node_modules/underscore/modules/find.js","../node_modules/underscore/modules/findWhere.js","../node_modules/underscore/modules/each.js","../node_modules/underscore/modules/map.js","../node_modules/underscore/modules/_createReduce.js","../node_modules/underscore/modules/reduce.js","../node_modules/underscore/modules/reduceRight.js","../node_modules/underscore/modules/filter.js","../node_modules/underscore/modules/reject.js","../node_modules/underscore/modules/every.js","../node_modules/underscore/modules/some.js","../node_modules/underscore/modules/contains.js","../node_modules/underscore/modules/invoke.js","../node_modules/underscore/modules/pluck.js","../node_modules/underscore/modules/where.js","../node_modules/underscore/modules/max.js","../node_modules/underscore/modules/min.js","../node_modules/underscore/modules/toArray.js","../node_modules/underscore/modules/sample.js","../node_modules/underscore/modules/shuffle.js","../node_modules/underscore/modules/sortBy.js","../node_modules/underscore/modules/_group.js","../node_modules/underscore/modules/groupBy.js","../node_modules/underscore/modules/indexBy.js","../node_modules/underscore/modules/countBy.js","../node_modules/underscore/modules/partition.js","../node_modules/underscore/modules/size.js","../node_modules/underscore/modules/_keyInObj.js","../node_modules/underscore/modules/pick.js","../node_modules/underscore/modules/omit.js","../node_modules/underscore/modules/initial.js","../node_modules/underscore/modules/first.js","../node_modules/underscore/modules/rest.js","../node_modules/underscore/modules/last.js","../node_modules/underscore/modules/compact.js","../node_modules/underscore/modules/flatten.js","../node_modules/underscore/modules/difference.js","../node_modules/underscore/modules/without.js","../node_modules/underscore/modules/uniq.js","../node_modules/underscore/modules/union.js","../node_modules/underscore/modules/intersection.js","../node_modules/underscore/modules/unzip.js","../node_modules/underscore/modules/zip.js","../node_modules/underscore/modules/object.js","../node_modules/underscore/modules/range.js","../node_modules/underscore/modules/chunk.js","../node_modules/underscore/modules/_chainResult.js","../node_modules/underscore/modules/mixin.js","../node_modules/underscore/modules/underscore-array-methods.js","../node_modules/underscore/modules/index-default.js","../lib/dw/dataset/index.mjs","../lib/dw/dataset/columnTypes/date.mjs","../lib/dw/dataset/columnTypes/index.mjs","../lib/dw/dataset/columnTypes/text.mjs","../lib/dw/dataset/columnTypes/number.mjs","../node_modules/dompurify/dist/purify.js","../node_modules/isomorphic-dompurify/browser.js","../node_modules/@datawrapper/shared/memoizer.js","../node_modules/@datawrapper/shared/purifyHtml.js","../lib/dw/dataset/column.mjs","../lib/dw/dataset/delimited.mjs","../lib/dw/dataset/json.mjs","../node_modules/@datawrapper/shared/tailLength.js","../node_modules/@datawrapper/shared/round.js","../node_modules/@datawrapper/shared/significantDimension.js","../node_modules/@datawrapper/shared/smartRound.js","../node_modules/@datawrapper/shared/clone.js","../node_modules/@datawrapper/shared/get.js","../lib/dw/utils/getNonChartHeight.mjs","../node_modules/@datawrapper/expr-eval/src/token.js","../node_modules/@datawrapper/expr-eval/src/token-stream.js","../node_modules/@datawrapper/expr-eval/src/instruction.js","../node_modules/@datawrapper/expr-eval/src/parser-state.js","../node_modules/@datawrapper/expr-eval/src/contains.js","../node_modules/@datawrapper/expr-eval/src/functions.js","../node_modules/@datawrapper/expr-eval/src/evaluate.js","../lib/dw/utils/parser.mjs","../lib/dw/utils/templateParser.mjs","../lib/dw/utils/htmlTemplate.mjs","../lib/dw/utils/index.mjs","../node_modules/@datawrapper/shared/equalish.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_getPrototype.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isPlainObject.js","../node_modules/@datawrapper/shared/set.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/eq.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/keys.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/isEqual.js","../node_modules/@datawrapper/shared/objectDiff.js","../node_modules/@datawrapper/shared/postEvent.js","../lib/dw/utils/events.mjs","../lib/dw/dataset/applyChanges.mjs","../node_modules/@datawrapper/shared/columnNameToVariable.js","../lib/dw/dataset/addComputedColumns.mjs","../lib/dw/chart.mjs","../node_modules/numeral/numeral.js","../node_modules/chroma-js/chroma.js","../lib/dw/utils/populateVisAxes.mjs","../lib/dw/visualization.base.mjs","../lib/dw/utils/filterDatasetColumns.mjs","../lib/dw/visualization.mjs","../lib/dw/theme.mjs","../lib/dw/block.mjs","../lib/dw/notify.mjs","../lib/dw/index.mjs","../lib/dw/dataset/reorderColumns.mjs"],"sourcesContent":["export function guessDelimiterFromLocale(numeral) {\n    try {\n        if (numeral.localeData().delimiters.decimal === ',') {\n            return ';';\n        }\n    } catch (e) {\n        // invalid locale data\n    }\n    return ',';\n}\n\nfunction escapeDelimitedValue(value, delimiter, quoteChar) {\n    if (\n        value === null ||\n        value === undefined ||\n        (typeof value === 'number' && !Number.isFinite(value))\n    ) {\n        return '';\n    }\n    const s = String(value);\n    if (s.indexOf(quoteChar) !== -1) {\n        // A double-quote appearing inside a field MUST be escaped by preceding it with another\n        // double quote, and the field itself MUST be enclosed in double quotes.\n        // See paragraph 8 at https://csv-spec.org/#csv-format-specification\n        return quoteChar + s.replace(new RegExp(quoteChar, 'g'), quoteChar + quoteChar) + quoteChar;\n    }\n    if (new RegExp(`[\\n\\r${delimiter}]`).test(s)) {\n        // Fields containing line breaks (CRLF, LF, or CR), double quotes, or the delimiter\n        // character (normally a comma) MUST be enclosed in double-quotes.\n        // See paragraph 7 at https://csv-spec.org/#csv-format-specification\n        return quoteChar + s + quoteChar;\n    }\n    return s;\n}\n\nexport function formatDelimited(\n    rows,\n    { delimiter = ',', quoteChar = '\"', lineTerminator = '\\n' } = {}\n) {\n    return rows\n        .map(row =>\n            row.map(value => escapeDelimitedValue(value, delimiter, quoteChar)).join(delimiter)\n        )\n        .join(lineTerminator);\n}\n\nexport default {\n    formatDelimited,\n    guessDelimiterFromLocale\n};\n","// Current version.\nexport var VERSION = '1.13.6';\n\n// Establish the root object, `window` (`self`) in the browser, `global`\n// on the server, or `this` in some virtual machines. We use `self`\n// instead of `window` for `WebWorker` support.\nexport var root = (typeof self == 'object' && self.self === self && self) ||\n          (typeof global == 'object' && global.global === global && global) ||\n          Function('return this')() ||\n          {};\n\n// Save bytes in the minified (but not gzipped) version:\nexport var ArrayProto = Array.prototype, ObjProto = Object.prototype;\nexport var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n// Create quick reference variables for speed access to core prototypes.\nexport var push = ArrayProto.push,\n    slice = ArrayProto.slice,\n    toString = ObjProto.toString,\n    hasOwnProperty = ObjProto.hasOwnProperty;\n\n// Modern feature detection.\nexport var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n    supportsDataView = typeof DataView !== 'undefined';\n\n// All **ECMAScript 5+** native function implementations that we hope to use\n// are declared here.\nexport var nativeIsArray = Array.isArray,\n    nativeKeys = Object.keys,\n    nativeCreate = Object.create,\n    nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n// Create references to these builtin functions because we override them.\nexport var _isNaN = isNaN,\n    _isFinite = isFinite;\n\n// Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\nexport var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\nexport var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n  'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n// The largest integer that can be represented exactly.\nexport var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n","// Some functions take a variable number of arguments, or a few expected\n// arguments at the beginning and then a variable number of values to operate\n// on. This helper accumulates all remaining arguments past the function’s\n// argument length (or an explicit `startIndex`), into an array that becomes\n// the last argument. Similar to ES6’s \"rest parameter\".\nexport default function restArguments(func, startIndex) {\n  startIndex = startIndex == null ? func.length - 1 : +startIndex;\n  return function() {\n    var length = Math.max(arguments.length - startIndex, 0),\n        rest = Array(length),\n        index = 0;\n    for (; index < length; index++) {\n      rest[index] = arguments[index + startIndex];\n    }\n    switch (startIndex) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, arguments[0], rest);\n      case 2: return func.call(this, arguments[0], arguments[1], rest);\n    }\n    var args = Array(startIndex + 1);\n    for (index = 0; index < startIndex; index++) {\n      args[index] = arguments[index];\n    }\n    args[startIndex] = rest;\n    return func.apply(this, args);\n  };\n}\n","// Is a given variable an object?\nexport default function isObject(obj) {\n  var type = typeof obj;\n  return type === 'function' || (type === 'object' && !!obj);\n}\n","// Is a given value equal to null?\nexport default function isNull(obj) {\n  return obj === null;\n}\n","// Is a given variable undefined?\nexport default function isUndefined(obj) {\n  return obj === void 0;\n}\n","import { toString } from './_setup.js';\n\n// Is a given value a boolean?\nexport default function isBoolean(obj) {\n  return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n}\n","// Is a given value a DOM element?\nexport default function isElement(obj) {\n  return !!(obj && obj.nodeType === 1);\n}\n","import { toString } from './_setup.js';\n\n// Internal function for creating a `toString`-based type tester.\nexport default function tagTester(name) {\n  var tag = '[object ' + name + ']';\n  return function(obj) {\n    return toString.call(obj) === tag;\n  };\n}\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('String');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Number');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Date');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('RegExp');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Error');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Symbol');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('ArrayBuffer');\n","import tagTester from './_tagTester.js';\nimport { root } from './_setup.js';\n\nvar isFunction = tagTester('Function');\n\n// Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n// v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\nvar nodelist = root.document && root.document.childNodes;\nif (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n  isFunction = function(obj) {\n    return typeof obj == 'function' || false;\n  };\n}\n\nexport default isFunction;\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Object');\n","import { supportsDataView } from './_setup.js';\nimport hasObjectTag from './_hasObjectTag.js';\n\n// In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n// In IE 11, the most common among them, this problem also applies to\n// `Map`, `WeakMap` and `Set`.\nexport var hasStringTagBug = (\n      supportsDataView && hasObjectTag(new DataView(new ArrayBuffer(8)))\n    ),\n    isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n","import tagTester from './_tagTester.js';\nimport isFunction from './isFunction.js';\nimport isArrayBuffer from './isArrayBuffer.js';\nimport { hasStringTagBug } from './_stringTagBug.js';\n\nvar isDataView = tagTester('DataView');\n\n// In IE 10 - Edge 13, we need a different heuristic\n// to determine whether an object is a `DataView`.\nfunction ie10IsDataView(obj) {\n  return obj != null && isFunction(obj.getInt8) && isArrayBuffer(obj.buffer);\n}\n\nexport default (hasStringTagBug ? ie10IsDataView : isDataView);\n","import { nativeIsArray } from './_setup.js';\nimport tagTester from './_tagTester.js';\n\n// Is a given value an array?\n// Delegates to ECMA5's native `Array.isArray`.\nexport default nativeIsArray || tagTester('Array');\n","import { hasOwnProperty } from './_setup.js';\n\n// Internal function to check whether `key` is an own property name of `obj`.\nexport default function has(obj, key) {\n  return obj != null && hasOwnProperty.call(obj, key);\n}\n","import tagTester from './_tagTester.js';\nimport has from './_has.js';\n\nvar isArguments = tagTester('Arguments');\n\n// Define a fallback version of the method in browsers (ahem, IE < 9), where\n// there isn't any inspectable \"Arguments\" type.\n(function() {\n  if (!isArguments(arguments)) {\n    isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n}());\n\nexport default isArguments;\n","import { _isFinite } from './_setup.js';\nimport isSymbol from './isSymbol.js';\n\n// Is a given object a finite number?\nexport default function isFinite(obj) {\n  return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n}\n","import { _isNaN } from './_setup.js';\nimport isNumber from './isNumber.js';\n\n// Is the given value `NaN`?\nexport default function isNaN(obj) {\n  return isNumber(obj) && _isNaN(obj);\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function constant(value) {\n  return function() {\n    return value;\n  };\n}\n","import { MAX_ARRAY_INDEX } from './_setup.js';\n\n// Common internal logic for `isArrayLike` and `isBufferLike`.\nexport default function createSizePropertyCheck(getSizeProperty) {\n  return function(collection) {\n    var sizeProperty = getSizeProperty(collection);\n    return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n  }\n}\n","// Internal helper to generate a function to obtain property `key` from `obj`.\nexport default function shallowProperty(key) {\n  return function(obj) {\n    return obj == null ? void 0 : obj[key];\n  };\n}\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `byteLength` property of an object.\nexport default shallowProperty('byteLength');\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getByteLength from './_getByteLength.js';\n\n// Internal helper to determine whether we should spend extensive checks against\n// `ArrayBuffer` et al.\nexport default createSizePropertyCheck(getByteLength);\n","import { supportsArrayBuffer, nativeIsView, toString } from './_setup.js';\nimport isDataView from './isDataView.js';\nimport constant from './constant.js';\nimport isBufferLike from './_isBufferLike.js';\n\n// Is a given value a typed array?\nvar typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\nfunction isTypedArray(obj) {\n  // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n  // Otherwise, fall back on the above regular expression.\n  return nativeIsView ? (nativeIsView(obj) && !isDataView(obj)) :\n                isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n}\n\nexport default supportsArrayBuffer ? isTypedArray : constant(false);\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `length` property of an object.\nexport default shallowProperty('length');\n","import { nonEnumerableProps, ObjProto } from './_setup.js';\nimport isFunction from './isFunction.js';\nimport has from './_has.js';\n\n// Internal helper to create a simple lookup structure.\n// `collectNonEnumProps` used to depend on `_.contains`, but this led to\n// circular imports. `emulatedSet` is a one-off solution that only works for\n// arrays of strings.\nfunction emulatedSet(keys) {\n  var hash = {};\n  for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n  return {\n    contains: function(key) { return hash[key] === true; },\n    push: function(key) {\n      hash[key] = true;\n      return keys.push(key);\n    }\n  };\n}\n\n// Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n// be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n// needed.\nexport default function collectNonEnumProps(obj, keys) {\n  keys = emulatedSet(keys);\n  var nonEnumIdx = nonEnumerableProps.length;\n  var constructor = obj.constructor;\n  var proto = (isFunction(constructor) && constructor.prototype) || ObjProto;\n\n  // Constructor is a special case.\n  var prop = 'constructor';\n  if (has(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\n  while (nonEnumIdx--) {\n    prop = nonEnumerableProps[nonEnumIdx];\n    if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n      keys.push(prop);\n    }\n  }\n}\n","import isObject from './isObject.js';\nimport { nativeKeys, hasEnumBug } from './_setup.js';\nimport has from './_has.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve the names of an object's own properties.\n// Delegates to **ECMAScript 5**'s native `Object.keys`.\nexport default function keys(obj) {\n  if (!isObject(obj)) return [];\n  if (nativeKeys) return nativeKeys(obj);\n  var keys = [];\n  for (var key in obj) if (has(obj, key)) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isArray from './isArray.js';\nimport isString from './isString.js';\nimport isArguments from './isArguments.js';\nimport keys from './keys.js';\n\n// Is a given array, string, or object empty?\n// An \"empty\" object has no enumerable own-properties.\nexport default function isEmpty(obj) {\n  if (obj == null) return true;\n  // Skip the more expensive `toString`-based type checks if `obj` has no\n  // `.length`.\n  var length = getLength(obj);\n  if (typeof length == 'number' && (\n    isArray(obj) || isString(obj) || isArguments(obj)\n  )) return length === 0;\n  return getLength(keys(obj)) === 0;\n}\n","import keys from './keys.js';\n\n// Returns whether an object has a given set of `key:value` pairs.\nexport default function isMatch(object, attrs) {\n  var _keys = keys(attrs), length = _keys.length;\n  if (object == null) return !length;\n  var obj = Object(object);\n  for (var i = 0; i < length; i++) {\n    var key = _keys[i];\n    if (attrs[key] !== obj[key] || !(key in obj)) return false;\n  }\n  return true;\n}\n","import { VERSION } from './_setup.js';\n\n// If Underscore is called as a function, it returns a wrapped object that can\n// be used OO-style. This wrapper holds altered versions of all functions added\n// through `_.mixin`. Wrapped objects may be chained.\nexport default function _(obj) {\n  if (obj instanceof _) return obj;\n  if (!(this instanceof _)) return new _(obj);\n  this._wrapped = obj;\n}\n\n_.VERSION = VERSION;\n\n// Extracts the result from a wrapped and chained object.\n_.prototype.value = function() {\n  return this._wrapped;\n};\n\n// Provide unwrapping proxies for some methods used in engine operations\n// such as arithmetic and JSON stringification.\n_.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n_.prototype.toString = function() {\n  return String(this._wrapped);\n};\n","import getByteLength from './_getByteLength.js';\n\n// Internal function to wrap or shallow-copy an ArrayBuffer,\n// typed array or DataView to a new view, reusing the buffer.\nexport default function toBufferView(bufferSource) {\n  return new Uint8Array(\n    bufferSource.buffer || bufferSource,\n    bufferSource.byteOffset || 0,\n    getByteLength(bufferSource)\n  );\n}\n","import _ from './underscore.js';\nimport { toString, SymbolProto } from './_setup.js';\nimport getByteLength from './_getByteLength.js';\nimport isTypedArray from './isTypedArray.js';\nimport isFunction from './isFunction.js';\nimport { hasStringTagBug }  from './_stringTagBug.js';\nimport isDataView from './isDataView.js';\nimport keys from './keys.js';\nimport has from './_has.js';\nimport toBufferView from './_toBufferView.js';\n\n// We use this string twice, so give it a name for minification.\nvar tagDataView = '[object DataView]';\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction eq(a, b, aStack, bStack) {\n  // Identical objects are equal. `0 === -0`, but they aren't identical.\n  // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n  if (a === b) return a !== 0 || 1 / a === 1 / b;\n  // `null` or `undefined` only equal to itself (strict comparison).\n  if (a == null || b == null) return false;\n  // `NaN`s are equivalent, but non-reflexive.\n  if (a !== a) return b !== b;\n  // Exhaust primitive checks\n  var type = typeof a;\n  if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n  return deepEq(a, b, aStack, bStack);\n}\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction deepEq(a, b, aStack, bStack) {\n  // Unwrap any wrapped objects.\n  if (a instanceof _) a = a._wrapped;\n  if (b instanceof _) b = b._wrapped;\n  // Compare `[[Class]]` names.\n  var className = toString.call(a);\n  if (className !== toString.call(b)) return false;\n  // Work around a bug in IE 10 - Edge 13.\n  if (hasStringTagBug && className == '[object Object]' && isDataView(a)) {\n    if (!isDataView(b)) return false;\n    className = tagDataView;\n  }\n  switch (className) {\n    // These types are compared by value.\n    case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n    case '[object String]':\n      // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n      // equivalent to `new String(\"5\")`.\n      return '' + a === '' + b;\n    case '[object Number]':\n      // `NaN`s are equivalent, but non-reflexive.\n      // Object(NaN) is equivalent to NaN.\n      if (+a !== +a) return +b !== +b;\n      // An `egal` comparison is performed for other numeric values.\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n      // millisecond representations. Note that invalid dates with millisecond representations\n      // of `NaN` are not equivalent.\n      return +a === +b;\n    case '[object Symbol]':\n      return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    case '[object ArrayBuffer]':\n    case tagDataView:\n      // Coerce to typed array so we can fall through.\n      return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n  }\n\n  var areArrays = className === '[object Array]';\n  if (!areArrays && isTypedArray(a)) {\n      var byteLength = getByteLength(a);\n      if (byteLength !== getByteLength(b)) return false;\n      if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n      areArrays = true;\n  }\n  if (!areArrays) {\n    if (typeof a != 'object' || typeof b != 'object') return false;\n\n    // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor &&\n                             isFunction(bCtor) && bCtor instanceof bCtor)\n                        && ('constructor' in a && 'constructor' in b)) {\n      return false;\n    }\n  }\n  // Assume equality for cyclic structures. The algorithm for detecting cyclic\n  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n  // Initializing stack of traversed objects.\n  // It's done here since we only need them for objects and arrays comparison.\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    // Linear search. Performance is inversely proportional to the number of\n    // unique nested structures.\n    if (aStack[length] === a) return bStack[length] === b;\n  }\n\n  // Add the first object to the stack of traversed objects.\n  aStack.push(a);\n  bStack.push(b);\n\n  // Recursively compare objects and arrays.\n  if (areArrays) {\n    // Compare array lengths to determine if a deep comparison is necessary.\n    length = a.length;\n    if (length !== b.length) return false;\n    // Deep compare the contents, ignoring non-numeric properties.\n    while (length--) {\n      if (!eq(a[length], b[length], aStack, bStack)) return false;\n    }\n  } else {\n    // Deep compare objects.\n    var _keys = keys(a), key;\n    length = _keys.length;\n    // Ensure that both objects contain the same number of properties before comparing deep equality.\n    if (keys(b).length !== length) return false;\n    while (length--) {\n      // Deep compare each member\n      key = _keys[length];\n      if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n    }\n  }\n  // Remove the first object from the stack of traversed objects.\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\n// Perform a deep comparison to check if two objects are equal.\nexport default function isEqual(a, b) {\n  return eq(a, b);\n}\n","import isObject from './isObject.js';\nimport { hasEnumBug } from './_setup.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve all the enumerable property names of an object.\nexport default function allKeys(obj) {\n  if (!isObject(obj)) return [];\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isFunction from './isFunction.js';\nimport allKeys from './allKeys.js';\n\n// Since the regular `Object.prototype.toString` type tests don't work for\n// some types in IE 11, we use a fingerprinting heuristic instead, based\n// on the methods. It's not great, but it's the best we got.\n// The fingerprint method lists are defined below.\nexport function ie11fingerprint(methods) {\n  var length = getLength(methods);\n  return function(obj) {\n    if (obj == null) return false;\n    // `Map`, `WeakMap` and `Set` have no enumerable keys.\n    var keys = allKeys(obj);\n    if (getLength(keys)) return false;\n    for (var i = 0; i < length; i++) {\n      if (!isFunction(obj[methods[i]])) return false;\n    }\n    // If we are testing against `WeakMap`, we need to ensure that\n    // `obj` doesn't have a `forEach` method in order to distinguish\n    // it from a regular `Map`.\n    return methods !== weakMapMethods || !isFunction(obj[forEachName]);\n  };\n}\n\n// In the interest of compact minification, we write\n// each string in the fingerprints only once.\nvar forEachName = 'forEach',\n    hasName = 'has',\n    commonInit = ['clear', 'delete'],\n    mapTail = ['get', hasName, 'set'];\n\n// `Map`, `WeakMap` and `Set` each have slightly different\n// combinations of the above sublists.\nexport var mapMethods = commonInit.concat(forEachName, mapTail),\n    weakMapMethods = commonInit.concat(mapTail),\n    setMethods = ['add'].concat(commonInit, forEachName, hasName);\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, mapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, weakMapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, setMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('WeakSet');\n","import keys from './keys.js';\n\n// Retrieve the values of an object's properties.\nexport default function values(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var values = Array(length);\n  for (var i = 0; i < length; i++) {\n    values[i] = obj[_keys[i]];\n  }\n  return values;\n}\n","import keys from './keys.js';\n\n// Convert an object into a list of `[key, value]` pairs.\n// The opposite of `_.object` with one argument.\nexport default function pairs(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var pairs = Array(length);\n  for (var i = 0; i < length; i++) {\n    pairs[i] = [_keys[i], obj[_keys[i]]];\n  }\n  return pairs;\n}\n","import keys from './keys.js';\n\n// Invert the keys and values of an object. The values must be serializable.\nexport default function invert(obj) {\n  var result = {};\n  var _keys = keys(obj);\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    result[obj[_keys[i]]] = _keys[i];\n  }\n  return result;\n}\n","import isFunction from './isFunction.js';\n\n// Return a sorted list of the function names available on the object.\nexport default function functions(obj) {\n  var names = [];\n  for (var key in obj) {\n    if (isFunction(obj[key])) names.push(key);\n  }\n  return names.sort();\n}\n","// An internal function for creating assigner functions.\nexport default function createAssigner(keysFunc, defaults) {\n  return function(obj) {\n    var length = arguments.length;\n    if (defaults) obj = Object(obj);\n    if (length < 2 || obj == null) return obj;\n    for (var index = 1; index < length; index++) {\n      var source = arguments[index],\n          keys = keysFunc(source),\n          l = keys.length;\n      for (var i = 0; i < l; i++) {\n        var key = keys[i];\n        if (!defaults || obj[key] === void 0) obj[key] = source[key];\n      }\n    }\n    return obj;\n  };\n}\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Extend a given object with all the properties in passed-in object(s).\nexport default createAssigner(allKeys);\n","import createAssigner from './_createAssigner.js';\nimport keys from './keys.js';\n\n// Assigns a given object with all the own properties in the passed-in\n// object(s).\n// (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\nexport default createAssigner(keys);\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Fill in a given object with default properties.\nexport default createAssigner(allKeys, true);\n","import isObject from './isObject.js';\nimport { nativeCreate } from './_setup.js';\n\n// Create a naked function reference for surrogate-prototype-swapping.\nfunction ctor() {\n  return function(){};\n}\n\n// An internal function for creating a new object that inherits from another.\nexport default function baseCreate(prototype) {\n  if (!isObject(prototype)) return {};\n  if (nativeCreate) return nativeCreate(prototype);\n  var Ctor = ctor();\n  Ctor.prototype = prototype;\n  var result = new Ctor;\n  Ctor.prototype = null;\n  return result;\n}\n","import baseCreate from './_baseCreate.js';\nimport extendOwn from './extendOwn.js';\n\n// Creates an object that inherits from the given prototype object.\n// If additional properties are provided then they will be added to the\n// created object.\nexport default function create(prototype, props) {\n  var result = baseCreate(prototype);\n  if (props) extendOwn(result, props);\n  return result;\n}\n","import isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport extend from './extend.js';\n\n// Create a (shallow-cloned) duplicate of an object.\nexport default function clone(obj) {\n  if (!isObject(obj)) return obj;\n  return isArray(obj) ? obj.slice() : extend({}, obj);\n}\n","// Invokes `interceptor` with the `obj` and then returns `obj`.\n// The primary purpose of this method is to \"tap into\" a method chain, in\n// order to perform operations on intermediate results within the chain.\nexport default function tap(obj, interceptor) {\n  interceptor(obj);\n  return obj;\n}\n","import _ from './underscore.js';\nimport isArray from './isArray.js';\n\n// Normalize a (deep) property `path` to array.\n// Like `_.iteratee`, this function can be customized.\nexport default function toPath(path) {\n  return isArray(path) ? path : [path];\n}\n_.toPath = toPath;\n","import _ from './underscore.js';\nimport './toPath.js';\n\n// Internal wrapper for `_.toPath` to enable minification.\n// Similar to `cb` for `_.iteratee`.\nexport default function toPath(path) {\n  return _.toPath(path);\n}\n","// Internal function to obtain a nested property in `obj` along `path`.\nexport default function deepGet(obj, path) {\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    if (obj == null) return void 0;\n    obj = obj[path[i]];\n  }\n  return length ? obj : void 0;\n}\n","import toPath from './_toPath.js';\nimport deepGet from './_deepGet.js';\nimport isUndefined from './isUndefined.js';\n\n// Get the value of the (deep) property on `path` from `object`.\n// If any property in `path` does not exist or if the value is\n// `undefined`, return `defaultValue` instead.\n// The `path` is normalized through `_.toPath`.\nexport default function get(object, path, defaultValue) {\n  var value = deepGet(object, toPath(path));\n  return isUndefined(value) ? defaultValue : value;\n}\n","import _has from './_has.js';\nimport toPath from './_toPath.js';\n\n// Shortcut function for checking if an object has a given property directly on\n// itself (in other words, not on a prototype). Unlike the internal `has`\n// function, this public version can also traverse nested properties.\nexport default function has(obj, path) {\n  path = toPath(path);\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    var key = path[i];\n    if (!_has(obj, key)) return false;\n    obj = obj[key];\n  }\n  return !!length;\n}\n","// Keep the identity function around for default iteratees.\nexport default function identity(value) {\n  return value;\n}\n","import extendOwn from './extendOwn.js';\nimport isMatch from './isMatch.js';\n\n// Returns a predicate for checking whether an object has a given set of\n// `key:value` pairs.\nexport default function matcher(attrs) {\n  attrs = extendOwn({}, attrs);\n  return function(obj) {\n    return isMatch(obj, attrs);\n  };\n}\n","import deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Creates a function that, when passed an object, will traverse that object’s\n// properties down the given `path`, specified as an array of keys or indices.\nexport default function property(path) {\n  path = toPath(path);\n  return function(obj) {\n    return deepGet(obj, path);\n  };\n}\n","// Internal function that returns an efficient (for current engines) version\n// of the passed-in callback, to be repeatedly applied in other Underscore\n// functions.\nexport default function optimizeCb(func, context, argCount) {\n  if (context === void 0) return func;\n  switch (argCount == null ? 3 : argCount) {\n    case 1: return function(value) {\n      return func.call(context, value);\n    };\n    // The 2-argument case is omitted because we’re not using it.\n    case 3: return function(value, index, collection) {\n      return func.call(context, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(context, accumulator, value, index, collection);\n    };\n  }\n  return function() {\n    return func.apply(context, arguments);\n  };\n}\n","import identity from './identity.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport matcher from './matcher.js';\nimport property from './property.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// An internal function to generate callbacks that can be applied to each\n// element in a collection, returning the desired result — either `_.identity`,\n// an arbitrary callback, a property matcher, or a property accessor.\nexport default function baseIteratee(value, context, argCount) {\n  if (value == null) return identity;\n  if (isFunction(value)) return optimizeCb(value, context, argCount);\n  if (isObject(value) && !isArray(value)) return matcher(value);\n  return property(value);\n}\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\n\n// External wrapper for our callback generator. Users may customize\n// `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n// This abstraction hides the internal-only `argCount` argument.\nexport default function iteratee(value, context) {\n  return baseIteratee(value, context, Infinity);\n}\n_.iteratee = iteratee;\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\nimport iteratee from './iteratee.js';\n\n// The function we call internally to generate a callback. It invokes\n// `_.iteratee` if overridden, otherwise `baseIteratee`.\nexport default function cb(value, context, argCount) {\n  if (_.iteratee !== iteratee) return _.iteratee(value, context);\n  return baseIteratee(value, context, argCount);\n}\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the results of applying the `iteratee` to each element of `obj`.\n// In contrast to `_.map` it returns an object.\nexport default function mapObject(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = keys(obj),\n      length = _keys.length,\n      results = {};\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys[index];\n    results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function noop(){}\n","import noop from './noop.js';\nimport get from './get.js';\n\n// Generates a function for a given object that returns a given property.\nexport default function propertyOf(obj) {\n  if (obj == null) return noop;\n  return function(path) {\n    return get(obj, path);\n  };\n}\n","import optimizeCb from './_optimizeCb.js';\n\n// Run a function **n** times.\nexport default function times(n, iteratee, context) {\n  var accum = Array(Math.max(0, n));\n  iteratee = optimizeCb(iteratee, context, 1);\n  for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n  return accum;\n}\n","// Return a random integer between `min` and `max` (inclusive).\nexport default function random(min, max) {\n  if (max == null) {\n    max = min;\n    min = 0;\n  }\n  return min + Math.floor(Math.random() * (max - min + 1));\n}\n","// A (possibly faster) way to get the current timestamp as an integer.\nexport default Date.now || function() {\n  return new Date().getTime();\n};\n","import keys from './keys.js';\n\n// Internal helper to generate functions for escaping and unescaping strings\n// to/from HTML interpolation.\nexport default function createEscaper(map) {\n  var escaper = function(match) {\n    return map[match];\n  };\n  // Regexes for identifying a key that needs to be escaped.\n  var source = '(?:' + keys(map).join('|') + ')';\n  var testRegexp = RegExp(source);\n  var replaceRegexp = RegExp(source, 'g');\n  return function(string) {\n    string = string == null ? '' : '' + string;\n    return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n  };\n}\n","// Internal list of HTML entities for escaping.\nexport default {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;'\n};\n","import createEscaper from './_createEscaper.js';\nimport escapeMap from './_escapeMap.js';\n\n// Function for escaping strings to HTML interpolation.\nexport default createEscaper(escapeMap);\n","import createEscaper from './_createEscaper.js';\nimport unescapeMap from './_unescapeMap.js';\n\n// Function for unescaping strings from HTML interpolation.\nexport default createEscaper(unescapeMap);\n","import invert from './invert.js';\nimport escapeMap from './_escapeMap.js';\n\n// Internal list of HTML entities for unescaping.\nexport default invert(escapeMap);\n","import _ from './underscore.js';\n\n// By default, Underscore uses ERB-style template delimiters. Change the\n// following template settings to use alternative delimiters.\nexport default _.templateSettings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n};\n","import defaults from './defaults.js';\nimport _ from './underscore.js';\nimport './templateSettings.js';\n\n// When customizing `_.templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\nvar noMatch = /(.)^/;\n\n// Certain characters need to be escaped so that they can be put into a\n// string literal.\nvar escapes = {\n  \"'\": \"'\",\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\nvar escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction escapeChar(match) {\n  return '\\\\' + escapes[match];\n}\n\n// In order to prevent third-party code injection through\n// `_.templateSettings.variable`, we test it against the following regular\n// expression. It is intentionally a bit more liberal than just matching valid\n// identifiers, but still prevents possible loopholes through defaults or\n// destructuring assignment.\nvar bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\n// JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n// NB: `oldSettings` only exists for backwards compatibility.\nexport default function template(text, settings, oldSettings) {\n  if (!settings && oldSettings) settings = oldSettings;\n  settings = defaults({}, settings, _.templateSettings);\n\n  // Combine delimiters into one regular expression via alternation.\n  var matcher = RegExp([\n    (settings.escape || noMatch).source,\n    (settings.interpolate || noMatch).source,\n    (settings.evaluate || noMatch).source\n  ].join('|') + '|$', 'g');\n\n  // Compile the template source, escaping string literals appropriately.\n  var index = 0;\n  var source = \"__p+='\";\n  text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n    index = offset + match.length;\n\n    if (escape) {\n      source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n    } else if (interpolate) {\n      source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n    } else if (evaluate) {\n      source += \"';\\n\" + evaluate + \"\\n__p+='\";\n    }\n\n    // Adobe VMs need the match returned to produce the correct offset.\n    return match;\n  });\n  source += \"';\\n\";\n\n  var argument = settings.variable;\n  if (argument) {\n    // Insure against third-party code injection. (CVE-2021-23358)\n    if (!bareIdentifier.test(argument)) throw new Error(\n      'variable is not a bare identifier: ' + argument\n    );\n  } else {\n    // If a variable is not specified, place data values in local scope.\n    source = 'with(obj||{}){\\n' + source + '}\\n';\n    argument = 'obj';\n  }\n\n  source = \"var __t,__p='',__j=Array.prototype.join,\" +\n    \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n    source + 'return __p;\\n';\n\n  var render;\n  try {\n    render = new Function(argument, '_', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  var template = function(data) {\n    return render.call(this, data, _);\n  };\n\n  // Provide the compiled source as a convenience for precompilation.\n  template.source = 'function(' + argument + '){\\n' + source + '}';\n\n  return template;\n}\n","import isFunction from './isFunction.js';\nimport toPath from './_toPath.js';\n\n// Traverses the children of `obj` along `path`. If a child is a function, it\n// is invoked with its parent as context. Returns the value of the final\n// child, or `fallback` if any child is undefined.\nexport default function result(obj, path, fallback) {\n  path = toPath(path);\n  var length = path.length;\n  if (!length) {\n    return isFunction(fallback) ? fallback.call(obj) : fallback;\n  }\n  for (var i = 0; i < length; i++) {\n    var prop = obj == null ? void 0 : obj[path[i]];\n    if (prop === void 0) {\n      prop = fallback;\n      i = length; // Ensure we don't continue iterating.\n    }\n    obj = isFunction(prop) ? prop.call(obj) : prop;\n  }\n  return obj;\n}\n","// Generate a unique integer id (unique within the entire client session).\n// Useful for temporary DOM ids.\nvar idCounter = 0;\nexport default function uniqueId(prefix) {\n  var id = ++idCounter + '';\n  return prefix ? prefix + id : id;\n}\n","import _ from './underscore.js';\n\n// Start chaining a wrapped Underscore object.\nexport default function chain(obj) {\n  var instance = _(obj);\n  instance._chain = true;\n  return instance;\n}\n","import baseCreate from './_baseCreate.js';\nimport isObject from './isObject.js';\n\n// Internal function to execute `sourceFunc` bound to `context` with optional\n// `args`. Determines whether to execute a function as a constructor or as a\n// normal function.\nexport default function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n  if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n  var self = baseCreate(sourceFunc.prototype);\n  var result = sourceFunc.apply(self, args);\n  if (isObject(result)) return result;\n  return self;\n}\n","import restArguments from './restArguments.js';\nimport executeBound from './_executeBound.js';\nimport _ from './underscore.js';\n\n// Partially apply a function by creating a version that has had some of its\n// arguments pre-filled, without changing its dynamic `this` context. `_` acts\n// as a placeholder by default, allowing any combination of arguments to be\n// pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\nvar partial = restArguments(function(func, boundArgs) {\n  var placeholder = partial.placeholder;\n  var bound = function() {\n    var position = 0, length = boundArgs.length;\n    var args = Array(length);\n    for (var i = 0; i < length; i++) {\n      args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n    }\n    while (position < arguments.length) args.push(arguments[position++]);\n    return executeBound(func, bound, this, this, args);\n  };\n  return bound;\n});\n\npartial.placeholder = _;\nexport default partial;\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport executeBound from './_executeBound.js';\n\n// Create a function bound to a given object (assigning `this`, and arguments,\n// optionally).\nexport default restArguments(function(func, context, args) {\n  if (!isFunction(func)) throw new TypeError('Bind must be called on a function');\n  var bound = restArguments(function(callArgs) {\n    return executeBound(func, bound, context, this, args.concat(callArgs));\n  });\n  return bound;\n});\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getLength from './_getLength.js';\n\n// Internal helper for collection methods to determine whether a collection\n// should be iterated as an array or as an object.\n// Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n// Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\nexport default createSizePropertyCheck(getLength);\n","import getLength from './_getLength.js';\nimport isArrayLike from './_isArrayLike.js';\nimport isArray from './isArray.js';\nimport isArguments from './isArguments.js';\n\n// Internal implementation of a recursive `flatten` function.\nexport default function flatten(input, depth, strict, output) {\n  output = output || [];\n  if (!depth && depth !== 0) {\n    depth = Infinity;\n  } else if (depth <= 0) {\n    return output.concat(input);\n  }\n  var idx = output.length;\n  for (var i = 0, length = getLength(input); i < length; i++) {\n    var value = input[i];\n    if (isArrayLike(value) && (isArray(value) || isArguments(value))) {\n      // Flatten current level of array or arguments object.\n      if (depth > 1) {\n        flatten(value, depth - 1, strict, output);\n        idx = output.length;\n      } else {\n        var j = 0, len = value.length;\n        while (j < len) output[idx++] = value[j++];\n      }\n    } else if (!strict) {\n      output[idx++] = value;\n    }\n  }\n  return output;\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport bind from './bind.js';\n\n// Bind a number of an object's methods to that object. Remaining arguments\n// are the method names to be bound. Useful for ensuring that all callbacks\n// defined on an object belong to it.\nexport default restArguments(function(obj, keys) {\n  keys = flatten(keys, false, false);\n  var index = keys.length;\n  if (index < 1) throw new Error('bindAll must be passed function names');\n  while (index--) {\n    var key = keys[index];\n    obj[key] = bind(obj[key], obj);\n  }\n  return obj;\n});\n","import has from './_has.js';\n\n// Memoize an expensive function by storing its results.\nexport default function memoize(func, hasher) {\n  var memoize = function(key) {\n    var cache = memoize.cache;\n    var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n    if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n    return cache[address];\n  };\n  memoize.cache = {};\n  return memoize;\n}\n","import restArguments from './restArguments.js';\n\n// Delays a function for the given number of milliseconds, and then calls\n// it with the arguments supplied.\nexport default restArguments(function(func, wait, args) {\n  return setTimeout(function() {\n    return func.apply(null, args);\n  }, wait);\n});\n","import partial from './partial.js';\nimport delay from './delay.js';\nimport _ from './underscore.js';\n\n// Defers a function, scheduling it to run after the current call stack has\n// cleared.\nexport default partial(delay, _, 1);\n","import now from './now.js';\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nexport default function throttle(func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function() {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function() {\n    var _now = now();\n    if (!previous && options.leading === false) previous = _now;\n    var remaining = wait - (_now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = _now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  throttled.cancel = function() {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n","import restArguments from './restArguments.js';\nimport now from './now.js';\n\n// When a sequence of calls of the returned function ends, the argument\n// function is triggered. The end of a sequence is defined by the `wait`\n// parameter. If `immediate` is passed, the argument function will be\n// triggered at the beginning of the sequence instead of at the end.\nexport default function debounce(func, wait, immediate) {\n  var timeout, previous, args, result, context;\n\n  var later = function() {\n    var passed = now() - previous;\n    if (wait > passed) {\n      timeout = setTimeout(later, wait - passed);\n    } else {\n      timeout = null;\n      if (!immediate) result = func.apply(context, args);\n      // This check is needed because `func` can recursively invoke `debounced`.\n      if (!timeout) args = context = null;\n    }\n  };\n\n  var debounced = restArguments(function(_args) {\n    context = this;\n    args = _args;\n    previous = now();\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n      if (immediate) result = func.apply(context, args);\n    }\n    return result;\n  });\n\n  debounced.cancel = function() {\n    clearTimeout(timeout);\n    timeout = args = context = null;\n  };\n\n  return debounced;\n}\n","import partial from './partial.js';\n\n// Returns the first function passed as an argument to the second,\n// allowing you to adjust arguments, run code before and after, and\n// conditionally execute the original function.\nexport default function wrap(func, wrapper) {\n  return partial(wrapper, func);\n}\n","// Returns a negated version of the passed-in predicate.\nexport default function negate(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n","// Returns a function that is the composition of a list of functions, each\n// consuming the return value of the function that follows.\nexport default function compose() {\n  var args = arguments;\n  var start = args.length - 1;\n  return function() {\n    var i = start;\n    var result = args[start].apply(this, arguments);\n    while (i--) result = args[i].call(this, result);\n    return result;\n  };\n}\n","// Returns a function that will only be executed on and after the Nth call.\nexport default function after(times, func) {\n  return function() {\n    if (--times < 1) {\n      return func.apply(this, arguments);\n    }\n  };\n}\n","// Returns a function that will only be executed up to (but not including) the\n// Nth call.\nexport default function before(times, func) {\n  var memo;\n  return function() {\n    if (--times > 0) {\n      memo = func.apply(this, arguments);\n    }\n    if (times <= 1) func = null;\n    return memo;\n  };\n}\n","import partial from './partial.js';\nimport before from './before.js';\n\n// Returns a function that will be executed at most one time, no matter how\n// often you call it. Useful for lazy initialization.\nexport default partial(before, 2);\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the first key on an object that passes a truth test.\nexport default function findKey(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = keys(obj), key;\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    key = _keys[i];\n    if (predicate(obj[key], key, obj)) return key;\n  }\n}\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Internal function to generate `_.findIndex` and `_.findLastIndex`.\nexport default function createPredicateIndexFinder(dir) {\n  return function(array, predicate, context) {\n    predicate = cb(predicate, context);\n    var length = getLength(array);\n    var index = dir > 0 ? 0 : length - 1;\n    for (; index >= 0 && index < length; index += dir) {\n      if (predicate(array[index], index, array)) return index;\n    }\n    return -1;\n  };\n}\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the first index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(1);\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the last index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(-1);\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Use a comparator function to figure out the smallest index at which\n// an object should be inserted so as to maintain order. Uses binary search.\nexport default function sortedIndex(array, obj, iteratee, context) {\n  iteratee = cb(iteratee, context, 1);\n  var value = iteratee(obj);\n  var low = 0, high = getLength(array);\n  while (low < high) {\n    var mid = Math.floor((low + high) / 2);\n    if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n  }\n  return low;\n}\n","import getLength from './_getLength.js';\nimport { slice } from './_setup.js';\nimport isNaN from './isNaN.js';\n\n// Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\nexport default function createIndexFinder(dir, predicateFind, sortedIndex) {\n  return function(array, item, idx) {\n    var i = 0, length = getLength(array);\n    if (typeof idx == 'number') {\n      if (dir > 0) {\n        i = idx >= 0 ? idx : Math.max(idx + length, i);\n      } else {\n        length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n      }\n    } else if (sortedIndex && idx && length) {\n      idx = sortedIndex(array, item);\n      return array[idx] === item ? idx : -1;\n    }\n    if (item !== item) {\n      idx = predicateFind(slice.call(array, i, length), isNaN);\n      return idx >= 0 ? idx + i : -1;\n    }\n    for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n      if (array[idx] === item) return idx;\n    }\n    return -1;\n  };\n}\n","import sortedIndex from './sortedIndex.js';\nimport findIndex from './findIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the first occurrence of an item in an array,\n// or -1 if the item is not included in the array.\n// If the array is large and already in sort order, pass `true`\n// for **isSorted** to use binary search.\nexport default createIndexFinder(1, findIndex, sortedIndex);\n","import findLastIndex from './findLastIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the last occurrence of an item in an array,\n// or -1 if the item is not included in the array.\nexport default createIndexFinder(-1, findLastIndex);\n","import isArrayLike from './_isArrayLike.js';\nimport findIndex from './findIndex.js';\nimport findKey from './findKey.js';\n\n// Return the first value which passes a truth test.\nexport default function find(obj, predicate, context) {\n  var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n  var key = keyFinder(obj, predicate, context);\n  if (key !== void 0 && key !== -1) return obj[key];\n}\n","import find from './find.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.find`: getting the first\n// object containing specific `key:value` pairs.\nexport default function findWhere(obj, attrs) {\n  return find(obj, matcher(attrs));\n}\n","import optimizeCb from './_optimizeCb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// The cornerstone for collection functions, an `each`\n// implementation, aka `forEach`.\n// Handles raw objects in addition to array-likes. Treats all\n// sparse array-likes as if they were dense.\nexport default function each(obj, iteratee, context) {\n  iteratee = optimizeCb(iteratee, context);\n  var i, length;\n  if (isArrayLike(obj)) {\n    for (i = 0, length = obj.length; i < length; i++) {\n      iteratee(obj[i], i, obj);\n    }\n  } else {\n    var _keys = keys(obj);\n    for (i = 0, length = _keys.length; i < length; i++) {\n      iteratee(obj[_keys[i]], _keys[i], obj);\n    }\n  }\n  return obj;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the results of applying the iteratee to each element.\nexport default function map(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length,\n      results = Array(length);\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    results[index] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// Internal helper to create a reducing function, iterating left or right.\nexport default function createReduce(dir) {\n  // Wrap code that reassigns argument variables in a separate function than\n  // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n  var reducer = function(obj, iteratee, memo, initial) {\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        index = dir > 0 ? 0 : length - 1;\n    if (!initial) {\n      memo = obj[_keys ? _keys[index] : index];\n      index += dir;\n    }\n    for (; index >= 0 && index < length; index += dir) {\n      var currentKey = _keys ? _keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  return function(obj, iteratee, memo, context) {\n    var initial = arguments.length >= 3;\n    return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n  };\n}\n","import createReduce from './_createReduce.js';\n\n// **Reduce** builds up a single result from a list of values, aka `inject`,\n// or `foldl`.\nexport default createReduce(1);\n","import createReduce from './_createReduce.js';\n\n// The right-associative version of reduce, also known as `foldr`.\nexport default createReduce(-1);\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// Return all the elements that pass a truth test.\nexport default function filter(obj, predicate, context) {\n  var results = [];\n  predicate = cb(predicate, context);\n  each(obj, function(value, index, list) {\n    if (predicate(value, index, list)) results.push(value);\n  });\n  return results;\n}\n","import filter from './filter.js';\nimport negate from './negate.js';\nimport cb from './_cb.js';\n\n// Return all the elements for which a truth test fails.\nexport default function reject(obj, predicate, context) {\n  return filter(obj, negate(cb(predicate)), context);\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine whether all of the elements pass a truth test.\nexport default function every(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (!predicate(obj[currentKey], currentKey, obj)) return false;\n  }\n  return true;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine if at least one element in the object passes a truth test.\nexport default function some(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (predicate(obj[currentKey], currentKey, obj)) return true;\n  }\n  return false;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport indexOf from './indexOf.js';\n\n// Determine if the array or object contains a given item (using `===`).\nexport default function contains(obj, item, fromIndex, guard) {\n  if (!isArrayLike(obj)) obj = values(obj);\n  if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n  return indexOf(obj, item, fromIndex) >= 0;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport map from './map.js';\nimport deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Invoke a method (with arguments) on every item in a collection.\nexport default restArguments(function(obj, path, args) {\n  var contextPath, func;\n  if (isFunction(path)) {\n    func = path;\n  } else {\n    path = toPath(path);\n    contextPath = path.slice(0, -1);\n    path = path[path.length - 1];\n  }\n  return map(obj, function(context) {\n    var method = func;\n    if (!method) {\n      if (contextPath && contextPath.length) {\n        context = deepGet(context, contextPath);\n      }\n      if (context == null) return void 0;\n      method = context[path];\n    }\n    return method == null ? method : method.apply(context, args);\n  });\n});\n","import map from './map.js';\nimport property from './property.js';\n\n// Convenience version of a common use case of `_.map`: fetching a property.\nexport default function pluck(obj, key) {\n  return map(obj, property(key));\n}\n","import filter from './filter.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.filter`: selecting only\n// objects containing specific `key:value` pairs.\nexport default function where(obj, attrs) {\n  return filter(obj, matcher(attrs));\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the maximum element (or element-based computation).\nexport default function max(obj, iteratee, context) {\n  var result = -Infinity, lastComputed = -Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value > result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed > lastComputed || (computed === -Infinity && result === -Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the minimum element (or element-based computation).\nexport default function min(obj, iteratee, context) {\n  var result = Infinity, lastComputed = Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value < result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed < lastComputed || (computed === Infinity && result === Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArray from './isArray.js';\nimport { slice } from './_setup.js';\nimport isString from './isString.js';\nimport isArrayLike from './_isArrayLike.js';\nimport map from './map.js';\nimport identity from './identity.js';\nimport values from './values.js';\n\n// Safely create a real, live array from anything iterable.\nvar reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\nexport default function toArray(obj) {\n  if (!obj) return [];\n  if (isArray(obj)) return slice.call(obj);\n  if (isString(obj)) {\n    // Keep surrogate pair characters together.\n    return obj.match(reStrSymbol);\n  }\n  if (isArrayLike(obj)) return map(obj, identity);\n  return values(obj);\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport getLength from './_getLength.js';\nimport random from './random.js';\nimport toArray from './toArray.js';\n\n// Sample **n** random values from a collection using the modern version of the\n// [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n// If **n** is not specified, returns a single random element.\n// The internal `guard` argument allows it to work with `_.map`.\nexport default function sample(obj, n, guard) {\n  if (n == null || guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    return obj[random(obj.length - 1)];\n  }\n  var sample = toArray(obj);\n  var length = getLength(sample);\n  n = Math.max(Math.min(n, length), 0);\n  var last = length - 1;\n  for (var index = 0; index < n; index++) {\n    var rand = random(index, last);\n    var temp = sample[index];\n    sample[index] = sample[rand];\n    sample[rand] = temp;\n  }\n  return sample.slice(0, n);\n}\n","import sample from './sample.js';\n\n// Shuffle a collection.\nexport default function shuffle(obj) {\n  return sample(obj, Infinity);\n}\n","import cb from './_cb.js';\nimport pluck from './pluck.js';\nimport map from './map.js';\n\n// Sort the object's values by a criterion produced by an iteratee.\nexport default function sortBy(obj, iteratee, context) {\n  var index = 0;\n  iteratee = cb(iteratee, context);\n  return pluck(map(obj, function(value, key, list) {\n    return {\n      value: value,\n      index: index++,\n      criteria: iteratee(value, key, list)\n    };\n  }).sort(function(left, right) {\n    var a = left.criteria;\n    var b = right.criteria;\n    if (a !== b) {\n      if (a > b || a === void 0) return 1;\n      if (a < b || b === void 0) return -1;\n    }\n    return left.index - right.index;\n  }), 'value');\n}\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// An internal function used for aggregate \"group by\" operations.\nexport default function group(behavior, partition) {\n  return function(obj, iteratee, context) {\n    var result = partition ? [[], []] : {};\n    iteratee = cb(iteratee, context);\n    each(obj, function(value, index) {\n      var key = iteratee(value, index, obj);\n      behavior(result, value, key);\n    });\n    return result;\n  };\n}\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Groups the object's values by a criterion. Pass either a string attribute\n// to group by, or a function that returns the criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key].push(value); else result[key] = [value];\n});\n","import group from './_group.js';\n\n// Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n// when you know that your index values will be unique.\nexport default group(function(result, value, key) {\n  result[key] = value;\n});\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Counts instances of an object that group by a certain criterion. Pass\n// either a string attribute to count by, or a function that returns the\n// criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key]++; else result[key] = 1;\n});\n","import group from './_group.js';\n\n// Split a collection into two arrays: one whose elements all pass the given\n// truth test, and one whose elements all do not pass the truth test.\nexport default group(function(result, value, pass) {\n  result[pass ? 0 : 1].push(value);\n}, true);\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the number of elements in a collection.\nexport default function size(obj) {\n  if (obj == null) return 0;\n  return isArrayLike(obj) ? obj.length : keys(obj).length;\n}\n","// Internal `_.pick` helper function to determine whether `key` is an enumerable\n// property name of `obj`.\nexport default function keyInObj(value, key, obj) {\n  return key in obj;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport optimizeCb from './_optimizeCb.js';\nimport allKeys from './allKeys.js';\nimport keyInObj from './_keyInObj.js';\nimport flatten from './_flatten.js';\n\n// Return a copy of the object only containing the allowed properties.\nexport default restArguments(function(obj, keys) {\n  var result = {}, iteratee = keys[0];\n  if (obj == null) return result;\n  if (isFunction(iteratee)) {\n    if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n    keys = allKeys(obj);\n  } else {\n    iteratee = keyInObj;\n    keys = flatten(keys, false, false);\n    obj = Object(obj);\n  }\n  for (var i = 0, length = keys.length; i < length; i++) {\n    var key = keys[i];\n    var value = obj[key];\n    if (iteratee(value, key, obj)) result[key] = value;\n  }\n  return result;\n});\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport negate from './negate.js';\nimport map from './map.js';\nimport flatten from './_flatten.js';\nimport contains from './contains.js';\nimport pick from './pick.js';\n\n// Return a copy of the object without the disallowed properties.\nexport default restArguments(function(obj, keys) {\n  var iteratee = keys[0], context;\n  if (isFunction(iteratee)) {\n    iteratee = negate(iteratee);\n    if (keys.length > 1) context = keys[1];\n  } else {\n    keys = map(flatten(keys, false, false), String);\n    iteratee = function(value, key) {\n      return !contains(keys, key);\n    };\n  }\n  return pick(obj, iteratee, context);\n});\n","import { slice } from './_setup.js';\n\n// Returns everything but the last entry of the array. Especially useful on\n// the arguments object. Passing **n** will return all the values in\n// the array, excluding the last N.\nexport default function initial(array, n, guard) {\n  return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n}\n","import initial from './initial.js';\n\n// Get the first element of an array. Passing **n** will return the first N\n// values in the array. The **guard** check allows it to work with `_.map`.\nexport default function first(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[0];\n  return initial(array, array.length - n);\n}\n","import { slice } from './_setup.js';\n\n// Returns everything but the first entry of the `array`. Especially useful on\n// the `arguments` object. Passing an **n** will return the rest N values in the\n// `array`.\nexport default function rest(array, n, guard) {\n  return slice.call(array, n == null || guard ? 1 : n);\n}\n","import rest from './rest.js';\n\n// Get the last element of an array. Passing **n** will return the last N\n// values in the array.\nexport default function last(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[array.length - 1];\n  return rest(array, Math.max(0, array.length - n));\n}\n","import filter from './filter.js';\n\n// Trim out all falsy values from an array.\nexport default function compact(array) {\n  return filter(array, Boolean);\n}\n","import _flatten from './_flatten.js';\n\n// Flatten out an array, either recursively (by default), or up to `depth`.\n// Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\nexport default function flatten(array, depth) {\n  return _flatten(array, depth, false);\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport filter from './filter.js';\nimport contains from './contains.js';\n\n// Take the difference between one array and a number of other arrays.\n// Only the elements present in just the first array will remain.\nexport default restArguments(function(array, rest) {\n  rest = flatten(rest, true, true);\n  return filter(array, function(value){\n    return !contains(rest, value);\n  });\n});\n","import restArguments from './restArguments.js';\nimport difference from './difference.js';\n\n// Return a version of the array that does not contain the specified value(s).\nexport default restArguments(function(array, otherArrays) {\n  return difference(array, otherArrays);\n});\n","import isBoolean from './isBoolean.js';\nimport cb from './_cb.js';\nimport getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce a duplicate-free version of the array. If the array has already\n// been sorted, you have the option of using a faster algorithm.\n// The faster algorithm will not work with an iteratee if the iteratee\n// is not a one-to-one function, so providing an iteratee will disable\n// the faster algorithm.\nexport default function uniq(array, isSorted, iteratee, context) {\n  if (!isBoolean(isSorted)) {\n    context = iteratee;\n    iteratee = isSorted;\n    isSorted = false;\n  }\n  if (iteratee != null) iteratee = cb(iteratee, context);\n  var result = [];\n  var seen = [];\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var value = array[i],\n        computed = iteratee ? iteratee(value, i, array) : value;\n    if (isSorted && !iteratee) {\n      if (!i || seen !== computed) result.push(value);\n      seen = computed;\n    } else if (iteratee) {\n      if (!contains(seen, computed)) {\n        seen.push(computed);\n        result.push(value);\n      }\n    } else if (!contains(result, value)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport uniq from './uniq.js';\nimport flatten from './_flatten.js';\n\n// Produce an array that contains the union: each distinct element from all of\n// the passed-in arrays.\nexport default restArguments(function(arrays) {\n  return uniq(flatten(arrays, true, true));\n});\n","import getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce an array that contains every item shared between all the\n// passed-in arrays.\nexport default function intersection(array) {\n  var result = [];\n  var argsLength = arguments.length;\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var item = array[i];\n    if (contains(result, item)) continue;\n    var j;\n    for (j = 1; j < argsLength; j++) {\n      if (!contains(arguments[j], item)) break;\n    }\n    if (j === argsLength) result.push(item);\n  }\n  return result;\n}\n","import max from './max.js';\nimport getLength from './_getLength.js';\nimport pluck from './pluck.js';\n\n// Complement of zip. Unzip accepts an array of arrays and groups\n// each array's elements on shared indices.\nexport default function unzip(array) {\n  var length = (array && max(array, getLength).length) || 0;\n  var result = Array(length);\n\n  for (var index = 0; index < length; index++) {\n    result[index] = pluck(array, index);\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport unzip from './unzip.js';\n\n// Zip together multiple lists into a single array -- elements that share\n// an index go together.\nexport default restArguments(unzip);\n","import getLength  from './_getLength.js';\n\n// Converts lists into objects. Pass either a single array of `[key, value]`\n// pairs, or two parallel arrays of the same length -- one of keys, and one of\n// the corresponding values. Passing by pairs is the reverse of `_.pairs`.\nexport default function object(list, values) {\n  var result = {};\n  for (var i = 0, length = getLength(list); i < length; i++) {\n    if (values) {\n      result[list[i]] = values[i];\n    } else {\n      result[list[i][0]] = list[i][1];\n    }\n  }\n  return result;\n}\n","// Generate an integer Array containing an arithmetic progression. A port of\n// the native Python `range()` function. See\n// [the Python documentation](https://docs.python.org/library/functions.html#range).\nexport default function range(start, stop, step) {\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (!step) {\n    step = stop < start ? -1 : 1;\n  }\n\n  var length = Math.max(Math.ceil((stop - start) / step), 0);\n  var range = Array(length);\n\n  for (var idx = 0; idx < length; idx++, start += step) {\n    range[idx] = start;\n  }\n\n  return range;\n}\n","import { slice } from './_setup.js';\n\n// Chunk a single array into multiple arrays, each containing `count` or fewer\n// items.\nexport default function chunk(array, count) {\n  if (count == null || count < 1) return [];\n  var result = [];\n  var i = 0, length = array.length;\n  while (i < length) {\n    result.push(slice.call(array, i, i += count));\n  }\n  return result;\n}\n","import _ from './underscore.js';\n\n// Helper function to continue chaining intermediate results.\nexport default function chainResult(instance, obj) {\n  return instance._chain ? _(obj).chain() : obj;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport functions from './functions.js';\nimport { push } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add your own custom functions to the Underscore object.\nexport default function mixin(obj) {\n  each(functions(obj), function(name) {\n    var func = _[name] = obj[name];\n    _.prototype[name] = function() {\n      var args = [this._wrapped];\n      push.apply(args, arguments);\n      return chainResult(this, func.apply(_, args));\n    };\n  });\n  return _;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport { ArrayProto } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add all mutator `Array` functions to the wrapper.\neach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) {\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n        delete obj[0];\n      }\n    }\n    return chainResult(this, obj);\n  };\n});\n\n// Add all accessor `Array` functions to the wrapper.\neach(['concat', 'join', 'slice'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) obj = method.apply(obj, arguments);\n    return chainResult(this, obj);\n  };\n});\n\nexport default _;\n","// Default Export\n// ==============\n// In this module, we mix our bundled exports into the `_` object and export\n// the result. This is analogous to setting `module.exports = _` in CommonJS.\n// Hence, this module is also the entry point of our UMD bundle and the package\n// entry point for CommonJS and AMD users. In other words, this is (the source\n// of) the module you are interfacing with when you do any of the following:\n//\n// ```js\n// // CommonJS\n// var _ = require('underscore');\n//\n// // AMD\n// define(['underscore'], function(_) {...});\n//\n// // UMD in the browser\n// // _ is available as a global variable\n// ```\nimport * as allExports from './index.js';\nimport { mixin } from './index.js';\n\n// Add all of the Underscore functions to the wrapper object.\nvar _ = mixin(allExports);\n// Legacy Node.js API.\n_._ = _;\n// Export the Underscore API.\nexport default _;\n","import { formatDelimited, guessDelimiterFromLocale } from '../utils/delimited.mjs';\nimport { isString, range, each } from 'underscore';\n\n/*\n * Dataset class\n * @class dw.Dataset\n *\n * @param {dw.Column[]} columns\n */\nexport default function Dataset(columns) {\n    // make column names unique\n    const columnsByName = {};\n    const origColumns = columns.slice(0);\n\n    columns.forEach(col => {\n        uniqueName(col);\n        columnsByName[col.name()] = col;\n    });\n\n    // sets a unique name for a column\n    function uniqueName(col) {\n        const origColName = col.name();\n        let baseColName, suffix, colName;\n        if (origColName) {\n            baseColName = origColName;\n            suffix = 0;\n            colName = baseColName;\n        } else {\n            baseColName = 'X';\n            suffix = 1;\n            colName = `${baseColName}.${suffix}`;\n        }\n        while (Object.prototype.hasOwnProperty.call(columnsByName, colName)) {\n            colName = `${baseColName}.${++suffix}`;\n        }\n        if (colName !== origColName) {\n            col.name(colName, origColName);\n        }\n    }\n\n    // public interface\n    const dataset = {\n        /**\n         * returns all columns of the dataset\n         * @returns {dw.Column[]}\n         */\n        columns() {\n            return columns;\n        },\n\n        /**\n         * returns a specific column by name or index\n         *\n         * @param {string|number} nameOrIndex -- the name or index of the column to return\n         * @returns {dw.Column}\n         */\n        column(nameOrIndex) {\n            if (isString(nameOrIndex)) {\n                // single column by name\n                if (columnsByName[nameOrIndex] !== undefined) return columnsByName[nameOrIndex];\n                throw new Error('No column found with that name: \"' + nameOrIndex + '\"');\n            } else {\n                if (nameOrIndex < 0) {\n                    return;\n                }\n            }\n\n            // single column by index\n            if (columns[nameOrIndex] !== undefined) return columns[nameOrIndex];\n            throw new Error('No column found with that name or index: ' + nameOrIndex);\n        },\n\n        /**\n         * returns the number of columns in the dataset\n         * @returns {number}\n         */\n        numColumns() {\n            return columns.length;\n        },\n\n        /**\n         * returns the number of rows in the dataset\n         * @returns {number}\n         */\n        numRows() {\n            return columns.length ? columns[0].length : 0;\n        },\n\n        /** calls a function for each column of the dataset */\n        eachColumn(func) {\n            columns.forEach(func);\n        },\n\n        /**\n         * tests if a column name or index exists\n         *\n         * @param {string|number} nameOrIndex -- the name or index of the column\n         * @returns {boolean}\n         */\n        hasColumn(nameOrIndex) {\n            return (\n                (isString(nameOrIndex) ? columnsByName[nameOrIndex] : columns[nameOrIndex]) !==\n                undefined\n            );\n        },\n\n        /**\n         * returns the index of a column\n         * @param {string} columnName\n         * @returns {number}\n         */\n        indexOf(columnName) {\n            if (!dataset.hasColumn(columnName)) return -1;\n            return columns.indexOf(columnsByName[columnName]);\n        },\n\n        /**\n         * returns a D3 friendly list of plain objects\n         * @returns {object[]}\n         */\n        list() {\n            if (!columns.length) {\n                return [];\n            }\n            return range(columns[0].length).map(dataset.row);\n        },\n\n        /**\n         * returns an object containing the column values of the row\n         * @param {number} index the row index\n         * @returns {object}\n         */\n        row(index) {\n            if (!columns.length || index >= columns[0].length) {\n                return {};\n            }\n            const o = {};\n            columns.forEach(col => {\n                o[col.name()] = col.val(index);\n            });\n            return o;\n        },\n\n        /**\n         * returns a CSV string representation of the dataset\n         * @param {Object} opt -- options\n         * @param {boolean} [opt.includeComputedColumns=true] -- include computed columns in the CSV\n         * @param {boolean} [opt.includeHeader=true] -- include header row in the CSV\n         * @param {string} [opt.numeral=null] -- format numbers using this Numeral.js instance\n         * @returns {string}\n         */\n        csv({\n            includeComputedColumns = true,\n            includeHeader = true,\n            includeOrder = true,\n            includeFiltered = false,\n            numeral = null,\n            ...opts\n        } = {}) {\n            if (!columns.length) {\n                return '';\n            }\n            const numRows = dataset.numRows();\n            const cols = includeOrder ? columns : origColumns;\n            const filteredColumns = cols.filter(col => {\n                if (!includeComputedColumns && col.isComputed) {\n                    return false;\n                }\n                if (!includeFiltered && columns.indexOf(col) === -1) {\n                    return false;\n                }\n                return true;\n            });\n            const table = filteredColumns.map(col => [\n                ...(includeHeader ? [col.title()] : []),\n                ...col.formatted(numeral)\n            ]);\n            const rows = table[0].map((_, i) => table.map(row => row[i])).slice(0, numRows + 1);\n            if (!opts.delimiter && numeral) {\n                opts.delimiter = guessDelimiterFromLocale(numeral);\n            }\n            return formatDelimited(rows, opts);\n        },\n\n        /**\n         * @alias csv\n         * @deprecated\n         */\n        toCSV() {\n            return this.csv(...arguments);\n        },\n\n        /**\n         * removes ignored columns from dataset\n         * @param {object} ignore -- object of column names to ignore\n         */\n        filterColumns(ignore) {\n            columns = columns.filter(c => !ignore[c.name()]);\n            each(ignore, (ign, key) => {\n                if (ign && columnsByName[key]) delete columnsByName[key];\n            });\n            return dataset;\n        },\n\n        /**\n         * executes func for each row of the dataset\n         */\n        eachRow(func) {\n            var i;\n            for (i = 0; i < dataset.numRows(); i++) {\n                func(i);\n            }\n            return dataset;\n        },\n\n        /**\n         * adds a new column to the dataset\n         * @param {dw.Column} column\n         */\n        add(column) {\n            uniqueName(column);\n            columns.push(column);\n            columnsByName[column.name()] = column;\n            origColumns.push(column);\n            return dataset;\n        },\n\n        /**\n         * cuts each column in the dataset to a maximum number of rows\n         * @param {number} numRows\n         * @returns {dw.Dataset}\n         */\n        limitRows(numRows) {\n            columns.forEach(col => {\n                col.limitRows(numRows);\n            });\n            return dataset;\n        },\n\n        /**\n         * cuts the number of columns to a maximum value\n         * @param {number} numCols\n         * @returns {dw.Dataset}\n         */\n        limitColumns(numCols) {\n            if (columns.length > numCols) {\n                columns.length = numCols;\n                origColumns.length = numCols;\n            }\n            return dataset;\n        },\n\n        /**\n         * Sorts columns according to give `sortOrder`.\n         *\n         * Columns that don't appear in `sortOrder` will be put at the end.\n         *\n         * @param {number[]} sortOrder -- array of original column indexes in the desired order\n         */\n        columnOrder(sortOrder) {\n            if (arguments.length) {\n                const columnsWithNewIndexes = columns.map((column, i) => {\n                    const newIndex = sortOrder.indexOf(i);\n                    return [column, newIndex !== -1 ? newIndex : columns.length];\n                });\n                columns = columnsWithNewIndexes.sort((a, b) => a[1] - b[1]).map(x => x[0]);\n                return dataset;\n            }\n            return columns.map(function (c) {\n                return origColumns.indexOf(c);\n            });\n        },\n\n        /**\n         * make sure all columns have the same number of rows\n         *\n         * pad with empty string by default, because that's a neutral value that doesn't make the\n         * cell invalid\n         *\n         * @param {*} [value=''] -- pad short columns with this value\n         */\n        align(value = '') {\n            const maxNumRows = Math.max(...columns.map(column => column.length));\n            for (const column of columns) {\n                const padding = Array(maxNumRows - column.length).fill(value);\n                column.add(...padding);\n            }\n        },\n\n        /**\n         * create a copy of the dataset\n         * @returns {dw.Dataset}\n         */\n        clone() {\n            return Dataset(columns.map(column => column.clone()));\n        },\n\n        /**\n         * remove all rows from all columns of the dataset\n         */\n        clear() {\n            for (const column of columns) {\n                column.clear();\n            }\n        },\n\n        /**\n         * deletes one or more rows from dataset\n         * @param {...number} rowIndex\n         * @returns {dw.Dataset}\n         */\n        deleteRow(...rowIndexes) {\n            rowIndexes.sort();\n            for (const column of columns) {\n                let numDeleted = 0;\n                rowIndexes.forEach(rowIndex => {\n                    const deletedRows = column.deleteRow(rowIndex - numDeleted);\n                    numDeleted += deletedRows.length;\n                });\n            }\n            return dataset;\n        }\n    };\n\n    return dataset;\n}\n","import { each, flatten, values, isRegExp, isDate, isUndefined, isString } from 'underscore';\n\nconst begin = /^ */.source;\nconst end = /[*']* *$/.source;\nconst s0 = /[ \\-/.]?/.source; // optional separator\nconst s1 = /[ \\-/.]/.source; // mandatory separator\nconst s2 = /[ \\-/.;,]/.source; // mandatory separator\nconst s3 = /[ \\-|T]/.source; // mandatory separator\nconst sM = /[ \\-/.m]/.source; // mandatory separator\nconst rx = {\n    YY: { parse: /['’‘]?(\\d{2})/ },\n    YYYY: { test: /([12]\\d{3})/, parse: /(\\d{4})/ },\n    YYYY2: { test: /(?:1[7-9]|20)\\d{2}/, parse: /(\\d{4})/ },\n    H: { parse: /h([12])/ },\n    Q: { parse: /q([1234])/ },\n    W: { parse: /w([0-5]?[0-9])/ },\n    MM: { test: /(0?[1-9]|1[0-2])/, parse: /(0?[1-9]|1[0-2])/ },\n    DD: { parse: /(0?[1-9]|[1-2][0-9]|3[01])/ },\n    DOW: { parse: /([0-7])/ },\n    HHMM: { parse: /(0?\\d|1\\d|2[0-3]):([0-5]\\d)(?::([0-5]\\d))? *(AM|PM)?/ }\n};\n\nconst MONTHS = {\n    // feel free to add more localized month names\n    0: [\n        'JAN',\n        'JANUARY',\n        'JANUAR',\n        'JÄNNER',\n        'JÄN',\n        'JANV',\n        'JANVIER',\n        'ENE',\n        'ENERO',\n        'GEN',\n        'GENNAIO',\n        'JANEIRO'\n    ],\n    1: [\n        'FEB',\n        'FEBRUARY',\n        'FEBR',\n        'FEBRUAR',\n        'FÉV',\n        'FÉVR',\n        'FÉVRIER',\n        'FEBRERO',\n        'FEBBRAIO',\n        'FEV',\n        'FEVEREIRO'\n    ],\n    2: ['MAR', 'MÄR', 'MARCH', 'MRZ', 'MÄRZ', 'MARS', 'MARS', 'MARZO', 'MARZO', 'MARÇO'],\n    3: ['APR', 'APRIL', 'APR', 'APRIL', 'AVR', 'AVRIL', 'ABR', 'ABRIL', 'APRILE'],\n    4: ['MAY', 'MAI', 'MAYO', 'MAG', 'MAGGIO', 'MAIO', 'MAJ'],\n    5: ['JUN', 'JUNE', 'JUNI', 'JUIN', 'JUNIO', 'GIU', 'GIUGNO', 'JUNHO'],\n    6: ['JUL', 'JULY', 'JULI', 'JUIL', 'JUILLET', 'JULIO', 'LUG', 'LUGLIO', 'JULHO'],\n    7: ['AUG', 'AUGUST', 'AOÛT', 'AGO', 'AGOSTO'],\n    8: ['SEP', 'SEPTEMBER', 'SEPT', 'SEPTEMBRE', 'SEPTIEMBRE', 'SET', 'SETTEMBRE', 'SETEMBRO'],\n    9: [\n        'OCT',\n        'OCTOBER',\n        'OKT',\n        'OKTOBER',\n        'OCTOBRE',\n        'OCTUBRE',\n        'OTT',\n        'OTTOBRE',\n        'OUT',\n        'OUTUBRO'\n    ],\n    10: ['NOV', 'NOVEMBER', 'NOVEMBER', 'NOVEMBRE', 'NOVIEMBRE', 'NOVEMBRE', 'NOVEMBRO'],\n    11: [\n        'DEC',\n        'DECEMBER',\n        'DEZ',\n        'DES',\n        'DEZEMBER',\n        'DÉC',\n        'DÉCEMBRE',\n        'DIC',\n        'DICIEMBRE',\n        'DICEMBRE',\n        'DESEMBER',\n        'DEZEMBRO'\n    ]\n};\nconst shortMonthKey = {};\n\neach(MONTHS, function (abbr, m) {\n    each(abbr, function (a) {\n        shortMonthKey[a] = m;\n    });\n});\n\nrx.MMM = { parse: new RegExp('(' + flatten(values(MONTHS)).join('|') + ')') };\n\nconst ISO8601_REG =\n    /^(?:([1-9]\\d{3})(-?)(?:(0\\d|1[012]))\\2(0\\d|1\\d|2\\d|3[01]))T([01]\\d|2[0-3])(:?)([0-5]\\d)(?:\\6([0-5]\\d)(?:\\.(\\d{3}))?)?(Z|[+-][01]\\d(?:\\6[0-5]\\d)?)$/;\n\neach(rx, function (r) {\n    r.parse = r.parse.source;\n    if (isRegExp(r.test)) r.test = r.test.source;\n    else r.test = r.parse;\n});\n\nvar knownFormats = {\n    // each format has two regex, a strict one for format guessing\n    // based on a sample and a lazy one for parsing\n    YYYY: {\n        test: reg(rx.YYYY2.test),\n        parse: reg(rx.YYYY2.parse),\n        precision: 'year'\n    },\n    'YYYY-H': {\n        test: reg(rx.YYYY.test, s0, rx.H.test),\n        parse: reg(rx.YYYY.parse, s0, rx.H.parse),\n        precision: 'half'\n    },\n    'H-YYYY': {\n        test: reg(rx.H.test, s1, rx.YYYY.test),\n        parse: reg(rx.H.parse, s1, rx.YYYY.parse),\n        precision: 'half'\n    },\n    'YYYY-Q': {\n        test: reg(rx.YYYY.test, s0, rx.Q.test),\n        parse: reg(rx.YYYY.parse, s0, rx.Q.parse),\n        precision: 'quarter'\n    },\n    'Q-YYYY': {\n        test: reg(rx.Q.test, s1, rx.YYYY.test),\n        parse: reg(rx.Q.parse, s1, rx.YYYY.parse),\n        precision: 'quarter'\n    },\n    'YYYY-M': {\n        test: reg(rx.YYYY.test, sM, rx.MM.test),\n        parse: reg(rx.YYYY.parse, sM, rx.MM.parse),\n        precision: 'month'\n    },\n    'M-YYYY': {\n        test: reg(rx.MM.test, s1, rx.YYYY.test),\n        parse: reg(rx.MM.parse, s1, rx.YYYY.parse),\n        precision: 'month'\n    },\n    'YYYY-MMM': {\n        test: reg(rx.YYYY.test, s1, rx.MMM.parse),\n        parse: reg(rx.YYYY.parse, s1, rx.MMM.parse),\n        precision: 'month'\n    },\n    'MMM-YYYY': {\n        test: reg(rx.MMM.parse, s1, rx.YYYY.test),\n        parse: reg(rx.MMM.parse, s1, rx.YYYY.parse),\n        precision: 'month'\n    },\n    'MMM-YY': {\n        test: reg(rx.MMM.parse, s1, rx.YY.test),\n        parse: reg(rx.MMM.parse, s1, rx.YY.parse),\n        precision: 'month'\n    },\n    MMM: {\n        test: reg(rx.MMM.parse),\n        parse: reg(rx.MMM.parse),\n        precision: 'month'\n    },\n    'YYYY-WW': {\n        test: reg(rx.YYYY.test, s0, rx.W.test),\n        parse: reg(rx.YYYY.parse, s0, rx.W.parse),\n        precision: 'week'\n    },\n    'WW-YYYY': {\n        test: reg(rx.W.test, s1, rx.YYYY.test),\n        parse: reg(rx.W.parse, s1, rx.YYYY.parse),\n        precision: 'week'\n    },\n    'MM/DD/YYYY': {\n        test: reg(rx.MM.test, '([\\\\-\\\\/])', rx.DD.test, '\\\\2', rx.YYYY.test),\n        parse: reg(rx.MM.parse, '([\\\\-\\\\/])', rx.DD.parse, '\\\\2', rx.YYYY.parse),\n        precision: 'day'\n    },\n    'MM/DD/YY': {\n        test: reg(rx.MM.test, '([\\\\-\\\\/])', rx.DD.test, '\\\\2', rx.YY.test),\n        parse: reg(rx.MM.parse, '([\\\\-\\\\/])', rx.DD.parse, '\\\\2', rx.YY.parse),\n        precision: 'day'\n    },\n    'DD/MM/YY': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.YY.test),\n        parse: reg(rx.DD.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MM.parse, '\\\\2', rx.YY.parse),\n        precision: 'day'\n    },\n    'DD/MM/YYYY': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.YYYY.test),\n        parse: reg(rx.DD.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MM.parse, '\\\\2', rx.YYYY.parse),\n        precision: 'day'\n    },\n    'DD/MMM/YYYY': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MMM.test, '\\\\2', rx.YYYY.test),\n        parse: reg(rx.DD.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MMM.parse, '\\\\2', rx.YYYY.parse),\n        precision: 'day'\n    },\n    'DD/MMM/YY': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MMM.test, '\\\\2', rx.YY.test),\n        parse: reg(rx.DD.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MMM.parse, '\\\\2', rx.YY.parse),\n        precision: 'day'\n    },\n    'YYYY-MM-DD': {\n        test: reg(rx.YYYY.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.DD.test),\n        parse: reg(rx.YYYY.parse, '([\\\\-\\\\.\\\\/ ?])', rx.MM.parse, '\\\\2', rx.DD.parse),\n        precision: 'day'\n    },\n\n    'MMM-DD-YYYY': {\n        test: reg(rx.MMM.test, s1, rx.DD.test, s2, rx.YYYY.test),\n        parse: reg(rx.MMM.parse, s1, rx.DD.parse, s2, rx.YYYY.parse),\n        precision: 'day'\n    },\n\n    'YYYY-WW-d': {\n        // year + ISO week + [day]\n        test: reg(rx.YYYY.test, s0, rx.W.test, s1, rx.DOW.test),\n        parse: reg(rx.YYYY.parse, s0, rx.W.parse, s1, rx.DOW.parse),\n        precision: 'day'\n    },\n\n    // dates with a time\n    'MM/DD/YYYY HH:MM': {\n        test: reg(rx.MM.test, '([\\\\-\\\\/])', rx.DD.test, '\\\\2', rx.YYYY.test, s3, rx.HHMM.test),\n        parse: reg(rx.MM.parse, '([\\\\-\\\\/])', rx.DD.parse, '\\\\2', rx.YYYY.parse, s3, rx.HHMM.parse),\n        precision: 'day-minutes'\n    },\n    'DD.MM.YYYY HH:MM': {\n        test: reg(rx.DD.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.YYYY.test, s3, rx.HHMM.test),\n        parse: reg(\n            rx.DD.parse,\n            '([\\\\-\\\\.\\\\/ ?])',\n            rx.MM.parse,\n            '\\\\2',\n            rx.YYYY.parse,\n            s3,\n            rx.HHMM.parse\n        ),\n        precision: 'day-minutes'\n    },\n    'YYYY-MM-DD HH:MM': {\n        test: reg(rx.YYYY.test, '([\\\\-\\\\.\\\\/ ?])', rx.MM.test, '\\\\2', rx.DD.test, s3, rx.HHMM.test),\n        parse: reg(\n            rx.YYYY.parse,\n            '([\\\\-\\\\.\\\\/ ?])',\n            rx.MM.parse,\n            '\\\\2',\n            rx.DD.parse,\n            s3,\n            rx.HHMM.parse\n        ),\n        precision: 'day-minutes'\n    },\n    ISO8601: {\n        test: ISO8601_REG,\n        parse: ISO8601_REG,\n        precision: 'day-seconds'\n    }\n};\n\nfunction reg() {\n    return new RegExp(begin + Array.prototype.slice.call(arguments).join(' *') + end, 'i');\n}\n\nfunction test(str, key) {\n    var fmt = knownFormats[key];\n    if (isRegExp(fmt.test)) {\n        return fmt.test.test(str);\n    } else {\n        return fmt.test(str, key);\n    }\n}\n\nfunction parse(str, key) {\n    var fmt = knownFormats[key];\n    if (isRegExp(fmt.parse)) {\n        return str.match(fmt.parse);\n    } else {\n        return fmt.parse(str, key);\n    }\n}\n\nfunction dateFromIsoWeek(year, week, day) {\n    var d = new Date(Date.UTC(year, 0, 3));\n    d.setUTCDate(3 - d.getUTCDay() + (week - 1) * 7 + parseInt(day, 10));\n    return d;\n}\n\nfunction hour(hr, amPm) {\n    if (hr !== 12) return hr + (amPm === 'PM' ? 12 : 0);\n    return amPm === 'AM' ? 0 : 12;\n}\n\nexport default function (sample) {\n    let format;\n    let errors = 0;\n    const matches = {};\n    const bestMatch = ['', 0];\n\n    sample = sample || [];\n\n    each(knownFormats, function (format, key) {\n        each(sample, function (n) {\n            if (matches[key] === undefined) matches[key] = 0;\n            if (test(String(n).toUpperCase(), key)) {\n                matches[key] += 1;\n                if (matches[key] > bestMatch[1]) {\n                    bestMatch[0] = key;\n                    bestMatch[1] = matches[key];\n                }\n            }\n        });\n    });\n    format = bestMatch[0];\n    // public interface\n    const type = {\n        parse: function (raw) {\n            if (isDate(raw) || isUndefined(raw)) return raw;\n            if (!format || !isString(raw)) {\n                errors++;\n                return raw;\n            }\n\n            var m = parse(raw.toUpperCase(), format);\n\n            if (!m) {\n                errors++;\n                return raw;\n            } else {\n                // increment errors anyway if string doesn't match strict format\n                if (!test(raw, format)) errors++;\n            }\n\n            function guessTwoDigitYear(yr) {\n                yr = +yr;\n                if (yr < 30) return 2000 + yr;\n                else return 1900 + yr;\n            }\n\n            var curYear = new Date().getFullYear();\n\n            switch (format) {\n                case 'YYYY':\n                    return new Date(m[1], 0, 1);\n                case 'YYYY-H':\n                    return new Date(m[1], (m[2] - 1) * 6, 1);\n                case 'H-YYYY':\n                    return new Date(m[2], (m[1] - 1) * 6, 1);\n                case 'YYYY-Q':\n                    return new Date(m[1], (m[2] - 1) * 3, 1);\n                case 'Q-YYYY':\n                    return new Date(m[2], (m[1] - 1) * 3, 1);\n                case 'YYYY-M':\n                    return new Date(m[1], m[2] - 1, 1);\n                case 'M-YYYY':\n                    return new Date(m[2], m[1] - 1, 1);\n\n                case 'YYYY-MMM':\n                    return new Date(+m[1], shortMonthKey[m[2]], 1);\n                case 'MMM-YYYY':\n                    return new Date(+m[2], shortMonthKey[m[1]], 1);\n                case 'MMM-YY':\n                    return new Date(guessTwoDigitYear(+m[2]), shortMonthKey[m[1]], 1);\n                case 'MMM':\n                    return new Date(curYear, shortMonthKey[m[1]], 1);\n\n                case 'YYYY-WW':\n                    return dateFromIsoWeek(m[1], m[2], 1);\n                case 'WW-YYYY':\n                    return dateFromIsoWeek(m[2], m[1], 1);\n\n                case 'YYYY-WW-d':\n                    return dateFromIsoWeek(m[1], m[2], m[3]);\n                case 'YYYY-MM-DD':\n                    return new Date(m[1], m[3] - 1, m[4]);\n                case 'DD/MM/YYYY':\n                    return new Date(m[4], m[3] - 1, m[1]);\n                case 'DD/MMM/YYYY':\n                    return new Date(m[4], shortMonthKey[m[3]], m[1]);\n                case 'DD/MMM/YY':\n                    return new Date(guessTwoDigitYear(m[4]), shortMonthKey[m[3]], m[1]);\n                case 'MM/DD/YYYY':\n                    return new Date(m[4], m[1] - 1, m[3]);\n                case 'MM/DD/YY':\n                    return new Date(guessTwoDigitYear(m[4]), m[1] - 1, m[3]);\n                case 'DD/MM/YY':\n                    return new Date(guessTwoDigitYear(m[4]), m[3] - 1, m[1]);\n                case 'MMM-DD-YYYY':\n                    return new Date(m[3], shortMonthKey[m[1]], m[2]);\n\n                case 'YYYY-MM-DD HH:MM':\n                    return new Date(\n                        +m[1],\n                        m[3] - 1,\n                        +m[4],\n                        hour(+m[5], m[8]),\n                        +m[6] || 0,\n                        +m[7] || 0\n                    );\n                case 'DD.MM.YYYY HH:MM':\n                    return new Date(\n                        +m[4],\n                        m[3] - 1,\n                        +m[1],\n                        hour(+m[5], m[8]),\n                        +m[6] || 0,\n                        +m[7] || 0\n                    );\n                case 'MM/DD/YYYY HH:MM':\n                    return new Date(\n                        +m[4],\n                        m[1] - 1,\n                        +m[3],\n                        hour(+m[5], m[8]),\n                        +m[6] || 0,\n                        +m[7] || 0\n                    );\n\n                case 'ISO8601':\n                    return new Date(\n                        `${m[1]}-${m[3]}-${m[4]}T${m[5]}:${m[7]}:${m[8] || '00'}.${m[9] || '000'}${\n                            m[10] || ''\n                        }`\n                    );\n\n                default:\n                    console.warn('unknown format', format);\n            }\n            errors++;\n            return raw;\n        },\n        toNum: function (d) {\n            return isDate(d) ? d.getTime() : Number.NaN;\n        },\n        fromNum: function (i) {\n            return new Date(i);\n        },\n        errors: function () {\n            return errors;\n        },\n        name: function () {\n            return 'date';\n        },\n\n        format: function (fmt) {\n            if (arguments.length) {\n                format = fmt;\n                return type;\n            }\n            return format;\n        },\n\n        precision: function () {\n            return knownFormats[format].precision;\n        },\n\n        isValid: function (val) {\n            return isDate(type.parse(val));\n        },\n\n        ambiguousFormats: function () {\n            var candidates = [];\n            each(matches, function (cnt, fmt) {\n                if (cnt === bestMatch[1]) {\n                    candidates.push([fmt, fmt]); // key, label\n                }\n            });\n            return candidates;\n        }\n    };\n    return type;\n}\n","import text from './text.mjs';\nimport number from './number.mjs';\nimport date from './date.mjs';\n\nexport default {\n    text,\n    number,\n    date\n};\n","import { identity } from 'underscore';\n\nexport default function () {\n    return {\n        parse: identity,\n        errors: function () {\n            return 0;\n        },\n        name: function () {\n            return 'text';\n        },\n        isValid: function () {\n            return true;\n        },\n        format: function () {}\n    };\n}\n","/* eslint no-irregular-whitespace: \"off\" */\n\nimport { each, isNumber, isUndefined, isNull } from 'underscore';\n\n/*\n * A type for numbers:\n *\n * Usage:\n * var parse = dw.type.number(sampleData);\n * parse()\n */\nexport default function (sample) {\n    let format;\n    let errors = 0;\n    const knownFormats = {\n        '-.': /^ *[-–—−]?[0-9]*(\\.[0-9]+)?(e[+-][0-9]+)?%? *$/,\n        '-,': /^ *[-–—−]?[0-9]*(,[0-9]+)?%? *$/,\n        ',.': /^ *[-–—−]?[0-9]{1,3}(,[0-9]{3})*(\\.[0-9]+)?%? *$/,\n        '.,': /^ *[-–—−]?[0-9]{1,3}(\\.[0-9]{3})*(,[0-9]+)?%? *$/,\n        ' .': /^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(\\.[0-9]+)?%? *$/,\n        ' ,': /^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(,[0-9]+)?%? *$/,\n        // excel sometimes produces a strange white-space:\n        \"'.\": /^ *[-–—−]?[0-9]{1,3}('[0-9]{3})*(\\.[0-9]+)?%? *$/\n    };\n    const formatLabels = {\n        '-.': '1234.56',\n        '-,': '1234,56',\n        ',.': '1,234.56',\n        '.,': '1.234,56',\n        ' .': '1 234.56',\n        ' ,': '1 234,56',\n        // excel sometimes produces a strange white-space:\n        ' .': '1 234.56',\n        ' ,': '1 234,56',\n        ' .': '1 234.56',\n        ' ,': '1 234,56'\n    };\n    // a list of strings that are recognized as 'not available'\n    const naStrings = {\n        na: 1,\n        'n/a': 1,\n        '-': 1,\n        ':': 1\n    };\n\n    const matches = {};\n    const bestMatch = ['-.', 0];\n\n    sample = sample || [];\n\n    each(sample, function (n) {\n        each(knownFormats, function (regex, fmt) {\n            if (matches[fmt] === undefined) matches[fmt] = 0;\n            if (regex.test(n)) {\n                matches[fmt] += 1;\n                if (matches[fmt] > bestMatch[1]) {\n                    bestMatch[0] = fmt;\n                    bestMatch[1] = matches[fmt];\n                }\n            }\n        });\n    });\n    format = bestMatch[0];\n\n    // public interface\n    var type = {\n        parse: function (raw) {\n            if (isNumber(raw) || isUndefined(raw) || isNull(raw)) return raw;\n            // replace percent sign, n-dash & m-dash, remove weird spaces\n            var number = raw\n                .replace('%', '')\n                .replace('−', '-')\n                .replace(/[   ]/g, '')\n                .replace('–', '-')\n                .replace('—', '-');\n            // normalize number\n            if (format[0] !== '-') {\n                // remove kilo seperator\n                number = number.replace(new RegExp(format[0] === '.' ? '\\\\.' : format[0], 'g'), '');\n            }\n            if (format[1] !== '.') {\n                // replace decimal char w/ point\n                number = number.replace(format[1], '.');\n            }\n            if (isNaN(number) || number === '') {\n                if (!naStrings[number.toLowerCase()] && number !== '') errors++;\n                return raw;\n            }\n            return Number(number);\n        },\n        toNum: function (i) {\n            return i;\n        },\n        fromNum: function (i) {\n            return i;\n        },\n        errors: function () {\n            return errors;\n        },\n        name: function () {\n            return 'number';\n        },\n\n        isValid: function (val) {\n            return val === '' || naStrings[String(val).toLowerCase()] || isNumber(type.parse(val));\n        },\n\n        ambiguousFormats: function () {\n            var candidates = [];\n            each(matches, function (cnt, fmt) {\n                if (cnt === bestMatch[1]) {\n                    candidates.push([fmt, formatLabels[fmt]]); // key, label\n                }\n            });\n            return candidates;\n        },\n\n        format: function (fmt) {\n            if (arguments.length) {\n                format = fmt;\n                return type;\n            }\n            return format;\n        }\n    };\n    return type;\n}\n","/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.DOMPurify = factory());\n})(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (_isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var hasOwnProperty = Object.hasOwnProperty,\n      setPrototypeOf = Object.setPrototypeOf,\n      isFrozen = Object.isFrozen,\n      getPrototypeOf = Object.getPrototypeOf,\n      getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n  var freeze = Object.freeze,\n      seal = Object.seal,\n      create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n  var _ref = typeof Reflect !== 'undefined' && Reflect,\n      apply = _ref.apply,\n      construct = _ref.construct;\n\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return _construct(Func, _toConsumableArray(args));\n    };\n  }\n\n  var arrayForEach = unapply(Array.prototype.forEach);\n  var arrayPop = unapply(Array.prototype.pop);\n  var arrayPush = unapply(Array.prototype.push);\n  var stringToLowerCase = unapply(String.prototype.toLowerCase);\n  var stringMatch = unapply(String.prototype.match);\n  var stringReplace = unapply(String.prototype.replace);\n  var stringIndexOf = unapply(String.prototype.indexOf);\n  var stringTrim = unapply(String.prototype.trim);\n  var regExpTest = unapply(RegExp.prototype.test);\n  var typeErrorCreate = unconstruct(TypeError);\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return apply(func, thisArg, args);\n    };\n  }\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return construct(func, args);\n    };\n  }\n  /* Add properties to a lookup table */\n\n  function addToSet(set, array, transformCaseFunc) {\n    transformCaseFunc = transformCaseFunc ? transformCaseFunc : stringToLowerCase;\n\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n\n    var l = array.length;\n\n    while (l--) {\n      var element = array[l];\n\n      if (typeof element === 'string') {\n        var lcElement = transformCaseFunc(element);\n\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n\n          element = lcElement;\n        }\n      }\n\n      set[element] = true;\n    }\n\n    return set;\n  }\n  /* Shallow clone an object */\n\n  function clone(object) {\n    var newObject = create(null);\n    var property;\n\n    for (property in object) {\n      if (apply(hasOwnProperty, object, [property])) {\n        newObject[property] = object[property];\n      }\n    }\n\n    return newObject;\n  }\n  /* IE10 doesn't support __lookupGetter__ so lets'\n   * simulate it. It also automatically checks\n   * if the prop is function or getter and behaves\n   * accordingly. */\n\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      var desc = getOwnPropertyDescriptor(object, prop);\n\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n\n      object = getPrototypeOf(object);\n    }\n\n    function fallbackValue(element) {\n      console.warn('fallback value for', element);\n      return null;\n    }\n\n    return fallbackValue;\n  }\n\n  var html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']); // SVG\n\n  var svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']); // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n\n  var svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'fedropshadow', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n  var mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']); // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n\n  var mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n  var text = freeze(['#text']);\n\n  var html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n  var svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n  var mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n\n  var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n  var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n\n  var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n\n  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n  var DOCTYPE_NAME = seal(/^html$/i);\n\n  var getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {Document} document The document object (to determine policy name suffix)\n   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported).\n   */\n\n\n  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n    if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    } // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n\n\n    var suffix = null;\n    var ATTR_NAME = 'data-tt-policy-suffix';\n\n    if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n      suffix = document.currentScript.getAttribute(ATTR_NAME);\n    }\n\n    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML: function createHTML(html) {\n          return html;\n        },\n        createScriptURL: function createScriptURL(scriptUrl) {\n          return scriptUrl;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n\n  function createDOMPurify() {\n    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n    var DOMPurify = function DOMPurify(root) {\n      return createDOMPurify(root);\n    };\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n\n\n    DOMPurify.version = '2.4.0';\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n      return DOMPurify;\n    }\n\n    var originalDocument = window.document;\n    var document = window.document;\n    var DocumentFragment = window.DocumentFragment,\n        HTMLTemplateElement = window.HTMLTemplateElement,\n        Node = window.Node,\n        Element = window.Element,\n        NodeFilter = window.NodeFilter,\n        _window$NamedNodeMap = window.NamedNodeMap,\n        NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n        HTMLFormElement = window.HTMLFormElement,\n        DOMParser = window.DOMParser,\n        trustedTypes = window.trustedTypes;\n    var ElementPrototype = Element.prototype;\n    var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    var getParentNode = lookupGetter(ElementPrototype, 'parentNode'); // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n\n    if (typeof HTMLTemplateElement === 'function') {\n      var template = document.createElement('template');\n\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n\n    var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n\n    var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n    var _document = document,\n        implementation = _document.implementation,\n        createNodeIterator = _document.createNodeIterator,\n        createDocumentFragment = _document.createDocumentFragment,\n        getElementsByTagName = _document.getElementsByTagName;\n    var importNode = originalDocument.importNode;\n    var documentMode = {};\n\n    try {\n      documentMode = clone(document).documentMode ? document.documentMode : {};\n    } catch (_) {}\n\n    var hooks = {};\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n\n    DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n    var MUSTACHE_EXPR$1 = MUSTACHE_EXPR,\n        ERB_EXPR$1 = ERB_EXPR,\n        DATA_ATTR$1 = DATA_ATTR,\n        ARIA_ATTR$1 = ARIA_ATTR,\n        IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n    var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n    /* Allowed attribute names */\n\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n    /*\n     * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n     * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n     * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n     * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n     */\n\n    var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false\n      }\n    }));\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n\n    var FORBID_TAGS = null;\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n\n    var FORBID_ATTR = null;\n    /* Decide if ARIA attributes are okay */\n\n    var ALLOW_ARIA_ATTR = true;\n    /* Decide if custom data attributes are okay */\n\n    var ALLOW_DATA_ATTR = true;\n    /* Decide if unknown protocols are okay */\n\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n\n    var SAFE_FOR_TEMPLATES = false;\n    /* Decide if document with <html>... should be returned */\n\n    var WHOLE_DOCUMENT = false;\n    /* Track whether config is already set on this instance of DOMPurify. */\n\n    var SET_CONFIG = false;\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n\n    var FORCE_BODY = false;\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n\n    var RETURN_DOM = false;\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n\n    var RETURN_DOM_FRAGMENT = false;\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n\n    var RETURN_TRUSTED_TYPE = false;\n    /* Output should be free from DOM clobbering attacks?\n     * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n     */\n\n    var SANITIZE_DOM = true;\n    /* Achieve full DOM Clobbering protection by isolating the namespace of named\n     * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n     *\n     * HTML/DOM spec rules that enable DOM Clobbering:\n     *   - Named Access on Window (§7.3.3)\n     *   - DOM Tree Accessors (§3.1.5)\n     *   - Form Element Parent-Child Relations (§4.10.3)\n     *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n     *   - HTMLCollection (§4.2.10.2)\n     *\n     * Namespace isolation is implemented by prefixing `id` and `name` attributes\n     * with a constant string, i.e., `user-content-`\n     */\n\n    var SANITIZE_NAMED_PROPS = false;\n    var SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n    /* Keep element content when removing element? */\n\n    var KEEP_CONTENT = true;\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n\n    var IN_PLACE = false;\n    /* Allow usage of profiles like html, svg and mathMl */\n\n    var USE_PROFILES = {};\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n\n    var FORBID_CONTENTS = null;\n    var DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n    /* Tags that are safe for data: URIs */\n\n    var DATA_URI_TAGS = null;\n    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n    /* Attributes safe for values like \"javascript:\" */\n\n    var URI_SAFE_ATTRIBUTES = null;\n    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n\n    var NAMESPACE = HTML_NAMESPACE;\n    var IS_EMPTY_INPUT = false;\n    /* Parsing of strict XHTML documents */\n\n    var PARSER_MEDIA_TYPE;\n    var SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n    var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n    var transformCaseFunc;\n    /* Keep a reference to config to pass to hooks */\n\n    var CONFIG = null;\n    /* Ideally, do not touch anything below this line */\n\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    var isRegexOrFunction = function isRegexOrFunction(testValue) {\n      return testValue instanceof RegExp || testValue instanceof Function;\n    };\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n\n\n    var _parseConfig = function _parseConfig(cfg) {\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n      /* Shield configuration object from tampering */\n\n\n      if (!cfg || _typeof(cfg) !== 'object') {\n        cfg = {};\n      }\n      /* Shield configuration object from prototype pollution */\n\n\n      cfg = clone(cfg);\n      PARSER_MEDIA_TYPE = // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE; // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n\n      transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? function (x) {\n        return x;\n      } : stringToLowerCase;\n      /* Set configuration parameters */\n\n      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n      cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n      cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n      FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n\n      SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n      IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n        CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n      }\n\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n      /* Parse profile info */\n\n\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n        ALLOWED_ATTR = [];\n\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html$1);\n          addToSet(ALLOWED_ATTR, html);\n        }\n\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg$1);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl$1);\n          addToSet(ALLOWED_ATTR, mathMl);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n      /* Merge configuration parameters */\n\n\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n      }\n\n      if (cfg.FORBID_CONTENTS) {\n        if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n          FORBID_CONTENTS = clone(FORBID_CONTENTS);\n        }\n\n        addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n      }\n      /* Add #text in case KEEP_CONTENT is set to true */\n\n\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n\n\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n\n\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      } // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n\n\n      if (freeze) {\n        freeze(cfg);\n      }\n\n      CONFIG = cfg;\n    };\n\n    var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n    var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']); // Certain elements are allowed in both SVG and HTML\n    // namespace. We need to specify them explicitly\n    // so that they don't get erroneously deleted from\n    // HTML namespace.\n\n    var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n\n    var ALL_SVG_TAGS = addToSet({}, svg$1);\n    addToSet(ALL_SVG_TAGS, svgFilters);\n    addToSet(ALL_SVG_TAGS, svgDisallowed);\n    var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n    addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n    /**\n     *\n     *\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n\n    var _checkValidNamespace = function _checkValidNamespace(element) {\n      var parent = getParentNode(element); // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: HTML_NAMESPACE,\n          tagName: 'template'\n        };\n      }\n\n      var tagName = stringToLowerCase(element.tagName);\n      var parentTagName = stringToLowerCase(parent.tagName);\n\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        } // The only way to switch from MathML to SVG is via\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n\n\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        } // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n\n\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        } // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n\n\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        } // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n\n\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        } // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n\n\n        return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n      } // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG or MathML). Return false just in case.\n\n\n      return false;\n    };\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n\n\n    var _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, {\n        element: node\n      });\n\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        try {\n          node.outerHTML = emptyHTML;\n        } catch (_) {\n          node.remove();\n        }\n      }\n    };\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n\n\n    var _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n\n      node.removeAttribute(name); // We void attribute values for unremovable \"is\"\" attributes\n\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n\n\n    var _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      var doc;\n      var leadingWhitespace;\n\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml') {\n        // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n        dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n      }\n\n      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n        } catch (_) {}\n      }\n      /* Use createHTMLDocument in case DOMParser is not available */\n\n\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n        } catch (_) {// Syntax error if dirtyPayload is invalid xml\n        }\n      }\n\n      var body = doc.body || doc.documentElement;\n\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n      /* Work on whole document or just its body */\n\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n    /**\n     * _createIterator\n     *\n     * @param  {Document} root document/fragment to create iterator for\n     * @return {Iterator} iterator instance\n     */\n\n\n    var _createIterator = function _createIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root, // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n    };\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n\n\n    var _isClobbered = function _isClobbered(elm) {\n      return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function');\n    };\n    /**\n     * _isNode\n     *\n     * @param  {Node} obj object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n\n\n    var _isNode = function _isNode(object) {\n      return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n    };\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n\n\n    var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n\n      arrayForEach(hooks[entryPoint], function (hook) {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n\n\n    var _sanitizeElements = function _sanitizeElements(currentNode) {\n      var content;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeElements', currentNode, null);\n      /* Check if element is clobbered or can clobber */\n\n\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Check if tagname contains Unicode */\n\n\n      if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Now let's check the element's type and name */\n\n\n      var tagName = transformCaseFunc(currentNode.nodeName);\n      /* Execute a hook if present */\n\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName: tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n      /* Detect mXSS attempts abusing namespace confusion */\n\n\n      if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Mitigate a problem with templates inside select */\n\n\n      if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Remove element if anything forbids its presence */\n\n\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Check if we have a custom element to handle */\n        if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) return false;\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) return false;\n        }\n        /* Keep content except for bad-listed elements */\n\n\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n          if (childNodes && parentNode) {\n            var childCount = childNodes.length;\n\n            for (var i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Check whether element has a valid namespace */\n\n\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n\n      if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Sanitize element content to be template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n        content = stringReplace(content, ERB_EXPR$1, ' ');\n\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, {\n            element: currentNode.cloneNode()\n          });\n          currentNode.textContent = content;\n        }\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeElements', currentNode, null);\n\n      return false;\n    };\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n\n\n    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n\n\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        if ( // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        _basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n          return false;\n        }\n        /* Check value is safe. First, is attr inert? If so, is safe */\n\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ; else if (!value) ; else {\n        return false;\n      }\n\n      return true;\n    };\n    /**\n     * _basicCustomElementCheck\n     * checks if at least one dash is included in tagName, and it's not the first char\n     * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n     * @param {string} tagName name of the tag of the node to sanitize\n     */\n\n\n    var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n      return tagName.indexOf('-') > 0;\n    };\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n\n\n    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      var attr;\n      var value;\n      var lcName;\n      var l;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n      var attributes = currentNode.attributes;\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n\n      var hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      l = attributes.length;\n      /* Go backwards over all attributes; safely remove bad ones */\n\n      while (l--) {\n        attr = attributes[l];\n        var _attr = attr,\n            name = _attr.name,\n            namespaceURI = _attr.namespaceURI;\n        value = name === 'value' ? attr.value : stringTrim(attr.value);\n        lcName = transformCaseFunc(name);\n        /* Execute a hook if present */\n\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n        /* Remove attribute */\n\n\n        _removeAttribute(name, currentNode);\n        /* Did the hooks approve of the attribute? */\n\n\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n        /* Work around a security issue in jQuery 3.0 */\n\n\n        if (regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n\n          continue;\n        }\n        /* Sanitize attribute content to be template-safe */\n\n\n        if (SAFE_FOR_TEMPLATES) {\n          value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n          value = stringReplace(value, ERB_EXPR$1, ' ');\n        }\n        /* Is `value` valid for this attribute? */\n\n\n        var lcTag = transformCaseFunc(currentNode.nodeName);\n\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n        /* Full DOM Clobbering protection via namespace isolation,\n         * Prefix id and name attributes with `user-content-`\n         */\n\n\n        if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n          // Remove the attribute with this value\n          _removeAttribute(name, currentNode); // Prefix the value and later re-create the attribute with the sanitized value\n\n\n          value = SANITIZE_NAMED_PROPS_PREFIX + value;\n        }\n        /* Handle attributes that require Trusted Types */\n\n\n        if (trustedTypesPolicy && _typeof(trustedTypes) === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n          if (namespaceURI) ; else {\n            switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML':\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n\n              case 'TrustedScriptURL':\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n            }\n          }\n        }\n        /* Handle invalid data-* attribute set by try-catching it */\n\n\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n\n\n    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      var shadowNode;\n\n      var shadowIterator = _createIterator(fragment);\n      /* Execute a hook if present */\n\n\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n        /* Sanitize tags and elements */\n\n\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n        /* Deep shadow DOM detected */\n\n\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n\n        _sanitizeAttributes(shadowNode);\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    // eslint-disable-next-line complexity\n\n\n    DOMPurify.sanitize = function (dirty) {\n      var cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var body;\n      var importedNode;\n      var currentNode;\n      var oldNode;\n      var returnNode;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n\n      IS_EMPTY_INPUT = !dirty;\n\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n      /* Stringify, in case dirty is an object */\n\n\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        // eslint-disable-next-line no-negated-condition\n        if (typeof dirty.toString !== 'function') {\n          throw typeErrorCreate('toString is not a function');\n        } else {\n          dirty = dirty.toString();\n\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        }\n      }\n      /* Check we can run. Otherwise fall back or ignore */\n\n\n      if (!DOMPurify.isSupported) {\n        if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n          if (typeof dirty === 'string') {\n            return window.toStaticHTML(dirty);\n          }\n\n          if (_isNode(dirty)) {\n            return window.toStaticHTML(dirty.outerHTML);\n          }\n        }\n\n        return dirty;\n      }\n      /* Assign config vars */\n\n\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n      /* Clean up removed elements */\n\n\n      DOMPurify.removed = [];\n      /* Check if dirty is correctly typed for IN_PLACE */\n\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n\n      if (IN_PLACE) {\n        /* Do some early pre-sanitization to avoid unsafe root nodes */\n        if (dirty.nodeName) {\n          var tagName = transformCaseFunc(dirty.nodeName);\n\n          if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n          }\n        }\n      } else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n        /* Initialize the document to work on */\n\n\n        body = _initDocument(dirty);\n        /* Check we have a DOM node from the data */\n\n        if (!body) {\n          return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n        }\n      }\n      /* Remove first element node (ours) if FORCE_BODY is set */\n\n\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n      /* Get node iterator */\n\n\n      var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n      /* Now start iterating over the created document */\n\n\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Fix IE's strange behavior with manipulated textNodes #89 */\n        if (currentNode.nodeType === 3 && currentNode === oldNode) {\n          continue;\n        }\n        /* Sanitize tags and elements */\n\n\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n        /* Shadow DOM detected, sanitize it */\n\n\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n\n        _sanitizeAttributes(currentNode);\n\n        oldNode = currentNode;\n      }\n\n      oldNode = null;\n      /* If we sanitized `dirty` in-place, return it. */\n\n      if (IN_PLACE) {\n        return dirty;\n      }\n      /* Return sanitized string or DOM */\n\n\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n\n        if (ALLOWED_ATTR.shadowroot) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n\n        return returnNode;\n      }\n\n      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n      /* Serialize doctype if allowed */\n\n      if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n        serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n      }\n      /* Sanitize final string template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES) {\n        serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n      }\n\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n\n\n    DOMPurify.setConfig = function (cfg) {\n      _parseConfig(cfg);\n\n      SET_CONFIG = true;\n    };\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n\n\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {string} tag Tag name of containing element.\n     * @param  {string} attr Attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n\n\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n\n      var lcTag = transformCaseFunc(tag);\n      var lcName = transformCaseFunc(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n\n\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     * @return {Function} removed(popped) hook\n     */\n\n\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        return arrayPop(hooks[entryPoint]);\n      }\n    };\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n\n\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     */\n\n\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n\n    return DOMPurify;\n  }\n\n  var purify = createDOMPurify();\n\n  return purify;\n\n}));\n//# sourceMappingURL=purify.js.map\n","module.exports = window.DOMPurify || (window.DOMPurify = require('dompurify').default || require('dompurify'));","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createPermanentMemoizer = void 0;\nconst createPermanentMemoizer = (keySerializer, valueCreator, { maxsize } = {}) => {\n    let map = new Map();\n    return {\n        get: (key) => {\n            const serializedKey = keySerializer(key);\n            if (map.has(serializedKey)) {\n                // We can be certain that `map.get` does not return undefined\n                // (if TValue does not include undefined)\n                // because we've just checked that it has this key.\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                return map.get(serializedKey);\n            }\n            const value = valueCreator(key);\n            if (maxsize && map.size >= maxsize) {\n                map = new Map();\n            }\n            map.set(serializedKey, value);\n            return value;\n        }\n    };\n};\nexports.createPermanentMemoizer = createPermanentMemoizer;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst isomorphic_dompurify_1 = __importDefault(require(\"isomorphic-dompurify\"));\nconst memoizer_1 = require(\"./memoizer\");\nconst DEFAULT_ALLOWED = [\n    'a',\n    'span',\n    'b',\n    'br',\n    'i',\n    'strong',\n    'sup',\n    'sub',\n    'strike',\n    'u',\n    'em',\n    'tt'\n].sort();\nconst MEMOIZER_MAXSIZE = 100000;\n/**\n * Set default TARGET and REL for A tags.\n *\n * Don't overwrite target=\"_self\".\n */\nisomorphic_dompurify_1.default.addHook('afterSanitizeElements', function (el) {\n    if (el.nodeName.toLowerCase() === 'a') {\n        if (el.getAttribute('target') !== '_self') {\n            el.setAttribute('target', '_blank');\n        }\n        el.setAttribute('rel', 'nofollow noopener noreferrer');\n    }\n});\nconst memoizer = (0, memoizer_1.createPermanentMemoizer)((allowedTagsInput) => String(allowedTagsInput), allowedTagsInput => {\n    const allowedTags = allowedTagsInput === undefined\n        ? DEFAULT_ALLOWED\n        : typeof allowedTagsInput === 'string'\n            ? allowedTagsInput.toLowerCase().slice(1, -1).split('><')\n            : allowedTagsInput;\n    const config = {\n        ALLOWED_TAGS: allowedTags,\n        ADD_ATTR: ['target'],\n        FORCE_BODY: true // Makes sure that top-level SCRIPT tags are kept if explicitly allowed.\n    };\n    return (0, memoizer_1.createPermanentMemoizer)((input) => input, input => {\n        // Implementation of DOMPurify accepts anything,\n        // and we need to accept anything too, according to tests\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return isomorphic_dompurify_1.default.sanitize(input, config);\n    }, { maxsize: MEMOIZER_MAXSIZE });\n}, { maxsize: MEMOIZER_MAXSIZE });\nfunction purifyHTML(input, allowedTagsInput) {\n    if (!input) {\n        return input;\n    }\n    return memoizer.get(allowedTagsInput).get(input);\n}\nmodule.exports = purifyHTML;\n","/*\n * column abstracts the functionality of each column\n * of a dataset. A column has a type (text|number|date).\n *\n * API:\n *\n * column.name() ... returns the name (string)\n * column.type() ... return column type (string)\n * column.length ... number of rows (number)\n * column.val(i) ... parsed value in row i\n * column.each(func) ... apply function to each value\n * column.raw() ... access raw, unparsed values\n *\n */\n\nimport {\n    every,\n    isString,\n    isNumber,\n    isDate,\n    isNaN,\n    each,\n    isUndefined,\n    shuffle,\n    map,\n    find,\n    range\n} from 'underscore';\nimport columnTypes from './columnTypes/index.mjs';\nimport purifyHtml from '@datawrapper/shared/purifyHtml.js';\n\n/**\n * @class dw.Column\n */\nexport default function Column(name_, rows, type, allowedTags) {\n    function notEmpty(d) {\n        return d !== null && d !== undefined && d !== '';\n    }\n\n    function guessType(sample) {\n        if (rows.length === 0) return columnTypes.text(); // empty columns are type text by default\n        if (every(rows, isNumber)) return columnTypes.number();\n        if (every(rows, isDate)) return columnTypes.date();\n        // guessing column type by counting parsing errors\n        // for every known type\n        const types = [columnTypes.date(sample), columnTypes.number(sample), columnTypes.text()];\n        let type;\n        const tolerance = 0.1 * rows.filter(notEmpty).length; // allowing 10% mis-parsed values\n\n        each(rows, function (val) {\n            each(types, function (t) {\n                t.parse(val);\n            });\n        });\n        every(types, function (t) {\n            if (t.errors() < tolerance) type = t;\n            return !type;\n        });\n        if (isUndefined(type)) type = types[2]; // default to text;\n        return type;\n    }\n\n    // we pick random 200 non-empty values for column type testing\n    const sample = shuffle(range(rows.length))\n        .filter(function (i) {\n            return notEmpty(rows[i]);\n        })\n        .slice(0, 200)\n        .map(function (i) {\n            return rows[i];\n        });\n\n    type = type ? columnTypes[type](sample) : guessType(sample);\n\n    let name = purifyHtml(name_);\n    let origName = name;\n    let valueRange, sum, mean, median;\n    const origRows = rows.slice(0);\n    let title;\n\n    // public interface\n    var column = {\n        // column name (used for reference in chart metadata)\n        name() {\n            if (arguments.length >= 1) {\n                name = purifyHtml(arguments[0]);\n                if (arguments.length === 2) {\n                    origName = purifyHtml(arguments[1]);\n                } else {\n                    origName = name;\n                }\n                return column;\n            }\n            return name;\n        },\n\n        origName() {\n            return origName;\n        },\n\n        // column title (used for presentation)\n        title() {\n            if (arguments.length) {\n                title = purifyHtml(arguments[0], allowedTags);\n                return column;\n            }\n            return title || name;\n        },\n\n        /**\n         * number of rows\n         */\n        length: rows.length,\n\n        /**\n         * returns ith row of the col, parsed\n         *\n         * @param i\n         * @param unfiltered  if set to true, precedent calls of filterRows are ignored\n         */\n        val(i, unfiltered) {\n            if (!arguments.length) return undefined;\n            var r = unfiltered ? origRows : rows;\n            if (i < 0) i += r.length;\n            return type.parse(\n                isDate(r[i]) || isNumber(r[i]) ? r[i] : purifyHtml(r[i], allowedTags)\n            );\n        },\n\n        /**\n         * returns an array of formatted values\n         *\n         * @param {string} [opt.numeral=null] -- format numbers using this Numeral.js instance\n         */\n        formatted(numeral = null) {\n            if (numeral && this.type() === 'number') {\n                return this.values().map(val => {\n                    if (Number.isFinite(val)) {\n                        return numeral(val).format('0.[00000000000000000000]');\n                    }\n                    // When the value is null, undefined, NaN, Infinity, or when parsing failed.\n                    return val;\n                });\n            }\n            return this.raw();\n        },\n\n        /**\n         * returns an array of parsed values\n         */\n        values(unfiltered) {\n            var r = unfiltered ? origRows : rows;\n            r = map(r, function (d) {\n                return isDate(d) || isNumber(d) ? d : purifyHtml(d, allowedTags);\n            });\n            return map(r, type.parse);\n        },\n\n        /**\n         * apply function to each value\n         */\n        each(f) {\n            for (var i = 0; i < rows.length; i++) {\n                f(column.val(i), i);\n            }\n        },\n\n        // access to raw values\n        raw(i, val) {\n            if (!arguments.length)\n                return rows.map(d => (isDate(d) || isNumber(d) ? d : purifyHtml(d, allowedTags)));\n            if (arguments.length === 2) {\n                rows[i] = val;\n                return column;\n            }\n            return isDate(rows[i]) || isNumber(rows[i])\n                ? rows[i]\n                : purifyHtml(rows[i], allowedTags);\n        },\n\n        /**\n         * if called with no arguments, this returns the column type name\n         * if called with true as argument, this returns the column type (as object)\n         * if called with a string as argument, this sets a new column type\n         */\n        type(o) {\n            if (o === true) return type;\n            if (isString(o)) {\n                if (columnTypes[o]) {\n                    type = columnTypes[o](sample);\n                    return column;\n                } else {\n                    throw new Error('unknown column type: ' + o);\n                }\n            }\n            return type.name();\n        },\n\n        // [min,max] range\n        range() {\n            if (!type.toNum) return false;\n            if (!valueRange) {\n                valueRange = [Number.MAX_VALUE, -Number.MAX_VALUE];\n                column.each(function (v) {\n                    v = type.toNum(v);\n                    if (!isNumber(v) || isNaN(v)) return;\n                    if (v < valueRange[0]) valueRange[0] = v;\n                    if (v > valueRange[1]) valueRange[1] = v;\n                });\n                valueRange[0] = type.fromNum(valueRange[0]);\n                valueRange[1] = type.fromNum(valueRange[1]);\n            }\n            return valueRange;\n        },\n        // sum of values\n        sum() {\n            if (!type.toNum) return false;\n            if (sum === undefined) {\n                sum = 0;\n                column.each(function (v) {\n                    const n = type.toNum(v);\n                    if (Number.isFinite(n)) {\n                        sum += n;\n                    }\n                });\n                sum = type.fromNum(sum);\n            }\n            return sum;\n        },\n\n        mean() {\n            if (!type.toNum) return false;\n            if (mean === undefined) {\n                mean = 0;\n                let count = 0;\n                column.each(function (v) {\n                    const n = type.toNum(v);\n                    if (Number.isFinite(n)) {\n                        mean += n;\n                        count++;\n                    }\n                });\n                mean = type.fromNum(mean / count);\n            }\n            return mean;\n        },\n\n        median() {\n            if (!type.toNum) return false;\n            if (median === undefined) {\n                const arr = column.values().map(type.toNum);\n                median = type.fromNum(d3Median(arr));\n            }\n            return median;\n        },\n\n        // remove rows from column, keep those whose index\n        // is within @r\n        filterRows(r) {\n            rows = [];\n            if (arguments.length) {\n                each(r, function (i) {\n                    rows.push(origRows[i]);\n                });\n            } else {\n                rows = origRows.slice(0);\n            }\n            column.length = rows.length;\n            // invalidate valueRange and total\n            valueRange = sum = mean = median = undefined;\n            return column;\n        },\n\n        deleteRow(i) {\n            const deletedRows = rows.splice(i, 1);\n            origRows.splice(i, 1);\n            column.length = rows.length;\n            // invalidate valueRange and total\n            valueRange = sum = mean = median = undefined;\n            return deletedRows;\n        },\n\n        toString() {\n            return name + ' (' + type.name() + ')';\n        },\n\n        indexOf(val) {\n            return find(range(rows.length), function (i) {\n                return column.val(i) === val;\n            });\n        },\n\n        limitRows(numRows) {\n            if (origRows.length > numRows) {\n                origRows.length = numRows;\n                rows.length = numRows;\n                column.length = numRows;\n            }\n        },\n\n        /**\n         * add one or more new rows\n         * @param {...*} values\n         */\n        add(...values) {\n            origRows.push(...values);\n            rows.push(...values);\n            column.length = rows.length;\n        },\n\n        /**\n         * create a copy of the column\n         * @returns {dw.Column}\n         */\n        clone() {\n            return Column(name, rows.slice(), type.name());\n        },\n\n        /**\n         * delete all rows\n         */\n        clear() {\n            rows.splice(0);\n            column.length = rows.length;\n        }\n    };\n    // backwards compatibility\n    column.total = column.sum;\n    return column;\n}\n\n// some d3 stuff\nfunction d3Median(array) {\n    var numbers = [];\n    var n = array.length;\n    var a;\n    var i = -1;\n    if (arguments.length === 1) {\n        while (++i < n) if (d3Numeric((a = d3Number(array[i])))) numbers.push(a);\n    }\n    if (numbers.length) return d3Quantile(numbers.sort(d3Ascending), 0.5);\n}\nfunction d3Quantile(values, p) {\n    var H = (values.length - 1) * p + 1;\n    var h = Math.floor(H);\n    var v = +values[h - 1];\n    var e = H - h;\n    return e ? v + e * (values[h] - v) : v;\n}\nfunction d3Number(x) {\n    return x === null ? NaN : +x;\n}\nfunction d3Numeric(x) {\n    return !isNaN(x);\n}\nfunction d3Ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","/*\n * dataset source for delimited files (CSV, TSV, ...)\n */\n\n/**\n * Smart delimited data parser.\n * - Handles CSV and other delimited data.\n * Includes auto-guessing of delimiter character\n * Parameters:\n *   options\n *     delimiter : \",\"\n */\n\nimport { isString } from 'underscore';\nimport dataset from './index.mjs';\nimport column from './column.mjs';\n\n/**\n * Parses a separator-delimited string (e.g. CSV)\n *\n * @param {object} opts\n * @param {string} opts.csv - the CSV string to be parsed\n * @param {string} opts.delimiter - defaults to 'auto'\n * @param {string} opts.quoteChar\n * @param {number} opts.skipRows - number of initial rows to skip\n * @param {*} opts.emptyValue\n * @param {boolean} opts.transpose\n * @param {boolean} opts.firstRowIsHeader\n * @param {string} opts.allowedTags - list of HTML tags that will not get filtered out by purifyHTML\n * @return {Dataset}\n */\nfunction delimited(opts) {\n    function loadAndParseCsv() {\n        if (opts.url) {\n            const ts = new Date().getTime();\n            const url = `${opts.url}${opts.url.indexOf('?') > -1 ? '&' : '?'}v=${\n                opts.url.indexOf('//static.dwcdn.net') > -1 ? ts - (ts % 60000) : ts\n            }`;\n            return window\n                .fetch(url)\n                .then(res => res.text())\n                .then(raw => {\n                    return new DelimitedParser(opts).parse(raw);\n                });\n        } else if (opts.csv || opts.csv === '') {\n            const dfd = new Promise(resolve => {\n                resolve(opts.csv);\n            });\n            const parsed = dfd.then(raw => {\n                return new DelimitedParser(opts).parse(raw);\n            });\n            return parsed;\n        }\n        const err = new Error('You need to provide either a URL or CSV data');\n        return Promise.reject(err);\n    }\n\n    return {\n        dataset: function () {\n            return loadAndParseCsv().catch(e => {\n                console.error(\n                    `Could not fetch delimited data source for chart ${opts.chartId}, ` +\n                        `returning an empty dataset: ${e.message}`\n                );\n                return dataset([]);\n            });\n        },\n        parse: function () {\n            return new DelimitedParser(opts).parse(opts.csv);\n        }\n    };\n}\n\ndataset.delimited = delimited;\n\nexport default delimited;\n\nclass DelimitedParser {\n    constructor(opts) {\n        opts = Object.assign(\n            {\n                delimiter: 'auto',\n                quoteChar: '\"',\n                skipRows: 0,\n                emptyValue: null,\n                transpose: false,\n                firstRowIsHeader: true\n            },\n            opts\n        );\n\n        this.__delimiterPatterns = getDelimiterPatterns(opts.delimiter, opts.quoteChar);\n        this.opts = opts;\n    }\n\n    parse(data) {\n        this.__rawData = data;\n        const opts = this.opts;\n\n        if (opts.delimiter === 'auto') {\n            opts.delimiter = this.guessDelimiter(data, opts.skipRows);\n            this.__delimiterPatterns = getDelimiterPatterns(opts.delimiter, opts.quoteChar);\n        }\n        const closure = opts.delimiter !== '|' ? '|' : '#';\n        let arrData;\n\n        data = closure + '\\n' + data.replace(/[ \\r\\n\\f]+$/g, '').replace(/^\\uFEFF/, '') + closure;\n\n        function parseCSV(delimiterPattern, strData, strDelimiter) {\n            // implementation and regex borrowed from:\n            // http://www.bennadel.com/blog/1504-Ask-Ben-Parsing-CSV-Strings-With-Javascript-Exec-Regular-Expression-Command.htm\n\n            // Check to see if the delimiter is defined. If not,\n            // then default to comma.\n            strDelimiter = strDelimiter || ',';\n\n            // Create an array to hold our data. Give the array\n            // a default empty first row.\n            const arrData = [[]];\n\n            // Create an array to hold our individual pattern\n            // matching groups.\n            let arrMatches = null;\n            let strMatchedValue;\n\n            // Keep looping over the regular expression matches\n            // until we can no longer find a match.\n            while ((arrMatches = delimiterPattern.exec(strData))) {\n                // Get the delimiter that was found.\n                var strMatchedDelimiter = arrMatches[1];\n\n                // Check to see if the given delimiter has a length\n                // (is not the start of string) and if it matches\n                // field delimiter. If id does not, then we know\n                // that this delimiter is a row delimiter.\n                if (strMatchedDelimiter.length && strMatchedDelimiter !== strDelimiter) {\n                    // Since we have reached a new row of data,\n                    // add an empty row to our data array.\n                    arrData.push([]);\n                }\n\n                // Now that we have our delimiter out of the way,\n                // let's check to see which kind of value we\n                // captured (quoted or unquoted).\n                if (arrMatches[2]) {\n                    // We found a quoted value. When we capture\n                    // this value, unescape any double quotes.\n                    strMatchedValue = arrMatches[2].replace(new RegExp('\"\"', 'g'), '\"');\n                } else {\n                    // We found a non-quoted value.\n                    strMatchedValue = arrMatches[3];\n                }\n\n                // Now that we have our value string, let's add\n                // it to the data array.\n                arrData[arrData.length - 1].push(\n                    strMatchedValue === undefined ? '' : strMatchedValue\n                );\n            }\n\n            // remove closure\n            if (arrData[0][0].substr(0, 1) === closure) {\n                arrData[0][0] = arrData[0][0].substr(1);\n            }\n            const p = arrData.length - 1;\n            const q = arrData[p].length - 1;\n            const r = arrData[p][q].length - 1;\n            if (arrData[p][q].substr(r) === closure) {\n                arrData[p][q] = arrData[p][q].substr(0, r);\n            }\n\n            // Return the parsed data.\n            return arrData.slice(1);\n        } // end parseCSV\n\n        function transpose(arrMatrix) {\n            // borrowed from:\n            // http://www.shamasis.net/2010/02/transpose-an-array-in-javascript-and-jquery/\n            const a = arrMatrix;\n            const w = a.length ? a.length : 0;\n            const h = a[0] instanceof Array ? a[0].length : 0;\n            if (h === 0 || w === 0) {\n                return [];\n            }\n            let i, j;\n            const t = [];\n            for (i = 0; i < h; i++) {\n                t[i] = [];\n                for (j = 0; j < w; j++) {\n                    t[i][j] = a[j][i];\n                }\n            }\n            return t;\n        }\n\n        function makeColumns(arrData) {\n            if (!arrData) {\n                return [];\n            }\n            arrData = arrData.slice(opts.skipRows);\n            if (!arrData.length) {\n                return [];\n            }\n\n            // compute series\n            const firstRow = arrData[0];\n            const columnNames = {};\n            let srcColumns = [];\n            let rowIndex = 0;\n            if (opts.firstRowIsHeader) {\n                srcColumns = arrData[rowIndex];\n                rowIndex++;\n                arrData.shift();\n            }\n\n            return firstRow.map((_, i) => {\n                const data = arrData.map(row => (row[i] !== '' ? row[i] : opts.emptyValue));\n                let col = isString(srcColumns[i]) ? srcColumns[i].replace(/^\\s+|\\s+$/g, '') : '';\n                let suffix = col !== '' ? '' : 1;\n                col = col !== '' ? col : 'X.';\n                while (columnNames[col + suffix] !== undefined) {\n                    suffix = suffix === '' ? 1 : suffix + 1;\n                }\n                columnNames[col + suffix] = true;\n                return column(col + suffix, data, undefined, opts.allowedTags);\n            });\n        }\n\n        function makeDataset(arrData) {\n            const columns = makeColumns(arrData);\n            return dataset(columns);\n        }\n\n        arrData = parseCSV(this.__delimiterPatterns, data, opts.delimiter);\n        if (opts.transpose) {\n            arrData = transpose(arrData);\n        }\n        return makeDataset(trimArrayData(arrData));\n    } // end parse\n\n    guessDelimiter(strData) {\n        // find delimiter which occurs most often\n        let maxMatchCount = 0;\n        let k = -1;\n        const me = this;\n        const delimiters = ['\\t', ';', '|', ','];\n        delimiters.forEach((delimiter, i) => {\n            const regex = getDelimiterPatterns(delimiter, me.quoteChar);\n            let c = strData.match(regex).length;\n            if (delimiter === '\\t') c *= 1.15; // give tab delimiters more weight\n            if (c > maxMatchCount) {\n                maxMatchCount = c;\n                k = i;\n            }\n        });\n        return delimiters[k];\n    }\n}\n\nfunction getDelimiterPatterns(delimiter, quoteChar) {\n    return new RegExp(\n        // Delimiters.\n        '(\\\\' +\n            delimiter +\n            '|\\\\r?\\\\n|\\\\r|^)' +\n            // Quoted fields.\n            '(?:' +\n            quoteChar +\n            '([^' +\n            quoteChar +\n            ']*(?:' +\n            quoteChar +\n            '\"[^' +\n            quoteChar +\n            ']*)*)' +\n            quoteChar +\n            '|' +\n            // Standard fields.\n            '([^\\\\' +\n            delimiter +\n            '\\\\r\\\\n]*))',\n        'gi'\n    );\n}\n\nfunction trimArrayData(arrData) {\n    for (let i = arrData.length - 1; i >= 0; i--) {\n        if (arrData[i].some(col => col !== '')) {\n            return arrData.slice(0, i + 1);\n        }\n    }\n    return arrData.slice(0, 1);\n}\n","import dataset from './index.mjs';\n\n/*\n * dataset source for JSON data\n */\nfunction json(opts) {\n    function loadAndParseJSON() {\n        if (opts.url) {\n            return fetch(opts.url)\n                .then(res => res.text())\n                .then(raw => {\n                    return JSON.parse(raw);\n                });\n        } else if (opts.csv) {\n            const dfd = new Promise(resolve => {\n                resolve(opts.csv);\n            });\n            const parsed = dfd.then(raw => {\n                return JSON.parse(raw);\n            });\n            return parsed;\n        }\n        const err = new Error('You need to provide either a URL or CSV data');\n        return Promise.reject(err);\n    }\n\n    return {\n        dataset: function () {\n            return loadAndParseJSON().catch(e => {\n                console.error(\n                    `Could not fetch JSON data source for chart ${opts.chartId}, ` +\n                        `returning an empty object: ${e.message}`\n                );\n                return {};\n            });\n        },\n        parse: function () {\n            return JSON.parse(opts.csv);\n        }\n    };\n}\n\ndataset.json = json;\n\nexport default json;\n","\"use strict\";\nmodule.exports = function tailLength(value) {\n    return Math.max(0, String(value - Math.floor(value))\n        .replace(/00000*[0-9]+$/, '')\n        .replace(/33333*[0-9]+$/, '')\n        .replace(/99999*[0-9]+$/, '').length - 2);\n};\n","\"use strict\";\nmodule.exports = function round(value, decimals = 0) {\n    const base = Math.pow(10, decimals);\n    return Math.round(value * base) / base;\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst tailLength_1 = __importDefault(require(\"./tailLength\"));\nconst round_1 = __importDefault(require(\"./round\"));\nconst underscore_1 = require(\"underscore\");\nmodule.exports = function significantDimension(values, tolerance = 0.1) {\n    let result = [];\n    let decimals = 0;\n    const uniqValues = (0, underscore_1.uniq)(values.filter(underscore_1.isFinite));\n    const totalUniq = uniqValues.length;\n    let check;\n    let diff;\n    const accepted = Math.floor(totalUniq * (1 - tolerance));\n    if (uniqValues.length < 3) {\n        // special case if there are only 2 unique values\n        return Math.round(uniqValues.reduce(function (acc, cur) {\n            if (!cur)\n                return acc;\n            const exp = Math.log(Math.abs(cur)) / Math.LN10;\n            if (exp < 8 && exp > -3) {\n                // use tail length for normal numbers\n                return acc + Math.min(3, (0, tailLength_1.default)(uniqValues[0]));\n            }\n            else {\n                return acc + (exp > 0 ? (exp - 1) * -1 : exp * -1);\n            }\n        }, 0) / uniqValues.length);\n    }\n    if ((0, underscore_1.uniq)(uniqValues.map(currentRound)).length > accepted) {\n        // we seem to have enough precision, but maybe it's too much?\n        check = function () {\n            return (0, underscore_1.uniq)(result).length === totalUniq;\n        };\n        diff = -1;\n    }\n    else {\n        // if we end up here it means we're loosing too much information\n        // due to rounding, we need to increase precision\n        check = function () {\n            return (0, underscore_1.uniq)(result).length <= accepted;\n        };\n        diff = +1;\n    }\n    let maxIter = 100;\n    do {\n        result = uniqValues.map(currentRound);\n        decimals += diff;\n    } while (check() && maxIter-- > 0);\n    if (maxIter < 10) {\n        console.warn('maximum iteration reached', values, result, decimals);\n    }\n    if (diff < 0)\n        decimals += 2;\n    else\n        decimals--;\n    /* rounds to the current number of decimals */\n    function currentRound(v) {\n        return (0, round_1.default)(v, decimals);\n    }\n    return decimals;\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst significantDimension_1 = __importDefault(require(\"./significantDimension\"));\nconst round_1 = __importDefault(require(\"./round\"));\nmodule.exports = function smartRound(values, addPrecision = 0, tolerance = 0.1) {\n    let dim = (0, significantDimension_1.default)(values, tolerance);\n    dim += addPrecision;\n    return values.map(v => (0, round_1.default)(v, dim));\n};\n","\"use strict\";\nfunction clone(o) {\n    if (!o || typeof o !== 'object')\n        return o;\n    try {\n        return JSON.parse(JSON.stringify(o));\n    }\n    catch (e) {\n        return o;\n    }\n}\nmodule.exports = clone;\n","\"use strict\";\nfunction get(object, key = null, _default = null) {\n    if (!key)\n        return object;\n    const keys = Array.isArray(key) ? key : key.split('.');\n    // It is impractical to try to replicate signature types in implementation\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let pt = object;\n    for (let i = 0; i < keys.length; i++) {\n        if (pt === null || pt === undefined)\n            break; // break out of the loop\n        // move one more level in\n        pt = pt[keys[i]];\n    }\n    return pt === undefined || pt === null ? _default : pt;\n}\nmodule.exports = get;\n","export function outerHeight(element, withMargin = false) {\n    if (!element) return null;\n    let height = element.offsetHeight;\n    if (!withMargin) return height;\n    var style = getComputedStyle(element);\n    height += parseInt(style.marginTop) + parseInt(style.marginBottom);\n    return height;\n}\n\nexport function getNonChartHeight() {\n    let h = 0;\n\n    const chart = document.querySelector('.dw-chart .dw-chart-styles');\n    if (!chart) return 0;\n    for (let i = 0; i < chart.children.length; i++) {\n        const el = chart.children[i];\n        const tagName = el.tagName.toLowerCase();\n        if (\n            tagName !== 'script' &&\n            tagName !== 'style' &&\n            el.id !== 'chart' &&\n            !hasClass(el, 'tooltip') &&\n            !hasClass(el, 'vg-tooltip') &&\n            !hasClass(el, 'hidden') &&\n            !hasClass(el, 'sr-only') &&\n            !hasClass(el, 'qtip') &&\n            !hasClass(el, 'container') &&\n            !hasClass(el, 'noscript') &&\n            !hasClass(el, 'hidden') &&\n            !hasClass(el, 'dw-after-body') &&\n            !hasClass(el, 'dw-chart-body')\n        ) {\n            h += Number(outerHeight(el, true));\n\n            if (hasClass(el, 'dw-chart-header')) {\n                const filter = el.querySelector('.filter-ui');\n                if (filter) h -= Number(outerHeight(filter, true));\n            }\n        }\n    }\n\n    function hasClass(el, className) {\n        return el.classList.contains(className);\n    }\n\n    function getProp(selector, property) {\n        return getComputedStyle(document.querySelector(selector))[property].replace('px', '');\n    }\n\n    const selectors = ['.dw-chart', '.dw-chart-styles', '.dw-chart-body', 'body'];\n    const properties = [\n        'padding-top',\n        'padding-bottom',\n        'margin-top',\n        'margin-bottom',\n        'border-top-width',\n        'border-bottom-width'\n    ];\n\n    selectors.forEach(function (sel) {\n        properties.forEach(function (prop) {\n            h += Number(getProp(sel, prop));\n        });\n    });\n\n    return h;\n}\n","export var TEOF = 'TEOF';\nexport var TOP = 'TOP';\nexport var TNUMBER = 'TNUMBER';\nexport var TSTRING = 'TSTRING';\nexport var TPAREN = 'TPAREN';\nexport var TBRACKET = 'TBRACKET';\nexport var TCOMMA = 'TCOMMA';\nexport var TNAME = 'TNAME';\nexport var TSEMICOLON = 'TSEMICOLON';\n\nexport function Token(type, value, index) {\n  this.type = type;\n  this.value = value;\n  this.index = index;\n}\n\nToken.prototype.toString = function () {\n  return this.type + ': ' + this.value;\n};\n","import { Token, TEOF, TOP, TNUMBER, TSTRING, TPAREN, TBRACKET, TCOMMA, TNAME, TSEMICOLON } from './token.js';\n\nexport function TokenStream(parser, expression) {\n  this.pos = 0;\n  this.current = null;\n  this.unaryOps = parser.unaryOps;\n  this.binaryOps = parser.binaryOps;\n  this.ternaryOps = parser.ternaryOps;\n  this.consts = parser.consts;\n  this.expression = expression;\n  this.savedPosition = 0;\n  this.savedCurrent = null;\n  this.options = parser.options;\n  this.parser = parser;\n}\n\nTokenStream.prototype.newToken = function (type, value, pos) {\n  return new Token(type, value, pos != null ? pos : this.pos);\n};\n\nTokenStream.prototype.save = function () {\n  this.savedPosition = this.pos;\n  this.savedCurrent = this.current;\n};\n\nTokenStream.prototype.restore = function () {\n  this.pos = this.savedPosition;\n  this.current = this.savedCurrent;\n};\n\nTokenStream.prototype.next = function () {\n  if (this.pos >= this.expression.length) {\n    return this.newToken(TEOF, 'EOF');\n  }\n\n  if (this.isWhitespace() || this.isComment()) {\n    return this.next();\n  } else if (\n    this.isRadixInteger() ||\n    this.isNumber() ||\n    this.isOperator() ||\n    this.isString() ||\n    this.isParen() ||\n    this.isBracket() ||\n    this.isComma() ||\n    this.isSemicolon() ||\n    this.isNamedOp() ||\n    this.isConst() ||\n    this.isName()\n  ) {\n    return this.current;\n  } else {\n    this.parseError('Unknown character \"' + this.expression.charAt(this.pos) + '\"');\n  }\n};\n\nTokenStream.prototype.isString = function () {\n  var r = false;\n  var startPos = this.pos;\n  var quote = this.expression.charAt(startPos);\n\n  if (quote === \"'\" || quote === '\"') {\n    var index = this.expression.indexOf(quote, startPos + 1);\n    while (index >= 0 && this.pos < this.expression.length) {\n      this.pos = index + 1;\n      if (this.expression.charAt(index - 1) !== '\\\\') {\n        var rawString = this.expression.substring(startPos + 1, index);\n        this.current = this.newToken(TSTRING, this.unescape(rawString), startPos);\n        r = true;\n        break;\n      }\n      index = this.expression.indexOf(quote, index + 1);\n    }\n  }\n  return r;\n};\n\nTokenStream.prototype.isParen = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === '(' || c === ')') {\n    this.current = this.newToken(TPAREN, c);\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isBracket = function () {\n  var c = this.expression.charAt(this.pos);\n  if ((c === '[' || c === ']') && this.isOperatorEnabled('[')) {\n    this.current = this.newToken(TBRACKET, c);\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isComma = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === ',') {\n    this.current = this.newToken(TCOMMA, ',');\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isSemicolon = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === ';') {\n    this.current = this.newToken(TSEMICOLON, ';');\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isConst = function () {\n  var startPos = this.pos;\n  var i = startPos;\n  for (; i < this.expression.length; i++) {\n    var c = this.expression.charAt(i);\n    if (c.toUpperCase() === c.toLowerCase()) {\n      if (i === this.pos || (c !== '_' && c !== '.' && (c < '0' || c > '9'))) {\n        break;\n      }\n    }\n  }\n  if (i > startPos) {\n    var str = this.expression.substring(startPos, i);\n    if (str in this.consts) {\n      this.current = this.newToken(TNUMBER, this.consts[str]);\n      this.pos += str.length;\n      return true;\n    }\n  }\n  return false;\n};\n\nTokenStream.prototype.isNamedOp = function () {\n  var startPos = this.pos;\n  var i = startPos;\n  for (; i < this.expression.length; i++) {\n    var c = this.expression.charAt(i);\n    if (c.toUpperCase() === c.toLowerCase()) {\n      if (i === this.pos || (c !== '_' && (c < '0' || c > '9'))) {\n        break;\n      }\n    }\n  }\n  if (i > startPos) {\n    var str = this.expression.substring(startPos, i);\n    if (this.isOperatorEnabled(str) && (str in this.binaryOps || str in this.unaryOps || str in this.ternaryOps)) {\n      this.current = this.newToken(TOP, str);\n      this.pos += str.length;\n      return true;\n    }\n  }\n  return false;\n};\n\nTokenStream.prototype.isName = function () {\n  var startPos = this.pos;\n  var i = startPos;\n  var hasLetter = false;\n  for (; i < this.expression.length; i++) {\n    var c = this.expression.charAt(i);\n    if (c.toUpperCase() === c.toLowerCase()) {\n      if (i === this.pos && (c === '$' || c === '_')) {\n        if (c === '_') {\n          hasLetter = true;\n        }\n        continue;\n      } else if (i === this.pos || !hasLetter || (c !== '_' && (c < '0' || c > '9'))) {\n        break;\n      }\n    } else {\n      hasLetter = true;\n    }\n  }\n  if (hasLetter) {\n    var str = this.expression.substring(startPos, i);\n    this.current = this.newToken(TNAME, str);\n    this.pos += str.length;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isWhitespace = function () {\n  var r = false;\n  var c = this.expression.charAt(this.pos);\n  while (c === ' ' || c === '\\t' || c === '\\n' || c === '\\r') {\n    r = true;\n    this.pos++;\n    if (this.pos >= this.expression.length) {\n      break;\n    }\n    c = this.expression.charAt(this.pos);\n  }\n  return r;\n};\n\nvar codePointPattern = /^[0-9a-f]{4}$/i;\n\nTokenStream.prototype.unescape = function (v) {\n  var index = v.indexOf('\\\\');\n  if (index < 0) {\n    return v;\n  }\n\n  var buffer = v.substring(0, index);\n  while (index >= 0) {\n    var c = v.charAt(++index);\n    switch (c) {\n      case \"'\":\n        buffer += \"'\";\n        break;\n      case '\"':\n        buffer += '\"';\n        break;\n      case '\\\\':\n        buffer += '\\\\';\n        break;\n      case '/':\n        buffer += '/';\n        break;\n      case 'b':\n        buffer += '\\b';\n        break;\n      case 'f':\n        buffer += '\\f';\n        break;\n      case 'n':\n        buffer += '\\n';\n        break;\n      case 'r':\n        buffer += '\\r';\n        break;\n      case 't':\n        buffer += '\\t';\n        break;\n      case 'u':\n        // interpret the following 4 characters as the hex of the unicode code point\n        var codePoint = v.substring(index + 1, index + 5);\n        if (!codePointPattern.test(codePoint)) {\n          this.parseError('Illegal escape sequence: \\\\u' + codePoint);\n        }\n        buffer += String.fromCharCode(parseInt(codePoint, 16));\n        index += 4;\n        break;\n      default:\n        throw this.parseError('Illegal escape sequence: \"\\\\' + c + '\"');\n    }\n    ++index;\n    var backslash = v.indexOf('\\\\', index);\n    buffer += v.substring(index, backslash < 0 ? v.length : backslash);\n    index = backslash;\n  }\n\n  return buffer;\n};\n\nTokenStream.prototype.isComment = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === '/' && this.expression.charAt(this.pos + 1) === '*') {\n    this.pos = this.expression.indexOf('*/', this.pos) + 2;\n    if (this.pos === 1) {\n      this.pos = this.expression.length;\n    }\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isRadixInteger = function () {\n  var pos = this.pos;\n\n  if (pos >= this.expression.length - 2 || this.expression.charAt(pos) !== '0') {\n    return false;\n  }\n  ++pos;\n\n  var radix;\n  var validDigit;\n  if (this.expression.charAt(pos) === 'x') {\n    radix = 16;\n    validDigit = /^[0-9a-f]$/i;\n    ++pos;\n  } else if (this.expression.charAt(pos) === 'b') {\n    radix = 2;\n    validDigit = /^[01]$/i;\n    ++pos;\n  } else {\n    return false;\n  }\n\n  var valid = false;\n  var startPos = pos;\n\n  while (pos < this.expression.length) {\n    var c = this.expression.charAt(pos);\n    if (validDigit.test(c)) {\n      pos++;\n      valid = true;\n    } else {\n      break;\n    }\n  }\n\n  if (valid) {\n    this.current = this.newToken(TNUMBER, parseInt(this.expression.substring(startPos, pos), radix));\n    this.pos = pos;\n  }\n  return valid;\n};\n\nTokenStream.prototype.isNumber = function () {\n  var valid = false;\n  var pos = this.pos;\n  var startPos = pos;\n  var resetPos = pos;\n  var foundDot = false;\n  var foundDigits = false;\n  var c;\n\n  while (pos < this.expression.length) {\n    c = this.expression.charAt(pos);\n    if ((c >= '0' && c <= '9') || (!foundDot && c === '.')) {\n      if (c === '.') {\n        foundDot = true;\n      } else {\n        foundDigits = true;\n      }\n      pos++;\n      valid = foundDigits;\n    } else {\n      break;\n    }\n  }\n\n  if (valid) {\n    resetPos = pos;\n  }\n\n  if (c === 'e' || c === 'E') {\n    pos++;\n    var acceptSign = true;\n    var validExponent = false;\n    while (pos < this.expression.length) {\n      c = this.expression.charAt(pos);\n      if (acceptSign && (c === '+' || c === '-')) {\n        acceptSign = false;\n      } else if (c >= '0' && c <= '9') {\n        validExponent = true;\n        acceptSign = false;\n      } else {\n        break;\n      }\n      pos++;\n    }\n\n    if (!validExponent) {\n      pos = resetPos;\n    }\n  }\n\n  if (valid) {\n    this.current = this.newToken(TNUMBER, parseFloat(this.expression.substring(startPos, pos)));\n    this.pos = pos;\n  } else {\n    this.pos = resetPos;\n  }\n  return valid;\n};\n\nTokenStream.prototype.isOperator = function () {\n  var startPos = this.pos;\n  var c = this.expression.charAt(this.pos);\n\n  if (c === '+' || c === '-' || c === '*' || c === '/' || c === '%' || c === '^' || c === '?' || c === ':' || c === '.') {\n    this.current = this.newToken(TOP, c);\n  } else if (c === '∙' || c === '•') {\n    this.current = this.newToken(TOP, '*');\n  } else if (c === '>') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '>=');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, '>');\n    }\n  } else if (c === '<') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '<=');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, '<');\n    }\n  } else if (c === '|') {\n    if (this.expression.charAt(this.pos + 1) === '|') {\n      this.current = this.newToken(TOP, '||');\n      this.pos++;\n    } else {\n      return false;\n    }\n  } else if (c === '=') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '==');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, c);\n    }\n  } else if (c === '!') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '!=');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, c);\n    }\n  } else {\n    return false;\n  }\n  this.pos++;\n\n  if (this.isOperatorEnabled(this.current.value)) {\n    return true;\n  } else {\n    this.pos = startPos;\n    return false;\n  }\n};\n\nTokenStream.prototype.isOperatorEnabled = function (op) {\n  return this.parser.isOperatorEnabled(op);\n};\n\nTokenStream.prototype.getCoordinates = function () {\n  var line = 0;\n  var column;\n  var newline = -1;\n  do {\n    line++;\n    column = this.pos - newline;\n    newline = this.expression.indexOf('\\n', newline + 1);\n  } while (newline >= 0 && newline < this.pos);\n\n  return {\n    line: line,\n    column: column\n  };\n};\n\nTokenStream.prototype.parseError = function (msg) {\n  var coords = this.getCoordinates();\n  throw new Error('parse error [' + coords.line + ':' + coords.column + ']: ' + msg);\n};\n","export var INUMBER = 'INUMBER';\nexport var IOP1 = 'IOP1';\nexport var IOP2 = 'IOP2';\nexport var IOP3 = 'IOP3';\nexport var IVAR = 'IVAR';\nexport var IVARNAME = 'IVARNAME';\nexport var IFUNCALL = 'IFUNCALL';\nexport var IFUNDEF = 'IFUNDEF';\nexport var IEXPR = 'IEXPR';\nexport var IEXPREVAL = 'IEXPREVAL';\nexport var IMEMBER = 'IMEMBER';\nexport var IENDSTATEMENT = 'IENDSTATEMENT';\nexport var IARRAY = 'IARRAY';\n\nexport function Instruction(type, value) {\n  this.type = type;\n  this.value = value !== undefined && value !== null ? value : 0;\n}\n\nInstruction.prototype.toString = function () {\n  switch (this.type) {\n    case INUMBER:\n    case IOP1:\n    case IOP2:\n    case IOP3:\n    case IVAR:\n    case IVARNAME:\n    case IENDSTATEMENT:\n      return this.value;\n    case IFUNCALL:\n      return 'CALL ' + this.value;\n    case IFUNDEF:\n      return 'DEF ' + this.value;\n    case IARRAY:\n      return 'ARRAY ' + this.value;\n    case IMEMBER:\n      return '.' + this.value;\n    default:\n      return 'Invalid Instruction';\n  }\n};\n\nexport function unaryInstruction(value) {\n  return new Instruction(IOP1, value);\n}\n\nexport function binaryInstruction(value) {\n  return new Instruction(IOP2, value);\n}\n\nexport function ternaryInstruction(value) {\n  return new Instruction(IOP3, value);\n}\n","import { TOP, TNUMBER, TSTRING, TPAREN, TBRACKET, TCOMMA, TNAME, TSEMICOLON, TEOF } from './token.js';\nimport { Instruction, INUMBER, IVAR, IVARNAME, IFUNCALL, IFUNDEF, IEXPR, IMEMBER, IENDSTATEMENT, IARRAY, ternaryInstruction, binaryInstruction, unaryInstruction } from './instruction.js';\nimport contains from './contains.js';\n\nexport function ParserState(parser, tokenStream, options) {\n  this.parser = parser;\n  this.tokens = tokenStream;\n  this.current = null;\n  this.nextToken = null;\n  this.next();\n  this.savedCurrent = null;\n  this.savedNextToken = null;\n  this.allowMemberAccess = options.allowMemberAccess !== false;\n  this.restrictMemberAccess = new Set(options.restrictMemberAccess || []);\n}\n\nParserState.prototype.next = function () {\n  this.current = this.nextToken;\n  return (this.nextToken = this.tokens.next());\n};\n\nParserState.prototype.tokenMatches = function (token, value) {\n  if (typeof value === 'undefined') {\n    return true;\n  } else if (Array.isArray(value)) {\n    return contains(value, token.value);\n  } else if (typeof value === 'function') {\n    return value(token);\n  } else {\n    return token.value === value;\n  }\n};\n\nParserState.prototype.save = function () {\n  this.savedCurrent = this.current;\n  this.savedNextToken = this.nextToken;\n  this.tokens.save();\n};\n\nParserState.prototype.restore = function () {\n  this.tokens.restore();\n  this.current = this.savedCurrent;\n  this.nextToken = this.savedNextToken;\n};\n\nParserState.prototype.accept = function (type, value) {\n  if (this.nextToken.type === type && this.tokenMatches(this.nextToken, value)) {\n    this.next();\n    return true;\n  }\n  return false;\n};\n\nParserState.prototype.expect = function (type, value) {\n  if (!this.accept(type, value)) {\n    var coords = this.tokens.getCoordinates();\n    throw new Error('parse error [' + coords.line + ':' + coords.column + ']: Expected ' + (value || type));\n  }\n};\n\nParserState.prototype.parseAtom = function (instr) {\n  var unaryOps = this.tokens.unaryOps;\n  function isPrefixOperator(token) {\n    return token.value in unaryOps;\n  }\n\n  if (this.accept(TNAME) || this.accept(TOP, isPrefixOperator)) {\n    instr.push(new Instruction(IVAR, this.current.value));\n  } else if (this.accept(TNUMBER)) {\n    instr.push(new Instruction(INUMBER, this.current.value));\n  } else if (this.accept(TSTRING)) {\n    instr.push(new Instruction(INUMBER, this.current.value));\n  } else if (this.accept(TPAREN, '(')) {\n    this.parseExpression(instr);\n    this.expect(TPAREN, ')');\n  } else if (this.accept(TBRACKET, '[')) {\n    if (this.accept(TBRACKET, ']')) {\n      instr.push(new Instruction(IARRAY, 0));\n    } else {\n      var argCount = this.parseArrayList(instr);\n      instr.push(new Instruction(IARRAY, argCount));\n    }\n  } else {\n    throw new Error('unexpected ' + this.nextToken);\n  }\n};\n\nParserState.prototype.parseExpression = function (instr) {\n  var exprInstr = [];\n  if (this.parseUntilEndStatement(instr, exprInstr)) {\n    return;\n  }\n  this.parseVariableAssignmentExpression(exprInstr);\n  if (this.parseUntilEndStatement(instr, exprInstr)) {\n    return;\n  }\n  this.pushExpression(instr, exprInstr);\n};\n\nParserState.prototype.pushExpression = function (instr, exprInstr) {\n  for (var i = 0, len = exprInstr.length; i < len; i++) {\n    instr.push(exprInstr[i]);\n  }\n};\n\nParserState.prototype.parseUntilEndStatement = function (instr, exprInstr) {\n  if (!this.accept(TSEMICOLON)) return false;\n  if (this.nextToken && this.nextToken.type !== TEOF && !(this.nextToken.type === TPAREN && this.nextToken.value === ')')) {\n    exprInstr.push(new Instruction(IENDSTATEMENT));\n  }\n  if (this.nextToken.type !== TEOF) {\n    this.parseExpression(exprInstr);\n  }\n  instr.push(new Instruction(IEXPR, exprInstr));\n  return true;\n};\n\nParserState.prototype.parseArrayList = function (instr) {\n  var argCount = 0;\n\n  while (!this.accept(TBRACKET, ']')) {\n    this.parseExpression(instr);\n    ++argCount;\n    while (this.accept(TCOMMA)) {\n      this.parseExpression(instr);\n      ++argCount;\n    }\n  }\n\n  return argCount;\n};\n\nParserState.prototype.parseVariableAssignmentExpression = function (instr) {\n  this.parseConditionalExpression(instr);\n  while (this.accept(TOP, '=')) {\n    var varName = instr.pop();\n    var varValue = [];\n    var lastInstrIndex = instr.length - 1;\n    if (varName.type === IFUNCALL) {\n      if (!this.tokens.isOperatorEnabled('()=')) {\n        throw new Error('function definition is not permitted');\n      }\n      for (var i = 0, len = varName.value + 1; i < len; i++) {\n        var index = lastInstrIndex - i;\n        if (instr[index].type === IVAR) {\n          instr[index] = new Instruction(IVARNAME, instr[index].value);\n        }\n      }\n      this.parseVariableAssignmentExpression(varValue);\n      instr.push(new Instruction(IEXPR, varValue));\n      instr.push(new Instruction(IFUNDEF, varName.value));\n      continue;\n    }\n    if (varName.type !== IVAR && varName.type !== IMEMBER) {\n      throw new Error('expected variable for assignment');\n    }\n    this.parseVariableAssignmentExpression(varValue);\n    instr.push(new Instruction(IVARNAME, varName.value));\n    instr.push(new Instruction(IEXPR, varValue));\n    instr.push(binaryInstruction('='));\n  }\n};\n\nParserState.prototype.parseConditionalExpression = function (instr) {\n  this.parseOrExpression(instr);\n  while (this.accept(TOP, '?')) {\n    var trueBranch = [];\n    var falseBranch = [];\n    this.parseConditionalExpression(trueBranch);\n    this.expect(TOP, ':');\n    this.parseConditionalExpression(falseBranch);\n    instr.push(new Instruction(IEXPR, trueBranch));\n    instr.push(new Instruction(IEXPR, falseBranch));\n    instr.push(ternaryInstruction('?'));\n  }\n};\n\nParserState.prototype.parseOrExpression = function (instr) {\n  this.parseAndExpression(instr);\n  while (this.accept(TOP, 'or')) {\n    var falseBranch = [];\n    this.parseAndExpression(falseBranch);\n    instr.push(new Instruction(IEXPR, falseBranch));\n    instr.push(binaryInstruction('or'));\n  }\n};\n\nParserState.prototype.parseAndExpression = function (instr) {\n  this.parseComparison(instr);\n  while (this.accept(TOP, 'and')) {\n    var trueBranch = [];\n    this.parseComparison(trueBranch);\n    instr.push(new Instruction(IEXPR, trueBranch));\n    instr.push(binaryInstruction('and'));\n  }\n};\n\nvar COMPARISON_OPERATORS = ['==', '!=', '<', '<=', '>=', '>', 'in'];\n\nParserState.prototype.parseComparison = function (instr) {\n  this.parseAddSub(instr);\n  while (this.accept(TOP, COMPARISON_OPERATORS)) {\n    var op = this.current;\n    this.parseAddSub(instr);\n    instr.push(binaryInstruction(op.value));\n  }\n};\n\nvar ADD_SUB_OPERATORS = ['+', '-', '||'];\n\nParserState.prototype.parseAddSub = function (instr) {\n  this.parseTerm(instr);\n  while (this.accept(TOP, ADD_SUB_OPERATORS)) {\n    var op = this.current;\n    this.parseTerm(instr);\n    instr.push(binaryInstruction(op.value));\n  }\n};\n\nvar TERM_OPERATORS = ['*', '/', '%'];\n\nParserState.prototype.parseTerm = function (instr) {\n  this.parseFactor(instr);\n  while (this.accept(TOP, TERM_OPERATORS)) {\n    var op = this.current;\n    this.parseFactor(instr);\n    instr.push(binaryInstruction(op.value));\n  }\n};\n\nParserState.prototype.parseFactor = function (instr) {\n  var unaryOps = this.tokens.unaryOps;\n  function isPrefixOperator(token) {\n    return token.value in unaryOps;\n  }\n\n  this.save();\n  if (this.accept(TOP, isPrefixOperator)) {\n    if (this.current.value !== '-' && this.current.value !== '+') {\n      if (this.nextToken.type === TPAREN && this.nextToken.value === '(') {\n        this.restore();\n        this.parseExponential(instr);\n        return;\n      } else if (this.nextToken.type === TSEMICOLON || this.nextToken.type === TCOMMA || this.nextToken.type === TEOF || (this.nextToken.type === TPAREN && this.nextToken.value === ')')) {\n        this.restore();\n        this.parseAtom(instr);\n        return;\n      }\n    }\n\n    var op = this.current;\n    this.parseFactor(instr);\n    instr.push(unaryInstruction(op.value));\n  } else {\n    this.parseExponential(instr);\n  }\n};\n\nParserState.prototype.parseExponential = function (instr) {\n  this.parsePostfixExpression(instr);\n  while (this.accept(TOP, '^')) {\n    this.parseFactor(instr);\n    instr.push(binaryInstruction('^'));\n  }\n};\n\nParserState.prototype.parsePostfixExpression = function (instr) {\n  this.parseFunctionCall(instr);\n  while (this.accept(TOP, '!')) {\n    instr.push(unaryInstruction('!'));\n  }\n};\n\nParserState.prototype.parseFunctionCall = function (instr) {\n  var unaryOps = this.tokens.unaryOps;\n  function isPrefixOperator(token) {\n    return token.value in unaryOps;\n  }\n\n  if (this.accept(TOP, isPrefixOperator)) {\n    var op = this.current;\n    this.parseAtom(instr);\n    instr.push(unaryInstruction(op.value));\n  } else {\n    this.parseMemberExpression(instr);\n    while (this.accept(TPAREN, '(')) {\n      if (this.accept(TPAREN, ')')) {\n        instr.push(new Instruction(IFUNCALL, 0));\n      } else {\n        var argCount = this.parseArgumentList(instr);\n        instr.push(new Instruction(IFUNCALL, argCount));\n      }\n    }\n  }\n};\n\nParserState.prototype.parseArgumentList = function (instr) {\n  var argCount = 0;\n\n  while (!this.accept(TPAREN, ')')) {\n    this.parseExpression(instr);\n    ++argCount;\n    while (this.accept(TCOMMA)) {\n      this.parseExpression(instr);\n      ++argCount;\n    }\n  }\n\n  return argCount;\n};\n\nParserState.prototype.parseMemberExpression = function (instr) {\n  this.parseAtom(instr);\n  while (this.accept(TOP, '.') || this.accept(TBRACKET, '[')) {\n    var op = this.current;\n\n    if (op.value === '.') {\n      if (!this.allowMemberAccess) {\n        throw new Error('unexpected \".\", member access is not permitted');\n      }\n      if (this.restrictMemberAccess.has(this.nextToken.value)) {\n        throw new Error('access to member \"'+this.nextToken.value+'\" is not permitted');\n      }\n\n      this.expect(TNAME);\n      instr.push(new Instruction(IMEMBER, this.current.value));\n    } else if (op.value === '[') {\n      if (!this.tokens.isOperatorEnabled('[')) {\n        throw new Error('unexpected \"[]\", arrays are disabled');\n      }\n\n      this.parseExpression(instr);\n      this.expect(TBRACKET, ']');\n      instr.push(binaryInstruction('['));\n    } else {\n      throw new Error('unexpected symbol: ' + op.value);\n    }\n  }\n};\n","export default function contains(array, obj) {\n  for (var i = 0; i < array.length; i++) {\n    if (array[i] === obj) {\n      return true;\n    }\n  }\n  return false;\n}\n","import contains from './contains.js';\n\nexport function add(a, b) {\n  return Number(a) + Number(b);\n}\n\nexport function sub(a, b) {\n  return a - b;\n}\n\nexport function mul(a, b) {\n  return a * b;\n}\n\nexport function div(a, b) {\n  return a / b;\n}\n\nexport function mod(a, b) {\n  return a % b;\n}\n\nexport function concat(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return a.concat(b);\n  }\n  return '' + a + b;\n}\n\nexport function equal(a, b) {\n  return a === b;\n}\n\nexport function notEqual(a, b) {\n  return a !== b;\n}\n\nexport function greaterThan(a, b) {\n  return a > b;\n}\n\nexport function lessThan(a, b) {\n  return a < b;\n}\n\nexport function greaterThanEqual(a, b) {\n  return a >= b;\n}\n\nexport function lessThanEqual(a, b) {\n  return a <= b;\n}\n\nexport function andOperator(a, b) {\n  return Boolean(a && b);\n}\n\nexport function orOperator(a, b) {\n  return Boolean(a || b);\n}\n\nexport function inOperator(a, b) {\n  return contains(b, a);\n}\n\nexport function sinh(a) {\n  return (Math.exp(a) - Math.exp(-a)) / 2;\n}\n\nexport function cosh(a) {\n  return (Math.exp(a) + Math.exp(-a)) / 2;\n}\n\nexport function tanh(a) {\n  if (a === Infinity) return 1;\n  if (a === -Infinity) return -1;\n  return (Math.exp(a) - Math.exp(-a)) / (Math.exp(a) + Math.exp(-a));\n}\n\nexport function asinh(a) {\n  if (a === -Infinity) return a;\n  return Math.log(a + Math.sqrt(a * a + 1));\n}\n\nexport function acosh(a) {\n  return Math.log(a + Math.sqrt(a * a - 1));\n}\n\nexport function atanh(a) {\n  return Math.log((1 + a) / (1 - a)) / 2;\n}\n\nexport function log10(a) {\n  return Math.log(a) * Math.LOG10E;\n}\n\nexport function neg(a) {\n  return -a;\n}\n\nexport function not(a) {\n  return !a;\n}\n\nexport function trunc(a) {\n  return a < 0 ? Math.ceil(a) : Math.floor(a);\n}\n\nexport function random(a) {\n  return Math.random() * (a || 1);\n}\n\nexport function factorial(a) {\n  // a!\n  return gamma(a + 1);\n}\n\nfunction isInteger(value) {\n  return isFinite(value) && value === Math.round(value);\n}\n\nvar GAMMA_G = 4.7421875;\nvar GAMMA_P = [\n  0.99999999999999709182, 57.156235665862923517, -59.597960355475491248, 14.136097974741747174, -0.49191381609762019978, 0.33994649984811888699e-4, 0.46523628927048575665e-4,\n  -0.98374475304879564677e-4, 0.15808870322491248884e-3, -0.21026444172410488319e-3, 0.2174396181152126432e-3, -0.16431810653676389022e-3, 0.84418223983852743293e-4, -0.2619083840158140867e-4,\n  0.36899182659531622704e-5\n];\n\n// Gamma function from math.js\nexport function gamma(n) {\n  var t, x;\n\n  if (isInteger(n)) {\n    if (n <= 0) {\n      return isFinite(n) ? Infinity : NaN;\n    }\n\n    if (n > 171) {\n      return Infinity; // Will overflow\n    }\n\n    var value = n - 2;\n    var res = n - 1;\n    while (value > 1) {\n      res *= value;\n      value--;\n    }\n\n    if (res === 0) {\n      res = 1; // 0! is per definition 1\n    }\n\n    return res;\n  }\n\n  if (n < 0.5) {\n    return Math.PI / (Math.sin(Math.PI * n) * gamma(1 - n));\n  }\n\n  if (n >= 171.35) {\n    return Infinity; // will overflow\n  }\n\n  if (n > 85.0) {\n    // Extended Stirling Approx\n    var twoN = n * n;\n    var threeN = twoN * n;\n    var fourN = threeN * n;\n    var fiveN = fourN * n;\n    return (\n      Math.sqrt((2 * Math.PI) / n) *\n      Math.pow(n / Math.E, n) *\n      (1 + 1 / (12 * n) + 1 / (288 * twoN) - 139 / (51840 * threeN) - 571 / (2488320 * fourN) + 163879 / (209018880 * fiveN) + 5246819 / (75246796800 * fiveN * n))\n    );\n  }\n\n  --n;\n  x = GAMMA_P[0];\n  for (var i = 1; i < GAMMA_P.length; ++i) {\n    x += GAMMA_P[i] / (n + i);\n  }\n\n  t = n + GAMMA_G + 0.5;\n  return Math.sqrt(2 * Math.PI) * Math.pow(t, n + 0.5) * Math.exp(-t) * x;\n}\n\nexport function stringOrArrayLength(s) {\n  if (Array.isArray(s)) {\n    return s.length;\n  }\n  return String(s).length;\n}\n\nexport function hypot() {\n  var sum = 0;\n  var larg = 0;\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = Math.abs(arguments[i]);\n    var div;\n    if (larg < arg) {\n      div = larg / arg;\n      sum = sum * div * div + 1;\n      larg = arg;\n    } else if (arg > 0) {\n      div = arg / larg;\n      sum += div * div;\n    } else {\n      sum += arg;\n    }\n  }\n  return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n}\n\nexport function condition(cond, yep, nope) {\n  return cond ? yep : nope;\n}\n\n/**\n * Decimal adjustment of a number.\n * From @escopecz.\n *\n * @param {Number} value The number.\n * @param {Integer} exp  The exponent (the 10 logarithm of the adjustment base).\n * @return {Number} The adjusted value.\n */\nexport function roundTo(value, exp) {\n  // If the exp is undefined or zero...\n  if (typeof exp === 'undefined' || +exp === 0) {\n    return Math.round(value);\n  }\n  value = +value;\n  exp = -+exp;\n  // If the value is not a number or the exp is not an integer...\n  if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n    return NaN;\n  }\n  // Shift\n  value = value.toString().split('e');\n  value = Math.round(+(value[0] + 'e' + (value[1] ? +value[1] - exp : -exp)));\n  // Shift back\n  value = value.toString().split('e');\n  return +(value[0] + 'e' + (value[1] ? +value[1] + exp : exp));\n}\n\nexport function setVar(name, value, variables) {\n  if (variables) variables[name] = value;\n  return value;\n}\n\nexport function arrayIndex(array, index) {\n  return array[index | 0];\n}\n\nexport function max(array) {\n  if (arguments.length === 1 && Array.isArray(array)) {\n    return Math.max.apply(Math, array);\n  } else {\n    return Math.max.apply(Math, arguments);\n  }\n}\n\nexport function min(array) {\n  if (arguments.length === 1 && Array.isArray(array)) {\n    return Math.min.apply(Math, array);\n  } else {\n    return Math.min.apply(Math, arguments);\n  }\n}\n\nexport function arrayMap(f, a) {\n  if (typeof f !== 'function') {\n    throw new Error('First argument to map is not a function');\n  }\n  if (!Array.isArray(a)) {\n    throw new Error('Second argument to map is not an array');\n  }\n  return a.map(function (x, i) {\n    return f(x, i);\n  });\n}\n\nexport function arrayFold(f, init, a) {\n  if (typeof f !== 'function') {\n    throw new Error('First argument to fold is not a function');\n  }\n  if (!Array.isArray(a)) {\n    throw new Error('Second argument to fold is not an array');\n  }\n  return a.reduce(function (acc, x, i) {\n    return f(acc, x, i);\n  }, init);\n}\n\nexport function arrayFilter(f, a) {\n  if (typeof f !== 'function') {\n    throw new Error('First argument to filter is not a function');\n  }\n  if (!Array.isArray(a)) {\n    throw new Error('Second argument to filter is not an array');\n  }\n  return a.filter(function (x, i) {\n    return f(x, i);\n  });\n}\n\nexport function stringOrArrayIndexOf(target, s) {\n  if (!(Array.isArray(s) || typeof s === 'string')) {\n    throw new Error('Second argument to indexOf is not a string or array');\n  }\n\n  return s.indexOf(target);\n}\n\nexport function arrayJoin(sep, a) {\n  if (!Array.isArray(a)) {\n    throw new Error('Second argument to join is not an array');\n  }\n\n  return a.join(sep);\n}\n\nexport function sign(x) {\n  return (x > 0) - (x < 0) || +x;\n}\n\nvar ONE_THIRD = 1 / 3;\nexport function cbrt(x) {\n  return x < 0 ? -Math.pow(-x, ONE_THIRD) : Math.pow(x, ONE_THIRD);\n}\n\nexport function expm1(x) {\n  return Math.exp(x) - 1;\n}\n\nexport function log1p(x) {\n  return Math.log(1 + x);\n}\n\nexport function log2(x) {\n  return Math.log(x) / Math.LN2;\n}\n\nexport function sum(array) {\n  if (!Array.isArray(array)) {\n    throw new Error('Sum argument is not an array');\n  }\n\n  return array.reduce(function (total, value) {\n    return total + Number(value);\n  }, 0);\n}\n","import { INUMBER, IOP1, IOP2, IOP3, IVAR, IVARNAME, IFUNCALL, IFUNDEF, IEXPR, IEXPREVAL, IMEMBER, IENDSTATEMENT, IARRAY } from './instruction.js';\n\nexport default function evaluate(tokens, expr, values) {\n  var nstack = [];\n  var n1, n2, n3;\n  var f, args, argCount;\n\n  if (isExpressionEvaluator(tokens)) {\n    return resolveExpression(tokens, values);\n  }\n\n  var numTokens = tokens.length;\n\n  for (var i = 0; i < numTokens; i++) {\n    var item = tokens[i];\n    var type = item.type;\n    if (type === INUMBER || type === IVARNAME) {\n      nstack.push(item.value);\n    } else if (type === IOP2) {\n      n2 = nstack.pop();\n      n1 = nstack.pop();\n      if (item.value === 'and') {\n        nstack.push(n1 ? !!evaluate(n2, expr, values) : false);\n      } else if (item.value === 'or') {\n        nstack.push(n1 ? true : !!evaluate(n2, expr, values));\n      } else if (item.value === '=') {\n        f = expr.binaryOps[item.value];\n        nstack.push(f(n1, evaluate(n2, expr, values), values));\n      } else {\n        f = expr.binaryOps[item.value];\n        nstack.push(f(resolveExpression(n1, values), resolveExpression(n2, values)));\n      }\n    } else if (type === IOP3) {\n      n3 = nstack.pop();\n      n2 = nstack.pop();\n      n1 = nstack.pop();\n      if (item.value === '?') {\n        nstack.push(evaluate(n1 ? n2 : n3, expr, values));\n      } else {\n        f = expr.ternaryOps[item.value];\n        nstack.push(f(resolveExpression(n1, values), resolveExpression(n2, values), resolveExpression(n3, values)));\n      }\n    } else if (type === IVAR) {\n      if (/^__proto__|prototype|constructor$/.test(item.value)) {\n        throw new Error('prototype access detected');\n      }\n      if (item.value in expr.functions) {\n        nstack.push(expr.functions[item.value]);\n      } else if (item.value in expr.unaryOps && expr.parser.isOperatorEnabled(item.value)) {\n        nstack.push(expr.unaryOps[item.value]);\n      } else {\n        var v = values[item.value];\n        if (v !== undefined) {\n          nstack.push(v);\n        } else {\n          throw new Error('undefined variable: ' + item.value);\n        }\n      }\n    } else if (type === IOP1) {\n      n1 = nstack.pop();\n      f = expr.unaryOps[item.value];\n      nstack.push(f(resolveExpression(n1, values)));\n    } else if (type === IFUNCALL) {\n      argCount = item.value;\n      args = [];\n      while (argCount-- > 0) {\n        args.unshift(resolveExpression(nstack.pop(), values));\n      }\n      f = nstack.pop();\n      if (f.apply && f.call) {\n        nstack.push(f.apply(undefined, args));\n      } else {\n        throw new Error(f + ' is not a function');\n      }\n    } else if (type === IFUNDEF) {\n      // Create closure to keep references to arguments and expression\n      nstack.push(\n        (function () {\n          var n2 = nstack.pop();\n          var args = [];\n          var argCount = item.value;\n          while (argCount-- > 0) {\n            args.unshift(nstack.pop());\n          }\n          var n1 = nstack.pop();\n          var f = function () {\n            var scope = Object.assign({}, values);\n            for (var i = 0, len = args.length; i < len; i++) {\n              scope[args[i]] = arguments[i];\n            }\n            return evaluate(n2, expr, scope);\n          };\n          // f.name = n1\n          Object.defineProperty(f, 'name', {\n            value: n1,\n            writable: false\n          });\n          values[n1] = f;\n          return f;\n        })()\n      );\n    } else if (type === IEXPR) {\n      nstack.push(createExpressionEvaluator(item, expr, values));\n    } else if (type === IEXPREVAL) {\n      nstack.push(item);\n    } else if (type === IMEMBER) {\n      n1 = nstack.pop();\n      nstack.push(n1[item.value]);\n    } else if (type === IENDSTATEMENT) {\n      nstack.pop();\n    } else if (type === IARRAY) {\n      argCount = item.value;\n      args = [];\n      while (argCount-- > 0) {\n        args.unshift(nstack.pop());\n      }\n      nstack.push(args);\n    } else {\n      throw new Error('invalid Expression');\n    }\n  }\n  if (nstack.length > 1) {\n    throw new Error('invalid Expression (parity)');\n  }\n  // Explicitly return zero to avoid test issues caused by -0\n  return nstack[0] === 0 ? 0 : resolveExpression(nstack[0], values);\n}\n\nfunction createExpressionEvaluator(token, expr, values) {\n  if (isExpressionEvaluator(token)) return token;\n  return {\n    type: IEXPREVAL,\n    value: function (scope) {\n      return evaluate(token.value, expr, scope);\n    }\n  };\n}\n\nfunction isExpressionEvaluator(n) {\n  return n && n.type === IEXPREVAL;\n}\n\nfunction resolveExpression(n, values) {\n  return isExpressionEvaluator(n) ? n.value(values) : n;\n}\n","import { TEOF } from '@datawrapper/expr-eval/src/token.js';\nimport { TokenStream } from '@datawrapper/expr-eval/src/token-stream.js';\nimport { ParserState } from '@datawrapper/expr-eval/src/parser-state.js';\nimport {\n    add,\n    sub,\n    mul,\n    div,\n    mod,\n    equal,\n    notEqual,\n    greaterThan,\n    lessThan,\n    greaterThanEqual,\n    lessThanEqual,\n    andOperator,\n    orOperator,\n    // inOperator,\n    // sinh,\n    // cosh,\n    // tanh,\n    // asinh,\n    // acosh,\n    // atanh,\n    log10,\n    neg,\n    not,\n    trunc,\n    random,\n    // factorial,\n    // gamma,\n    stringOrArrayLength,\n    // hypot,\n    condition,\n    roundTo,\n    // setVar,\n    arrayIndex,\n    max,\n    min,\n    sum,\n    arrayMap,\n    arrayFold,\n    arrayFilter,\n    // stringOrArrayIndexOf,\n    // arrayJoin,\n    sign,\n    // cbrt,\n    // expm1,\n    log1p,\n    log2\n} from '@datawrapper/expr-eval/src/functions.js';\n\n// expression\nimport evaluate from '@datawrapper/expr-eval/src/evaluate.js';\n\nfunction Expression(tokens, parser) {\n    this.tokens = tokens;\n    this.parser = parser;\n    this.unaryOps = parser.unaryOps;\n    this.binaryOps = parser.binaryOps;\n    this.ternaryOps = parser.ternaryOps;\n    this.functions = parser.functions;\n}\n\nExpression.prototype.evaluate = function (values) {\n    values = values || {};\n    return evaluate(this.tokens, this, values);\n};\n\nExpression.prototype.variables = function () {\n    return (this.tokens || []).filter(token => token.type === 'IVAR').map(token => token.value);\n};\n\nfunction trim(s) {\n    return s.trim();\n}\n\nconst RESTRICT_MEMBER_ACCESS = new Set(['__proto__', 'prototype', 'constructor']);\n\n// parser\nexport function Parser(options) {\n    this.options = options || {};\n    this.unaryOps = {\n        /**\n         * Sine (trigonometric function)\n         *\n         * @method SIN\n         * @returns {number}\n         * @example\n         * SIN PI\n         * SIN(PI)\n         */\n        SIN: Math.sin,\n        /**\n         * Cosine (trigonometric function)\n         *\n         * @method COS\n         * @returns {number}\n         * @example\n         * COS PI\n         * COS(PI)\n         */\n        COS: Math.cos,\n        /**\n         * Tangent (trigonometric function)\n         *\n         * @method TAN\n         * @returns {number}\n         * @example\n         * TAN PI\n         * TAN(PI)\n         */\n        TAN: Math.tan,\n        /**\n         * Arcus sine (inverse tigonometric function)\n         *\n         * @method ASIN\n         * @returns {number}\n         */\n        ASIN: Math.asin,\n        /**\n         * Arcus cosine (inverse trigonometric function)\n         *\n         * @method ACOS\n         * @returns {number}\n         */\n        ACOS: Math.acos,\n        /**\n         * Arcus tangent (inverse trigonometric function)\n         *\n         * @method ATAN\n         * @returns {number}\n         */\n        ATAN: Math.atan,\n        /**\n         * Computes the square root\n         *\n         * @method SQRT\n         * @returns {number}\n         * @example\n         * SQRT 9 // 3\n         * SQRT(9) // 3\n         */\n        SQRT: Math.sqrt,\n        /**\n         * Returns the natural logarithm (base `e`) of a number\n         *\n         * @method LOG\n         * @returns {number}\n         * @example\n         * LOG x\n         */\n        LOG: Math.log,\n        /**\n         * Returns the base 2 logarithm of a number\n         *\n         * @method LOG2\n         * @returns {number}\n         * @example\n         * LOG2 8 // 3\n         */\n        LOG2: Math.log2 || log2,\n        /**\n         * Alias for {@link LOG}\n         * @method LN\n         * @returns {number}\n         * @alias LOG\n         */\n        LN: Math.log,\n        /**\n         * Returns the base 10 logarithm of a number\n         *\n         * @method LOG10\n         * @alias LG\n         * @returns {number}\n         * @example\n         * LOG10 10 // 1\n         * LOG10(100) // 2\n         * LOG10(1000) // 3\n         */\n        LOG10: Math.log10 || log10,\n        /**\n         * Alias for {@link LOG10}\n         * @method LG\n         * @returns {number}\n         * @alias LOG10\n         */\n        LG: Math.log10 || log10,\n        LOG1P: Math.log1p || log1p,\n        /**\n         * Absolute number\n         *\n         * @method ABS\n         * @example\n         * ABS -10 // 10\n         * @returns {number}\n         */\n        ABS: Math.abs,\n        /**\n         * Round number to next largest integer\n         *\n         * @method CEIL\n         * @example\n         * CEIL 2.3 // 3\n         * CEIL(2.7) // 3\n         * @returns {number}\n         * @see {@link FLOOR}, {@link ROUND}, {@link TRUNC}\n         */\n        CEIL: Math.ceil,\n        /**\n         * Round number to the next smallest integer\n         *\n         * @method FLOOR\n         * @example\n         * FLOOR 2.3 // 2\n         * FLOOR 2.7 // 2\n         * FLOOR -5.05 // -6\n         * @see {@link CEIL}, {@link ROUND}, {@link TRUNC}\n         * @returns {number}\n         */\n        FLOOR: Math.floor,\n        /**\n         * Checks if an expression is NULL\n         *\n         * @method ISNULL\n         * @example\n         * ISNULL 0 // false\n         * ISNULL NULL // true*\n         * @returns {boolean}\n         */\n        ISNULL(a) {\n            return a === null;\n        },\n        /**\n         * Returns the integer part of a number by removing any fractional digits\n         * @method TRUNC\n         * @returns {number}\n         * @see {@link CEIL}, {@link ROUND}, {@link FLOOR}\n         * @example\n         * TRUNC 5.05 // 5\n         * TRUNC -5.05 // -5\n         */\n        TRUNC: Math.trunc || trunc,\n        '-': neg,\n        '+': Number,\n        /**\n         * Returns `e^x` where `e` is the Euler's number\n         * @method EXP\n         * @returns {number}\n         * @example\n         * LOG(EXP(4)) // 4\n         */\n        EXP: Math.exp,\n        /**\n         * Negates a boolean expression\n         * @method NOT\n         * @returns {boolean}\n         * @example\n         * NOT 3 > 5 // true\n         */\n        NOT: not,\n        /**\n         * Returns the length of an array or strng\n         * @method LENGTH\n         * @returns {number}\n         * @example\n         * LENGTH 'hello' // 5\n         * LENGTH [1,2,3] // 3\n         */\n        LENGTH: stringOrArrayLength,\n        /**\n         * Alias for {@link NOT}\n         * @method !\n         * @alias NOT\n         */\n        '!': not,\n        /**\n         * returns either a positive or negative +/- 1, indicating the sign of a number passed\n         * @example\n         * SIGN 35 // 1\n         * SIGN -6 // -1\n         * @returns {number}\n         */\n        SIGN: Math.sign || sign,\n        /**\n         * Converts a value to a string\n         * @method TEXT\n         * @returns {string}\n         * @example\n         * TEXT 12.5 // '12.5'\n         * @see {@link NUMBER}\n         */\n        TEXT(value) {\n            if (isDate(value)) {\n                return value.toISOString();\n            }\n            return String(value);\n        },\n        /**\n         * Converts a value to a number\n         * @method NUMBER\n         * @returns {number}\n         * @example\n         * NUMBER '12.5' // 12.5\n         * @see {@link TEXT}\n         */\n        NUMBER: Number\n    };\n\n    this.binaryOps = {\n        '+': add,\n        '-': sub,\n        '*': mul,\n        '/': div,\n        '%': mod,\n        '^': Math.pow,\n        '==': equal,\n        '!=': notEqual,\n        '>': greaterThan,\n        '<': lessThan,\n        '>=': greaterThanEqual,\n        '<=': lessThanEqual,\n        and: andOperator,\n        or: orOperator,\n        in: (needle, haystack) =>\n            Array.isArray(haystack) ? haystack.includes(needle) : String(haystack).includes(needle),\n        '[': arrayIndex\n    };\n\n    this.ternaryOps = {\n        '?': condition\n    };\n\n    const isDate = d => d instanceof Date && !isNaN(d);\n    const asDate = d => {\n        if (isDate(d)) return d;\n        try {\n            const n = new Date(d);\n            if (isDate(n)) return n;\n            return null;\n        } catch (e) {\n            return null;\n        }\n    };\n    function filterNumbers(array) {\n        return (arguments.length === 1 && Array.isArray(array) ? array : Array.from(arguments))\n            .slice(0)\n            .filter(v => !isNaN(v) && Number.isFinite(v));\n    }\n    // fallback regular expressions for browsers without\n    // support for the unicode flag //u\n    let PROPER_REGEX = /\\w*/g;\n    let TITLE_REGEX = /\\w\\S*/g;\n    const ESCAPE_REGEX = /[\\\\^$*+?.()|[\\]{}]/g;\n\n    try {\n        PROPER_REGEX = new RegExp('\\\\p{L}*', 'ug');\n        TITLE_REGEX = new RegExp('[\\\\p{L}\\\\p{N}]\\\\S*', 'ug');\n    } catch (e) {\n        // continue regardless of error\n    }\n\n    this.functions = {\n        // ---- LOGICAL FUNCTIONS ----\n\n        /**\n         * if-else statement\n         *\n         * @method IF\n         *\n         * @param boolean condition\n         * @param expr  yay   expression to use if condition is `TRUE`\n         * @param expr  nay   expression to use if condition is `FALSE`\n         * @example IF(temp_diff > 0, \"hotter\", \"colder\")\n         * // note: you can also use the shorthand ? notaton:\n         * temp_diff > 0 ? \"hotter\" : \"colder\"\n         */\n        IF: condition,\n\n        // ---- MATH FUNCTIONS ----\n\n        /**\n         * Generate a random real number between 0 and 1 when used without arguments, or between 0 and the passed number\n         *\n         * @method RANDOM\n         * @param number  max value (optional)\n         * @example RANDOM()\n         * RANDOM(100)\n         * @returns {number}\n         */\n        RANDOM: random,\n        // fac: factorial,\n\n        /**\n         * Returns the smallest of the given numbers\n         *\n         * @method MIN\n         * @example\n         * MIN(1,2,3) // 1\n         * MIN([1,2,3]) // 1\n         * @returns {number}\n         */\n        MIN() {\n            const v = filterNumbers.apply(this, arguments);\n            return min(v);\n        },\n\n        /**\n         * Returns the largest of the given numbers\n         *\n         * @method MAX\n         * @example\n         * MAX(1,2,3) // 3\n         * MAX([1,2,3]) // 3\n         * @returns {number}\n         */\n        MAX() {\n            return max(filterNumbers.apply(this, arguments));\n        },\n\n        /**\n         * Returns the sum of the given numbers\n         *\n         * @method SUM\n         *\n         * @example\n         * SUM(1,2,3) // 6\n         * SUM([1,2,3]) // 6\n         * @returns {number}\n         */\n        SUM() {\n            return sum(filterNumbers.apply(this, arguments));\n        },\n\n        /**\n         * Returns the average of the given numbers\n         *\n         * @method MEAN\n         * @example\n         * MEAN(1,2,4,8) // 3.75\n         * MEAN([1,2,4,8]) // 3.75\n         * @returns {number}\n         * @see {@link MEDIAN}\n         */\n        MEAN() {\n            const v = filterNumbers.apply(this, arguments);\n            return sum(v) / v.length;\n        },\n\n        /**\n         * Returns the median of the given numbers\n         *\n         * @method MEDIAN\n         * @example\n         * MEDIAN(1,2,4,8) // 3\n         * MEDIAN([1,2,4,8]) // 3\n         * @returns {number}\n         * @see {@link MEAN}\n         */\n        MEDIAN() {\n            const v = filterNumbers.apply(this, arguments).sort((a, b) => a - b);\n            const i = Math.floor(v.length / 2);\n            return v.length % 2 === 1 ? v[i] : (v[i - 1] + v[i]) * 0.5;\n        },\n\n        /**\n         * Computes the power of a number\n         *\n         * @method POW\n         * @example\n         * POW(2,3) // 8\n         * POW(4,2) // 16\n         * @returns {number}\n         */\n        POW: Math.pow,\n\n        /**\n         * Computes the atan2, see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/atan2\n         *\n         * @method ATAN2\n         * @example\n         * ATAN2(2,3) // 8\n         * ATAN2(4,2) // 16\n         * @returns {number}\n         */\n        ATAN2: Math.atan2,\n\n        /**\n         * Rounds a number (to a given number of decimals)\n         *\n         * @method ROUND\n         * @example\n         * ROUND(3.1415) // 3\n         * ROUND(3.1415, 2) // 3.14\n         * @returns {number}\n         * @see {@link FLOOR}, {@link CEIL}\n         */\n        ROUND: roundTo,\n\n        // ---- STRING FUNCTIONS ----\n        /**\n         * Concatenate two or more strings\n         *\n         * @method CONCAT\n         * @example\n         * CONCAT(\"<b>\", name, \"</b>\")\n         * @returns {string}\n         */\n        CONCAT() {\n            return Array.from(arguments).join('');\n        },\n        /**\n         * Removes whitespaces at the beginning and end of a string\n         *\n         * @method TRIM\n         * @returns {string}\n         * @example\n         * TRIM(\"  hello \") // 'hello'\n         */\n        TRIM: trim,\n        /**\n         * Extracts a part of a string\n         *\n         * @method SUBSTR\n         * @param string the input string\n         * @param number start\n         * @param number end\n         * @example\n         * SUBSTR(\"This is fine\", 5,7) // 'is'\n         * @returns {string}\n         */\n        SUBSTR(s, start, end) {\n            return s.substr(start, end);\n        },\n        /**\n         * Replaces all occurances of a string with another string\n         *\n         * @method REPLACE\n         * @param string the input string\n         * @param string the search string\n         * @param string the replacement string or function\n         * @example\n         * REPLACE(\"hello name\", \"name\", \"world\") // 'hello world'\n         * REPLACE(\"hello name\", \"name\", TITLE) // 'hello Name'\n         * REPLACE(\"hello name\", \"name\", f(d) = CONCAT(\"<b>\", d, \"</b>\")) // 'hello <b>name</b>'\n         * @returns {string}\n         * @see {@link REPLACE_REGEX}\n         */\n        REPLACE(str, search, replace) {\n            return str.replace(\n                new RegExp(String(search).replace(ESCAPE_REGEX, '\\\\$&'), 'g'),\n                replace\n            );\n        },\n        /**\n         * Like REPLACE, but interprets the search string as regular expression\n         *\n         * @method REPLACE_REGEX\n         * @param string the input string\n         * @param string the search regex\n         * @param string the replacement string or function\n         * @example\n         * REPLACE_REGEX(\"hello 123 world\", \"[0-9]\", '#') // 'hello ### world'\n         * REPLACE_REGEX(\"hello 123 world\", \"[0-9]+\", '#') // 'hello # world'\n         * @returns {string}\n         * @see {@link REPLACE}\n         */\n        REPLACE_REGEX(str, regex, replace) {\n            return str.replace(new RegExp(regex, 'g'), replace);\n        },\n        /**\n         * Splits a string into an array\n         *\n         * @method SPLIT\n         * @param string the input string\n         * @param string the separator string\n         * @example\n         * SPLIT(\"hello world\", \" \") // ['hello', 'world']\n         * @returns {array}\n         */\n        SPLIT(str, sep) {\n            return String(str).split(sep);\n        },\n        /**\n         * Lowercase a string\n         *\n         * @method LOWER\n         * @example\n         * LOWER(\"Hello World\") // 'hello world'\n         * @returns {string}\n         * @see {@link UPPER}, {@link TITLE}, {@link PROPER}\n         */\n        LOWER(str) {\n            return String(str).toLowerCase();\n        },\n        /**\n         * Uppercase a string\n         *\n         * @method UPPER\n         * @example\n         * UPPER(\"Hello World\") // 'HELLO WORLD'\n         * @returns {string}\n         * @see {@link LOWER}, {@link TITLE}, {@link PROPER}\n         */\n        UPPER(str) {\n            return String(str).toUpperCase();\n        },\n        /**\n         * Convert a string to title-case. Like `TITLE`, but better for names.\n         *\n         * @method PROPER\n         * @example\n         * PROPER(\"hello WoRLd\") // 'Hello World'\n         * PROPER(\"2-WAY STREET\") // '2-Way Street'\n         * PROPER(\"baron lloyd-webber\") // 'Baron Lloyd-Webber'\n         * @returns {string}\n         * @see {@link TITLE}\n         */\n        PROPER(str) {\n            return String(str).replace(\n                PROPER_REGEX,\n                txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n            );\n        },\n        /**\n         * Convert a string to title-case. Like `PROPER`, but better for headlines.\n         *\n         * @method TITLE\n         * @example\n         * TITLE(\"hello WoRLd\") // 'Hello World'\n         * TITLE(\"2-WAY STREET\") // '2-way Street'\n         * TITLE(\"baron lloyd-webber\") // 'Baron Lloyd-webber'\n         * @returns {string}\n         * @see {@link PROPER}\n         */\n        TITLE(str) {\n            return String(str).replace(\n                TITLE_REGEX,\n                txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n            );\n        },\n\n        // ARRAY FUNCTIONS\n        /**\n         * Sort an array ascending or descending\n         *\n         * @method SORT\n         * @param array the input array\n         * @param boolean true for ascending, false for descending\n         * @param string key to sort by (optional)\n         * @example\n         * SORT([5,2,4,1]) // [1,2,4,5]\n         * SORT(countries, false, 'population')\n         * @returns {array}\n         */\n        SORT(arr, asc = true, key = null) {\n            if (RESTRICT_MEMBER_ACCESS.has(key)) throw new Error('Invalid key');\n            if (!Array.isArray(arr)) {\n                throw new Error('First argument to SORT is not an array');\n            }\n            return arr.slice(0).sort((a, b) => {\n                a = typeof key === 'string' ? a[key] : typeof key === 'function' ? key(a) : a;\n                b = typeof key === 'string' ? b[key] : typeof key === 'function' ? key(b) : b;\n                return (a > b ? 1 : a < b ? -1 : 0) * (asc ? 1 : -1);\n            });\n        },\n        /**\n         * Slice an array (extract a part of array)\n         *\n         * @method SLICE\n         * @param array the input array\n         * @param number start index\n         * @param number end index\n         * @example\n         * SLICE([1,2,3,4,5], 1) // [2,3,4,5]\n         * SLICE([1,2,3,4,5], 1,3) // [2,3]\n         * SLICE([1,2,3,4,5], -2) // [4,5]\n         * @returns {array}\n         */\n        SLICE(arr, start, end) {\n            if (!Array.isArray(arr)) {\n                throw new Error('First argument to SLICE is not an array');\n            }\n            return arr.slice(start, end);\n        },\n        /**\n         * Join array elements into a string\n         *\n         * @method JOIN\n         * @param array the input array\n         * @param string the glue string\n         * @param string alternative glue string for the last join (optional)\n         * @returns {string}\n         * @example\n         * JOIN(['USA', 'Canada', 'Mexico'], ', ') // 'USA, Canada, Mexico'\n         * JOIN(['USA', 'Canada', 'Mexico'], ', ', ', and ') // 'USA, Canada, and Mexico'\n         */\n        JOIN(arr, sep, sepLast = null) {\n            if (!Array.isArray(arr)) {\n                throw new Error('First argument to JOIN is not an array');\n            }\n            return sepLast\n                ? [arr.slice(0, arr.length - 1).join(sep), arr[arr.length - 1]].join(sepLast)\n                : arr.join(sep);\n        },\n        /**\n         * Evaluate function for each element in an array\n         *\n         * @method MAP\n         * @param function the function to call\n         * @param array the input array\n         * @returns {array}\n         * @example\n         * MAP(UPPER, ['USA', 'Canada', 'Mexico']) // ['USA', 'CANADA', 'MEXICO']\n         * MAP(f(s) = SUBSTR(s, 0, 2), ['USA', 'Canada', 'Mexico']) // ['US', 'Ca', 'Me']\n         */\n        MAP: arrayMap,\n        /**\n         * Fold array into a single value, good for more complex aggregations\n         *\n         * @method FOLD\n         * @param function the function to call\n         * @param * intial value\n         * @param array the input array\n         * @returns {}\n         * @example\n         * FOLD(f(a,b) = a * b, 1, [1,2,3,4,5]) // 120\n         */\n        FOLD: arrayFold,\n        /**\n         * Filter elements of an array using a function\n         *\n         * @method FILTER\n         * @param function the function to test elements\n         * @param array the input array\n         * @returns {array}\n         * @example\n         * FILTER(f(x) = x > 2, [1, 2, 0, 3, -1, 5]) // [3, 5]\n         * FILTER(f(x) = x >= 2, [1, 2, 0, 3, -1, 5]) // [2, 3, 5]\n         */\n        FILTER: arrayFilter,\n        /**\n         * Extract values from an array of objects\n         *\n         * @method PLUCK\n         * @param array the input array of objects\n         * @param string the key\n         * @returns {array}\n         * @example\n         * PLUCK(countries, 'name')\n         * PLUCK(countries, 'population')\n         */\n        PLUCK(arr, key) {\n            if (RESTRICT_MEMBER_ACCESS.has(key)) throw new Error('Invalid key');\n            if (!Array.isArray(arr)) throw new Error('First argument to PLUCK is not an array');\n            return arr.map(item =>\n                Object.prototype.hasOwnProperty.call(item, key) ? item[key] : null\n            );\n        },\n        /**\n         * Returns the index of the first occurance of an element in an array (or -1 if it's not in the array)\n         *\n         * @method INDEXOF\n         * @param array the input array of objects\n         * @param * target\n         * @returns {number}\n         * @example\n         * INDEXOF(['a', 'b', 'c'], 'b') // 1\n         * INDEXOF(['a', 'b', 'c'], 'd') // -1\n         * @see {@link FIND}\n         */\n        INDEXOF(arr, target) {\n            if (!Array.isArray(arr)) arr = String(arr);\n            return arr.indexOf(target);\n        },\n        /**\n         * Returns the first element of an array for which the test function returns true\n         *\n         * @method FIND\n         * @param array the input array of objects\n         * @param function test function\n         * @returns {*}\n         * @example\n         * FIND([1,2,3,4,5,6], f(d) = d > 3) // 4\n         * @see {@link INDEXOF}\n         */\n        FIND(arr, test) {\n            if (!Array.isArray(arr)) throw new Error('First argument to FIND is not an array');\n            if (typeof test !== 'function')\n                throw new Error('Second argument to FIND is not a function');\n            const k = arr.length;\n            for (let i = 0; i < k; i++) {\n                if (test(arr[i])) return arr[i];\n            }\n            return null;\n        },\n        /**\n         * Creates an array of numbers\n         *\n         * @method RANGE\n         * @param number start value\n         * @param number stop value (not included)\n         * @param number step to increment each\n         * @returns {array}\n         * @example\n         * RANGE(0,5) // [0,1,2,3,4]\n         * RANGE(0,5,2) // [0,2,4]\n         * RANGE(0,1,0.25) // [0,0.25,0.5,0.75]\n         */\n        RANGE(start, stop, step) {\n            // borrowed from https://github.com/jashkenas/underscore/blob/master/modules/range.js\n            if (stop == null) {\n                stop = start || 0;\n                start = 0;\n            }\n            if (!step) {\n                step = stop < start ? -1 : 1;\n            }\n\n            var length = Math.max(Math.ceil((stop - start) / step), 0);\n            var range = Array(length);\n\n            for (var idx = 0; idx < length; idx++, start += step) {\n                range[idx] = start;\n            }\n\n            return range;\n        },\n        /**\n         * Returns TRUE if the test function is TRUE for every element in the arrat\n         *\n         * @method EVERY\n         * @param array the input array\n         * @param function the test function\n         * @returns {boolean}\n         * @see {@link SOME}\n         * @example\n         * EVERY([5,8,4,7,3], f(d) = d > 2) // true\n         * EVERY([5,8,4,7,3], f(d) = d < 6) // false\n         */\n        EVERY(arr, test) {\n            if (!Array.isArray(arr)) throw new Error('First argument to EVERY is not an array');\n            if (typeof test !== 'function')\n                throw new Error('Second argument to EVERY is not a function');\n            const k = arr.length;\n            let every = true;\n            for (let i = 0; i < k; i++) {\n                every = every && test(arr[i]);\n                if (!every) return false;\n            }\n            return true;\n        },\n        /**\n         * Returns `true` if the test function is `true` for at least one element in the arrat\n         *\n         * @method SOME\n         * @param array the input array\n         * @param function the test function\n         * @returns {boolean}\n         * @see {@link EVERY}\n         * @example\n         * SOME([5,8,4,7,3], f(d) = d > 2) // true\n         * SOME([5,8,4,7,3], f(d) = d < 6) // true\n         * SOME([5,8,4,7,3], f(d) = d < 2) // false\n         */\n        SOME(arr, test) {\n            if (!Array.isArray(arr)) throw new Error('First argument to SOME is not an array');\n            if (typeof test !== 'function')\n                throw new Error('Second argument to SOME is not a function');\n            const k = arr.length;\n            let some = false;\n            for (let i = 0; i < k; i++) {\n                some = some || test(arr[i]);\n                if (some) return true;\n            }\n            return false;\n        },\n\n        // ---- DATE FUNCTIONS ----\n        /**\n         * Constructs a new date object\n         *\n         * @method DATE\n         * @param number year\n         * @param number month\n         * @param number day\n         * @returns {date}\n         * @example\n         * DATE(2020, 1, 1) // January 1st, 2020\n         */\n        DATE() {\n            if (arguments.length > 1) {\n                // \"correct\" month argument (1=january, etc)\n                arguments[1] = arguments[1] - 1;\n            }\n            return new Date(...arguments);\n        },\n        /**\n         * Returns the year of a date\n         *\n         * @method YEAR\n         * @param date the input date\n         * @returns {number}\n         * @see {@link MONTH},{@link DAY}\n         * @example\n         * YEAR(DATE(2020, 1, 1)) // 2020\n         */\n        YEAR(d) {\n            d = asDate(d);\n            return d ? d.getFullYear() : null;\n        },\n        /**\n         * Returns the month of a date (1-12)\n         *\n         * @method MONTH\n         * @param date the input date\n         * @returns {number}\n         * @see {@link YEAR},{@link DAY}\n         * @example\n         * MONTH(DATE(2020, 6, 1)) // 6\n         */\n        MONTH(d) {\n            d = asDate(d);\n            return d ? d.getMonth() + 1 : null;\n        },\n        /**\n         * Returns the day of a date (1-31)\n         *\n         * @method DAY\n         * @param date the input date\n         * @returns {number}\n         * @see {@link WEEKDAY},{@link YEAR},{@link MONTH},{@link DAY}\n         * @example\n         * DAY(DATE(2020, 6, 1)) // 1\n         */\n        DAY(d) {\n            d = asDate(d);\n            return d ? d.getDate() : null;\n        },\n        /**\n         * Returns the weekday of a date (0 = Sunday, 1 = Monday, etc)\n         *\n         * @method WEEKDAY\n         * @param date the input date\n         * @returns {number}\n         * @see {@link DAY}\n         * @example\n         * WEEKDAY(DATE(2020, 5, 10)) // 0\n         */\n        WEEKDAY(d) {\n            d = asDate(d);\n            return d ? d.getDay() : null;\n        },\n        /**\n         * Returns the hours of a date (0-23)\n         *\n         * @method HOURS\n         * @param date the input date\n         * @returns {number}\n         * @see {@link DAY},{@link MINUTES},{@link SECONDS}\n         * @example\n         * HOURS(time)\n         */\n        HOURS(d) {\n            d = asDate(d);\n            return d ? d.getHours() : null;\n        },\n        /**\n         * Returns the minutes of a date (0-59)\n         *\n         * @method MINUTES\n         * @param date the input date\n         * @returns {number}\n         * @see {@link HOURS},{@link SECONDS}\n         * @example\n         * MINUTES(time)\n         */\n        MINUTES(d) {\n            d = asDate(d);\n            return d ? d.getMinutes() : null;\n        },\n        /**\n         * Returns the seconds of a date (0-59)\n         *\n         * @method SECONDS\n         * @param date the input date\n         * @returns {number}\n         * @see {@link HOURS},{@link MINUTES}\n         * @example\n         * SECONDS(time)\n         */\n        SECONDS(d) {\n            d = asDate(d);\n            return d ? d.getSeconds() : null;\n        },\n        /**\n         * Computes the  number of days between two dates\n         *\n         * @method DATEDIFF\n         * @param date the input date 1\n         * @param date the input date to substract from\n         * @returns {number}\n         * @see {@link TIMEDIFF}\n         * @example\n         * DATEDIFF(date1, date2)\n         */\n        DATEDIFF(d1, d2) {\n            d1 = asDate(d1);\n            d2 = asDate(d2);\n            return d1 && d2 ? (d2.getTime() - d1.getTime()) / 864e5 : null;\n        },\n        /**\n         * Computes the  number of seconds between two dates\n         *\n         * @method TIMEDIFF\n         * @param date the input date 1\n         * @param date the input date to substract from\n         * @returns {number}\n         * @see {@link DATEDIFF}\n         * @example\n         * TIMEDIFF(date1, date2)\n         */\n        TIMEDIFF(d1, d2) {\n            d1 = asDate(d1);\n            d2 = asDate(d2);\n            return d1 && d2 ? (d2.getTime() - d1.getTime()) / 1000 : null;\n        }\n    };\n\n    this.unaryOps.LOWER = this.functions.LOWER;\n    this.unaryOps.UPPER = this.functions.UPPER;\n    this.unaryOps.PROPER = this.functions.PROPER;\n    this.unaryOps.TITLE = this.functions.TITLE;\n    this.unaryOps.TRIM = this.functions.TRIM;\n    this.unaryOps.YEAR = this.functions.YEAR;\n    this.unaryOps.MONTH = this.functions.MONTH;\n    this.unaryOps.DAY = this.functions.DAY;\n    this.unaryOps.WEEKDAY = this.functions.WEEKDAY;\n    this.unaryOps.HOURS = this.functions.HOURS;\n    this.unaryOps.MINUTES = this.functions.MINUTES;\n    this.unaryOps.SECONDS = this.functions.SECONDS;\n\n    this.consts = {\n        E: Math.E,\n        PI: Math.PI,\n        TRUE: true,\n        FALSE: false,\n        NA: Number.NaN,\n        NULL: Number.NaN\n    };\n}\n\nParser.prototype.parse = function (expr) {\n    var instr = [];\n    var parserState = new ParserState(this, new TokenStream(this, expr), {\n        allowMemberAccess: true,\n        restrictMemberAccess: RESTRICT_MEMBER_ACCESS\n    });\n\n    parserState.parseExpression(instr);\n    parserState.expect(TEOF, 'EOF');\n\n    return new Expression(instr, this);\n};\n\nParser.prototype.evaluate = function (expr, variables) {\n    return this.parse(expr).evaluate(variables);\n};\n\nvar sharedParser = new Parser();\n\nParser.parse = function (expr) {\n    return sharedParser.parse(expr);\n};\n\nParser.evaluate = function (expr, variables) {\n    return sharedParser.parse(expr).evaluate(variables);\n};\n\nParser.keywords = [\n    'ABS',\n    'ACOS',\n    'ACOSH',\n    'and',\n    'ASIN',\n    'ASINH',\n    'ATAN',\n    'ATAN2',\n    'ATANH',\n    'CBRT',\n    'CEIL',\n    'CONCAT',\n    'COS',\n    'COSH',\n    'DATEDIFF',\n    'DAY',\n    'E',\n    'EVERY',\n    'EXP',\n    'EXPM1',\n    'FIND',\n    'FLOOR',\n    'HOURS',\n    'IF',\n    'in',\n    'INDEXOF',\n    'ISNULL',\n    'JOIN',\n    'LENGTH',\n    'LN',\n    'LOG',\n    'LOG10',\n    'LOG1P',\n    'LOG2',\n    'LOWER',\n    'MAP',\n    'MAX',\n    'MEAN',\n    'MEDIAN',\n    'MIN',\n    'MINUTES',\n    'MONTH',\n    'NOT',\n    'NOT',\n    'or',\n    'PI',\n    'PLUCK',\n    'POW',\n    'PROPER',\n    'RANDOM',\n    'RANGE',\n    'REPLACE',\n    'REPLACE_REGEX',\n    'ROUND',\n    'SECONDS',\n    'SIGN',\n    'SIN',\n    'SINH',\n    'SLICE',\n    'SOME',\n    'SORT',\n    'SPLIT',\n    'SQRT',\n    'SUBSTR',\n    'SUM',\n    'TAN',\n    'TANH',\n    'TIMEDIFF',\n    'TITLE',\n    'TRIM',\n    'TRUNC',\n    'UPPER',\n    'WEEKDAY',\n    'YEAR'\n];\n\nvar optionNameMap = {\n    '+': 'add',\n    '-': 'subtract',\n    '*': 'multiply',\n    '/': 'divide',\n    '%': 'remainder',\n    '^': 'power',\n    '!': 'factorial',\n    '<': 'comparison',\n    '>': 'comparison',\n    '<=': 'comparison',\n    '>=': 'comparison',\n    '==': 'comparison',\n    '!=': 'comparison',\n    '||': 'concatenate',\n    AND: 'logical',\n    OR: 'logical',\n    NOT: 'logical',\n    IN: 'logical',\n    '?': 'conditional',\n    ':': 'conditional',\n    '=': 'assignment',\n    '[': 'array',\n    '()=': 'fndef'\n};\n\nfunction getOptionName(op) {\n    return Object.prototype.hasOwnProperty.call(optionNameMap, op) ? optionNameMap[op] : op;\n}\n\nParser.prototype.isOperatorEnabled = function (op) {\n    var optionName = getOptionName(op);\n    var operators = this.options.operators || {};\n\n    return !(optionName in operators) || !!operators[optionName];\n};\n","import { Parser } from './parser.mjs';\n\nconst TPL_REG = /\\{\\{(.+?)\\}\\}/g;\n/*\n * returns a function that evaluates template strings\n * using `expr-eval`.\n */\nexport default function templateParser(template) {\n    const expressions = {};\n    const parser = new Parser();\n    template.replace(TPL_REG, (s, formula) => {\n        formula = formula.trim();\n        if (formula && !expressions[formula]) {\n            expressions[formula] = parser.parse(formula);\n        }\n    });\n    return context =>\n        template.replace(TPL_REG, (s, formula) => {\n            const result = formula.trim() ? expressions[formula.trim()].evaluate(context) : '';\n            return result === null ? '' : result;\n        });\n}\n","import purifyHtml from '@datawrapper/shared/purifyHtml.js';\nimport templateParser from './templateParser.mjs';\n\nconst ALLOWED_TAGS = [\n    'a',\n    'abbr',\n    'address',\n    'b',\n    'big',\n    'blockquote',\n    'br',\n    'caption',\n    'cite',\n    'code',\n    'col',\n    'colgroup',\n    'dd',\n    'del',\n    'details',\n    'dfn',\n    'div',\n    'dl',\n    'dt',\n    'em',\n    'figure',\n    'font',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'hr',\n    'hgroup',\n    'i',\n    'img',\n    'ins',\n    'kbd',\n    'li',\n    'mark',\n    'meter',\n    'ol',\n    'p',\n    'pre',\n    'q',\n    's',\n    'small',\n    'span',\n    'strike',\n    'strong',\n    'sub',\n    'summary',\n    'sup',\n    'table',\n    'tbody',\n    'td',\n    'th',\n    'thead',\n    'tfoot',\n    'tr',\n    'tt',\n    'u',\n    'ul',\n    'wbr'\n];\n/*\n * returns a function that evaluates template strings\n * using `expr-eval`.\n */\nexport default function htmlTemplate(template) {\n    const evaluateTemplate = templateParser(template);\n    return context => purifyHtml(evaluateTemplate(context), ALLOWED_TAGS);\n}\n","import purifyHtml from '@datawrapper/shared/purifyHtml.js';\nimport column from '../dataset/column.mjs';\nimport significantDimension from '@datawrapper/shared/significantDimension.js';\nimport tailLength from '@datawrapper/shared/tailLength.js';\nimport round from '@datawrapper/shared/round.js';\nimport smartRound from '@datawrapper/shared/smartRound.js';\nimport equalish from '@datawrapper/shared/equalish.js';\nimport clone from '@datawrapper/shared/clone.js';\nimport get from '@datawrapper/shared/get.js';\nimport delimited from './delimited.mjs';\nimport { outerHeight, getNonChartHeight } from './getNonChartHeight.mjs';\nimport htmlTemplate from './htmlTemplate.mjs';\nimport templateParser from './templateParser.mjs';\nimport { isFunction, isString, range } from 'underscore';\n\nexport {\n    purifyHtml,\n    significantDimension,\n    tailLength,\n    round,\n    smartRound,\n    equalish,\n    clone,\n    delimited,\n    getNonChartHeight,\n    outerHeight,\n    htmlTemplate,\n    templateParser\n};\n\n/*\n * returns the min/max range of a set of columns\n */\nexport function minMax(columns) {\n    const minmax = [Number.MAX_VALUE, -Number.MAX_VALUE];\n    columns.forEach(column => {\n        minmax[0] = Math.min(minmax[0], column.range()[0]);\n        minmax[1] = Math.max(minmax[1], column.range()[1]);\n    });\n    return minmax;\n}\n\n/*\n * returns a new column with all column names as values\n */\nexport function columnNameColumn(columns) {\n    const names = columns.map(col => col.title());\n    return column('', names);\n}\n\nexport function name(obj) {\n    return isFunction(obj.name) ? obj.name() : isString(obj.name) ? obj.name : obj;\n}\n\nexport function getMaxChartHeight() {\n    if (window.innerHeight === 0) return 0;\n    var maxH = window.innerHeight - getNonChartHeight();\n    return Math.max(maxH, 0);\n}\n\nexport function nearest(array, value) {\n    let minDiff = Number.MAX_VALUE;\n    let minDiffVal;\n    array.forEach(v => {\n        var d = Math.abs(v - value);\n        if (d < minDiff) {\n            minDiff = d;\n            minDiffVal = v;\n        }\n    });\n    return minDiffVal;\n}\n\nexport function metricSuffix(locale) {\n    switch (locale.substr(0, 2).toLowerCase()) {\n        case 'de':\n            return { 3: ' Tsd.', 6: ' Mio.', 9: ' Mrd.', 12: ' Bio.' };\n        case 'fr':\n            return { 3: ' mil', 6: ' Mio', 9: ' Mrd' };\n        case 'es':\n            return { 3: ' Mil', 6: ' millón' };\n        default:\n            return { 3: 'k', 6: 'M', 9: ' bil' };\n    }\n}\n\nexport function magnitudeRange(minmax) {\n    return (\n        Math.round(Math.log(minmax[1]) / Math.LN10) - Math.round(Math.log(minmax[0]) / Math.LN10)\n    );\n}\n\nexport function logTicks(min, max) {\n    const e0 = Math.round(Math.log(min) / Math.LN10);\n    const e1 = Math.round(Math.log(max) / Math.LN10);\n    return range(e0, e1).map(exp => Math.pow(10, exp));\n}\n\nexport function height(element) {\n    const h = parseFloat(getComputedStyle(element, null).height.replace('px', ''));\n    return isNaN(h) ? 0 : h;\n}\n\nexport function width(element) {\n    const w = parseFloat(getComputedStyle(element, null).width.replace('px', ''));\n    return isNaN(w) ? 0 : w;\n}\n\nexport function addClass(element, className) {\n    if (element) element.classList.add(className);\n}\n\nexport function removeClass(element, className) {\n    if (element) element.classList.remove(className);\n}\n\nexport function remove(elementOrSelector) {\n    const element =\n        typeof elementOrSelector === 'string'\n            ? document.querySelector(elementOrSelector)\n            : elementOrSelector;\n    if (element) element.parentElement.removeChild(element);\n}\n\nexport function domReady(callback) {\n    if (/complete|interactive|loaded/.test(document.readyState)) {\n        // dom is already loaded\n        callback();\n    } else {\n        // wait for dom to load\n        window.addEventListener('DOMContentLoaded', () => {\n            callback();\n        });\n    }\n}\n\nexport function getHeightMode({ themeData, visualizationMeta, renderFlags }) {\n    const D3_PIES_IDS = ['d3-pies', 'd3-donuts', 'd3-multiple-pies', 'd3-multiple-donuts'];\n    const themeFitChart =\n        get(themeData, 'vis.d3-pies.fitchart', false) && D3_PIES_IDS.includes(visualizationMeta.id);\n    return themeFitChart || renderFlags.fitchart || visualizationMeta.height !== 'fixed'\n        ? 'fit'\n        : 'fixed';\n}\n","\"use strict\";\nmodule.exports = function equalish(a, b) {\n    return Math.abs(a - b) < 1e-6;\n};\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","\"use strict\";\nconst isArray = (value) => Array.isArray(value);\nmodule.exports = function set(object, key, value) {\n    const keys = isArray(key) ? [...key] : key.split('.');\n    if (!keys.length) {\n        throw new Error('Key should not be empty');\n    }\n    // `pop` will never return undefined, because `key` does not contain `undefined` values,\n    // and we've just checked that `key` has elements.\n    // However, TS does not narrow `key` type from \"array of non-empty values\" to\n    // to \"array of non-empty values with at least one value\",\n    // so `pop` always has `undefined` in its return type definition.\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const lastKey = keys.pop();\n    // It is impractical to try to replicate signature types in implementation\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let pt = object;\n    // resolve property until the parent dict\n    keys.forEach(key => {\n        if (pt[key] === undefined || pt[key] === null) {\n            pt[key] = {};\n        }\n        pt = pt[key];\n    });\n    // check if new value is set\n    if (JSON.stringify(pt[lastKey]) !== JSON.stringify(value)) {\n        pt[lastKey] = value;\n        return true;\n    }\n    return false;\n};\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst isEqual_js_1 = __importDefault(require(\"lodash/isEqual.js\"));\nconst isPlainObject_js_1 = __importDefault(require(\"lodash/isPlainObject.js\"));\n/**\n * @param {object} source - the source object\n * @param {object} target - the target object\n * @param {Set|null} allowedKeys - Set\n *\n * @returns {object} - the merge patch\n */\n// It is impractical to try to replicate signature types in implementation\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction diffKeys(source, target, allowedKeys = null) {\n    const patch = {};\n    Object.keys(target).forEach(targetKey => {\n        if (!(0, isEqual_js_1.default)(target[targetKey], source[targetKey])) {\n            if (allowedKeys && !allowedKeys.has(targetKey))\n                return;\n            if ((0, isPlainObject_js_1.default)(target[targetKey]) && (0, isPlainObject_js_1.default)(source[targetKey])) {\n                // iterate one level down\n                const childPatch = diffKeys(source[targetKey], target[targetKey]);\n                if (Object.keys(childPatch).length) {\n                    patch[targetKey] = childPatch;\n                }\n            }\n            else {\n                patch[targetKey] = target[targetKey];\n            }\n        }\n    });\n    // also look for removed keys and set them null\n    Object.keys(source).forEach(sourceKey => {\n        if (allowedKeys && !allowedKeys.has(sourceKey))\n            return;\n        if (target[sourceKey] === undefined) {\n            patch[sourceKey] = null;\n        }\n    });\n    return patch;\n}\nmodule.exports = function objectDiff(source, target, allowedKeys = null) {\n    return diffKeys(source, target, allowedKeys ? new Set(allowedKeys) : null);\n};\n","\"use strict\";\nmodule.exports = function postEvent(chartId, isIframe) {\n    const host = isIframe ? window.parent : window;\n    return function (event, data) {\n        if (host && host.postMessage) {\n            const evt = {\n                source: 'datawrapper',\n                chartId,\n                type: event,\n                data\n            };\n            host.postMessage(evt, '*');\n        }\n    };\n};\n","/*\n * simple event callbacks, mimicking the $.Callbacks API\n */\n\nexport default function () {\n    const list = [];\n\n    return {\n        fire() {\n            for (var i = list.length - 1; i >= 0; i--) {\n                list[i].apply(this, arguments);\n            }\n        },\n        add(callback) {\n            list.push(callback);\n        }\n    };\n}\n","import { each } from 'underscore';\n\nexport default function applyChanges(chart, dataset) {\n    const changes = chart.getMetadata('data.changes', []);\n    const transpose = chart.getMetadata('data.transpose', false);\n    const numRows = dataset.numRows();\n    changes.forEach(change => {\n        const row = !transpose ? change.row : change.column;\n        const column = !transpose ? change.column : change.row;\n        if (dataset.hasColumn(column)) {\n            change.ignored = false;\n            if (row === 0) {\n                if (change.previous && change.previous !== 'undefined') {\n                    const oldTitle = dataset.column(column).title();\n                    if (oldTitle !== change.previous) {\n                        // change.ignored = true; // TODO Something is buggy about this, let's revisit later.\n                        return;\n                    }\n                }\n                dataset.column(column).title(change.value);\n            } else if (row <= numRows) {\n                if (change.previous && change.previous !== 'undefined') {\n                    const curValue = dataset.column(column).raw(row - 1);\n                    if (curValue !== change.previous) {\n                        // change.ignored = true; // TODO Something is buggy about this, let's revisit later.\n                        return;\n                    }\n                }\n                dataset.column(column).raw(row - 1, change.value);\n            }\n        }\n    });\n\n    // overwrite column types\n    var columnFormats = chart.getMetadata('data.column-format', {});\n    each(columnFormats, (columnFormat, key) => {\n        if (columnFormat.type && dataset.hasColumn(key) && columnFormat.type !== 'auto') {\n            dataset.column(key).type(columnFormat.type);\n        }\n        if (columnFormat['input-format'] && dataset.hasColumn(key)) {\n            dataset.column(key).type(true).format(columnFormat['input-format']);\n        }\n    });\n    return dataset;\n}\n","\"use strict\";\nmodule.exports = function columnNameToVariable(name) {\n    return name\n        .toString()\n        .toLowerCase()\n        .replace(/\\s+/g, '_') // Replace spaces with _\n        .replace(/[^\\w-]+/g, '') // Remove all non-word chars\n        .replace(/-/g, '_') // Replace multiple - with single -\n        .replace(/__+/g, '_') // Replace multiple - with single -\n        .replace(/^_+/, '') // Trim - from start of text\n        .replace(/_+$/, '') // Trim - from end of text\n        .replace(/^(\\d)/, '_$1') // If first char is a number, prefix with _\n        .replace(/^(and|or|in|true|false)$/, '$1_'); // avoid reserved keywords\n};\n","import { each, isBoolean, isDate, isNumber, isNull } from 'underscore';\nimport column from './column.mjs';\nimport columnNameToVariable from '@datawrapper/shared/columnNameToVariable.js';\nimport applyChanges from './applyChanges.mjs';\nimport { Parser } from '../utils/parser.mjs';\n\nfunction toISOStringSafe(date) {\n    try {\n        return date.toISOString();\n    } catch (e) {\n        if (e instanceof RangeError) {\n            return date.toString();\n        }\n        throw e;\n    }\n}\n\nexport default function addComputedColumns(chart, dataset) {\n    let virtualColumns = chart.getMetadata('describe.computed-columns', {});\n    if (!Array.isArray(virtualColumns)) {\n        // convert to array\n        virtualColumns = Object.keys(virtualColumns).reduce((acc, cur) => {\n            acc.push({\n                name: cur,\n                formula: virtualColumns[cur]\n            });\n            return acc;\n        }, []);\n    }\n\n    const data = applyChanges(chart, dataset).list();\n    const columnNameToVar = {};\n    const colAggregates = {};\n    const parser = new Parser();\n\n    dataset.eachColumn(function (col) {\n        if (col.isComputed) return;\n        columnNameToVar[col.name()] = columnNameToVariable(col.name());\n        if (col.type() === 'number') {\n            const [min, max] = col.range();\n            colAggregates[col.name()] = {\n                min,\n                max,\n                sum: col.sum(),\n                mean: col.mean(),\n                median: col.median()\n            };\n        } else if (col.type() === 'date') {\n            const [min, max] = col.range();\n            colAggregates[col.name()] = { min, max };\n        }\n    });\n\n    // initialize meta objects for each computed column\n    const vNamesToVar = virtualColumns.reduce((acc, val, idx) => {\n        const key = columnNameToVariable(val.name);\n        return acc.set(key, {\n            name: val.name,\n            index: dataset.numColumns() + idx,\n            key,\n            formula: val.formula,\n            visited: 0,\n            computed: false,\n            dependsOn: []\n        });\n    }, new Map());\n\n    // parse formulas to detect cross-column dependencies\n    virtualColumns.forEach(({ formula, name }) => {\n        const col = vNamesToVar.get(columnNameToVariable(name));\n        if (formula.trim()) {\n            try {\n                col.expr = parser.parse(formula.trim());\n                col.expr.variables().forEach(v => {\n                    v = v.split('__')[0];\n                    if (vNamesToVar.has(v)) {\n                        col.dependsOn.push(vNamesToVar.get(v));\n                    }\n                });\n            } catch (e) {\n                col.error = e.message;\n                // console.error('err', e);\n            }\n        } else {\n            col.expr = {\n                evaluate() {\n                    return '';\n                },\n                variables() {\n                    return [];\n                }\n            };\n        }\n    });\n\n    // sort computed columns in order of their dependency graph\n    // circular dependencies are not allowed and will result in\n    // errors\n    const computedColumns = [];\n\n    let curIter = 0;\n    while (vNamesToVar.size) {\n        if (curIter > 1000) break;\n        vNamesToVar.forEach(col => {\n            curIter++;\n            try {\n                visit(col, []);\n            } catch (e) {\n                if (e.message.startsWith('circular-dependency')) {\n                    col.error = e.message;\n                    // col.computed = true;\n                    vNamesToVar.delete(col.key);\n                    computedColumns.push(col);\n                } else {\n                    throw e;\n                }\n            }\n        });\n    }\n\n    // compute in order of dependencies\n    computedColumns.forEach(col => {\n        if (col.error) {\n            const errorCol = column(\n                col.name,\n                data.map(() => 'null')\n            );\n            errorCol.isComputed = true;\n            errorCol.formula = col.formula;\n            errorCol.errors = [\n                {\n                    message: col.error,\n                    row: 'all'\n                }\n            ];\n            col.column = errorCol;\n        } else {\n            col.column = addComputedColumn(col);\n        }\n    });\n\n    // add to dataset in original order\n    computedColumns.sort((a, b) => a.index - b.index).forEach(({ column }) => dataset.add(column));\n\n    return dataset;\n\n    function visit(col, stack) {\n        if (col.computed) return;\n        stack.push(col.name);\n        for (let i = 0; i < stack.length - 2; i++) {\n            if (col.name === stack[i]) {\n                throw new Error('circular-dependency: ' + stack.join(' ‣ '));\n            }\n        }\n        col.curIter = curIter;\n        let allComputed = true;\n        for (let i = 0; i < col.dependsOn.length; i++) {\n            allComputed = allComputed && col.dependsOn[i].computed;\n        }\n        if (allComputed) {\n            // no dependencies, we can compute this now\n            col.computed = true;\n            computedColumns.push(col);\n            vNamesToVar.delete(col.key);\n        } else {\n            if (stack.length < 10) {\n                col.dependsOn.forEach(c => {\n                    visit(c, stack.slice(0));\n                });\n            }\n        }\n    }\n\n    function addComputedColumn({ formula, name, expr, error, index }) {\n        const errors = [];\n        if (error) {\n            errors.push({ row: 'all', message: error });\n        }\n\n        // create a map of changes for this column\n        const changes = chart\n            .getMetadata('data.changes', [])\n            .filter(change => change.column === index && change.row > 0)\n            .reduce((acc, cur) => {\n                const old = acc.get(cur.row - 1);\n                if (old) {\n                    // overwrite previous value\n                    cur.previous = old.previous;\n                }\n                acc.set(cur.row - 1, cur);\n                return acc;\n            }, new Map());\n\n        const values = data.map(function (row, index) {\n            const context = {\n                ROWNUMBER: index\n            };\n            each(row, function (val, key) {\n                if (!columnNameToVar[key]) return;\n                context[columnNameToVar[key]] = val;\n                if (colAggregates[key]) {\n                    Object.keys(colAggregates[key]).forEach(aggr => {\n                        context[`${columnNameToVar[key]}__${aggr}`] = colAggregates[key][aggr];\n                    });\n                }\n            });\n            let value;\n            try {\n                value = expr.evaluate(context);\n                if (typeof value === 'function') {\n                    errors.push({ message: 'formula returned function', row: index });\n                    value = null;\n                }\n            } catch (error) {\n                errors.push({ message: error.message, row: index });\n                value = null;\n            }\n            if (changes.has(index)) {\n                const change = changes.get(index);\n                if (change.previous === undefined || change.previous == value) {\n                    // we have a change and it's still valid\n                    return change.value;\n                }\n            }\n            return value;\n        });\n        columnNameToVar[name] = columnNameToVariable(name);\n        // apply values to rows so they can be used in formulas\n        values.forEach((val, i) => {\n            data[i][name] = val;\n        });\n        var virtualColumn = column(\n            name,\n            values.map(function (v) {\n                if (isBoolean(v)) return v ? 'yes' : 'no';\n                if (isDate(v)) return toISOStringSafe(v);\n                if (isNumber(v)) return String(v);\n                if (isNull(v)) return null;\n                return String(v);\n            })\n        );\n        // aggregate values\n        if (virtualColumn.type() === 'number') {\n            const [min, max] = virtualColumn.range();\n            colAggregates[name] = {\n                min,\n                max,\n                sum: virtualColumn.sum(),\n                mean: virtualColumn.mean(),\n                median: virtualColumn.median()\n            };\n        } else if (virtualColumn.type() === 'date') {\n            const [min, max] = virtualColumn.range();\n            colAggregates[name] = { min, max };\n        }\n        virtualColumn.isComputed = true;\n        virtualColumn.errors = errors;\n        virtualColumn.formula = formula;\n        return virtualColumn;\n    }\n}\n","import { isArray, isUndefined, indexOf } from 'underscore';\nimport isPlainObject from 'lodash/isPlainObject.js';\nimport get from '@datawrapper/shared/get.js';\nimport set from '@datawrapper/shared/set.js';\nimport objectDiff from '@datawrapper/shared/objectDiff.js';\nimport PostEvent from '@datawrapper/shared/postEvent.js';\n\nimport json from './dataset/json.mjs';\nimport delimited from './dataset/delimited.mjs';\nimport { name, width, getMaxChartHeight } from './utils/index.mjs';\nimport events from './utils/events.mjs';\nimport reorderColumns from './dataset/reorderColumns.mjs';\nimport applyChanges from './dataset/applyChanges.mjs';\nimport addComputedColumns from './dataset/addComputedColumns.mjs';\nimport { outerHeight, getNonChartHeight } from './utils/getNonChartHeight.mjs';\nimport { getHeightMode } from './utils/index.mjs';\n\n/**\n * Chart\n * @module dw.chart\n */\nexport default function (attributes) {\n    // private methods and properties\n    let dataset;\n    let theme;\n    let metricPrefix;\n    let locale;\n    let flags = {};\n    let visualization;\n\n    const changeCallbacks = events();\n    const datasetChangeCallbacks = events();\n\n    const _assets = {};\n    let _translations = {};\n    let _ds;\n\n    // public interface\n    const chart = {\n        /**\n         * @function chart.get\n         */\n        get(key, _default) {\n            return get(attributes, key, _default);\n        },\n\n        getMetadata(key, _default) {\n            return get(attributes, `metadata.${key}`, _default);\n        },\n\n        set(key, value) {\n            if (set(attributes, key, value)) {\n                changeCallbacks.fire(chart, key, value);\n            }\n            return this;\n        },\n\n        setMetadata(key, value) {\n            return chart.set(`metadata.${key}`, value);\n        },\n\n        getElementBounds(element) {\n            const rootBounds = visualization.target().getBoundingClientRect();\n            const elementBounds = element.getBoundingClientRect();\n\n            return {\n                top: elementBounds.top - rootBounds.top,\n                right: elementBounds.right - rootBounds.left,\n                bottom: elementBounds.bottom - rootBounds.top,\n                left: elementBounds.left - rootBounds.left,\n                width: elementBounds.width,\n                height: elementBounds.height\n            };\n        },\n\n        // loads the dataset and returns a deferred\n        load(csv, externalData) {\n            const dsopts = {\n                chartId: chart.get('id'),\n                firstRowIsHeader: chart.get('metadata.data.horizontal-header', true),\n                transpose: chart.get('metadata.data.transpose', false)\n            };\n\n            if ((csv || csv === '') && !externalData) dsopts.csv = csv;\n            else dsopts.url = externalData || 'data.csv';\n\n            const datasource = chart.get('metadata.data.json') ? json(dsopts) : delimited(dsopts);\n\n            return datasource.dataset().then(ds => {\n                this.dataset(ds);\n                datasetChangeCallbacks.fire(chart, ds);\n                return ds;\n            });\n        },\n\n        /**\n         * Getter/setter for the dw.dataset class. This method\n         * can also be used to \"reset\" the current dataset by passing\n         * true as argument. This will re-apply changes, column sorting\n         * and computed columns to the existing dataset.\n         *\n         * @param {dw.dataset|true}\n         *\n         * @returns dataset\n         */\n        dataset(ds) {\n            if (arguments.length) {\n                if (ds !== true) _ds = ds;\n                dataset = chart.get('metadata.data.json')\n                    ? _ds\n                    : reorderColumns(chart, applyChanges(chart, addComputedColumns(chart, _ds)));\n                if (ds === true) return dataset;\n                return chart;\n            }\n            return dataset;\n        },\n\n        /**\n         * This helper method is used by the chart editor to inject\n         * a dataset which has computed columns, changes and column\n         * ordering already applied.\n         *\n         * @param {dw.dataset} ds\n         */\n        setDataset(ds) {\n            dataset = ds;\n        },\n\n        // sets or gets the theme\n        theme(_theme) {\n            if (arguments.length) {\n                theme = _theme;\n                return chart;\n            }\n            return theme || {};\n        },\n\n        // sets or gets the visualization\n        vis(_vis) {\n            if (arguments.length) {\n                visualization = _vis;\n                visualization.chart(chart);\n                return chart;\n            }\n            return visualization;\n        },\n\n        // returns true if the user has set any highlights\n        hasHighlight() {\n            var hl = chart.get('metadata.visualize.highlighted-series');\n            return isArray(hl) && hl.length > 0;\n        },\n\n        isHighlighted(obj) {\n            if (isUndefined(obj) === undefined) return false;\n            const hl = chart.get('metadata.visualize.highlighted-series');\n            const objName = name(obj);\n            return !isArray(hl) || hl.length === 0 || indexOf(hl, objName) >= 0;\n        },\n\n        locale(_locale, callback) {\n            if (arguments.length) {\n                locale = _locale.replace('_', '-');\n                if (!locale) locale = 'en-US';\n                if (typeof callback === 'function') callback();\n                return chart;\n            }\n            return locale;\n        },\n\n        metricPrefix(_metricPrefix) {\n            if (arguments.length) {\n                metricPrefix = _metricPrefix;\n                return chart;\n            }\n            return metricPrefix;\n        },\n\n        inEditor: () => {\n            try {\n                return (\n                    window.parent !== window &&\n                    window.parent.dw &&\n                    window.parent.dw.backend &&\n                    window.parent.dw.backend.hooks\n                );\n            } catch (ex) {\n                return false;\n            }\n        },\n\n        createPostEvent() {\n            const chartId = chart.get('id');\n            const { isIframe } = flags;\n            return PostEvent(chartId, isIframe);\n        },\n\n        // sets or gets the flags\n        flags(_flags) {\n            if (arguments.length) {\n                flags = _flags;\n                return chart;\n            }\n            return flags;\n        },\n\n        /**\n         * renders the chart into the provided container element\n         *\n         * @param {DOMElement} outerContainer\n         * @returns {Promise} resolves when the chart is rendered\n         */\n        render(outerContainer) {\n            if (!visualization || !theme || !dataset) {\n                throw new Error('cannot render the chart!');\n            }\n\n            const isIframe = flags.isIframe;\n            const container = chart.vis().target();\n\n            visualization.chart(chart);\n            visualization.container(container);\n            visualization.outerContainer(outerContainer);\n\n            // compute chart dimensions\n            const w = width(container);\n            const h = isIframe\n                ? getMaxChartHeight()\n                : chart.getMetadata('publish.chart-height') || 400;\n\n            const heightMode = chart.getHeightMode();\n\n            // only render if iframe has valid dimensions\n            if (heightMode === 'fixed' ? w <= 0 : w <= 0 || h <= 0) {\n                console.warn('Aborting chart rendering due to invalid container dimensions');\n\n                window.clearInterval(this.__resizingInterval);\n                this.__resizingInterval = setInterval(postMessage, 1000);\n                postMessage();\n\n                return;\n            }\n\n            // set chart mode class\n            outerContainer.classList.toggle('vis-height-fit', heightMode === 'fit');\n            outerContainer.classList.toggle('vis-height-fixed', heightMode === 'fixed');\n\n            // set mobile class\n            const breakpoint = get(theme, `vis.${chart.type}.mobileBreakpoint`, 450);\n            outerContainer.classList.toggle('is-mobile', outerContainer.clientWidth <= breakpoint);\n\n            // really needed?\n            outerContainer.classList.add('vis-' + visualization.id);\n\n            visualization.reset(container);\n            visualization.size(w, h);\n            visualization.__beforeRender();\n\n            visualization.render(container);\n\n            if (isIframe) {\n                window.clearInterval(this.__resizingInterval);\n                this.__resizingInterval = setInterval(postMessage, chart.inEditor() ? 25 : 1000);\n                postMessage();\n            }\n\n            function postMessage() {\n                if (flags && flags.fitchart) return;\n\n                let desiredHeight;\n\n                if (chart.getHeightMode() === 'fit') {\n                    if (chart.inEditor() || !chart.getMetadata('publish.chart-height')) return;\n                    desiredHeight = getNonChartHeight() + chart.getMetadata('publish.chart-height');\n                } else {\n                    desiredHeight = outerHeight(document.querySelector('html'), true);\n                }\n\n                if (Math.round(window.innerHeight) === Math.round(desiredHeight)) {\n                    // no need to request a height change here\n                    return;\n                }\n\n                const { previewId } = flags;\n\n                // datawrapper responsive embed\n                window.parent.postMessage(\n                    {\n                        'datawrapper-height': {\n                            [chart.get().id]: desiredHeight,\n                            ...(previewId ? { previewId } : {})\n                        }\n                    },\n                    '*'\n                );\n\n                // Google AMP\n                window.parent.postMessage(\n                    {\n                        sentinel: 'amp',\n                        type: 'embed-size',\n                        height: desiredHeight\n                    },\n                    '*'\n                );\n\n                // Medium\n                window.parent.postMessage(\n                    JSON.stringify({\n                        src: location.href,\n                        context: 'iframe.resize',\n                        height: desiredHeight\n                    }),\n                    '*'\n                );\n\n                if (typeof window.datawrapperHeightCallback === 'function') {\n                    window.datawrapperHeightCallback(desiredHeight);\n                }\n            }\n            return visualization.rendered();\n        },\n\n        getHeightMode() {\n            return getHeightMode({\n                themeData: visualization.theme(),\n                visualizationMeta: visualization.meta,\n                renderFlags: flags\n            });\n        },\n\n        attributes(attrs) {\n            if (arguments.length) {\n                const diff = objectDiff(attributes, attrs);\n                attributes = attrs;\n                // fire onChange callbacks\n                getNestedObjectKeys(diff).forEach(key => {\n                    changeCallbacks.fire(chart, key, get(attrs, key));\n                });\n                return chart;\n            }\n            return attributes;\n        },\n\n        // Legacy event-handling (TODO: Remove/replace?):\n        onChange: changeCallbacks.add,\n        onDatasetChange: datasetChangeCallbacks.add,\n\n        dataCellChanged(column, row) {\n            const changes = chart.get('metadata.data.changes', []);\n            const transpose = chart.get('metadata.data.transpose', false);\n            let changed = false;\n\n            const order = dataset.columnOrder();\n            column = order[column];\n\n            changes.forEach(change => {\n                let r = 'row';\n                let c = 'column';\n                if (transpose) {\n                    r = 'column';\n                    c = 'row';\n                }\n                if (column === change[c] && change[r] === row) {\n                    changed = true;\n                }\n            });\n            return changed;\n        },\n\n        asset(id, asset) {\n            if (arguments.length === 1) {\n                return _assets[id];\n            }\n\n            _assets[id] = asset;\n        },\n\n        translations(values) {\n            if (arguments.length === 0) {\n                return _translations;\n            }\n\n            _translations = values;\n\n            return this;\n        },\n\n        translate(key) {\n            if (!_translations[key]) return 'MISSING: ' + key;\n            var translation = _translations[key];\n\n            if (typeof translation === 'string' && arguments.length > 1) {\n                // replace $0, $1 etc with remaining arguments\n                translation = translation.replace(/\\$(\\d)/g, (m, i) => {\n                    i = 1 + Number(i);\n                    if (arguments[i] === undefined) return m;\n                    return arguments[i];\n                });\n            }\n\n            return translation;\n        }\n    };\n\n    if (attributes.language) {\n        chart.locale(attributes.language);\n    }\n\n    return chart;\n}\n\n/**\n * returns list of keys defined in an object\n *\n * @param {object} object\n * @returns {string[]} list of keys\n */\nfunction getNestedObjectKeys(object) {\n    const candidates = Object.keys(object);\n    const keys = [];\n    candidates.forEach(key => {\n        if (!isPlainObject(object[key])) keys.push(key);\n        else {\n            getNestedObjectKeys(object[key]).forEach(subkey => {\n                keys.push(`${key}.${subkey}`);\n            });\n        }\n    });\n    return keys;\n}\n","/*! @preserve\n * numeral.js\n * version : 2.0.6\n * author : Adam Draper\n * license : MIT\n * http://adamwdraper.github.com/Numeral-js/\n */\n\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        global.numeral = factory();\n    }\n}(this, function () {\n    /************************************\n        Variables\n    ************************************/\n\n    var numeral,\n        _,\n        VERSION = '2.0.6',\n        formats = {},\n        locales = {},\n        defaults = {\n            currentLocale: 'en',\n            zeroFormat: null,\n            nullFormat: null,\n            defaultFormat: '0,0',\n            scalePercentBy100: true\n        },\n        options = {\n            currentLocale: defaults.currentLocale,\n            zeroFormat: defaults.zeroFormat,\n            nullFormat: defaults.nullFormat,\n            defaultFormat: defaults.defaultFormat,\n            scalePercentBy100: defaults.scalePercentBy100\n        };\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n    // Numeral prototype object\n    function Numeral(input, number) {\n        this._input = input;\n\n        this._value = number;\n    }\n\n    numeral = function(input) {\n        var value,\n            kind,\n            unformatFunction,\n            regexp;\n\n        if (numeral.isNumeral(input)) {\n            value = input.value();\n        } else if (input === 0 || typeof input === 'undefined') {\n            value = 0;\n        } else if (input === null || _.isNaN(input)) {\n            value = null;\n        } else if (typeof input === 'string') {\n            if (options.zeroFormat && input === options.zeroFormat) {\n                value = 0;\n            } else if (options.nullFormat && input === options.nullFormat || !input.replace(/[^0-9]+/g, '').length) {\n                value = null;\n            } else {\n                for (kind in formats) {\n                    regexp = typeof formats[kind].regexps.unformat === 'function' ? formats[kind].regexps.unformat() : formats[kind].regexps.unformat;\n\n                    if (regexp && input.match(regexp)) {\n                        unformatFunction = formats[kind].unformat;\n\n                        break;\n                    }\n                }\n\n                unformatFunction = unformatFunction || numeral._.stringToNumber;\n\n                value = unformatFunction(input);\n            }\n        } else {\n            value = Number(input)|| null;\n        }\n\n        return new Numeral(input, value);\n    };\n\n    // version number\n    numeral.version = VERSION;\n\n    // compare numeral object\n    numeral.isNumeral = function(obj) {\n        return obj instanceof Numeral;\n    };\n\n    // helper functions\n    numeral._ = _ = {\n        // formats numbers separators, decimals places, signs, abbreviations\n        numberToFormat: function(value, format, roundingFunction) {\n            var locale = locales[numeral.options.currentLocale],\n                negP = false,\n                optDec = false,\n                leadingCount = 0,\n                abbr = '',\n                trillion = 1000000000000,\n                billion = 1000000000,\n                million = 1000000,\n                thousand = 1000,\n                decimal = '',\n                neg = false,\n                abbrForce, // force abbreviation\n                abs,\n                min,\n                max,\n                power,\n                int,\n                precision,\n                signed,\n                thousands,\n                output;\n\n            // make sure we never format a null value\n            value = value || 0;\n\n            abs = Math.abs(value);\n\n            // see if we should use parentheses for negative number or if we should prefix with a sign\n            // if both are present we default to parentheses\n            if (numeral._.includes(format, '(')) {\n                negP = true;\n                format = format.replace(/[\\(|\\)]/g, '');\n            } else if (numeral._.includes(format, '+') || numeral._.includes(format, '-')) {\n                signed = numeral._.includes(format, '+') ? format.indexOf('+') : value < 0 ? format.indexOf('-') : -1;\n                format = format.replace(/[\\+|\\-]/g, '');\n            }\n\n            // see if abbreviation is wanted\n            if (numeral._.includes(format, 'a')) {\n                abbrForce = format.match(/a(k|m|b|t)?/);\n\n                abbrForce = abbrForce ? abbrForce[1] : false;\n\n                // check for space before abbreviation\n                if (numeral._.includes(format, ' a')) {\n                    abbr = ' ';\n                }\n\n                format = format.replace(new RegExp(abbr + 'a[kmbt]?'), '');\n\n                if (abs >= trillion && !abbrForce || abbrForce === 't') {\n                    // trillion\n                    abbr += locale.abbreviations.trillion;\n                    value = value / trillion;\n                } else if (abs < trillion && abs >= billion && !abbrForce || abbrForce === 'b') {\n                    // billion\n                    abbr += locale.abbreviations.billion;\n                    value = value / billion;\n                } else if (abs < billion && abs >= million && !abbrForce || abbrForce === 'm') {\n                    // million\n                    abbr += locale.abbreviations.million;\n                    value = value / million;\n                } else if (abs < million && abs >= thousand && !abbrForce || abbrForce === 'k') {\n                    // thousand\n                    abbr += locale.abbreviations.thousand;\n                    value = value / thousand;\n                }\n            }\n\n            // check for optional decimals\n            if (numeral._.includes(format, '[.]')) {\n                optDec = true;\n                format = format.replace('[.]', '.');\n            }\n\n            // break number and format\n            int = value.toString().split('.')[0];\n            precision = format.split('.')[1];\n            thousands = format.indexOf(',');\n            leadingCount = (format.split('.')[0].split(',')[0].match(/0/g) || []).length;\n\n            if (precision) {\n                if (numeral._.includes(precision, '[')) {\n                    precision = precision.replace(']', '');\n                    precision = precision.split('[');\n                    decimal = numeral._.toFixed(value, (precision[0].length + precision[1].length), roundingFunction, precision[1].length);\n                } else {\n                    decimal = numeral._.toFixed(value, precision.length, roundingFunction);\n                }\n\n                int = decimal.split('.')[0];\n\n                if (numeral._.includes(decimal, '.')) {\n                    decimal = locale.delimiters.decimal + decimal.split('.')[1];\n                } else {\n                    decimal = '';\n                }\n\n                if (optDec && Number(decimal.slice(1)) === 0) {\n                    decimal = '';\n                }\n            } else {\n                int = numeral._.toFixed(value, 0, roundingFunction);\n            }\n\n            // check abbreviation again after rounding\n            if (abbr && !abbrForce && Number(int) >= 1000 && abbr !== locale.abbreviations.trillion) {\n                int = String(Number(int) / 1000);\n\n                switch (abbr) {\n                    case locale.abbreviations.thousand:\n                        abbr = locale.abbreviations.million;\n                        break;\n                    case locale.abbreviations.million:\n                        abbr = locale.abbreviations.billion;\n                        break;\n                    case locale.abbreviations.billion:\n                        abbr = locale.abbreviations.trillion;\n                        break;\n                }\n            }\n\n\n            // format number\n            if (numeral._.includes(int, '-')) {\n                int = int.slice(1);\n                neg = true;\n            }\n\n            if (int.length < leadingCount) {\n                for (var i = leadingCount - int.length; i > 0; i--) {\n                    int = '0' + int;\n                }\n            }\n\n            if (thousands > -1) {\n                int = int.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + locale.delimiters.thousands);\n            }\n\n            if (format.indexOf('.') === 0) {\n                int = '';\n            }\n\n            output = int + decimal + (abbr ? abbr : '');\n\n            if (negP) {\n                output = (negP && neg ? '(' : '') + output + (negP && neg ? ')' : '');\n            } else {\n                if (signed >= 0) {\n                    output = signed === 0 ? (neg ? '-' : '+') + output : output + (neg ? '-' : '+');\n                } else if (neg) {\n                    output = '-' + output;\n                }\n            }\n\n            return output;\n        },\n        // unformats numbers separators, decimals places, signs, abbreviations\n        stringToNumber: function(string) {\n            var locale = locales[options.currentLocale],\n                stringOriginal = string,\n                abbreviations = {\n                    thousand: 3,\n                    million: 6,\n                    billion: 9,\n                    trillion: 12\n                },\n                abbreviation,\n                value,\n                i,\n                regexp;\n\n            if (options.zeroFormat && string === options.zeroFormat) {\n                value = 0;\n            } else if (options.nullFormat && string === options.nullFormat || !string.replace(/[^0-9]+/g, '').length) {\n                value = null;\n            } else {\n                value = 1;\n\n                if (locale.delimiters.decimal !== '.') {\n                    string = string.replace(/\\./g, '').replace(locale.delimiters.decimal, '.');\n                }\n\n                for (abbreviation in abbreviations) {\n                    regexp = new RegExp('[^a-zA-Z]' + locale.abbreviations[abbreviation] + '(?:\\\\)|(\\\\' + locale.currency.symbol + ')?(?:\\\\))?)?$');\n\n                    if (stringOriginal.match(regexp)) {\n                        value *= Math.pow(10, abbreviations[abbreviation]);\n                        break;\n                    }\n                }\n\n                // check for negative number\n                value *= (string.split('-').length + Math.min(string.split('(').length - 1, string.split(')').length - 1)) % 2 ? 1 : -1;\n\n                // remove non numbers\n                string = string.replace(/[^0-9\\.]+/g, '');\n\n                value *= Number(string);\n            }\n\n            return value;\n        },\n        isNaN: function(value) {\n            return typeof value === 'number' && isNaN(value);\n        },\n        includes: function(string, search) {\n            return string.indexOf(search) !== -1;\n        },\n        insert: function(string, subString, start) {\n            return string.slice(0, start) + subString + string.slice(start);\n        },\n        reduce: function(array, callback /*, initialValue*/) {\n            if (this === null) {\n                throw new TypeError('Array.prototype.reduce called on null or undefined');\n            }\n\n            if (typeof callback !== 'function') {\n                throw new TypeError(callback + ' is not a function');\n            }\n\n            var t = Object(array),\n                len = t.length >>> 0,\n                k = 0,\n                value;\n\n            if (arguments.length === 3) {\n                value = arguments[2];\n            } else {\n                while (k < len && !(k in t)) {\n                    k++;\n                }\n\n                if (k >= len) {\n                    throw new TypeError('Reduce of empty array with no initial value');\n                }\n\n                value = t[k++];\n            }\n            for (; k < len; k++) {\n                if (k in t) {\n                    value = callback(value, t[k], k, t);\n                }\n            }\n            return value;\n        },\n        /**\n         * Computes the multiplier necessary to make x >= 1,\n         * effectively eliminating miscalculations caused by\n         * finite precision.\n         */\n        multiplier: function (x) {\n            var parts = x.toString().split('.');\n\n            return parts.length < 2 ? 1 : Math.pow(10, parts[1].length);\n        },\n        /**\n         * Given a variable number of arguments, returns the maximum\n         * multiplier that must be used to normalize an operation involving\n         * all of them.\n         */\n        correctionFactor: function () {\n            var args = Array.prototype.slice.call(arguments);\n\n            return args.reduce(function(accum, next) {\n                var mn = _.multiplier(next);\n                return accum > mn ? accum : mn;\n            }, 1);\n        },\n        /**\n         * Implementation of toFixed() that treats floats more like decimals\n         *\n         * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present\n         * problems for accounting- and finance-related software.\n         */\n        toFixed: function(value, maxDecimals, roundingFunction, optionals) {\n            var splitValue = value.toString().split('.'),\n                minDecimals = maxDecimals - (optionals || 0),\n                boundedPrecision,\n                optionalsRegExp,\n                power,\n                output;\n\n            // Use the smallest precision value possible to avoid errors from floating point representation\n            if (splitValue.length === 2) {\n              boundedPrecision = Math.min(Math.max(splitValue[1].length, minDecimals), maxDecimals);\n            } else {\n              boundedPrecision = minDecimals;\n            }\n\n            power = Math.pow(10, boundedPrecision);\n\n            // Multiply up by precision, round accurately, then divide and use native toFixed():\n            output = (roundingFunction(value + 'e+' + boundedPrecision) / power).toFixed(boundedPrecision);\n\n            if (optionals > maxDecimals - boundedPrecision) {\n                optionalsRegExp = new RegExp('\\\\.?0{1,' + (optionals - (maxDecimals - boundedPrecision)) + '}$');\n                output = output.replace(optionalsRegExp, '');\n            }\n\n            return output;\n        }\n    };\n\n    // avaliable options\n    numeral.options = options;\n\n    // avaliable formats\n    numeral.formats = formats;\n\n    // avaliable formats\n    numeral.locales = locales;\n\n    // This function sets the current locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    numeral.locale = function(key) {\n        if (key) {\n            options.currentLocale = key.toLowerCase();\n        }\n\n        return options.currentLocale;\n    };\n\n    // This function provides access to the loaded locale data.  If\n    // no arguments are passed in, it will simply return the current\n    // global locale object.\n    numeral.localeData = function(key) {\n        if (!key) {\n            return locales[options.currentLocale];\n        }\n\n        key = key.toLowerCase();\n\n        if (!locales[key]) {\n            throw new Error('Unknown locale : ' + key);\n        }\n\n        return locales[key];\n    };\n\n    numeral.reset = function() {\n        for (var property in defaults) {\n            options[property] = defaults[property];\n        }\n    };\n\n    numeral.zeroFormat = function(format) {\n        options.zeroFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.nullFormat = function (format) {\n        options.nullFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.defaultFormat = function(format) {\n        options.defaultFormat = typeof(format) === 'string' ? format : '0.0';\n    };\n\n    numeral.register = function(type, name, format) {\n        name = name.toLowerCase();\n\n        if (this[type + 's'][name]) {\n            throw new TypeError(name + ' ' + type + ' already registered.');\n        }\n\n        this[type + 's'][name] = format;\n\n        return format;\n    };\n\n\n    numeral.validate = function(val, culture) {\n        var _decimalSep,\n            _thousandSep,\n            _currSymbol,\n            _valArray,\n            _abbrObj,\n            _thousandRegEx,\n            localeData,\n            temp;\n\n        //coerce val to string\n        if (typeof val !== 'string') {\n            val += '';\n\n            if (console.warn) {\n                console.warn('Numeral.js: Value is not string. It has been co-erced to: ', val);\n            }\n        }\n\n        //trim whitespaces from either sides\n        val = val.trim();\n\n        //if val is just digits return true\n        if (!!val.match(/^\\d+$/)) {\n            return true;\n        }\n\n        //if val is empty return false\n        if (val === '') {\n            return false;\n        }\n\n        //get the decimal and thousands separator from numeral.localeData\n        try {\n            //check if the culture is understood by numeral. if not, default it to current locale\n            localeData = numeral.localeData(culture);\n        } catch (e) {\n            localeData = numeral.localeData(numeral.locale());\n        }\n\n        //setup the delimiters and currency symbol based on culture/locale\n        _currSymbol = localeData.currency.symbol;\n        _abbrObj = localeData.abbreviations;\n        _decimalSep = localeData.delimiters.decimal;\n        if (localeData.delimiters.thousands === '.') {\n            _thousandSep = '\\\\.';\n        } else {\n            _thousandSep = localeData.delimiters.thousands;\n        }\n\n        // validating currency symbol\n        temp = val.match(/^[^\\d]+/);\n        if (temp !== null) {\n            val = val.substr(1);\n            if (temp[0] !== _currSymbol) {\n                return false;\n            }\n        }\n\n        //validating abbreviation symbol\n        temp = val.match(/[^\\d]+$/);\n        if (temp !== null) {\n            val = val.slice(0, -1);\n            if (temp[0] !== _abbrObj.thousand && temp[0] !== _abbrObj.million && temp[0] !== _abbrObj.billion && temp[0] !== _abbrObj.trillion) {\n                return false;\n            }\n        }\n\n        _thousandRegEx = new RegExp(_thousandSep + '{2}');\n\n        if (!val.match(/[^\\d.,]/g)) {\n            _valArray = val.split(_decimalSep);\n            if (_valArray.length > 2) {\n                return false;\n            } else {\n                if (_valArray.length < 2) {\n                    return ( !! _valArray[0].match(/^\\d+.*\\d$/) && !_valArray[0].match(_thousandRegEx));\n                } else {\n                    if (_valArray[0].length === 1) {\n                        return ( !! _valArray[0].match(/^\\d+$/) && !_valArray[0].match(_thousandRegEx) && !! _valArray[1].match(/^\\d+$/));\n                    } else {\n                        return ( !! _valArray[0].match(/^\\d+.*\\d$/) && !_valArray[0].match(_thousandRegEx) && !! _valArray[1].match(/^\\d+$/));\n                    }\n                }\n            }\n        }\n\n        return false;\n    };\n\n\n    /************************************\n        Numeral Prototype\n    ************************************/\n\n    numeral.fn = Numeral.prototype = {\n        clone: function() {\n            return numeral(this);\n        },\n        format: function(inputString, roundingFunction) {\n            var value = this._value,\n                format = inputString || options.defaultFormat,\n                kind,\n                output,\n                formatFunction;\n\n            // make sure we have a roundingFunction\n            roundingFunction = roundingFunction || Math.round;\n\n            // format based on value\n            if (value === 0 && options.zeroFormat !== null) {\n                output = options.zeroFormat;\n            } else if (value === null && options.nullFormat !== null) {\n                output = options.nullFormat;\n            } else {\n                for (kind in formats) {\n                    if (format.match(formats[kind].regexps.format)) {\n                        formatFunction = formats[kind].format;\n\n                        break;\n                    }\n                }\n\n                formatFunction = formatFunction || numeral._.numberToFormat;\n\n                output = formatFunction(value, format, roundingFunction);\n            }\n\n            return output;\n        },\n        value: function() {\n            return this._value;\n        },\n        input: function() {\n            return this._input;\n        },\n        set: function(value) {\n            this._value = Number(value);\n\n            return this;\n        },\n        add: function(value) {\n            var corrFactor = _.correctionFactor.call(null, this._value, value);\n\n            function cback(accum, curr, currI, O) {\n                return accum + Math.round(corrFactor * curr);\n            }\n\n            this._value = _.reduce([this._value, value], cback, 0) / corrFactor;\n\n            return this;\n        },\n        subtract: function(value) {\n            var corrFactor = _.correctionFactor.call(null, this._value, value);\n\n            function cback(accum, curr, currI, O) {\n                return accum - Math.round(corrFactor * curr);\n            }\n\n            this._value = _.reduce([value], cback, Math.round(this._value * corrFactor)) / corrFactor;\n\n            return this;\n        },\n        multiply: function(value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = _.correctionFactor(accum, curr);\n                return Math.round(accum * corrFactor) * Math.round(curr * corrFactor) / Math.round(corrFactor * corrFactor);\n            }\n\n            this._value = _.reduce([this._value, value], cback, 1);\n\n            return this;\n        },\n        divide: function(value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = _.correctionFactor(accum, curr);\n                return Math.round(accum * corrFactor) / Math.round(curr * corrFactor);\n            }\n\n            this._value = _.reduce([this._value, value], cback);\n\n            return this;\n        },\n        difference: function(value) {\n            return Math.abs(numeral(this._value).subtract(value).value());\n        }\n    };\n\n    /************************************\n        Default Locale && Format\n    ************************************/\n\n    numeral.register('locale', 'en', {\n        delimiters: {\n            thousands: ',',\n            decimal: '.'\n        },\n        abbreviations: {\n            thousand: 'k',\n            million: 'm',\n            billion: 'b',\n            trillion: 't'\n        },\n        ordinal: function(number) {\n            var b = number % 10;\n            return (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n        },\n        currency: {\n            symbol: '$'\n        }\n    });\n\n    \n\n(function() {\n        numeral.register('format', 'bps', {\n            regexps: {\n                format: /(BPS)/,\n                unformat: /(BPS)/\n            },\n            format: function(value, format, roundingFunction) {\n                var space = numeral._.includes(format, ' BPS') ? ' ' : '',\n                    output;\n\n                value = value * 10000;\n\n                // check for space before BPS\n                format = format.replace(/\\s?BPS/, '');\n\n                output = numeral._.numberToFormat(value, format, roundingFunction);\n\n                if (numeral._.includes(output, ')')) {\n                    output = output.split('');\n\n                    output.splice(-1, 0, space + 'BPS');\n\n                    output = output.join('');\n                } else {\n                    output = output + space + 'BPS';\n                }\n\n                return output;\n            },\n            unformat: function(string) {\n                return +(numeral._.stringToNumber(string) * 0.0001).toFixed(15);\n            }\n        });\n})();\n\n\n(function() {\n        var decimal = {\n            base: 1000,\n            suffixes: ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n        },\n        binary = {\n            base: 1024,\n            suffixes: ['B', 'KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']\n        };\n\n    var allSuffixes =  decimal.suffixes.concat(binary.suffixes.filter(function (item) {\n            return decimal.suffixes.indexOf(item) < 0;\n        }));\n        var unformatRegex = allSuffixes.join('|');\n        // Allow support for BPS (http://www.investopedia.com/terms/b/basispoint.asp)\n        unformatRegex = '(' + unformatRegex.replace('B', 'B(?!PS)') + ')';\n\n    numeral.register('format', 'bytes', {\n        regexps: {\n            format: /([0\\s]i?b)/,\n            unformat: new RegExp(unformatRegex)\n        },\n        format: function(value, format, roundingFunction) {\n            var output,\n                bytes = numeral._.includes(format, 'ib') ? binary : decimal,\n                suffix = numeral._.includes(format, ' b') || numeral._.includes(format, ' ib') ? ' ' : '',\n                power,\n                min,\n                max;\n\n            // check for space before\n            format = format.replace(/\\s?i?b/, '');\n\n            for (power = 0; power <= bytes.suffixes.length; power++) {\n                min = Math.pow(bytes.base, power);\n                max = Math.pow(bytes.base, power + 1);\n\n                if (value === null || value === 0 || value >= min && value < max) {\n                    suffix += bytes.suffixes[power];\n\n                    if (min > 0) {\n                        value = value / min;\n                    }\n\n                    break;\n                }\n            }\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            return output + suffix;\n        },\n        unformat: function(string) {\n            var value = numeral._.stringToNumber(string),\n                power,\n                bytesMultiplier;\n\n            if (value) {\n                for (power = decimal.suffixes.length - 1; power >= 0; power--) {\n                    if (numeral._.includes(string, decimal.suffixes[power])) {\n                        bytesMultiplier = Math.pow(decimal.base, power);\n\n                        break;\n                    }\n\n                    if (numeral._.includes(string, binary.suffixes[power])) {\n                        bytesMultiplier = Math.pow(binary.base, power);\n\n                        break;\n                    }\n                }\n\n                value *= (bytesMultiplier || 1);\n            }\n\n            return value;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'currency', {\n        regexps: {\n            format: /(\\$)/\n        },\n        format: function(value, format, roundingFunction) {\n            var locale = numeral.locales[numeral.options.currentLocale],\n                symbols = {\n                    before: format.match(/^([\\+|\\-|\\(|\\s|\\$]*)/)[0],\n                    after: format.match(/([\\+|\\-|\\)|\\s|\\$]*)$/)[0]\n                },\n                output,\n                symbol,\n                i;\n\n            // strip format of spaces and $\n            format = format.replace(/\\s?\\$\\s?/, '');\n\n            // format the number\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            // update the before and after based on value\n            if (value >= 0) {\n                symbols.before = symbols.before.replace(/[\\-\\(]/, '');\n                symbols.after = symbols.after.replace(/[\\-\\)]/, '');\n            } else if (value < 0 && (!numeral._.includes(symbols.before, '-') && !numeral._.includes(symbols.before, '('))) {\n                symbols.before = '-' + symbols.before;\n            }\n\n            // loop through each before symbol\n            for (i = 0; i < symbols.before.length; i++) {\n                symbol = symbols.before[i];\n\n                switch (symbol) {\n                    case '$':\n                        output = numeral._.insert(output, locale.currency.symbol, i);\n                        break;\n                    case ' ':\n                        output = numeral._.insert(output, ' ', i + locale.currency.symbol.length - 1);\n                        break;\n                }\n            }\n\n            // loop through each after symbol\n            for (i = symbols.after.length - 1; i >= 0; i--) {\n                symbol = symbols.after[i];\n\n                switch (symbol) {\n                    case '$':\n                        output = i === symbols.after.length - 1 ? output + locale.currency.symbol : numeral._.insert(output, locale.currency.symbol, -(symbols.after.length - (1 + i)));\n                        break;\n                    case ' ':\n                        output = i === symbols.after.length - 1 ? output + ' ' : numeral._.insert(output, ' ', -(symbols.after.length - (1 + i) + locale.currency.symbol.length - 1));\n                        break;\n                }\n            }\n\n\n            return output;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'exponential', {\n        regexps: {\n            format: /(e\\+|e-)/,\n            unformat: /(e\\+|e-)/\n        },\n        format: function(value, format, roundingFunction) {\n            var output,\n                exponential = typeof value === 'number' && !numeral._.isNaN(value) ? value.toExponential() : '0e+0',\n                parts = exponential.split('e');\n\n            format = format.replace(/e[\\+|\\-]{1}0/, '');\n\n            output = numeral._.numberToFormat(Number(parts[0]), format, roundingFunction);\n\n            return output + 'e' + parts[1];\n        },\n        unformat: function(string) {\n            var parts = numeral._.includes(string, 'e+') ? string.split('e+') : string.split('e-'),\n                value = Number(parts[0]),\n                power = Number(parts[1]);\n\n            power = numeral._.includes(string, 'e-') ? power *= -1 : power;\n\n            function cback(accum, curr, currI, O) {\n                var corrFactor = numeral._.correctionFactor(accum, curr),\n                    num = (accum * corrFactor) * (curr * corrFactor) / (corrFactor * corrFactor);\n                return num;\n            }\n\n            return numeral._.reduce([value, Math.pow(10, power)], cback, 1);\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'ordinal', {\n        regexps: {\n            format: /(o)/\n        },\n        format: function(value, format, roundingFunction) {\n            var locale = numeral.locales[numeral.options.currentLocale],\n                output,\n                ordinal = numeral._.includes(format, ' o') ? ' ' : '';\n\n            // check for space before\n            format = format.replace(/\\s?o/, '');\n\n            ordinal += locale.ordinal(value);\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            return output + ordinal;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'percentage', {\n        regexps: {\n            format: /(%)/,\n            unformat: /(%)/\n        },\n        format: function(value, format, roundingFunction) {\n            var space = numeral._.includes(format, ' %') ? ' ' : '',\n                output;\n\n            if (numeral.options.scalePercentBy100) {\n                value = value * 100;\n            }\n\n            // check for space before %\n            format = format.replace(/\\s?\\%/, '');\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            if (numeral._.includes(output, ')')) {\n                output = output.split('');\n\n                output.splice(-1, 0, space + '%');\n\n                output = output.join('');\n            } else {\n                output = output + space + '%';\n            }\n\n            return output;\n        },\n        unformat: function(string) {\n            var number = numeral._.stringToNumber(string);\n            if (numeral.options.scalePercentBy100) {\n                return number * 0.01;\n            }\n            return number;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'time', {\n        regexps: {\n            format: /(:)/,\n            unformat: /(:)/\n        },\n        format: function(value, format, roundingFunction) {\n            var hours = Math.floor(value / 60 / 60),\n                minutes = Math.floor((value - (hours * 60 * 60)) / 60),\n                seconds = Math.round(value - (hours * 60 * 60) - (minutes * 60));\n\n            return hours + ':' + (minutes < 10 ? '0' + minutes : minutes) + ':' + (seconds < 10 ? '0' + seconds : seconds);\n        },\n        unformat: function(string) {\n            var timeArray = string.split(':'),\n                seconds = 0;\n\n            // turn hours and minutes into seconds and add them all up\n            if (timeArray.length === 3) {\n                // hours\n                seconds = seconds + (Number(timeArray[0]) * 60 * 60);\n                // minutes\n                seconds = seconds + (Number(timeArray[1]) * 60);\n                // seconds\n                seconds = seconds + Number(timeArray[2]);\n            } else if (timeArray.length === 2) {\n                // minutes\n                seconds = seconds + (Number(timeArray[0]) * 60);\n                // seconds\n                seconds = seconds + Number(timeArray[1]);\n            }\n            return Number(seconds);\n        }\n    });\n})();\n\nreturn numeral;\n}));\n","/**\n * chroma.js - JavaScript library for color conversions\n *\n * Copyright (c) 2011-2019, Gregor Aisch\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. The name Gregor Aisch may not be used to endorse or promote products\n * derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * -------------------------------------------------------\n *\n * chroma.js includes colors from colorbrewer2.org, which are released under\n * the following license:\n *\n * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,\n * and The Pennsylvania State University.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n * either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n *\n * ------------------------------------------------------\n *\n * Named colors are taken from X11 Color Names.\n * http://www.w3.org/TR/css3-color/#svg-color\n *\n * @preserve\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.chroma = factory());\n})(this, (function () { 'use strict';\n\n    var limit$2 = function (x, min, max) {\n        if ( min === void 0 ) min=0;\n        if ( max === void 0 ) max=1;\n\n        return x < min ? min : x > max ? max : x;\n    };\n\n    var limit$1 = limit$2;\n\n    var clip_rgb$3 = function (rgb) {\n        rgb._clipped = false;\n        rgb._unclipped = rgb.slice(0);\n        for (var i=0; i<=3; i++) {\n            if (i < 3) {\n                if (rgb[i] < 0 || rgb[i] > 255) { rgb._clipped = true; }\n                rgb[i] = limit$1(rgb[i], 0, 255);\n            } else if (i === 3) {\n                rgb[i] = limit$1(rgb[i], 0, 1);\n            }\n        }\n        return rgb;\n    };\n\n    // ported from jQuery's $.type\n    var classToType = {};\n    for (var i$1 = 0, list$1 = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i$1 < list$1.length; i$1 += 1) {\n        var name = list$1[i$1];\n\n        classToType[(\"[object \" + name + \"]\")] = name.toLowerCase();\n    }\n    var type$p = function(obj) {\n        return classToType[Object.prototype.toString.call(obj)] || \"object\";\n    };\n\n    var type$o = type$p;\n\n    var unpack$B = function (args, keyOrder) {\n        if ( keyOrder === void 0 ) keyOrder=null;\n\n    \t// if called with more than 3 arguments, we return the arguments\n        if (args.length >= 3) { return Array.prototype.slice.call(args); }\n        // with less than 3 args we check if first arg is object\n        // and use the keyOrder string to extract and sort properties\n    \tif (type$o(args[0]) == 'object' && keyOrder) {\n    \t\treturn keyOrder.split('')\n    \t\t\t.filter(function (k) { return args[0][k] !== undefined; })\n    \t\t\t.map(function (k) { return args[0][k]; });\n    \t}\n    \t// otherwise we just return the first argument\n    \t// (which we suppose is an array of args)\n        return args[0];\n    };\n\n    var type$n = type$p;\n\n    var last$4 = function (args) {\n        if (args.length < 2) { return null; }\n        var l = args.length-1;\n        if (type$n(args[l]) == 'string') { return args[l].toLowerCase(); }\n        return null;\n    };\n\n    var PI$2 = Math.PI;\n\n    var utils = {\n    \tclip_rgb: clip_rgb$3,\n    \tlimit: limit$2,\n    \ttype: type$p,\n    \tunpack: unpack$B,\n    \tlast: last$4,\n    \tPI: PI$2,\n    \tTWOPI: PI$2*2,\n    \tPITHIRD: PI$2/3,\n    \tDEG2RAD: PI$2 / 180,\n    \tRAD2DEG: 180 / PI$2\n    };\n\n    var input$h = {\n    \tformat: {},\n    \tautodetect: []\n    };\n\n    var last$3 = utils.last;\n    var clip_rgb$2 = utils.clip_rgb;\n    var type$m = utils.type;\n    var _input = input$h;\n\n    var Color$D = function Color() {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var me = this;\n        if (type$m(args[0]) === 'object' &&\n            args[0].constructor &&\n            args[0].constructor === this.constructor) {\n            // the argument is already a Color instance\n            return args[0];\n        }\n\n        // last argument could be the mode\n        var mode = last$3(args);\n        var autodetect = false;\n\n        if (!mode) {\n            autodetect = true;\n            if (!_input.sorted) {\n                _input.autodetect = _input.autodetect.sort(function (a,b) { return b.p - a.p; });\n                _input.sorted = true;\n            }\n            // auto-detect format\n            for (var i = 0, list = _input.autodetect; i < list.length; i += 1) {\n                var chk = list[i];\n\n                mode = chk.test.apply(chk, args);\n                if (mode) { break; }\n            }\n        }\n\n        if (_input.format[mode]) {\n            var rgb = _input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));\n            me._rgb = clip_rgb$2(rgb);\n        } else {\n            throw new Error('unknown format: '+args);\n        }\n\n        // add alpha channel\n        if (me._rgb.length === 3) { me._rgb.push(1); }\n    };\n\n    Color$D.prototype.toString = function toString () {\n        if (type$m(this.hex) == 'function') { return this.hex(); }\n        return (\"[\" + (this._rgb.join(',')) + \"]\");\n    };\n\n    var Color_1 = Color$D;\n\n    var chroma$k = function () {\n    \tvar args = [], len = arguments.length;\n    \twhile ( len-- ) args[ len ] = arguments[ len ];\n\n    \treturn new (Function.prototype.bind.apply( chroma$k.Color, [ null ].concat( args) ));\n    };\n\n    chroma$k.Color = Color_1;\n    chroma$k.version = '2.4.2';\n\n    var chroma_1 = chroma$k;\n\n    var unpack$A = utils.unpack;\n    var max$2 = Math.max;\n\n    var rgb2cmyk$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$A(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        var k = 1 - max$2(r,max$2(g,b));\n        var f = k < 1 ? 1 / (1-k) : 0;\n        var c = (1-r-k) * f;\n        var m = (1-g-k) * f;\n        var y = (1-b-k) * f;\n        return [c,m,y,k];\n    };\n\n    var rgb2cmyk_1 = rgb2cmyk$1;\n\n    var unpack$z = utils.unpack;\n\n    var cmyk2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$z(args, 'cmyk');\n        var c = args[0];\n        var m = args[1];\n        var y = args[2];\n        var k = args[3];\n        var alpha = args.length > 4 ? args[4] : 1;\n        if (k === 1) { return [0,0,0,alpha]; }\n        return [\n            c >= 1 ? 0 : 255 * (1-c) * (1-k), // r\n            m >= 1 ? 0 : 255 * (1-m) * (1-k), // g\n            y >= 1 ? 0 : 255 * (1-y) * (1-k), // b\n            alpha\n        ];\n    };\n\n    var cmyk2rgb_1 = cmyk2rgb;\n\n    var chroma$j = chroma_1;\n    var Color$C = Color_1;\n    var input$g = input$h;\n    var unpack$y = utils.unpack;\n    var type$l = utils.type;\n\n    var rgb2cmyk = rgb2cmyk_1;\n\n    Color$C.prototype.cmyk = function() {\n        return rgb2cmyk(this._rgb);\n    };\n\n    chroma$j.cmyk = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$C, [ null ].concat( args, ['cmyk']) ));\n    };\n\n    input$g.format.cmyk = cmyk2rgb_1;\n\n    input$g.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$y(args, 'cmyk');\n            if (type$l(args) === 'array' && args.length === 4) {\n                return 'cmyk';\n            }\n        }\n    });\n\n    var unpack$x = utils.unpack;\n    var last$2 = utils.last;\n    var rnd = function (a) { return Math.round(a*100)/100; };\n\n    /*\n     * supported arguments:\n     * - hsl2css(h,s,l)\n     * - hsl2css(h,s,l,a)\n     * - hsl2css([h,s,l], mode)\n     * - hsl2css([h,s,l,a], mode)\n     * - hsl2css({h,s,l,a}, mode)\n     */\n    var hsl2css$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hsla = unpack$x(args, 'hsla');\n        var mode = last$2(args) || 'lsa';\n        hsla[0] = rnd(hsla[0] || 0);\n        hsla[1] = rnd(hsla[1]*100) + '%';\n        hsla[2] = rnd(hsla[2]*100) + '%';\n        if (mode === 'hsla' || (hsla.length > 3 && hsla[3]<1)) {\n            hsla[3] = hsla.length > 3 ? hsla[3] : 1;\n            mode = 'hsla';\n        } else {\n            hsla.length = 3;\n        }\n        return (mode + \"(\" + (hsla.join(',')) + \")\");\n    };\n\n    var hsl2css_1 = hsl2css$1;\n\n    var unpack$w = utils.unpack;\n\n    /*\n     * supported arguments:\n     * - rgb2hsl(r,g,b)\n     * - rgb2hsl(r,g,b,a)\n     * - rgb2hsl([r,g,b])\n     * - rgb2hsl([r,g,b,a])\n     * - rgb2hsl({r,g,b,a})\n     */\n    var rgb2hsl$3 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$w(args, 'rgba');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n\n        r /= 255;\n        g /= 255;\n        b /= 255;\n\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n\n        var l = (max + min) / 2;\n        var s, h;\n\n        if (max === min){\n            s = 0;\n            h = Number.NaN;\n        } else {\n            s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n        }\n\n        if (r == max) { h = (g - b) / (max - min); }\n        else if (g == max) { h = 2 + (b - r) / (max - min); }\n        else if (b == max) { h = 4 + (r - g) / (max - min); }\n\n        h *= 60;\n        if (h < 0) { h += 360; }\n        if (args.length>3 && args[3]!==undefined) { return [h,s,l,args[3]]; }\n        return [h,s,l];\n    };\n\n    var rgb2hsl_1 = rgb2hsl$3;\n\n    var unpack$v = utils.unpack;\n    var last$1 = utils.last;\n    var hsl2css = hsl2css_1;\n    var rgb2hsl$2 = rgb2hsl_1;\n    var round$6 = Math.round;\n\n    /*\n     * supported arguments:\n     * - rgb2css(r,g,b)\n     * - rgb2css(r,g,b,a)\n     * - rgb2css([r,g,b], mode)\n     * - rgb2css([r,g,b,a], mode)\n     * - rgb2css({r,g,b,a}, mode)\n     */\n    var rgb2css$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$v(args, 'rgba');\n        var mode = last$1(args) || 'rgb';\n        if (mode.substr(0,3) == 'hsl') {\n            return hsl2css(rgb2hsl$2(rgba), mode);\n        }\n        rgba[0] = round$6(rgba[0]);\n        rgba[1] = round$6(rgba[1]);\n        rgba[2] = round$6(rgba[2]);\n        if (mode === 'rgba' || (rgba.length > 3 && rgba[3]<1)) {\n            rgba[3] = rgba.length > 3 ? rgba[3] : 1;\n            mode = 'rgba';\n        }\n        return (mode + \"(\" + (rgba.slice(0,mode==='rgb'?3:4).join(',')) + \")\");\n    };\n\n    var rgb2css_1 = rgb2css$1;\n\n    var unpack$u = utils.unpack;\n    var round$5 = Math.round;\n\n    var hsl2rgb$1 = function () {\n        var assign;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$u(args, 'hsl');\n        var h = args[0];\n        var s = args[1];\n        var l = args[2];\n        var r,g,b;\n        if (s === 0) {\n            r = g = b = l*255;\n        } else {\n            var t3 = [0,0,0];\n            var c = [0,0,0];\n            var t2 = l < 0.5 ? l * (1+s) : l+s-l*s;\n            var t1 = 2 * l - t2;\n            var h_ = h / 360;\n            t3[0] = h_ + 1/3;\n            t3[1] = h_;\n            t3[2] = h_ - 1/3;\n            for (var i=0; i<3; i++) {\n                if (t3[i] < 0) { t3[i] += 1; }\n                if (t3[i] > 1) { t3[i] -= 1; }\n                if (6 * t3[i] < 1)\n                    { c[i] = t1 + (t2 - t1) * 6 * t3[i]; }\n                else if (2 * t3[i] < 1)\n                    { c[i] = t2; }\n                else if (3 * t3[i] < 2)\n                    { c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6; }\n                else\n                    { c[i] = t1; }\n            }\n            (assign = [round$5(c[0]*255),round$5(c[1]*255),round$5(c[2]*255)], r = assign[0], g = assign[1], b = assign[2]);\n        }\n        if (args.length > 3) {\n            // keep alpha channel\n            return [r,g,b,args[3]];\n        }\n        return [r,g,b,1];\n    };\n\n    var hsl2rgb_1 = hsl2rgb$1;\n\n    var hsl2rgb = hsl2rgb_1;\n    var input$f = input$h;\n\n    var RE_RGB = /^rgb\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)$/;\n    var RE_RGBA = /^rgba\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_RGB_PCT = /^rgb\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_RGBA_PCT = /^rgba\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_HSL = /^hsl\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_HSLA = /^hsla\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n\n    var round$4 = Math.round;\n\n    var css2rgb$1 = function (css) {\n        css = css.toLowerCase().trim();\n        var m;\n\n        if (input$f.format.named) {\n            try {\n                return input$f.format.named(css);\n            } catch (e) {\n                // eslint-disable-next-line\n            }\n        }\n\n        // rgb(250,20,0)\n        if ((m = css.match(RE_RGB))) {\n            var rgb = m.slice(1,4);\n            for (var i=0; i<3; i++) {\n                rgb[i] = +rgb[i];\n            }\n            rgb[3] = 1;  // default alpha\n            return rgb;\n        }\n\n        // rgba(250,20,0,0.4)\n        if ((m = css.match(RE_RGBA))) {\n            var rgb$1 = m.slice(1,5);\n            for (var i$1=0; i$1<4; i$1++) {\n                rgb$1[i$1] = +rgb$1[i$1];\n            }\n            return rgb$1;\n        }\n\n        // rgb(100%,0%,0%)\n        if ((m = css.match(RE_RGB_PCT))) {\n            var rgb$2 = m.slice(1,4);\n            for (var i$2=0; i$2<3; i$2++) {\n                rgb$2[i$2] = round$4(rgb$2[i$2] * 2.55);\n            }\n            rgb$2[3] = 1;  // default alpha\n            return rgb$2;\n        }\n\n        // rgba(100%,0%,0%,0.4)\n        if ((m = css.match(RE_RGBA_PCT))) {\n            var rgb$3 = m.slice(1,5);\n            for (var i$3=0; i$3<3; i$3++) {\n                rgb$3[i$3] = round$4(rgb$3[i$3] * 2.55);\n            }\n            rgb$3[3] = +rgb$3[3];\n            return rgb$3;\n        }\n\n        // hsl(0,100%,50%)\n        if ((m = css.match(RE_HSL))) {\n            var hsl = m.slice(1,4);\n            hsl[1] *= 0.01;\n            hsl[2] *= 0.01;\n            var rgb$4 = hsl2rgb(hsl);\n            rgb$4[3] = 1;\n            return rgb$4;\n        }\n\n        // hsla(0,100%,50%,0.5)\n        if ((m = css.match(RE_HSLA))) {\n            var hsl$1 = m.slice(1,4);\n            hsl$1[1] *= 0.01;\n            hsl$1[2] *= 0.01;\n            var rgb$5 = hsl2rgb(hsl$1);\n            rgb$5[3] = +m[4];  // default alpha = 1\n            return rgb$5;\n        }\n    };\n\n    css2rgb$1.test = function (s) {\n        return RE_RGB.test(s) ||\n            RE_RGBA.test(s) ||\n            RE_RGB_PCT.test(s) ||\n            RE_RGBA_PCT.test(s) ||\n            RE_HSL.test(s) ||\n            RE_HSLA.test(s);\n    };\n\n    var css2rgb_1 = css2rgb$1;\n\n    var chroma$i = chroma_1;\n    var Color$B = Color_1;\n    var input$e = input$h;\n    var type$k = utils.type;\n\n    var rgb2css = rgb2css_1;\n    var css2rgb = css2rgb_1;\n\n    Color$B.prototype.css = function(mode) {\n        return rgb2css(this._rgb, mode);\n    };\n\n    chroma$i.css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$B, [ null ].concat( args, ['css']) ));\n    };\n\n    input$e.format.css = css2rgb;\n\n    input$e.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$k(h) === 'string' && css2rgb.test(h)) {\n                return 'css';\n            }\n        }\n    });\n\n    var Color$A = Color_1;\n    var chroma$h = chroma_1;\n    var input$d = input$h;\n    var unpack$t = utils.unpack;\n\n    input$d.format.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$t(args, 'rgba');\n        rgb[0] *= 255;\n        rgb[1] *= 255;\n        rgb[2] *= 255;\n        return rgb;\n    };\n\n    chroma$h.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$A, [ null ].concat( args, ['gl']) ));\n    };\n\n    Color$A.prototype.gl = function() {\n        var rgb = this._rgb;\n        return [rgb[0]/255, rgb[1]/255, rgb[2]/255, rgb[3]];\n    };\n\n    var unpack$s = utils.unpack;\n\n    var rgb2hcg$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$s(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var delta = max - min;\n        var c = delta * 100 / 255;\n        var _g = min / (255 - delta) * 100;\n        var h;\n        if (delta === 0) {\n            h = Number.NaN;\n        } else {\n            if (r === max) { h = (g - b) / delta; }\n            if (g === max) { h = 2+(b - r) / delta; }\n            if (b === max) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, c, _g];\n    };\n\n    var rgb2hcg_1 = rgb2hcg$1;\n\n    var unpack$r = utils.unpack;\n    var floor$3 = Math.floor;\n\n    /*\n     * this is basically just HSV with some minor tweaks\n     *\n     * hue.. [0..360]\n     * chroma .. [0..1]\n     * grayness .. [0..1]\n     */\n\n    var hcg2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$r(args, 'hcg');\n        var h = args[0];\n        var c = args[1];\n        var _g = args[2];\n        var r,g,b;\n        _g = _g * 255;\n        var _c = c * 255;\n        if (c === 0) {\n            r = g = b = _g;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n            var i = floor$3(h);\n            var f = h - i;\n            var p = _g * (1 - c);\n            var q = p + _c * (1 - f);\n            var t = p + _c * f;\n            var v = p + _c;\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var hcg2rgb_1 = hcg2rgb;\n\n    var unpack$q = utils.unpack;\n    var type$j = utils.type;\n    var chroma$g = chroma_1;\n    var Color$z = Color_1;\n    var input$c = input$h;\n\n    var rgb2hcg = rgb2hcg_1;\n\n    Color$z.prototype.hcg = function() {\n        return rgb2hcg(this._rgb);\n    };\n\n    chroma$g.hcg = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$z, [ null ].concat( args, ['hcg']) ));\n    };\n\n    input$c.format.hcg = hcg2rgb_1;\n\n    input$c.autodetect.push({\n        p: 1,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$q(args, 'hcg');\n            if (type$j(args) === 'array' && args.length === 3) {\n                return 'hcg';\n            }\n        }\n    });\n\n    var unpack$p = utils.unpack;\n    var last = utils.last;\n    var round$3 = Math.round;\n\n    var rgb2hex$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$p(args, 'rgba');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var a = ref[3];\n        var mode = last(args) || 'auto';\n        if (a === undefined) { a = 1; }\n        if (mode === 'auto') {\n            mode = a < 1 ? 'rgba' : 'rgb';\n        }\n        r = round$3(r);\n        g = round$3(g);\n        b = round$3(b);\n        var u = r << 16 | g << 8 | b;\n        var str = \"000000\" + u.toString(16); //#.toUpperCase();\n        str = str.substr(str.length - 6);\n        var hxa = '0' + round$3(a * 255).toString(16);\n        hxa = hxa.substr(hxa.length - 2);\n        switch (mode.toLowerCase()) {\n            case 'rgba': return (\"#\" + str + hxa);\n            case 'argb': return (\"#\" + hxa + str);\n            default: return (\"#\" + str);\n        }\n    };\n\n    var rgb2hex_1 = rgb2hex$2;\n\n    var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;\n    var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;\n\n    var hex2rgb$1 = function (hex) {\n        if (hex.match(RE_HEX)) {\n            // remove optional leading #\n            if (hex.length === 4 || hex.length === 7) {\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full six-digit\n            if (hex.length === 3) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];\n            }\n            var u = parseInt(hex, 16);\n            var r = u >> 16;\n            var g = u >> 8 & 0xFF;\n            var b = u & 0xFF;\n            return [r,g,b,1];\n        }\n\n        // match rgba hex format, eg #FF000077\n        if (hex.match(RE_HEXA)) {\n            if (hex.length === 5 || hex.length === 9) {\n                // remove optional leading #\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full eight-digit\n            if (hex.length === 4) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3];\n            }\n            var u$1 = parseInt(hex, 16);\n            var r$1 = u$1 >> 24 & 0xFF;\n            var g$1 = u$1 >> 16 & 0xFF;\n            var b$1 = u$1 >> 8 & 0xFF;\n            var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;\n            return [r$1,g$1,b$1,a];\n        }\n\n        // we used to check for css colors here\n        // if _input.css? and rgb = _input.css hex\n        //     return rgb\n\n        throw new Error((\"unknown hex color: \" + hex));\n    };\n\n    var hex2rgb_1 = hex2rgb$1;\n\n    var chroma$f = chroma_1;\n    var Color$y = Color_1;\n    var type$i = utils.type;\n    var input$b = input$h;\n\n    var rgb2hex$1 = rgb2hex_1;\n\n    Color$y.prototype.hex = function(mode) {\n        return rgb2hex$1(this._rgb, mode);\n    };\n\n    chroma$f.hex = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$y, [ null ].concat( args, ['hex']) ));\n    };\n\n    input$b.format.hex = hex2rgb_1;\n    input$b.autodetect.push({\n        p: 4,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$i(h) === 'string' && [3,4,5,6,7,8,9].indexOf(h.length) >= 0) {\n                return 'hex';\n            }\n        }\n    });\n\n    var unpack$o = utils.unpack;\n    var TWOPI$2 = utils.TWOPI;\n    var min$2 = Math.min;\n    var sqrt$4 = Math.sqrt;\n    var acos = Math.acos;\n\n    var rgb2hsi$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp\n        */\n        var ref = unpack$o(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var h;\n        var min_ = min$2(r,g,b);\n        var i = (r+g+b) / 3;\n        var s = i > 0 ? 1 - min_/i : 0;\n        if (s === 0) {\n            h = NaN;\n        } else {\n            h = ((r-g)+(r-b)) / 2;\n            h /= sqrt$4((r-g)*(r-g) + (r-b)*(g-b));\n            h = acos(h);\n            if (b > g) {\n                h = TWOPI$2 - h;\n            }\n            h /= TWOPI$2;\n        }\n        return [h*360,s,i];\n    };\n\n    var rgb2hsi_1 = rgb2hsi$1;\n\n    var unpack$n = utils.unpack;\n    var limit = utils.limit;\n    var TWOPI$1 = utils.TWOPI;\n    var PITHIRD = utils.PITHIRD;\n    var cos$4 = Math.cos;\n\n    /*\n     * hue [0..360]\n     * saturation [0..1]\n     * intensity [0..1]\n     */\n    var hsi2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp\n        */\n        args = unpack$n(args, 'hsi');\n        var h = args[0];\n        var s = args[1];\n        var i = args[2];\n        var r,g,b;\n\n        if (isNaN(h)) { h = 0; }\n        if (isNaN(s)) { s = 0; }\n        // normalize hue\n        if (h > 360) { h -= 360; }\n        if (h < 0) { h += 360; }\n        h /= 360;\n        if (h < 1/3) {\n            b = (1-s)/3;\n            r = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;\n            g = 1 - (b+r);\n        } else if (h < 2/3) {\n            h -= 1/3;\n            r = (1-s)/3;\n            g = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;\n            b = 1 - (r+g);\n        } else {\n            h -= 2/3;\n            g = (1-s)/3;\n            b = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;\n            r = 1 - (g+b);\n        }\n        r = limit(i*r*3);\n        g = limit(i*g*3);\n        b = limit(i*b*3);\n        return [r*255, g*255, b*255, args.length > 3 ? args[3] : 1];\n    };\n\n    var hsi2rgb_1 = hsi2rgb;\n\n    var unpack$m = utils.unpack;\n    var type$h = utils.type;\n    var chroma$e = chroma_1;\n    var Color$x = Color_1;\n    var input$a = input$h;\n\n    var rgb2hsi = rgb2hsi_1;\n\n    Color$x.prototype.hsi = function() {\n        return rgb2hsi(this._rgb);\n    };\n\n    chroma$e.hsi = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$x, [ null ].concat( args, ['hsi']) ));\n    };\n\n    input$a.format.hsi = hsi2rgb_1;\n\n    input$a.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$m(args, 'hsi');\n            if (type$h(args) === 'array' && args.length === 3) {\n                return 'hsi';\n            }\n        }\n    });\n\n    var unpack$l = utils.unpack;\n    var type$g = utils.type;\n    var chroma$d = chroma_1;\n    var Color$w = Color_1;\n    var input$9 = input$h;\n\n    var rgb2hsl$1 = rgb2hsl_1;\n\n    Color$w.prototype.hsl = function() {\n        return rgb2hsl$1(this._rgb);\n    };\n\n    chroma$d.hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$w, [ null ].concat( args, ['hsl']) ));\n    };\n\n    input$9.format.hsl = hsl2rgb_1;\n\n    input$9.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$l(args, 'hsl');\n            if (type$g(args) === 'array' && args.length === 3) {\n                return 'hsl';\n            }\n        }\n    });\n\n    var unpack$k = utils.unpack;\n    var min$1 = Math.min;\n    var max$1 = Math.max;\n\n    /*\n     * supported arguments:\n     * - rgb2hsv(r,g,b)\n     * - rgb2hsv([r,g,b])\n     * - rgb2hsv({r,g,b})\n     */\n    var rgb2hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$k(args, 'rgb');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n        var min_ = min$1(r, g, b);\n        var max_ = max$1(r, g, b);\n        var delta = max_ - min_;\n        var h,s,v;\n        v = max_ / 255.0;\n        if (max_ === 0) {\n            h = Number.NaN;\n            s = 0;\n        } else {\n            s = delta / max_;\n            if (r === max_) { h = (g - b) / delta; }\n            if (g === max_) { h = 2+(b - r) / delta; }\n            if (b === max_) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, s, v]\n    };\n\n    var rgb2hsv$1 = rgb2hsl;\n\n    var unpack$j = utils.unpack;\n    var floor$2 = Math.floor;\n\n    var hsv2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$j(args, 'hsv');\n        var h = args[0];\n        var s = args[1];\n        var v = args[2];\n        var r,g,b;\n        v *= 255;\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n\n            var i = floor$2(h);\n            var f = h - i;\n            var p = v * (1 - s);\n            var q = v * (1 - s * f);\n            var t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r,g,b,args.length > 3?args[3]:1];\n    };\n\n    var hsv2rgb_1 = hsv2rgb;\n\n    var unpack$i = utils.unpack;\n    var type$f = utils.type;\n    var chroma$c = chroma_1;\n    var Color$v = Color_1;\n    var input$8 = input$h;\n\n    var rgb2hsv = rgb2hsv$1;\n\n    Color$v.prototype.hsv = function() {\n        return rgb2hsv(this._rgb);\n    };\n\n    chroma$c.hsv = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$v, [ null ].concat( args, ['hsv']) ));\n    };\n\n    input$8.format.hsv = hsv2rgb_1;\n\n    input$8.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$i(args, 'hsv');\n            if (type$f(args) === 'array' && args.length === 3) {\n                return 'hsv';\n            }\n        }\n    });\n\n    var labConstants = {\n        // Corresponds roughly to RGB brighter/darker\n        Kn: 18,\n\n        // D65 standard referent\n        Xn: 0.950470,\n        Yn: 1,\n        Zn: 1.088830,\n\n        t0: 0.137931034,  // 4 / 29\n        t1: 0.206896552,  // 6 / 29\n        t2: 0.12841855,   // 3 * t1 * t1\n        t3: 0.008856452,  // t1 * t1 * t1\n    };\n\n    var LAB_CONSTANTS$3 = labConstants;\n    var unpack$h = utils.unpack;\n    var pow$a = Math.pow;\n\n    var rgb2lab$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$h(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2xyz(r,g,b);\n        var x = ref$1[0];\n        var y = ref$1[1];\n        var z = ref$1[2];\n        var l = 116 * y - 16;\n        return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];\n    };\n\n    var rgb_xyz = function (r) {\n        if ((r /= 255) <= 0.04045) { return r / 12.92; }\n        return pow$a((r + 0.055) / 1.055, 2.4);\n    };\n\n    var xyz_lab = function (t) {\n        if (t > LAB_CONSTANTS$3.t3) { return pow$a(t, 1 / 3); }\n        return t / LAB_CONSTANTS$3.t2 + LAB_CONSTANTS$3.t0;\n    };\n\n    var rgb2xyz = function (r,g,b) {\n        r = rgb_xyz(r);\n        g = rgb_xyz(g);\n        b = rgb_xyz(b);\n        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / LAB_CONSTANTS$3.Xn);\n        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / LAB_CONSTANTS$3.Yn);\n        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / LAB_CONSTANTS$3.Zn);\n        return [x,y,z];\n    };\n\n    var rgb2lab_1 = rgb2lab$2;\n\n    var LAB_CONSTANTS$2 = labConstants;\n    var unpack$g = utils.unpack;\n    var pow$9 = Math.pow;\n\n    /*\n     * L* [0..100]\n     * a [-100..100]\n     * b [-100..100]\n     */\n    var lab2rgb$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$g(args, 'lab');\n        var l = args[0];\n        var a = args[1];\n        var b = args[2];\n        var x,y,z, r,g,b_;\n\n        y = (l + 16) / 116;\n        x = isNaN(a) ? y : y + a / 500;\n        z = isNaN(b) ? y : y - b / 200;\n\n        y = LAB_CONSTANTS$2.Yn * lab_xyz(y);\n        x = LAB_CONSTANTS$2.Xn * lab_xyz(x);\n        z = LAB_CONSTANTS$2.Zn * lab_xyz(z);\n\n        r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);  // D65 -> sRGB\n        g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n        b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n\n        return [r,g,b_,args.length > 3 ? args[3] : 1];\n    };\n\n    var xyz_rgb = function (r) {\n        return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$9(r, 1 / 2.4) - 0.055)\n    };\n\n    var lab_xyz = function (t) {\n        return t > LAB_CONSTANTS$2.t1 ? t * t * t : LAB_CONSTANTS$2.t2 * (t - LAB_CONSTANTS$2.t0)\n    };\n\n    var lab2rgb_1 = lab2rgb$1;\n\n    var unpack$f = utils.unpack;\n    var type$e = utils.type;\n    var chroma$b = chroma_1;\n    var Color$u = Color_1;\n    var input$7 = input$h;\n\n    var rgb2lab$1 = rgb2lab_1;\n\n    Color$u.prototype.lab = function() {\n        return rgb2lab$1(this._rgb);\n    };\n\n    chroma$b.lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$u, [ null ].concat( args, ['lab']) ));\n    };\n\n    input$7.format.lab = lab2rgb_1;\n\n    input$7.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$f(args, 'lab');\n            if (type$e(args) === 'array' && args.length === 3) {\n                return 'lab';\n            }\n        }\n    });\n\n    var unpack$e = utils.unpack;\n    var RAD2DEG = utils.RAD2DEG;\n    var sqrt$3 = Math.sqrt;\n    var atan2$2 = Math.atan2;\n    var round$2 = Math.round;\n\n    var lab2lch$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$e(args, 'lab');\n        var l = ref[0];\n        var a = ref[1];\n        var b = ref[2];\n        var c = sqrt$3(a * a + b * b);\n        var h = (atan2$2(b, a) * RAD2DEG + 360) % 360;\n        if (round$2(c*10000) === 0) { h = Number.NaN; }\n        return [l, c, h];\n    };\n\n    var lab2lch_1 = lab2lch$2;\n\n    var unpack$d = utils.unpack;\n    var rgb2lab = rgb2lab_1;\n    var lab2lch$1 = lab2lch_1;\n\n    var rgb2lch$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$d(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2lab(r,g,b);\n        var l = ref$1[0];\n        var a = ref$1[1];\n        var b_ = ref$1[2];\n        return lab2lch$1(l,a,b_);\n    };\n\n    var rgb2lch_1 = rgb2lch$1;\n\n    var unpack$c = utils.unpack;\n    var DEG2RAD = utils.DEG2RAD;\n    var sin$3 = Math.sin;\n    var cos$3 = Math.cos;\n\n    var lch2lab$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n        These formulas were invented by David Dalrymple to obtain maximum contrast without going\n        out of gamut if the parameters are in the range 0-1.\n\n        A saturation multiplier was added by Gregor Aisch\n        */\n        var ref = unpack$c(args, 'lch');\n        var l = ref[0];\n        var c = ref[1];\n        var h = ref[2];\n        if (isNaN(h)) { h = 0; }\n        h = h * DEG2RAD;\n        return [l, cos$3(h) * c, sin$3(h) * c]\n    };\n\n    var lch2lab_1 = lch2lab$2;\n\n    var unpack$b = utils.unpack;\n    var lch2lab$1 = lch2lab_1;\n    var lab2rgb = lab2rgb_1;\n\n    var lch2rgb$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$b(args, 'lch');\n        var l = args[0];\n        var c = args[1];\n        var h = args[2];\n        var ref = lch2lab$1 (l,c,h);\n        var L = ref[0];\n        var a = ref[1];\n        var b_ = ref[2];\n        var ref$1 = lab2rgb (L,a,b_);\n        var r = ref$1[0];\n        var g = ref$1[1];\n        var b = ref$1[2];\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var lch2rgb_1 = lch2rgb$1;\n\n    var unpack$a = utils.unpack;\n    var lch2rgb = lch2rgb_1;\n\n    var hcl2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hcl = unpack$a(args, 'hcl').reverse();\n        return lch2rgb.apply(void 0, hcl);\n    };\n\n    var hcl2rgb_1 = hcl2rgb;\n\n    var unpack$9 = utils.unpack;\n    var type$d = utils.type;\n    var chroma$a = chroma_1;\n    var Color$t = Color_1;\n    var input$6 = input$h;\n\n    var rgb2lch = rgb2lch_1;\n\n    Color$t.prototype.lch = function() { return rgb2lch(this._rgb); };\n    Color$t.prototype.hcl = function() { return rgb2lch(this._rgb).reverse(); };\n\n    chroma$a.lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$t, [ null ].concat( args, ['lch']) ));\n    };\n    chroma$a.hcl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$t, [ null ].concat( args, ['hcl']) ));\n    };\n\n    input$6.format.lch = lch2rgb_1;\n    input$6.format.hcl = hcl2rgb_1;\n\n    ['lch','hcl'].forEach(function (m) { return input$6.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$9(args, m);\n            if (type$d(args) === 'array' && args.length === 3) {\n                return m;\n            }\n        }\n    }); });\n\n    /**\n    \tX11 color names\n\n    \thttp://www.w3.org/TR/css3-color/#svg-color\n    */\n\n    var w3cx11$1 = {\n        aliceblue: '#f0f8ff',\n        antiquewhite: '#faebd7',\n        aqua: '#00ffff',\n        aquamarine: '#7fffd4',\n        azure: '#f0ffff',\n        beige: '#f5f5dc',\n        bisque: '#ffe4c4',\n        black: '#000000',\n        blanchedalmond: '#ffebcd',\n        blue: '#0000ff',\n        blueviolet: '#8a2be2',\n        brown: '#a52a2a',\n        burlywood: '#deb887',\n        cadetblue: '#5f9ea0',\n        chartreuse: '#7fff00',\n        chocolate: '#d2691e',\n        coral: '#ff7f50',\n        cornflower: '#6495ed',\n        cornflowerblue: '#6495ed',\n        cornsilk: '#fff8dc',\n        crimson: '#dc143c',\n        cyan: '#00ffff',\n        darkblue: '#00008b',\n        darkcyan: '#008b8b',\n        darkgoldenrod: '#b8860b',\n        darkgray: '#a9a9a9',\n        darkgreen: '#006400',\n        darkgrey: '#a9a9a9',\n        darkkhaki: '#bdb76b',\n        darkmagenta: '#8b008b',\n        darkolivegreen: '#556b2f',\n        darkorange: '#ff8c00',\n        darkorchid: '#9932cc',\n        darkred: '#8b0000',\n        darksalmon: '#e9967a',\n        darkseagreen: '#8fbc8f',\n        darkslateblue: '#483d8b',\n        darkslategray: '#2f4f4f',\n        darkslategrey: '#2f4f4f',\n        darkturquoise: '#00ced1',\n        darkviolet: '#9400d3',\n        deeppink: '#ff1493',\n        deepskyblue: '#00bfff',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1e90ff',\n        firebrick: '#b22222',\n        floralwhite: '#fffaf0',\n        forestgreen: '#228b22',\n        fuchsia: '#ff00ff',\n        gainsboro: '#dcdcdc',\n        ghostwhite: '#f8f8ff',\n        gold: '#ffd700',\n        goldenrod: '#daa520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#adff2f',\n        grey: '#808080',\n        honeydew: '#f0fff0',\n        hotpink: '#ff69b4',\n        indianred: '#cd5c5c',\n        indigo: '#4b0082',\n        ivory: '#fffff0',\n        khaki: '#f0e68c',\n        laserlemon: '#ffff54',\n        lavender: '#e6e6fa',\n        lavenderblush: '#fff0f5',\n        lawngreen: '#7cfc00',\n        lemonchiffon: '#fffacd',\n        lightblue: '#add8e6',\n        lightcoral: '#f08080',\n        lightcyan: '#e0ffff',\n        lightgoldenrod: '#fafad2',\n        lightgoldenrodyellow: '#fafad2',\n        lightgray: '#d3d3d3',\n        lightgreen: '#90ee90',\n        lightgrey: '#d3d3d3',\n        lightpink: '#ffb6c1',\n        lightsalmon: '#ffa07a',\n        lightseagreen: '#20b2aa',\n        lightskyblue: '#87cefa',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#b0c4de',\n        lightyellow: '#ffffe0',\n        lime: '#00ff00',\n        limegreen: '#32cd32',\n        linen: '#faf0e6',\n        magenta: '#ff00ff',\n        maroon: '#800000',\n        maroon2: '#7f0000',\n        maroon3: '#b03060',\n        mediumaquamarine: '#66cdaa',\n        mediumblue: '#0000cd',\n        mediumorchid: '#ba55d3',\n        mediumpurple: '#9370db',\n        mediumseagreen: '#3cb371',\n        mediumslateblue: '#7b68ee',\n        mediumspringgreen: '#00fa9a',\n        mediumturquoise: '#48d1cc',\n        mediumvioletred: '#c71585',\n        midnightblue: '#191970',\n        mintcream: '#f5fffa',\n        mistyrose: '#ffe4e1',\n        moccasin: '#ffe4b5',\n        navajowhite: '#ffdead',\n        navy: '#000080',\n        oldlace: '#fdf5e6',\n        olive: '#808000',\n        olivedrab: '#6b8e23',\n        orange: '#ffa500',\n        orangered: '#ff4500',\n        orchid: '#da70d6',\n        palegoldenrod: '#eee8aa',\n        palegreen: '#98fb98',\n        paleturquoise: '#afeeee',\n        palevioletred: '#db7093',\n        papayawhip: '#ffefd5',\n        peachpuff: '#ffdab9',\n        peru: '#cd853f',\n        pink: '#ffc0cb',\n        plum: '#dda0dd',\n        powderblue: '#b0e0e6',\n        purple: '#800080',\n        purple2: '#7f007f',\n        purple3: '#a020f0',\n        rebeccapurple: '#663399',\n        red: '#ff0000',\n        rosybrown: '#bc8f8f',\n        royalblue: '#4169e1',\n        saddlebrown: '#8b4513',\n        salmon: '#fa8072',\n        sandybrown: '#f4a460',\n        seagreen: '#2e8b57',\n        seashell: '#fff5ee',\n        sienna: '#a0522d',\n        silver: '#c0c0c0',\n        skyblue: '#87ceeb',\n        slateblue: '#6a5acd',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#fffafa',\n        springgreen: '#00ff7f',\n        steelblue: '#4682b4',\n        tan: '#d2b48c',\n        teal: '#008080',\n        thistle: '#d8bfd8',\n        tomato: '#ff6347',\n        turquoise: '#40e0d0',\n        violet: '#ee82ee',\n        wheat: '#f5deb3',\n        white: '#ffffff',\n        whitesmoke: '#f5f5f5',\n        yellow: '#ffff00',\n        yellowgreen: '#9acd32'\n    };\n\n    var w3cx11_1 = w3cx11$1;\n\n    var Color$s = Color_1;\n    var input$5 = input$h;\n    var type$c = utils.type;\n\n    var w3cx11 = w3cx11_1;\n    var hex2rgb = hex2rgb_1;\n    var rgb2hex = rgb2hex_1;\n\n    Color$s.prototype.name = function() {\n        var hex = rgb2hex(this._rgb, 'rgb');\n        for (var i = 0, list = Object.keys(w3cx11); i < list.length; i += 1) {\n            var n = list[i];\n\n            if (w3cx11[n] === hex) { return n.toLowerCase(); }\n        }\n        return hex;\n    };\n\n    input$5.format.named = function (name) {\n        name = name.toLowerCase();\n        if (w3cx11[name]) { return hex2rgb(w3cx11[name]); }\n        throw new Error('unknown color name: '+name);\n    };\n\n    input$5.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$c(h) === 'string' && w3cx11[h.toLowerCase()]) {\n                return 'named';\n            }\n        }\n    });\n\n    var unpack$8 = utils.unpack;\n\n    var rgb2num$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$8(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        return (r << 16) + (g << 8) + b;\n    };\n\n    var rgb2num_1 = rgb2num$1;\n\n    var type$b = utils.type;\n\n    var num2rgb = function (num) {\n        if (type$b(num) == \"number\" && num >= 0 && num <= 0xFFFFFF) {\n            var r = num >> 16;\n            var g = (num >> 8) & 0xFF;\n            var b = num & 0xFF;\n            return [r,g,b,1];\n        }\n        throw new Error(\"unknown num color: \"+num);\n    };\n\n    var num2rgb_1 = num2rgb;\n\n    var chroma$9 = chroma_1;\n    var Color$r = Color_1;\n    var input$4 = input$h;\n    var type$a = utils.type;\n\n    var rgb2num = rgb2num_1;\n\n    Color$r.prototype.num = function() {\n        return rgb2num(this._rgb);\n    };\n\n    chroma$9.num = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$r, [ null ].concat( args, ['num']) ));\n    };\n\n    input$4.format.num = num2rgb_1;\n\n    input$4.autodetect.push({\n        p: 5,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            if (args.length === 1 && type$a(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {\n                return 'num';\n            }\n        }\n    });\n\n    var chroma$8 = chroma_1;\n    var Color$q = Color_1;\n    var input$3 = input$h;\n    var unpack$7 = utils.unpack;\n    var type$9 = utils.type;\n    var round$1 = Math.round;\n\n    Color$q.prototype.rgb = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        if (rnd === false) { return this._rgb.slice(0,3); }\n        return this._rgb.slice(0,3).map(round$1);\n    };\n\n    Color$q.prototype.rgba = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        return this._rgb.slice(0,4).map(function (v,i) {\n            return i<3 ? (rnd === false ? v : round$1(v)) : v;\n        });\n    };\n\n    chroma$8.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$q, [ null ].concat( args, ['rgb']) ));\n    };\n\n    input$3.format.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$7(args, 'rgba');\n        if (rgba[3] === undefined) { rgba[3] = 1; }\n        return rgba;\n    };\n\n    input$3.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$7(args, 'rgba');\n            if (type$9(args) === 'array' && (args.length === 3 ||\n                args.length === 4 && type$9(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {\n                return 'rgb';\n            }\n        }\n    });\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     */\n\n    var log$1 = Math.log;\n\n    var temperature2rgb$1 = function (kelvin) {\n        var temp = kelvin / 100;\n        var r,g,b;\n        if (temp < 66) {\n            r = 255;\n            g = temp < 6 ? 0 : -155.25485562709179 - 0.44596950469579133 * (g = temp-2) + 104.49216199393888 * log$1(g);\n            b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp-10) + 115.67994401066147 * log$1(b);\n        } else {\n            r = 351.97690566805693 + 0.114206453784165 * (r = temp-55) - 40.25366309332127 * log$1(r);\n            g = 325.4494125711974 + 0.07943456536662342 * (g = temp-50) - 28.0852963507957 * log$1(g);\n            b = 255;\n        }\n        return [r,g,b,1];\n    };\n\n    var temperature2rgb_1 = temperature2rgb$1;\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     **/\n\n    var temperature2rgb = temperature2rgb_1;\n    var unpack$6 = utils.unpack;\n    var round = Math.round;\n\n    var rgb2temperature$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$6(args, 'rgb');\n        var r = rgb[0], b = rgb[2];\n        var minTemp = 1000;\n        var maxTemp = 40000;\n        var eps = 0.4;\n        var temp;\n        while (maxTemp - minTemp > eps) {\n            temp = (maxTemp + minTemp) * 0.5;\n            var rgb$1 = temperature2rgb(temp);\n            if ((rgb$1[2] / rgb$1[0]) >= (b / r)) {\n                maxTemp = temp;\n            } else {\n                minTemp = temp;\n            }\n        }\n        return round(temp);\n    };\n\n    var rgb2temperature_1 = rgb2temperature$1;\n\n    var chroma$7 = chroma_1;\n    var Color$p = Color_1;\n    var input$2 = input$h;\n\n    var rgb2temperature = rgb2temperature_1;\n\n    Color$p.prototype.temp =\n    Color$p.prototype.kelvin =\n    Color$p.prototype.temperature = function() {\n        return rgb2temperature(this._rgb);\n    };\n\n    chroma$7.temp =\n    chroma$7.kelvin =\n    chroma$7.temperature = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$p, [ null ].concat( args, ['temp']) ));\n    };\n\n    input$2.format.temp =\n    input$2.format.kelvin =\n    input$2.format.temperature = temperature2rgb_1;\n\n    var unpack$5 = utils.unpack;\n    var cbrt = Math.cbrt;\n    var pow$8 = Math.pow;\n    var sign$1 = Math.sign;\n\n    var rgb2oklab$2 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        // OKLab color space implementation taken from\n        // https://bottosson.github.io/posts/oklab/\n        var ref = unpack$5(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = [rgb2lrgb(r / 255), rgb2lrgb(g / 255), rgb2lrgb(b / 255)];\n        var lr = ref$1[0];\n        var lg = ref$1[1];\n        var lb = ref$1[2];\n        var l = cbrt(0.4122214708 * lr + 0.5363325363 * lg + 0.0514459929 * lb);\n        var m = cbrt(0.2119034982 * lr + 0.6806995451 * lg + 0.1073969566 * lb);\n        var s = cbrt(0.0883024619 * lr + 0.2817188376 * lg + 0.6299787005 * lb);\n\n        return [\n            0.2104542553 * l + 0.793617785 * m - 0.0040720468 * s,\n            1.9779984951 * l - 2.428592205 * m + 0.4505937099 * s,\n            0.0259040371 * l + 0.7827717662 * m - 0.808675766 * s\n        ];\n    };\n\n    var rgb2oklab_1 = rgb2oklab$2;\n\n    function rgb2lrgb(c) {\n        var abs = Math.abs(c);\n        if (abs < 0.04045) {\n            return c / 12.92;\n        }\n        return (sign$1(c) || 1) * pow$8((abs + 0.055) / 1.055, 2.4);\n    }\n\n    var unpack$4 = utils.unpack;\n    var pow$7 = Math.pow;\n    var sign = Math.sign;\n\n    /*\n     * L* [0..100]\n     * a [-100..100]\n     * b [-100..100]\n     */\n    var oklab2rgb$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$4(args, 'lab');\n        var L = args[0];\n        var a = args[1];\n        var b = args[2];\n\n        var l = pow$7(L + 0.3963377774 * a + 0.2158037573 * b, 3);\n        var m = pow$7(L - 0.1055613458 * a - 0.0638541728 * b, 3);\n        var s = pow$7(L - 0.0894841775 * a - 1.291485548 * b, 3);\n\n        return [\n            255 * lrgb2rgb(+4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s),\n            255 * lrgb2rgb(-1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s),\n            255 * lrgb2rgb(-0.0041960863 * l - 0.7034186147 * m + 1.707614701 * s),\n            args.length > 3 ? args[3] : 1\n        ];\n    };\n\n    var oklab2rgb_1 = oklab2rgb$1;\n\n    function lrgb2rgb(c) {\n        var abs = Math.abs(c);\n        if (abs > 0.0031308) {\n            return (sign(c) || 1) * (1.055 * pow$7(abs, 1 / 2.4) - 0.055);\n        }\n        return c * 12.92;\n    }\n\n    var unpack$3 = utils.unpack;\n    var type$8 = utils.type;\n    var chroma$6 = chroma_1;\n    var Color$o = Color_1;\n    var input$1 = input$h;\n\n    var rgb2oklab$1 = rgb2oklab_1;\n\n    Color$o.prototype.oklab = function () {\n        return rgb2oklab$1(this._rgb);\n    };\n\n    chroma$6.oklab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$o, [ null ].concat( args, ['oklab']) ));\n    };\n\n    input$1.format.oklab = oklab2rgb_1;\n\n    input$1.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$3(args, 'oklab');\n            if (type$8(args) === 'array' && args.length === 3) {\n                return 'oklab';\n            }\n        }\n    });\n\n    var unpack$2 = utils.unpack;\n    var rgb2oklab = rgb2oklab_1;\n    var lab2lch = lab2lch_1;\n\n    var rgb2oklch$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$2(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2oklab(r, g, b);\n        var l = ref$1[0];\n        var a = ref$1[1];\n        var b_ = ref$1[2];\n        return lab2lch(l, a, b_);\n    };\n\n    var rgb2oklch_1 = rgb2oklch$1;\n\n    var unpack$1 = utils.unpack;\n    var lch2lab = lch2lab_1;\n    var oklab2rgb = oklab2rgb_1;\n\n    var oklch2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$1(args, 'lch');\n        var l = args[0];\n        var c = args[1];\n        var h = args[2];\n        var ref = lch2lab(l, c, h);\n        var L = ref[0];\n        var a = ref[1];\n        var b_ = ref[2];\n        var ref$1 = oklab2rgb(L, a, b_);\n        var r = ref$1[0];\n        var g = ref$1[1];\n        var b = ref$1[2];\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var oklch2rgb_1 = oklch2rgb;\n\n    var unpack = utils.unpack;\n    var type$7 = utils.type;\n    var chroma$5 = chroma_1;\n    var Color$n = Color_1;\n    var input = input$h;\n\n    var rgb2oklch = rgb2oklch_1;\n\n    Color$n.prototype.oklch = function () {\n        return rgb2oklch(this._rgb);\n    };\n\n    chroma$5.oklch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color$n, [ null ].concat( args, ['oklch']) ));\n    };\n\n    input.format.oklch = oklch2rgb_1;\n\n    input.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack(args, 'oklch');\n            if (type$7(args) === 'array' && args.length === 3) {\n                return 'oklch';\n            }\n        }\n    });\n\n    var Color$m = Color_1;\n    var type$6 = utils.type;\n\n    Color$m.prototype.alpha = function(a, mutate) {\n        if ( mutate === void 0 ) mutate=false;\n\n        if (a !== undefined && type$6(a) === 'number') {\n            if (mutate) {\n                this._rgb[3] = a;\n                return this;\n            }\n            return new Color$m([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');\n        }\n        return this._rgb[3];\n    };\n\n    var Color$l = Color_1;\n\n    Color$l.prototype.clipped = function() {\n        return this._rgb._clipped || false;\n    };\n\n    var Color$k = Color_1;\n    var LAB_CONSTANTS$1 = labConstants;\n\n    Color$k.prototype.darken = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lab = me.lab();\n    \tlab[0] -= LAB_CONSTANTS$1.Kn * amount;\n    \treturn new Color$k(lab, 'lab').alpha(me.alpha(), true);\n    };\n\n    Color$k.prototype.brighten = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.darken(-amount);\n    };\n\n    Color$k.prototype.darker = Color$k.prototype.darken;\n    Color$k.prototype.brighter = Color$k.prototype.brighten;\n\n    var Color$j = Color_1;\n\n    Color$j.prototype.get = function (mc) {\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel) - (mode.substr(0, 2) === 'ok' ? 2 : 0);\n            if (i > -1) { return src[i]; }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var Color$i = Color_1;\n    var type$5 = utils.type;\n    var pow$6 = Math.pow;\n\n    var EPS = 1e-7;\n    var MAX_ITER = 20;\n\n    Color$i.prototype.luminance = function(lum) {\n        if (lum !== undefined && type$5(lum) === 'number') {\n            if (lum === 0) {\n                // return pure black\n                return new Color$i([0,0,0,this._rgb[3]], 'rgb');\n            }\n            if (lum === 1) {\n                // return pure white\n                return new Color$i([255,255,255,this._rgb[3]], 'rgb');\n            }\n            // compute new color using...\n            var cur_lum = this.luminance();\n            var mode = 'rgb';\n            var max_iter = MAX_ITER;\n\n            var test = function (low, high) {\n                var mid = low.interpolate(high, 0.5, mode);\n                var lm = mid.luminance();\n                if (Math.abs(lum - lm) < EPS || !max_iter--) {\n                    // close enough\n                    return mid;\n                }\n                return lm > lum ? test(low, mid) : test(mid, high);\n            };\n\n            var rgb = (cur_lum > lum ? test(new Color$i([0,0,0]), this) : test(this, new Color$i([255,255,255]))).rgb();\n            return new Color$i(rgb.concat( [this._rgb[3]]));\n        }\n        return rgb2luminance.apply(void 0, (this._rgb).slice(0,3));\n    };\n\n\n    var rgb2luminance = function (r,g,b) {\n        // relative luminance\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        r = luminance_x(r);\n        g = luminance_x(g);\n        b = luminance_x(b);\n        return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n    };\n\n    var luminance_x = function (x) {\n        x /= 255;\n        return x <= 0.03928 ? x/12.92 : pow$6((x+0.055)/1.055, 2.4);\n    };\n\n    var interpolator$1 = {};\n\n    var Color$h = Color_1;\n    var type$4 = utils.type;\n    var interpolator = interpolator$1;\n\n    var mix$1 = function (col1, col2, f) {\n        if ( f === void 0 ) f=0.5;\n        var rest = [], len = arguments.length - 3;\n        while ( len-- > 0 ) rest[ len ] = arguments[ len + 3 ];\n\n        var mode = rest[0] || 'lrgb';\n        if (!interpolator[mode] && !rest.length) {\n            // fall back to the first supported mode\n            mode = Object.keys(interpolator)[0];\n        }\n        if (!interpolator[mode]) {\n            throw new Error((\"interpolation mode \" + mode + \" is not defined\"));\n        }\n        if (type$4(col1) !== 'object') { col1 = new Color$h(col1); }\n        if (type$4(col2) !== 'object') { col2 = new Color$h(col2); }\n        return interpolator[mode](col1, col2, f)\n            .alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));\n    };\n\n    var Color$g = Color_1;\n    var mix = mix$1;\n\n    Color$g.prototype.mix =\n    Color$g.prototype.interpolate = function(col2, f) {\n    \tif ( f === void 0 ) f=0.5;\n    \tvar rest = [], len = arguments.length - 2;\n    \twhile ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];\n\n    \treturn mix.apply(void 0, [ this, col2, f ].concat( rest ));\n    };\n\n    var Color$f = Color_1;\n\n    Color$f.prototype.premultiply = function(mutate) {\n    \tif ( mutate === void 0 ) mutate=false;\n\n    \tvar rgb = this._rgb;\n    \tvar a = rgb[3];\n    \tif (mutate) {\n    \t\tthis._rgb = [rgb[0]*a, rgb[1]*a, rgb[2]*a, a];\n    \t\treturn this;\n    \t} else {\n    \t\treturn new Color$f([rgb[0]*a, rgb[1]*a, rgb[2]*a, a], 'rgb');\n    \t}\n    };\n\n    var Color$e = Color_1;\n    var LAB_CONSTANTS = labConstants;\n\n    Color$e.prototype.saturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lch = me.lch();\n    \tlch[1] += LAB_CONSTANTS.Kn * amount;\n    \tif (lch[1] < 0) { lch[1] = 0; }\n    \treturn new Color$e(lch, 'lch').alpha(me.alpha(), true);\n    };\n\n    Color$e.prototype.desaturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.saturate(-amount);\n    };\n\n    var Color$d = Color_1;\n    var type$3 = utils.type;\n\n    Color$d.prototype.set = function (mc, value, mutate) {\n        if ( mutate === void 0 ) mutate = false;\n\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel) - (mode.substr(0, 2) === 'ok' ? 2 : 0);\n            if (i > -1) {\n                if (type$3(value) == 'string') {\n                    switch (value.charAt(0)) {\n                        case '+':\n                            src[i] += +value;\n                            break;\n                        case '-':\n                            src[i] += +value;\n                            break;\n                        case '*':\n                            src[i] *= +value.substr(1);\n                            break;\n                        case '/':\n                            src[i] /= +value.substr(1);\n                            break;\n                        default:\n                            src[i] = +value;\n                    }\n                } else if (type$3(value) === 'number') {\n                    src[i] = value;\n                } else {\n                    throw new Error(\"unsupported value for Color.set\");\n                }\n                var out = new Color$d(src, mode);\n                if (mutate) {\n                    this._rgb = out._rgb;\n                    return this;\n                }\n                return out;\n            }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var Color$c = Color_1;\n\n    var rgb = function (col1, col2, f) {\n        var xyz0 = col1._rgb;\n        var xyz1 = col2._rgb;\n        return new Color$c(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator$1.rgb = rgb;\n\n    var Color$b = Color_1;\n    var sqrt$2 = Math.sqrt;\n    var pow$5 = Math.pow;\n\n    var lrgb = function (col1, col2, f) {\n        var ref = col1._rgb;\n        var x1 = ref[0];\n        var y1 = ref[1];\n        var z1 = ref[2];\n        var ref$1 = col2._rgb;\n        var x2 = ref$1[0];\n        var y2 = ref$1[1];\n        var z2 = ref$1[2];\n        return new Color$b(\n            sqrt$2(pow$5(x1,2) * (1-f) + pow$5(x2,2) * f),\n            sqrt$2(pow$5(y1,2) * (1-f) + pow$5(y2,2) * f),\n            sqrt$2(pow$5(z1,2) * (1-f) + pow$5(z2,2) * f),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator$1.lrgb = lrgb;\n\n    var Color$a = Color_1;\n\n    var lab = function (col1, col2, f) {\n        var xyz0 = col1.lab();\n        var xyz1 = col2.lab();\n        return new Color$a(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'lab'\n        )\n    };\n\n    // register interpolator\n    interpolator$1.lab = lab;\n\n    var Color$9 = Color_1;\n\n    var _hsx = function (col1, col2, f, m) {\n        var assign, assign$1;\n\n        var xyz0, xyz1;\n        if (m === 'hsl') {\n            xyz0 = col1.hsl();\n            xyz1 = col2.hsl();\n        } else if (m === 'hsv') {\n            xyz0 = col1.hsv();\n            xyz1 = col2.hsv();\n        } else if (m === 'hcg') {\n            xyz0 = col1.hcg();\n            xyz1 = col2.hcg();\n        } else if (m === 'hsi') {\n            xyz0 = col1.hsi();\n            xyz1 = col2.hsi();\n        } else if (m === 'lch' || m === 'hcl') {\n            m = 'hcl';\n            xyz0 = col1.hcl();\n            xyz1 = col2.hcl();\n        } else if (m === 'oklch') {\n            xyz0 = col1.oklch().reverse();\n            xyz1 = col2.oklch().reverse();\n        }\n\n        var hue0, hue1, sat0, sat1, lbv0, lbv1;\n        if (m.substr(0, 1) === 'h' || m === 'oklch') {\n            (assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2]);\n            (assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2]);\n        }\n\n        var sat, hue, lbv, dh;\n\n        if (!isNaN(hue0) && !isNaN(hue1)) {\n            // both colors have hue\n            if (hue1 > hue0 && hue1 - hue0 > 180) {\n                dh = hue1 - (hue0 + 360);\n            } else if (hue1 < hue0 && hue0 - hue1 > 180) {\n                dh = hue1 + 360 - hue0;\n            } else {\n                dh = hue1 - hue0;\n            }\n            hue = hue0 + f * dh;\n        } else if (!isNaN(hue0)) {\n            hue = hue0;\n            if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') { sat = sat0; }\n        } else if (!isNaN(hue1)) {\n            hue = hue1;\n            if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') { sat = sat1; }\n        } else {\n            hue = Number.NaN;\n        }\n\n        if (sat === undefined) { sat = sat0 + f * (sat1 - sat0); }\n        lbv = lbv0 + f * (lbv1 - lbv0);\n        return m === 'oklch' ? new Color$9([lbv, sat, hue], m) : new Color$9([hue, sat, lbv], m);\n    };\n\n    var interpolate_hsx$5 = _hsx;\n\n    var lch = function (col1, col2, f) {\n    \treturn interpolate_hsx$5(col1, col2, f, 'lch');\n    };\n\n    // register interpolator\n    interpolator$1.lch = lch;\n    interpolator$1.hcl = lch;\n\n    var Color$8 = Color_1;\n\n    var num = function (col1, col2, f) {\n        var c1 = col1.num();\n        var c2 = col2.num();\n        return new Color$8(c1 + f * (c2-c1), 'num')\n    };\n\n    // register interpolator\n    interpolator$1.num = num;\n\n    var interpolate_hsx$4 = _hsx;\n\n    var hcg = function (col1, col2, f) {\n    \treturn interpolate_hsx$4(col1, col2, f, 'hcg');\n    };\n\n    // register interpolator\n    interpolator$1.hcg = hcg;\n\n    var interpolate_hsx$3 = _hsx;\n\n    var hsi = function (col1, col2, f) {\n    \treturn interpolate_hsx$3(col1, col2, f, 'hsi');\n    };\n\n    // register interpolator\n    interpolator$1.hsi = hsi;\n\n    var interpolate_hsx$2 = _hsx;\n\n    var hsl = function (col1, col2, f) {\n    \treturn interpolate_hsx$2(col1, col2, f, 'hsl');\n    };\n\n    // register interpolator\n    interpolator$1.hsl = hsl;\n\n    var interpolate_hsx$1 = _hsx;\n\n    var hsv = function (col1, col2, f) {\n    \treturn interpolate_hsx$1(col1, col2, f, 'hsv');\n    };\n\n    // register interpolator\n    interpolator$1.hsv = hsv;\n\n    var Color$7 = Color_1;\n\n    var oklab = function (col1, col2, f) {\n        var xyz0 = col1.oklab();\n        var xyz1 = col2.oklab();\n        return new Color$7(\n            xyz0[0] + f * (xyz1[0] - xyz0[0]),\n            xyz0[1] + f * (xyz1[1] - xyz0[1]),\n            xyz0[2] + f * (xyz1[2] - xyz0[2]),\n            'oklab'\n        );\n    };\n\n    // register interpolator\n    interpolator$1.oklab = oklab;\n\n    var interpolate_hsx = _hsx;\n\n    var oklch = function (col1, col2, f) {\n        return interpolate_hsx(col1, col2, f, 'oklch');\n    };\n\n    // register interpolator\n    interpolator$1.oklch = oklch;\n\n    var Color$6 = Color_1;\n    var clip_rgb$1 = utils.clip_rgb;\n    var pow$4 = Math.pow;\n    var sqrt$1 = Math.sqrt;\n    var PI$1 = Math.PI;\n    var cos$2 = Math.cos;\n    var sin$2 = Math.sin;\n    var atan2$1 = Math.atan2;\n\n    var average = function (colors, mode, weights) {\n        if ( mode === void 0 ) mode='lrgb';\n        if ( weights === void 0 ) weights=null;\n\n        var l = colors.length;\n        if (!weights) { weights = Array.from(new Array(l)).map(function () { return 1; }); }\n        // normalize weights\n        var k = l / weights.reduce(function(a, b) { return a + b; });\n        weights.forEach(function (w,i) { weights[i] *= k; });\n        // convert colors to Color objects\n        colors = colors.map(function (c) { return new Color$6(c); });\n        if (mode === 'lrgb') {\n            return _average_lrgb(colors, weights)\n        }\n        var first = colors.shift();\n        var xyz = first.get(mode);\n        var cnt = [];\n        var dx = 0;\n        var dy = 0;\n        // initial color\n        for (var i=0; i<xyz.length; i++) {\n            xyz[i] = (xyz[i] || 0) * weights[0];\n            cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);\n            if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {\n                var A = xyz[i] / 180 * PI$1;\n                dx += cos$2(A) * weights[0];\n                dy += sin$2(A) * weights[0];\n            }\n        }\n\n        var alpha = first.alpha() * weights[0];\n        colors.forEach(function (c,ci) {\n            var xyz2 = c.get(mode);\n            alpha += c.alpha() * weights[ci+1];\n            for (var i=0; i<xyz.length; i++) {\n                if (!isNaN(xyz2[i])) {\n                    cnt[i] += weights[ci+1];\n                    if (mode.charAt(i) === 'h') {\n                        var A = xyz2[i] / 180 * PI$1;\n                        dx += cos$2(A) * weights[ci+1];\n                        dy += sin$2(A) * weights[ci+1];\n                    } else {\n                        xyz[i] += xyz2[i] * weights[ci+1];\n                    }\n                }\n            }\n        });\n\n        for (var i$1=0; i$1<xyz.length; i$1++) {\n            if (mode.charAt(i$1) === 'h') {\n                var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;\n                while (A$1 < 0) { A$1 += 360; }\n                while (A$1 >= 360) { A$1 -= 360; }\n                xyz[i$1] = A$1;\n            } else {\n                xyz[i$1] = xyz[i$1]/cnt[i$1];\n            }\n        }\n        alpha /= l;\n        return (new Color$6(xyz, mode)).alpha(alpha > 0.99999 ? 1 : alpha, true);\n    };\n\n\n    var _average_lrgb = function (colors, weights) {\n        var l = colors.length;\n        var xyz = [0,0,0,0];\n        for (var i=0; i < colors.length; i++) {\n            var col = colors[i];\n            var f = weights[i] / l;\n            var rgb = col._rgb;\n            xyz[0] += pow$4(rgb[0],2) * f;\n            xyz[1] += pow$4(rgb[1],2) * f;\n            xyz[2] += pow$4(rgb[2],2) * f;\n            xyz[3] += rgb[3] * f;\n        }\n        xyz[0] = sqrt$1(xyz[0]);\n        xyz[1] = sqrt$1(xyz[1]);\n        xyz[2] = sqrt$1(xyz[2]);\n        if (xyz[3] > 0.9999999) { xyz[3] = 1; }\n        return new Color$6(clip_rgb$1(xyz));\n    };\n\n    // minimal multi-purpose interface\n\n    // @requires utils color analyze\n\n    var chroma$4 = chroma_1;\n    var type$2 = utils.type;\n\n    var pow$3 = Math.pow;\n\n    var scale$2 = function(colors) {\n\n        // constructor\n        var _mode = 'rgb';\n        var _nacol = chroma$4('#ccc');\n        var _spread = 0;\n        // const _fixed = false;\n        var _domain = [0, 1];\n        var _pos = [];\n        var _padding = [0,0];\n        var _classes = false;\n        var _colors = [];\n        var _out = false;\n        var _min = 0;\n        var _max = 1;\n        var _correctLightness = false;\n        var _colorCache = {};\n        var _useCache = true;\n        var _gamma = 1;\n\n        // private methods\n\n        var setColors = function(colors) {\n            colors = colors || ['#fff', '#000'];\n            if (colors && type$2(colors) === 'string' && chroma$4.brewer &&\n                chroma$4.brewer[colors.toLowerCase()]) {\n                colors = chroma$4.brewer[colors.toLowerCase()];\n            }\n            if (type$2(colors) === 'array') {\n                // handle single color\n                if (colors.length === 1) {\n                    colors = [colors[0], colors[0]];\n                }\n                // make a copy of the colors\n                colors = colors.slice(0);\n                // convert to chroma classes\n                for (var c=0; c<colors.length; c++) {\n                    colors[c] = chroma$4(colors[c]);\n                }\n                // auto-fill color position\n                _pos.length = 0;\n                for (var c$1=0; c$1<colors.length; c$1++) {\n                    _pos.push(c$1/(colors.length-1));\n                }\n            }\n            resetCache();\n            return _colors = colors;\n        };\n\n        var getClass = function(value) {\n            if (_classes != null) {\n                var n = _classes.length-1;\n                var i = 0;\n                while (i < n && value >= _classes[i]) {\n                    i++;\n                }\n                return i-1;\n            }\n            return 0;\n        };\n\n        var tMapLightness = function (t) { return t; };\n        var tMapDomain = function (t) { return t; };\n\n        // const classifyValue = function(value) {\n        //     let val = value;\n        //     if (_classes.length > 2) {\n        //         const n = _classes.length-1;\n        //         const i = getClass(value);\n        //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class\n        //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class\n        //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));\n        //     }\n        //     return val;\n        // };\n\n        var getColor = function(val, bypassMap) {\n            var col, t;\n            if (bypassMap == null) { bypassMap = false; }\n            if (isNaN(val) || (val === null)) { return _nacol; }\n            if (!bypassMap) {\n                if (_classes && (_classes.length > 2)) {\n                    // find the class\n                    var c = getClass(val);\n                    t = c / (_classes.length-2);\n                } else if (_max !== _min) {\n                    // just interpolate between min/max\n                    t = (val - _min) / (_max - _min);\n                } else {\n                    t = 1;\n                }\n            } else {\n                t = val;\n            }\n\n            // domain map\n            t = tMapDomain(t);\n\n            if (!bypassMap) {\n                t = tMapLightness(t);  // lightness correction\n            }\n\n            if (_gamma !== 1) { t = pow$3(t, _gamma); }\n\n            t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));\n\n            t = Math.min(1, Math.max(0, t));\n\n            var k = Math.floor(t * 10000);\n\n            if (_useCache && _colorCache[k]) {\n                col = _colorCache[k];\n            } else {\n                if (type$2(_colors) === 'array') {\n                    //for i in [0.._pos.length-1]\n                    for (var i=0; i<_pos.length; i++) {\n                        var p = _pos[i];\n                        if (t <= p) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if ((t >= p) && (i === (_pos.length-1))) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if (t > p && t < _pos[i+1]) {\n                            t = (t-p)/(_pos[i+1]-p);\n                            col = chroma$4.interpolate(_colors[i], _colors[i+1], t, _mode);\n                            break;\n                        }\n                    }\n                } else if (type$2(_colors) === 'function') {\n                    col = _colors(t);\n                }\n                if (_useCache) { _colorCache[k] = col; }\n            }\n            return col;\n        };\n\n        var resetCache = function () { return _colorCache = {}; };\n\n        setColors(colors);\n\n        // public interface\n\n        var f = function(v) {\n            var c = chroma$4(getColor(v));\n            if (_out && c[_out]) { return c[_out](); } else { return c; }\n        };\n\n        f.classes = function(classes) {\n            if (classes != null) {\n                if (type$2(classes) === 'array') {\n                    _classes = classes;\n                    _domain = [classes[0], classes[classes.length-1]];\n                } else {\n                    var d = chroma$4.analyze(_domain);\n                    if (classes === 0) {\n                        _classes = [d.min, d.max];\n                    } else {\n                        _classes = chroma$4.limits(d, 'e', classes);\n                    }\n                }\n                return f;\n            }\n            return _classes;\n        };\n\n\n        f.domain = function(domain) {\n            if (!arguments.length) {\n                return _domain;\n            }\n            _min = domain[0];\n            _max = domain[domain.length-1];\n            _pos = [];\n            var k = _colors.length;\n            if ((domain.length === k) && (_min !== _max)) {\n                // update positions\n                for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {\n                    var d = list[i];\n\n                  _pos.push((d-_min) / (_max-_min));\n                }\n            } else {\n                for (var c=0; c<k; c++) {\n                    _pos.push(c/(k-1));\n                }\n                if (domain.length > 2) {\n                    // set domain map\n                    var tOut = domain.map(function (d,i) { return i/(domain.length-1); });\n                    var tBreaks = domain.map(function (d) { return (d - _min) / (_max - _min); });\n                    if (!tBreaks.every(function (val, i) { return tOut[i] === val; })) {\n                        tMapDomain = function (t) {\n                            if (t <= 0 || t >= 1) { return t; }\n                            var i = 0;\n                            while (t >= tBreaks[i+1]) { i++; }\n                            var f = (t - tBreaks[i]) / (tBreaks[i+1] - tBreaks[i]);\n                            var out = tOut[i] + f * (tOut[i+1] - tOut[i]);\n                            return out;\n                        };\n                    }\n\n                }\n            }\n            _domain = [_min, _max];\n            return f;\n        };\n\n        f.mode = function(_m) {\n            if (!arguments.length) {\n                return _mode;\n            }\n            _mode = _m;\n            resetCache();\n            return f;\n        };\n\n        f.range = function(colors, _pos) {\n            setColors(colors);\n            return f;\n        };\n\n        f.out = function(_o) {\n            _out = _o;\n            return f;\n        };\n\n        f.spread = function(val) {\n            if (!arguments.length) {\n                return _spread;\n            }\n            _spread = val;\n            return f;\n        };\n\n        f.correctLightness = function(v) {\n            if (v == null) { v = true; }\n            _correctLightness = v;\n            resetCache();\n            if (_correctLightness) {\n                tMapLightness = function(t) {\n                    var L0 = getColor(0, true).lab()[0];\n                    var L1 = getColor(1, true).lab()[0];\n                    var pol = L0 > L1;\n                    var L_actual = getColor(t, true).lab()[0];\n                    var L_ideal = L0 + ((L1 - L0) * t);\n                    var L_diff = L_actual - L_ideal;\n                    var t0 = 0;\n                    var t1 = 1;\n                    var max_iter = 20;\n                    while ((Math.abs(L_diff) > 1e-2) && (max_iter-- > 0)) {\n                        (function() {\n                            if (pol) { L_diff *= -1; }\n                            if (L_diff < 0) {\n                                t0 = t;\n                                t += (t1 - t) * 0.5;\n                            } else {\n                                t1 = t;\n                                t += (t0 - t) * 0.5;\n                            }\n                            L_actual = getColor(t, true).lab()[0];\n                            return L_diff = L_actual - L_ideal;\n                        })();\n                    }\n                    return t;\n                };\n            } else {\n                tMapLightness = function (t) { return t; };\n            }\n            return f;\n        };\n\n        f.padding = function(p) {\n            if (p != null) {\n                if (type$2(p) === 'number') {\n                    p = [p,p];\n                }\n                _padding = p;\n                return f;\n            } else {\n                return _padding;\n            }\n        };\n\n        f.colors = function(numColors, out) {\n            // If no arguments are given, return the original colors that were provided\n            if (arguments.length < 2) { out = 'hex'; }\n            var result = [];\n\n            if (arguments.length === 0) {\n                result = _colors.slice(0);\n\n            } else if (numColors === 1) {\n                result = [f(0.5)];\n\n            } else if (numColors > 1) {\n                var dm = _domain[0];\n                var dd = _domain[1] - dm;\n                result = __range__(0, numColors, false).map(function (i) { return f( dm + ((i/(numColors-1)) * dd) ); });\n\n            } else { // returns all colors based on the defined classes\n                colors = [];\n                var samples = [];\n                if (_classes && (_classes.length > 2)) {\n                    for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n                        samples.push((_classes[i-1]+_classes[i])*0.5);\n                    }\n                } else {\n                    samples = _domain;\n                }\n                result = samples.map(function (v) { return f(v); });\n            }\n\n            if (chroma$4[out]) {\n                result = result.map(function (c) { return c[out](); });\n            }\n            return result;\n        };\n\n        f.cache = function(c) {\n            if (c != null) {\n                _useCache = c;\n                return f;\n            } else {\n                return _useCache;\n            }\n        };\n\n        f.gamma = function(g) {\n            if (g != null) {\n                _gamma = g;\n                return f;\n            } else {\n                return _gamma;\n            }\n        };\n\n        f.nodata = function(d) {\n            if (d != null) {\n                _nacol = chroma$4(d);\n                return f;\n            } else {\n                return _nacol;\n            }\n        };\n\n        return f;\n    };\n\n    function __range__(left, right, inclusive) {\n      var range = [];\n      var ascending = left < right;\n      var end = !inclusive ? right : ascending ? right + 1 : right - 1;\n      for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n        range.push(i);\n      }\n      return range;\n    }\n\n    //\n    // interpolates between a set of colors uzing a bezier spline\n    //\n\n    // @requires utils lab\n    var Color$5 = Color_1;\n\n    var scale$1 = scale$2;\n\n    // nth row of the pascal triangle\n    var binom_row = function(n) {\n        var row = [1, 1];\n        for (var i = 1; i < n; i++) {\n            var newrow = [1];\n            for (var j = 1; j <= row.length; j++) {\n                newrow[j] = (row[j] || 0) + row[j - 1];\n            }\n            row = newrow;\n        }\n        return row;\n    };\n\n    var bezier = function(colors) {\n        var assign, assign$1, assign$2;\n\n        var I, lab0, lab1, lab2;\n        colors = colors.map(function (c) { return new Color$5(c); });\n        if (colors.length === 2) {\n            // linear interpolation\n            (assign = colors.map(function (c) { return c.lab(); }), lab0 = assign[0], lab1 = assign[1]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return lab0[i] + (t * (lab1[i] - lab0[i])); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else if (colors.length === 3) {\n            // quadratic bezier interpolation\n            (assign$1 = colors.map(function (c) { return c.lab(); }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i]); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else if (colors.length === 4) {\n            // cubic bezier interpolation\n            var lab3;\n            (assign$2 = colors.map(function (c) { return c.lab(); }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i]); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else if (colors.length >= 5) {\n            // general case (degree n bezier)\n            var labs, row, n;\n            labs = colors.map(function (c) { return c.lab(); });\n            n = colors.length - 1;\n            row = binom_row(n);\n            I = function (t) {\n                var u = 1 - t;\n                var lab = ([0, 1, 2].map(function (i) { return labs.reduce(function (sum, el, j) { return (sum + row[j] * Math.pow( u, (n - j) ) * Math.pow( t, j ) * el[i]); }, 0); }));\n                return new Color$5(lab, 'lab');\n            };\n        } else {\n            throw new RangeError(\"No point in running bezier with only one color.\")\n        }\n        return I;\n    };\n\n    var bezier_1 = function (colors) {\n        var f = bezier(colors);\n        f.scale = function () { return scale$1(f); };\n        return f;\n    };\n\n    /*\n     * interpolates between a set of colors uzing a bezier spline\n     * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n     */\n\n    var chroma$3 = chroma_1;\n\n    var blend = function (bottom, top, mode) {\n        if (!blend[mode]) {\n            throw new Error('unknown blend mode ' + mode);\n        }\n        return blend[mode](bottom, top);\n    };\n\n    var blend_f = function (f) { return function (bottom,top) {\n            var c0 = chroma$3(top).rgb();\n            var c1 = chroma$3(bottom).rgb();\n            return chroma$3.rgb(f(c0, c1));\n        }; };\n\n    var each = function (f) { return function (c0, c1) {\n            var out = [];\n            out[0] = f(c0[0], c1[0]);\n            out[1] = f(c0[1], c1[1]);\n            out[2] = f(c0[2], c1[2]);\n            return out;\n        }; };\n\n    var normal = function (a) { return a; };\n    var multiply = function (a,b) { return a * b / 255; };\n    var darken = function (a,b) { return a > b ? b : a; };\n    var lighten = function (a,b) { return a > b ? a : b; };\n    var screen = function (a,b) { return 255 * (1 - (1-a/255) * (1-b/255)); };\n    var overlay = function (a,b) { return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255 ) * ( 1 - b / 255 )); };\n    var burn = function (a,b) { return 255 * (1 - (1 - b / 255) / (a/255)); };\n    var dodge = function (a,b) {\n        if (a === 255) { return 255; }\n        a = 255 * (b / 255) / (1 - a / 255);\n        return a > 255 ? 255 : a\n    };\n\n    // # add = (a,b) ->\n    // #     if (a + b > 255) then 255 else a + b\n\n    blend.normal = blend_f(each(normal));\n    blend.multiply = blend_f(each(multiply));\n    blend.screen = blend_f(each(screen));\n    blend.overlay = blend_f(each(overlay));\n    blend.darken = blend_f(each(darken));\n    blend.lighten = blend_f(each(lighten));\n    blend.dodge = blend_f(each(dodge));\n    blend.burn = blend_f(each(burn));\n    // blend.add = blend_f(each(add));\n\n    var blend_1 = blend;\n\n    // cubehelix interpolation\n    // based on D.A. Green \"A colour scheme for the display of astronomical intensity images\"\n    // http://astron-soc.in/bulletin/11June/289392011.pdf\n\n    var type$1 = utils.type;\n    var clip_rgb = utils.clip_rgb;\n    var TWOPI = utils.TWOPI;\n    var pow$2 = Math.pow;\n    var sin$1 = Math.sin;\n    var cos$1 = Math.cos;\n    var chroma$2 = chroma_1;\n\n    var cubehelix = function(start, rotations, hue, gamma, lightness) {\n        if ( start === void 0 ) start=300;\n        if ( rotations === void 0 ) rotations=-1.5;\n        if ( hue === void 0 ) hue=1;\n        if ( gamma === void 0 ) gamma=1;\n        if ( lightness === void 0 ) lightness=[0,1];\n\n        var dh = 0, dl;\n        if (type$1(lightness) === 'array') {\n            dl = lightness[1] - lightness[0];\n        } else {\n            dl = 0;\n            lightness = [lightness, lightness];\n        }\n\n        var f = function(fract) {\n            var a = TWOPI * (((start+120)/360) + (rotations * fract));\n            var l = pow$2(lightness[0] + (dl * fract), gamma);\n            var h = dh !== 0 ? hue[0] + (fract * dh) : hue;\n            var amp = (h * l * (1-l)) / 2;\n            var cos_a = cos$1(a);\n            var sin_a = sin$1(a);\n            var r = l + (amp * ((-0.14861 * cos_a) + (1.78277* sin_a)));\n            var g = l + (amp * ((-0.29227 * cos_a) - (0.90649* sin_a)));\n            var b = l + (amp * (+1.97294 * cos_a));\n            return chroma$2(clip_rgb([r*255,g*255,b*255,1]));\n        };\n\n        f.start = function(s) {\n            if ((s == null)) { return start; }\n            start = s;\n            return f;\n        };\n\n        f.rotations = function(r) {\n            if ((r == null)) { return rotations; }\n            rotations = r;\n            return f;\n        };\n\n        f.gamma = function(g) {\n            if ((g == null)) { return gamma; }\n            gamma = g;\n            return f;\n        };\n\n        f.hue = function(h) {\n            if ((h == null)) { return hue; }\n            hue = h;\n            if (type$1(hue) === 'array') {\n                dh = hue[1] - hue[0];\n                if (dh === 0) { hue = hue[1]; }\n            } else {\n                dh = 0;\n            }\n            return f;\n        };\n\n        f.lightness = function(h) {\n            if ((h == null)) { return lightness; }\n            if (type$1(h) === 'array') {\n                lightness = h;\n                dl = h[1] - h[0];\n            } else {\n                lightness = [h,h];\n                dl = 0;\n            }\n            return f;\n        };\n\n        f.scale = function () { return chroma$2.scale(f); };\n\n        f.hue(hue);\n\n        return f;\n    };\n\n    var Color$4 = Color_1;\n    var digits = '0123456789abcdef';\n\n    var floor$1 = Math.floor;\n    var random = Math.random;\n\n    var random_1 = function () {\n        var code = '#';\n        for (var i=0; i<6; i++) {\n            code += digits.charAt(floor$1(random() * 16));\n        }\n        return new Color$4(code, 'hex');\n    };\n\n    var type = type$p;\n    var log = Math.log;\n    var pow$1 = Math.pow;\n    var floor = Math.floor;\n    var abs$1 = Math.abs;\n\n\n    var analyze = function (data, key) {\n        if ( key === void 0 ) key=null;\n\n        var r = {\n            min: Number.MAX_VALUE,\n            max: Number.MAX_VALUE*-1,\n            sum: 0,\n            values: [],\n            count: 0\n        };\n        if (type(data) === 'object') {\n            data = Object.values(data);\n        }\n        data.forEach(function (val) {\n            if (key && type(val) === 'object') { val = val[key]; }\n            if (val !== undefined && val !== null && !isNaN(val)) {\n                r.values.push(val);\n                r.sum += val;\n                if (val < r.min) { r.min = val; }\n                if (val > r.max) { r.max = val; }\n                r.count += 1;\n            }\n        });\n\n        r.domain = [r.min, r.max];\n\n        r.limits = function (mode, num) { return limits(r, mode, num); };\n\n        return r;\n    };\n\n\n    var limits = function (data, mode, num) {\n        if ( mode === void 0 ) mode='equal';\n        if ( num === void 0 ) num=7;\n\n        if (type(data) == 'array') {\n            data = analyze(data);\n        }\n        var min = data.min;\n        var max = data.max;\n        var values = data.values.sort(function (a,b) { return a-b; });\n\n        if (num === 1) { return [min,max]; }\n\n        var limits = [];\n\n        if (mode.substr(0,1) === 'c') { // continuous\n            limits.push(min);\n            limits.push(max);\n        }\n\n        if (mode.substr(0,1) === 'e') { // equal interval\n            limits.push(min);\n            for (var i=1; i<num; i++) {\n                limits.push(min+((i/num)*(max-min)));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'l') { // log scale\n            if (min <= 0) {\n                throw new Error('Logarithmic scales are only possible for values > 0');\n            }\n            var min_log = Math.LOG10E * log(min);\n            var max_log = Math.LOG10E * log(max);\n            limits.push(min);\n            for (var i$1=1; i$1<num; i$1++) {\n                limits.push(pow$1(10, min_log + ((i$1/num) * (max_log - min_log))));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'q') { // quantile scale\n            limits.push(min);\n            for (var i$2=1; i$2<num; i$2++) {\n                var p = ((values.length-1) * i$2)/num;\n                var pb = floor(p);\n                if (pb === p) {\n                    limits.push(values[pb]);\n                } else { // p > pb\n                    var pr = p - pb;\n                    limits.push((values[pb]*(1-pr)) + (values[pb+1]*pr));\n                }\n            }\n            limits.push(max);\n\n        }\n\n        else if (mode.substr(0,1) === 'k') { // k-means clustering\n            /*\n            implementation based on\n            http://code.google.com/p/figue/source/browse/trunk/figue.js#336\n            simplified for 1-d input values\n            */\n            var cluster;\n            var n = values.length;\n            var assignments = new Array(n);\n            var clusterSizes = new Array(num);\n            var repeat = true;\n            var nb_iters = 0;\n            var centroids = null;\n\n            // get seed values\n            centroids = [];\n            centroids.push(min);\n            for (var i$3=1; i$3<num; i$3++) {\n                centroids.push(min + ((i$3/num) * (max-min)));\n            }\n            centroids.push(max);\n\n            while (repeat) {\n                // assignment step\n                for (var j=0; j<num; j++) {\n                    clusterSizes[j] = 0;\n                }\n                for (var i$4=0; i$4<n; i$4++) {\n                    var value = values[i$4];\n                    var mindist = Number.MAX_VALUE;\n                    var best = (void 0);\n                    for (var j$1=0; j$1<num; j$1++) {\n                        var dist = abs$1(centroids[j$1]-value);\n                        if (dist < mindist) {\n                            mindist = dist;\n                            best = j$1;\n                        }\n                        clusterSizes[best]++;\n                        assignments[i$4] = best;\n                    }\n                }\n\n                // update centroids step\n                var newCentroids = new Array(num);\n                for (var j$2=0; j$2<num; j$2++) {\n                    newCentroids[j$2] = null;\n                }\n                for (var i$5=0; i$5<n; i$5++) {\n                    cluster = assignments[i$5];\n                    if (newCentroids[cluster] === null) {\n                        newCentroids[cluster] = values[i$5];\n                    } else {\n                        newCentroids[cluster] += values[i$5];\n                    }\n                }\n                for (var j$3=0; j$3<num; j$3++) {\n                    newCentroids[j$3] *= 1/clusterSizes[j$3];\n                }\n\n                // check convergence\n                repeat = false;\n                for (var j$4=0; j$4<num; j$4++) {\n                    if (newCentroids[j$4] !== centroids[j$4]) {\n                        repeat = true;\n                        break;\n                    }\n                }\n\n                centroids = newCentroids;\n                nb_iters++;\n\n                if (nb_iters > 200) {\n                    repeat = false;\n                }\n            }\n\n            // finished k-means clustering\n            // the next part is borrowed from gabrielflor.it\n            var kClusters = {};\n            for (var j$5=0; j$5<num; j$5++) {\n                kClusters[j$5] = [];\n            }\n            for (var i$6=0; i$6<n; i$6++) {\n                cluster = assignments[i$6];\n                kClusters[cluster].push(values[i$6]);\n            }\n            var tmpKMeansBreaks = [];\n            for (var j$6=0; j$6<num; j$6++) {\n                tmpKMeansBreaks.push(kClusters[j$6][0]);\n                tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length-1]);\n            }\n            tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a,b){ return a-b; });\n            limits.push(tmpKMeansBreaks[0]);\n            for (var i$7=1; i$7 < tmpKMeansBreaks.length; i$7+= 2) {\n                var v = tmpKMeansBreaks[i$7];\n                if (!isNaN(v) && (limits.indexOf(v) === -1)) {\n                    limits.push(v);\n                }\n            }\n        }\n        return limits;\n    };\n\n    var analyze_1 = {analyze: analyze, limits: limits};\n\n    var Color$3 = Color_1;\n\n\n    var contrast = function (a, b) {\n        // WCAG contrast ratio\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n        a = new Color$3(a);\n        b = new Color$3(b);\n        var l1 = a.luminance();\n        var l2 = b.luminance();\n        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);\n    };\n\n    var Color$2 = Color_1;\n    var sqrt = Math.sqrt;\n    var pow = Math.pow;\n    var min = Math.min;\n    var max = Math.max;\n    var atan2 = Math.atan2;\n    var abs = Math.abs;\n    var cos = Math.cos;\n    var sin = Math.sin;\n    var exp = Math.exp;\n    var PI = Math.PI;\n\n    var deltaE = function(a, b, Kl, Kc, Kh) {\n        if ( Kl === void 0 ) Kl=1;\n        if ( Kc === void 0 ) Kc=1;\n        if ( Kh === void 0 ) Kh=1;\n\n        // Delta E (CIE 2000)\n        // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CIE2000.html\n        var rad2deg = function(rad) {\n            return 360 * rad / (2 * PI);\n        };\n        var deg2rad = function(deg) {\n            return (2 * PI * deg) / 360;\n        };\n        a = new Color$2(a);\n        b = new Color$2(b);\n        var ref = Array.from(a.lab());\n        var L1 = ref[0];\n        var a1 = ref[1];\n        var b1 = ref[2];\n        var ref$1 = Array.from(b.lab());\n        var L2 = ref$1[0];\n        var a2 = ref$1[1];\n        var b2 = ref$1[2];\n        var avgL = (L1 + L2)/2;\n        var C1 = sqrt(pow(a1, 2) + pow(b1, 2));\n        var C2 = sqrt(pow(a2, 2) + pow(b2, 2));\n        var avgC = (C1 + C2)/2;\n        var G = 0.5*(1-sqrt(pow(avgC, 7)/(pow(avgC, 7) + pow(25, 7))));\n        var a1p = a1*(1+G);\n        var a2p = a2*(1+G);\n        var C1p = sqrt(pow(a1p, 2) + pow(b1, 2));\n        var C2p = sqrt(pow(a2p, 2) + pow(b2, 2));\n        var avgCp = (C1p + C2p)/2;\n        var arctan1 = rad2deg(atan2(b1, a1p));\n        var arctan2 = rad2deg(atan2(b2, a2p));\n        var h1p = arctan1 >= 0 ? arctan1 : arctan1 + 360;\n        var h2p = arctan2 >= 0 ? arctan2 : arctan2 + 360;\n        var avgHp = abs(h1p - h2p) > 180 ? (h1p + h2p + 360)/2 : (h1p + h2p)/2;\n        var T = 1 - 0.17*cos(deg2rad(avgHp - 30)) + 0.24*cos(deg2rad(2*avgHp)) + 0.32*cos(deg2rad(3*avgHp + 6)) - 0.2*cos(deg2rad(4*avgHp - 63));\n        var deltaHp = h2p - h1p;\n        deltaHp = abs(deltaHp) <= 180 ? deltaHp : h2p <= h1p ? deltaHp + 360 : deltaHp - 360;\n        deltaHp = 2*sqrt(C1p*C2p)*sin(deg2rad(deltaHp)/2);\n        var deltaL = L2 - L1;\n        var deltaCp = C2p - C1p;    \n        var sl = 1 + (0.015*pow(avgL - 50, 2))/sqrt(20 + pow(avgL - 50, 2));\n        var sc = 1 + 0.045*avgCp;\n        var sh = 1 + 0.015*avgCp*T;\n        var deltaTheta = 30*exp(-pow((avgHp - 275)/25, 2));\n        var Rc = 2*sqrt(pow(avgCp, 7)/(pow(avgCp, 7) + pow(25, 7)));\n        var Rt = -Rc*sin(2*deg2rad(deltaTheta));\n        var result = sqrt(pow(deltaL/(Kl*sl), 2) + pow(deltaCp/(Kc*sc), 2) + pow(deltaHp/(Kh*sh), 2) + Rt*(deltaCp/(Kc*sc))*(deltaHp/(Kh*sh)));\n        return max(0, min(100, result));\n    };\n\n    var Color$1 = Color_1;\n\n    // simple Euclidean distance\n    var distance = function(a, b, mode) {\n        if ( mode === void 0 ) mode='lab';\n\n        // Delta E (CIE 1976)\n        // see http://www.brucelindbloom.com/index.html?Equations.html\n        a = new Color$1(a);\n        b = new Color$1(b);\n        var l1 = a.get(mode);\n        var l2 = b.get(mode);\n        var sum_sq = 0;\n        for (var i in l1) {\n            var d = (l1[i] || 0) - (l2[i] || 0);\n            sum_sq += d*d;\n        }\n        return Math.sqrt(sum_sq);\n    };\n\n    var Color = Color_1;\n\n    var valid = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        try {\n            new (Function.prototype.bind.apply( Color, [ null ].concat( args) ));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    };\n\n    // some pre-defined color scales:\n    var chroma$1 = chroma_1;\n\n    var scale = scale$2;\n\n    var scales = {\n    \tcool: function cool() { return scale([chroma$1.hsl(180,1,.9), chroma$1.hsl(250,.7,.4)]) },\n    \thot: function hot() { return scale(['#000','#f00','#ff0','#fff']).mode('rgb') }\n    };\n\n    /**\n        ColorBrewer colors for chroma.js\n\n        Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The\n        Pennsylvania State University.\n\n        Licensed under the Apache License, Version 2.0 (the \"License\");\n        you may not use this file except in compliance with the License.\n        You may obtain a copy of the License at\n        http://www.apache.org/licenses/LICENSE-2.0\n\n        Unless required by applicable law or agreed to in writing, software distributed\n        under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n        CONDITIONS OF ANY KIND, either express or implied. See the License for the\n        specific language governing permissions and limitations under the License.\n    */\n\n    var colorbrewer = {\n        // sequential\n        OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],\n        PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],\n        BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],\n        Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],\n        BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],\n        YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],\n        YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],\n        Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],\n        RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],\n        Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],\n        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n        Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],\n        GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],\n        Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],\n        YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],\n        PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],\n        Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],\n        PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],\n        Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],\n\n        // diverging\n\n        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],\n        RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],\n        RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],\n        PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],\n        PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],\n        RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],\n        BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],\n        RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],\n        PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],\n\n        // qualitative\n\n        Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],\n        Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],\n        Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],\n        Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],\n        Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],\n        Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],\n        Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],\n        Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2'],\n    };\n\n    // add lowercase aliases for case-insensitive matches\n    for (var i = 0, list = Object.keys(colorbrewer); i < list.length; i += 1) {\n        var key = list[i];\n\n        colorbrewer[key.toLowerCase()] = colorbrewer[key];\n    }\n\n    var colorbrewer_1 = colorbrewer;\n\n    var chroma = chroma_1;\n\n    // feel free to comment out anything to rollup\n    // a smaller chroma.js built\n\n    // io --> convert colors\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    // operators --> modify existing Colors\n\n\n\n\n\n\n\n\n\n\n    // interpolators\n\n\n\n\n\n\n\n\n\n\n\n\n    // generators -- > create new colors\n    chroma.average = average;\n    chroma.bezier = bezier_1;\n    chroma.blend = blend_1;\n    chroma.cubehelix = cubehelix;\n    chroma.mix = chroma.interpolate = mix$1;\n    chroma.random = random_1;\n    chroma.scale = scale$2;\n\n    // other utility methods\n    chroma.analyze = analyze_1.analyze;\n    chroma.contrast = contrast;\n    chroma.deltaE = deltaE;\n    chroma.distance = distance;\n    chroma.limits = analyze_1.limits;\n    chroma.valid = valid;\n\n    // scale\n    chroma.scales = scales;\n\n    // colors\n    chroma.colors = w3cx11_1;\n    chroma.brewer = colorbrewer_1;\n\n    var chroma_js = chroma;\n\n    return chroma_js;\n\n}));\n","import column from '../dataset/column.mjs';\nimport { each, isArray, filter, find, indexOf, map, range } from 'underscore';\n\n/**\n * Assign dataset columns to visualization axes. Non-optional columns\n * will automatically be assigned based on a matching column type and\n * column name (if the vis axis defined a regex).\n *\n * Optional axes can define a `overrideOptionalKey` which will turn\n * it into a non-optional axis in case the specified metadata key\n * contains a truthy value.\n *\n * @param {Dataset} dataset - the parsed dataset\n * @param {object} visAxes - axis definitions from visualization\n * @param {object} userAxes - user preferences for axis assignments\n *                            (from chart.metadata.axis)\n * @param {object} overrideKeys - map of all axes overrideOptionalKeys\n *                                and the current metadata values\n * @returns {object}\n */\nexport default function populateVisAxes({ dataset, visAxes, userAxes, overrideKeys }) {\n    userAxes = userAxes || {};\n    overrideKeys = overrideKeys || {};\n    const usedColumns = {};\n    const axes = {};\n    const axesAsColumns = {};\n\n    // get user preference\n    each(visAxes, (o, key) => {\n        if (userAxes[key]) {\n            let columns = userAxes[key];\n\n            if (o.optional && o.overrideOptionalKey && !overrideKeys[o.overrideOptionalKey]) {\n                return;\n            }\n\n            if (\n                columnExists(columns) &&\n                checkColumn(o, columns, true) &&\n                !!o.multiple === isArray(columns)\n            ) {\n                axes[key] = o.multiple && !isArray(columns) ? [columns] : columns;\n                // mark columns as used\n                if (!isArray(columns)) columns = [columns];\n                each(columns, function (column) {\n                    usedColumns[column] = true;\n                });\n            }\n        }\n    });\n\n    var checked = [];\n\n    each(visAxes, axisDef => {\n        if (axisDef.optional) {\n            // chart settings may override this\n            if (axisDef.overrideOptionalKey && overrideKeys[axisDef.overrideOptionalKey]) {\n                // now the axis is mandatory\n                axisDef.optional = false;\n            }\n        }\n    });\n\n    // auto-populate remaining axes\n    each(visAxes, (axisDef, key) => {\n        function remainingRequiredColumns(accepts) {\n            // returns how many required columns there are for the remaining axes\n            // either an integer or \"multiple\" if there's another multi-column axis coming up\n            function equalAccepts(a1, a2) {\n                if (typeof a1 === 'undefined' && typeof a2 !== 'undefined') return false;\n                if (typeof a2 === 'undefined' && typeof a1 !== 'undefined') return false;\n                if (a1.length !== a2.length) return false;\n\n                for (let i = 0; i < a1.length; i++) {\n                    if (a2.indexOf(a1[i]) === -1) return false;\n                }\n                return true;\n            }\n\n            let res = 0;\n            each(visAxes, function (axisDef, key) {\n                if (checked.indexOf(key) > -1) return;\n                if (!equalAccepts(axisDef.accepts, accepts)) return;\n                if (typeof res === 'string') return;\n                if (axisDef.optional) return;\n                if (axisDef.multiple) {\n                    res = 'multiple';\n                    return;\n                }\n                res += 1;\n            });\n            return res;\n        }\n        function remainingAvailableColumns(dataset) {\n            let count = 0;\n            dataset.eachColumn(c => {\n                if (checkColumn(axisDef, c)) {\n                    count++;\n                }\n            });\n            return count;\n        }\n        checked.push(key);\n        if (axes[key]) return; // user has defined this axis already\n        if (!axisDef.optional) {\n            // we only populate mandatory axes\n            if (!axisDef.multiple) {\n                const accepted = filter(dataset.columns(), c => checkColumn(axisDef, c));\n                let firstMatch;\n                if (axisDef.preferred) {\n                    // axis defined a regex for testing column names\n                    const regex = new RegExp(axisDef.preferred, 'i');\n                    firstMatch = find(accepted, function (col) {\n                        return (\n                            regex.test(col.name()) ||\n                            (col.title() !== col.name() && regex.test(col.title()))\n                        );\n                    });\n                }\n                // simply use first colulmn accepted by axis\n                if (!firstMatch) firstMatch = accepted[0];\n                if (firstMatch) {\n                    usedColumns[firstMatch.name()] = true; // mark column as used\n                    axes[key] = firstMatch.name();\n                } else {\n                    // try to auto-populate missing text column\n                    if (indexOf(axisDef.accepts, 'text') >= 0) {\n                        // try using the first text column in the dataset instead\n                        const acceptedAllowUsed = filter(dataset.columns(), function (col) {\n                            return indexOf(axisDef.accepts, col.type()) >= 0;\n                        });\n                        if (acceptedAllowUsed.length) {\n                            axes[key] = acceptedAllowUsed[0].name();\n                        } else {\n                            // no other text column in dataset, so genetate one with A,B,C,D...\n                            const col = column(\n                                key,\n                                map(range(dataset.numRows()), function (i) {\n                                    return (\n                                        (i > 25 ? String.fromCharCode(64 + i / 26) : '') +\n                                        String.fromCharCode(65 + (i % 26))\n                                    );\n                                }),\n                                'text'\n                            );\n                            dataset.add(col);\n                            usedColumns[col.name()] = true;\n                            axes[key] = col.name();\n                        }\n                    } else if (indexOf(axisDef.accepts, 'number') >= 0) {\n                        // try to auto-populate missing number column\n                        const acceptedAllowUsed = filter(dataset.columns(), function (col) {\n                            return indexOf(axisDef.accepts, col.type()) >= 0;\n                        });\n                        if (acceptedAllowUsed.length) {\n                            axes[key] = acceptedAllowUsed[0].name();\n                        }\n                    }\n                }\n            } else {\n                const required = remainingRequiredColumns(axisDef.accepts);\n                let available = remainingAvailableColumns(dataset);\n\n                // fill axis with all accepted columns\n                axes[key] = [];\n                dataset.eachColumn(function (c) {\n                    if (required === 'multiple' && axes[key].length) return;\n                    else if (available <= required) return;\n\n                    if (checkColumn(axisDef, c)) {\n                        usedColumns[c.name()] = true;\n                        axes[key].push(c.name());\n                        available--;\n                    }\n                });\n            }\n        } else {\n            axes[key] = false;\n        }\n    });\n\n    each(axes, (columns, key) => {\n        if (!isArray(columns)) {\n            axesAsColumns[key] = columns !== false ? dataset.column(columns) : null;\n        } else {\n            axesAsColumns[key] = [];\n            each(columns, function (column, i) {\n                axesAsColumns[key][i] = column !== false ? dataset.column(column) : null;\n            });\n        }\n    });\n\n    return { axes, axesAsColumns, usedColumns };\n\n    function columnExists(columns) {\n        if (!isArray(columns)) columns = [columns];\n        for (var i = 0; i < columns.length; i++) {\n            if (!dataset.hasColumn(columns[i])) return false;\n        }\n        return true;\n    }\n\n    function checkColumn(axisDef, columns, allowMultipleUse) {\n        if (!isArray(columns)) columns = [columns];\n        columns = columns.map(el => (typeof el === 'string' ? dataset.column(el) : el));\n        for (var i = 0; i < columns.length; i++) {\n            if (\n                (!allowMultipleUse && usedColumns[columns[i].name()]) ||\n                indexOf(axisDef.accepts, columns[i].type()) === -1\n            ) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n","/* globals dw */\n\n/*\n * Every visualization extends this class.\n * It provides the basic API between the chart editor\n * and the visualization render code.\n */\n\nimport { extend, isEqual, debounce } from 'underscore';\nimport get from '@datawrapper/shared/get.js';\nimport clone from '@datawrapper/shared/clone.js';\nimport events from './utils/events.mjs';\nimport { remove } from './utils/index.mjs';\nimport populateVisAxes from './utils/populateVisAxes.mjs';\nimport filterDatasetColumns from './utils/filterDatasetColumns.mjs';\n\nconst base = function () {}.prototype;\n\nextend(base, {\n    // visualizations can override these timeouts when it makes sense\n    __rejectRenderedAfter: 5000,\n    __resolveRenderedAfter: 300,\n\n    setup() {\n        this.__renderEvents = { resolve: events(), reject: events() };\n        this.renderingComplete = debounce(this.__renderingComplete, this.__resolveRenderedAfter);\n    },\n\n    __beforeRender() {\n        if (this.__rejectTimeout) clearTimeout(this.__rejectTimeout);\n        this.__rejectTimeout = setTimeout(() => {\n            // if the visualization didn't complete rendering within 5s\n            // we want to reject the rendered() Promise\n            this.__renderEvents.reject.fire(\n                new Error(`timeout after ${this.__rejectRenderedAfter}ms`)\n            );\n        }, this.__rejectRenderedAfter);\n        this.__rendered = false;\n        // reset internal properties\n        this.__colors = {};\n        this.__callbacks = {};\n\n        if (window.parent && window.parent.postMessage) {\n            window.parent.postMessage('datawrapper:vis:init', '*');\n        }\n        return this;\n    },\n\n    render(el) {\n        el.innerHTML = 'implement me!';\n    },\n\n    theme(theme) {\n        if (!arguments.length) {\n            if (typeof this.__theme === 'string') return dw.theme(this.__theme);\n            return this.__theme;\n        }\n\n        this.__theme = theme;\n        return this;\n    },\n\n    libraries(libraries) {\n        if (!arguments.length) {\n            return this.__libraries || {};\n        }\n\n        this.__libraries = libraries;\n        return this;\n    },\n\n    target(target) {\n        if (!arguments.length) {\n            return this.__target;\n        }\n\n        this.__target = target;\n        return this;\n    },\n\n    size(width, height) {\n        const me = this;\n        if (!arguments.length) return [me.__w, me.__h];\n        me.__w = width;\n        me.__h = height;\n        return me;\n    },\n\n    /**\n     * short-cut for this.chart.get('metadata.visualize.*')\n     */\n    get(str, _default) {\n        return get(this.chart().get(), 'metadata.visualize' + (str ? '.' + str : ''), _default);\n    },\n\n    chart(chart) {\n        var me = this;\n        if (!arguments.length) return me.__chart;\n        me.dataset = chart.dataset();\n        me.theme(chart.theme());\n        me.__chart = chart;\n        // reset visualization cache to make sure\n        // auto-populated columns get re-created\n        me.__axisCache = undefined;\n        filterDatasetColumns(chart, me.dataset);\n\n        // set locale\n        const { numeral } = me.libraries();\n        if (numeral && chart.locales && chart.locales.numeral) {\n            try {\n                numeral.register('locale', 'dw', chart.locales.numeral);\n            } catch (e) {\n                if (e instanceof TypeError) {\n                    // already registered\n                } else {\n                    throw e;\n                }\n            }\n            numeral.locale('dw');\n        }\n\n        return me;\n    },\n\n    /**\n     * Get or set the container element the vis was last rendered in\n     * @param {HTMLElement} el\n     * @returns {HTMLElement|void}\n     */\n    container(el) {\n        if (!arguments.length) return this.__container;\n        this.__container = el;\n    },\n\n    /**\n     * Get or set the vis's outer container element\n     */\n    outerContainer(el) {\n        if (!arguments.length) return this.__outerContainer;\n        this.__outerContainer = el;\n    },\n\n    axes(returnAsColumns, noCache) {\n        const me = this;\n        const userAxes = get(me.chart().get(), 'metadata.axes', {});\n        const visAxes = clone(me.meta.axes);\n\n        const overrideKeys = Object.fromEntries(\n            Object.entries(visAxes)\n                .filter(([, axis]) => axis.optional && axis.overrideOptionalKey)\n                .map(([, axis]) => [\n                    axis.overrideOptionalKey,\n                    me.chart().getMetadata(axis.overrideOptionalKey, false)\n                ])\n        );\n\n        if (\n            !noCache &&\n            me.__axisCache &&\n            isEqual(me.__axisCache.userAxes, userAxes) &&\n            isEqual(me.__axisCache.overrideKeys, overrideKeys) &&\n            me.__axisCache.transpose === me.chart().getMetadata('data.transpose')\n        ) {\n            return me.__axisCache[returnAsColumns ? 'axesAsColumns' : 'axes'];\n        }\n\n        const dataset = me.chart().dataset();\n\n        const { axes, axesAsColumns } = populateVisAxes({\n            dataset,\n            userAxes,\n            visAxes,\n            overrideKeys\n        });\n\n        me.__axisCache = {\n            axes: axes,\n            axesAsColumns: axesAsColumns,\n            userAxes: clone(userAxes),\n            overrideKeys,\n            transpose: me.chart().getMetadata('data.transpose')\n        };\n\n        return me.__axisCache[returnAsColumns ? 'axesAsColumns' : 'axes'];\n    },\n\n    keys() {\n        const axesDef = this.axes();\n        if (axesDef.labels) {\n            const lblCol = this.dataset.column(axesDef.labels);\n            const keys = [];\n            lblCol.each(val => {\n                keys.push(String(val));\n            });\n            return keys;\n        }\n        return [];\n    },\n\n    keyLabel(key) {\n        return key;\n    },\n\n    /*\n     * called by the core whenever the chart is re-drawn\n     * without reloading the page\n     */\n    reset() {\n        this.clear();\n        const el = this.target();\n        el.innerHTML = '';\n        remove('.chart .filter-ui');\n        remove('.chart .legend');\n    },\n\n    clear() {},\n\n    __renderingComplete() {\n        this.__renderEvents.resolve.fire();\n        if (window.parent && window.parent.postMessage) {\n            setTimeout(function () {\n                window.parent.postMessage('datawrapper:vis:rendered', '*');\n            }, 200);\n        }\n        clearTimeout(this.__rejectTimeout);\n        this.__rendered = true;\n        this.postRendering();\n    },\n\n    postRendering() {},\n\n    /**\n     * Use this to wait until a visualization has finished rendering\n     *\n     * @returns {Promise} resolves when the rendering is completed\n     */\n    rendered() {\n        return new Promise((resolve, reject) => {\n            this.__renderEvents.resolve.add(resolve);\n            this.__renderEvents.reject.add(reject);\n        });\n    },\n\n    /*\n     * smart rendering means that a visualization is able to\n     * re-render itself without having to instantiate it again\n     */\n    supportsSmartRendering() {\n        return false;\n    },\n\n    colorMode(cm) {\n        if (!arguments.length) {\n            return this.__colorMode;\n        }\n\n        this.__colorMode = cm;\n    },\n\n    colorMap(cm) {\n        if (!arguments.length) {\n            return (...args) => {\n                let color = args[0];\n                const applyDarkModeMap = this.__darkMode && this.__darkModeColorMap;\n                this.__colors[color] = 1;\n                if (this.__colorMap) {\n                    if (applyDarkModeMap) color = this.__darkModeColorMap(...args);\n                    return this.__colorMap(color);\n                } else if (applyDarkModeMap) {\n                    color = this.__darkModeColorMap(...args);\n                }\n                return color;\n            };\n        }\n\n        this.__colorMap = cm;\n    },\n\n    initDarkMode(cb, cm) {\n        this.__onDarkModeChange = cb;\n        this.__darkModeColorMap = cm;\n    },\n\n    /**\n     * set or get dark mode state of vis\n     */\n    darkMode(dm) {\n        // can't initialize in __beforeRender because that sets it back to false on each render\n        if (this.__darkMode === undefined) this.__darkMode = false;\n        if (!arguments.length) return this.__darkMode;\n        if (!this.__onDarkModeChange) return;\n\n        this.__darkMode = dm;\n        this.__onDarkModeChange(dm);\n    },\n\n    colorsUsed() {\n        return Object.keys(this.__colors);\n    },\n\n    /**\n     * register an event listener for custom vis events\n     */\n    on(eventType, callback) {\n        if (!this.__callbacks[eventType]) {\n            this.__callbacks[eventType] = [];\n        }\n        this.__callbacks[eventType].push(callback);\n    },\n\n    /**\n     * fire a custom vis event\n     */\n    fire(eventType, data) {\n        if (this.__callbacks && this.__callbacks[eventType]) {\n            this.__callbacks[eventType].forEach(function (cb) {\n                if (typeof cb === 'function') cb(data);\n            });\n        }\n    },\n\n    /**\n     * log error message\n     * @param {string} message\n     */\n    showError(message) {\n        const { allowEditing } = this.chart().flags();\n        if (allowEditing) {\n            // inside editor we show the error to the user directly\n            this.container().innerHTML = `<div class=\"error\"><p>${message}</p></div>`;\n        }\n        console.warn(message);\n    }\n});\n\nexport default base;\n","export default function (chart, dataset) {\n    if (!dataset.filterColumns) return dataset;\n\n    const columnFormat = chart.getMetadata('data.column-format', {});\n    const ignore = Object.fromEntries(\n        Object.entries(columnFormat).map(([key, format]) => [key, !!format.ignore])\n    );\n    dataset.filterColumns(ignore);\n    return dataset;\n}\n","import numeral from 'numeral';\nimport chroma from 'chroma-js';\nimport { clone } from 'underscore';\nimport base from './visualization.base.mjs';\n\nconst __vis = {};\n\nfunction visualization(id, target) {\n    if (!__vis[id]) {\n        console.warn('unknown visualization type: ' + id);\n        const known = Object.keys(__vis);\n        if (known.length > 0) console.warn('try one of these instead: ' + known.join(', '));\n        return false;\n    }\n\n    function getParents(vis) {\n        const parents = [];\n\n        while (vis.parentVis !== 'base') {\n            vis = __vis[vis.parentVis];\n            parents.push({ id: vis.parentVis, vis });\n        }\n\n        return parents.reverse();\n    }\n\n    const vis = clone(base);\n\n    const parents = getParents(__vis[id]);\n    parents.push({ id, vis: __vis[id] });\n    parents.forEach(el => {\n        Object.assign(\n            vis,\n            typeof el.vis.init === 'function' ? el.vis.init({ target }) : el.vis.init,\n            { id }\n        );\n    });\n\n    vis.libraries(visualization.libraries);\n\n    if (target) {\n        vis.target(target);\n    }\n\n    vis.setup();\n\n    return vis;\n}\n\nvisualization.register = function (id) {\n    let parentVis, init;\n\n    if (arguments.length === 2) {\n        parentVis = 'base';\n        init = arguments[1];\n    } else if (arguments.length === 3) {\n        parentVis = arguments[1];\n        init = arguments[2];\n    }\n\n    __vis[id] = {\n        parentVis,\n        init\n    };\n};\n\nvisualization.has = function (id) {\n    return __vis[id] !== undefined;\n};\n\nvisualization.libraries = {\n    numeral,\n    chroma\n};\n\nvisualization.base = base;\n\nexport default visualization;\n","const __themes = {};\n\nfunction theme(id) {\n    return __themes[id];\n}\n\ntheme.register = function (id, themeData) {\n    __themes[id] = themeData;\n};\n\nexport default theme;\n","const __blocks = {};\n\nfunction block(id) {\n    return __blocks[id];\n}\n\nblock.register = function (id, lib) {\n    __blocks[id] = lib;\n};\n\nblock.has = function (id) {\n    return __blocks[id] !== undefined;\n};\n\nexport default block;\n","let __notifications = [];\n\nfunction notify(notification) {\n    notification.remove = () => {\n        __notifications = __notifications.filter(d => d !== notification);\n        window.parent.dw.backend.fire('notifications.change', __notifications);\n    };\n    __notifications.push(notification);\n    try {\n        window.parent.dw.backend.fire('notifications.change', __notifications);\n        return notification.remove;\n    } catch (ex) {\n        /* not in editor, do nothing */\n    }\n}\nexport default notify;\n","/* eslint-env node */\nimport dataset from './dataset/index.mjs';\nimport column from './dataset/column.mjs';\nimport delimited from './dataset/delimited.mjs';\nimport columnTypes from './dataset/columnTypes/index.mjs';\nimport json from './dataset/json.mjs';\nimport * as utils from './utils/index.mjs';\nimport chart from './chart.mjs';\nimport visualization from './visualization.mjs';\nimport theme from './theme.mjs';\nimport block from './block.mjs';\nimport notify from './notify.mjs';\n\ncolumn.types = columnTypes;\n\n// dw.start.js\nconst dw = {\n    version: 'chart-core@__chartCoreVersion__',\n    dataset,\n    column,\n    datasource: {\n        delimited,\n        json\n    },\n    utils,\n    chart,\n    visualization,\n    theme,\n    block,\n    notify\n};\n\nif (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n        exports = module.exports = dw;\n    }\n    exports.dw = dw;\n} else {\n    window.dw = dw;\n}\n\nexport default dw;\n","export default function (chart, dataset) {\n    var order = chart.getMetadata('data.column-order', []);\n    if (order.length && order.length === dataset.numColumns()) {\n        dataset.columnOrder(order);\n    }\n    return dataset;\n}\n"],"names":["guessDelimiterFromLocale","numeral","localeData","delimiters","decimal","e","formatDelimited","rows","delimiter","quoteChar","lineTerminator","arguments","length","undefined","map","row","value","Number","isFinite","s","String","indexOf","replace","RegExp","test","escapeDelimitedValue","join","delimited$1","VERSION","root","self","global","Function","ArrayProto","Array","prototype","ObjProto","Object","SymbolProto","Symbol","push","slice","toString","hasOwnProperty","supportsArrayBuffer","ArrayBuffer","supportsDataView","DataView","nativeIsArray","isArray","nativeKeys","keys","nativeCreate","create","nativeIsView","isView","_isNaN","isNaN","_isFinite","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","MAX_ARRAY_INDEX","Math","pow","restArguments","func","startIndex","max","rest","index","call","this","args","apply","isObject","obj","type","isNull","isUndefined","isBoolean","isElement","nodeType","tagTester","name","tag","isString","isNumber","isDate","isRegExp","isError","isSymbol","isArrayBuffer","isFunction","nodelist","document","childNodes","Int8Array","isFunction$4","hasObjectTag","hasStringTagBug","isIE11","Map","isDataView","isDataView$1","getInt8","buffer","isArray$5","has","key","isArguments","isArguments$3","parseFloat","constant","createSizePropertyCheck","getSizeProperty","collection","sizeProperty","shallowProperty","getByteLength","isBufferLike","typedArrayPattern","isTypedArray$4","getLength","collectNonEnumProps","hash","l","i","contains","emulatedSet","nonEnumIdx","constructor","proto","prop","isEmpty","isMatch","object","attrs","_keys","_","_wrapped","toBufferView","bufferSource","Uint8Array","byteOffset","valueOf","toJSON","tagDataView","eq","a","b","aStack","bStack","deepEq","className","areArrays","isTypedArray","aCtor","bCtor","pop","isEqual","allKeys","ie11fingerprint","methods","weakMapMethods","forEachName","commonInit","mapTail","mapMethods","concat","setMethods","isMap","isWeakMap","isSet","isWeakSet","values","pairs","invert","result","functions","names","sort","createAssigner","keysFunc","defaults","source","extend","extendOwn","baseCreate","Ctor","props","clone","tap","interceptor","toPath","path","deepGet","get","defaultValue","_has","identity","matcher","property","optimizeCb","context","argCount","accumulator","baseIteratee","iteratee","Infinity","cb","mapObject","results","currentKey","noop","propertyOf","times","n","accum","random","min","floor","_$1","now","Date","getTime","createEscaper","escaper","match","testRegexp","replaceRegexp","string","escapeMap","escape","unescape","templateSettings","evaluate","interpolate","noMatch","escapes","escapeRegExp","escapeChar","bareIdentifier","template","text","settings","oldSettings","offset","render","argument","variable","Error","data","fallback","idCounter","uniqueId","prefix","id","chain","instance","_chain","executeBound","sourceFunc","boundFunc","callingContext","partial","boundArgs","placeholder","bound","position","bind","TypeError","callArgs","isArrayLike$2","flatten","input","depth","strict","output","idx","isArrayLike","j","len","bindAll","memoize","hasher","cache","address","delay","wait","setTimeout","defer","throttle","options","timeout","previous","later","leading","throttled","_now","remaining","clearTimeout","trailing","cancel","debounce","immediate","passed","debounced","_args","wrap","wrapper","negate","predicate","compose","start","after","before","memo","once","findKey","createPredicateIndexFinder","dir","array","findIndex","findLastIndex","sortedIndex","low","high","mid","createIndexFinder","predicateFind","item","lastIndexOf","find","findWhere","each","createReduce","reducer","initial","reduce","reduceRight","filter","list","reject","every","some","fromIndex","guard","invoke","contextPath","method","pluck","where","computed","lastComputed","v","reStrSymbol","toArray","sample","last","rand","temp","shuffle","sortBy","criteria","left","right","group","behavior","partition","groupBy","indexBy","countBy","pass","size","keyInObj","pick","omit","first","compact","Boolean","_flatten","difference","without","otherArrays","uniq","isSorted","seen","union","arrays","intersection","argsLength","unzip","zip","range","stop","step","ceil","chunk","count","chainResult","mixin","Dataset","columns","columnsByName","origColumns","uniqueName","col","origColName","baseColName","suffix","colName","forEach","dataset","column","nameOrIndex","numColumns","numRows","eachColumn","hasColumn","columnName","o","val","csv","includeComputedColumns","includeHeader","includeOrder","includeFiltered","opts","table","isComputed","title","formatted","toCSV","filterColumns","ignore","c","ign","eachRow","add","limitRows","limitColumns","numCols","columnOrder","sortOrder","columnsWithNewIndexes","newIndex","x","align","maxNumRows","padding","fill","clear","deleteRow","_len","rowIndexes","_key","numDeleted","rowIndex","deletedRows","begin","end","s0","s1","s2","s3","sM","rx","YY","parse","YYYY","YYYY2","H","Q","W","MM","DD","DOW","HHMM","MONTHS","shortMonthKey","abbr","m","MMM","ISO8601_REG","r","knownFormats","reg","precision","ISO8601","str","fmt","dateFromIsoWeek","year","week","day","d","UTC","setUTCDate","getUTCDay","parseInt","hour","hr","amPm","columnTypes","errors","isValid","format","number","formatLabels","naStrings","na","matches","bestMatch","regex","raw","toLowerCase","toNum","fromNum","ambiguousFormats","candidates","cnt","date","toUpperCase","guessTwoDigitYear","yr","curYear","getFullYear","console","warn","NaN","module","exports","_typeof","iterator","_setPrototypeOf","p","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_construct","Parent","Class","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","from","minLen","arr2","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","_ref","fun","thisValue","Func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","trim","regExpTest","typeErrorCreate","unconstruct","thisArg","_len2","_key2","addToSet","set","transformCaseFunc","element","lcElement","newObject","lookupGetter","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","window","_createTrustedTypesPolicy","trustedTypes","createPolicy","ATTR_NAME","currentScript","hasAttribute","getAttribute","policyName","createHTML","createScriptURL","scriptUrl","createDOMPurify","DOMPurify","version","removed","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","createElement","content","ownerDocument","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","documentMode","hooks","createHTMLDocument","PARSER_MEDIA_TYPE","MUSTACHE_EXPR$1","ERB_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","namespaceURI","parentTagName","_forceRemove","node","parentNode","removeChild","outerHTML","remove","_removeAttribute","attribute","getAttributeNode","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","createTextNode","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","elm","nodeName","textContent","attributes","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","allowedTags","hasChildNodes","firstElementChild","_basicCustomElementTest","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","oldNode","returnNode","toStaticHTML","appendChild","firstChild","nodeIterator","shadowroot","serializedHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","purify","factory","browser","require$$0","default","defineProperty","memoizer","createPermanentMemoizer","memoizer$1","keySerializer","valueCreator","maxsize","serializedKey","__importDefault","mod","__esModule","isomorphic_dompurify_1","memoizer_1","require$$1","DEFAULT_ALLOWED","MEMOIZER_MAXSIZE","el","allowedTagsInput","config","split","purifyHtml","Column","name_","notEmpty","types","tolerance","t","guessType","valueRange","sum","mean","median","origName","origRows","unfiltered","f","MAX_VALUE","numbers","d3Numeric","d3Number","h","d3Quantile","d3Ascending","d3Median","filterRows","splice","total","delimited","url","ts","fetch","then","res","DelimitedParser","Promise","resolve","err","loadAndParseCsv","catch","error","chartId","message","assign","skipRows","emptyValue","transpose","firstRowIsHeader","__delimiterPatterns","getDelimiterPatterns","__rawData","guessDelimiter","closure","arrData","delimiterPattern","strData","strDelimiter","strMatchedValue","arrMatches","exec","strMatchedDelimiter","substr","q","parseCSV","arrMatrix","w","firstRow","columnNames","srcColumns","shift","makeColumns","makeDataset","trimArrayData","maxMatchCount","k","me","json","JSON","loadAndParseJSON","tailLength","round","decimals","base","tailLength_1","round_1","underscore_1","require$$2","significantDimension","uniqValues","totalUniq","check","diff","accepted","acc","cur","exp","log","abs","LN10","currentRound","maxIter","significantDimension_1","clone_1","stringify","get_1","_default","pt","outerHeight","withMargin","height","offsetHeight","style","getComputedStyle","marginTop","marginBottom","getNonChartHeight","chart","querySelector","children","hasClass","classList","properties","sel","selector","getProp","TEOF","TOP","TNUMBER","TSTRING","TPAREN","TBRACKET","TCOMMA","TNAME","TSEMICOLON","Token","TokenStream","parser","expression","pos","current","unaryOps","binaryOps","ternaryOps","consts","savedPosition","savedCurrent","newToken","save","restore","next","isWhitespace","isComment","isRadixInteger","isOperator","isParen","isBracket","isComma","isSemicolon","isNamedOp","isConst","isName","parseError","charAt","startPos","quote","rawString","substring","isOperatorEnabled","hasLetter","codePointPattern","codePoint","fromCharCode","backslash","radix","validDigit","valid","resetPos","foundDot","foundDigits","acceptSign","validExponent","op","getCoordinates","line","newline","msg","coords","INUMBER","IOP1","IOP2","IOP3","IVAR","IVARNAME","IFUNCALL","IFUNDEF","IEXPR","IEXPREVAL","IMEMBER","IENDSTATEMENT","IARRAY","Instruction","unaryInstruction","binaryInstruction","ParserState","tokenStream","tokens","nextToken","savedNextToken","allowMemberAccess","restrictMemberAccess","Set","tokenMatches","token","accept","expect","parseAtom","instr","parseExpression","parseArrayList","exprInstr","parseUntilEndStatement","parseVariableAssignmentExpression","pushExpression","parseConditionalExpression","varName","varValue","lastInstrIndex","parseOrExpression","trueBranch","falseBranch","parseAndExpression","parseComparison","COMPARISON_OPERATORS","parseAddSub","ADD_SUB_OPERATORS","parseTerm","TERM_OPERATORS","sub","mul","div","equal","notEqual","greaterThan","lessThan","greaterThanEqual","lessThanEqual","andOperator","orOperator","log10","LOG10E","neg","not","trunc","stringOrArrayLength","condition","cond","yep","nope","roundTo","arrayIndex","arrayMap","arrayFold","init","arrayFilter","sign","log1p","log2","LN2","expr","n1","n2","n3","nstack","isExpressionEvaluator","resolveExpression","numTokens","unshift","scope","createExpressionEvaluator","Expression","parseFactor","parseExponential","parsePostfixExpression","parseFunctionCall","parseMemberExpression","parseArgumentList","variables","RESTRICT_MEMBER_ACCESS","Parser","SIN","sin","COS","cos","TAN","tan","ASIN","asin","ACOS","acos","ATAN","atan","SQRT","sqrt","LOG","LOG2","LN","LOG10","LG","LOG1P","ABS","CEIL","FLOOR","ISNULL","TRUNC","EXP","NOT","LENGTH","SIGN","TEXT","toISOString","NUMBER","and","or","in","needle","haystack","includes","asDate","filterNumbers","PROPER_REGEX","TITLE_REGEX","ESCAPE_REGEX","IF","RANDOM","MIN","MAX","SUM","MEAN","MEDIAN","POW","ATAN2","atan2","ROUND","CONCAT","TRIM","SUBSTR","REPLACE","search","REPLACE_REGEX","SPLIT","sep","LOWER","UPPER","PROPER","txt","TITLE","SORT","asc","SLICE","JOIN","sepLast","MAP","FOLD","FILTER","PLUCK","INDEXOF","target","FIND","RANGE","EVERY","SOME","DATE","YEAR","MONTH","getMonth","DAY","getDate","WEEKDAY","getDay","HOURS","getHours","MINUTES","getMinutes","SECONDS","getSeconds","DATEDIFF","d1","d2","TIMEDIFF","E","PI","TRUE","FALSE","NA","NULL","parserState","sharedParser","keywords","optionNameMap","AND","OR","IN","optionName","getOptionName","operators","TPL_REG","templateParser","expressions","formula","getMaxChartHeight","innerHeight","maxH","width","elementOrSelector","parentElement","getHeightMode","themeData","visualizationMeta","renderFlags","fitchart","addPrecision","dim","evaluateTemplate","minmax","minDiffVal","minDiff","locale","callback","readyState","addEventListener","_freeGlobal","freeGlobal","freeSelf","_root","_Symbol","objectProto","nativeObjectToString","symToStringTag","toStringTag","_getRawTag","isOwn","unmasked","getRawTag","objectToString","nullTag","undefinedTag","_baseGetTag","_overArg","transform","arg","getPrototype","isObjectLike_1","baseGetTag","isObjectLike","objectTag","funcProto","funcToString","objectCtorString","isPlainObject_1","lastKey","_listCacheClear","__data__","eq_1","other","_assocIndexOf","assocIndexOf","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","entry","_ListCache","_stackClear","_stackDelete","_stackGet","_stackHas","isObject_1","asyncTag","funcTag","genTag","proxyTag","uid","isFunction_1","coreJsData","maskSrcKey","IE_PROTO","_isMasked","_toSource","isMasked","toSource","require$$3","reIsHostCtor","reIsNative","_getValue","baseIsNative","getValue","_getNative","_Map","_nativeCreate","_hashClear","_hashDelete","HASH_UNDEFINED","_hashGet","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","isKeyable","_getMapData","getMapData","_mapCacheDelete","_mapCacheSet","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","require$$4","MapCache","_MapCache","LARGE_ARRAY_SIZE","_stackSet","stackClear","stackDelete","stackGet","stackHas","stackSet","require$$5","Stack","_Stack","setCacheAdd","setCacheHas","SetCache","arraySome","cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","_equalArrays","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","arrValue","othValue","compared","othIndex","_mapToArray","_setToArray","equalArrays","mapToArray","setToArray","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","symbolProto","symbolValueOf","_equalByTag","byteLength","convert","stacked","_arrayPush","isArray_1","_baseGetAllKeys","symbolsFunc","_arrayFilter","resIndex","stubArray","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","_getSymbols","_baseTimes","argsTag","baseIsArguments","isArguments_1","stubFalse_1","stubFalse","freeExports","freeModule","Buffer","isBuffer","MAX_SAFE_INTEGER","reIsUint","_isIndex","isLength_1","isLength","typedArrayTags","_baseIsTypedArray","_baseUnary","freeProcess","process","nodeUtil","require","binding","baseIsTypedArray","baseUnary","nodeIsTypedArray","isTypedArray_1","baseTimes","isIndex","_arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","_isPrototype","isPrototype","_baseKeys","arrayLikeKeys","baseKeys","keys_1","baseGetAllKeys","_getAllKeys","getAllKeys","_equalObjects","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","WeakMap","require$$6","promiseTag","weakMapTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","equalByTag","equalObjects","require$$7","arrayTag","_baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqualDeep","_baseIsEqual","baseIsEqual","isEqual_1","isEqual_js_1","isPlainObject_js_1","diffKeys","allowedKeys","patch","targetKey","childPatch","sourceKey","objectDiff","postEvent","isIframe","host","event","postMessage","evt","events","fire","applyChanges","changes","getMetadata","change","ignored","columnFormat","columnNameToVariable","addComputedColumns","virtualColumns","columnNameToVar","colAggregates","vNamesToVar","visited","dependsOn","computedColumns","curIter","visit","startsWith","delete","errorCol","_ref3","old","ROWNUMBER","aggr","virtualColumn","RangeError","toISOStringSafe","addComputedColumn","_ref2","allComputed","getNestedObjectKeys","isPlainObject","subkey","binary","unformatRegex","formats","locales","currentLocale","zeroFormat","nullFormat","defaultFormat","scalePercentBy100","Numeral","_input","_value","kind","unformatFunction","regexp","isNumeral","regexps","unformat","stringToNumber","numberToFormat","roundingFunction","leadingCount","abbrForce","int","signed","thousands","negP","optDec","trillion","billion","million","abbreviations","thousand","toFixed","abbreviation","stringOriginal","currency","insert","subString","multiplier","parts","correctionFactor","mn","maxDecimals","optionals","boundedPrecision","optionalsRegExp","power","splitValue","minDecimals","reset","register","validate","culture","_decimalSep","_thousandSep","_currSymbol","_valArray","_abbrObj","_thousandRegEx","fn","inputString","formatFunction","corrFactor","curr","currI","O","subtract","multiply","divide","ordinal","space","suffixes","bytes","bytesMultiplier","symbols","toExponential","hours","minutes","seconds","timeArray","limit$2","limit$1","clip_rgb$3","rgb","_clipped","_unclipped","classToType","i$1","list$1","type$p","type$o","unpack$B","keyOrder","type$n","last$4","PI$2","utils","clip_rgb","limit","unpack","TWOPI","PITHIRD","DEG2RAD","RAD2DEG","input$h","autodetect","last$3","clip_rgb$2","type$m","Color$D","mode","sorted","chk","_rgb","hex","Color_1","chroma$k","Color","chroma_1","unpack$A","max$2","rgb2cmyk$1","ref","g","rgb2cmyk_1","unpack$z","cmyk2rgb","y","alpha","cmyk2rgb_1","chroma$j","Color$C","input$g","unpack$y","type$l","rgb2cmyk","cmyk","unpack$x","last$2","rnd","hsl2css$1","hsla","hsl2css_1","unpack$w","rgb2hsl$3","rgb2hsl_1","unpack$v","last$1","hsl2css","rgb2hsl$2","round$6","rgb2css$1","rgba","rgb2css_1","unpack$u","round$5","hsl2rgb$1","t3","t2","t1","h_","hsl2rgb_1","hsl2rgb","input$f","RE_RGB","RE_RGBA","RE_RGB_PCT","RE_RGBA_PCT","RE_HSL","RE_HSLA","round$4","css2rgb$1","css","named","rgb$1","rgb$2","i$2","rgb$3","i$3","hsl","rgb$4","hsl$1","rgb$5","css2rgb_1","chroma$i","Color$B","input$e","type$k","rgb2css","css2rgb","Color$A","chroma$h","input$d","unpack$t","gl","unpack$s","rgb2hcg$1","delta","_g","rgb2hcg_1","unpack$r","floor$3","hcg2rgb","assign$1","assign$2","assign$3","assign$4","assign$5","_c","hcg2rgb_1","unpack$q","type$j","chroma$g","Color$z","input$c","rgb2hcg","hcg","unpack$p","round$3","rgb2hex$2","hxa","rgb2hex_1","RE_HEX","RE_HEXA","hex2rgb_1","u","u$1","chroma$f","Color$y","type$i","input$b","rgb2hex$1","unpack$o","TWOPI$2","min$2","sqrt$4","rgb2hsi$1","min_","rgb2hsi_1","unpack$n","TWOPI$1","cos$4","hsi2rgb","hsi2rgb_1","unpack$m","type$h","chroma$e","Color$x","input$a","rgb2hsi","hsi","unpack$l","type$g","chroma$d","Color$w","input$9","rgb2hsl$1","unpack$k","min$1","max$1","rgb2hsl","max_","rgb2hsv$1","unpack$j","floor$2","hsv2rgb","hsv2rgb_1","unpack$i","type$f","chroma$c","Color$v","input$8","rgb2hsv","hsv","labConstants","Kn","Xn","Yn","Zn","t0","LAB_CONSTANTS$3","unpack$h","pow$a","rgb2lab$2","ref$1","rgb2xyz","rgb_xyz","xyz_lab","rgb2lab_1","LAB_CONSTANTS$2","unpack$g","pow$9","lab2rgb$1","z","lab_xyz","xyz_rgb","lab2rgb_1","unpack$f","type$e","chroma$b","Color$u","input$7","rgb2lab$1","lab","unpack$e","sqrt$3","atan2$2","round$2","lab2lch$2","lab2lch_1","unpack$d","rgb2lab","lab2lch$1","rgb2lch$1","b_","rgb2lch_1","unpack$c","sin$3","cos$3","lch2lab$2","lch2lab_1","unpack$b","lch2lab$1","lab2rgb","lch2rgb$1","L","lch2rgb_1","unpack$a","lch2rgb","hcl2rgb","hcl","reverse","hcl2rgb_1","unpack$9","type$d","chroma$a","Color$t","input$6","rgb2lch","lch","w3cx11_1","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflower","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","laserlemon","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrod","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","maroon2","maroon3","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","purple2","purple3","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","Color$s","input$5","type$c","w3cx11","hex2rgb","rgb2hex","unpack$8","rgb2num$1","rgb2num_1","type$b","num2rgb_1","num","chroma$9","Color$r","input$4","type$a","rgb2num","chroma$8","Color$q","input$3","unpack$7","type$9","round$1","log$1","temperature2rgb_1","kelvin","temperature2rgb","unpack$6","rgb2temperature$1","minTemp","maxTemp","eps","chroma$7","Color$p","input$2","rgb2temperature","temperature","unpack$5","cbrt","pow$8","sign$1","rgb2oklab$2","rgb2lrgb","lr","lg","lb","rgb2oklab_1","unpack$4","pow$7","oklab2rgb$1","lrgb2rgb","oklab2rgb_1","unpack$3","type$8","chroma$6","Color$o","input$1","rgb2oklab$1","oklab","unpack$2","rgb2oklab","lab2lch","rgb2oklch$1","rgb2oklch_1","unpack$1","lch2lab","oklab2rgb","oklch2rgb","oklch2rgb_1","type$7","chroma$5","Color$n","rgb2oklch","oklch","Color$m","type$6","mutate","clipped","Color$k","LAB_CONSTANTS$1","darken","amount","brighten","darker","brighter","mc","channel","src","Color$i","type$5","pow$6","EPS","MAX_ITER","luminance","lum","cur_lum","max_iter","lm","rgb2luminance","luminance_x","interpolator$1","Color$h","type$4","interpolator","mix$1","col1","col2","Color$g","mix","Color$f","premultiply","Color$e","LAB_CONSTANTS","saturate","desaturate","Color$d","type$3","out","Color$c","xyz0","xyz1","Color$b","sqrt$2","pow$5","lrgb","x1","y1","z1","x2","y2","z2","Color$a","Color$9","_hsx","hue0","hue1","sat0","sat1","lbv0","lbv1","sat","hue","lbv","interpolate_hsx$5","Color$8","c1","c2","interpolate_hsx$4","interpolate_hsx$3","interpolate_hsx$2","interpolate_hsx$1","Color$7","interpolate_hsx","Color$6","clip_rgb$1","pow$4","sqrt$1","PI$1","cos$2","sin$2","atan2$1","average","colors","weights","_average_lrgb","xyz","dx","dy","A","ci","xyz2","A$1","chroma$4","type$2","pow$3","scale$2","_mode","_nacol","_spread","_domain","_pos","_padding","_classes","_colors","_out","_min","_max","_correctLightness","_colorCache","_useCache","_gamma","setColors","brewer","c$1","resetCache","getClass","tMapLightness","tMapDomain","getColor","bypassMap","classes","analyze","limits","domain","tOut","tBreaks","_m","_o","spread","correctLightness","L0","L1","pol","L_actual","L_ideal","L_diff","numColors","dm","dd","__range__","samples","gamma","nodata","inclusive","ascending","Color$5","scale$1","binom_row","newrow","bezier","I","lab0","lab1","lab2","lab3","labs","bezier_1","scale","chroma$3","blend","bottom","top","blend_f","c0","normal","lighten","screen","overlay","burn","dodge","blend_1","type$1","pow$2","sin$1","cos$1","chroma$2","cubehelix","rotations","lightness","dl","dh","fract","amp","cos_a","sin_a","Color$4","digits","floor$1","random_1","code","pow$1","abs$1","min_log","max_log","pb","pr","cluster","assignments","clusterSizes","repeat","nb_iters","centroids","i$4","mindist","best","j$1","dist","newCentroids","j$2","i$5","j$3","j$4","kClusters","j$5","i$6","tmpKMeansBreaks","j$6","i$7","analyze_1","Color$3","contrast","l1","l2","Color$2","deltaE","Kl","Kc","Kh","rad2deg","rad","deg2rad","deg","a1","b1","L2","a2","b2","avgL","avgC","G","a1p","a2p","C1p","C2p","avgCp","arctan1","arctan2","h1p","h2p","avgHp","T","deltaHp","deltaL","deltaCp","sl","sc","sh","deltaTheta","Rt","Color$1","distance","sum_sq","chroma$1","scales","cool","hot","colorbrewer","OrRd","PuBu","BuPu","Oranges","BuGn","YlOrBr","YlGn","Reds","RdPu","Greens","YlGnBu","Purples","GnBu","Greys","YlOrRd","PuRd","Blues","PuBuGn","Viridis","Spectral","RdYlGn","RdBu","PiYG","PRGn","RdYlBu","BrBG","RdGy","PuOr","Set2","Accent","Set1","Set3","Dark2","Paired","Pastel2","Pastel1","colorbrewer_1","chroma","chroma_js","populateVisAxes","visAxes","userAxes","overrideKeys","usedColumns","axes","axesAsColumns","optional","overrideOptionalKey","columnExists","checkColumn","multiple","checked","axisDef","required","accepts","equalAccepts","remainingRequiredColumns","available","remainingAvailableColumns","firstMatch","preferred","acceptedAllowUsed","allowMultipleUse","__rejectRenderedAfter","__resolveRenderedAfter","setup","__renderEvents","renderingComplete","__renderingComplete","__beforeRender","__rejectTimeout","__rendered","__colors","__callbacks","theme","__theme","dw","libraries","__libraries","__target","__w","__h","__chart","__axisCache","fromEntries","filterDatasetColumns","container","__container","outerContainer","__outerContainer","returnAsColumns","noCache","meta","axis","axesDef","labels","lblCol","keyLabel","postRendering","rendered","supportsSmartRendering","colorMode","cm","__colorMode","colorMap","_this","color","applyDarkModeMap","__darkMode","__darkModeColorMap","__colorMap","initDarkMode","__onDarkModeChange","darkMode","colorsUsed","on","eventType","showError","allowEditing","flags","__vis","visualization","known","vis","parents","parentVis","getParents","__themes","__blocks","block","lib","__notifications","datasource","metricPrefix","changeCallbacks","datasetChangeCallbacks","_assets","_ds","_translations","setMetadata","getElementBounds","rootBounds","getBoundingClientRect","elementBounds","load","externalData","dsopts","ds","order","reorderColumns","setDataset","_theme","_vis","hasHighlight","hl","isHighlighted","objName","_locale","_metricPrefix","inEditor","backend","ex","createPostEvent","PostEvent","_flags","heightMode","clearInterval","__resizingInterval","setInterval","toggle","breakpoint","desiredHeight","previewId","sentinel","location","href","datawrapperHeightCallback","clientWidth","onChange","onDatasetChange","dataCellChanged","changed","asset","translations","translate","translation","language","notify","notification"],"mappings":"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ynB,GACrB,OAAOgI,GAAazvB,MAAMynB,EAC9B,EAEAoB,GAAOt3B,SAAW,SAAUk2B,EAAMkB,GAC9B,OAAO8G,GAAazvB,MAAMynB,GAAMl2B,SAASo3B,EAC7C,EAEAE,GAAO6G,SAAW,CACd,MACA,OACA,QACA,MACA,OACA,QACA,OACA,QACA,QACA,OACA,OACA,SACA,MACA,OACA,WACA,MACA,IACA,QACA,MACA,QACA,OACA,QACA,QACA,KACA,KACA,UACA,SACA,OACA,SACA,KACA,MACA,QACA,QACA,OACA,QACA,MACA,MACA,OACA,SACA,MACA,UACA,QACA,MACA,MACA,KACA,KACA,QACA,MACA,SACA,SACA,QACA,UACA,gBACA,QACA,UACA,OACA,MACA,OACA,QACA,OACA,OACA,QACA,OACA,SACA,MACA,MACA,OACA,WACA,QACA,OACA,QACA,QACA,UACA,QAGJ,IAAIC,GAAgB,CAChB,IAAK,MACL,IAAK,WACL,IAAK,WACL,IAAK,SACL,IAAK,YACL,IAAK,QACL,IAAK,YACL,IAAK,aACL,IAAK,aACL,KAAM,aACN,KAAM,aACN,KAAM,aACN,KAAM,aACN,KAAM,cACNC,IAAK,UACLC,GAAI,UACJrF,IAAK,UACLsF,GAAI,UACJ,IAAK,cACL,IAAK,cACL,IAAK,aACL,IAAK,QACL,MAAO,SAOXjH,GAAO/jC,UAAUs8B,kBAAoB,SAAUc,GAC3C,IAAI6N,EALR,SAAuB7N,GACnB,OAAOl9B,OAAOF,UAAUQ,eAAe4B,KAAKyoC,GAAezN,GAAMyN,GAAczN,GAAMA,CACzF,CAGqB8N,CAAc9N,GAC3B+N,EAAY9oC,KAAK6N,QAAQi7B,WAAa,CAAA,EAE1C,QAASF,KAAcE,MAAgBA,EAAUF,EACrD,ECrqCA,MAAMG,GAAU,iBAKD,SAASC,GAAer+B,GACnC,MAAMs+B,EAAc,CAAA,EACd/Q,EAAS,IAAIwJ,GAOnB,OANA/2B,EAAS7N,QAAQisC,IAAS,CAACpsC,EAAGusC,MAC1BA,EAAUA,EAAQ1pB,UACFypB,EAAYC,KACxBD,EAAYC,GAAWhR,EAAOrf,MAAMqwB,GACxC,IAEG9gC,GACHuC,EAAS7N,QAAQisC,IAAS,CAACpsC,EAAGusC,KAC1B,MAAMxiC,EAASwiC,EAAQ1pB,OAASypB,EAAYC,EAAQ1pB,QAAQpV,SAAShC,GAAW,GAChF,OAAkB,OAAX1B,EAAkB,GAAKA,CAAM,GAEhD,CClBA,MAAMwe,GAAe,CACjB,IACA,OACA,UACA,IACA,MACA,aACA,KACA,UACA,OACA,OACA,MACA,WACA,KACA,MACA,UACA,MACA,MACA,KACA,KACA,KACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,SACA,IACA,MACA,MACA,MACA,KACA,OACA,QACA,KACA,IACA,MACA,IACA,IACA,QACA,OACA,SACA,SACA,MACA,UACA,MACA,QACA,QACA,KACA,KACA,QACA,QACA,KACA,KACA,IACA,KACA,OCbG,SAAStkB,GAAKR,GACjB,OAAOiB,EAAWjB,EAAIQ,MAAQR,EAAIQ,OAASE,EAASV,EAAIQ,MAAQR,EAAIQ,KAAOR,CAC/E,CAEO,SAAS+oC,KACZ,GAA2B,IAAvBxnB,OAAOynB,YAAmB,OAAO,EACrC,IAAIC,EAAO1nB,OAAOynB,YAAcvS,KAChC,OAAOt3B,KAAKK,IAAIypC,EAAM,EAC1B,CA6CO,SAASC,GAAMppB,GAClB,MAAMyT,EAAInxB,WAAWk0B,iBAAiBxW,EAAS,MAAMopB,MAAMxsC,QAAQ,KAAM,KACzE,OAAOmC,MAAM00B,GAAK,EAAIA,CAC1B,CAUO,SAASpK,GAAOggB,GACnB,MAAMrpB,EAC2B,iBAAtBqpB,EACDhoC,SAASw1B,cAAcwS,GACvBA,EACNrpB,GAASA,EAAQspB,cAAcngB,YAAYnJ,EACnD,CAcO,SAASupB,GAAa9qB,GAAgD,IAA/C+qB,UAAEA,EAASC,kBAAEA,EAAiBC,YAAEA,GAAajrB,EAIvE,OADI9W,GAAI6hC,EAAW,wBAAwB,IAFvB,CAAC,UAAW,YAAa,mBAAoB,sBAEA1F,SAAS2F,EAAkBl+B,KACpEm+B,EAAYC,UAAyC,UAA7BF,EAAkBpT,OAC5D,MACA,OACV,8GdzIiB,SAAoBhwB,GAA2C,IAAnCujC,EAAY3tC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EAAG6zB,EAAS7zB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACnE4tC,GAAM,EAAIhU,GAAuBzH,SAAS/nB,EAAQypB,GAEtD,OADA+Z,GAAOD,EACAvjC,EAAOjK,KAAIqV,IAAK,EAAImjB,GAAQxG,SAAS3c,EAAGo4B,IACnD,WeTiB,SAAkBllC,EAAGC,GAClC,OAAOvF,KAAKo2B,IAAI9wB,EAAIC,GAAK,IAC7B,wEFkEe,SAAsB6F,GACjC,MAAMq/B,EAAmBhB,GAAer+B,GACxC,OAAOvC,GAAWunB,GAAWqa,EAAiB5hC,GAAU8c,GAC5D,2BCvCO,SAAgBvQ,GACnB,MAAMs1B,EAAS,CAACxtC,OAAOk0B,WAAYl0B,OAAOk0B,WAK1C,OAJAhc,EAAQS,SAAQE,IACZ20B,EAAO,GAAK1qC,KAAK6J,IAAI6gC,EAAO,GAAI30B,EAAOpB,QAAQ,IAC/C+1B,EAAO,GAAK1qC,KAAKK,IAAIqqC,EAAO,GAAI30B,EAAOpB,QAAQ,GAAG,IAE/C+1B,CACX,mBAKO,SAA0Bt1B,GAE7B,OAAOW,GAAO,GADAX,EAAQrY,KAAIyY,GAAOA,EAAIwB,UAEzC,uCAYO,SAAiB7G,EAAOlT,GAC3B,IACI0tC,EADAC,EAAU1tC,OAAOk0B,UASrB,OAPAjhB,EAAM0F,SAAQzD,IACV,IAAI6I,EAAIjb,KAAKo2B,IAAIhkB,EAAInV,GACjBge,EAAI2vB,IACJA,EAAU3vB,EACV0vB,EAAav4B,EACjB,IAEGu4B,CACX,eAEO,SAAsBE,GACzB,OAAQA,EAAO7W,OAAO,EAAG,GAAG3X,eACxB,IAAK,KACD,MAAO,CAAE,EAAG,QAAS,EAAG,QAAS,EAAG,QAAS,GAAI,SACrD,IAAK,KACD,MAAO,CAAE,EAAG,OAAQ,EAAG,OAAQ,EAAG,QACtC,IAAK,KACD,MAAO,CAAE,EAAG,OAAQ,EAAG,WAC3B,QACI,MAAO,CAAE,EAAG,IAAK,EAAG,IAAK,EAAG,QAExC,iBAEO,SAAwBquB,GAC3B,OACI1qC,KAAKm1B,MAAMn1B,KAAKm2B,IAAIuU,EAAO,IAAM1qC,KAAKq2B,MAAQr2B,KAAKm1B,MAAMn1B,KAAKm2B,IAAIuU,EAAO,IAAM1qC,KAAKq2B,KAE5F,WAEO,SAAkBxsB,EAAKxJ,GAG1B,OAAOsU,GAFI3U,KAAKm1B,MAAMn1B,KAAKm2B,IAAItsB,GAAO7J,KAAKq2B,MAChCr2B,KAAKm1B,MAAMn1B,KAAKm2B,IAAI91B,GAAOL,KAAKq2B,OACtBt5B,KAAIm5B,GAAOl2B,KAAKC,IAAI,GAAIi2B,IACjD,SAEO,SAAgBvV,GACnB,MAAM6Q,EAAIvuB,WAAWk0B,iBAAiBxW,EAAS,MAAMqW,OAAOz5B,QAAQ,KAAM,KAC1E,OAAOmC,MAAM8xB,GAAK,EAAIA,CAC1B,oBAOO,SAAkB7Q,EAAShb,GAC1Bgb,GAASA,EAAQgX,UAAUngB,IAAI7R,EACvC,cAEO,SAAqBgb,EAAShb,GAC7Bgb,GAASA,EAAQgX,UAAU3N,OAAOrkB,EAC1C,qBAUO,SAAkBmlC,GACjB,8BAA8BrtC,KAAKuE,SAAS+oC,YAE5CD,IAGA1oB,OAAO4oB,iBAAiB,oBAAoB,KACxCF,GAAU,GAGtB,qBEnIAG,GAFkC,iBAAVjtC,IAAsBA,IAAUA,GAAOM,SAAWA,QAAUN,GCDhFktC,GAAapc,GAGbqc,GAA0B,iBAARptC,MAAoBA,MAAQA,KAAKO,SAAWA,QAAUP,KAK5EqtC,GAFWF,IAAcC,IAAYltC,SAAS,cAATA,GCDrCotC,GALWvc,GAGOtwB,OCHdA,GAASswB,GAGTwc,GAAchtC,OAAOF,UAGrBQ,GAAiB0sC,GAAY1sC,eAO7B2sC,GAAuBD,GAAY3sC,SAGnC6sC,GAAiBhtC,GAASA,GAAOitC,iBAAc3uC,EA6BnD,IAAA4uC,GApBA,SAAmBzuC,GACjB,IAAI0uC,EAAQ/sC,GAAe4B,KAAKvD,EAAOuuC,IACnClqC,EAAMrE,EAAMuuC,IAEhB,IACEvuC,EAAMuuC,SAAkB1uC,EACxB,IAAI8uC,GAAW,CACnB,CAAI,MAAOtvC,GAAK,CAEd,IAAI6K,EAASokC,GAAqB/qC,KAAKvD,GAQvC,OAPI2uC,IACED,EACF1uC,EAAMuuC,IAAkBlqC,SAEjBrE,EAAMuuC,KAGVrkC,CACT,ECnCIokC,GAPcjtC,OAAOF,UAOcO,SAavC,ICpBIktC,GAAYhc,GACZic,GDeJ,SAAwB7uC,GACtB,OAAOsuC,GAAqB/qC,KAAKvD,EACnC,ECdI8uC,GAAU,gBACVC,GAAe,qBAGfR,GATS1c,MASwB2c,iBAAc3uC,EAkBnD,IAAAmvC,GATA,SAAoBhvC,GAClB,OAAa,MAATA,OACeH,IAAVG,EAAsB+uC,GAAeD,GAEtCP,IAAkBA,MAAkBltC,OAAOrB,GAC/C4uC,GAAU5uC,GACV6uC,GAAe7uC,EACrB,ECXA,IAAAivC,GANA,SAAiB/rC,EAAMgsC,GACrB,OAAO,SAASC,GACd,OAAOjsC,EAAKgsC,EAAUC,GAC1B,CACA,ECTIC,GAHUvd,GAGaxwB,OAAO0gB,eAAgB1gB,QCyBlD,IAAAguC,GAJA,SAAsBrvC,GACpB,OAAgB,MAATA,GAAiC,iBAATA,CACjC,EC1BIsvC,GAAazd,GACbud,GFIaA,GEHbG,GAAe/W,GAGfgX,GAAY,kBAGZC,GAAYzuC,SAASG,UACrBktC,GAAchtC,OAAOF,UAGrBuuC,GAAeD,GAAU/tC,SAGzBC,GAAiB0sC,GAAY1sC,eAG7BguC,GAAmBD,GAAansC,KAAKlC,QA2CzC,IAAAuuC,GAbA,SAAuB5vC,GACrB,IAAKuvC,GAAavvC,IAAUsvC,GAAWtvC,IAAUwvC,GAC/C,OAAO,EAET,IAAIpoC,EAAQgoC,GAAapvC,GACzB,GAAc,OAAVoH,EACF,OAAO,EAET,IAAIyD,EAAOlJ,GAAe4B,KAAK6D,EAAO,gBAAkBA,EAAMD,YAC9D,MAAsB,mBAAR0D,GAAsBA,aAAgBA,GAClD6kC,GAAansC,KAAKsH,IAAS8kC,EAC/B,MCzDAnsB,GAAiB,SAAahc,EAAQ3B,EAAK7F,GACvC,MAAMmC,EAFOnC,IAAUkB,MAAMe,QAAQjC,GAExBiC,CAAQ4D,GAAO,IAAIA,GAAOA,EAAIqtB,MAAM,KACjD,IAAK/wB,EAAKvC,OACN,MAAM,IAAI+O,MAAM,2BAQpB,MAAMkhC,EAAU1tC,EAAK4G,MAGrB,IAAI6wB,EAAKpyB,EAST,OAPArF,EAAKyW,SAAQ/S,SACOhG,IAAZ+5B,EAAG/zB,IAAkC,OAAZ+zB,EAAG/zB,KAC5B+zB,EAAG/zB,GAAO,IAEd+zB,EAAKA,EAAG/zB,EAAI,IAGZkyB,KAAK0B,UAAUG,EAAGiW,MAAc9X,KAAK0B,UAAUz5B,KAC/C45B,EAAGiW,GAAW7vC,GACP,EAGf,EClBA,IAAA8vC,GALA,WACEtsC,KAAKusC,SAAW,GAChBvsC,KAAK8S,KAAO,CACd,EC0BA,IAAA05B,GAJA,SAAYhwC,EAAOiwC,GACjB,OAAOjwC,IAAUiwC,GAAUjwC,GAAUA,GAASiwC,GAAUA,CAC1D,EClCI7nC,GAAKypB,GAoBT,IAAAqe,GAVA,SAAsBh9B,EAAOrN,GAE3B,IADA,IAAIjG,EAASsT,EAAMtT,OACZA,KACL,GAAIwI,GAAG8K,EAAMtT,GAAQ,GAAIiG,GACvB,OAAOjG,EAGX,OAAQ,CACV,EClBIuwC,GAAete,GAMf+C,GAHa1zB,MAAMC,UAGCyzB,OA4BxB,IClCIub,GAAete,GAkBnB,IClBIse,GAAete,GAenB,ICfIse,GAAete,GAyBnB,ICzBIue,GAAiBve,GACjBwe,GJgBJ,SAAyBxqC,GACvB,IAAI+I,EAAOpL,KAAKusC,SACZzsC,EAAQ6sC,GAAavhC,EAAM/I,GAE/B,QAAIvC,EAAQ,KAIRA,GADYsL,EAAKhP,OAAS,EAE5BgP,EAAK7F,MAEL6rB,GAAOrxB,KAAKqL,EAAMtL,EAAO,KAEzBE,KAAK8S,MACA,EACT,EI9BIg6B,GHSJ,SAAsBzqC,GACpB,IAAI+I,EAAOpL,KAAKusC,SACZzsC,EAAQ6sC,GAAavhC,EAAM/I,GAE/B,OAAOvC,EAAQ,OAAIzD,EAAY+O,EAAKtL,GAAO,EAC7C,EGbIitC,GFQJ,SAAsB1qC,GACpB,OAAOsqC,GAAa3sC,KAAKusC,SAAUlqC,IAAQ,CAC7C,EETI2qC,GDQJ,SAAsB3qC,EAAK7F,GACzB,IAAI4O,EAAOpL,KAAKusC,SACZzsC,EAAQ6sC,GAAavhC,EAAM/I,GAQ/B,OANIvC,EAAQ,KACRE,KAAK8S,KACP1H,EAAKpN,KAAK,CAACqE,EAAK7F,KAEhB4O,EAAKtL,GAAO,GAAKtD,EAEZwD,IACT,ECVA,SAASitC,GAAUC,GACjB,IAAIptC,GAAS,EACT1D,EAAoB,MAAX8wC,EAAkB,EAAIA,EAAQ9wC,OAG3C,IADA4D,KAAK4X,UACI9X,EAAQ1D,GAAQ,CACvB,IAAI+wC,EAAQD,EAAQptC,GACpBE,KAAKggB,IAAImtB,EAAM,GAAIA,EAAM,GAC1B,CACH,CAGAF,GAAUtvC,UAAUia,MAAQg1B,GAC5BK,GAAUtvC,UAAkB,OAAIkvC,GAChCI,GAAUtvC,UAAUkK,IAAMilC,GAC1BG,GAAUtvC,UAAUyE,IAAM2qC,GAC1BE,GAAUtvC,UAAUqiB,IAAMgtB,GAE1B,IAAAI,GAAiBH,GC/BbA,GAAY5e,GAchB,IAAAgf,GALA,WACErtC,KAAKusC,SAAW,IAAIU,GACpBjtC,KAAK8S,KAAO,CACd,ECKA,IAAAw6B,GARA,SAAqBjrC,GACnB,IAAI+I,EAAOpL,KAAKusC,SACZ7lC,EAAS0E,EAAa,OAAE/I,GAG5B,OADArC,KAAK8S,KAAO1H,EAAK0H,KACVpM,CACT,ECFA,IAAA6mC,GAJA,SAAkBlrC,GAChB,OAAOrC,KAAKusC,SAAS1kC,IAAIxF,EAC3B,ECEA,IAAAmrC,GAJA,SAAkBnrC,GAChB,OAAOrC,KAAKusC,SAASnqC,IAAIC,EAC3B,ECmBA,IAAAorC,GALA,SAAkBjxC,GAChB,IAAI6D,SAAc7D,EAClB,OAAgB,MAATA,IAA0B,UAAR6D,GAA4B,YAARA,EAC/C,EC5BIyrC,GAAazd,GACbluB,GAAWivB,GAGXse,GAAW,yBACXC,GAAU,oBACVC,GAAS,6BACTC,GAAW,iBA6Bf,IChCMC,GDgCNC,GAVA,SAAoBvxC,GAClB,IAAK2D,GAAS3D,GACZ,OAAO,EAIT,IAAIqE,EAAMirC,GAAWtvC,GACrB,OAAOqE,GAAO8sC,IAAW9sC,GAAO+sC,IAAU/sC,GAAO6sC,IAAY7sC,GAAOgtC,EACtE,EClCIG,GCAO3f,GAGW,sBDAlB4f,IACEH,GAAM,SAASza,KAAK2a,IAAcA,GAAWrvC,MAAQqvC,GAAWrvC,KAAKuvC,UAAY,KACvE,iBAAmBJ,GAAO,GAc1C,IAAAK,GAJA,SAAkBzuC,GAChB,QAASuuC,IAAeA,MAAcvuC,CACxC,EEbIwsC,GAHY1uC,SAASG,UAGIO,SAqB7B,IAAAkwC,GAZA,SAAkB1uC,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOwsC,GAAansC,KAAKL,EAC/B,CAAM,MAAO7D,GAAK,CACd,IACE,OAAQ6D,EAAO,EACrB,CAAM,MAAO7D,GAAK,CACf,CACD,MAAO,EACT,ECvBIwF,GAAagtB,GACbggB,GAAWjf,GACXjvB,GAAW60B,GACXsZ,GAAWC,GASXC,GAAe,8BAGfvC,GAAYzuC,SAASG,UACrBktC,GAAchtC,OAAOF,UAGrBuuC,GAAeD,GAAU/tC,SAGzBC,GAAiB0sC,GAAY1sC,eAG7BswC,GAAa1xC,OAAO,IACtBmvC,GAAansC,KAAK5B,IAAgBrB,QAjBjB,sBAiBuC,QACvDA,QAAQ,yDAA0D,SAAW,KCfhF,IAAA4xC,GAJA,SAAkB1qC,EAAQ3B,GACxB,OAAiB,MAAV2B,OAAiB3H,EAAY2H,EAAO3B,EAC7C,ECVIssC,GFsCJ,SAAsBnyC,GACpB,SAAK2D,GAAS3D,IAAU6xC,GAAS7xC,MAGnB6E,GAAW7E,GAASiyC,GAAaD,IAChCxxC,KAAKsxC,GAAS9xC,GAC/B,EE3CIoyC,GAAWxf,GAef,IAAAyf,GALA,SAAmB7qC,EAAQ3B,GACzB,IAAI7F,EAAQoyC,GAAS5qC,EAAQ3B,GAC7B,OAAOssC,GAAanyC,GAASA,OAAQH,CACvC,ECRAyyC,GANgBzgB,GACLe,GAGe,OCC1B2f,GALgB1gB,GAGaxwB,OAAQ,UCHjCe,GAAeyvB,GAcnB,IAAA2gB,GALA,WACEhvC,KAAKusC,SAAW3tC,GAAeA,GAAa,MAAQ,CAAA,EACpDoB,KAAK8S,KAAO,CACd,ECIA,IAAAm8B,GANA,SAAoB5sC,GAClB,IAAIqE,EAAS1G,KAAKoC,IAAIC,WAAerC,KAAKusC,SAASlqC,GAEnD,OADArC,KAAK8S,MAAQpM,EAAS,EAAI,EACnBA,CACT,ECdI9H,GAAeyvB,GAGf6gB,GAAiB,4BAMjB/wC,GAHcN,OAAOF,UAGQQ,eAoBjC,IAAAgxC,GATA,SAAiB9sC,GACf,IAAI+I,EAAOpL,KAAKusC,SAChB,GAAI3tC,GAAc,CAChB,IAAI8H,EAAS0E,EAAK/I,GAClB,OAAOqE,IAAWwoC,QAAiB7yC,EAAYqK,CAChD,CACD,OAAOvI,GAAe4B,KAAKqL,EAAM/I,GAAO+I,EAAK/I,QAAOhG,CACtD,EC3BIuC,GAAeyvB,GAMflwB,GAHcN,OAAOF,UAGQQ,eAgBjC,ICtBIS,GAAeyvB,GAGf6gB,GAAiB,4BAmBrB,ICtBIE,GAAY/gB,GACZghB,GAAajgB,GACbkgB,GAAUta,GACVua,GFcJ,SAAiBltC,GACf,IAAI+I,EAAOpL,KAAKusC,SAChB,OAAO3tC,QAA8BvC,IAAd+O,EAAK/I,GAAsBlE,GAAe4B,KAAKqL,EAAM/I,EAC9E,EEhBImtC,GDWJ,SAAiBntC,EAAK7F,GACpB,IAAI4O,EAAOpL,KAAKusC,SAGhB,OAFAvsC,KAAK8S,MAAQ9S,KAAKoC,IAAIC,GAAO,EAAI,EACjC+I,EAAK/I,GAAQzD,SAA0BvC,IAAVG,EAAuB0yC,GAAiB1yC,EAC9DwD,IACT,ECPA,SAASyvC,GAAKvC,GACZ,IAAIptC,GAAS,EACT1D,EAAoB,MAAX8wC,EAAkB,EAAIA,EAAQ9wC,OAG3C,IADA4D,KAAK4X,UACI9X,EAAQ1D,GAAQ,CACvB,IAAI+wC,EAAQD,EAAQptC,GACpBE,KAAKggB,IAAImtB,EAAM,GAAIA,EAAM,GAC1B,CACH,CAGAsC,GAAK9xC,UAAUia,MAAQw3B,GACvBK,GAAK9xC,UAAkB,OAAI0xC,GAC3BI,GAAK9xC,UAAUkK,IAAMynC,GACrBG,GAAK9xC,UAAUyE,IAAMmtC,GACrBE,GAAK9xC,UAAUqiB,IAAMwvB,GAErB,IC/BIC,GD+BaA,GC9BbxC,GAAY7d,GACZttB,GAAMkzB,GCYV,ICdI0a,GDOJ,SAAmBlzC,GACjB,IAAI6D,SAAc7D,EAClB,MAAgB,UAAR6D,GAA4B,UAARA,GAA4B,UAARA,GAA4B,WAARA,EACrD,cAAV7D,EACU,OAAVA,CACP,ECKA,IAAAmzC,GAPA,SAAoBrzC,EAAK+F,GACvB,IAAI+I,EAAO9O,EAAIiwC,SACf,OAAOmD,GAAUrtC,GACb+I,EAAmB,iBAAP/I,EAAkB,SAAW,QACzC+I,EAAK9O,GACX,ECfIszC,GAAavhB,GAiBjB,IAAAwhB,GANA,SAAwBxtC,GACtB,IAAIqE,EAASkpC,GAAW5vC,KAAMqC,GAAa,OAAEA,GAE7C,OADArC,KAAK8S,MAAQpM,EAAS,EAAI,EACnBA,CACT,ECfIkpC,GAAavhB,GAejB,ICfIuhB,GAAavhB,GAejB,ICfIuhB,GAAavhB,GAqBjB,IAAAyhB,GATA,SAAqBztC,EAAK7F,GACxB,IAAI4O,EAAOwkC,GAAW5vC,KAAMqC,GACxByQ,EAAO1H,EAAK0H,KAIhB,OAFA1H,EAAK4U,IAAI3d,EAAK7F,GACdwD,KAAK8S,MAAQ1H,EAAK0H,MAAQA,EAAO,EAAI,EAC9B9S,IACT,ECnBI+vC,GPWJ,WACE/vC,KAAK8S,KAAO,EACZ9S,KAAKusC,SAAW,CACdlpC,KAAQ,IAAIosC,GACZnzC,IAAO,IAAKwF,IAAOmrC,IACnBljC,OAAU,IAAI0lC,GAElB,EOjBIO,GAAiB5gB,GACjB6gB,GHSJ,SAAqB5tC,GACnB,OAAOutC,GAAW5vC,KAAMqC,GAAKwF,IAAIxF,EACnC,EGVI6tC,GFQJ,SAAqB7tC,GACnB,OAAOutC,GAAW5vC,KAAMqC,GAAKD,IAAIC,EACnC,EETI8tC,GAAcC,GASlB,SAASC,GAASnD,GAChB,IAAIptC,GAAS,EACT1D,EAAoB,MAAX8wC,EAAkB,EAAIA,EAAQ9wC,OAG3C,IADA4D,KAAK4X,UACI9X,EAAQ1D,GAAQ,CACvB,IAAI+wC,EAAQD,EAAQptC,GACpBE,KAAKggB,IAAImtB,EAAM,GAAIA,EAAM,GAC1B,CACH,CAGAkD,GAAS1yC,UAAUia,MAAQm4B,GAC3BM,GAAS1yC,UAAkB,OAAIqyC,GAC/BK,GAAS1yC,UAAUkK,IAAMooC,GACzBI,GAAS1yC,UAAUyE,IAAM8tC,GACzBG,GAAS1yC,UAAUqiB,IAAMmwB,GAEzB,IAAAG,GAAiBD,GC/BbpD,GAAY5e,GACZvsB,GAAMstB,GACNihB,GAAWrb,GAGXub,GAAmB,IA4BvB,IAAAC,GAhBA,SAAkBnuC,EAAK7F,GACrB,IAAI4O,EAAOpL,KAAKusC,SAChB,GAAInhC,aAAgB6hC,GAAW,CAC7B,IAAIzmC,EAAQ4E,EAAKmhC,SACjB,IAAKzqC,IAAQ0E,EAAMpK,OAASm0C,GAAmB,EAG7C,OAFA/pC,EAAMxI,KAAK,CAACqE,EAAK7F,IACjBwD,KAAK8S,OAAS1H,EAAK0H,KACZ9S,KAEToL,EAAOpL,KAAKusC,SAAW,IAAI8D,GAAS7pC,EACrC,CAGD,OAFA4E,EAAK4U,IAAI3d,EAAK7F,GACdwD,KAAK8S,KAAO1H,EAAK0H,KACV9S,IACT,EC/BIitC,GAAY5e,GACZoiB,GAAarhB,GACbshB,GAAc1b,GACd2b,GAAWpC,GACXqC,GAAWR,GACXS,GAAWC,GASf,SAASC,GAAM7D,GACb,IAAI9hC,EAAOpL,KAAKusC,SAAW,IAAIU,GAAUC,GACzCltC,KAAK8S,KAAO1H,EAAK0H,IACnB,CAGAi+B,GAAMpzC,UAAUia,MAAQ64B,GACxBM,GAAMpzC,UAAkB,OAAI+yC,GAC5BK,GAAMpzC,UAAUkK,IAAM8oC,GACtBI,GAAMpzC,UAAUyE,IAAMwuC,GACtBG,GAAMpzC,UAAUqiB,IAAM6wB,GAEtB,IAAAG,GAAiBD,GCzBb7B,GAAiB,4BCYrB,ICbImB,GAAWhiB,GACX4iB,GFYJ,SAAqBz0C,GAEnB,OADAwD,KAAKusC,SAASvsB,IAAIxjB,EAAO0yC,IAClBlvC,IACT,EEdIkxC,GDOJ,SAAqB10C,GACnB,OAAOwD,KAAKusC,SAASnqC,IAAI5F,EAC3B,ECCA,SAAS20C,GAAS5qC,GAChB,IAAIzG,GAAS,EACT1D,EAAmB,MAAVmK,EAAiB,EAAIA,EAAOnK,OAGzC,IADA4D,KAAKusC,SAAW,IAAI8D,KACXvwC,EAAQ1D,GACf4D,KAAK+W,IAAIxQ,EAAOzG,GAEpB,CAGAqxC,GAASxzC,UAAUoZ,IAAMo6B,GAASxzC,UAAUK,KAAOizC,GACnDE,GAASxzC,UAAUyE,IAAM8uC,GCZzB,ICZIC,GF0BaA,GEzBbC,GCSJ,SAAmB1hC,EAAOV,GAIxB,IAHA,IAAIlP,GAAS,EACT1D,EAAkB,MAATsT,EAAgB,EAAIA,EAAMtT,SAE9B0D,EAAQ1D,GACf,GAAI4S,EAAUU,EAAM5P,GAAQA,EAAO4P,GACjC,OAAO,EAGX,OAAO,CACT,EDlBI2hC,GDMJ,SAAkB/jC,EAAOjL,GACvB,OAAOiL,EAAMlL,IAAIC,EACnB,ECLIivC,GAAuB,EACvBC,GAAyB,EA6E7B,IAAAC,GA9DA,SAAqB9hC,EAAO+8B,EAAOgF,EAASC,EAAYC,EAAWC,GACjE,IAAIC,EAAYJ,EAAUH,GACtBQ,EAAYpiC,EAAMtT,OAClB21C,EAAYtF,EAAMrwC,OAEtB,GAAI01C,GAAaC,KAAeF,GAAaE,EAAYD,GACvD,OAAO,EAGT,IAAIE,EAAaJ,EAAM/pC,IAAI6H,GACvBuiC,EAAaL,EAAM/pC,IAAI4kC,GAC3B,GAAIuF,GAAcC,EAChB,OAAOD,GAAcvF,GAASwF,GAAcviC,EAE9C,IAAI5P,GAAS,EACT4G,GAAS,EACTiN,EAAQ89B,EAAUF,GAA0B,IAAIJ,QAAW90C,EAM/D,IAJAu1C,EAAM5xB,IAAItQ,EAAO+8B,GACjBmF,EAAM5xB,IAAIysB,EAAO/8B,KAGR5P,EAAQgyC,GAAW,CAC1B,IAAII,EAAWxiC,EAAM5P,GACjBqyC,EAAW1F,EAAM3sC,GAErB,GAAI4xC,EACF,IAAIU,EAAWP,EACXH,EAAWS,EAAUD,EAAUpyC,EAAO2sC,EAAO/8B,EAAOkiC,GACpDF,EAAWQ,EAAUC,EAAUryC,EAAO4P,EAAO+8B,EAAOmF,GAE1D,QAAiBv1C,IAAb+1C,EAAwB,CAC1B,GAAIA,EACF,SAEF1rC,GAAS,EACT,KACD,CAED,GAAIiN,GACF,IAAKy9B,GAAU3E,GAAO,SAAS0F,EAAUE,GACnC,IAAKhB,GAAS19B,EAAM0+B,KACfH,IAAaC,GAAYR,EAAUO,EAAUC,EAAUV,EAASC,EAAYE,IAC/E,OAAOj+B,EAAK3V,KAAKq0C,EAE/B,IAAc,CACN3rC,GAAS,EACT,KACD,OACI,GACDwrC,IAAaC,IACXR,EAAUO,EAAUC,EAAUV,EAASC,EAAYE,GACpD,CACLlrC,GAAS,EACT,KACD,CACF,CAGD,OAFAkrC,EAAc,OAAEliC,GAChBkiC,EAAc,OAAEnF,GACT/lC,CACT,EEhEA,IAAA4rC,GAVA,SAAoBh2C,GAClB,IAAIwD,GAAS,EACT4G,EAAShJ,MAAMpB,EAAIwW,MAKvB,OAHAxW,EAAI8Y,SAAQ,SAAS5Y,EAAO6F,GAC1BqE,IAAS5G,GAAS,CAACuC,EAAK7F,EAC5B,IACSkK,CACT,ECEA,IAAA6rC,GAVA,SAAoBvyB,GAClB,IAAIlgB,GAAS,EACT4G,EAAShJ,MAAMsiB,EAAIlN,MAKvB,OAHAkN,EAAI5K,SAAQ,SAAS5Y,GACnBkK,IAAS5G,GAAStD,CACtB,IACSkK,CACT,ECdInC,GCDO8pB,GAGW9pB,WDDlBK,GAAKowB,GACLwd,GAAcjE,GACdkE,GAAarC,GACbsC,GAAa5B,GAGbQ,GAAuB,EACvBC,GAAyB,EAGzBoB,GAAU,mBACVC,GAAU,gBACVC,GAAW,iBACXC,GAAS,eACTC,GAAY,kBACZC,GAAY,kBACZC,GAAS,eACTC,GAAY,kBACZC,GAAY,kBAEZC,GAAiB,uBACjBC,GAAc,oBAGdC,GA1BSjlB,MA0BqB1wB,eAAYtB,EAC1Ck3C,GAAgBD,GAAcA,GAAY7uC,aAAUpI,EAoFxD,IAAAm3C,GAjEA,SAAoBxvC,EAAQyoC,EAAO5rC,EAAK4wC,EAASC,EAAYC,EAAWC,GACtE,OAAQ/wC,GACN,KAAKwyC,GACH,GAAKrvC,EAAOyvC,YAAchH,EAAMgH,YAC3BzvC,EAAOQ,YAAcioC,EAAMjoC,WAC9B,OAAO,EAETR,EAASA,EAAO9B,OAChBuqC,EAAQA,EAAMvqC,OAEhB,KAAKkxC,GACH,QAAKpvC,EAAOyvC,YAAchH,EAAMgH,aAC3B9B,EAAU,IAAIptC,GAAWP,GAAS,IAAIO,GAAWkoC,KAKxD,KAAKkG,GACL,KAAKC,GACL,KAAKG,GAGH,OAAOnuC,IAAIZ,GAASyoC,GAEtB,KAAKoG,GACH,OAAO7uC,EAAOpD,MAAQ6rC,EAAM7rC,MAAQoD,EAAOouB,SAAWqa,EAAMra,QAE9D,KAAK4gB,GACL,KAAKE,GAIH,OAAOlvC,GAAWyoC,EAAQ,GAE5B,KAAKqG,GACH,IAAIY,EAAUjB,GAEhB,KAAKQ,GACH,IAAIpB,EAAYJ,EAAUH,GAG1B,GAFAoC,IAAYA,EAAUhB,IAElB1uC,EAAO8O,MAAQ25B,EAAM35B,OAAS++B,EAChC,OAAO,EAGT,IAAI8B,EAAU/B,EAAM/pC,IAAI7D,GACxB,GAAI2vC,EACF,OAAOA,GAAWlH,EAEpBgF,GAAWF,GAGXK,EAAM5xB,IAAIhc,EAAQyoC,GAClB,IAAI/lC,EAAS8rC,GAAYkB,EAAQ1vC,GAAS0vC,EAAQjH,GAAQgF,EAASC,EAAYC,EAAWC,GAE1F,OADAA,EAAc,OAAE5tC,GACT0C,EAET,KAAKysC,GACH,GAAII,GACF,OAAOA,GAAcxzC,KAAKiE,IAAWuvC,GAAcxzC,KAAK0sC,GAG9D,OAAO,CACT,EE1FA,IAAAmH,GAXA,SAAmBlkC,EAAOnJ,GAKxB,IAJA,IAAIzG,GAAS,EACT1D,EAASmK,EAAOnK,OAChB2O,EAAS2E,EAAMtT,SAEV0D,EAAQ1D,GACfsT,EAAM3E,EAASjL,GAASyG,EAAOzG,GAEjC,OAAO4P,CACT,ECQAmkC,GAFcn2C,MAAMe,QCvBhBygB,GAAYmP,GACZ5vB,GAAU2wB,GAkBd,IAAA0kB,GALA,SAAwB9vC,EAAQ+C,EAAUgtC,GACxC,IAAIrtC,EAASK,EAAS/C,GACtB,OAAOvF,GAAQuF,GAAU0C,EAASwY,GAAUxY,EAAQqtC,EAAY/vC,GAClE,ECOA,IAAAgwC,GAfA,SAAqBtkC,EAAOV,GAM1B,IALA,IAAIlP,GAAS,EACT1D,EAAkB,MAATsT,EAAgB,EAAIA,EAAMtT,OACnC63C,EAAW,EACXvtC,EAAS,KAEJ5G,EAAQ1D,GAAQ,CACvB,IAAII,EAAQkT,EAAM5P,GACdkP,EAAUxS,EAAOsD,EAAO4P,KAC1BhJ,EAAOutC,KAAcz3C,EAExB,CACD,OAAOkK,CACT,ECAA,ICtBIu5B,GAAc5R,GACd6lB,GDiBJ,WACE,MAAO,EACT,ECbI90C,GAHcvB,OAAOF,UAGcyB,qBAGnC+0C,GAAmBt2C,OAAOu2C,sBAS1BC,GAAcF,GAA+B,SAASnwC,GACxD,OAAc,MAAVA,EACK,IAETA,EAASnG,OAAOmG,GACTi8B,GAAYkU,GAAiBnwC,IAAS,SAASswC,GACpD,OAAOl1C,GAAqBW,KAAKiE,EAAQswC,EAC7C,IACA,EARqCJ,GAUrCK,GAAiBF,GCVjB,IAAAG,GAVA,SAAmBvrC,EAAGT,GAIpB,IAHA,IAAI1I,GAAS,EACT4G,EAAShJ,MAAMuL,KAEVnJ,EAAQmJ,GACfvC,EAAO5G,GAAS0I,EAAS1I,GAE3B,OAAO4G,CACT,ECjBIolC,GAAazd,GACb0d,GAAe3c,GAGfqlB,GAAU,qBAad,ICjBIC,GDaJ,SAAyBl4C,GACvB,OAAOuvC,GAAavvC,IAAUsvC,GAAWtvC,IAAUi4C,EACrD,ECdI1I,GAAe3c,GAGfyb,GAAchtC,OAAOF,UAGrBQ,GAAiB0sC,GAAY1sC,eAG7BiB,GAAuByrC,GAAYzrC,qBAoBnCkD,GAAcoyC,GAAgB,WAAa,OAAOv4C,SAAU,CAA9B,IAAsCu4C,GAAkB,SAASl4C,GACjG,OAAOuvC,GAAavvC,IAAU2B,GAAe4B,KAAKvD,EAAO,YACtD4C,GAAqBW,KAAKvD,EAAO,SACtC,EAEAm4C,GAAiBryC,mBClBjB,IAAAsyC,GAJA,WACE,OAAO,CACT,iBCfA,IAAIv3C,EAAOgxB,GACPwmB,EAAYzlB,GAGZ0lB,EAA4Cl4B,IAAYA,EAAQlc,UAAYkc,EAG5Em4B,EAAaD,GAA4Cn4B,IAAWA,EAAOjc,UAAYic,EAMvFq4B,EAHgBD,GAAcA,EAAWn4B,UAAYk4B,EAG5Bz3C,EAAK23C,YAAS34C,EAsBvC44C,GAnBiBD,EAASA,EAAOC,cAAW54C,IAmBfw4C,EAEjCl4B,EAAAC,QAAiBq4B,kBCpCjB,IAAIC,GAAmB,iBAGnBC,GAAW,mBAoBf,IAAAC,GAVA,SAAiB54C,EAAOJ,GACtB,IAAIiE,SAAc7D,EAGlB,SAFAJ,EAAmB,MAAVA,EAAiB84C,GAAmB94C,KAGlC,UAARiE,GACU,UAARA,GAAoB80C,GAASn4C,KAAKR,KAChCA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,EAAQJ,CACjD,ECrBI84C,GAAmB,iBAiCvB,IAAAG,GALA,SAAkB74C,GAChB,MAAuB,iBAATA,GACZA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,GAAS04C,EAC7C,EChCIpJ,GAAazd,GACbinB,GAAWlmB,GACX2c,GAAe/W,GA8BfugB,GAAiB,CAAA,EACrBA,GAZiB,yBAYYA,GAXZ,yBAYjBA,GAXc,sBAWYA,GAVX,uBAWfA,GAVe,uBAUYA,GATZ,uBAUfA,GATsB,8BASYA,GARlB,wBAShBA,GARgB,yBAQY,EAC5BA,GAjCc,sBAiCYA,GAhCX,kBAiCfA,GApBqB,wBAoBYA,GAhCnB,oBAiCdA,GApBkB,qBAoBYA,GAhChB,iBAiCdA,GAhCe,kBAgCYA,GA/Bb,qBAgCdA,GA/Ba,gBA+BYA,GA9BT,mBA+BhBA,GA9BgB,mBA8BYA,GA7BZ,mBA8BhBA,GA7Ba,gBA6BYA,GA5BT,mBA6BhBA,GA5BiB,qBA4BY,EAc7B,IAAAC,GALA,SAA0Bh5C,GACxB,OAAOuvC,GAAavvC,IAClB84C,GAAS94C,EAAMJ,WAAam5C,GAAezJ,GAAWtvC,GAC1D,EC5CA,IAAAi5C,GANA,SAAmB/1C,GACjB,OAAO,SAASlD,GACd,OAAOkD,EAAKlD,EAChB,CACA,iCCXA,IAAIiuC,EAAapc,GAGbymB,EAA4Cl4B,IAAYA,EAAQlc,UAAYkc,EAG5Em4B,EAAaD,GAA4Cn4B,IAAWA,EAAOjc,UAAYic,EAMvF+4B,EAHgBX,GAAcA,EAAWn4B,UAAYk4B,GAGtBrK,EAAWkL,QAG1CC,EAAY,WACd,IAEE,IAAI7lB,EAAQglB,GAAcA,EAAWc,SAAWd,EAAWc,QAAQ,QAAQ9lB,MAE3E,OAAIA,GAKG2lB,GAAeA,EAAYI,SAAWJ,EAAYI,QAAQ,OACrE,CAAI,MAAOj6C,GAAK,CACf,CAZW,GAcZ8gB,EAAAC,QAAiBg5B,kBC7BjB,IAAIG,GAAmB1nB,GACnB2nB,GAAY5mB,GACZwmB,GAAW5gB,GAAAA,QAGXihB,GAAmBL,IAAYA,GAASxwC,aAqB5C8wC,GAFmBD,GAAmBD,GAAUC,IAAoBF,GCxBhEI,GAAY9nB,GACZ/rB,GAAc8sB,GACd3wB,GAAUu2B,GACVigB,GAAW1G,GAAqB3xB,QAChCw5B,GAAUhG,GACVhrC,GAAe0rC,GAMf3yC,GAHcN,OAAOF,UAGQQ,eAqCjC,IAAAk4C,GA3BA,SAAuB75C,EAAO85C,GAC5B,IAAIC,EAAQ93C,GAAQjC,GAChBg6C,GAASD,GAASj0C,GAAY9F,GAC9Bi6C,GAAUF,IAAUC,GAASvB,GAASz4C,GACtCk6C,GAAUH,IAAUC,IAAUC,GAAUrxC,GAAa5I,GACrDm6C,EAAcJ,GAASC,GAASC,GAAUC,EAC1ChwC,EAASiwC,EAAcR,GAAU35C,EAAMJ,OAAQQ,QAAU,GACzDR,EAASsK,EAAOtK,OAEpB,IAAK,IAAIiG,KAAO7F,GACT85C,IAAan4C,GAAe4B,KAAKvD,EAAO6F,IACvCs0C,IAEQ,UAAPt0C,GAECo0C,IAAkB,UAAPp0C,GAA0B,UAAPA,IAE9Bq0C,IAAkB,UAAPr0C,GAA0B,cAAPA,GAA8B,cAAPA,IAEtD+zC,GAAQ/zC,EAAKjG,KAElBsK,EAAO1I,KAAKqE,GAGhB,OAAOqE,CACT,EC7CImkC,GAAchtC,OAAOF,UAgBzB,IAAAi5C,GAPA,SAAqBp6C,GACnB,IAAI6K,EAAO7K,GAASA,EAAMmH,YAG1B,OAAOnH,KAFqB,mBAAR6K,GAAsBA,EAAK1J,WAAcktC,GAG/D,ECZInsC,GAHU2vB,GAGWxwB,OAAOc,KAAMd,QCHlCg5C,GAAcxoB,GACd3vB,GDIaA,GCEbP,GAHcN,OAAOF,UAGQQ,eAsBjC,IAAA24C,GAbA,SAAkB9yC,GAChB,IAAK6yC,GAAY7yC,GACf,OAAOtF,GAAWsF,GAEpB,IAAI0C,EAAS,GACb,IAAK,IAAIrE,KAAOxE,OAAOmG,GACjB7F,GAAe4B,KAAKiE,EAAQ3B,IAAe,eAAPA,GACtCqE,EAAO1I,KAAKqE,GAGhB,OAAOqE,CACT,EC3BIrF,GAAagtB,GACbinB,GAAWlmB,GA+Bf,IChCI2nB,GAAgB1oB,GAChB2oB,GAAW5nB,GACXpiB,GD0BJ,SAAqBxQ,GACnB,OAAgB,MAATA,GAAiB84C,GAAS94C,EAAMJ,UAAYiF,GAAW7E,EAChE,ECMA,IAAAy6C,GAJA,SAAcjzC,GACZ,OAAOgJ,GAAYhJ,GAAU+yC,GAAc/yC,GAAUgzC,GAAShzC,EAChE,EClCIkzC,GAAiB7oB,GACjBgmB,GAAajlB,GACbzwB,GAAOq2B,GAaX,IAAAmiB,GAJA,SAAoBnzC,GAClB,OAAOkzC,GAAelzC,EAAQrF,GAAM01C,GACtC,ECbI+C,GAAa/oB,GAGbijB,GAAuB,EAMvBnzC,GAHcN,OAAOF,UAGQQ,eAgFjC,IAAAk5C,GAjEA,SAAsBrzC,EAAQyoC,EAAOgF,EAASC,EAAYC,EAAWC,GACnE,IAAIC,EAAYJ,EAAUH,GACtBgG,EAAWF,GAAWpzC,GACtBuzC,EAAYD,EAASl7C,OAIzB,GAAIm7C,GAHWH,GAAW3K,GACDrwC,SAEMy1C,EAC7B,OAAO,EAGT,IADA,IAAI/xC,EAAQy3C,EACLz3C,KAAS,CACd,IAAIuC,EAAMi1C,EAASx3C,GACnB,KAAM+xC,EAAYxvC,KAAOoqC,EAAQtuC,GAAe4B,KAAK0sC,EAAOpqC,IAC1D,OAAO,CAEV,CAED,IAAIm1C,EAAa5F,EAAM/pC,IAAI7D,GACvBiuC,EAAaL,EAAM/pC,IAAI4kC,GAC3B,GAAI+K,GAAcvF,EAChB,OAAOuF,GAAc/K,GAASwF,GAAcjuC,EAE9C,IAAI0C,GAAS,EACbkrC,EAAM5xB,IAAIhc,EAAQyoC,GAClBmF,EAAM5xB,IAAIysB,EAAOzoC,GAGjB,IADA,IAAIyzC,EAAW5F,IACN/xC,EAAQy3C,GAAW,CAE1B,IAAIG,EAAW1zC,EADf3B,EAAMi1C,EAASx3C,IAEXqyC,EAAW1F,EAAMpqC,GAErB,GAAIqvC,EACF,IAAIU,EAAWP,EACXH,EAAWS,EAAUuF,EAAUr1C,EAAKoqC,EAAOzoC,EAAQ4tC,GACnDF,EAAWgG,EAAUvF,EAAU9vC,EAAK2B,EAAQyoC,EAAOmF,GAGzD,UAAmBv1C,IAAb+1C,EACGsF,IAAavF,GAAYR,EAAU+F,EAAUvF,EAAUV,EAASC,EAAYE,GAC7EQ,GACD,CACL1rC,GAAS,EACT,KACD,CACD+wC,IAAaA,EAAkB,eAAPp1C,EACzB,CACD,GAAIqE,IAAW+wC,EAAU,CACvB,IAAIE,EAAU3zC,EAAOL,YACjBi0C,EAAUnL,EAAM9oC,YAGhBg0C,GAAWC,KACV,gBAAiB5zC,MAAU,gBAAiByoC,IACzB,mBAAXkL,GAAyBA,aAAmBA,GACjC,mBAAXC,GAAyBA,aAAmBA,IACvDlxC,GAAS,EAEZ,CAGD,OAFAkrC,EAAc,OAAE5tC,GAChB4tC,EAAc,OAAEnF,GACT/lC,CACT,ECvFInI,GCAY8vB,GACLe,GAGoB,YDH3BttB,GAAMstB,GACNyC,GEFYxD,GACLe,GAGmB,WFD1BwN,GGHYvO,GACLe,GAGe,OHAtByoB,GIJYxpB,GACLe,GAGmB,WJC1B0c,GAAagF,GACbxC,GAAWwJ,GAGXhF,GAAS,eAETiF,GAAa,mBACb9E,GAAS,eACT+E,GAAa,mBAEb3E,GAAc,oBAGd4E,GAAqB3J,GAAS/vC,IAC9B25C,GAAgB5J,GAASxsC,IACzBq2C,GAAoB7J,GAASzc,IAC7BumB,GAAgB9J,GAAS1R,IACzByb,GAAoB/J,GAASuJ,IAS7BS,GAASxM,IAGRvtC,IAAY+5C,GAAO,IAAI/5C,GAAS,IAAIF,YAAY,MAAQg1C,IACxDvxC,IAAOw2C,GAAO,IAAIx2C,KAAQgxC,IAC1BjhB,IAAWymB,GAAOzmB,GAAQC,YAAcimB,IACxCnb,IAAO0b,GAAO,IAAI1b,KAAQqW,IAC1B4E,IAAWS,GAAO,IAAIT,KAAYG,MACrCM,GAAS,SAAS97C,GAChB,IAAIkK,EAASolC,GAAWtvC,GACpB6K,EA/BQ,mBA+BDX,EAAsBlK,EAAMmH,iBAActH,EACjDk8C,EAAalxC,EAAOinC,GAASjnC,GAAQ,GAEzC,GAAIkxC,EACF,OAAQA,GACN,KAAKN,GAAoB,OAAO5E,GAChC,KAAK6E,GAAe,OAAOpF,GAC3B,KAAKqF,GAAmB,OAAOJ,GAC/B,KAAKK,GAAe,OAAOnF,GAC3B,KAAKoF,GAAmB,OAAOL,GAGnC,OAAOtxC,CACX,GAGA,IKzDIqqC,GAAQ1iB,GACRmkB,GAAcpjB,GACdopB,GAAaxjB,GACbyjB,GAAelK,GACf+J,GLqDaA,GKpDb75C,GAAUqyC,GACVmE,GAAW6C,GAAqBl7B,QAChCxX,GAAeszC,GAGfpH,GAAuB,EAGvBmD,GAAU,qBACVkE,GAAW,iBACX3M,GAAY,kBAMZ7tC,GAHcN,OAAOF,UAGQQ,eA6DjC,IAAAy6C,GA7CA,SAAyB50C,EAAQyoC,EAAOgF,EAASC,EAAYC,EAAWC,GACtE,IAAIiH,EAAWp6C,GAAQuF,GACnB80C,EAAWr6C,GAAQguC,GACnBsM,EAASF,EAAWF,GAAWL,GAAOt0C,GACtCg1C,EAASF,EAAWH,GAAWL,GAAO7L,GAKtCwM,GAHJF,EAASA,GAAUtE,GAAUzI,GAAY+M,IAGhB/M,GACrBkN,GAHJF,EAASA,GAAUvE,GAAUzI,GAAYgN,IAGhBhN,GACrBmN,EAAYJ,GAAUC,EAE1B,GAAIG,GAAalE,GAASjxC,GAAS,CACjC,IAAKixC,GAASxI,GACZ,OAAO,EAEToM,GAAW,EACXI,GAAW,CACZ,CACD,GAAIE,IAAcF,EAEhB,OADArH,IAAUA,EAAQ,IAAIb,IACd8H,GAAYzzC,GAAapB,GAC7BwuC,GAAYxuC,EAAQyoC,EAAOgF,EAASC,EAAYC,EAAWC,GAC3D4G,GAAWx0C,EAAQyoC,EAAOsM,EAAQtH,EAASC,EAAYC,EAAWC,GAExE,KAAMH,EAAUH,IAAuB,CACrC,IAAI8H,EAAeH,GAAY96C,GAAe4B,KAAKiE,EAAQ,eACvDq1C,EAAeH,GAAY/6C,GAAe4B,KAAK0sC,EAAO,eAE1D,GAAI2M,GAAgBC,EAAc,CAChC,IAAIC,EAAeF,EAAep1C,EAAOxH,QAAUwH,EAC/Cu1C,EAAeF,EAAe5M,EAAMjwC,QAAUiwC,EAGlD,OADAmF,IAAUA,EAAQ,IAAIb,IACfY,EAAU2H,EAAcC,EAAc9H,EAASC,EAAYE,EACnE,CACF,CACD,QAAKuH,IAGLvH,IAAUA,EAAQ,IAAIb,IACf0H,GAAaz0C,EAAQyoC,EAAOgF,EAASC,EAAYC,EAAWC,GACrE,EChFI4H,GAAkBnrB,GAClB0d,GAAe3c,GA0BnB,IAAAqqB,GAVA,SAASC,EAAYl9C,EAAOiwC,EAAOgF,EAASC,EAAYE,GACtD,OAAIp1C,IAAUiwC,IAGD,MAATjwC,GAA0B,MAATiwC,IAAmBV,GAAavvC,KAAWuvC,GAAaU,GACpEjwC,GAAUA,GAASiwC,GAAUA,EAE/B+M,GAAgBh9C,EAAOiwC,EAAOgF,EAASC,EAAYgI,EAAa9H,GACzE,ECzBI8H,GAAcrrB,GAkClB,IAAAsrB,GAJA,SAAiBn9C,EAAOiwC,GACtB,OAAOiN,GAAYl9C,EAAOiwC,EAC5B,EC/BI1d,GAAmB/uB,IAAQA,GAAK+uB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEV,QAAWU,EACxD,EACA,MAAM4qB,GAAe7qB,GAAgBV,IAC/BwrB,GAAqB9qB,GAAgBK,IAU3C,SAAS0qB,GAAS7yC,EAAQu/B,GAA4B,IAApBuT,EAAW59C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAC5C,MAAM69C,EAAQ,CAAA,EAyBd,OAxBAn8C,OAAOc,KAAK6nC,GAAQpxB,SAAQ6kC,IACxB,KAAK,EAAIL,GAAatrB,SAASkY,EAAOyT,GAAYhzC,EAAOgzC,IAAa,CAClE,GAAIF,IAAgBA,EAAY33C,IAAI63C,GAChC,OACJ,IAAI,EAAIJ,GAAmBvrB,SAASkY,EAAOyT,MAAe,EAAIJ,GAAmBvrB,SAASrnB,EAAOgzC,IAAa,CAE1G,MAAMC,EAAaJ,GAAS7yC,EAAOgzC,GAAYzT,EAAOyT,IAClDp8C,OAAOc,KAAKu7C,GAAY99C,SACxB49C,EAAMC,GAAaC,EAE1B,MAEGF,EAAMC,GAAazT,EAAOyT,EAEjC,KAGLp8C,OAAOc,KAAKsI,GAAQmO,SAAQ+kC,IACpBJ,IAAgBA,EAAY33C,IAAI+3C,SAEV99C,IAAtBmqC,EAAO2T,KACPH,EAAMG,GAAa,KACtB,IAEEH,CACX,KACAI,GAAiB,SAAoBnzC,EAAQu/B,GAA4B,IAApBuT,EAAW59C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAC/D,OAAO29C,GAAS7yC,EAAQu/B,EAAQuT,EAAc,IAAInd,IAAImd,GAAe,KACzE,EC5CAM,GAAiB,SAAmBloB,EAASmoB,GACzC,MAAMC,EAAOD,EAAW34B,OAAOmH,OAASnH,OACxC,OAAO,SAAU64B,EAAOpvC,GACpB,GAAImvC,GAAQA,EAAKE,YAAa,CAC1B,MAAMC,EAAM,CACRzzC,OAAQ,cACRkrB,UACA9xB,KAAMm6C,EACNpvC,QAEJmvC,EAAKE,YAAYC,EAAK,IACzB,EAET,ECVe,SAAAC,KACX,MAAM7pC,EAAO,GAEb,MAAO,CACH8pC,OACI,IAAK,IAAIr3C,EAAIuN,EAAK1U,OAAS,EAAGmH,GAAK,EAAGA,IAClCuN,EAAKvN,GAAGrD,MAAMF,KAAM7D,UAE3B,EACD4a,IAAIszB,GACAv5B,EAAK9S,KAAKqsC,EACd,EAER,CCfe,SAASwQ,GAAa/jB,EAAOzhB,GACxC,MAAMylC,EAAUhkB,EAAMikB,YAAY,eAAgB,IAC5CvoB,EAAYsE,EAAMikB,YAAY,kBAAkB,GAChDtlC,EAAUJ,EAAQI,UAsCxB,OArCAqlC,EAAQ1lC,SAAQ4lC,IACZ,MAAMz+C,EAAOi2B,EAAyBwoB,EAAO1lC,OAApB0lC,EAAOz+C,IAC1B+Y,EAAUkd,EAA4BwoB,EAAOz+C,IAAvBy+C,EAAO1lC,OACnC,GAAID,EAAQM,UAAUL,GAElB,GADA0lC,EAAOC,SAAU,EACL,IAAR1+C,EAAW,CACX,GAAIy+C,EAAOjtC,UAAgC,cAApBitC,EAAOjtC,SAA0B,CAEpD,GADiBsH,EAAQC,OAAOA,GAAQiB,UACvBykC,EAAOjtC,SAEpB,MAER,CACAsH,EAAQC,OAAOA,GAAQiB,MAAMykC,EAAOx+C,MACxC,MAAO,GAAID,GAAOkZ,EAAS,CACvB,GAAIulC,EAAOjtC,UAAgC,cAApBitC,EAAOjtC,SAA0B,CAEpD,GADiBsH,EAAQC,OAAOA,GAAQqG,IAAIpf,EAAM,KACjCy+C,EAAOjtC,SAEpB,MAER,CACAsH,EAAQC,OAAOA,GAAQqG,IAAIpf,EAAM,EAAGy+C,EAAOx+C,MAC/C,CACJ,IAKJ+T,GADoBumB,EAAMikB,YAAY,qBAAsB,CAAE,IAC1C,CAACG,EAAc74C,KAC3B64C,EAAa76C,MAAQgV,EAAQM,UAAUtT,IAA8B,SAAtB64C,EAAa76C,MAC5DgV,EAAQC,OAAOjT,GAAKhC,KAAK66C,EAAa76C,MAEtC66C,EAAa,iBAAmB7lC,EAAQM,UAAUtT,IAClDgT,EAAQC,OAAOjT,GAAKhC,MAAK,GAAM8a,OAAO+/B,EAAa,gBACvD,IAEG7lC,CACX,CC3CA,IAAA8lC,GAAiB,SAA8Bv6C,GAC3C,OAAOA,EACF1C,WACA0d,cACA9e,QAAQ,OAAQ,KAChBA,QAAQ,WAAY,IACpBA,QAAQ,KAAM,KACdA,QAAQ,OAAQ,KAChBA,QAAQ,MAAO,IACfA,QAAQ,MAAO,IACfA,QAAQ,QAAS,OACjBA,QAAQ,2BAA4B,MAC7C,ECIe,SAASs+C,GAAmBtkB,EAAOzhB,GAC9C,IAAIgmC,EAAiBvkB,EAAMikB,YAAY,4BAA6B,CAAE,GACjEr9C,MAAMe,QAAQ48C,KAEfA,EAAiBx9C,OAAOc,KAAK08C,GAAgB1qC,QAAO,CAAC4kB,EAAKC,KACtDD,EAAIv3B,KAAK,CACL4C,KAAM40B,EACN0T,QAASmS,EAAe7lB,KAErBD,IACR,KAGP,MAAMnqB,EAAOyvC,GAAa/jB,EAAOzhB,GAASvE,OACpCwqC,EAAkB,CAAA,EAClBC,EAAgB,CAAA,EAChBrjB,EAAS,IAAIwJ,GAEnBrsB,EAAQK,YAAW,SAAUX,GACzB,IAAIA,EAAIuB,WAER,GADAglC,EAAgBvmC,EAAInU,QAAUu6C,GAAqBpmC,EAAInU,QACpC,WAAfmU,EAAI1U,OAAqB,CACzB,MAAO+I,EAAKxJ,GAAOmV,EAAIb,QACvBqnC,EAAcxmC,EAAInU,QAAU,CACxBwI,MACAxJ,MACAwwB,IAAKrb,EAAIqb,MACTC,KAAMtb,EAAIsb,OACVC,OAAQvb,EAAIub,SAEnB,MAAM,GAAmB,SAAfvb,EAAI1U,OAAmB,CAC9B,MAAO+I,EAAKxJ,GAAOmV,EAAIb,QACvBqnC,EAAcxmC,EAAInU,QAAU,CAAEwI,MAAKxJ,MACvC,CACJ,IAGA,MAAM47C,EAAcH,EAAe1qC,QAAO,CAAC4kB,EAAKzf,EAAK/I,KACjD,MAAM1K,EAAM84C,GAAqBrlC,EAAIlV,MACrC,OAAO20B,EAAIvV,IAAI3d,EAAK,CAChBzB,KAAMkV,EAAIlV,KACVd,MAAOuV,EAAQG,aAAezI,EAC9B1K,MACA6mC,QAASpzB,EAAIozB,QACbuS,QAAS,EACThqC,UAAU,EACViqC,UAAW,IACb,GACH,IAAI55C,KAGPu5C,EAAejmC,SAAQuJ,IAAuB,IAAtBuqB,QAAEA,EAAOtoC,KAAEA,GAAM+d,EACrC,MAAM5J,EAAMymC,EAAY3zC,IAAIszC,GAAqBv6C,IACjD,GAAIsoC,EAAQ1pB,OACR,IACIzK,EAAIurB,KAAOpI,EAAOrf,MAAMqwB,EAAQ1pB,QAChCzK,EAAIurB,KAAKkB,YAAYpsB,SAAQzD,IACzBA,EAAIA,EAAE+d,MAAM,MAAM,GACd8rB,EAAYp5C,IAAIuP,IAChBoD,EAAI2mC,UAAU19C,KAAKw9C,EAAY3zC,IAAI8J,GACvC,GAEP,CAAC,MAAO9V,GACLkZ,EAAImd,MAAQr2B,EAAEu2B,OAElB,MAEArd,EAAIurB,KAAO,CACPl2B,SAAQA,IACG,GAEXo3B,UAASA,IACE,GAGnB,IAMJ,MAAMma,EAAkB,GAExB,IAAIC,EAAU,EACd,KAAOJ,EAAY1oC,QACX8oC,EAAU,MACdJ,EAAYpmC,SAAQL,IAChB6mC,IACA,IACIC,EAAM9mC,EAAK,GACd,CAAC,MAAOlZ,GACL,IAAIA,EAAEu2B,QAAQ0pB,WAAW,uBAMrB,MAAMjgD,EALNkZ,EAAImd,MAAQr2B,EAAEu2B,QAEdopB,EAAYO,OAAOhnC,EAAI1S,KACvBs5C,EAAgB39C,KAAK+W,EAI7B,KA4BR,OAvBA4mC,EAAgBvmC,SAAQL,IACpB,GAAIA,EAAImd,MAAO,CACX,MAAM8pB,EAAW1mC,GACbP,EAAInU,KACJwK,EAAK9O,KAAI,IAAM,UAEnB0/C,EAAS1lC,YAAa,EACtB0lC,EAAS9S,QAAUn0B,EAAIm0B,QACvB8S,EAAS/gC,OAAS,CACd,CACImX,QAASrd,EAAImd,MACb31B,IAAK,QAGbwY,EAAIO,OAAS0mC,CACjB,MACIjnC,EAAIO,OAoCZ,SAA0B2mC,GAAwC,IAAvC/S,QAAEA,EAAOtoC,KAAEA,EAAI0/B,KAAEA,EAAIpO,MAAEA,EAAKpyB,MAAEA,GAAOm8C,EAC5D,MAAMhhC,EAAS,GACXiX,GACAjX,EAAOjd,KAAK,CAAEzB,IAAK,MAAO61B,QAASF,IAIvC,MAAM4oB,EAAUhkB,EACXikB,YAAY,eAAgB,IAC5BlqC,QAAOmqC,GAAUA,EAAO1lC,SAAWxV,GAASk7C,EAAOz+C,IAAM,IACzDoU,QAAO,CAAC4kB,EAAKC,KACV,MAAM0mB,EAAM3mB,EAAI1tB,IAAI2tB,EAAIj5B,IAAM,GAM9B,OALI2/C,IAEA1mB,EAAIznB,SAAWmuC,EAAInuC,UAEvBwnB,EAAIvV,IAAIwV,EAAIj5B,IAAM,EAAGi5B,GACdD,CAAG,GACX,IAAIzzB,KAELyE,EAAS6E,EAAK9O,KAAI,SAAUC,EAAKuD,GACnC,MAAMsI,EAAU,CACZ+zC,UAAWr8C,GAWf,IAAItD,EATJ+T,GAAKhU,GAAK,SAAUuZ,EAAKzT,GAChBi5C,EAAgBj5C,KACrB+F,EAAQkzC,EAAgBj5C,IAAQyT,EAC5BylC,EAAcl5C,IACdxE,OAAOc,KAAK48C,EAAcl5C,IAAM+S,SAAQgnC,IACpCh0C,EAAS,GAAEkzC,EAAgBj5C,OAAS+5C,KAAUb,EAAcl5C,GAAK+5C,EAAK,IAGlF,IAEA,IACI5/C,EAAQ8jC,EAAKl2B,SAAShC,GACD,mBAAV5L,IACPye,EAAOjd,KAAK,CAAEo0B,QAAS,4BAA6B71B,IAAKuD,IACzDtD,EAAQ,KAEf,CAAC,MAAO01B,GACLjX,EAAOjd,KAAK,CAAEo0B,QAASF,EAAME,QAAS71B,IAAKuD,IAC3CtD,EAAQ,IACZ,CACA,GAAIs+C,EAAQ14C,IAAItC,GAAQ,CACpB,MAAMk7C,EAASF,EAAQjzC,IAAI/H,GAC3B,QAAwBzD,IAApB2+C,EAAOjtC,UAA0BitC,EAAOjtC,UAAYvR,EAEpD,OAAOw+C,EAAOx+C,KAEtB,CACA,OAAOA,CACX,IACA8+C,EAAgB16C,GAAQu6C,GAAqBv6C,GAE7C2F,EAAO6O,SAAQ,CAACU,EAAKvS,KACjB6H,EAAK7H,GAAG3C,GAAQkV,CAAG,IAEvB,IAAIumC,EAAgB/mC,GAChB1U,EACA2F,EAAOjK,KAAI,SAAUqV,GACjB,OAAInR,EAAUmR,GAAWA,EAAI,MAAQ,KACjC3Q,EAAO2Q,GArO3B,SAAyBuK,GACrB,IACI,OAAOA,EAAKunB,aACf,CAAC,MAAO5nC,GACL,GAAIA,aAAaygD,WACb,OAAOpgC,EAAKhe,WAEhB,MAAMrC,CACV,CACJ,CA4NsC0gD,CAAgB5qC,GAClC5Q,EAAS4Q,GAAW/U,OAAO+U,GAC3BrR,EAAOqR,GAAW,KACf/U,OAAO+U,EACjB,KAGL,GAA6B,WAAzB0qC,EAAch8C,OAAqB,CACnC,MAAO+I,EAAKxJ,GAAOy8C,EAAcnoC,QACjCqnC,EAAc36C,GAAQ,CAClBwI,MACAxJ,MACAwwB,IAAKisB,EAAcjsB,MACnBC,KAAMgsB,EAAchsB,OACpBC,OAAQ+rB,EAAc/rB,SAE7B,MAAM,GAA6B,SAAzB+rB,EAAch8C,OAAmB,CACxC,MAAO+I,EAAKxJ,GAAOy8C,EAAcnoC,QACjCqnC,EAAc36C,GAAQ,CAAEwI,MAAKxJ,MACjC,CAIA,OAHAy8C,EAAc/lC,YAAa,EAC3B+lC,EAAcphC,OAASA,EACvBohC,EAAcnT,QAAUA,EACjBmT,CACX,CA1HqBG,CAAkBznC,EACnC,IAIJ4mC,EAAgB90C,MAAK,CAAChC,EAAGC,IAAMD,EAAE/E,MAAQgF,EAAEhF,QAAOsV,SAAQqnC,IAAA,IAACnnC,OAAEA,GAAQmnC,EAAA,OAAKpnC,EAAQ0B,IAAIzB,EAAO,IAEtFD,EAEP,SAASwmC,EAAM9mC,EAAK68B,GAChB,GAAI78B,EAAItD,SAAU,OAClBmgC,EAAM5zC,KAAK+W,EAAInU,MACf,IAAK,IAAI2C,EAAI,EAAGA,EAAIquC,EAAMx1C,OAAS,EAAGmH,IAClC,GAAIwR,EAAInU,OAASgxC,EAAMruC,GACnB,MAAM,IAAI4H,MAAM,wBAA0BymC,EAAM10C,KAAK,QAG7D6X,EAAI6mC,QAAUA,EACd,IAAIc,GAAc,EAClB,IAAK,IAAIn5C,EAAI,EAAGA,EAAIwR,EAAI2mC,UAAUt/C,OAAQmH,IACtCm5C,EAAcA,GAAe3nC,EAAI2mC,UAAUn4C,GAAGkO,SAE9CirC,GAEA3nC,EAAItD,UAAW,EACfkqC,EAAgB39C,KAAK+W,GACrBymC,EAAYO,OAAOhnC,EAAI1S,MAEnBuvC,EAAMx1C,OAAS,IACf2Y,EAAI2mC,UAAUtmC,SAAQwB,IAClBilC,EAAMjlC,EAAGg7B,EAAM3zC,MAAM,GAAG,GAIxC,CAyFJ,CC8JA,SAAS0+C,GAAoB34C,GACzB,MAAMgY,EAAane,OAAOc,KAAKqF,GACzBrF,EAAO,GASb,OARAqd,EAAW5G,SAAQ/S,IACVu6C,GAAc54C,EAAO3B,IAEtBs6C,GAAoB34C,EAAO3B,IAAM+S,SAAQynC,IACrCl+C,EAAKX,KAAM,GAAEqE,KAAOw6C,IAAS,IAHJl+C,EAAKX,KAAKqE,EAK3C,IAEG1D,CACX;;;;;;;qBCtaC,SAAUpB,EAAQ4wB,GAG0BxR,EAAOC,QAC5CD,EAAAC,QAAiBuR,IAEjB5wB,EAAO9B,QAAU0yB,GAExB,CARD,CAQEnuB,IAAM,WAKJ,IAAIvE,EACA0I,EAosBIvI,EAIJkhD,EAQIC,EA9sBJC,EAAU,CAAE,EACZC,EAAU,CAAE,EACZj2C,EAAW,CACPk2C,cAAe,KACfC,WAAY,KACZC,WAAY,KACZC,cAAe,MACfC,mBAAmB,GAEvBzvC,EAAU,CACNqvC,cAAel2C,EAASk2C,cACxBC,WAAYn2C,EAASm2C,WACrBC,WAAYp2C,EAASo2C,WACrBC,cAAer2C,EAASq2C,cACxBC,kBAAmBt2C,EAASs2C,mBASpC,SAASC,EAAQ5wC,EAAOyO,GACpBpb,KAAKw9C,OAAS7wC,EAEd3M,KAAKy9C,OAASriC,CACjB,CAg8BL,OA97BI3f,EAAU,SAASkR,GACf,IAAInQ,EACAkhD,EACAC,EACAC,EAEJ,GAAIniD,EAAQoiD,UAAUlxC,GAClBnQ,EAAQmQ,EAAMnQ,aACX,GAAc,IAAVmQ,QAAgC,IAAVA,EAC7BnQ,EAAQ,OACL,GAAc,OAAVmQ,GAAkBxI,EAAElF,MAAM0N,GACjCnQ,EAAQ,UACL,GAAqB,iBAAVmQ,EACd,GAAIkB,EAAQsvC,YAAcxwC,IAAUkB,EAAQsvC,WACxC3gD,EAAQ,OACL,GAAIqR,EAAQuvC,YAAczwC,IAAUkB,EAAQuvC,aAAezwC,EAAM7P,QAAQ,WAAY,IAAIV,OAC5FI,EAAQ,SACL,CACH,IAAKkhD,KAAQV,EAGT,IAFAY,EAAmD,mBAAnCZ,EAAQU,GAAMI,QAAQC,SAA0Bf,EAAQU,GAAMI,QAAQC,WAAaf,EAAQU,GAAMI,QAAQC,WAE3GpxC,EAAM/C,MAAMg0C,GAAS,CAC/BD,EAAmBX,EAAQU,GAAMK,SAEjC,KACH,CAKLvhD,GAFAmhD,EAAmBA,GAAoBliD,EAAQ0I,EAAE65C,gBAExBrxC,EAC5B,MAEDnQ,EAAQC,OAAOkQ,IAAS,KAG5B,OAAO,IAAI4wC,EAAQ5wC,EAAOnQ,EAClC,GAGYimB,QAtEM,QAyEdhnB,EAAQoiD,UAAY,SAASz9C,GACzB,OAAOA,aAAem9C,CAC9B,EAGI9hD,EAAQ0I,EAAIA,EAAI,CAEZ85C,eAAgB,SAASzhD,EAAO2e,EAAQ+iC,GACpC,IAGIC,EAQAC,EACAzoB,EAIA0oB,EACArkC,EACAskC,EACAC,EACAzxC,EApBAs9B,EAAS6S,EAAQxhD,EAAQoS,QAAQqvC,eACjCsB,GAAO,EACPC,GAAS,EAEThlC,EAAO,GACPilC,EAAW,KACXC,EAAU,IACVC,EAAU,IAEVhjD,EAAU,GACVwjC,GAAM,EAgGV,GAnFA5iC,EAAQA,GAAS,EAEjBm5B,EAAMp2B,KAAKo2B,IAAIn5B,GAIXf,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,MAC3BqjC,GAAO,EACPrjC,EAASA,EAAOre,QAAQ,WAAY,MAC7BrB,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,MAAQ1f,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,QACrEmjC,EAAS7iD,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,KAAOA,EAAOte,QAAQ,KAAOL,EAAQ,EAAI2e,EAAOte,QAAQ,MAAQ,EACpGse,EAASA,EAAOre,QAAQ,WAAY,KAIpCrB,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,OAG3BijC,KAFAA,EAAYjjC,EAAOvR,MAAM,iBAEDw0C,EAAU,GAG9B3iD,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,QAC3B1B,EAAO,KAGX0B,EAASA,EAAOre,QAAQ,IAAIC,OAAO0c,EAAO,YAAa,IAEnDkc,GAAO+oB,IAAaN,GAA2B,MAAdA,GAEjC3kC,GAAQ2wB,EAAOyU,cAAcH,SAC7BliD,GAAgBkiD,GACT/oB,EAAM+oB,GAAY/oB,GAAOgpB,IAAYP,GAA2B,MAAdA,GAEzD3kC,GAAQ2wB,EAAOyU,cAAcF,QAC7BniD,GAAgBmiD,GACThpB,EAAMgpB,GAAWhpB,GAAOipB,IAAYR,GAA2B,MAAdA,GAExD3kC,GAAQ2wB,EAAOyU,cAAcD,QAC7BpiD,GAAgBoiD,IACTjpB,EAAMipB,GAAWjpB,GAtDjB,MAsDqCyoB,GAA2B,MAAdA,KAEzD3kC,GAAQ2wB,EAAOyU,cAAcC,SAC7BtiD,GAzDO,MA8DXf,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,SAC3BsjC,GAAS,EACTtjC,EAASA,EAAOre,QAAQ,MAAO,MAInCuhD,EAAM7hD,EAAM0B,WAAWwxB,MAAM,KAAK,GAClC1V,EAAYmB,EAAOuU,MAAM,KAAK,GAC9B6uB,EAAYpjC,EAAOte,QAAQ,KAC3BshD,GAAgBhjC,EAAOuU,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAG9lB,MAAM,OAAS,IAAIxN,OAElE4d,GACIve,EAAQ0I,EAAE6/B,SAAShqB,EAAW,MAE9BA,GADAA,EAAYA,EAAUld,QAAQ,IAAK,KACb4yB,MAAM,KAC5B9zB,EAAUH,EAAQ0I,EAAE46C,QAAQviD,EAAQwd,EAAU,GAAG5d,OAAS4d,EAAU,GAAG5d,OAAS8hD,EAAkBlkC,EAAU,GAAG5d,SAE/GR,EAAUH,EAAQ0I,EAAE46C,QAAQviD,EAAOwd,EAAU5d,OAAQ8hD,GAGzDG,EAAMziD,EAAQ8zB,MAAM,KAAK,GAGrB9zB,EADAH,EAAQ0I,EAAE6/B,SAASpoC,EAAS,KAClBwuC,EAAOzuC,WAAWC,QAAUA,EAAQ8zB,MAAM,KAAK,GAE/C,GAGV+uB,GAAuC,IAA7BhiD,OAAOb,EAAQqC,MAAM,MAC/BrC,EAAU,KAGdyiD,EAAM5iD,EAAQ0I,EAAE46C,QAAQviD,EAAO,EAAG0hD,GAIlCzkC,IAAS2kC,GAAa3hD,OAAO4hD,IAAQ,KAAQ5kC,IAAS2wB,EAAOyU,cAAcH,SAG3E,OAFAL,EAAMzhD,OAAOH,OAAO4hD,GAAO,KAEnB5kC,GACJ,KAAK2wB,EAAOyU,cAAcC,SACtBrlC,EAAO2wB,EAAOyU,cAAcD,QAC5B,MACJ,KAAKxU,EAAOyU,cAAcD,QACtBnlC,EAAO2wB,EAAOyU,cAAcF,QAC5B,MACJ,KAAKvU,EAAOyU,cAAcF,QACtBllC,EAAO2wB,EAAOyU,cAAcH,SAYxC,GALIjjD,EAAQ0I,EAAE6/B,SAASqa,EAAK,OACxBA,EAAMA,EAAIpgD,MAAM,GAChBmhC,GAAM,GAGNif,EAAIjiD,OAAS+hD,EACb,IAAK,IAAI56C,EAAI46C,EAAeE,EAAIjiD,OAAQmH,EAAI,EAAGA,IAC3C86C,EAAM,IAAMA,EAwBpB,OApBIE,GAAa,IACbF,EAAMA,EAAIngD,WAAWpB,QAAQ,0BAA2B,KAAOstC,EAAOzuC,WAAW4iD,YAGzD,IAAxBpjC,EAAOte,QAAQ,OACfwhD,EAAM,IAGVvxC,EAASuxC,EAAMziD,GAAW6d,GAAc,IAEpC+kC,EACA1xC,GAAU0xC,GAAQpf,EAAM,IAAM,IAAMtyB,GAAU0xC,GAAQpf,EAAM,IAAM,IAE9Dkf,GAAU,EACVxxC,EAAoB,IAAXwxC,GAAgBlf,EAAM,IAAM,KAAOtyB,EAASA,GAAUsyB,EAAM,IAAM,KACpEA,IACPtyB,EAAS,IAAMA,GAIhBA,CACV,EAEDkxC,eAAgB,SAASj0C,GACrB,IAQIi1C,EACAxiD,EAEAohD,EAXAxT,EAAS6S,EAAQpvC,EAAQqvC,eACzB+B,EAAiBl1C,EACjB80C,EAAgB,CACZC,SAAU,EACVF,QAAS,EACTD,QAAS,EACTD,SAAU,IAOlB,GAAI7wC,EAAQsvC,YAAcpzC,IAAW8D,EAAQsvC,WACzC3gD,EAAQ,OACL,GAAIqR,EAAQuvC,YAAcrzC,IAAW8D,EAAQuvC,aAAerzC,EAAOjN,QAAQ,WAAY,IAAIV,OAC9FI,EAAQ,SACL,CAOH,IAAKwiD,KANLxiD,EAAQ,EAE0B,MAA9B4tC,EAAOzuC,WAAWC,UAClBmO,EAASA,EAAOjN,QAAQ,MAAO,IAAIA,QAAQstC,EAAOzuC,WAAWC,QAAS,MAGrDijD,EAGjB,GAFAjB,EAAS,IAAI7gD,OAAO,YAAcqtC,EAAOyU,cAAcG,GAAgB,aAAe5U,EAAO8U,SAAS5K,OAAS,iBAE3G2K,EAAer1C,MAAMg0C,GAAS,CAC9BphD,GAAS+C,KAAKC,IAAI,GAAIq/C,EAAcG,IACpC,KACH,CAILxiD,IAAUuN,EAAO2lB,MAAM,KAAKtzB,OAASmD,KAAK6J,IAAIW,EAAO2lB,MAAM,KAAKtzB,OAAS,EAAG2N,EAAO2lB,MAAM,KAAKtzB,OAAS,IAAM,EAAI,GAAK,EAGtH2N,EAASA,EAAOjN,QAAQ,aAAc,IAEtCN,GAASC,OAAOsN,EACnB,CAED,OAAOvN,CACV,EACDyC,MAAO,SAASzC,GACZ,MAAwB,iBAAVA,GAAsByC,MAAMzC,EAC7C,EACDwnC,SAAU,SAASj6B,EAAQs7B,GACvB,OAAmC,IAA5Bt7B,EAAOlN,QAAQwoC,EACzB,EACD8Z,OAAQ,SAASp1C,EAAQq1C,EAAWlwC,GAChC,OAAOnF,EAAO9L,MAAM,EAAGiR,GAASkwC,EAAYr1C,EAAO9L,MAAMiR,EAC5D,EACDyB,OAAQ,SAASjB,EAAO26B,GACpB,GAAa,OAATrqC,KACA,MAAM,IAAIuM,UAAU,sDAGxB,GAAwB,mBAAb89B,EACP,MAAM,IAAI99B,UAAU89B,EAAW,sBAGnC,IAGI7tC,EAHAyzB,EAAIpyB,OAAO6R,GACXxC,EAAM+iB,EAAE7zB,SAAW,EACnBg4B,EAAI,EAGR,GAAyB,IAArBj4B,UAAUC,OACVI,EAAQL,UAAU,OACf,CACH,KAAOi4B,EAAIlnB,KAASknB,KAAKnE,IACrBmE,IAGJ,GAAIA,GAAKlnB,EACL,MAAM,IAAIX,UAAU,+CAGxB/P,EAAQyzB,EAAEmE,IACb,CACD,KAAOA,EAAIlnB,EAAKknB,IACRA,KAAKnE,IACLzzB,EAAQ6tC,EAAS7tC,EAAOyzB,EAAEmE,GAAIA,EAAGnE,IAGzC,OAAOzzB,CACV,EAMD6iD,WAAY,SAAU9nC,GAClB,IAAI+nC,EAAQ/nC,EAAErZ,WAAWwxB,MAAM,KAE/B,OAAO4vB,EAAMljD,OAAS,EAAI,EAAImD,KAAKC,IAAI,GAAI8/C,EAAM,GAAGljD,OACvD,EAMDmjD,iBAAkB,WAGd,OAFW7hD,MAAMC,UAAUM,MAAM8B,KAAK5D,WAE1BwU,QAAO,SAASzH,EAAO6vB,GAC/B,IAAIymB,EAAKr7C,EAAEk7C,WAAWtmB,GACtB,OAAO7vB,EAAQs2C,EAAKt2C,EAAQs2C,CAC/B,GAAE,EACN,EAODT,QAAS,SAASviD,EAAOijD,EAAavB,EAAkBwB,GACpD,IAEIC,EACAC,EACAC,EACA/yC,EALAgzC,EAAatjD,EAAM0B,WAAWwxB,MAAM,KACpCqwB,EAAcN,GAAeC,GAAa,GAuB9C,OAfEC,EADwB,IAAtBG,EAAW1jD,OACMmD,KAAK6J,IAAI7J,KAAKK,IAAIkgD,EAAW,GAAG1jD,OAAQ2jD,GAAcN,GAEtDM,EAGrBF,EAAQtgD,KAAKC,IAAI,GAAImgD,GAGrB7yC,GAAUoxC,EAAiB1hD,EAAQ,KAAOmjD,GAAoBE,GAAOd,QAAQY,GAEzED,EAAYD,EAAcE,IAC1BC,EAAkB,IAAI7iD,OAAO,YAAc2iD,GAAaD,EAAcE,IAAqB,MAC3F7yC,EAASA,EAAOhQ,QAAQ8iD,EAAiB,KAGtC9yC,CACV,GAILrR,EAAQoS,QAAUA,EAGlBpS,EAAQuhD,QAAUA,EAGlBvhD,EAAQwhD,QAAUA,EAKlBxhD,EAAQ2uC,OAAS,SAAS/nC,GAKtB,OAJIA,IACAwL,EAAQqvC,cAAgB76C,EAAIuZ,eAGzB/N,EAAQqvC,aACvB,EAKIzhD,EAAQC,WAAa,SAAS2G,GAC1B,IAAKA,EACD,OAAO46C,EAAQpvC,EAAQqvC,eAK3B,GAFA76C,EAAMA,EAAIuZ,eAELqhC,EAAQ56C,GACT,MAAM,IAAI8I,MAAM,oBAAsB9I,GAG1C,OAAO46C,EAAQ56C,EACvB,EAEI5G,EAAQukD,MAAQ,WACZ,IAAK,IAAI93C,KAAYlB,EACjB6G,EAAQ3F,GAAYlB,EAASkB,EAEzC,EAEIzM,EAAQ0hD,WAAa,SAAShiC,GAC1BtN,EAAQsvC,WAAgC,iBAAZ,EAAuBhiC,EAAS,IACpE,EAEI1f,EAAQ2hD,WAAa,SAAUjiC,GAC3BtN,EAAQuvC,WAAgC,iBAAZ,EAAuBjiC,EAAS,IACpE,EAEI1f,EAAQ4hD,cAAgB,SAASliC,GAC7BtN,EAAQwvC,cAAmC,iBAAZ,EAAuBliC,EAAS,KACvE,EAEI1f,EAAQwkD,SAAW,SAAS5/C,EAAMO,EAAMua,GAGpC,GAFAva,EAAOA,EAAKgb,cAER5b,KAAKK,EAAO,KAAKO,GACjB,MAAM,IAAI2L,UAAU3L,EAAO,IAAMP,EAAO,wBAK5C,OAFAL,KAAKK,EAAO,KAAKO,GAAQua,EAElBA,CACf,EAGI1f,EAAQykD,SAAW,SAASpqC,EAAKqqC,GAC7B,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACA/kD,EACAuW,EAeJ,GAZmB,iBAAR6D,IACPA,GAAO,GAEH0G,QAAQC,MACRD,QAAQC,KAAK,6DAA8D3G,KAKnFA,EAAMA,EAAI0J,QAGA5V,MAAM,SACZ,OAAO,EAIX,GAAY,KAARkM,EACA,OAAO,EAIX,IAEIpa,EAAaD,EAAQC,WAAWykD,EACnC,CAAC,MAAOtkD,GACLH,EAAaD,EAAQC,WAAWD,EAAQ2uC,SAC3C,CAcD,OAXAkW,EAAc5kD,EAAWwjD,SAAS5K,OAClCkM,EAAW9kD,EAAWmjD,cACtBuB,EAAc1kD,EAAWC,WAAWC,QAEhCykD,EADoC,MAApC3kD,EAAWC,WAAW4iD,UACP,MAEA7iD,EAAWC,WAAW4iD,WAK5B,QADbtsC,EAAO6D,EAAIlM,MAAM,cAEbkM,EAAMA,EAAIyd,OAAO,GACbthB,EAAK,KAAOquC,OAOP,QADbruC,EAAO6D,EAAIlM,MAAM,cAEbkM,EAAMA,EAAI7X,MAAM,GAAI,GAChBgU,EAAK,KAAOuuC,EAAS1B,UAAY7sC,EAAK,KAAOuuC,EAAS5B,SAAW3sC,EAAK,KAAOuuC,EAAS7B,SAAW1sC,EAAK,KAAOuuC,EAAS9B,aAK9H+B,EAAiB,IAAI1jD,OAAOsjD,EAAe,QAEtCvqC,EAAIlM,MAAM,iBACX22C,EAAYzqC,EAAI4Z,MAAM0wB,IACRhkD,OAAS,KAGfmkD,EAAUnkD,OAAS,IACPmkD,EAAU,GAAG32C,MAAM,eAAiB22C,EAAU,GAAG32C,MAAM62C,GAEvC,IAAxBF,EAAU,GAAGnkD,SACDmkD,EAAU,GAAG32C,MAAM,WAAa22C,EAAU,GAAG32C,MAAM62C,MAAsBF,EAAU,GAAG32C,MAAM,WAE5F22C,EAAU,GAAG32C,MAAM,eAAiB22C,EAAU,GAAG32C,MAAM62C,MAAsBF,EAAU,GAAG32C,MAAM,YAOpI,EAOInO,EAAQilD,GAAKnD,EAAQ5/C,UAAY,CAC7B4J,MAAO,WACH,OAAO9L,EAAQuE,KAClB,EACDmb,OAAQ,SAASwlC,EAAazC,GAC1B,IAEIR,EACA5wC,EACA8zC,EAJApkD,EAAQwD,KAAKy9C,OACbtiC,EAASwlC,GAAe9yC,EAAQwvC,cASpC,GAHAa,EAAmBA,GAAoB3+C,KAAKm1B,MAG9B,IAAVl4B,GAAsC,OAAvBqR,EAAQsvC,WACvBrwC,EAASe,EAAQsvC,gBACd,GAAc,OAAV3gD,GAAyC,OAAvBqR,EAAQuvC,WACjCtwC,EAASe,EAAQuvC,eACd,CACH,IAAKM,KAAQV,EACT,GAAI7hC,EAAOvR,MAAMozC,EAAQU,GAAMI,QAAQ3iC,QAAS,CAC5CylC,EAAiB5D,EAAQU,GAAMviC,OAE/B,KACH,CAKLrO,GAFA8zC,EAAiBA,GAAkBnlD,EAAQ0I,EAAE85C,gBAErBzhD,EAAO2e,EAAQ+iC,EAC1C,CAED,OAAOpxC,CACV,EACDtQ,MAAO,WACH,OAAOwD,KAAKy9C,MACf,EACD9wC,MAAO,WACH,OAAO3M,KAAKw9C,MACf,EACDx9B,IAAK,SAASxjB,GAGV,OAFAwD,KAAKy9C,OAAShhD,OAAOD,GAEdwD,IACV,EACD+W,IAAK,SAASva,GACV,IAAIqkD,EAAa18C,EAAEo7C,iBAAiBx/C,KAAK,KAAMC,KAAKy9C,OAAQjhD,GAQ5D,OAFAwD,KAAKy9C,OAASt5C,EAAEwM,OAAO,CAAC3Q,KAAKy9C,OAAQjhD,IAJrC,SAAe0M,EAAO43C,EAAMC,EAAOC,GAC/B,OAAO93C,EAAQ3J,KAAKm1B,MAAMmsB,EAAaC,EAC1C,GAEmD,GAAKD,EAElD7gD,IACV,EACDihD,SAAU,SAASzkD,GACf,IAAIqkD,EAAa18C,EAAEo7C,iBAAiBx/C,KAAK,KAAMC,KAAKy9C,OAAQjhD,GAQ5D,OAFAwD,KAAKy9C,OAASt5C,EAAEwM,OAAO,CAACnU,IAJxB,SAAe0M,EAAO43C,EAAMC,EAAOC,GAC/B,OAAO93C,EAAQ3J,KAAKm1B,MAAMmsB,EAAaC,EAC1C,GAEsCvhD,KAAKm1B,MAAM10B,KAAKy9C,OAASoD,IAAeA,EAExE7gD,IACV,EACDkhD,SAAU,SAAS1kD,GAQf,OAFAwD,KAAKy9C,OAASt5C,EAAEwM,OAAO,CAAC3Q,KAAKy9C,OAAQjhD,IALrC,SAAe0M,EAAO43C,EAAMC,EAAOC,GAC/B,IAAIH,EAAa18C,EAAEo7C,iBAAiBr2C,EAAO43C,GAC3C,OAAOvhD,KAAKm1B,MAAMxrB,EAAQ23C,GAActhD,KAAKm1B,MAAMosB,EAAOD,GAActhD,KAAKm1B,MAAMmsB,EAAaA,EACnG,GAEmD,GAE7C7gD,IACV,EACDmhD,OAAQ,SAAS3kD,GAQb,OAFAwD,KAAKy9C,OAASt5C,EAAEwM,OAAO,CAAC3Q,KAAKy9C,OAAQjhD,IALrC,SAAe0M,EAAO43C,EAAMC,EAAOC,GAC/B,IAAIH,EAAa18C,EAAEo7C,iBAAiBr2C,EAAO43C,GAC3C,OAAOvhD,KAAKm1B,MAAMxrB,EAAQ23C,GAActhD,KAAKm1B,MAAMosB,EAAOD,EAC7D,IAIM7gD,IACV,EACDsT,WAAY,SAAS9W,GACjB,OAAO+C,KAAKo2B,IAAIl6B,EAAQuE,KAAKy9C,QAAQwD,SAASzkD,GAAOA,QACxD,GAOLf,EAAQwkD,SAAS,SAAU,KAAM,CAC7BtkD,WAAY,CACR4iD,UAAW,IACX3iD,QAAS,KAEbijD,cAAe,CACXC,SAAU,IACVF,QAAS,IACTD,QAAS,IACTD,SAAU,KAEd0C,QAAS,SAAShmC,GACd,IAAItW,EAAIsW,EAAS,GACjB,OAAkC,MAAvBA,EAAS,IAAM,IAAa,KAC5B,IAANtW,EAAW,KACL,IAANA,EAAW,KACL,IAANA,EAAW,KAAO,IAC1B,EACDo6C,SAAU,CACN5K,OAAQ,OAOZ74C,EAAQwkD,SAAS,SAAU,MAAO,CAC9BnC,QAAS,CACL3iC,OAAQ,QACR4iC,SAAU,SAEd5iC,OAAQ,SAAS3e,EAAO2e,EAAQ+iC,GAC5B,IACIpxC,EADAu0C,EAAQ5lD,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,QAAU,IAAM,GAoBvD,OAjBA3e,GAAgB,IAGhB2e,EAASA,EAAOre,QAAQ,SAAU,IAElCgQ,EAASrR,EAAQ0I,EAAE85C,eAAezhD,EAAO2e,EAAQ+iC,GAE7CziD,EAAQ0I,EAAE6/B,SAASl3B,EAAQ,OAC3BA,EAASA,EAAO4iB,MAAM,KAEf0B,QAAQ,EAAG,EAAGiwB,EAAQ,OAE7Bv0C,EAASA,EAAO5P,KAAK,KAErB4P,EAASA,EAASu0C,EAAQ,MAGvBv0C,CACV,EACDixC,SAAU,SAASh0C,GACf,QAA4C,KAAnCtO,EAAQ0I,EAAE65C,eAAej0C,IAAkBg1C,QAAQ,GAC/D,IAULjC,EAAS,CACLloB,KAAM,KACN0sB,SAAU,CAAC,IAAK,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAQrEvE,EAAgB,KAFZA,GAZAnhD,EAAU,CACVg5B,KAAM,IACN0sB,SAAU,CAAC,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,QAOvCA,SAASr7C,OAAO62C,EAAOwE,SAASzwC,QAAO,SAAUV,GACpE,OAAOvU,EAAQ0lD,SAASzkD,QAAQsT,GAAQ,CAC3C,KAC+BjT,KAAK,MAEDJ,QAAQ,IAAK,WAAa,IAElErB,EAAQwkD,SAAS,SAAU,QAAS,CAChCnC,QAAS,CACL3iC,OAAQ,aACR4iC,SAAU,IAAIhhD,OAAOggD,IAEzB5hC,OAAQ,SAAS3e,EAAO2e,EAAQ+iC,GAC5B,IAGI2B,EACAz2C,EACAxJ,EAJA2hD,EAAQ9lD,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,MAAQ2hC,EAASlhD,EACpDsZ,EAASzZ,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,OAAS1f,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,OAAS,IAAM,GAQ3F,IAFAA,EAASA,EAAOre,QAAQ,SAAU,IAE7B+iD,EAAQ,EAAGA,GAAS0B,EAAMD,SAASllD,OAAQyjD,IAI5C,GAHAz2C,EAAM7J,KAAKC,IAAI+hD,EAAM3sB,KAAMirB,GAC3BjgD,EAAML,KAAKC,IAAI+hD,EAAM3sB,KAAMirB,EAAQ,GAErB,OAAVrjD,GAA4B,IAAVA,GAAeA,GAAS4M,GAAO5M,EAAQoD,EAAK,CAC9DsV,GAAUqsC,EAAMD,SAASzB,GAErBz2C,EAAM,IACN5M,GAAgB4M,GAGpB,KACH,CAKL,OAFS3N,EAAQ0I,EAAE85C,eAAezhD,EAAO2e,EAAQ+iC,GAEjChpC,CACnB,EACD6oC,SAAU,SAASh0C,GACf,IACI81C,EACA2B,EAFAhlD,EAAQf,EAAQ0I,EAAE65C,eAAej0C,GAIrC,GAAIvN,EAAO,CACP,IAAKqjD,EAAQjkD,EAAQ0lD,SAASllD,OAAS,EAAGyjD,GAAS,EAAGA,IAAS,CAC3D,GAAIpkD,EAAQ0I,EAAE6/B,SAASj6B,EAAQnO,EAAQ0lD,SAASzB,IAAS,CACrD2B,EAAkBjiD,KAAKC,IAAI5D,EAAQg5B,KAAMirB,GAEzC,KACH,CAED,GAAIpkD,EAAQ0I,EAAE6/B,SAASj6B,EAAQ+yC,EAAOwE,SAASzB,IAAS,CACpD2B,EAAkBjiD,KAAKC,IAAIs9C,EAAOloB,KAAMirB,GAExC,KACH,CACJ,CAEDrjD,GAAUglD,GAAmB,CAChC,CAED,OAAOhlD,CACV,IAMDf,EAAQwkD,SAAS,SAAU,WAAY,CACvCnC,QAAS,CACL3iC,OAAQ,QAEZA,OAAQ,SAAS3e,EAAO2e,EAAQ+iC,GAC5B,IAKIpxC,EAEAvJ,EAPA6mC,EAAS3uC,EAAQwhD,QAAQxhD,EAAQoS,QAAQqvC,eACzCuE,EAAU,CACNryC,OAAQ+L,EAAOvR,MAAM,wBAAwB,GAC7CuF,MAAOgM,EAAOvR,MAAM,wBAAwB,IAqBpD,IAdAuR,EAASA,EAAOre,QAAQ,WAAY,IAGpCgQ,EAASrR,EAAQ0I,EAAE85C,eAAezhD,EAAO2e,EAAQ+iC,GAG7C1hD,GAAS,GACTilD,EAAQryC,OAASqyC,EAAQryC,OAAOtS,QAAQ,SAAU,IAClD2kD,EAAQtyC,MAAQsyC,EAAQtyC,MAAMrS,QAAQ,SAAU,KACzCN,EAAQ,IAAOf,EAAQ0I,EAAE6/B,SAASyd,EAAQryC,OAAQ,OAAS3T,EAAQ0I,EAAE6/B,SAASyd,EAAQryC,OAAQ,OACrGqyC,EAAQryC,OAAS,IAAMqyC,EAAQryC,QAI9B7L,EAAI,EAAGA,EAAIk+C,EAAQryC,OAAOhT,OAAQmH,IAGnC,OAFSk+C,EAAQryC,OAAO7L,IAGpB,IAAK,IACDuJ,EAASrR,EAAQ0I,EAAEg7C,OAAOryC,EAAQs9B,EAAO8U,SAAS5K,OAAQ/wC,GAC1D,MACJ,IAAK,IACDuJ,EAASrR,EAAQ0I,EAAEg7C,OAAOryC,EAAQ,IAAKvJ,EAAI6mC,EAAO8U,SAAS5K,OAAOl4C,OAAS,GAMvF,IAAKmH,EAAIk+C,EAAQtyC,MAAM/S,OAAS,EAAGmH,GAAK,EAAGA,IAGvC,OAFSk+C,EAAQtyC,MAAM5L,IAGnB,IAAK,IACDuJ,EAASvJ,IAAMk+C,EAAQtyC,MAAM/S,OAAS,EAAI0Q,EAASs9B,EAAO8U,SAAS5K,OAAS74C,EAAQ0I,EAAEg7C,OAAOryC,EAAQs9B,EAAO8U,SAAS5K,SAAUmN,EAAQtyC,MAAM/S,QAAU,EAAImH,KAC3J,MACJ,IAAK,IACDuJ,EAASvJ,IAAMk+C,EAAQtyC,MAAM/S,OAAS,EAAI0Q,EAAS,IAAMrR,EAAQ0I,EAAEg7C,OAAOryC,EAAQ,MAAO20C,EAAQtyC,MAAM/S,QAAU,EAAImH,GAAK6mC,EAAO8U,SAAS5K,OAAOl4C,OAAS,IAMtK,OAAO0Q,CACV,IAMDrR,EAAQwkD,SAAS,SAAU,cAAe,CAC1CnC,QAAS,CACL3iC,OAAQ,WACR4iC,SAAU,YAEd5iC,OAAQ,SAAS3e,EAAO2e,EAAQ+iC,GAC5B,IAEIoB,GAD+B,iBAAV9iD,GAAuBf,EAAQ0I,EAAElF,MAAMzC,GAAiC,OAAxBA,EAAMklD,iBACvDhyB,MAAM,KAM9B,OAJAvU,EAASA,EAAOre,QAAQ,eAAgB,IAE/BrB,EAAQ0I,EAAE85C,eAAexhD,OAAO6iD,EAAM,IAAKnkC,EAAQ+iC,GAE5C,IAAMoB,EAAM,EAC/B,EACDvB,SAAU,SAASh0C,GACf,IAAIu1C,EAAQ7jD,EAAQ0I,EAAE6/B,SAASj6B,EAAQ,MAAQA,EAAO2lB,MAAM,MAAQ3lB,EAAO2lB,MAAM,MAC7ElzB,EAAQC,OAAO6iD,EAAM,IACrBO,EAAQpjD,OAAO6iD,EAAM,IAUzB,OARAO,EAAQpkD,EAAQ0I,EAAE6/B,SAASj6B,EAAQ,MAAQ81C,IAAU,EAAIA,EAQlDpkD,EAAQ0I,EAAEwM,OAAO,CAACnU,EAAO+C,KAAKC,IAAI,GAAIqgD,KAN7C,SAAe32C,EAAO43C,EAAMC,EAAOC,GAC/B,IAAIH,EAAaplD,EAAQ0I,EAAEo7C,iBAAiBr2C,EAAO43C,GAEnD,OADW53C,EAAQ23C,GAAeC,EAAOD,IAAeA,EAAaA,EAExE,GAE4D,EAChE,IAMDplD,EAAQwkD,SAAS,SAAU,UAAW,CACtCnC,QAAS,CACL3iC,OAAQ,OAEZA,OAAQ,SAAS3e,EAAO2e,EAAQ+iC,GAC5B,IAAI9T,EAAS3uC,EAAQwhD,QAAQxhD,EAAQoS,QAAQqvC,eAEzCkE,EAAU3lD,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,MAAQ,IAAM,GASvD,OANAA,EAASA,EAAOre,QAAQ,OAAQ,IAEhCskD,GAAWhX,EAAOgX,QAAQ5kD,GAEjBf,EAAQ0I,EAAE85C,eAAezhD,EAAO2e,EAAQ+iC,GAEjCkD,CACnB,IAMD3lD,EAAQwkD,SAAS,SAAU,aAAc,CACzCnC,QAAS,CACL3iC,OAAQ,MACR4iC,SAAU,OAEd5iC,OAAQ,SAAS3e,EAAO2e,EAAQ+iC,GAC5B,IACIpxC,EADAu0C,EAAQ5lD,EAAQ0I,EAAE6/B,SAAS7oB,EAAQ,MAAQ,IAAM,GAsBrD,OAnBI1f,EAAQoS,QAAQyvC,oBAChB9gD,GAAgB,KAIpB2e,EAASA,EAAOre,QAAQ,QAAS,IAEjCgQ,EAASrR,EAAQ0I,EAAE85C,eAAezhD,EAAO2e,EAAQ+iC,GAE7CziD,EAAQ0I,EAAE6/B,SAASl3B,EAAQ,OAC3BA,EAASA,EAAO4iB,MAAM,KAEf0B,QAAQ,EAAG,EAAGiwB,EAAQ,KAE7Bv0C,EAASA,EAAO5P,KAAK,KAErB4P,EAASA,EAASu0C,EAAQ,IAGvBv0C,CACV,EACDixC,SAAU,SAASh0C,GACf,IAAIqR,EAAS3f,EAAQ0I,EAAE65C,eAAej0C,GACtC,OAAItO,EAAQoS,QAAQyvC,kBACA,IAATliC,EAEJA,CACV,IAMD3f,EAAQwkD,SAAS,SAAU,OAAQ,CACnCnC,QAAS,CACL3iC,OAAQ,MACR4iC,SAAU,OAEd5iC,OAAQ,SAAS3e,EAAO2e,EAAQ+iC,GAC5B,IAAIyD,EAAQpiD,KAAK8J,MAAM7M,EAAQ,GAAK,IAChColD,EAAUriD,KAAK8J,OAAO7M,EAAiB,GAARmlD,EAAa,IAAO,IACnDE,EAAUtiD,KAAKm1B,MAAMl4B,EAAiB,GAARmlD,EAAa,GAAiB,GAAVC,GAEtD,OAAOD,EAAQ,KAAOC,EAAU,GAAK,IAAMA,EAAUA,GAAW,KAAOC,EAAU,GAAK,IAAMA,EAAUA,EACzG,EACD9D,SAAU,SAASh0C,GACf,IAAI+3C,EAAY/3C,EAAO2lB,MAAM,KACzBmyB,EAAU,EAgBd,OAbyB,IAArBC,EAAU1lD,QAEVylD,GAA4C,GAAvBplD,OAAOqlD,EAAU,IAAW,GAEjDD,GAA4C,GAAvBplD,OAAOqlD,EAAU,IAEtCD,GAAoBplD,OAAOqlD,EAAU,KACT,IAArBA,EAAU1lD,SAEjBylD,GAA4C,GAAvBplD,OAAOqlD,EAAU,IAEtCD,GAAoBplD,OAAOqlD,EAAU,KAElCrlD,OAAOolD,EACjB,IAIFpmD,CACP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC17BmEkhB,EAAiBC,QAG1E,WA2BN,IAzBA,IAAImlC,EAAU,SAAUxqC,EAAGnO,EAAKxJ,GAI5B,YAHa,IAARwJ,IAAiBA,EAAI,QACb,IAARxJ,IAAiBA,EAAI,GAEnB2X,EAAInO,EAAMA,EAAMmO,EAAI3X,EAAMA,EAAM2X,CAC/C,EAEQyqC,EAAUD,EAEVE,EAAa,SAAUC,GACvBA,EAAIC,UAAW,EACfD,EAAIE,WAAaF,EAAIjkD,MAAM,GAC3B,IAAK,IAAIsF,EAAE,EAAGA,GAAG,EAAGA,IACZA,EAAI,IACA2+C,EAAI3+C,GAAK,GAAK2+C,EAAI3+C,GAAK,OAAO2+C,EAAIC,UAAW,GACjDD,EAAI3+C,GAAKy+C,EAAQE,EAAI3+C,GAAI,EAAG,MACf,IAANA,IACP2+C,EAAI3+C,GAAKy+C,EAAQE,EAAI3+C,GAAI,EAAG,IAGpC,OAAO2+C,CACf,EAGQG,EAAc,CAAA,EACTC,EAAM,EAAGC,EAAS,CAAC,UAAW,SAAU,SAAU,WAAY,QAAS,OAAQ,SAAU,YAAa,QAASD,EAAMC,EAAOnmD,OAAQkmD,GAAO,EAAG,CACnJ,IAAI1hD,EAAO2hD,EAAOD,GAElBD,EAAa,WAAazhD,EAAO,KAAQA,EAAKgb,aACjD,CACD,IAAI4mC,EAAS,SAASpiD,GAClB,OAAOiiD,EAAYxkD,OAAOF,UAAUO,SAAS6B,KAAKK,KAAS,QACnE,EAEQqiD,EAASD,EAETE,EAAW,SAAUziD,EAAM0iD,GAI3B,YAHkB,IAAbA,IAAsBA,EAAS,MAGhC1iD,EAAK7D,QAAU,EAAYsB,MAAMC,UAAUM,MAAM8B,KAAKE,GAGtC,UAAnBwiD,EAAOxiD,EAAK,KAAmB0iD,EAC3BA,EAASjzB,MAAM,IACpB7e,QAAO,SAAUujB,GAAK,YAAsB/3B,IAAf4D,EAAK,GAAGm0B,MACrC93B,KAAI,SAAU83B,GAAK,OAAOn0B,EAAK,GAAGm0B,EAAG,IAI9Bn0B,EAAK,EACpB,EAEQ2iD,EAASJ,EAETK,EAAS,SAAU5iD,GACnB,GAAIA,EAAK7D,OAAS,EAAK,OAAO,KAC9B,IAAIkH,EAAIrD,EAAK7D,OAAO,EACpB,MAAuB,UAAnBwmD,EAAO3iD,EAAKqD,IAA0BrD,EAAKqD,GAAGsY,cAC3C,IACf,EAEQknC,EAAOvjD,KAAKyoC,GAEZ+a,EAAQ,CACXC,SAAUf,EACVgB,MAAOlB,EACP1hD,KAAMmiD,EACNU,OAAQR,EACR3wC,KAAM8wC,EACN7a,GAAI8a,EACJK,MAAY,EAALL,EACPM,QAASN,EAAK,EACdO,QAASP,EAAO,IAChBQ,QAAS,IAAMR,GAGZS,EAAU,CACbpoC,OAAQ,CAAE,EACVqoC,WAAY,IAGTC,EAASV,EAAMhxC,KACf2xC,EAAaX,EAAMC,SACnBW,EAASZ,EAAM1iD,KACfm9C,EAAS+F,EAETK,EAAU,WAEV,IADA,IAAI3jD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAImnB,EAAKr0B,KACT,GAAwB,WAApB2jD,EAAO1jD,EAAK,KACZA,EAAK,GAAG0D,aACR1D,EAAK,GAAG0D,cAAgB3D,KAAK2D,YAE7B,OAAO1D,EAAK,GAIhB,IAAI4jD,EAAOJ,EAAOxjD,GACdujD,GAAa,EAEjB,IAAKK,EAAM,CACPL,GAAa,EACRhG,EAAOsG,SACRtG,EAAOgG,WAAahG,EAAOgG,WAAW38C,MAAK,SAAUhC,EAAEC,GAAK,OAAOA,EAAEkY,EAAInY,EAAEmY,CAAI,IAC/EwgC,EAAOsG,QAAS,GAGpB,IAAK,IAAIvgD,EAAI,EAAGuN,EAAO0sC,EAAOgG,WAAYjgD,EAAIuN,EAAK1U,OAAQmH,GAAK,EAAG,CAC/D,IAAIwgD,EAAMjzC,EAAKvN,GAGf,GADAsgD,EAAOE,EAAI/mD,KAAKkD,MAAM6jD,EAAK9jD,GACf,KACf,CACJ,CAED,IAAIu9C,EAAOriC,OAAO0oC,GAId,MAAM,IAAI14C,MAAM,mBAAmBlL,GAHnC,IAAIiiD,EAAM1E,EAAOriC,OAAO0oC,GAAM3jD,MAAM,KAAMsjD,EAAavjD,EAAOA,EAAKhC,MAAM,GAAG,IAC5Eo2B,EAAG2vB,KAAON,EAAWxB,GAMF,IAAnB7tB,EAAG2vB,KAAK5nD,QAAgBi4B,EAAG2vB,KAAKhmD,KAAK,EACjD,EAEI4lD,EAAQjmD,UAAUO,SAAW,WACzB,MAAwB,YAApBylD,EAAO3jD,KAAKikD,KAA6BjkD,KAAKikD,MAC1C,IAAOjkD,KAAKgkD,KAAK9mD,KAAK,KAAQ,GAC9C,EAEI,IAAIgnD,EAAUN,EAEVO,EAAW,WAEd,IADA,IAAIlkD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAOikD,EAASC,MAAO,CAAE,MAAOn+C,OAAQhG,IACjF,EAEIkkD,EAASC,MAAQF,EACjBC,EAAS1hC,QAAU,QAEnB,IAAI4hC,EAAWF,EAEXG,EAAWvB,EAAMG,OACjBqB,EAAQhlD,KAAKK,IAEb4kD,EAAa,WAEb,IADA,IAAIvkD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAIu3C,EAAMH,EAASrkD,EAAM,OACrB4Z,EAAI4qC,EAAI,GACRC,EAAID,EAAI,GACR3/C,EAAI2/C,EAAI,GAIRrwB,EAAI,EAAImwB,EAHZ1qC,GAAQ,IAGY0qC,EAFpBG,GAAQ,IACR5/C,GAAQ,MAEJ4rB,EAAI0D,EAAI,EAAI,GAAK,EAAEA,GAAK,EAI5B,MAAO,EAHE,EAAEva,EAAEua,GAAK1D,GACT,EAAEg0B,EAAEtwB,GAAK1D,GACT,EAAE5rB,EAAEsvB,GAAK1D,EACJ0D,EACtB,EAEQuwB,EAAaH,EAEbI,EAAW7B,EAAMG,OAEjB2B,EAAW,WAEX,IADA,IAAI5kD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,IAAI0J,GADJ3W,EAAO2kD,EAAS3kD,EAAM,SACT,GACTyZ,EAAIzZ,EAAK,GACT6kD,EAAI7kD,EAAK,GACTm0B,EAAIn0B,EAAK,GACT8kD,EAAQ9kD,EAAK7D,OAAS,EAAI6D,EAAK,GAAK,EACxC,OAAU,IAANm0B,EAAkB,CAAC,EAAE,EAAE,EAAE2wB,GACtB,CACHnuC,GAAK,EAAI,EAAI,KAAO,EAAEA,IAAM,EAAEwd,GAC9B1a,GAAK,EAAI,EAAI,KAAO,EAAEA,IAAM,EAAE0a,GAC9B0wB,GAAK,EAAI,EAAI,KAAO,EAAEA,IAAM,EAAE1wB,GAC9B2wB,EAEZ,EAEQC,EAAaH,EAEbI,EAAWZ,EACXa,EAAUhB,EACViB,EAAU5B,EACV6B,EAAWrC,EAAMG,OACjBmC,EAAStC,EAAM1iD,KAEfilD,EAAWX,EAEfO,EAAQvnD,UAAU4nD,KAAO,WACrB,OAAOD,EAAStlD,KAAKgkD,KAC7B,EAEIiB,EAASM,KAAO,WAEZ,IADA,IAAItlD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAOglD,EAAS,CAAE,MAAOj/C,OAAQhG,EAAM,CAAC,UACpF,EAEIklD,EAAQhqC,OAAOoqC,KAAOP,EAEtBG,EAAQ3B,WAAWxlD,KAAK,CACpBgf,EAAG,EACHhgB,KAAM,WAEF,IADA,IAAIiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,GADAjN,EAAOmlD,EAASnlD,EAAM,QACD,UAAjBolD,EAAOplD,IAAqC,IAAhBA,EAAK7D,OACjC,MAAO,MAEd,IAGL,IAAIopD,EAAWzC,EAAMG,OACjBuC,EAAS1C,EAAMhxC,KACf2zC,EAAM,SAAU7gD,GAAK,OAAOtF,KAAKm1B,MAAQ,IAAF7vB,GAAO,KAU9C8gD,EAAY,WAEZ,IADA,IAAI1lD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAI04C,EAAOJ,EAASvlD,EAAM,QACtB4jD,EAAO4B,EAAOxlD,IAAS,MAU3B,OATA2lD,EAAK,GAAKF,EAAIE,EAAK,IAAM,GACzBA,EAAK,GAAKF,EAAY,IAARE,EAAK,IAAU,IAC7BA,EAAK,GAAKF,EAAY,IAARE,EAAK,IAAU,IAChB,SAAT/B,GAAoB+B,EAAKxpD,OAAS,GAAKwpD,EAAK,GAAG,GAC/CA,EAAK,GAAKA,EAAKxpD,OAAS,EAAIwpD,EAAK,GAAK,EACtC/B,EAAO,QAEP+B,EAAKxpD,OAAS,EAEVynD,EAAO,IAAO+B,EAAK1oD,KAAK,KAAQ,GAChD,EAEQ2oD,EAAYF,EAEZG,EAAW/C,EAAMG,OAUjB6C,EAAY,WAEZ,IADA,IAAI9lD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,IAAI2M,GADJ5Z,EAAO6lD,EAAS7lD,EAAM,SACT,GACTykD,EAAIzkD,EAAK,GACT6E,EAAI7E,EAAK,GAEb4Z,GAAK,IACL6qC,GAAK,IACL5/C,GAAK,IAEL,IAIInI,EAAGo0B,EAJH3nB,EAAM7J,KAAK6J,IAAIyQ,EAAG6qC,EAAG5/C,GACrBlF,EAAML,KAAKK,IAAIia,EAAG6qC,EAAG5/C,GAErBxB,GAAK1D,EAAMwJ,GAAO,EAgBtB,OAbIxJ,IAAQwJ,GACRzM,EAAI,EACJo0B,EAAIt0B,OAAOigB,KAEX/f,EAAI2G,EAAI,IAAO1D,EAAMwJ,IAAQxJ,EAAMwJ,IAAQxJ,EAAMwJ,IAAQ,EAAIxJ,EAAMwJ,GAGnEyQ,GAAKja,EAAOmxB,GAAK2zB,EAAI5/C,IAAMlF,EAAMwJ,GAC5Bs7C,GAAK9kD,EAAOmxB,EAAI,GAAKjsB,EAAI+U,IAAMja,EAAMwJ,GACrCtE,GAAKlF,IAAOmxB,EAAI,GAAKlX,EAAI6qC,IAAM9kD,EAAMwJ,KAE9C2nB,GAAK,IACG,IAAKA,GAAK,KACd9wB,EAAK7D,OAAO,QAAeC,IAAV4D,EAAK,GAAyB,CAAC8wB,EAAEp0B,EAAE2G,EAAErD,EAAK,IACxD,CAAC8wB,EAAEp0B,EAAE2G,EACpB,EAEQ0iD,EAAYD,EAEZE,EAAWlD,EAAMG,OACjBgD,EAASnD,EAAMhxC,KACfo0C,EAAUN,EACVO,EAAYJ,EACZK,EAAU9mD,KAAKm1B,MAUf4xB,EAAY,WAEZ,IADA,IAAIrmD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAIq5C,EAAON,EAAShmD,EAAM,QACtB4jD,EAAOqC,EAAOjmD,IAAS,MAC3B,MAAwB,OAApB4jD,EAAKtwB,OAAO,EAAE,GACP4yB,EAAQC,EAAUG,GAAO1C,IAEpC0C,EAAK,GAAKF,EAAQE,EAAK,IACvBA,EAAK,GAAKF,EAAQE,EAAK,IACvBA,EAAK,GAAKF,EAAQE,EAAK,KACV,SAAT1C,GAAoB0C,EAAKnqD,OAAS,GAAKmqD,EAAK,GAAG,KAC/CA,EAAK,GAAKA,EAAKnqD,OAAS,EAAImqD,EAAK,GAAK,EACtC1C,EAAO,QAEHA,EAAO,IAAO0C,EAAKtoD,MAAM,EAAS,QAAP4lD,EAAa,EAAE,GAAG3mD,KAAK,KAAQ,IAC1E,EAEQspD,EAAYF,EAEZG,EAAW1D,EAAMG,OACjBwD,EAAUnnD,KAAKm1B,MAEfiyB,EAAY,WAIZ,IAHA,IAAIt0B,EAEApyB,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAGI2M,EAAE6qC,EAAE5/C,EAHJisB,GADJ9wB,EAAOwmD,EAASxmD,EAAM,QACT,GACTtD,EAAIsD,EAAK,GACTqD,EAAIrD,EAAK,GAEb,GAAU,IAANtD,EACAkd,EAAI6qC,EAAI5/C,EAAM,IAAFxB,MACT,CACH,IAAIsjD,EAAK,CAAC,EAAE,EAAE,GACVhwC,EAAI,CAAC,EAAE,EAAE,GACTiwC,EAAKvjD,EAAI,GAAMA,GAAK,EAAE3G,GAAK2G,EAAE3G,EAAE2G,EAAE3G,EACjCmqD,EAAK,EAAIxjD,EAAIujD,EACbE,EAAKh2B,EAAI,IACb61B,EAAG,GAAKG,EAAK,EAAE,EACfH,EAAG,GAAKG,EACRH,EAAG,GAAKG,EAAK,EAAE,EACf,IAAK,IAAIxjD,EAAE,EAAGA,EAAE,EAAGA,IACXqjD,EAAGrjD,GAAK,IAAKqjD,EAAGrjD,IAAM,GACtBqjD,EAAGrjD,GAAK,IAAKqjD,EAAGrjD,IAAM,GACtB,EAAIqjD,EAAGrjD,GAAK,EACVqT,EAAErT,GAAKujD,EAAiB,GAAXD,EAAKC,GAAUF,EAAGrjD,GAC5B,EAAIqjD,EAAGrjD,GAAK,EACfqT,EAAErT,GAAKsjD,EACJ,EAAID,EAAGrjD,GAAK,EACfqT,EAAErT,GAAKujD,GAAMD,EAAKC,IAAQ,EAAI,EAAKF,EAAGrjD,IAAM,EAE5CqT,EAAErT,GAAKujD,EAEkDjtC,GAAlEwY,EAAS,CAACq0B,EAAa,IAAL9vC,EAAE,IAAQ8vC,EAAa,IAAL9vC,EAAE,IAAQ8vC,EAAa,IAAL9vC,EAAE,MAAqB,GAAI8tC,EAAIryB,EAAO,GAAIvtB,EAAIutB,EAAO,EAC/G,CACD,OAAIpyB,EAAK7D,OAAS,EAEP,CAACyd,EAAE6qC,EAAE5/C,EAAE7E,EAAK,IAEhB,CAAC4Z,EAAE6qC,EAAE5/C,EAAE,EACtB,EAEQkiD,GAAYL,EAEZM,GAAUD,GACVE,GAAU3D,EAEV4D,GAAS,kDACTC,GAAU,wEACVC,GAAa,mFACbC,GAAc,yGACdC,GAAS,kFACTC,GAAU,wGAEVC,GAAUloD,KAAKm1B,MAEfgzB,GAAY,SAAUC,GAEtB,IAAIjuC,EAEJ,GAHAiuC,EAAMA,EAAI/rC,cAAc4D,OAGpB0nC,GAAQ/rC,OAAOysC,MACf,IACI,OAAOV,GAAQ/rC,OAAOysC,MAAMD,EAC/B,CAAC,MAAO9rD,GAER,CAIL,GAAK6d,EAAIiuC,EAAI/9C,MAAMu9C,IAAU,CAEzB,IADA,IAAIjF,EAAMxoC,EAAEzb,MAAM,EAAE,GACXsF,EAAE,EAAGA,EAAE,EAAGA,IACf2+C,EAAI3+C,IAAM2+C,EAAI3+C,GAGlB,OADA2+C,EAAI,GAAK,EACFA,CACV,CAGD,GAAKxoC,EAAIiuC,EAAI/9C,MAAMw9C,IAAW,CAE1B,IADA,IAAIS,EAAQnuC,EAAEzb,MAAM,EAAE,GACbqkD,EAAI,EAAGA,EAAI,EAAGA,IACnBuF,EAAMvF,IAAQuF,EAAMvF,GAExB,OAAOuF,CACV,CAGD,GAAKnuC,EAAIiuC,EAAI/9C,MAAMy9C,IAAc,CAE7B,IADA,IAAIS,EAAQpuC,EAAEzb,MAAM,EAAE,GACb8pD,EAAI,EAAGA,EAAI,EAAGA,IACnBD,EAAMC,GAAON,GAAqB,KAAbK,EAAMC,IAG/B,OADAD,EAAM,GAAK,EACJA,CACV,CAGD,GAAKpuC,EAAIiuC,EAAI/9C,MAAM09C,IAAe,CAE9B,IADA,IAAIU,EAAQtuC,EAAEzb,MAAM,EAAE,GACbgqD,EAAI,EAAGA,EAAI,EAAGA,IACnBD,EAAMC,GAAOR,GAAqB,KAAbO,EAAMC,IAG/B,OADAD,EAAM,IAAMA,EAAM,GACXA,CACV,CAGD,GAAKtuC,EAAIiuC,EAAI/9C,MAAM29C,IAAU,CACzB,IAAIW,EAAMxuC,EAAEzb,MAAM,EAAE,GACpBiqD,EAAI,IAAM,IACVA,EAAI,IAAM,IACV,IAAIC,EAAQlB,GAAQiB,GAEpB,OADAC,EAAM,GAAK,EACJA,CACV,CAGD,GAAKzuC,EAAIiuC,EAAI/9C,MAAM49C,IAAW,CAC1B,IAAIY,EAAQ1uC,EAAEzb,MAAM,EAAE,GACtBmqD,EAAM,IAAM,IACZA,EAAM,IAAM,IACZ,IAAIC,EAAQpB,GAAQmB,GAEpB,OADAC,EAAM,IAAM3uC,EAAE,GACP2uC,CACV,CACT,EAEIX,GAAU1qD,KAAO,SAAUL,GACvB,OAAOwqD,GAAOnqD,KAAKL,IACfyqD,GAAQpqD,KAAKL,IACb0qD,GAAWrqD,KAAKL,IAChB2qD,GAAYtqD,KAAKL,IACjB4qD,GAAOvqD,KAAKL,IACZ6qD,GAAQxqD,KAAKL,EACzB,EAEI,IAAI2rD,GAAYZ,GAEZa,GAAWlE,EACXmE,GAAUtE,EACVuE,GAAUlF,EACVmF,GAAS3F,EAAM1iD,KAEfsoD,GAAUnC,EACVoC,GAAUN,GAEdE,GAAQ7qD,UAAUgqD,IAAM,SAAS9D,GAC7B,OAAO8E,GAAQ3oD,KAAKgkD,KAAMH,EAClC,EAEI0E,GAASZ,IAAM,WAEX,IADA,IAAI1nD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAOsoD,GAAS,CAAE,MAAOviD,OAAQhG,EAAM,CAAC,SACpF,EAEIwoD,GAAQttC,OAAOwsC,IAAMiB,GAErBH,GAAQjF,WAAWxlD,KAAK,CACpBgf,EAAG,EACHhgB,KAAM,SAAU+zB,GAEZ,IADA,IAAIlxB,EAAO,GAAIqN,EAAM/Q,UAAUC,OAAS,EAChC8Q,KAAQ,GAAIrN,EAAMqN,GAAQ/Q,UAAW+Q,EAAM,GAEnD,IAAKrN,EAAKzD,QAAwB,WAAdssD,GAAO33B,IAAmB63B,GAAQ5rD,KAAK+zB,GACvD,MAAO,KAEd,IAGL,IAAI83B,GAAU3E,EACV4E,GAAWzE,EACX0E,GAAUxF,EACVyF,GAAWjG,EAAMG,OAErB6F,GAAQ5tC,OAAO8tC,GAAK,WAEhB,IADA,IAAIhpD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAIg1C,EAAM8G,GAAS/oD,EAAM,QAIzB,OAHAiiD,EAAI,IAAM,IACVA,EAAI,IAAM,IACVA,EAAI,IAAM,IACHA,CACf,EAEI4G,GAASG,GAAK,WAEV,IADA,IAAIhpD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAO2oD,GAAS,CAAE,MAAO5iD,OAAQhG,EAAM,CAAC,QACpF,EAEI4oD,GAAQlrD,UAAUsrD,GAAK,WACnB,IAAI/G,EAAMliD,KAAKgkD,KACf,MAAO,CAAC9B,EAAI,GAAG,IAAKA,EAAI,GAAG,IAAKA,EAAI,GAAG,IAAKA,EAAI,GACxD,EAEI,IAAIgH,GAAWnG,EAAMG,OAEjBiG,GAAY,WAEZ,IADA,IAAIlpD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IASI6jB,EATA0zB,EAAMyE,GAASjpD,EAAM,OACrB4Z,EAAI4qC,EAAI,GACRC,EAAID,EAAI,GACR3/C,EAAI2/C,EAAI,GACRr7C,EAAM7J,KAAK6J,IAAIyQ,EAAG6qC,EAAG5/C,GACrBlF,EAAML,KAAKK,IAAIia,EAAG6qC,EAAG5/C,GACrBskD,EAAQxpD,EAAMwJ,EACdwN,EAAY,IAARwyC,EAAc,IAClBC,EAAKjgD,GAAO,IAAMggD,GAAS,IAW/B,OATc,IAAVA,EACAr4B,EAAIt0B,OAAOigB,KAEP7C,IAAMja,IAAOmxB,GAAK2zB,EAAI5/C,GAAKskD,GAC3B1E,IAAM9kD,IAAOmxB,EAAI,GAAGjsB,EAAI+U,GAAKuvC,GAC7BtkD,IAAMlF,IAAOmxB,EAAI,GAAGlX,EAAI6qC,GAAK0E,IACjCr4B,GAAK,IACG,IAAKA,GAAK,MAEf,CAACA,EAAGna,EAAGyyC,EACtB,EAEQC,GAAYH,GAEZI,GAAWxG,EAAMG,OACjBsG,GAAUjqD,KAAK8J,MAUfogD,GAAU,WAIV,IAHA,IAAIp3B,EAAQq3B,EAAUC,EAAUC,EAAUC,EAAUC,EAEhD7pD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAGI2M,EAAE6qC,EAAE5/C,EAHJisB,GADJ9wB,EAAOspD,GAAStpD,EAAM,QACT,GACT2W,EAAI3W,EAAK,GACTopD,EAAKppD,EAAK,GAEdopD,GAAU,IACV,IAAIU,EAAS,IAAJnzC,EACT,GAAU,IAANA,EACAiD,EAAI6qC,EAAI5/C,EAAIukD,MACT,CACO,MAANt4B,IAAaA,EAAI,GACjBA,EAAI,MAAOA,GAAK,KAChBA,EAAI,IAAKA,GAAK,KAElB,IAAIxtB,EAAIimD,GADRz4B,GAAK,IAEDL,EAAIK,EAAIxtB,EACRyZ,EAAIqsC,GAAM,EAAIzyC,GACd4c,EAAIxW,EAAI+sC,GAAM,EAAIr5B,GAClBT,EAAIjT,EAAI+sC,EAAKr5B,EACb/e,EAAIqL,EAAI+sC,EACZ,OAAQxmD,GACJ,KAAK,EAAwBsW,GAApBwY,EAAS,CAAC1gB,EAAGse,EAAGjT,IAAe,GAAI0nC,EAAIryB,EAAO,GAAIvtB,EAAIutB,EAAO,GAAK,MAC3E,KAAK,EAA0BxY,GAAtB6vC,EAAW,CAACl2B,EAAG7hB,EAAGqL,IAAiB,GAAI0nC,EAAIgF,EAAS,GAAI5kD,EAAI4kD,EAAS,GAAK,MACnF,KAAK,EAA0B7vC,GAAtB8vC,EAAW,CAAC3sC,EAAGrL,EAAGse,IAAiB,GAAIy0B,EAAIiF,EAAS,GAAI7kD,EAAI6kD,EAAS,GAAK,MACnF,KAAK,EAA0B9vC,GAAtB+vC,EAAW,CAAC5sC,EAAGwW,EAAG7hB,IAAiB,GAAI+yC,EAAIkF,EAAS,GAAI9kD,EAAI8kD,EAAS,GAAK,MACnF,KAAK,EAA0B/vC,GAAtBgwC,EAAW,CAAC55B,EAAGjT,EAAGrL,IAAiB,GAAI+yC,EAAImF,EAAS,GAAI/kD,EAAI+kD,EAAS,GAAK,MACnF,KAAK,EAA0BhwC,GAAtBiwC,EAAW,CAACn4C,EAAGqL,EAAGwW,IAAiB,GAAIkxB,EAAIoF,EAAS,GAAIhlD,EAAIglD,EAAS,GAErF,CACD,MAAO,CAACjwC,EAAG6qC,EAAG5/C,EAAG7E,EAAK7D,OAAS,EAAI6D,EAAK,GAAK,EACrD,EAEQ+pD,GAAYP,GAEZQ,GAAWlH,EAAMG,OACjBgH,GAASnH,EAAM1iD,KACf8pD,GAAW9F,EACX+F,GAAUlG,EACVmG,GAAU9G,EAEV+G,GAAUhB,GAEdc,GAAQzsD,UAAU4sD,IAAM,WACpB,OAAOD,GAAQtqD,KAAKgkD,KAC5B,EAEImG,GAASI,IAAM,WAEX,IADA,IAAItqD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAOkqD,GAAS,CAAE,MAAOnkD,OAAQhG,EAAM,CAAC,SACpF,EAEIoqD,GAAQlvC,OAAOovC,IAAMP,GAErBK,GAAQ7G,WAAWxlD,KAAK,CACpBgf,EAAG,EACHhgB,KAAM,WAEF,IADA,IAAIiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,GADAjN,EAAOgqD,GAAShqD,EAAM,OACD,UAAjBiqD,GAAOjqD,IAAqC,IAAhBA,EAAK7D,OACjC,MAAO,KAEd,IAGL,IAAIouD,GAAWzH,EAAMG,OACjBnxC,GAAOgxC,EAAMhxC,KACb04C,GAAUlrD,KAAKm1B,MAEfg2B,GAAY,WAEZ,IADA,IAAIzqD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAIu3C,EAAM+F,GAASvqD,EAAM,QACrB4Z,EAAI4qC,EAAI,GACRC,EAAID,EAAI,GACR3/C,EAAI2/C,EAAI,GACR5/C,EAAI4/C,EAAI,GACRZ,EAAO9xC,GAAK9R,IAAS,YACf5D,IAANwI,IAAmBA,EAAI,GACd,SAATg/C,IACAA,EAAOh/C,EAAI,EAAI,OAAS,OAK5B,IACIqV,EAAM,WAJVL,EAAI4wC,GAAQ5wC,KAGC,IAFb6qC,EAAI+F,GAAQ/F,KAEW,GADvB5/C,EAAI2lD,GAAQ3lD,KAEW5G,SAAS,IAChCgc,EAAMA,EAAIqZ,OAAOrZ,EAAI9d,OAAS,GAC9B,IAAIuuD,EAAM,IAAMF,GAAY,IAAJ5lD,GAAS3G,SAAS,IAE1C,OADAysD,EAAMA,EAAIp3B,OAAOo3B,EAAIvuD,OAAS,GACtBynD,EAAKjoC,eACT,IAAK,OAAQ,MAAQ,IAAM1B,EAAMywC,EACjC,IAAK,OAAQ,MAAQ,IAAMA,EAAMzwC,EACjC,QAAS,MAAQ,IAAMA,EAEnC,EAEQ0wC,GAAYF,GAEZG,GAAS,sCACTC,GAAU,sCA8CVC,GA5CY,SAAU9G,GACtB,GAAIA,EAAIr6C,MAAMihD,IAAS,CAEA,IAAf5G,EAAI7nD,QAA+B,IAAf6nD,EAAI7nD,SACxB6nD,EAAMA,EAAI1wB,OAAO,IAGF,IAAf0wB,EAAI7nD,SAEJ6nD,GADAA,EAAMA,EAAIv0B,MAAM,KACN,GAAGu0B,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,IAEjD,IAAI+G,EAAIpwC,SAASqpC,EAAK,IAItB,MAAO,CAHC+G,GAAK,GACLA,GAAK,EAAI,IACL,IAAJA,EACM,EACjB,CAGD,GAAI/G,EAAIr6C,MAAMkhD,IAAU,CACD,IAAf7G,EAAI7nD,QAA+B,IAAf6nD,EAAI7nD,SAExB6nD,EAAMA,EAAI1wB,OAAO,IAGF,IAAf0wB,EAAI7nD,SAEJ6nD,GADAA,EAAMA,EAAIv0B,MAAM,KACN,GAAGu0B,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,IAE/D,IAAIgH,EAAMrwC,SAASqpC,EAAK,IAKxB,MAAO,CAJGgH,GAAO,GAAK,IACZA,GAAO,GAAK,IACZA,GAAO,EAAI,IACb1rD,KAAKm1B,OAAa,IAANu2B,GAAc,IAAO,KAAO,IAEnD,CAMD,MAAM,IAAI9/C,MAAO,sBAAwB84C,EACjD,EAIQiH,GAAW7G,EACX8G,GAAUjH,EACVkH,GAASrI,EAAM1iD,KACfgrD,GAAU9H,EAEV+H,GAAYV,GAEhBO,GAAQxtD,UAAUsmD,IAAM,SAASJ,GAC7B,OAAOyH,GAAUtrD,KAAKgkD,KAAMH,EACpC,EAEIqH,GAASjH,IAAM,WAEX,IADA,IAAIhkD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAOirD,GAAS,CAAE,MAAOllD,OAAQhG,EAAM,CAAC,SACpF,EAEIorD,GAAQlwC,OAAO8oC,IAAM8G,GACrBM,GAAQ7H,WAAWxlD,KAAK,CACpBgf,EAAG,EACHhgB,KAAM,SAAU+zB,GAEZ,IADA,IAAIlxB,EAAO,GAAIqN,EAAM/Q,UAAUC,OAAS,EAChC8Q,KAAQ,GAAIrN,EAAMqN,GAAQ/Q,UAAW+Q,EAAM,GAEnD,IAAKrN,EAAKzD,QAAwB,WAAdgvD,GAAOr6B,IAAmB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGl0B,QAAQk0B,EAAE30B,SAAW,EAC/E,MAAO,KAEd,IAGL,IAAImvD,GAAWxI,EAAMG,OACjBsI,GAAUzI,EAAMI,MAChBsI,GAAQlsD,KAAK6J,IACbsiD,GAASnsD,KAAKijC,KACdJ,GAAO7iC,KAAK6iC,KAEZupB,GAAY,WAEZ,IADA,IAAI1rD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAMzC,IAOI6jB,EAPA0zB,EAAM8G,GAAStrD,EAAM,OACrB4Z,EAAI4qC,EAAI,GACRC,EAAID,EAAI,GACR3/C,EAAI2/C,EAAI,GAKRmH,EAAOH,GAJX5xC,GAAK,IACL6qC,GAAK,IACL5/C,GAAK,KAGDvB,GAAKsW,EAAE6qC,EAAE5/C,GAAK,EACdnI,EAAI4G,EAAI,EAAI,EAAIqoD,EAAKroD,EAAI,EAY7B,OAXU,IAAN5G,EACAo0B,EAAIrU,KAEJqU,GAAMlX,EAAE6qC,GAAI7qC,EAAE/U,IAAM,EACpBisB,GAAK26B,IAAQ7xC,EAAE6qC,IAAI7qC,EAAE6qC,IAAM7qC,EAAE/U,IAAI4/C,EAAE5/C,IACnCisB,EAAIqR,GAAKrR,GACLjsB,EAAI4/C,IACJ3zB,EAAIy6B,GAAUz6B,GAElBA,GAAKy6B,IAEF,CAAG,IAAFz6B,EAAMp0B,EAAE4G,EACxB,EAEQsoD,GAAYF,GAEZG,GAAW/I,EAAMG,OACjBD,GAAQF,EAAME,MACd8I,GAAUhJ,EAAMI,MAChBC,GAAUL,EAAMK,QAChB4I,GAAQzsD,KAAKuiC,IAObmqB,GAAU,WAEV,IADA,IAAIhsD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAOzC,IAGI2M,EAAE6qC,EAAE5/C,EAHJisB,GADJ9wB,EAAO6rD,GAAS7rD,EAAM,QACT,GACTtD,EAAIsD,EAAK,GACTsD,EAAItD,EAAK,GA2Bb,OAxBIhB,MAAM8xB,KAAMA,EAAI,GAChB9xB,MAAMtC,KAAMA,EAAI,GAEhBo0B,EAAI,MAAOA,GAAK,KAChBA,EAAI,IAAKA,GAAK,MAClBA,GAAK,KACG,EAAE,EAGN2zB,EAAI,IAFJ5/C,GAAK,EAAEnI,GAAG,IACVkd,GAAK,EAAEld,EAAEqvD,GAAMD,GAAQh7B,GAAGi7B,GAAM5I,GAAQ2I,GAAQh7B,IAAI,IAE7CA,EAAI,EAAE,EAIbjsB,EAAI,IAFJ+U,GAAK,EAAEld,GAAG,IACV+nD,GAAK,EAAE/nD,EAAEqvD,GAAMD,IAFfh7B,GAAK,EAAE,IAEmBi7B,GAAM5I,GAAQ2I,GAAQh7B,IAAI,IAMpDlX,EAAI,IAFJ6qC,GAAK,EAAE/nD,GAAG,IACVmI,GAAK,EAAEnI,EAAEqvD,GAAMD,IAFfh7B,GAAK,EAAE,IAEmBi7B,GAAM5I,GAAQ2I,GAAQh7B,IAAI,IAMjD,CAAG,KAHVlX,EAAIopC,GAAM1/C,EAAEsW,EAAE,IAGG,KAFjB6qC,EAAIzB,GAAM1/C,EAAEmhD,EAAE,IAEU,KADxB5/C,EAAIm+C,GAAM1/C,EAAEuB,EAAE,IACe7E,EAAK7D,OAAS,EAAI6D,EAAK,GAAK,EACjE,EAEQisD,GAAYD,GAEZE,GAAWpJ,EAAMG,OACjBkJ,GAASrJ,EAAM1iD,KACfgsD,GAAWhI,EACXiI,GAAUpI,EACVqI,GAAUhJ,EAEViJ,GAAUX,GAEdS,GAAQ3uD,UAAU8uD,IAAM,WACpB,OAAOD,GAAQxsD,KAAKgkD,KAC5B,EAEIqI,GAASI,IAAM,WAEX,IADA,IAAIxsD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAOosD,GAAS,CAAE,MAAOrmD,OAAQhG,EAAM,CAAC,SACpF,EAEIssD,GAAQpxC,OAAOsxC,IAAMP,GAErBK,GAAQ/I,WAAWxlD,KAAK,CACpBgf,EAAG,EACHhgB,KAAM,WAEF,IADA,IAAIiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,GADAjN,EAAOksD,GAASlsD,EAAM,OACD,UAAjBmsD,GAAOnsD,IAAqC,IAAhBA,EAAK7D,OACjC,MAAO,KAEd,IAGL,IAAIswD,GAAW3J,EAAMG,OACjByJ,GAAS5J,EAAM1iD,KACfusD,GAAWvI,EACXwI,GAAU3I,EACV4I,GAAUvJ,EAEVwJ,GAAY/G,EAEhB6G,GAAQlvD,UAAUuqD,IAAM,WACpB,OAAO6E,GAAU/sD,KAAKgkD,KAC9B,EAEI4I,GAAS1E,IAAM,WAEX,IADA,IAAIjoD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAO2sD,GAAS,CAAE,MAAO5mD,OAAQhG,EAAM,CAAC,SACpF,EAEI6sD,GAAQ3xC,OAAO+sC,IAAMlB,GAErB8F,GAAQtJ,WAAWxlD,KAAK,CACpBgf,EAAG,EACHhgB,KAAM,WAEF,IADA,IAAIiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,GADAjN,EAAOysD,GAASzsD,EAAM,OACD,UAAjB0sD,GAAO1sD,IAAqC,IAAhBA,EAAK7D,OACjC,MAAO,KAEd,IAGL,IAAI4wD,GAAWjK,EAAMG,OACjB+J,GAAQ1tD,KAAK6J,IACb8jD,GAAQ3tD,KAAKK,IAQbutD,GAAU,WAEV,IADA,IAAIltD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,IAMI6jB,EAAEp0B,EAAEgV,EANJkI,GADJ5Z,EAAO+sD,GAAS/sD,EAAM,QACT,GACTykD,EAAIzkD,EAAK,GACT6E,EAAI7E,EAAK,GACT2rD,EAAOqB,GAAMpzC,EAAG6qC,EAAG5/C,GACnBsoD,EAAOF,GAAMrzC,EAAG6qC,EAAG5/C,GACnBskD,EAAQgE,EAAOxB,EAcnB,OAZAj6C,EAAIy7C,EAAO,IACE,IAATA,GACAr8B,EAAIt0B,OAAOigB,IACX/f,EAAI,IAEJA,EAAIysD,EAAQgE,EACRvzC,IAAMuzC,IAAQr8B,GAAK2zB,EAAI5/C,GAAKskD,GAC5B1E,IAAM0I,IAAQr8B,EAAI,GAAGjsB,EAAI+U,GAAKuvC,GAC9BtkD,IAAMsoD,IAAQr8B,EAAI,GAAGlX,EAAI6qC,GAAK0E,IAClCr4B,GAAK,IACG,IAAKA,GAAK,MAEf,CAACA,EAAGp0B,EAAGgV,EACtB,EAEQ07C,GAAYF,GAEZG,GAAWvK,EAAMG,OACjBqK,GAAUhuD,KAAK8J,MAEfmkD,GAAU,WAIV,IAHA,IAAIn7B,EAAQq3B,EAAUC,EAAUC,EAAUC,EAAUC,EAEhD7pD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAGI2M,EAAE6qC,EAAE5/C,EAHJisB,GADJ9wB,EAAOqtD,GAASrtD,EAAM,QACT,GACTtD,EAAIsD,EAAK,GACT0R,EAAI1R,EAAK,GAGb,GADA0R,GAAK,IACK,IAANhV,EACAkd,EAAI6qC,EAAI5/C,EAAI6M,MACT,CACO,MAANof,IAAaA,EAAI,GACjBA,EAAI,MAAOA,GAAK,KAChBA,EAAI,IAAKA,GAAK,KAGlB,IAAIxtB,EAAIgqD,GAFRx8B,GAAK,IAGDL,EAAIK,EAAIxtB,EACRyZ,EAAIrL,GAAK,EAAIhV,GACb62B,EAAI7hB,GAAK,EAAIhV,EAAI+zB,GACjBT,EAAIte,GAAK,EAAIhV,GAAK,EAAI+zB,IAE1B,OAAQntB,GACJ,KAAK,EAAwBsW,GAApBwY,EAAS,CAAC1gB,EAAGse,EAAGjT,IAAe,GAAI0nC,EAAIryB,EAAO,GAAIvtB,EAAIutB,EAAO,GAAK,MAC3E,KAAK,EAA0BxY,GAAtB6vC,EAAW,CAACl2B,EAAG7hB,EAAGqL,IAAiB,GAAI0nC,EAAIgF,EAAS,GAAI5kD,EAAI4kD,EAAS,GAAK,MACnF,KAAK,EAA0B7vC,GAAtB8vC,EAAW,CAAC3sC,EAAGrL,EAAGse,IAAiB,GAAIy0B,EAAIiF,EAAS,GAAI7kD,EAAI6kD,EAAS,GAAK,MACnF,KAAK,EAA0B9vC,GAAtB+vC,EAAW,CAAC5sC,EAAGwW,EAAG7hB,IAAiB,GAAI+yC,EAAIkF,EAAS,GAAI9kD,EAAI8kD,EAAS,GAAK,MACnF,KAAK,EAA0B/vC,GAAtBgwC,EAAW,CAAC55B,EAAGjT,EAAGrL,IAAiB,GAAI+yC,EAAImF,EAAS,GAAI/kD,EAAI+kD,EAAS,GAAK,MACnF,KAAK,EAA0BhwC,GAAtBiwC,EAAW,CAACn4C,EAAGqL,EAAGwW,IAAiB,GAAIkxB,EAAIoF,EAAS,GAAIhlD,EAAIglD,EAAS,GAErF,CACD,MAAO,CAACjwC,EAAE6qC,EAAE5/C,EAAE7E,EAAK7D,OAAS,EAAE6D,EAAK,GAAG,EAC9C,EAEQwtD,GAAYD,GAEZE,GAAW3K,EAAMG,OACjByK,GAAS5K,EAAM1iD,KACfutD,GAAWvJ,EACXwJ,GAAU3J,EACV4J,GAAUvK,EAEVwK,GAAUV,GAEdQ,GAAQlwD,UAAUqwD,IAAM,WACpB,OAAOD,GAAQ/tD,KAAKgkD,KAC5B,EAEI4J,GAASI,IAAM,WAEX,IADA,IAAI/tD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAO2tD,GAAS,CAAE,MAAO5nD,OAAQhG,EAAM,CAAC,SACpF,EAEI6tD,GAAQ3yC,OAAO6yC,IAAMP,GAErBK,GAAQtK,WAAWxlD,KAAK,CACpBgf,EAAG,EACHhgB,KAAM,WAEF,IADA,IAAIiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,GADAjN,EAAOytD,GAASztD,EAAM,OACD,UAAjB0tD,GAAO1tD,IAAqC,IAAhBA,EAAK7D,OACjC,MAAO,KAEd,IAGL,IAAI6xD,GAAe,CAEfC,GAAI,GAGJC,GAAI,OACJC,GAAI,EACJC,GAAI,QAEJC,GAAI,WACJxH,GAAI,WACJD,GAAI,UACJD,GAAI,YAGJ2H,GAAkBN,GAClBO,GAAWzL,EAAMG,OACjBuL,GAAQlvD,KAAKC,IAEbkvD,GAAY,WAEZ,IADA,IAAIzuD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAIu3C,EAAM+J,GAASvuD,EAAM,OACrB4Z,EAAI4qC,EAAI,GACRC,EAAID,EAAI,GACR3/C,EAAI2/C,EAAI,GACRkK,EAAQC,GAAQ/0C,EAAE6qC,EAAE5/C,GACpByS,EAAIo3C,EAAM,GACV7J,EAAI6J,EAAM,GAEVrrD,EAAI,IAAMwhD,EAAI,GAClB,MAAO,CAACxhD,EAAI,EAAI,EAAIA,EAAG,KAAOiU,EAAIutC,GAAI,KAAOA,EAFrC6J,EAAM,IAGtB,EAEQE,GAAU,SAAUh1C,GACpB,OAAKA,GAAK,MAAQ,OAAkBA,EAAI,MACjC40C,IAAO50C,EAAI,MAAS,MAAO,IAC1C,EAEQi1C,GAAU,SAAU7+B,GACpB,OAAIA,EAAIs+B,GAAgB3H,GAAa6H,GAAMx+B,EAAG,EAAI,GAC3CA,EAAIs+B,GAAgB1H,GAAK0H,GAAgBD,EACxD,EAEQM,GAAU,SAAU/0C,EAAE6qC,EAAE5/C,GAOxB,OANA+U,EAAIg1C,GAAQh1C,GACZ6qC,EAAImK,GAAQnK,GACZ5/C,EAAI+pD,GAAQ/pD,GAIL,CAHCgqD,IAAS,SAAYj1C,EAAI,SAAY6qC,EAAI,SAAY5/C,GAAKypD,GAAgBJ,IAC1EW,IAAS,SAAYj1C,EAAI,SAAY6qC,EAAI,QAAY5/C,GAAKypD,GAAgBH,IAC1EU,IAAS,SAAYj1C,EAAI,QAAY6qC,EAAI,SAAY5/C,GAAKypD,GAAgBF,IAE1F,EAEQU,GAAYL,GAEZM,GAAkBf,GAClBgB,GAAWlM,EAAMG,OACjBgM,GAAQ3vD,KAAKC,IAOb2vD,GAAY,WAEZ,IADA,IAAIlvD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,IAGIqK,EAAEutC,EAAEsK,EAHJ9rD,GADJrD,EAAOgvD,GAAShvD,EAAM,QACT,GACT4E,EAAI5E,EAAK,GACT6E,EAAI7E,EAAK,GAeb,OAZA6kD,GAAKxhD,EAAI,IAAM,IACfiU,EAAItY,MAAM4F,GAAKigD,EAAIA,EAAIjgD,EAAI,IAC3BuqD,EAAInwD,MAAM6F,GAAKggD,EAAIA,EAAIhgD,EAAI,IAE3BggD,EAAIkK,GAAgBZ,GAAKiB,GAAQvK,GACjCvtC,EAAIy3C,GAAgBb,GAAKkB,GAAQ93C,GACjC63C,EAAIJ,GAAgBX,GAAKgB,GAAQD,GAM1B,CAJHE,GAAQ,UAAY/3C,EAAI,UAAYutC,EAAI,SAAYsK,GACpDE,IAAS,QAAY/3C,EAAI,UAAYutC,EAAI,QAAYsK,GACpDE,GAAQ,SAAY/3C,EAAI,SAAYutC,EAAI,UAAYsK,GAE1CnvD,EAAK7D,OAAS,EAAI6D,EAAK,GAAK,EACnD,EAEQqvD,GAAU,SAAUz1C,GACpB,OAAO,KAAOA,GAAK,OAAU,MAAQA,EAAI,MAAQq1C,GAAMr1C,EAAG,EAAI,KAAO,KAC7E,EAEQw1C,GAAU,SAAUp/B,GACpB,OAAOA,EAAI++B,GAAgBlI,GAAK72B,EAAIA,EAAIA,EAAI++B,GAAgBnI,IAAM52B,EAAI++B,GAAgBV,GAC9F,EAEQiB,GAAYJ,GAEZK,GAAWzM,EAAMG,OACjBuM,GAAS1M,EAAM1iD,KACfqvD,GAAWrL,EACXsL,GAAUzL,EACV0L,GAAUrM,EAEVsM,GAAYd,GAEhBY,GAAQhyD,UAAUmyD,IAAM,WACpB,OAAOD,GAAU7vD,KAAKgkD,KAC9B,EAEI0L,GAASI,IAAM,WAEX,IADA,IAAI7vD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAOyvD,GAAS,CAAE,MAAO1pD,OAAQhG,EAAM,CAAC,SACpF,EAEI2vD,GAAQz0C,OAAO20C,IAAMP,GAErBK,GAAQpM,WAAWxlD,KAAK,CACpBgf,EAAG,EACHhgB,KAAM,WAEF,IADA,IAAIiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,GADAjN,EAAOuvD,GAASvvD,EAAM,OACD,UAAjBwvD,GAAOxvD,IAAqC,IAAhBA,EAAK7D,OACjC,MAAO,KAEd,IAGL,IAAI2zD,GAAWhN,EAAMG,OACjBI,GAAUP,EAAMO,QAChB0M,GAASzwD,KAAKijC,KACdytB,GAAU1wD,KAAKwlC,MACfmrB,GAAU3wD,KAAKm1B,MAEfy7B,GAAY,WAEZ,IADA,IAAIlwD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAIu3C,EAAMsL,GAAS9vD,EAAM,OACrBqD,EAAImhD,EAAI,GACR5/C,EAAI4/C,EAAI,GACR3/C,EAAI2/C,EAAI,GACR7tC,EAAIo5C,GAAOnrD,EAAIA,EAAIC,EAAIA,GACvBisB,GAAKk/B,GAAQnrD,EAAGD,GAAKy+C,GAAU,KAAO,IAE1C,OADyB,IAArB4M,GAAU,IAAFt5C,KAAkBma,EAAIt0B,OAAOigB,KAClC,CAACpZ,EAAGsT,EAAGma,EACtB,EAEQq/B,GAAYD,GAEZE,GAAWtN,EAAMG,OACjBoN,GAAUvB,GACVwB,GAAYH,GAEZI,GAAY,WAEZ,IADA,IAAIvwD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAIu3C,EAAM4L,GAASpwD,EAAM,OACrB4Z,EAAI4qC,EAAI,GACRC,EAAID,EAAI,GACR3/C,EAAI2/C,EAAI,GACRkK,EAAQ2B,GAAQz2C,EAAE6qC,EAAE5/C,GACpBxB,EAAIqrD,EAAM,GACV9pD,EAAI8pD,EAAM,GACV8B,EAAK9B,EAAM,GACf,OAAO4B,GAAUjtD,EAAEuB,EAAE4rD,EAC7B,EAEQC,GAAYF,GAEZG,GAAW5N,EAAMG,OACjBG,GAAUN,EAAMM,QAChBuN,GAAQrxD,KAAKqiC,IACbivB,GAAQtxD,KAAKuiC,IAEbgvB,GAAY,WAEZ,IADA,IAAI7wD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GASzC,IAAIu3C,EAAMkM,GAAS1wD,EAAM,OACrBqD,EAAImhD,EAAI,GACR7tC,EAAI6tC,EAAI,GACR1zB,EAAI0zB,EAAI,GAGZ,OAFIxlD,MAAM8xB,KAAMA,EAAI,GAEb,CAACztB,EAAGutD,GADX9/B,GAAQsyB,IACczsC,EAAGg6C,GAAM7/B,GAAKna,EAC5C,EAEQm6C,GAAYD,GAEZE,GAAWjO,EAAMG,OACjB+N,GAAYF,GACZG,GAAU3B,GAEV4B,GAAY,WAEZ,IADA,IAAIlxD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,IAAI5J,GADJrD,EAAO+wD,GAAS/wD,EAAM,QACT,GACT2W,EAAI3W,EAAK,GACT8wB,EAAI9wB,EAAK,GACTwkD,EAAMwM,GAAW3tD,EAAEsT,EAAEma,GACrBqgC,EAAI3M,EAAI,GACR5/C,EAAI4/C,EAAI,GACRgM,EAAKhM,EAAI,GACTkK,EAAQuC,GAASE,EAAEvsD,EAAE4rD,GAIzB,MAAO,CAHC9B,EAAM,GACNA,EAAM,GACNA,EAAM,GACG1uD,EAAK7D,OAAS,EAAI6D,EAAK,GAAK,EACrD,EAEQoxD,GAAYF,GAEZG,GAAWvO,EAAMG,OACjBqO,GAAUF,GAEVG,GAAU,WAEV,IADA,IAAIvxD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAIukD,EAAMH,GAASrxD,EAAM,OAAOyxD,UAChC,OAAOH,GAAQrxD,WAAM,EAAQuxD,EACrC,EAEQE,GAAYH,GAEZI,GAAW7O,EAAMG,OACjB2O,GAAS9O,EAAM1iD,KACfyxD,GAAWzN,EACX0N,GAAU7N,EACV8N,GAAUzO,EAEV0O,GAAUvB,GAEdqB,GAAQp0D,UAAUu0D,IAAM,WAAa,OAAOD,GAAQjyD,KAAKgkD,OACzD+N,GAAQp0D,UAAU8zD,IAAM,WAAa,OAAOQ,GAAQjyD,KAAKgkD,MAAM0N,WAE/DI,GAASI,IAAM,WAEX,IADA,IAAIjyD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAO6xD,GAAS,CAAE,MAAO9rD,OAAQhG,EAAM,CAAC,SACpF,EACI6xD,GAASL,IAAM,WAEX,IADA,IAAIxxD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAO6xD,GAAS,CAAE,MAAO9rD,OAAQhG,EAAM,CAAC,SACpF,EAEI+xD,GAAQ72C,OAAO+2C,IAAMb,GACrBW,GAAQ72C,OAAOs2C,IAAME,GAErB,CAAC,MAAM,OAAOv8C,SAAQ,SAAUsE,GAAK,OAAOs4C,GAAQxO,WAAWxlD,KAAK,CAChEgf,EAAG,EACHhgB,KAAM,WAEF,IADA,IAAIiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,GADAjN,EAAO2xD,GAAS3xD,EAAMyZ,GACD,UAAjBm4C,GAAO5xD,IAAqC,IAAhBA,EAAK7D,OACjC,OAAOsd,CAEd,GACA,IAQL,IA8JIy4C,GA9JW,CACXC,UAAW,UACXC,aAAc,UACdC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,MAAO,UACPC,OAAQ,UACRC,MAAO,UACPC,eAAgB,UAChBC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,UAAW,UACXC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,MAAO,UACPC,WAAY,UACZC,eAAgB,UAChBC,SAAU,UACVC,QAAS,UACTC,KAAM,UACNC,SAAU,UACVC,SAAU,UACVC,cAAe,UACfC,SAAU,UACVC,UAAW,UACXC,SAAU,UACVC,UAAW,UACXC,YAAa,UACbC,eAAgB,UAChBC,WAAY,UACZC,WAAY,UACZC,QAAS,UACTC,WAAY,UACZC,aAAc,UACdC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,SAAU,UACVC,YAAa,UACbC,QAAS,UACTC,QAAS,UACTC,WAAY,UACZC,UAAW,UACXC,YAAa,UACbC,YAAa,UACbC,QAAS,UACTC,UAAW,UACXC,WAAY,UACZC,KAAM,UACNC,UAAW,UACXC,KAAM,UACNC,MAAO,UACPC,YAAa,UACbC,KAAM,UACNC,SAAU,UACVC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,WAAY,UACZC,SAAU,UACVC,cAAe,UACfC,UAAW,UACXC,aAAc,UACdC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,eAAgB,UAChBC,qBAAsB,UACtBC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,cAAe,UACfC,aAAc,UACdC,eAAgB,UAChBC,eAAgB,UAChBC,eAAgB,UAChBC,YAAa,UACbC,KAAM,UACNC,UAAW,UACXC,MAAO,UACPC,QAAS,UACTC,OAAQ,UACRC,QAAS,UACTC,QAAS,UACTC,iBAAkB,UAClBC,WAAY,UACZC,aAAc,UACdC,aAAc,UACdC,eAAgB,UAChBC,gBAAiB,UACjBC,kBAAmB,UACnBC,gBAAiB,UACjBC,gBAAiB,UACjBC,aAAc,UACdC,UAAW,UACXC,UAAW,UACXC,SAAU,UACVC,YAAa,UACbC,KAAM,UACNC,QAAS,UACTC,MAAO,UACPC,UAAW,UACXC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,cAAe,UACfC,UAAW,UACXC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,UAAW,UACXC,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,WAAY,UACZC,OAAQ,UACRC,QAAS,UACTC,QAAS,UACTC,cAAe,UACfC,IAAK,UACLC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,OAAQ,UACRC,WAAY,UACZC,SAAU,UACVC,SAAU,UACVC,OAAQ,UACRC,OAAQ,UACRC,QAAS,UACTC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,KAAM,UACNC,YAAa,UACbC,UAAW,UACXn5B,IAAK,UACLo5B,KAAM,UACNC,QAAS,UACTC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,WAAY,UACZC,OAAQ,UACRC,YAAa,WAKbC,GAAU5X,EACV6X,GAAUxY,EACVyY,GAASjZ,EAAM1iD,KAEf47D,GAAS9J,GACT+J,GAAUnR,GACVoR,GAAUvR,GAEdkR,GAAQn+D,UAAUiD,KAAO,WAErB,IADA,IAAIqjD,EAAMkY,GAAQn8D,KAAKgkD,KAAM,OACpBzgD,EAAI,EAAGuN,EAAOjT,OAAOc,KAAKs9D,IAAS14D,EAAIuN,EAAK1U,OAAQmH,GAAK,EAAG,CACjE,IAAI0F,EAAI6H,EAAKvN,GAEb,GAAI04D,GAAOhzD,KAAOg7C,EAAO,OAAOh7C,EAAE2S,aACrC,CACD,OAAOqoC,CACf,EAEI8X,GAAQ5gD,OAAOysC,MAAQ,SAAUhnD,GAE7B,GADAA,EAAOA,EAAKgb,cACRqgD,GAAOr7D,GAAS,OAAOs7D,GAAQD,GAAOr7D,IAC1C,MAAM,IAAIuK,MAAM,uBAAuBvK,EAC/C,EAEIm7D,GAAQvY,WAAWxlD,KAAK,CACpBgf,EAAG,EACHhgB,KAAM,SAAU+zB,GAEZ,IADA,IAAIlxB,EAAO,GAAIqN,EAAM/Q,UAAUC,OAAS,EAChC8Q,KAAQ,GAAIrN,EAAMqN,GAAQ/Q,UAAW+Q,EAAM,GAEnD,IAAKrN,EAAKzD,QAAwB,WAAd4/D,GAAOjrC,IAAmBkrC,GAAOlrC,EAAEnV,eACnD,MAAO,OAEd,IAGL,IAAIwgD,GAAWrZ,EAAMG,OAEjBmZ,GAAY,WAEZ,IADA,IAAIp8D,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAIu3C,EAAM2X,GAASn8D,EAAM,OAIzB,OAHQwkD,EAAI,IAGC,KAFLA,EAAI,IAEa,GADjBA,EAAI,EAEpB,EAEQ6X,GAAYD,GAEZE,GAASxZ,EAAM1iD,KAYfm8D,GAVU,SAAUC,GACpB,GAAmB,UAAfF,GAAOE,IAAoBA,GAAO,GAAKA,GAAO,SAI9C,MAAO,CAHCA,GAAO,GACNA,GAAO,EAAK,IACP,IAANA,EACM,GAElB,MAAM,IAAItxD,MAAM,sBAAsBsxD,EAC9C,EAIQC,GAAWrY,EACXsY,GAAUzY,EACV0Y,GAAUrZ,EACVsZ,GAAS9Z,EAAM1iD,KAEfy8D,GAAUR,GAEdK,GAAQh/D,UAAU8+D,IAAM,WACpB,OAAOK,GAAQ98D,KAAKgkD,KAC5B,EAEI0Y,GAASD,IAAM,WAEX,IADA,IAAIx8D,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAOy8D,GAAS,CAAE,MAAO12D,OAAQhG,EAAM,CAAC,SACpF,EAEI28D,GAAQzhD,OAAOshD,IAAMD,GAErBI,GAAQpZ,WAAWxlD,KAAK,CACpBgf,EAAG,EACHhgB,KAAM,WAEF,IADA,IAAIiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,GAAoB,IAAhBjN,EAAK7D,QAAoC,WAApBygE,GAAO58D,EAAK,KAAoBA,EAAK,IAAM,GAAKA,EAAK,IAAM,SAChF,MAAO,KAEd,IAGL,IAAI88D,GAAW1Y,EACX2Y,GAAU9Y,EACV+Y,GAAU1Z,EACV2Z,GAAWna,EAAMG,OACjBia,GAASpa,EAAM1iD,KACf+8D,GAAU79D,KAAKm1B,MAEnBsoC,GAAQr/D,UAAUukD,IAAM,SAASwD,GAG7B,YAFa,IAARA,IAAiBA,GAAI,IAEd,IAARA,EAAwB1lD,KAAKgkD,KAAK/lD,MAAM,EAAE,GACvC+B,KAAKgkD,KAAK/lD,MAAM,EAAE,GAAG3B,IAAI8gE,GACxC,EAEIJ,GAAQr/D,UAAU4oD,KAAO,SAASb,GAG9B,YAFa,IAARA,IAAiBA,GAAI,GAEnB1lD,KAAKgkD,KAAK/lD,MAAM,EAAE,GAAG3B,KAAI,SAAUqV,EAAEpO,GACxC,OAAOA,EAAE,GAAa,IAARmiD,EAAgB/zC,EAAIyrD,GAAQzrD,GAAMA,CAC5D,GACA,EAEIorD,GAAS7a,IAAM,WAEX,IADA,IAAIjiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAO88D,GAAS,CAAE,MAAO/2D,OAAQhG,EAAM,CAAC,SACpF,EAEIg9D,GAAQ9hD,OAAO+mC,IAAM,WAEjB,IADA,IAAIjiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAIq5C,EAAO2W,GAASj9D,EAAM,QAE1B,YADgB5D,IAAZkqD,EAAK,KAAoBA,EAAK,GAAK,GAChCA,CACf,EAEI0W,GAAQzZ,WAAWxlD,KAAK,CACpBgf,EAAG,EACHhgB,KAAM,WAEF,IADA,IAAIiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,GADAjN,EAAOi9D,GAASj9D,EAAM,QACD,UAAjBk9D,GAAOl9D,KAAsC,IAAhBA,EAAK7D,QAClB,IAAhB6D,EAAK7D,QAAmC,UAAnB+gE,GAAOl9D,EAAK,KAAmBA,EAAK,IAAM,GAAKA,EAAK,IAAM,GAC/E,MAAO,KAEd,IAQL,IAAIo9D,GAAQ99D,KAAKm2B,IAiBb4nC,GAfoB,SAAUC,GAC9B,IACI1jD,EAAE6qC,EAAE5/C,EADJmN,EAAOsrD,EAAS,IAWpB,OATItrD,EAAO,IACP4H,EAAI,IACJ6qC,EAAIzyC,EAAO,EAAI,GAAK,mBAAqB,oBAAuByyC,EAAIzyC,EAAK,GAAK,mBAAqBorD,GAAM3Y,GACzG5/C,EAAImN,EAAO,GAAK,EAA0B,mBAAsBnN,EAAImN,EAAK,IAApD,mBAA0D,mBAAqBorD,GAAMv4D,KAE1G+U,EAAI,mBAAqB,kBAAqBA,EAAI5H,EAAK,IAAM,kBAAoBorD,GAAMxjD,GACvF6qC,EAAI,kBAAoB,oBAAuBA,EAAIzyC,EAAK,IAAM,iBAAmBorD,GAAM3Y,GACvF5/C,EAAI,KAED,CAAC+U,EAAE6qC,EAAE5/C,EAAE,EACtB,EASQ04D,GAAkBF,GAClBG,GAAW1a,EAAMG,OACjBxuB,GAAQn1B,KAAKm1B,MAEbgpC,GAAoB,WAEpB,IADA,IAAIz9D,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAQzC,IANA,IAKI+E,EALAiwC,EAAMub,GAASx9D,EAAM,OACrB4Z,EAAIqoC,EAAI,GAAIp9C,EAAIo9C,EAAI,GACpByb,EAAU,IACVC,EAAU,IACVC,EAAM,GAEHD,EAAUD,EAAUE,GAAK,CAE5B,IAAIhW,EAAQ2V,GADZvrD,EAA6B,IAArB2rD,EAAUD,IAEb9V,EAAM,GAAKA,EAAM,IAAQ/iD,EAAI+U,EAC9B+jD,EAAU3rD,EAEV0rD,EAAU1rD,CAEjB,CACD,OAAOyiB,GAAMziB,EACrB,EAIQ6rD,GAAWzZ,EACX0Z,GAAU7Z,EACV8Z,GAAUza,EAEV0a,GANoBP,GAQxBK,GAAQpgE,UAAUsU,KAClB8rD,GAAQpgE,UAAU4/D,OAClBQ,GAAQpgE,UAAUugE,YAAc,WAC5B,OAAOD,GAAgBj+D,KAAKgkD,KACpC,EAEI8Z,GAAS7rD,KACT6rD,GAASP,OACTO,GAASI,YAAc,WAEnB,IADA,IAAIj+D,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAO69D,GAAS,CAAE,MAAO93D,OAAQhG,EAAM,CAAC,UACpF,EAEI+9D,GAAQ7iD,OAAOlJ,KACf+rD,GAAQ7iD,OAAOoiD,OACfS,GAAQ7iD,OAAO+iD,YAAcZ,GAE7B,IAAIa,GAAWpb,EAAMG,OACjBkb,GAAO7+D,KAAK6+D,KACZC,GAAQ9+D,KAAKC,IACb8+D,GAAS/+D,KAAK2gC,KAEdq+B,GAAc,WAEd,IADA,IAAIt+D,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAIzC,IAAIu3C,EAAM0Z,GAASl+D,EAAM,OACrB4Z,EAAI4qC,EAAI,GACRC,EAAID,EAAI,GACR3/C,EAAI2/C,EAAI,GACRkK,EAAQ,CAAC6P,GAAS3kD,EAAI,KAAM2kD,GAAS9Z,EAAI,KAAM8Z,GAAS15D,EAAI,MAC5D25D,EAAK9P,EAAM,GACX+P,EAAK/P,EAAM,GACXgQ,EAAKhQ,EAAM,GACXrrD,EAAI86D,GAAK,YAAeK,EAAK,YAAeC,EAAK,YAAeC,GAChEjlD,EAAI0kD,GAAK,YAAeK,EAAK,YAAeC,EAAK,YAAeC,GAChEhiE,EAAIyhE,GAAK,YAAeK,EAAK,YAAeC,EAAK,YAAeC,GAEpE,MAAO,CACH,YAAer7D,EAAI,WAAcoW,EAAI,YAAe/c,EACpD,aAAe2G,EAAI,YAAcoW,EAAI,YAAe/c,EACpD,YAAe2G,EAAI,YAAeoW,EAAI,WAAc/c,EAEhE,EAEQiiE,GAAcL,GAElB,SAASC,GAAS5nD,GACd,IAAI+e,EAAMp2B,KAAKo2B,IAAI/e,GACnB,OAAI+e,EAAM,OACC/e,EAAI,OAEP0nD,GAAO1nD,IAAM,GAAKynD,IAAO1oC,EAAM,MAAS,MAAO,IAC1D,CAED,IAAIkpC,GAAW9b,EAAMG,OACjB4b,GAAQv/D,KAAKC,IACb0gC,GAAO3gC,KAAK2gC,KAOZ6+B,GAAc,WAEd,IADA,IAAI9+D,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,IAAIkkD,GADJnxD,EAAO4+D,GAAS5+D,EAAM,QACT,GACT4E,EAAI5E,EAAK,GACT6E,EAAI7E,EAAK,GAETqD,EAAIw7D,GAAM1N,EAAI,YAAevsD,EAAI,YAAeC,EAAG,GACnD4U,EAAIolD,GAAM1N,EAAI,YAAevsD,EAAI,YAAeC,EAAG,GACnDnI,EAAImiE,GAAM1N,EAAI,YAAevsD,EAAI,YAAcC,EAAG,GAEtD,MAAO,CACH,IAAMk6D,GAAS,aAAgB17D,EAAI,aAAeoW,EAAI,YAAe/c,GACrE,IAAMqiE,IAAU,aAAe17D,EAAI,aAAeoW,EAAI,YAAe/c,GACrE,IAAMqiE,IAAU,YAAe17D,EAAI,YAAeoW,EAAI,YAAc/c,GACpEsD,EAAK7D,OAAS,EAAI6D,EAAK,GAAK,EAExC,EAEQg/D,GAAcF,GAElB,SAASC,GAASpoD,GACd,IAAI+e,EAAMp2B,KAAKo2B,IAAI/e,GACnB,OAAI+e,EAAM,UACEuK,GAAKtpB,IAAM,IAAM,MAAQkoD,GAAMnpC,EAAK,EAAI,KAAO,MAEhD,MAAJ/e,CACV,CAED,IAAIsoD,GAAWnc,EAAMG,OACjBic,GAASpc,EAAM1iD,KACf++D,GAAW/a,EACXgb,GAAUnb,EACVob,GAAU/b,EAEVgc,GAAcX,GAElBS,GAAQ1hE,UAAU6hE,MAAQ,WACtB,OAAOD,GAAYv/D,KAAKgkD,KAChC,EAEIob,GAASI,MAAQ,WAEb,IADA,IAAIv/D,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAOm/D,GAAS,CAAE,MAAOp5D,OAAQhG,EAAM,CAAC,WACpF,EAEIq/D,GAAQnkD,OAAOqkD,MAAQP,GAEvBK,GAAQ9b,WAAWxlD,KAAK,CACpBgf,EAAG,EACHhgB,KAAM,WAEF,IADA,IAAIiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,GADAjN,EAAOi/D,GAASj/D,EAAM,SACD,UAAjBk/D,GAAOl/D,IAAqC,IAAhBA,EAAK7D,OACjC,MAAO,OAEd,IAGL,IAAIqjE,GAAW1c,EAAMG,OACjBwc,GAAYd,GACZe,GAAUvP,GAEVwP,GAAc,WAEd,IADA,IAAI3/D,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAAIu3C,EAAMgb,GAASx/D,EAAM,OACrB4Z,EAAI4qC,EAAI,GACRC,EAAID,EAAI,GACR3/C,EAAI2/C,EAAI,GACRkK,EAAQ+Q,GAAU7lD,EAAG6qC,EAAG5/C,GACxBxB,EAAIqrD,EAAM,GACV9pD,EAAI8pD,EAAM,GACV8B,EAAK9B,EAAM,GACf,OAAOgR,GAAQr8D,EAAGuB,EAAG4rD,EAC7B,EAEQoP,GAAcD,GAEdE,GAAW/c,EAAMG,OACjB6c,GAAUhP,GACViP,GAAYf,GAEZgB,GAAY,WAEZ,IADA,IAAIhgE,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,IAAI5J,GADJrD,EAAO6/D,GAAS7/D,EAAM,QACT,GACT2W,EAAI3W,EAAK,GACT8wB,EAAI9wB,EAAK,GACTwkD,EAAMsb,GAAQz8D,EAAGsT,EAAGma,GACpBqgC,EAAI3M,EAAI,GACR5/C,EAAI4/C,EAAI,GACRgM,EAAKhM,EAAI,GACTkK,EAAQqR,GAAU5O,EAAGvsD,EAAG4rD,GAI5B,MAAO,CAHC9B,EAAM,GACNA,EAAM,GACNA,EAAM,GACG1uD,EAAK7D,OAAS,EAAI6D,EAAK,GAAK,EACrD,EAEQigE,GAAcD,GAEd/c,GAASH,EAAMG,OACfid,GAASpd,EAAM1iD,KACf+/D,GAAW/b,EACXgc,GAAUnc,EACVv3C,GAAQ42C,EAER+c,GAAYT,GAEhBQ,GAAQ1iE,UAAU4iE,MAAQ,WACtB,OAAOD,GAAUtgE,KAAKgkD,KAC9B,EAEIoc,GAASG,MAAQ,WAEb,IADA,IAAItgE,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,OAAO,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAOmgE,GAAS,CAAE,MAAOp6D,OAAQhG,EAAM,CAAC,WACpF,EAEI0M,GAAMwO,OAAOolD,MAAQL,GAErBvzD,GAAM62C,WAAWxlD,KAAK,CAClBgf,EAAG,EACHhgB,KAAM,WAEF,IADA,IAAIiD,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAGzC,GADAjN,EAAOijD,GAAOjjD,EAAM,SACC,UAAjBkgE,GAAOlgE,IAAqC,IAAhBA,EAAK7D,OACjC,MAAO,OAEd,IAGL,IAAIokE,GAAUtc,EACVuc,GAAS1d,EAAM1iD,KAEnBmgE,GAAQ7iE,UAAUonD,MAAQ,SAASlgD,EAAG67D,GAGlC,YAFgB,IAAXA,IAAoBA,GAAO,QAEtBrkE,IAANwI,GAAiC,WAAd47D,GAAO57D,GACtB67D,GACA1gE,KAAKgkD,KAAK,GAAKn/C,EACR7E,MAEJ,IAAIwgE,GAAQ,CAACxgE,KAAKgkD,KAAK,GAAIhkD,KAAKgkD,KAAK,GAAIhkD,KAAKgkD,KAAK,GAAIn/C,GAAI,OAE/D7E,KAAKgkD,KAAK,EACzB,EAEkBE,EAENvmD,UAAUgjE,QAAU,WACxB,OAAO3gE,KAAKgkD,KAAK7B,WAAY,CACrC,EAEI,IAAIye,GAAU1c,EACV2c,GAAkB5S,GAEtB2S,GAAQjjE,UAAUmjE,OAAS,SAASC,QACnB,IAAXA,IAAoBA,EAAO,GAEhC,IAAI1sC,EAAKr0B,KACL8vD,EAAMz7B,EAAGy7B,MAEb,OADAA,EAAI,IAAM+Q,GAAgB3S,GAAK6S,EACxB,IAAIH,GAAQ9Q,EAAK,OAAO/K,MAAM1wB,EAAG0wB,SAAS,EACtD,EAEI6b,GAAQjjE,UAAUqjE,SAAW,SAASD,GAGrC,YAFgB,IAAXA,IAAoBA,EAAO,GAEzB/gE,KAAK8gE,QAAQC,EACzB,EAEIH,GAAQjjE,UAAUsjE,OAASL,GAAQjjE,UAAUmjE,OAC7CF,GAAQjjE,UAAUujE,SAAWN,GAAQjjE,UAAUqjE,SAEjC9c,EAENvmD,UAAUkK,IAAM,SAAUs5D,GAC9B,IAAI1c,EAAM0c,EAAGzxC,MAAM,KACfm0B,EAAOY,EAAI,GACX2c,EAAU3c,EAAI,GACd4c,EAAMrhE,KAAK6jD,KACf,GAAIud,EAAS,CACT,IAAI79D,EAAIsgD,EAAKhnD,QAAQukE,IAAkC,OAAtBvd,EAAKtwB,OAAO,EAAG,GAAc,EAAI,GAClE,GAAIhwB,GAAK,EAAK,OAAO89D,EAAI99D,GACzB,MAAM,IAAI4H,MAAO,mBAAqBi2D,EAAU,YAAcvd,EAC1E,CACY,OAAOwd,CAEnB,EAEI,IAAIC,GAAUpd,EACVqd,GAASxe,EAAM1iD,KACfmhE,GAAQjiE,KAAKC,IAEbiiE,GAAM,KACNC,GAAW,GAEfJ,GAAQ3jE,UAAUgkE,UAAY,SAASC,GACnC,QAAYvlE,IAARulE,GAAqC,WAAhBL,GAAOK,GAAmB,CAC/C,GAAY,IAARA,EAEA,OAAO,IAAIN,GAAQ,CAAC,EAAE,EAAE,EAAEthE,KAAKgkD,KAAK,IAAK,OAE7C,GAAY,IAAR4d,EAEA,OAAO,IAAIN,GAAQ,CAAC,IAAI,IAAI,IAAIthE,KAAKgkD,KAAK,IAAK,OAGnD,IAAI6d,EAAU7hE,KAAK2hE,YACf9d,EAAO,MACPie,EAAWJ,GAEX1kE,EAAO,SAAU8S,EAAKC,GACtB,IAAIC,EAAMF,EAAIzF,YAAY0F,EAAM,GAAK8zC,GACjCke,EAAK/xD,EAAI2xD,YACb,OAAIpiE,KAAKo2B,IAAIisC,EAAMG,GAAMN,KAAQK,IAEtB9xD,EAEJ+xD,EAAKH,EAAM5kE,EAAK8S,EAAKE,GAAOhT,EAAKgT,EAAKD,EAC7D,EAEgBmyC,GAAO2f,EAAUD,EAAM5kE,EAAK,IAAIskE,GAAQ,CAAC,EAAE,EAAE,IAAKthE,MAAQhD,EAAKgD,KAAM,IAAIshE,GAAQ,CAAC,IAAI,IAAI,QAAQpf,MACtG,OAAO,IAAIof,GAAQpf,EAAIj8C,OAAQ,CAACjG,KAAKgkD,KAAK,KAC7C,CACD,OAAOge,GAAc9hE,WAAM,EAASF,KAAS,KAAE/B,MAAM,EAAE,GAC/D,EAGI,IAAI+jE,GAAgB,SAAUnoD,EAAE6qC,EAAE5/C,GAM9B,MAAO,OAHP+U,EAAIooD,GAAYpoD,IAGI,OAFpB6qC,EAAIud,GAAYvd,IAEiB,OADjC5/C,EAAIm9D,GAAYn9D,GAExB,EAEQm9D,GAAc,SAAU1qD,GAExB,OADAA,GAAK,MACO,OAAUA,EAAE,MAAQiqD,IAAOjqD,EAAE,MAAO,MAAO,IAC/D,EAEQ2qD,GAAiB,CAAA,EAEjBC,GAAUje,EACVke,GAASrf,EAAM1iD,KACfgiE,GAAeH,GAEfI,GAAQ,SAAUC,EAAMC,EAAM9xC,QACnB,IAANA,IAAeA,EAAE,IAEtB,IADA,IAAI7wB,EAAO,GAAIqN,EAAM/Q,UAAUC,OAAS,EAChC8Q,KAAQ,GAAIrN,EAAMqN,GAAQ/Q,UAAW+Q,EAAM,GAEnD,IAAI22C,EAAOhkD,EAAK,IAAM,OAKtB,GAJKwiE,GAAaxe,IAAUhkD,EAAKzD,SAE7BynD,EAAOhmD,OAAOc,KAAK0jE,IAAc,KAEhCA,GAAaxe,GACd,MAAM,IAAI14C,MAAO,sBAAwB04C,EAAO,mBAIpD,MAFqB,WAAjBue,GAAOG,KAAsBA,EAAO,IAAIJ,GAAQI,IAC/B,WAAjBH,GAAOI,KAAsBA,EAAO,IAAIL,GAAQK,IAC7CH,GAAaxe,GAAM0e,EAAMC,EAAM9xC,GACjCq0B,MAAMwd,EAAKxd,QAAUr0B,GAAK8xC,EAAKzd,QAAUwd,EAAKxd,SAC3D,EAEQ0d,GAAUve,EACVwe,GAAMJ,GAEVG,GAAQ9kE,UAAU+kE,IAClBD,GAAQ9kE,UAAU0M,YAAc,SAASm4D,EAAM9xC,QACnC,IAANA,IAAeA,EAAE,IAEtB,IADA,IAAI7wB,EAAO,GAAIqN,EAAM/Q,UAAUC,OAAS,EAChC8Q,KAAQ,GAAIrN,EAAMqN,GAAQ/Q,UAAW+Q,EAAM,GAEnD,OAAOw1D,GAAIxiE,WAAM,EAAQ,CAAEF,KAAMwiE,EAAM9xC,GAAIzqB,OAAQpG,GACxD,EAEI,IAAI8iE,GAAUze,EAEdye,GAAQhlE,UAAUilE,YAAc,SAASlC,QACxB,IAAXA,IAAoBA,GAAO,GAEhC,IAAIxe,EAAMliD,KAAKgkD,KACXn/C,EAAIq9C,EAAI,GACZ,OAAIwe,GACH1gE,KAAKgkD,KAAO,CAAC9B,EAAI,GAAGr9C,EAAGq9C,EAAI,GAAGr9C,EAAGq9C,EAAI,GAAGr9C,EAAGA,GACpC7E,MAEA,IAAI2iE,GAAQ,CAACzgB,EAAI,GAAGr9C,EAAGq9C,EAAI,GAAGr9C,EAAGq9C,EAAI,GAAGr9C,EAAGA,GAAI,MAE5D,EAEI,IAAIg+D,GAAU3e,EACV4e,GAAgB7U,GAEpB4U,GAAQllE,UAAUolE,SAAW,SAAShC,QACrB,IAAXA,IAAoBA,EAAO,GAEhC,IAAI1sC,EAAKr0B,KACLkyD,EAAM79B,EAAG69B,MAGb,OAFAA,EAAI,IAAM4Q,GAAc5U,GAAK6S,EACzB7O,EAAI,GAAK,IAAKA,EAAI,GAAK,GACpB,IAAI2Q,GAAQ3Q,EAAK,OAAOnN,MAAM1wB,EAAG0wB,SAAS,EACtD,EAEI8d,GAAQllE,UAAUqlE,WAAa,SAASjC,GAGvC,YAFgB,IAAXA,IAAoBA,EAAO,GAEzB/gE,KAAK+iE,UAAUhC,EAC3B,EAEI,IAAIkC,GAAU/e,EACVgf,GAASngB,EAAM1iD,KAEnB4iE,GAAQtlE,UAAUqiB,IAAM,SAAUmhD,EAAI3kE,EAAOkkE,QACzB,IAAXA,IAAoBA,GAAS,GAElC,IAAIjc,EAAM0c,EAAGzxC,MAAM,KACfm0B,EAAOY,EAAI,GACX2c,EAAU3c,EAAI,GACd4c,EAAMrhE,KAAK6jD,KACf,GAAIud,EAAS,CACT,IAAI79D,EAAIsgD,EAAKhnD,QAAQukE,IAAkC,OAAtBvd,EAAKtwB,OAAO,EAAG,GAAc,EAAI,GAClE,GAAIhwB,GAAK,EAAG,CACR,GAAqB,UAAjB2/D,GAAO1mE,GACP,OAAQA,EAAMo9B,OAAO,IACjB,IAAK,IAGL,IAAK,IACDynC,EAAI99D,KAAO/G,EACX,MACJ,IAAK,IACD6kE,EAAI99D,KAAO/G,EAAM+2B,OAAO,GACxB,MACJ,IAAK,IACD8tC,EAAI99D,KAAO/G,EAAM+2B,OAAO,GACxB,MACJ,QACI8tC,EAAI99D,IAAM/G,MAEf,IAAsB,WAAlB0mE,GAAO1mE,GAGd,MAAM,IAAI2O,MAAM,mCAFhBk2D,EAAI99D,GAAK/G,CAGZ,CACD,IAAI2mE,EAAM,IAAIF,GAAQ5B,EAAKxd,GAC3B,OAAI6c,GACA1gE,KAAKgkD,KAAOmf,EAAInf,KACThkD,MAEJmjE,CACV,CACD,MAAM,IAAIh4D,MAAO,mBAAqBi2D,EAAU,YAAcvd,EAC1E,CACY,OAAOwd,CAEnB,EAEI,IAAI+B,GAAUlf,EAEVhC,GAAM,SAAUqgB,EAAMC,EAAM9xC,GAC5B,IAAI2yC,EAAOd,EAAKve,KACZsf,EAAOd,EAAKxe,KAChB,OAAO,IAAIof,GACPC,EAAK,GAAK3yC,GAAK4yC,EAAK,GAAGD,EAAK,IAC5BA,EAAK,GAAK3yC,GAAK4yC,EAAK,GAAGD,EAAK,IAC5BA,EAAK,GAAK3yC,GAAK4yC,EAAK,GAAGD,EAAK,IAC5B,MAEZ,EAGInB,GAAehgB,IAAMA,GAErB,IAAIqhB,GAAUrf,EACVsf,GAASjkE,KAAKijC,KACdihC,GAAQlkE,KAAKC,IAEbkkE,GAAO,SAAUnB,EAAMC,EAAM9xC,GAC7B,IAAI+zB,EAAM8d,EAAKve,KACX2f,EAAKlf,EAAI,GACTmf,EAAKnf,EAAI,GACTof,EAAKpf,EAAI,GACTkK,EAAQ6T,EAAKxe,KACb8f,EAAKnV,EAAM,GACXoV,EAAKpV,EAAM,GACXqV,EAAKrV,EAAM,GACf,OAAO,IAAI4U,GACPC,GAAOC,GAAME,EAAG,IAAM,EAAEjzC,GAAK+yC,GAAMK,EAAG,GAAKpzC,GAC3C8yC,GAAOC,GAAMG,EAAG,IAAM,EAAElzC,GAAK+yC,GAAMM,EAAG,GAAKrzC,GAC3C8yC,GAAOC,GAAMI,EAAG,IAAM,EAAEnzC,GAAK+yC,GAAMO,EAAG,GAAKtzC,GAC3C,MAEZ,EAGIwxC,GAAewB,KAAOA,GAEtB,IAAIO,GAAU/f,EAEV4L,GAAM,SAAUyS,EAAMC,EAAM9xC,GAC5B,IAAI2yC,EAAOd,EAAKzS,MACZwT,EAAOd,EAAK1S,MAChB,OAAO,IAAImU,GACPZ,EAAK,GAAK3yC,GAAK4yC,EAAK,GAAGD,EAAK,IAC5BA,EAAK,GAAK3yC,GAAK4yC,EAAK,GAAGD,EAAK,IAC5BA,EAAK,GAAK3yC,GAAK4yC,EAAK,GAAGD,EAAK,IAC5B,MAEZ,EAGInB,GAAepS,IAAMA,GAErB,IAAIoU,GAAUhgB,EAEVigB,GAAO,SAAU5B,EAAMC,EAAM9xC,EAAGhX,GAChC,IAAI2Y,EAAQq3B,EAER2Z,EAAMC,EAsBNc,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAM9BC,EAAKC,EAAKC,EAwBd,MAnDU,QAANlrD,GACA2pD,EAAOd,EAAKra,MACZob,EAAOd,EAAKta,OACC,QAANxuC,GACP2pD,EAAOd,EAAKvU,MACZsV,EAAOd,EAAKxU,OACC,QAANt0C,GACP2pD,EAAOd,EAAKhY,MACZ+Y,EAAOd,EAAKjY,OACC,QAAN7wC,GACP2pD,EAAOd,EAAK9V,MACZ6W,EAAOd,EAAK/V,OACC,QAAN/yC,GAAqB,QAANA,GACtBA,EAAI,MACJ2pD,EAAOd,EAAK9Q,MACZ6R,EAAOd,EAAK/Q,OACC,UAAN/3C,IACP2pD,EAAOd,EAAKhC,QAAQ7O,UACpB4R,EAAOd,EAAKjC,QAAQ7O,WAID,MAAnBh4C,EAAE6Z,OAAO,EAAG,IAAoB,UAAN7Z,IACV0qD,GAAf/xC,EAASgxC,GAAoB,GAAIiB,EAAOjyC,EAAO,GAAImyC,EAAOnyC,EAAO,GAChDgyC,GAAjB3a,EAAW4Z,GAAsB,GAAIiB,EAAO7a,EAAS,GAAI+a,EAAO/a,EAAS,IAKzEzqD,MAAMmlE,IAAUnlE,MAAMolE,GAUfplE,MAAMmlE,GAGNnlE,MAAMolE,GAIdM,EAAMloE,OAAOigB,KAHbioD,EAAMN,EACO,GAARG,GAAqB,GAARA,GAAmB,OAAL9qD,IAAcgrD,EAAMH,KAJpDI,EAAMP,EACO,GAARK,GAAqB,GAARA,GAAmB,OAAL/qD,IAAcgrD,EAAMJ,IAHpDK,EAAMP,EAAO1zC,GAPT2zC,EAAOD,GAAQC,EAAOD,EAAO,IACxBC,GAAQD,EAAO,KACbC,EAAOD,GAAQA,EAAOC,EAAO,IAC/BA,EAAO,IAAMD,EAEbC,EAAOD,QAaR/nE,IAARqoE,IAAqBA,EAAMJ,EAAO5zC,GAAK6zC,EAAOD,IAClDM,EAAMJ,EAAO9zC,GAAK+zC,EAAOD,GACF,IAAIN,GAAd,UAANxqD,EAA4B,CAACkrD,EAAKF,EAAKC,GAAuB,CAACA,EAAKD,EAAKE,GAA5BlrD,EAC5D,EAEQmrD,GAAoBV,GAEpBjS,GAAM,SAAUqQ,EAAMC,EAAM9xC,GAC/B,OAAOm0C,GAAkBtC,EAAMC,EAAM9xC,EAAG,MAC7C,EAGIwxC,GAAehQ,IAAMA,GACrBgQ,GAAezQ,IAAMS,GAErB,IAAI4S,GAAU5gB,EAEVuY,GAAM,SAAU8F,EAAMC,EAAM9xC,GAC5B,IAAIq0C,EAAKxC,EAAK9F,MACVuI,EAAKxC,EAAK/F,MACd,OAAO,IAAIqI,GAAQC,EAAKr0C,GAAKs0C,EAAGD,GAAK,MAC7C,EAGI7C,GAAezF,IAAMA,GAErB,IAAIwI,GAAoBd,GAEpB5Z,GAAM,SAAUgY,EAAMC,EAAM9xC,GAC/B,OAAOu0C,GAAkB1C,EAAMC,EAAM9xC,EAAG,MAC7C,EAGIwxC,GAAe3X,IAAMA,GAErB,IAAI2a,GAAoBf,GAEpB1X,GAAM,SAAU8V,EAAMC,EAAM9xC,GAC/B,OAAOw0C,GAAkB3C,EAAMC,EAAM9xC,EAAG,MAC7C,EAGIwxC,GAAezV,IAAMA,GAErB,IAAI0Y,GAAoBhB,GAEpBjc,GAAM,SAAUqa,EAAMC,EAAM9xC,GAC/B,OAAOy0C,GAAkB5C,EAAMC,EAAM9xC,EAAG,MAC7C,EAGIwxC,GAAeha,IAAMA,GAErB,IAAIkd,GAAoBjB,GAEpBnW,GAAM,SAAUuU,EAAMC,EAAM9xC,GAC/B,OAAO00C,GAAkB7C,EAAMC,EAAM9xC,EAAG,MAC7C,EAGIwxC,GAAelU,IAAMA,GAErB,IAAIqX,GAAUnhB,EAEVsb,GAAQ,SAAU+C,EAAMC,EAAM9xC,GAC9B,IAAI2yC,EAAOd,EAAK/C,QACZ8D,EAAOd,EAAKhD,QAChB,OAAO,IAAI6F,GACPhC,EAAK,GAAK3yC,GAAK4yC,EAAK,GAAKD,EAAK,IAC9BA,EAAK,GAAK3yC,GAAK4yC,EAAK,GAAKD,EAAK,IAC9BA,EAAK,GAAK3yC,GAAK4yC,EAAK,GAAKD,EAAK,IAC9B,QAEZ,EAGInB,GAAe1C,MAAQA,GAEvB,IAAI8F,GAAkBnB,GAElB5D,GAAQ,SAAUgC,EAAMC,EAAM9xC,GAC9B,OAAO40C,GAAgB/C,EAAMC,EAAM9xC,EAAG,QAC9C,EAGIwxC,GAAe3B,MAAQA,GAEvB,IAAIgF,GAAUrhB,EACVshB,GAAaziB,EAAMC,SACnByiB,GAAQlmE,KAAKC,IACbkmE,GAASnmE,KAAKijC,KACdmjC,GAAOpmE,KAAKyoC,GACZ49B,GAAQrmE,KAAKuiC,IACb+jC,GAAQtmE,KAAKqiC,IACbkkC,GAAUvmE,KAAKwlC,MAEfghC,GAAU,SAAUC,EAAQniB,EAAMoiB,QACpB,IAATpiB,IAAkBA,EAAK,aACX,IAAZoiB,IAAqBA,EAAQ,MAElC,IAAI3iE,EAAI0iE,EAAO5pE,OACV6pE,IAAWA,EAAUvoE,MAAMygB,KAAK,IAAIzgB,MAAM4F,IAAIhH,KAAI,WAAc,OAAO,CAAE,KAE9E,IAAI83B,EAAI9wB,EAAI2iE,EAAQt1D,QAAO,SAAS9L,EAAGC,GAAK,OAAOD,EAAIC,CAAI,IAI3D,GAHAmhE,EAAQ7wD,SAAQ,SAAUue,EAAEpwB,GAAK0iE,EAAQ1iE,IAAM6wB,CAAE,IAEjD4xC,EAASA,EAAO1pE,KAAI,SAAUsa,GAAK,OAAO,IAAI2uD,GAAQ3uD,EAAG,IAC5C,SAATitC,EACA,OAAOqiB,GAAcF,EAAQC,GAQjC,IANA,IAAI/yD,EAAQ8yD,EAAOjyC,QACfoyC,EAAMjzD,EAAMrL,IAAIg8C,GAChB5nC,EAAM,GACNmqD,EAAK,EACLC,EAAK,EAEA9iE,EAAE,EAAGA,EAAE4iE,EAAI/pE,OAAQmH,IAGxB,GAFA4iE,EAAI5iE,IAAM4iE,EAAI5iE,IAAM,GAAK0iE,EAAQ,GACjChqD,EAAIje,KAAKiB,MAAMknE,EAAI5iE,IAAM,EAAI0iE,EAAQ,IACd,MAAnBpiB,EAAKjqB,OAAOr2B,KAAetE,MAAMknE,EAAI5iE,IAAK,CAC1C,IAAI+iE,EAAIH,EAAI5iE,GAAK,IAAMoiE,GACvBS,GAAMR,GAAMU,GAAKL,EAAQ,GACzBI,GAAMR,GAAMS,GAAKL,EAAQ,EAC5B,CAGL,IAAIlhB,EAAQ7xC,EAAM6xC,QAAUkhB,EAAQ,GACpCD,EAAO5wD,SAAQ,SAAUwB,EAAE2vD,GACvB,IAAIC,EAAO5vD,EAAE/O,IAAIg8C,GACjBkB,GAASnuC,EAAEmuC,QAAUkhB,EAAQM,EAAG,GAChC,IAAK,IAAIhjE,EAAE,EAAGA,EAAE4iE,EAAI/pE,OAAQmH,IACxB,IAAKtE,MAAMunE,EAAKjjE,IAEZ,GADA0Y,EAAI1Y,IAAM0iE,EAAQM,EAAG,GACE,MAAnB1iB,EAAKjqB,OAAOr2B,GAAY,CACxB,IAAI+iE,EAAIE,EAAKjjE,GAAK,IAAMoiE,GACxBS,GAAMR,GAAMU,GAAKL,EAAQM,EAAG,GAC5BF,GAAMR,GAAMS,GAAKL,EAAQM,EAAG,EACpD,MACwBJ,EAAI5iE,IAAMijE,EAAKjjE,GAAK0iE,EAAQM,EAAG,EAIvD,IAEQ,IAAK,IAAIjkB,EAAI,EAAGA,EAAI6jB,EAAI/pE,OAAQkmD,IAC5B,GAAyB,MAArBuB,EAAKjqB,OAAO0oB,GAAc,CAE1B,IADA,IAAImkB,EAAMX,GAAQO,EAAKpqD,EAAIqmC,GAAM8jB,EAAKnqD,EAAIqmC,IAAQqjB,GAAO,IAClDc,EAAM,GAAKA,GAAO,IACzB,KAAOA,GAAO,KAAOA,GAAO,IAC5BN,EAAI7jB,GAAOmkB,CAC3B,MACgBN,EAAI7jB,GAAO6jB,EAAI7jB,GAAKrmC,EAAIqmC,GAIhC,OADAyC,GAASzhD,EACF,IAAKiiE,GAAQY,EAAKtiB,GAAOkB,MAAMA,EAAQ,OAAU,EAAIA,GAAO,EAC3E,EAGQmhB,GAAgB,SAAUF,EAAQC,GAGlC,IAFA,IAAI3iE,EAAI0iE,EAAO5pE,OACX+pE,EAAM,CAAC,EAAE,EAAE,EAAE,GACR5iE,EAAE,EAAGA,EAAIyiE,EAAO5pE,OAAQmH,IAAK,CAClC,IAAIwR,EAAMixD,EAAOziE,GACbmtB,EAAIu1C,EAAQ1iE,GAAKD,EACjB4+C,EAAMntC,EAAIivC,KACdmiB,EAAI,IAAMV,GAAMvjB,EAAI,GAAG,GAAKxxB,EAC5By1C,EAAI,IAAMV,GAAMvjB,EAAI,GAAG,GAAKxxB,EAC5By1C,EAAI,IAAMV,GAAMvjB,EAAI,GAAG,GAAKxxB,EAC5By1C,EAAI,IAAMjkB,EAAI,GAAKxxB,CACtB,CAKD,OAJAy1C,EAAI,GAAKT,GAAOS,EAAI,IACpBA,EAAI,GAAKT,GAAOS,EAAI,IACpBA,EAAI,GAAKT,GAAOS,EAAI,IAChBA,EAAI,GAAK,WAAaA,EAAI,GAAK,GAC5B,IAAIZ,GAAQC,GAAWW,GACtC,EAMQO,GAAWriB,EACXsiB,GAAS5jB,EAAM1iD,KAEfumE,GAAQrnE,KAAKC,IAEbqnE,GAAU,SAASb,GAGnB,IAAIc,EAAQ,MACRC,EAASL,GAAS,QAClBM,EAAU,EAEVC,EAAU,CAAC,EAAG,GACdC,EAAO,GACPC,EAAW,CAAC,EAAE,GACdC,GAAW,EACXC,EAAU,GACVC,GAAO,EACPC,EAAO,EACPC,EAAO,EACPC,GAAoB,EACpBC,EAAc,CAAA,EACdC,GAAY,EACZC,EAAS,EAITC,EAAY,SAAS7B,GAMrB,IALAA,EAASA,GAAU,CAAC,OAAQ,UACK,WAAnBW,GAAOX,IAAwBU,GAASoB,QAClDpB,GAASoB,OAAO9B,EAAOpqD,iBACvBoqD,EAASU,GAASoB,OAAO9B,EAAOpqD,gBAEb,UAAnB+qD,GAAOX,GAAqB,CAEN,IAAlBA,EAAO5pE,SACP4pE,EAAS,CAACA,EAAO,GAAIA,EAAO,KAGhCA,EAASA,EAAO/nE,MAAM,GAEtB,IAAK,IAAI2Y,EAAE,EAAGA,EAAEovD,EAAO5pE,OAAQwa,IAC3BovD,EAAOpvD,GAAK8vD,GAASV,EAAOpvD,IAGhCswD,EAAK9qE,OAAS,EACd,IAAK,IAAI2rE,EAAI,EAAGA,EAAI/B,EAAO5pE,OAAQ2rE,IAC/Bb,EAAKlpE,KAAK+pE,GAAK/B,EAAO5pE,OAAO,GAEpC,CAED,OADA4rE,IACOX,EAAUrB,CAC7B,EAEYiC,EAAW,SAASzrE,GACpB,GAAgB,MAAZ4qE,EAAkB,CAGlB,IAFA,IAAIn+D,EAAIm+D,EAAShrE,OAAO,EACpBmH,EAAI,EACDA,EAAI0F,GAAKzM,GAAS4qE,EAAS7jE,IAC9BA,IAEJ,OAAOA,EAAE,CACZ,CACD,OAAO,CACnB,EAEY2kE,EAAgB,SAAUj4C,GAAK,OAAOA,CAAE,EACxCk4C,EAAa,SAAUl4C,GAAK,OAAOA,CAAE,EAcrCm4C,EAAW,SAAStyD,EAAKuyD,GACzB,IAAItzD,EAAKkb,EAET,GADiB,MAAbo4C,IAAqBA,GAAY,GACjCppE,MAAM6W,IAAiB,OAARA,EAAiB,OAAOixD,EAavC92C,EAZCo4C,EAYGvyD,EAXAsxD,GAAaA,EAAShrE,OAAS,EAEvB6rE,EAASnyD,IACRsxD,EAAShrE,OAAO,GAClBorE,IAASD,GAEXzxD,EAAMyxD,IAASC,EAAOD,GAEvB,EAOZt3C,EAAIk4C,EAAWl4C,GAEVo4C,IACDp4C,EAAIi4C,EAAcj4C,IAGP,IAAX23C,IAAgB33C,EAAI22C,GAAM32C,EAAG23C,IAEjC33C,EAAIk3C,EAAS,GAAMl3C,GAAK,EAAIk3C,EAAS,GAAKA,EAAS,IAEnDl3C,EAAI1wB,KAAK6J,IAAI,EAAG7J,KAAKK,IAAI,EAAGqwB,IAE5B,IAAImE,EAAI70B,KAAK8J,MAAU,IAAJ4mB,GAEnB,GAAI03C,GAAaD,EAAYtzC,GACzBrf,EAAM2yD,EAAYtzC,OACf,CACH,GAAwB,UAApBuyC,GAAOU,GAEP,IAAK,IAAI9jE,EAAE,EAAGA,EAAE2jE,EAAK9qE,OAAQmH,IAAK,CAC9B,IAAIyZ,EAAIkqD,EAAK3jE,GACb,GAAI0sB,GAAKjT,EAAG,CACRjI,EAAMsyD,EAAQ9jE,GACd,KACH,CACD,GAAK0sB,GAAKjT,GAAOzZ,IAAO2jE,EAAK9qE,OAAO,EAAK,CACrC2Y,EAAMsyD,EAAQ9jE,GACd,KACH,CACD,GAAI0sB,EAAIjT,GAAKiT,EAAIi3C,EAAK3jE,EAAE,GAAI,CACxB0sB,GAAKA,EAAEjT,IAAIkqD,EAAK3jE,EAAE,GAAGyZ,GACrBjI,EAAM2xD,GAASr8D,YAAYg9D,EAAQ9jE,GAAI8jE,EAAQ9jE,EAAE,GAAI0sB,EAAG62C,GACxD,KACH,CACJ,KAC0B,aAApBH,GAAOU,KACdtyD,EAAMsyD,EAAQp3C,IAEd03C,IAAaD,EAAYtzC,GAAKrf,EACrC,CACD,OAAOA,CACnB,EAEYizD,EAAa,WAAc,OAAON,EAAc,CAAA,CAAG,EAEvDG,EAAU7B,GAIV,IAAIt1C,EAAI,SAAS/e,GACb,IAAIiF,EAAI8vD,GAAS0B,EAASz2D,IAC1B,OAAI21D,GAAQ1wD,EAAE0wD,GAAgB1wD,EAAE0wD,KAAyB1wD,CACrE,EAuMQ,OArMA8Z,EAAE43C,QAAU,SAASA,GACjB,GAAe,MAAXA,EAAiB,CACjB,GAAwB,UAApB3B,GAAO2B,GACPlB,EAAWkB,EACXrB,EAAU,CAACqB,EAAQ,GAAIA,EAAQA,EAAQlsE,OAAO,QAC3C,CACH,IAAIoe,EAAIksD,GAAS6B,QAAQtB,GAErBG,EADY,IAAZkB,EACW,CAAC9tD,EAAEpR,IAAKoR,EAAE5a,KAEV8mE,GAAS8B,OAAOhuD,EAAG,IAAK8tD,EAE1C,CACD,OAAO53C,CACV,CACD,OAAO02C,CACnB,EAGQ12C,EAAE+3C,OAAS,SAASA,GAChB,IAAKtsE,UAAUC,OACX,OAAO6qE,EAEXM,EAAOkB,EAAO,GACdjB,EAAOiB,EAAOA,EAAOrsE,OAAO,GAC5B8qE,EAAO,GACP,IAAI9yC,EAAIizC,EAAQjrE,OAChB,GAAKqsE,EAAOrsE,SAAWg4B,GAAOmzC,IAASC,EAEnC,IAAK,IAAIjkE,EAAI,EAAGuN,EAAOpT,MAAMygB,KAAKsqD,GAASllE,EAAIuN,EAAK1U,OAAQmH,GAAK,EAAG,CAChE,IAAIiX,EAAI1J,EAAKvN,GAEf2jE,EAAKlpE,MAAMwc,EAAE+sD,IAASC,EAAKD,GAC5B,KACE,CACH,IAAK,IAAI3wD,EAAE,EAAGA,EAAEwd,EAAGxd,IACfswD,EAAKlpE,KAAK4Y,GAAGwd,EAAE,IAEnB,GAAIq0C,EAAOrsE,OAAS,EAAG,CAEnB,IAAIssE,EAAOD,EAAOnsE,KAAI,SAAUke,EAAEjX,GAAK,OAAOA,GAAGklE,EAAOrsE,OAAO,EAAK,IAChEusE,EAAUF,EAAOnsE,KAAI,SAAUke,GAAK,OAAQA,EAAI+sD,IAASC,EAAOD,EAAQ,IACvEoB,EAAQ33D,OAAM,SAAU8E,EAAKvS,GAAK,OAAOmlE,EAAKnlE,KAAOuS,CAAM,MAC5DqyD,EAAa,SAAUl4C,GACnB,GAAIA,GAAK,GAAKA,GAAK,EAAK,OAAOA,EAE/B,IADA,IAAI1sB,EAAI,EACD0sB,GAAK04C,EAAQplE,EAAE,IAAMA,IAC5B,IAAImtB,GAAKT,EAAI04C,EAAQplE,KAAOolE,EAAQplE,EAAE,GAAKolE,EAAQplE,IAEnD,OADUmlE,EAAKnlE,GAAKmtB,GAAKg4C,EAAKnlE,EAAE,GAAKmlE,EAAKnlE,GAEtE,EAGiB,CACJ,CAED,OADA0jE,EAAU,CAACM,EAAMC,GACV92C,CACnB,EAEQA,EAAEmzB,KAAO,SAAS+kB,GACd,OAAKzsE,UAAUC,QAGf0qE,EAAQ8B,EACRZ,IACOt3C,GAJIo2C,CAKvB,EAEQp2C,EAAExc,MAAQ,SAAS8xD,EAAQkB,GAEvB,OADAW,EAAU7B,GACHt1C,CACnB,EAEQA,EAAEyyC,IAAM,SAAS0F,GAEb,OADAvB,EAAOuB,EACAn4C,CACnB,EAEQA,EAAEo4C,OAAS,SAAShzD,GAChB,OAAK3Z,UAAUC,QAGf4qE,EAAUlxD,EACH4a,GAHIs2C,CAIvB,EAEQt2C,EAAEq4C,iBAAmB,SAASp3D,GAkC1B,OAjCS,MAALA,IAAaA,GAAI,GACrB81D,EAAoB91D,EACpBq2D,IAEIE,EADAT,EACgB,SAASx3C,GAUrB,IATA,IAAI+4C,EAAKZ,EAAS,GAAG,GAAMtY,MAAM,GAC7BmZ,EAAKb,EAAS,GAAG,GAAMtY,MAAM,GAC7BoZ,EAAMF,EAAKC,EACXE,EAAWf,EAASn4C,GAAG,GAAM6/B,MAAM,GACnCsZ,EAAUJ,GAAOC,EAAKD,GAAM/4C,EAC5Bo5C,EAASF,EAAWC,EACpB9a,EAAK,EACLxH,EAAK,EACLgb,EAAW,GACPviE,KAAKo2B,IAAI0zC,GAAU,KAAUvH,KAAa,GAEtCoH,IAAOG,IAAW,GAClBA,EAAS,GACT/a,EAAKr+B,EACLA,GAAgB,IAAV62B,EAAK72B,KAEX62B,EAAK72B,EACLA,GAAgB,IAAVq+B,EAAKr+B,IAEfk5C,EAAWf,EAASn4C,GAAG,GAAM6/B,MAAM,GAC5BuZ,EAASF,EAAWC,EAGnC,OAAOn5C,CAC3B,EAEgC,SAAUA,GAAK,OAAOA,CAAE,EAErCS,CACnB,EAEQA,EAAEhZ,QAAU,SAASsF,GACjB,OAAS,MAALA,GACkB,WAAd2pD,GAAO3pD,KACPA,EAAI,CAACA,EAAEA,IAEXmqD,EAAWnqD,EACJ0T,GAEAy2C,CAEvB,EAEQz2C,EAAEs1C,OAAS,SAASsD,EAAWnG,GAEvBhnE,UAAUC,OAAS,IAAK+mE,EAAM,OAClC,IAAIz8D,EAAS,GAEb,GAAyB,IAArBvK,UAAUC,OACVsK,EAAS2gE,EAAQppE,MAAM,QAEpB,GAAkB,IAAdqrE,EACP5iE,EAAS,CAACgqB,EAAE,UAET,GAAI44C,EAAY,EAAG,CACtB,IAAIC,EAAKtC,EAAQ,GACbuC,EAAKvC,EAAQ,GAAKsC,EACtB7iE,EAAS+iE,GAAU,EAAGH,GAAW,GAAOhtE,KAAI,SAAUiH,GAAK,OAAOmtB,EAAG64C,EAAOhmE,GAAG+lE,EAAU,GAAME,EAAM,GAErH,KAAmB,CACHxD,EAAS,GACT,IAAI0D,EAAU,GACd,GAAItC,GAAaA,EAAShrE,OAAS,EAC/B,IAAK,IAAImH,EAAI,EAAG8U,EAAM+uD,EAAShrE,OAAQ2pC,EAAM,GAAK1tB,EAAK0tB,EAAMxiC,EAAI8U,EAAM9U,EAAI8U,EAAK0tB,EAAMxiC,IAAMA,IACxFmmE,EAAQ1rE,KAAiC,IAA3BopE,EAAS7jE,EAAE,GAAG6jE,EAAS7jE,UAGzCmmE,EAAUzC,EAEdvgE,EAASgjE,EAAQptE,KAAI,SAAUqV,GAAK,OAAO+e,EAAE/e,EAAG,GACnD,CAKD,OAHI+0D,GAASvD,KACTz8D,EAASA,EAAOpK,KAAI,SAAUsa,GAAK,OAAOA,EAAEusD,IAAO,KAEhDz8D,CACnB,EAEQgqB,EAAEpjB,MAAQ,SAASsJ,GACf,OAAS,MAALA,GACA+wD,EAAY/wD,EACL8Z,GAEAi3C,CAEvB,EAEQj3C,EAAEi5C,MAAQ,SAASjlB,GACf,OAAS,MAALA,GACAkjB,EAASljB,EACFh0B,GAEAk3C,CAEvB,EAEQl3C,EAAEk5C,OAAS,SAASpvD,GAChB,OAAS,MAALA,GACAusD,EAASL,GAASlsD,GACXkW,GAEAq2C,CAEvB,EAEer2C,CACf,EAEI,SAAS+4C,GAAUp3D,EAAMC,EAAOu3D,GAI9B,IAHA,IAAI31D,EAAQ,GACR41D,EAAYz3D,EAAOC,EACnB+F,EAAOwxD,EAAoBC,EAAYx3D,EAAQ,EAAIA,EAAQ,EAAxCA,EACd/O,EAAI8O,EAAMy3D,EAAYvmE,EAAI8U,EAAM9U,EAAI8U,EAAKyxD,EAAYvmE,IAAMA,IAClE2Q,EAAMlW,KAAKuF,GAEb,OAAO2Q,CACR,CAOD,IAAI61D,GAAU7lB,EAEV8lB,GAAUnD,GAGVoD,GAAY,SAAShhE,GAErB,IADA,IAAI1M,EAAM,CAAC,EAAG,GACLgH,EAAI,EAAGA,EAAI0F,EAAG1F,IAAK,CAExB,IADA,IAAI2mE,EAAS,CAAC,GACLj9D,EAAI,EAAGA,GAAK1Q,EAAIH,OAAQ6Q,IAC7Bi9D,EAAOj9D,IAAM1Q,EAAI0Q,IAAM,GAAK1Q,EAAI0Q,EAAI,GAExC1Q,EAAM2tE,CACT,CACD,OAAO3tE,CACf,EAEQ4tE,GAAS,SAASnE,GAClB,IAAI3zC,EAAQq3B,EAAUC,EAElBygB,EAAGC,EAAMC,EAAMC,EAEnB,GAAsB,KADtBvE,EAASA,EAAO1pE,KAAI,SAAUsa,GAAK,OAAO,IAAImzD,GAAQnzD,EAAG,KAC9Cxa,OAENi2B,EAAS2zC,EAAO1pE,KAAI,SAAUsa,GAAK,OAAOA,EAAEk5C,KAAM,IAAKua,EAAOh4C,EAAO,GAAIi4C,EAAOj4C,EAAO,GACxF+3C,EAAI,SAASn6C,GACT,IAAI6/B,EAAO,CAAC,EAAG,EAAG,GAAGxzD,KAAI,SAAUiH,GAAK,OAAO8mE,EAAK9mE,GAAM0sB,GAAKq6C,EAAK/mE,GAAK8mE,EAAK9mE,GAAO,IACrF,OAAO,IAAIwmE,GAAQja,EAAK,MACxC,OACe,GAAsB,IAAlBkW,EAAO5pE,OAEbstD,EAAWsc,EAAO1pE,KAAI,SAAUsa,GAAK,OAAOA,EAAEk5C,SAAWua,EAAO3gB,EAAS,GAAI4gB,EAAO5gB,EAAS,GAAI6gB,EAAO7gB,EAAS,GAClH0gB,EAAI,SAASn6C,GACT,IAAI6/B,EAAO,CAAC,EAAG,EAAG,GAAGxzD,KAAI,SAAUiH,GAAK,OAAS,EAAE0sB,IAAI,EAAEA,GAAKo6C,EAAK9mE,GAAO,GAAK,EAAE0sB,GAAKA,EAAIq6C,EAAK/mE,GAAO0sB,EAAIA,EAAIs6C,EAAKhnE,EAAM,IACzH,OAAO,IAAIwmE,GAAQja,EAAK,MACxC,OACe,GAAsB,IAAlBkW,EAAO5pE,OAAc,CAE5B,IAAIouE,EACH7gB,EAAWqc,EAAO1pE,KAAI,SAAUsa,GAAK,OAAOA,EAAEk5C,KAAQ,IAAGua,EAAO1gB,EAAS,GAAI2gB,EAAO3gB,EAAS,GAAI4gB,EAAO5gB,EAAS,GAAI6gB,EAAO7gB,EAAS,GACtIygB,EAAI,SAASn6C,GACT,IAAI6/B,EAAO,CAAC,EAAG,EAAG,GAAGxzD,KAAI,SAAUiH,GAAK,OAAS,EAAE0sB,IAAI,EAAEA,IAAI,EAAEA,GAAKo6C,EAAK9mE,GAAO,GAAK,EAAE0sB,IAAM,EAAEA,GAAKA,EAAIq6C,EAAK/mE,GAAO,GAAK,EAAE0sB,GAAKA,EAAIA,EAAIs6C,EAAKhnE,GAAO0sB,EAAEA,EAAEA,EAAIu6C,EAAKjnE,EAAM,IACvK,OAAO,IAAIwmE,GAAQja,EAAK,MACxC,CACA,KAAe,MAAIkW,EAAO5pE,QAAU,GAYxB,MAAM,IAAIkgD,WAAW,mDAVrB,IAAImuB,EAAMluE,EAAK0M,EACfwhE,EAAOzE,EAAO1pE,KAAI,SAAUsa,GAAK,OAAOA,EAAEk5C,KAAM,IAChD7mD,EAAI+8D,EAAO5pE,OAAS,EACpBG,EAAM0tE,GAAUhhE,GAChBmhE,EAAI,SAAUn6C,GACV,IAAI+6B,EAAI,EAAI/6B,EACR6/B,EAAO,CAAC,EAAG,EAAG,GAAGxzD,KAAI,SAAUiH,GAAK,OAAOknE,EAAK95D,QAAO,SAAUyf,EAAKb,EAAItiB,GAAK,OAAQmjB,EAAM7zB,EAAI0Q,GAAK1N,KAAKC,IAAKwrD,EAAI/hD,EAAIgE,GAAO1N,KAAKC,IAAKywB,EAAGhjB,GAAMsiB,EAAGhsB,EAAM,GAAE,EAAK,IACtK,OAAO,IAAIwmE,GAAQja,EAAK,MACxC,CAGS,CACD,OAAOsa,CACf,EAEQM,GAAW,SAAU1E,GACrB,IAAIt1C,EAAIy5C,GAAOnE,GAEf,OADAt1C,EAAEi6C,MAAQ,WAAc,OAAOX,GAAQt5C,IAChCA,CACf,EAOQk6C,GAAWvmB,EAEXwmB,GAAQ,SAAUC,EAAQC,EAAKlnB,GAC/B,IAAKgnB,GAAMhnB,GACP,MAAM,IAAI14C,MAAM,sBAAwB04C,GAE5C,OAAOgnB,GAAMhnB,GAAMinB,EAAQC,EACnC,EAEQC,GAAU,SAAUt6C,GAAK,OAAO,SAAUo6C,EAAOC,GAC7C,IAAIE,EAAKL,GAASG,GAAK7oB,MACnB6iB,EAAK6F,GAASE,GAAQ5oB,MAC1B,OAAO0oB,GAAS1oB,IAAIxxB,EAAEu6C,EAAIlG,GAC7B,GAEDx0D,GAAO,SAAUmgB,GAAK,OAAO,SAAUu6C,EAAIlG,GACvC,IAAI5B,EAAM,GAIV,OAHAA,EAAI,GAAKzyC,EAAEu6C,EAAG,GAAIlG,EAAG,IACrB5B,EAAI,GAAKzyC,EAAEu6C,EAAG,GAAIlG,EAAG,IACrB5B,EAAI,GAAKzyC,EAAEu6C,EAAG,GAAIlG,EAAG,IACd5B,CACV,GAED+H,GAAS,SAAUrmE,GAAK,OAAOA,CAAE,EACjCq8C,GAAW,SAAUr8C,EAAEC,GAAK,OAAOD,EAAIC,EAAI,KAC3Cg8D,GAAS,SAAUj8D,EAAEC,GAAK,OAAOD,EAAIC,EAAIA,EAAID,GAC7CsmE,GAAU,SAAUtmE,EAAEC,GAAK,OAAOD,EAAIC,EAAID,EAAIC,GAC9CsmE,GAAS,SAAUvmE,EAAEC,GAAK,OAAO,KAAO,GAAK,EAAED,EAAE,MAAQ,EAAEC,EAAE,OAC7DumE,GAAU,SAAUxmE,EAAEC,GAAK,OAAOA,EAAI,IAAM,EAAID,EAAIC,EAAI,IAAM,KAAO,EAAI,GAAK,EAAID,EAAI,MAAU,EAAIC,EAAI,OACxGwmE,GAAO,SAAUzmE,EAAEC,GAAK,OAAO,KAAO,GAAK,EAAIA,EAAI,MAAQD,EAAE,KAAM,EACnE0mE,GAAQ,SAAU1mE,EAAEC,GACpB,OAAU,MAAND,IACJA,EAAWC,EAAI,IAAX,KAAmB,EAAID,EAAI,MACpB,IAFa,IAEDA,CAC/B,EAKIgmE,GAAMK,OAASF,GAAQz6D,GAAK26D,KAC5BL,GAAM3pB,SAAW8pB,GAAQz6D,GAAK2wC,KAC9B2pB,GAAMO,OAASJ,GAAQz6D,GAAK66D,KAC5BP,GAAMQ,QAAUL,GAAQz6D,GAAK86D,KAC7BR,GAAM/J,OAASkK,GAAQz6D,GAAKuwD,KAC5B+J,GAAMM,QAAUH,GAAQz6D,GAAK46D,KAC7BN,GAAMU,MAAQP,GAAQz6D,GAAKg7D,KAC3BV,GAAMS,KAAON,GAAQz6D,GAAK+6D,KAgf1B,IA7eA,IAAIE,GAAUX,GAMVY,GAAS1oB,EAAM1iD,KACf2iD,GAAWD,EAAMC,SACjBG,GAAQJ,EAAMI,MACduoB,GAAQnsE,KAAKC,IACbmsE,GAAQpsE,KAAKqiC,IACbgqC,GAAQrsE,KAAKuiC,IACb+pC,GAAWxnB,EAEXynB,GAAY,SAAS58D,EAAO68D,EAAWpH,EAAKgF,EAAOqC,QACpC,IAAV98D,IAAmBA,EAAM,UACX,IAAd68D,IAAuBA,GAAW,UAC1B,IAARpH,IAAiBA,EAAI,QACX,IAAVgF,IAAmBA,EAAM,QACX,IAAdqC,IAAuBA,EAAU,CAAC,EAAE,IAEzC,IAAYC,EAARC,EAAK,EACiB,UAAtBT,GAAOO,GACPC,EAAKD,EAAU,GAAKA,EAAU,IAE9BC,EAAK,EACLD,EAAY,CAACA,EAAWA,IAG5B,IAAIt7C,EAAI,SAASy7C,GACb,IAAItnE,EAAIs+C,KAAWj0C,EAAM,KAAK,IAAQ68D,EAAYI,GAC9C7oE,EAAIooE,GAAMM,EAAU,GAAMC,EAAKE,EAAQxC,GAEvCyC,GADW,IAAPF,EAAWvH,EAAI,GAAMwH,EAAQD,EAAMvH,GAC5BrhE,GAAK,EAAEA,GAAM,EACxB+oE,EAAQT,GAAM/mE,GACdynE,EAAQX,GAAM9mE,GAIlB,OAAOgnE,GAAS7oB,GAAS,CAAG,KAHpB1/C,EAAK8oE,IAAS,OAAUC,EAAU,QAASC,IAGjB,KAF1BhpE,EAAK8oE,IAAS,OAAUC,EAAU,OAASC,IAEX,KADhChpE,EAAK8oE,GAAO,QAAWC,IACa,IACxD,EAgDQ,OA9CA37C,EAAExhB,MAAQ,SAASvS,GACf,OAAU,MAALA,EAAqBuS,GAC1BA,EAAQvS,EACD+zB,EACnB,EAEQA,EAAEq7C,UAAY,SAASlyD,GACnB,OAAU,MAALA,EAAqBkyD,GAC1BA,EAAYlyD,EACL6W,EACnB,EAEQA,EAAEi5C,MAAQ,SAASjlB,GACf,OAAU,MAALA,EAAqBilB,GAC1BA,EAAQjlB,EACDh0B,EACnB,EAEQA,EAAEi0C,IAAM,SAAS5zC,GACb,OAAU,MAALA,EAAqB4zC,GAEN,UAAhB8G,GADJ9G,EAAM5zC,GAGS,IADXm7C,EAAKvH,EAAI,GAAKA,EAAI,MACFA,EAAMA,EAAI,IAE1BuH,EAAK,EAEFx7C,EACnB,EAEQA,EAAEs7C,UAAY,SAASj7C,GACnB,OAAU,MAALA,EAAqBi7C,GACR,UAAdP,GAAO16C,IACPi7C,EAAYj7C,EACZk7C,EAAKl7C,EAAE,GAAKA,EAAE,KAEdi7C,EAAY,CAACj7C,EAAEA,GACfk7C,EAAK,GAEFv7C,EACnB,EAEQA,EAAEi6C,MAAQ,WAAc,OAAOkB,GAASlB,MAAMj6C,IAE9CA,EAAEi0C,IAAIA,GAECj0C,CACf,EAEQ67C,GAAUroB,EACVsoB,GAAS,mBAETC,GAAUltE,KAAK8J,MACfF,GAAS5J,KAAK4J,OAEdujE,GAAW,WAEX,IADA,IAAIC,EAAO,IACFppE,EAAE,EAAGA,EAAE,EAAGA,IACfopE,GAAQH,GAAO5yC,OAAO6yC,GAAmB,GAAXtjE,OAElC,OAAO,IAAIojE,GAAQI,EAAM,MACjC,EAEQtsE,GAAOmiD,EACP9sB,GAAMn2B,KAAKm2B,IACXk3C,GAAQrtE,KAAKC,IACb6J,GAAQ9J,KAAK8J,MACbwjE,GAAQttE,KAAKo2B,IAGb4yC,GAAU,SAAUn9D,EAAM/I,QACb,IAARA,IAAiBA,EAAI,MAE1B,IAAIwX,EAAI,CACJzQ,IAAK3M,OAAOk0B,UACZ/wB,KAAuB,EAAlBnD,OAAOk0B,UACZP,IAAK,EACL7pB,OAAQ,GACRgO,MAAO,GAoBX,MAlBmB,WAAflU,GAAK+K,KACLA,EAAOvN,OAAO0I,OAAO6E,IAEzBA,EAAKgK,SAAQ,SAAUU,GACfzT,GAAqB,WAAdhC,GAAKyV,KAAqBA,EAAMA,EAAIzT,IAC3CyT,SAAsC7W,MAAM6W,KAC5C+D,EAAEtT,OAAOvI,KAAK8X,GACd+D,EAAEuW,KAAOta,EACLA,EAAM+D,EAAEzQ,MAAOyQ,EAAEzQ,IAAM0M,GACvBA,EAAM+D,EAAEja,MAAOia,EAAEja,IAAMkW,GAC3B+D,EAAEtF,OAAS,EAE3B,IAEQsF,EAAE4uD,OAAS,CAAC5uD,EAAEzQ,IAAKyQ,EAAEja,KAErBia,EAAE2uD,OAAS,SAAU3kB,EAAM4Y,GAAO,OAAO+L,GAAO3uD,EAAGgqC,EAAM4Y,EAAK,EAEvD5iD,CACf,EAGQ2uD,GAAS,SAAUp9D,EAAMy4C,EAAM4Y,QACjB,IAAT5Y,IAAkBA,EAAK,cACf,IAAR4Y,IAAiBA,EAAI,GAER,SAAdp8D,GAAK+K,KACLA,EAAOm9D,GAAQn9D,IAEnB,IAAIhC,EAAMgC,EAAKhC,IACXxJ,EAAMwL,EAAKxL,IACX2G,EAAS6E,EAAK7E,OAAOM,MAAK,SAAUhC,EAAEC,GAAK,OAAOD,EAAEC,CAAI,IAE5D,GAAY,IAAR23D,EAAa,MAAO,CAACrzD,EAAIxJ,GAE7B,IAAI4oE,EAAS,GAOb,GALyB,MAArB3kB,EAAKtwB,OAAO,EAAE,KACdi1C,EAAOxqE,KAAKoL,GACZo/D,EAAOxqE,KAAK4B,IAGS,MAArBikD,EAAKtwB,OAAO,EAAE,GAAY,CAC1Bi1C,EAAOxqE,KAAKoL,GACZ,IAAK,IAAI7F,EAAE,EAAGA,EAAEk5D,EAAKl5D,IACjBilE,EAAOxqE,KAAKoL,EAAM7F,EAAEk5D,GAAM78D,EAAIwJ,IAElCo/D,EAAOxqE,KAAK4B,EACf,MAEI,GAAyB,MAArBikD,EAAKtwB,OAAO,EAAE,GAAY,CAC/B,GAAInqB,GAAO,EACP,MAAM,IAAI+B,MAAM,uDAEpB,IAAI2hE,EAAUvtE,KAAK4/B,OAASzJ,GAAItsB,GAC5B2jE,EAAUxtE,KAAK4/B,OAASzJ,GAAI91B,GAChC4oE,EAAOxqE,KAAKoL,GACZ,IAAK,IAAIk5C,EAAI,EAAGA,EAAIma,EAAKna,IACrBkmB,EAAOxqE,KAAK4uE,GAAM,GAAIE,EAAYxqB,EAAIma,GAAQsQ,EAAUD,KAE5DtE,EAAOxqE,KAAK4B,EACf,MAEI,GAAyB,MAArBikD,EAAKtwB,OAAO,EAAE,GAAY,CAC/Bi1C,EAAOxqE,KAAKoL,GACZ,IAAK,IAAI2+C,EAAI,EAAGA,EAAI0U,EAAK1U,IAAO,CAC5B,IAAI/qC,GAAMzW,EAAOnK,OAAO,GAAK2rD,EAAK0U,EAC9BuQ,EAAK3jE,GAAM2T,GACf,GAAIgwD,IAAOhwD,EACPwrD,EAAOxqE,KAAKuI,EAAOymE,QAChB,CACH,IAAIC,EAAKjwD,EAAIgwD,EACbxE,EAAOxqE,KAAMuI,EAAOymE,IAAK,EAAEC,GAAQ1mE,EAAOymE,EAAG,GAAGC,EACnD,CACJ,CACDzE,EAAOxqE,KAAK4B,EAEf,MAEI,GAAyB,MAArBikD,EAAKtwB,OAAO,EAAE,GAAY,CAM/B,IAAI25C,EACAjkE,EAAI1C,EAAOnK,OACX+wE,EAAc,IAAIzvE,MAAMuL,GACxBmkE,EAAe,IAAI1vE,MAAM++D,GACzB4Q,GAAS,EACTC,EAAW,EACXC,EAAY,MAGhBA,EAAY,IACFvvE,KAAKoL,GACf,IAAK,IAAI6+C,EAAI,EAAGA,EAAIwU,EAAKxU,IACrBslB,EAAUvvE,KAAKoL,EAAQ6+C,EAAIwU,GAAQ78D,EAAIwJ,IAI3C,IAFAmkE,EAAUvvE,KAAK4B,GAERytE,GAAQ,CAEX,IAAK,IAAIpgE,EAAE,EAAGA,EAAEwvD,EAAKxvD,IACjBmgE,EAAangE,GAAK,EAEtB,IAAK,IAAIugE,EAAI,EAAGA,EAAIvkE,EAAGukE,IAInB,IAHA,IAAIhxE,EAAQ+J,EAAOinE,GACfC,EAAUhxE,OAAOk0B,UACjB+8C,OAAI,EACCC,EAAI,EAAGA,EAAIlR,EAAKkR,IAAO,CAC5B,IAAIC,EAAOf,GAAMU,EAAUI,GAAKnxE,GAC5BoxE,EAAOH,IACPA,EAAUG,EACVF,EAAOC,GAEXP,EAAaM,KACbP,EAAYK,GAAOE,CACtB,CAKL,IADA,IAAIG,EAAe,IAAInwE,MAAM++D,GACpBqR,EAAI,EAAGA,EAAIrR,EAAKqR,IACrBD,EAAaC,GAAO,KAExB,IAAK,IAAIC,EAAI,EAAGA,EAAI9kE,EAAG8kE,IAEW,OAA1BF,EADJX,EAAUC,EAAYY,IAElBF,EAAaX,GAAW3mE,EAAOwnE,GAE/BF,EAAaX,IAAY3mE,EAAOwnE,GAGxC,IAAK,IAAIC,EAAI,EAAGA,EAAIvR,EAAKuR,IACrBH,EAAaG,IAAQ,EAAEZ,EAAaY,GAIxCX,GAAS,EACT,IAAK,IAAIY,EAAI,EAAGA,EAAIxR,EAAKwR,IACrB,GAAIJ,EAAaI,KAASV,EAAUU,GAAM,CACtCZ,GAAS,EACT,KACH,CAGLE,EAAYM,IACZP,EAEe,MACXD,GAAS,EAEhB,CAKD,IADA,IAAIa,EAAY,CAAA,EACPC,EAAI,EAAGA,EAAI1R,EAAK0R,IACrBD,EAAUC,GAAO,GAErB,IAAK,IAAIC,EAAI,EAAGA,EAAInlE,EAAGmlE,IAEnBF,EADAhB,EAAUC,EAAYiB,IACHpwE,KAAKuI,EAAO6nE,IAGnC,IADA,IAAIC,EAAkB,GACbC,EAAI,EAAGA,EAAI7R,EAAK6R,IACrBD,EAAgBrwE,KAAKkwE,EAAUI,GAAK,IACpCD,EAAgBrwE,KAAKkwE,EAAUI,GAAKJ,EAAUI,GAAKlyE,OAAO,IAE9DiyE,EAAkBA,EAAgBxnE,MAAK,SAAUhC,EAAEC,GAAI,OAAOD,EAAEC,CAAE,IAClE0jE,EAAOxqE,KAAKqwE,EAAgB,IAC5B,IAAK,IAAIE,EAAI,EAAGA,EAAMF,EAAgBjyE,OAAQmyE,GAAM,EAAG,CACnD,IAAI58D,EAAI08D,EAAgBE,GACnBtvE,MAAM0S,KAA8B,IAAvB62D,EAAO3rE,QAAQ8U,IAC7B62D,EAAOxqE,KAAK2T,EAEnB,CACJ,CACD,OAAO62D,CACf,EAEQgG,GAAY,CAACjG,QAASA,GAASC,OAAQA,IAEvCiG,GAAUvqB,EAGVwqB,GAAW,SAAU7pE,EAAGC,GAGxBD,EAAI,IAAI4pE,GAAQ5pE,GAChBC,EAAI,IAAI2pE,GAAQ3pE,GAChB,IAAI6pE,EAAK9pE,EAAE88D,YACPiN,EAAK9pE,EAAE68D,YACX,OAAOgN,EAAKC,GAAMD,EAAK,MAASC,EAAK,MAASA,EAAK,MAASD,EAAK,IACzE,EAEQE,GAAU3qB,EACV1hB,GAAOjjC,KAAKijC,KACZhjC,GAAMD,KAAKC,IACX4J,GAAM7J,KAAK6J,IACXxJ,GAAML,KAAKK,IACXmlC,GAAQxlC,KAAKwlC,MACbpP,GAAMp2B,KAAKo2B,IACXmM,GAAMviC,KAAKuiC,IACXF,GAAMriC,KAAKqiC,IACXnM,GAAMl2B,KAAKk2B,IACXuS,GAAKzoC,KAAKyoC,GAEV8mC,GAAS,SAASjqE,EAAGC,EAAGiqE,EAAIC,EAAIC,QACpB,IAAPF,IAAgBA,EAAG,QACZ,IAAPC,IAAgBA,EAAG,QACZ,IAAPC,IAAgBA,EAAG,GAIxB,IAAIC,EAAU,SAASC,GACnB,OAAO,IAAMA,GAAO,EAAInnC,GACpC,EACYonC,EAAU,SAASC,GACnB,OAAQ,EAAIrnC,GAAKqnC,EAAO,GACpC,EACQxqE,EAAI,IAAIgqE,GAAQhqE,GAChBC,EAAI,IAAI+pE,GAAQ/pE,GAChB,IAAI2/C,EAAM/mD,MAAMygB,KAAKtZ,EAAEirD,OACnBmZ,EAAKxkB,EAAI,GACT6qB,EAAK7qB,EAAI,GACT8qB,EAAK9qB,EAAI,GACTkK,EAAQjxD,MAAMygB,KAAKrZ,EAAEgrD,OACrB0f,EAAK7gB,EAAM,GACX8gB,EAAK9gB,EAAM,GACX+gB,EAAK/gB,EAAM,GACXghB,GAAQ1G,EAAKuG,GAAI,EAGjBI,GAFKptC,GAAKhjC,GAAI8vE,EAAI,GAAK9vE,GAAI+vE,EAAI,IAC1B/sC,GAAKhjC,GAAIiwE,EAAI,GAAKjwE,GAAIkwE,EAAI,KACd,EACjBG,EAAI,IAAK,EAAErtC,GAAKhjC,GAAIowE,EAAM,IAAIpwE,GAAIowE,EAAM,GAAKpwE,GAAI,GAAI,MACrDswE,EAAMR,GAAI,EAAEO,GACZE,EAAMN,GAAI,EAAEI,GACZG,EAAMxtC,GAAKhjC,GAAIswE,EAAK,GAAKtwE,GAAI+vE,EAAI,IACjCU,EAAMztC,GAAKhjC,GAAIuwE,EAAK,GAAKvwE,GAAIkwE,EAAI,IACjCQ,GAASF,EAAMC,GAAK,EACpBE,EAAUjB,EAAQnqC,GAAMwqC,EAAIO,IAC5BM,EAAUlB,EAAQnqC,GAAM2qC,EAAIK,IAC5BM,EAAMF,GAAW,EAAIA,EAAUA,EAAU,IACzCG,EAAMF,GAAW,EAAIA,EAAUA,EAAU,IACzCG,EAAQ56C,GAAI06C,EAAMC,GAAO,KAAOD,EAAMC,EAAM,KAAK,GAAKD,EAAMC,GAAK,EACjEE,EAAI,EAAI,IAAK1uC,GAAIstC,EAAQmB,EAAQ,KAAO,IAAKzuC,GAAIstC,EAAQ,EAAEmB,IAAU,IAAKzuC,GAAIstC,EAAQ,EAAEmB,EAAQ,IAAM,GAAIzuC,GAAIstC,EAAQ,EAAEmB,EAAQ,KAChIE,EAAUH,EAAMD,EACpBI,EAAU96C,GAAI86C,IAAY,IAAMA,EAAUH,GAAOD,EAAMI,EAAU,IAAMA,EAAU,IACjFA,EAAU,EAAEjuC,GAAKwtC,EAAIC,GAAKruC,GAAIwtC,EAAQqB,GAAS,GAC/C,IAAIC,EAASlB,EAAKvG,EACd0H,EAAUV,EAAMD,EAChBY,EAAK,EAAK,KAAMpxE,GAAImwE,EAAO,GAAI,GAAIntC,GAAK,GAAKhjC,GAAImwE,EAAO,GAAI,IAC5DkB,EAAK,EAAI,KAAMX,EACfY,EAAK,EAAI,KAAMZ,EAAMM,EACrBO,EAAa,GAAGt7C,IAAKj2B,IAAK+wE,EAAQ,KAAK,GAAI,IAE3CS,GADK,EAAExuC,GAAKhjC,GAAI0wE,EAAO,IAAI1wE,GAAI0wE,EAAO,GAAK1wE,GAAI,GAAI,KAC1CoiC,GAAI,EAAEwtC,EAAQ2B,IACvBrqE,EAAS87B,GAAKhjC,GAAIkxE,GAAQ3B,EAAG6B,GAAK,GAAKpxE,GAAImxE,GAAS3B,EAAG6B,GAAK,GAAKrxE,GAAIixE,GAASxB,EAAG6B,GAAK,GAAKE,GAAIL,GAAS3B,EAAG6B,KAAMJ,GAASxB,EAAG6B,KACjI,OAAOlxE,GAAI,EAAGwJ,GAAI,IAAK1C,GAC/B,EAEQuqE,GAAU/sB,EAGVgtB,GAAW,SAASrsE,EAAGC,EAAG++C,QACZ,IAATA,IAAkBA,EAAK,OAI5Bh/C,EAAI,IAAIosE,GAAQpsE,GAChBC,EAAI,IAAImsE,GAAQnsE,GAChB,IAAI6pE,EAAK9pE,EAAEgD,IAAIg8C,GACX+qB,EAAK9pE,EAAE+C,IAAIg8C,GACXstB,EAAS,EACb,IAAK,IAAI5tE,KAAKorE,EAAI,CACd,IAAIn0D,GAAKm0D,EAAGprE,IAAM,IAAMqrE,EAAGrrE,IAAM,GACjC4tE,GAAU32D,EAAEA,CACf,CACD,OAAOjb,KAAKijC,KAAK2uC,EACzB,EAEQ/sB,GAAQF,EAERzpB,GAAQ,WAER,IADA,IAAIx6B,EAAO,GAAIiN,EAAM/Q,UAAUC,OACvB8Q,KAAQjN,EAAMiN,GAAQ/Q,UAAW+Q,GAEzC,IAEI,OADA,IAAK1P,SAASG,UAAU2O,KAAKpM,MAAOkkD,GAAO,CAAE,MAAOn+C,OAAQhG,MACrD,CACV,CAAC,MAAOpE,GACL,OAAO,CACV,CACT,EAGQu1E,GAAW/sB,EAEXsmB,GAAQ9D,GAERwK,GAAS,CACZC,KAAM,WAAkB,OAAO3G,GAAM,CAACyG,GAASlpB,IAAI,IAAI,EAAE,IAAKkpB,GAASlpB,IAAI,IAAI,GAAG,KAAO,EACzFqpB,IAAK,WAAiB,OAAO5G,GAAM,CAAC,OAAO,OAAO,OAAO,SAAS9mB,KAAK,MAAQ,GAoB5E2tB,GAAc,CAEdC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClGC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClGC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAChGC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAChGC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAIlGC,SAAU,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACzHC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACvHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACvHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAIrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACpFC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACtFC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAChIC,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrFC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClIC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACvFC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAI7FrwE,GAAI,EAAGuN,GAAOjT,OAAOc,KAAK6yE,IAAcjuE,GAAIuN,GAAK1U,OAAQmH,IAAK,EAAG,CACtE,IAAIlB,GAAMyO,GAAKvN,IAEfiuE,GAAYnvE,GAAIuZ,eAAiB41D,GAAYnvE,GAChD,CAED,IAAIwxE,GAAgBrC,GAEhBsC,GAASzvB,EAgDbyvB,GAAO/N,QAAUA,GACjB+N,GAAO3J,OAASO,GAChBoJ,GAAOjJ,MAAQW,GACfsI,GAAOhI,UAAYA,GACnBgI,GAAOpR,IAAMoR,GAAOzpE,YAAci4D,GAClCwR,GAAO3qE,OAASujE,GAChBoH,GAAOnJ,MAAQ9D,GAGfiN,GAAOvL,QAAUiG,GAAUjG,QAC3BuL,GAAOpF,SAAWA,GAClBoF,GAAOhF,OAASA,GAChBgF,GAAO5C,SAAWA,GAClB4C,GAAOtL,OAASgG,GAAUhG,OAC1BsL,GAAOr5C,MAAQA,GAGfq5C,GAAOzC,OAASA,GAGhByC,GAAO9N,OAAS7T,GAChB2hB,GAAOhM,OAAS+L,GAEhB,IAAIE,GAAYD,GAEhB,OAAOC,EAEV,CAp8GmF5lD,0BCtCrE,SAAS6lD,GAAer1D,GAA+C,IAA9CtJ,QAAEA,EAAO4+D,QAAEA,EAAOC,SAAEA,EAAQC,aAAEA,GAAcx1D,EAChFu1D,EAAWA,GAAY,GACvBC,EAAeA,GAAgB,GAC/B,MAAMC,EAAc,CAAA,EACdC,EAAO,CAAA,EACPC,EAAgB,CAAA,EAGtB/jE,GAAK0jE,GAAS,CAACp+D,EAAGxT,KACd,GAAI6xE,EAAS7xE,GAAM,CACf,IAAIsS,EAAUu/D,EAAS7xE,GAEvB,GAAIwT,EAAE0+D,UAAY1+D,EAAE2+D,sBAAwBL,EAAat+D,EAAE2+D,qBACvD,QAiKZ,SAAsB7/D,GACblW,EAAQkW,KAAUA,EAAU,CAACA,IAClC,IAAK,IAAIpR,EAAI,EAAGA,EAAIoR,EAAQvY,OAAQmH,IAChC,IAAK8R,EAAQM,UAAUhB,EAAQpR,IAAK,OAAO,EAE/C,OAAO,CACX,EAnKYkxE,CAAa9/D,IACb+/D,EAAY7+D,EAAGlB,GAAS,MACtBkB,EAAE8+D,WAAal2E,EAAQkW,KAEzB0/D,EAAKhyE,GAAOwT,EAAE8+D,WAAal2E,EAAQkW,GAAW,CAACA,GAAWA,EAErDlW,EAAQkW,KAAUA,EAAU,CAACA,IAClCpE,GAAKoE,GAAS,SAAUW,GACpB8+D,EAAY9+D,IAAU,CAC1B,IAER,KAGJ,IAAIs/D,EAAU,GA6Id,OA3IArkE,GAAK0jE,GAASY,IACNA,EAAQN,UAEJM,EAAQL,qBAAuBL,EAAaU,EAAQL,uBAEpDK,EAAQN,UAAW,EAE3B,IAIJhkE,GAAK0jE,GAAS,CAACY,EAASxyE,KAuCpB,GADAuyE,EAAQ52E,KAAKqE,IACTgyE,EAAKhyE,GACT,GAAKwyE,EAAQN,SAyETF,EAAKhyE,IAAO,OAvEZ,GAAKwyE,EAAQF,SAqDN,CACH,MAAMG,EA/Fd,SAAkCC,GAc9B,IAAIpjD,EAAM,EAYV,OAXAphB,GAAK0jE,GAAS,SAAUY,EAASxyE,GACzBuyE,EAAQ/3E,QAAQwF,IAAQ,GAbhC,SAAsBitE,EAAIG,GACtB,QAAkB,IAAPH,QAAoC,IAAPG,EAAoB,OAAO,EACnE,QAAkB,IAAPA,QAAoC,IAAPH,EAAoB,OAAO,EACnE,GAAIA,EAAGlzE,SAAWqzE,EAAGrzE,OAAQ,OAAO,EAEpC,IAAK,IAAImH,EAAI,EAAGA,EAAI+rE,EAAGlzE,OAAQmH,IAC3B,IAA2B,IAAvBksE,EAAG5yE,QAAQyyE,EAAG/rE,IAAY,OAAO,EAEzC,OAAO,CACX,CAKSyxE,CAAaH,EAAQE,QAASA,IAChB,iBAARpjD,IACPkjD,EAAQN,WACRM,EAAQF,SACRhjD,EAAM,WAGVA,GAAO,GACX,IACOA,CACX,CAoEyBsjD,CAAyBJ,EAAQE,SAClD,IAAIG,EApEZ,SAAmC7/D,GAC/B,IAAId,EAAQ,EAMZ,OALAc,EAAQK,YAAWkB,IACX89D,EAAYG,EAASj+D,IACrBrC,GACJ,IAEGA,CACX,CA4DwB4gE,CAA0B9/D,GAG1Cg/D,EAAKhyE,GAAO,GACZgT,EAAQK,YAAW,SAAUkB,GACR,aAAbk+D,GAA2BT,EAAKhyE,GAAKjG,QAChC84E,GAAaJ,GAElBJ,EAAYG,EAASj+D,KACrBw9D,EAAYx9D,EAAEhW,SAAU,EACxByzE,EAAKhyE,GAAKrE,KAAK4Y,EAAEhW,QACjBs0E,IAER,GACJ,KArEuB,CACnB,MAAM5/C,EAAWzkB,GAAOwE,EAAQV,WAAWiC,GAAK89D,EAAYG,EAASj+D,KACrE,IAAIw+D,EACJ,GAAIP,EAAQQ,UAAW,CAEnB,MAAM35D,EAAQ,IAAI3e,OAAO83E,EAAQQ,UAAW,KAC5CD,EAAa/kE,GAAKilB,GAAU,SAAUvgB,GAClC,OACI2G,EAAM1e,KAAK+X,EAAInU,SACdmU,EAAIwB,UAAYxB,EAAInU,QAAU8a,EAAM1e,KAAK+X,EAAIwB,QAEtD,GACJ,CAGA,GADK6+D,IAAYA,EAAa9/C,EAAS,IACnC8/C,EACAhB,EAAYgB,EAAWx0E,SAAU,EACjCyzE,EAAKhyE,GAAO+yE,EAAWx0E,YAGvB,GAAI/D,GAAQg4E,EAAQE,QAAS,SAAW,EAAG,CAEvC,MAAMO,EAAoBzkE,GAAOwE,EAAQV,WAAW,SAAUI,GAC1D,OAAOlY,GAAQg4E,EAAQE,QAAShgE,EAAI1U,SAAW,CACnD,IACA,GAAIi1E,EAAkBl5E,OAClBi4E,EAAKhyE,GAAOizE,EAAkB,GAAG10E,WAC9B,CAEH,MAAMmU,EAAMO,GACRjT,EACA/F,GAAI4X,GAAMmB,EAAQI,YAAY,SAAUlS,GACpC,OACKA,EAAI,GAAK3G,OAAOy9B,aAAa,GAAK92B,EAAI,IAAM,IAC7C3G,OAAOy9B,aAAa,GAAM92B,EAAI,OAGtC,QAEJ8R,EAAQ0B,IAAIhC,GACZq/D,EAAYr/D,EAAInU,SAAU,EAC1ByzE,EAAKhyE,GAAO0S,EAAInU,MACpB,CACJ,MAAO,GAAI/D,GAAQg4E,EAAQE,QAAS,WAAa,EAAG,CAEhD,MAAMO,EAAoBzkE,GAAOwE,EAAQV,WAAW,SAAUI,GAC1D,OAAOlY,GAAQg4E,EAAQE,QAAShgE,EAAI1U,SAAW,CACnD,IACIi1E,EAAkBl5E,SAClBi4E,EAAKhyE,GAAOizE,EAAkB,GAAG10E,OAEzC,CAER,CAmBJ,IAGJ2P,GAAK8jE,GAAM,CAAC1/D,EAAStS,KACZ5D,EAAQkW,IAGT2/D,EAAcjyE,GAAO,GACrBkO,GAAKoE,GAAS,SAAUW,EAAQ/R,GAC5B+wE,EAAcjyE,GAAKkB,IAAgB,IAAX+R,EAAmBD,EAAQC,OAAOA,GAAU,IACxE,KALAg/D,EAAcjyE,IAAmB,IAAZsS,EAAoBU,EAAQC,OAAOX,GAAW,IAMvE,IAGG,CAAE0/D,OAAMC,gBAAeF,eAU9B,SAASM,EAAYG,EAASlgE,EAAS4gE,GAC9B92E,EAAQkW,KAAUA,EAAU,CAACA,IAClCA,EAAUA,EAAQrY,KAAIizB,GAAqB,iBAAPA,EAAkBla,EAAQC,OAAOia,GAAMA,IAC3E,IAAK,IAAIhsB,EAAI,EAAGA,EAAIoR,EAAQvY,OAAQmH,IAChC,IACMgyE,GAAoBnB,EAAYz/D,EAAQpR,GAAG3C,UACI,IAAjD/D,GAAQg4E,EAAQE,QAASpgE,EAAQpR,GAAGlD,QAEpC,OAAO,EAGf,OAAO,CACX,CACJ,CCvMA,MAAMu0B,GAAO,WAAc,EAACj3B,UAE5BuJ,GAAO0tB,GAAM,CAET4gD,sBAAuB,IACvBC,uBAAwB,IAExBC,QACI11E,KAAK21E,eAAiB,CAAE7jD,QAAS6oB,KAAU5pC,OAAQ4pC,MACnD36C,KAAK41E,kBAAoBpnE,GAASxO,KAAK61E,oBAAqB71E,KAAKy1E,uBACpE,EAEDK,iBAiBI,OAhBI91E,KAAK+1E,iBAAiB1nE,aAAarO,KAAK+1E,iBAC5C/1E,KAAK+1E,gBAAkBroE,YAAW,KAG9B1N,KAAK21E,eAAe5kE,OAAO6pC,KACvB,IAAIzvC,MAAO,iBAAgBnL,KAAKw1E,2BACnC,GACFx1E,KAAKw1E,uBACRx1E,KAAKg2E,YAAa,EAElBh2E,KAAKi2E,SAAW,GAChBj2E,KAAKk2E,YAAc,GAEfv0D,OAAOmH,QAAUnH,OAAOmH,OAAO2xB,aAC/B94B,OAAOmH,OAAO2xB,YAAY,uBAAwB,KAE/Cz6C,IACV,EAEDgL,OAAOukB,GACHA,EAAGlF,UAAY,eAClB,EAED8rD,MAAMA,GACF,OAAKh6E,UAAUC,QAKf4D,KAAKo2E,QAAUD,EACRn2E,MALyB,iBAAjBA,KAAKo2E,QAA6BC,GAAGF,MAAMn2E,KAAKo2E,SACpDp2E,KAAKo2E,OAKnB,EAEDE,UAAUA,GACN,OAAKn6E,UAAUC,QAIf4D,KAAKu2E,YAAcD,EACZt2E,MAJIA,KAAKu2E,aAAe,EAKlC,EAED/vC,OAAOA,GACH,OAAKrqC,UAAUC,QAIf4D,KAAKw2E,SAAWhwC,EACTxmC,MAJIA,KAAKw2E,QAKnB,EAED1jE,KAAKw2B,EAAO/S,GACR,MAAMlC,EAAKr0B,KACX,OAAK7D,UAAUC,QACfi4B,EAAGoiD,IAAMntC,EACTjV,EAAGqiD,IAAMngD,EACFlC,GAHuB,CAACA,EAAGoiD,IAAKpiD,EAAGqiD,IAI7C,EAKD7uE,IAAIqS,EAAKic,GACL,OAAOtuB,GAAI7H,KAAK82B,QAAQjvB,MAAO,sBAAwBqS,EAAM,IAAMA,EAAM,IAAKic,EACjF,EAEDW,MAAMA,GACF,IAAIzC,EAAKr0B,KACT,IAAK7D,UAAUC,OAAQ,OAAOi4B,EAAGsiD,QACjCtiD,EAAGhf,QAAUyhB,EAAMzhB,UACnBgf,EAAG8hD,MAAMr/C,EAAMq/C,SACf9hD,EAAGsiD,QAAU7/C,EAGbzC,EAAGuiD,iBAAcv6E,ECvGV,SAAUy6B,EAAOzhB,GAC5B,IAAKA,EAAQqB,cAAe,OAAOrB,EAEnC,MAAM6lC,EAAepkB,EAAMikB,YAAY,qBAAsB,CAAE,GACzDpkC,EAAS9Y,OAAOg5E,YAClBh5E,OAAOqvC,QAAQgO,GAAc5+C,KAAIqiB,IAAA,IAAEtc,EAAK8Y,GAAOwD,EAAA,MAAK,CAACtc,IAAO8Y,EAAOxE,OAAO,KAE9EtB,EAAQqB,cAAcC,EAE1B,CD+FQmgE,CAAqBhgD,EAAOzC,EAAGhf,SAG/B,MAAM5Z,QAAEA,GAAY44B,EAAGiiD,YACvB,GAAI76E,GAAWq7B,EAAMmmB,SAAWnmB,EAAMmmB,QAAQxhD,QAAS,CACnD,IACIA,EAAQwkD,SAAS,SAAU,KAAMnpB,EAAMmmB,QAAQxhD,QAClD,CAAC,MAAOI,GACL,KAAIA,aAAa0Q,WAGb,MAAM1Q,CAEd,CACAJ,EAAQ2uC,OAAO,KACnB,CAEA,OAAO/V,CACV,EAOD0iD,UAAUxnD,GACN,IAAKpzB,UAAUC,OAAQ,OAAO4D,KAAKg3E,YACnCh3E,KAAKg3E,YAAcznD,CACtB,EAKD0nD,eAAe1nD,GACX,IAAKpzB,UAAUC,OAAQ,OAAO4D,KAAKk3E,iBACnCl3E,KAAKk3E,iBAAmB3nD,CAC3B,EAED8kD,KAAK8C,EAAiBC,GAClB,MAAM/iD,EAAKr0B,KACLk0E,EAAWrsE,GAAIwsB,EAAGyC,QAAQjvB,MAAO,gBAAiB,CAAA,GAClDosE,EAAU1sE,GAAM8sB,EAAGgjD,KAAKhD,MAExBF,EAAet2E,OAAOg5E,YACxBh5E,OAAOqvC,QAAQ+mC,GACVpjE,QAAO8N,IAAA,IAAI24D,CAAAA,GAAK34D,EAAA,OAAK24D,EAAK/C,UAAY+C,EAAK9C,mBAAmB,IAC9Dl4E,KAAImgD,IAAA,IAAI66B,CAAAA,GAAK76B,EAAA,MAAK,CACf66B,EAAK9C,oBACLngD,EAAGyC,QAAQikB,YAAYu8B,EAAK9C,qBAAqB,GACpD,KAGT,IACK4C,GACD/iD,EAAGuiD,aACHpxE,GAAQ6uB,EAAGuiD,YAAY1C,SAAUA,IACjC1uE,GAAQ6uB,EAAGuiD,YAAYzC,aAAcA,IACrC9/C,EAAGuiD,YAAYpkD,YAAc6B,EAAGyC,QAAQikB,YAAY,kBAEpD,OAAO1mB,EAAGuiD,YAAYO,EAAkB,gBAAkB,QAG9D,MAAM9hE,EAAUgf,EAAGyC,QAAQzhB,WAErBg/D,KAAEA,EAAIC,cAAEA,GAAkBN,GAAgB,CAC5C3+D,UACA6+D,WACAD,UACAE,iBAWJ,OARA9/C,EAAGuiD,YAAc,CACbvC,KAAMA,EACNC,cAAeA,EACfJ,SAAU3sE,GAAM2sE,GAChBC,eACA3hD,UAAW6B,EAAGyC,QAAQikB,YAAY,mBAG/B1mB,EAAGuiD,YAAYO,EAAkB,gBAAkB,OAC7D,EAEDx4E,OACI,MAAM44E,EAAUv3E,KAAKq0E,OACrB,GAAIkD,EAAQC,OAAQ,CAChB,MAAMC,EAASz3E,KAAKqV,QAAQC,OAAOiiE,EAAQC,QACrC74E,EAAO,GAIb,OAHA84E,EAAOlnE,MAAKuF,IACRnX,EAAKX,KAAKpB,OAAOkZ,GAAK,IAEnBnX,CACX,CACA,MAAO,EACV,EAED+4E,SAASr1E,GACEA,EAOX29C,QACIhgD,KAAK4X,QACM5X,KAAKwmC,SACbnc,UAAY,GACfd,GAAO,qBACPA,GAAO,iBACV,EAED3R,QAAU,EAEVi+D,sBACI71E,KAAK21E,eAAe7jD,QAAQ8oB,OACxBj5B,OAAOmH,QAAUnH,OAAOmH,OAAO2xB,aAC/B/sC,YAAW,WACPiU,OAAOmH,OAAO2xB,YAAY,2BAA4B,IACzD,GAAE,KAEPpsC,aAAarO,KAAK+1E,iBAClB/1E,KAAKg2E,YAAa,EAClBh2E,KAAK23E,eACR,EAEDA,gBAAkB,EAOlBC,WACI,OAAO,IAAI/lD,SAAQ,CAACC,EAAS/gB,KACzB/Q,KAAK21E,eAAe7jD,QAAQ/a,IAAI+a,GAChC9xB,KAAK21E,eAAe5kE,OAAOgG,IAAIhG,EAAO,GAE7C,EAMD8mE,uBAAsBA,KACX,EAGXC,UAAUC,GACN,IAAK57E,UAAUC,OACX,OAAO4D,KAAKg4E,YAGhBh4E,KAAKg4E,YAAcD,CACtB,EAEDE,SAASF,GAAI,IAAAG,EAAAl4E,KACT,IAAK7D,UAAUC,OACX,OAAO,WACH,IAAI+7E,EAAKh8E,UAAAC,QAAAC,OAAAA,EAAAF,UAAU,GACnB,MAAMi8E,EAAmBF,EAAKG,YAAcH,EAAKI,mBAEjD,OADAJ,EAAKjC,SAASkC,GAAS,EACnBD,EAAKK,YACDH,IAAkBD,EAAQD,EAAKI,sBAAmBn8E,YAC/C+7E,EAAKK,WAAWJ,KAChBC,IACPD,EAAQD,EAAKI,sBAAmBn8E,YAE7Bg8E,IAIfn4E,KAAKu4E,WAAaR,CACrB,EAEDS,aAAa9vE,EAAIqvE,GACb/3E,KAAKy4E,mBAAqB/vE,EAC1B1I,KAAKs4E,mBAAqBP,CAC7B,EAKDW,SAASnP,GAGL,QADwBltE,IAApB2D,KAAKq4E,aAA0Br4E,KAAKq4E,YAAa,IAChDl8E,UAAUC,OAAQ,OAAO4D,KAAKq4E,WAC9Br4E,KAAKy4E,qBAEVz4E,KAAKq4E,WAAa9O,EAClBvpE,KAAKy4E,mBAAmBlP,GAC3B,EAEDoP,aACI,OAAO96E,OAAOc,KAAKqB,KAAKi2E,SAC3B,EAKD2C,GAAGC,EAAWxuC,GACLrqC,KAAKk2E,YAAY2C,KAClB74E,KAAKk2E,YAAY2C,GAAa,IAElC74E,KAAKk2E,YAAY2C,GAAW76E,KAAKqsC,EACpC,EAKDuQ,KAAKi+B,EAAWztE,GACRpL,KAAKk2E,aAAel2E,KAAKk2E,YAAY2C,IACrC74E,KAAKk2E,YAAY2C,GAAWzjE,SAAQ,SAAU1M,GACxB,mBAAPA,GAAmBA,EAAG0C,EACrC,GAEP,EAMD0tE,UAAU1mD,GACN,MAAM2mD,aAAEA,GAAiB/4E,KAAK82B,QAAQkiD,QAClCD,IAEA/4E,KAAK+2E,YAAY1sD,UAAa,yBAAwB+H,eAE1D5V,QAAQC,KAAK2V,EACjB,IEvUJ,MAAM6mD,GAAQ,CAAA,EAEd,SAASC,GAAcztE,EAAI+6B,GACvB,IAAKyyC,GAAMxtE,GAAK,CACZ+Q,QAAQC,KAAK,+BAAiChR,GAC9C,MAAM0tE,EAAQt7E,OAAOc,KAAKs6E,IAE1B,OADIE,EAAM/8E,OAAS,GAAGogB,QAAQC,KAAK,6BAA+B08D,EAAMj8E,KAAK,QACtE,CACX,CAaA,MAAMk8E,EAAM7xE,GAAMqtB,IAEZykD,EAbN,SAAoBD,GAChB,MAAMC,EAAU,GAEhB,KAAyB,SAAlBD,EAAIE,WACPF,EAAMH,GAAMG,EAAIE,WAChBD,EAAQr7E,KAAK,CAAEyN,GAAI2tE,EAAIE,UAAWF,QAGtC,OAAOC,EAAQ3nB,SACnB,CAIgB6nB,CAAWN,GAAMxtE,IAkBjC,OAjBA4tE,EAAQr7E,KAAK,CAAEyN,KAAI2tE,IAAKH,GAAMxtE,KAC9B4tE,EAAQjkE,SAAQma,IACZ1xB,OAAOw0B,OACH+mD,EACuB,mBAAhB7pD,EAAG6pD,IAAIp5C,KAAsBzQ,EAAG6pD,IAAIp5C,KAAK,CAAEwG,WAAYjX,EAAG6pD,IAAIp5C,KACrE,CAAEv0B,MACL,IAGL2tE,EAAI9C,UAAU4C,GAAc5C,WAExB9vC,GACA4yC,EAAI5yC,OAAOA,GAGf4yC,EAAI1D,QAEG0D,CACX,CAEAF,GAAcj5B,SAAW,SAAUx0C,GAC/B,IAAI6tE,EAAWt5C,EAEU,IAArB7jC,UAAUC,QACVk9E,EAAY,OACZt5C,EAAO7jC,UAAU,IACW,IAArBA,UAAUC,SACjBk9E,EAAYn9E,UAAU,GACtB6jC,EAAO7jC,UAAU,IAGrB88E,GAAMxtE,GAAM,CACR6tE,YACAt5C,OAER,EAEAk5C,GAAc92E,IAAM,SAAUqJ,GAC1B,YAAqBpP,IAAd48E,GAAMxtE,EACjB,EAEAytE,GAAc5C,UAAY,CACtB76E,WACAq4E,WAGJoF,GAActkD,KAAOA,GC3ErB,MAAM4kD,GAAW,CAAA,EAEjB,SAASrD,GAAM1qE,GACX,OAAO+tE,GAAS/tE,EACpB,CAEA0qE,GAAMl2B,SAAW,SAAUx0C,EAAIi+B,GAC3B8vC,GAAS/tE,GAAMi+B,CACnB,ECRA,MAAM+vC,GAAW,CAAA,EAEjB,SAASC,GAAMjuE,GACX,OAAOguE,GAAShuE,EACpB,CAEAiuE,GAAMz5B,SAAW,SAAUx0C,EAAIkuE,GAC3BF,GAAShuE,GAAMkuE,CACnB,EAEAD,GAAMt3E,IAAM,SAAUqJ,GAClB,YAAwBpP,IAAjBo9E,GAAShuE,EACpB,ECZA,IAAImuE,GAAkB,GCatBtkE,GAAOya,MAAQ/U,GAGf,MAAMq7D,GAAK,CACP5zD,QAAS,4BACTpN,UACAC,GACAukE,WAAY,CACRvoD,aACAgD,SAEJyuB,SACAjsB,MVJW,SAAU7L,GAErB,IAAI5V,EACA8gE,EACA2D,EACA1vC,EAEA8uC,EADAF,EAAQ,CAAA,EAGZ,MAAMe,EAAkBp/B,KAClBq/B,EAAyBr/B,KAEzBs/B,EAAU,CAAA,EAChB,IACIC,EADAC,EAAgB,CAAA,EAIpB,MAAMrjD,EAAQ,CAIVjvB,IAAGA,CAACxF,EAAK8zB,IACEtuB,GAAIojB,EAAY5oB,EAAK8zB,GAGhC4kB,YAAWA,CAAC14C,EAAK8zB,IACNtuB,GAAIojB,EAAa,YAAW5oB,IAAO8zB,GAG9CnW,IAAI3d,EAAK7F,GAIL,OAHIwjB,GAAIiL,EAAY5oB,EAAK7F,IACrBu9E,EAAgBn/B,KAAK9jB,EAAOz0B,EAAK7F,GAE9BwD,IACV,EAEDo6E,YAAWA,CAAC/3E,EAAK7F,IACNs6B,EAAM9W,IAAK,YAAW3d,IAAO7F,GAGxC69E,iBAAiBn6D,GACb,MAAMo6D,EAAapB,EAAc1yC,SAAS+zC,wBACpCC,EAAgBt6D,EAAQq6D,wBAE9B,MAAO,CACHxP,IAAKyP,EAAczP,IAAMuP,EAAWvP,IACpCz4D,MAAOkoE,EAAcloE,MAAQgoE,EAAWjoE,KACxCy4D,OAAQ0P,EAAc1P,OAASwP,EAAWvP,IAC1C14D,KAAMmoE,EAAcnoE,KAAOioE,EAAWjoE,KACtCi3B,MAAOkxC,EAAclxC,MACrB/S,OAAQikD,EAAcjkD,OAE7B,EAGDkkD,KAAK1kE,EAAK2kE,GACN,MAAMC,EAAS,CACXxoD,QAAS2E,EAAMjvB,IAAI,MACnB4qB,iBAAkBqE,EAAMjvB,IAAI,mCAAmC,GAC/D2qB,UAAWsE,EAAMjvB,IAAI,2BAA2B,KAG/CkO,GAAe,KAARA,GAAgB2kE,EACvBC,EAAOppD,IAAMmpD,GAAgB,WADQC,EAAO5kE,IAAMA,EAKvD,OAFmB+gB,EAAMjvB,IAAI,sBAAwBysB,GAAKqmD,GAAUrpD,GAAUqpD,IAE5DtlE,UAAUqc,MAAKkpD,IAC7B56E,KAAKqV,QAAQulE,GACbZ,EAAuBp/B,KAAK9jB,EAAO8jD,GAC5BA,IAEd,EAYDvlE,QAAQulE,GACJ,OAAIz+E,UAAUC,SACC,IAAPw+E,IAAaV,EAAMU,GACvBvlE,EAAUyhB,EAAMjvB,IAAI,sBACdqyE,EW7GP,SAAUpjD,EAAOzhB,GAC5B,IAAIwlE,EAAQ/jD,EAAMikB,YAAY,oBAAqB,IAInD,OAHI8/B,EAAMz+E,QAAUy+E,EAAMz+E,SAAWiZ,EAAQG,cACzCH,EAAQ8B,YAAY0jE,GAEjBxlE,CACX,CXwGsBylE,CAAehkD,EAAO+jB,GAAa/jB,EAAOskB,GAAmBtkB,EAAOojD,MAC/D,IAAPU,EAAoBvlE,EACjByhB,GAEJzhB,CACV,EASD0lE,WAAWH,GACPvlE,EAAUulE,CACb,EAGDzE,MAAM6E,GACF,OAAI7+E,UAAUC,QACV+5E,EAAQ6E,EACDlkD,GAEJq/C,GAAS,CAAA,CACnB,EAGDiD,IAAI6B,GACA,OAAI9+E,UAAUC,QACV88E,EAAgB+B,EAChB/B,EAAcpiD,MAAMA,GACbA,GAEJoiD,CACV,EAGDgC,eACI,IAAIC,EAAKrkD,EAAMjvB,IAAI,yCACnB,OAAOpJ,EAAQ08E,IAAOA,EAAG/+E,OAAS,CACrC,EAEDg/E,cAAch7E,GACV,QAAyB/D,IAArBkE,EAAYH,GAAoB,OAAO,EAC3C,MAAM+6E,EAAKrkD,EAAMjvB,IAAI,yCACfwzE,EAAUz6E,GAAKR,GACrB,OAAQ3B,EAAQ08E,IAAqB,IAAdA,EAAG/+E,QAAgBS,GAAQs+E,EAAIE,IAAY,CACrE,EAEDjxC,OAAOkxC,EAASjxC,GACZ,OAAIluC,UAAUC,QACVguC,EAASkxC,EAAQx+E,QAAQ,IAAK,KACzBstC,IAAQA,EAAS,SACE,mBAAbC,GAAyBA,IAC7BvT,GAEJsT,CACV,EAED0vC,aAAayB,GACT,OAAIp/E,UAAUC,QACV09E,EAAeyB,EACRzkD,GAEJgjD,CACV,EAED0B,SAAUA,KACN,IACI,OACI75D,OAAOmH,SAAWnH,QAClBA,OAAOmH,OAAOutD,IACd10D,OAAOmH,OAAOutD,GAAGoF,SACjB95D,OAAOmH,OAAOutD,GAAGoF,QAAQj3D,KAEhC,CAAC,MAAOk3D,GACL,OAAO,CACX,GAGJC,kBACI,MAAMxpD,EAAU2E,EAAMjvB,IAAI,OACpByyC,SAAEA,GAAa0+B,EACrB,OAAO4C,GAAUzpD,EAASmoB,EAC7B,EAGD0+B,MAAM6C,GACF,OAAI1/E,UAAUC,QACV48E,EAAQ6C,EACD/kD,GAEJkiD,CACV,EAQDhuE,OAAOisE,GACH,IAAKiC,IAAkB/C,IAAU9gE,EAC7B,MAAM,IAAIlK,MAAM,4BAGpB,MAAMmvC,EAAW0+B,EAAM1+B,SACjBy8B,EAAYjgD,EAAMsiD,MAAM5yC,SAE9B0yC,EAAcpiD,MAAMA,GACpBoiD,EAAcnC,UAAUA,GACxBmC,EAAcjC,eAAeA,GAG7B,MAAMtjD,EAAI2V,GAAMytC,GACVhmD,EAAIupB,EACJnR,KACArS,EAAMikB,YAAY,yBAA2B,IAE7C+gC,EAAahlD,EAAM2S,gBAGzB,GAAmB,UAAfqyC,EAAyBnoD,GAAK,EAAIA,GAAK,GAAK5C,GAAK,EAOjD,OANAvU,QAAQC,KAAK,gEAEbkF,OAAOo6D,cAAc/7E,KAAKg8E,oBAC1Bh8E,KAAKg8E,mBAAqBC,YAAYxhC,EAAa,UACnDA,IAMJw8B,EAAe//C,UAAUglD,OAAO,iBAAiC,QAAfJ,GAClD7E,EAAe//C,UAAUglD,OAAO,mBAAmC,UAAfJ,GAGpD,MAAMK,EAAat0E,GAAIsuE,EAAQ,OAAMr/C,EAAMz2B,wBAAyB,KAkBpE,SAASo6C,IACL,GAAIu+B,GAASA,EAAMnvC,SAAU,OAE7B,IAAIuyC,EAEJ,GAA8B,QAA1BtlD,EAAM2S,gBAA2B,CACjC,GAAI3S,EAAM0kD,aAAe1kD,EAAMikB,YAAY,wBAAyB,OACpEqhC,EAAgBvlD,KAAsBC,EAAMikB,YAAY,uBAC5D,MACIqhC,EAAgB/lD,GAAY90B,SAASw1B,cAAc,SAAS,GAGhE,GAAIx3B,KAAKm1B,MAAM/S,OAAOynB,eAAiB7pC,KAAKm1B,MAAM0nD,GAE9C,OAGJ,MAAMC,UAAEA,GAAcrD,EAGtBr3D,OAAOmH,OAAO2xB,YACV,CACI,qBAAsB,CAClB,CAAC3jB,EAAMjvB,MAAM4D,IAAK2wE,KACdC,EAAY,CAAEA,aAAc,KAGxC,KAIJ16D,OAAOmH,OAAO2xB,YACV,CACI6hC,SAAU,MACVj8E,KAAM,aACNk2B,OAAQ6lD,GAEZ,KAIJz6D,OAAOmH,OAAO2xB,YACVlmB,KAAK0B,UAAU,CACXorC,IAAKkb,SAASC,KACdp0E,QAAS,gBACTmuB,OAAQ6lD,IAEZ,KAG4C,mBAArCz6D,OAAO86D,2BACd96D,OAAO86D,0BAA0BL,EAEzC,CACA,OAvEAnF,EAAe//C,UAAUglD,OAAO,YAAajF,EAAeyF,aAAeP,GAG3ElF,EAAe//C,UAAUngB,IAAI,OAASmiE,EAAcztE,IAEpDytE,EAAcl5B,MAAM+2B,GACpBmC,EAAcpmE,KAAK6gB,EAAG5C,GACtBmoD,EAAcpD,iBAEdoD,EAAcluE,OAAO+rE,GAEjBz8B,IACA34B,OAAOo6D,cAAc/7E,KAAKg8E,oBAC1Bh8E,KAAKg8E,mBAAqBC,YAAYxhC,EAAa3jB,EAAM0kD,WAAa,GAAK,KAC3E/gC,KAyDGy+B,EAActB,UACxB,EAEDnuC,cAAaA,IACFA,GAAc,CACjBC,UAAWwvC,EAAc/C,QACzBxsC,kBAAmBuvC,EAAc7B,KACjCztC,YAAaovC,IAIrB/tD,WAAWhnB,GACP,GAAI9H,UAAUC,OAAQ,CAClB,MAAMi5B,EAAO+kB,GAAWnvB,EAAYhnB,GAMpC,OALAgnB,EAAahnB,EAEb04C,GAAoBtnB,GAAMjgB,SAAQ/S,IAC9B03E,EAAgBn/B,KAAK9jB,EAAOz0B,EAAKwF,GAAI5D,EAAO5B,GAAK,IAE9Cy0B,CACX,CACA,OAAO7L,CACV,EAGD0xD,SAAU5C,EAAgBhjE,IAC1B6lE,gBAAiB5C,EAAuBjjE,IAExC8lE,gBAAgBvnE,EAAQ/Y,GACpB,MAAMu+C,EAAUhkB,EAAMjvB,IAAI,wBAAyB,IAC7C2qB,EAAYsE,EAAMjvB,IAAI,2BAA2B,GACvD,IAAIi1E,GAAU,EAEd,MAAMjC,EAAQxlE,EAAQ8B,cActB,OAbA7B,EAASulE,EAAMvlE,GAEfwlC,EAAQ1lC,SAAQ4lC,IACZ,IAAInhC,EAAI,MACJjD,EAAI,SACJ4b,IACA3Y,EAAI,SACJjD,EAAI,OAEJtB,IAAW0lC,EAAOpkC,IAAMokC,EAAOnhC,KAAOtd,IACtCugF,GAAU,EACd,IAEGA,CACV,EAEDC,MAAMtxE,EAAIsxE,GACN,GAAyB,IAArB5gF,UAAUC,OACV,OAAO69E,EAAQxuE,GAGnBwuE,EAAQxuE,GAAMsxE,CACjB,EAEDC,aAAaz2E,GACT,OAAyB,IAArBpK,UAAUC,OACH+9E,GAGXA,EAAgB5zE,EAETvG,KACV,EAEDi9E,UAAU56E,GACN,IAAK83E,EAAc93E,GAAM,MAAO,YAAcA,EAC9C,IAAI66E,EAAc/C,EAAc93E,GAWhC,MAT2B,iBAAhB66E,GAA4B/gF,UAAUC,OAAS,IAEtD8gF,EAAcA,EAAYpgF,QAAQ,WAAW,CAAC4c,EAAGnW,KAC7CA,EAAI,EAAI9G,OAAO8G,QACMlH,IAAjBF,UAAUoH,GAAyBmW,EAChCvd,UAAUoH,OAIlB25E,CACX,GAOJ,OAJIjyD,EAAWkyD,UACXrmD,EAAMsT,OAAOnf,EAAWkyD,UAGrBrmD,CACX,EUhYIoiD,iBACA/C,SACAuD,SACA0D,OD3BJ,SAAgBC,GACZA,EAAa9zD,OAAS,KAClBqwD,GAAkBA,GAAgB/oE,QAAO2J,GAAKA,IAAM6iE,IACpD17D,OAAOmH,OAAOutD,GAAGoF,QAAQ7gC,KAAK,uBAAwBg/B,GAAgB,EAE1EA,GAAgB57E,KAAKq/E,GACrB,IAEI,OADA17D,OAAOmH,OAAOutD,GAAGoF,QAAQ7gC,KAAK,uBAAwBg/B,IAC/CyD,EAAa9zD,MACvB,CAAC,MAAOmyD,GACL,CAER,GCkBuB,oBAAZ9+D,SACe,oBAAXD,QAA0BA,OAAOC,UACxCA,QAAUD,OAAOC,QAAUy5D,IAE/Bz5D,QAAQy5D,GAAKA,IAEb10D,OAAO00D,GAAKA"}