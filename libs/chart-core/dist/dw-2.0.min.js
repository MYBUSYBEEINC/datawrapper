!function(){"use strict";function e(e){try{if(","===e.localeData().delimiters.decimal)return";"}catch(e){}return","}function t(e){let{delimiter:t=",",quoteChar:r='"',lineTerminator:n="\n"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((e=>e.map((e=>function(e,t,r){if(null==e||"number"==typeof e&&!Number.isFinite(e))return"";const n=String(e);return-1!==n.indexOf(r)?r+n.replace(new RegExp(r,"g"),r+r)+r:new RegExp(`[\n\r${t}]`).test(n)?r+n+r:n}(e,t,r))).join(t))).join(n)}var r={formatDelimited:t,guessDelimiterFromLocale:e},n="1.13.6",a="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},o=Array.prototype,i=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,u=o.push,c=o.slice,l=i.toString,f=i.hasOwnProperty,p="undefined"!=typeof ArrayBuffer,h="undefined"!=typeof DataView,d=Array.isArray,m=Object.keys,g=Object.create,v=p&&ArrayBuffer.isView,b=isNaN,y=isFinite,w=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_=Math.pow(2,53)-1;function E(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),a=0;a<r;a++)n[a]=arguments[a+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(a=0;a<t;a++)o[a]=arguments[a];return o[t]=n,e.apply(this,o)}}function x(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function A(e){return null===e}function O(e){return void 0===e}function N(e){return!0===e||!1===e||"[object Boolean]"===l.call(e)}function k(e){return!(!e||1!==e.nodeType)}function Y(e){var t="[object "+e+"]";return function(e){return l.call(e)===t}}var T=Y("String"),S=Y("Number"),D=Y("Date"),R=Y("RegExp"),C=Y("Error"),j=Y("Symbol"),I=Y("ArrayBuffer"),L=Y("Function"),F=a.document&&a.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof F&&(L=function(e){return"function"==typeof e||!1});var P=L,B=Y("Object"),U=h&&B(new DataView(new ArrayBuffer(8))),H="undefined"!=typeof Map&&B(new Map),z=Y("DataView");var $=U?function(e){return null!=e&&P(e.getInt8)&&I(e.buffer)}:z,G=d||Y("Array");function W(e,t){return null!=e&&f.call(e,t)}var V=Y("Arguments");!function(){V(arguments)||(V=function(e){return W(e,"callee")})}();var q=V;function J(e){return!j(e)&&y(e)&&!isNaN(parseFloat(e))}function K(e){return S(e)&&b(e)}function X(e){return function(){return e}}function Z(e){return function(t){var r=e(t);return"number"==typeof r&&r>=0&&r<=_}}function Q(e){return function(t){return null==t?void 0:t[e]}}var ee=Q("byteLength"),te=Z(ee),re=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var ne=p?function(e){return v?v(e)&&!$(e):te(e)&&re.test(l.call(e))}:X(!1),ae=Q("length");function oe(e,t){t=function(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(e){return!0===t[e]},push:function(r){return t[r]=!0,e.push(r)}}}(t);var r=M.length,n=e.constructor,a=P(n)&&n.prototype||i,o="constructor";for(W(e,o)&&!t.contains(o)&&t.push(o);r--;)(o=M[r])in e&&e[o]!==a[o]&&!t.contains(o)&&t.push(o)}function ie(e){if(!x(e))return[];if(m)return m(e);var t=[];for(var r in e)W(e,r)&&t.push(r);return w&&oe(e,t),t}function se(e){if(null==e)return!0;var t=ae(e);return"number"==typeof t&&(G(e)||T(e)||q(e))?0===t:0===ae(ie(e))}function ue(e,t){var r=ie(t),n=r.length;if(null==e)return!n;for(var a=Object(e),o=0;o<n;o++){var i=r[o];if(t[i]!==a[i]||!(i in a))return!1}return!0}function ce(e){return e instanceof ce?e:this instanceof ce?void(this._wrapped=e):new ce(e)}function le(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,ee(e))}ce.VERSION=n,ce.prototype.value=function(){return this._wrapped},ce.prototype.valueOf=ce.prototype.toJSON=ce.prototype.value,ce.prototype.toString=function(){return String(this._wrapped)};var fe="[object DataView]";function pe(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;return("function"===a||"object"===a||"object"==typeof t)&&he(e,t,r,n)}function he(e,t,r,n){e instanceof ce&&(e=e._wrapped),t instanceof ce&&(t=t._wrapped);var a=l.call(e);if(a!==l.call(t))return!1;if(U&&"[object Object]"==a&&$(e)){if(!$(t))return!1;a=fe}switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return s.valueOf.call(e)===s.valueOf.call(t);case"[object ArrayBuffer]":case fe:return he(le(e),le(t),r,n)}var o="[object Array]"===a;if(!o&&ne(e)){if(ee(e)!==ee(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var i=e.constructor,u=t.constructor;if(i!==u&&!(P(i)&&i instanceof i&&P(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return n[c]===t;if(r.push(e),n.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!pe(e[c],t[c],r,n))return!1}else{var f,p=ie(e);if(c=p.length,ie(t).length!==c)return!1;for(;c--;)if(!W(t,f=p[c])||!pe(e[f],t[f],r,n))return!1}return r.pop(),n.pop(),!0}function de(e,t){return pe(e,t)}function me(e){if(!x(e))return[];var t=[];for(var r in e)t.push(r);return w&&oe(e,t),t}function ge(e){var t=ae(e);return function(r){if(null==r)return!1;var n=me(r);if(ae(n))return!1;for(var a=0;a<t;a++)if(!P(r[e[a]]))return!1;return e!==Me||!P(r[ve])}}var ve="forEach",be=["clear","delete"],ye=["get","has","set"],we=be.concat(ve,ye),Me=be.concat(ye),_e=["add"].concat(be,ve,"has"),Ee=H?ge(we):Y("Map"),xe=H?ge(Me):Y("WeakMap"),Ae=H?ge(_e):Y("Set"),Oe=Y("WeakSet");function Ne(e){for(var t=ie(e),r=t.length,n=Array(r),a=0;a<r;a++)n[a]=e[t[a]];return n}function ke(e){for(var t=ie(e),r=t.length,n=Array(r),a=0;a<r;a++)n[a]=[t[a],e[t[a]]];return n}function Ye(e){for(var t={},r=ie(e),n=0,a=r.length;n<a;n++)t[e[r[n]]]=r[n];return t}function Te(e){var t=[];for(var r in e)P(e[r])&&t.push(r);return t.sort()}function Se(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||null==r)return r;for(var a=1;a<n;a++)for(var o=arguments[a],i=e(o),s=i.length,u=0;u<s;u++){var c=i[u];t&&void 0!==r[c]||(r[c]=o[c])}return r}}var De=Se(me),Re=Se(ie),Ce=Se(me,!0);function je(e){if(!x(e))return{};if(g)return g(e);var t=function(){};t.prototype=e;var r=new t;return t.prototype=null,r}function Ie(e,t){var r=je(e);return t&&Re(r,t),r}function Le(e){return x(e)?G(e)?e.slice():De({},e):e}function Fe(e,t){return t(e),e}function Pe(e){return G(e)?e:[e]}function Be(e){return ce.toPath(e)}function Ue(e,t){for(var r=t.length,n=0;n<r;n++){if(null==e)return;e=e[t[n]]}return r?e:void 0}function He(e,t,r){var n=Ue(e,Be(t));return O(n)?r:n}function ze(e,t){for(var r=(t=Be(t)).length,n=0;n<r;n++){var a=t[n];if(!W(e,a))return!1;e=e[a]}return!!r}function $e(e){return e}function Ge(e){return e=Re({},e),function(t){return ue(t,e)}}function We(e){return e=Be(e),function(t){return Ue(t,e)}}function Ve(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,a){return e.call(t,r,n,a)};case 4:return function(r,n,a,o){return e.call(t,r,n,a,o)}}return function(){return e.apply(t,arguments)}}function qe(e,t,r){return null==e?$e:P(e)?Ve(e,t,r):x(e)&&!G(e)?Ge(e):We(e)}function Je(e,t){return qe(e,t,1/0)}function Ke(e,t,r){return ce.iteratee!==Je?ce.iteratee(e,t):qe(e,t,r)}function Xe(e,t,r){t=Ke(t,r);for(var n=ie(e),a=n.length,o={},i=0;i<a;i++){var s=n[i];o[s]=t(e[s],s,e)}return o}function Ze(){}function Qe(e){return null==e?Ze:function(t){return He(e,t)}}function et(e,t,r){var n=Array(Math.max(0,e));t=Ve(t,r,1);for(var a=0;a<e;a++)n[a]=t(a);return n}function tt(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ce.toPath=Pe,ce.iteratee=Je;var rt=Date.now||function(){return(new Date).getTime()};function nt(e){var t=function(t){return e[t]},r="(?:"+ie(e).join("|")+")",n=RegExp(r),a=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(a,t):e}}var at={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ot=nt(at),it=nt(Ye(at)),st=ce.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},ut=/(.)^/,ct={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},lt=/\\|'|\r|\n|\u2028|\u2029/g;function ft(e){return"\\"+ct[e]}var pt=/^\s*(\w|\$)+\s*$/;function ht(e,t,r){!t&&r&&(t=r),t=Ce({},t,ce.templateSettings);var n=RegExp([(t.escape||ut).source,(t.interpolate||ut).source,(t.evaluate||ut).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(n,(function(t,r,n,i,s){return o+=e.slice(a,s).replace(lt,ft),a=s+t.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),t})),o+="';\n";var i,s=t.variable;if(s){if(!pt.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(s,"_",o)}catch(e){throw e.source=o,e}var u=function(e){return i.call(this,e,ce)};return u.source="function("+s+"){\n"+o+"}",u}function dt(e,t,r){var n=(t=Be(t)).length;if(!n)return P(r)?r.call(e):r;for(var a=0;a<n;a++){var o=null==e?void 0:e[t[a]];void 0===o&&(o=r,a=n),e=P(o)?o.call(e):o}return e}var mt=0;function gt(e){var t=++mt+"";return e?e+t:t}function vt(e){var t=ce(e);return t._chain=!0,t}function bt(e,t,r,n,a){if(!(n instanceof t))return e.apply(r,a);var o=je(e.prototype),i=e.apply(o,a);return x(i)?i:o}var yt=E((function(e,t){var r=yt.placeholder,n=function(){for(var a=0,o=t.length,i=Array(o),s=0;s<o;s++)i[s]=t[s]===r?arguments[a++]:t[s];for(;a<arguments.length;)i.push(arguments[a++]);return bt(e,n,this,this,i)};return n}));yt.placeholder=ce;var wt=E((function(e,t,r){if(!P(e))throw new TypeError("Bind must be called on a function");var n=E((function(a){return bt(e,n,t,this,r.concat(a))}));return n})),Mt=Z(ae);function _t(e,t,r,n){if(n=n||[],t||0===t){if(t<=0)return n.concat(e)}else t=1/0;for(var a=n.length,o=0,i=ae(e);o<i;o++){var s=e[o];if(Mt(s)&&(G(s)||q(s)))if(t>1)_t(s,t-1,r,n),a=n.length;else for(var u=0,c=s.length;u<c;)n[a++]=s[u++];else r||(n[a++]=s)}return n}var Et=E((function(e,t){var r=(t=_t(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=wt(e[n],e)}return e}));function xt(e,t){var r=function(n){var a=r.cache,o=""+(t?t.apply(this,arguments):n);return W(a,o)||(a[o]=e.apply(this,arguments)),a[o]};return r.cache={},r}var At=E((function(e,t,r){return setTimeout((function(){return e.apply(null,r)}),t)})),Ot=yt(At,ce,1);function Nt(e,t,r){var n,a,o,i,s=0;r||(r={});var u=function(){s=!1===r.leading?0:rt(),n=null,i=e.apply(a,o),n||(a=o=null)},c=function(){var c=rt();s||!1!==r.leading||(s=c);var l=t-(c-s);return a=this,o=arguments,l<=0||l>t?(n&&(clearTimeout(n),n=null),s=c,i=e.apply(a,o),n||(a=o=null)):n||!1===r.trailing||(n=setTimeout(u,l)),i};return c.cancel=function(){clearTimeout(n),s=0,n=a=o=null},c}function kt(e,t,r){var n,a,o,i,s,u=function(){var c=rt()-a;t>c?n=setTimeout(u,t-c):(n=null,r||(i=e.apply(s,o)),n||(o=s=null))},c=E((function(c){return s=this,o=c,a=rt(),n||(n=setTimeout(u,t),r&&(i=e.apply(s,o))),i}));return c.cancel=function(){clearTimeout(n),n=o=s=null},c}function Yt(e,t){return yt(t,e)}function Tt(e){return function(){return!e.apply(this,arguments)}}function St(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function Dt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Rt(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}var Ct=yt(Rt,2);function jt(e,t,r){t=Ke(t,r);for(var n,a=ie(e),o=0,i=a.length;o<i;o++)if(t(e[n=a[o]],n,e))return n}function It(e){return function(t,r,n){r=Ke(r,n);for(var a=ae(t),o=e>0?0:a-1;o>=0&&o<a;o+=e)if(r(t[o],o,t))return o;return-1}}var Lt=It(1),Ft=It(-1);function Pt(e,t,r,n){for(var a=(r=Ke(r,n,1))(t),o=0,i=ae(e);o<i;){var s=Math.floor((o+i)/2);r(e[s])<a?o=s+1:i=s}return o}function Bt(e,t,r){return function(n,a,o){var i=0,s=ae(n);if("number"==typeof o)e>0?i=o>=0?o:Math.max(o+s,i):s=o>=0?Math.min(o+1,s):o+s+1;else if(r&&o&&s)return n[o=r(n,a)]===a?o:-1;if(a!=a)return(o=t(c.call(n,i,s),K))>=0?o+i:-1;for(o=e>0?i:s-1;o>=0&&o<s;o+=e)if(n[o]===a)return o;return-1}}var Ut=Bt(1,Lt,Pt),Ht=Bt(-1,Ft);function zt(e,t,r){var n=(Mt(e)?Lt:jt)(e,t,r);if(void 0!==n&&-1!==n)return e[n]}function $t(e,t){return zt(e,Ge(t))}function Gt(e,t,r){var n,a;if(t=Ve(t,r),Mt(e))for(n=0,a=e.length;n<a;n++)t(e[n],n,e);else{var o=ie(e);for(n=0,a=o.length;n<a;n++)t(e[o[n]],o[n],e)}return e}function Wt(e,t,r){t=Ke(t,r);for(var n=!Mt(e)&&ie(e),a=(n||e).length,o=Array(a),i=0;i<a;i++){var s=n?n[i]:i;o[i]=t(e[s],s,e)}return o}function Vt(e){var t=function(t,r,n,a){var o=!Mt(t)&&ie(t),i=(o||t).length,s=e>0?0:i-1;for(a||(n=t[o?o[s]:s],s+=e);s>=0&&s<i;s+=e){var u=o?o[s]:s;n=r(n,t[u],u,t)}return n};return function(e,r,n,a){var o=arguments.length>=3;return t(e,Ve(r,a,4),n,o)}}var qt=Vt(1),Jt=Vt(-1);function Kt(e,t,r){var n=[];return t=Ke(t,r),Gt(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}function Xt(e,t,r){return Kt(e,Tt(Ke(t)),r)}function Zt(e,t,r){t=Ke(t,r);for(var n=!Mt(e)&&ie(e),a=(n||e).length,o=0;o<a;o++){var i=n?n[o]:o;if(!t(e[i],i,e))return!1}return!0}function Qt(e,t,r){t=Ke(t,r);for(var n=!Mt(e)&&ie(e),a=(n||e).length,o=0;o<a;o++){var i=n?n[o]:o;if(t(e[i],i,e))return!0}return!1}function er(e,t,r,n){return Mt(e)||(e=Ne(e)),("number"!=typeof r||n)&&(r=0),Ut(e,t,r)>=0}var tr=E((function(e,t,r){var n,a;return P(t)?a=t:(t=Be(t),n=t.slice(0,-1),t=t[t.length-1]),Wt(e,(function(e){var o=a;if(!o){if(n&&n.length&&(e=Ue(e,n)),null==e)return;o=e[t]}return null==o?o:o.apply(e,r)}))}));function rr(e,t){return Wt(e,We(t))}function nr(e,t){return Kt(e,Ge(t))}function ar(e,t,r){var n,a,o=-1/0,i=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=Mt(e)?e:Ne(e)).length;s<u;s++)null!=(n=e[s])&&n>o&&(o=n);else t=Ke(t,r),Gt(e,(function(e,r,n){((a=t(e,r,n))>i||a===-1/0&&o===-1/0)&&(o=e,i=a)}));return o}function or(e,t,r){var n,a,o=1/0,i=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=Mt(e)?e:Ne(e)).length;s<u;s++)null!=(n=e[s])&&n<o&&(o=n);else t=Ke(t,r),Gt(e,(function(e,r,n){((a=t(e,r,n))<i||a===1/0&&o===1/0)&&(o=e,i=a)}));return o}var ir=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function sr(e){return e?G(e)?c.call(e):T(e)?e.match(ir):Mt(e)?Wt(e,$e):Ne(e):[]}function ur(e,t,r){if(null==t||r)return Mt(e)||(e=Ne(e)),e[tt(e.length-1)];var n=sr(e),a=ae(n);t=Math.max(Math.min(t,a),0);for(var o=a-1,i=0;i<t;i++){var s=tt(i,o),u=n[i];n[i]=n[s],n[s]=u}return n.slice(0,t)}function cr(e){return ur(e,1/0)}function lr(e,t,r){var n=0;return t=Ke(t,r),rr(Wt(e,(function(e,r,a){return{value:e,index:n++,criteria:t(e,r,a)}})).sort((function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index})),"value")}function fr(e,t){return function(r,n,a){var o=t?[[],[]]:{};return n=Ke(n,a),Gt(r,(function(t,a){var i=n(t,a,r);e(o,t,i)})),o}}var pr=fr((function(e,t,r){W(e,r)?e[r].push(t):e[r]=[t]})),hr=fr((function(e,t,r){e[r]=t})),dr=fr((function(e,t,r){W(e,r)?e[r]++:e[r]=1})),mr=fr((function(e,t,r){e[r?0:1].push(t)}),!0);function gr(e){return null==e?0:Mt(e)?e.length:ie(e).length}function vr(e,t,r){return t in r}var br=E((function(e,t){var r={},n=t[0];if(null==e)return r;P(n)?(t.length>1&&(n=Ve(n,t[1])),t=me(e)):(n=vr,t=_t(t,!1,!1),e=Object(e));for(var a=0,o=t.length;a<o;a++){var i=t[a],s=e[i];n(s,i,e)&&(r[i]=s)}return r})),yr=E((function(e,t){var r,n=t[0];return P(n)?(n=Tt(n),t.length>1&&(r=t[1])):(t=Wt(_t(t,!1,!1),String),n=function(e,r){return!er(t,r)}),br(e,n,r)}));function wr(e,t,r){return c.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))}function Mr(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[0]:wr(e,e.length-t)}function _r(e,t,r){return c.call(e,null==t||r?1:t)}function Er(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[e.length-1]:_r(e,Math.max(0,e.length-t))}function xr(e){return Kt(e,Boolean)}function Ar(e,t){return _t(e,t,!1)}var Or=E((function(e,t){return t=_t(t,!0,!0),Kt(e,(function(e){return!er(t,e)}))})),Nr=E((function(e,t){return Or(e,t)}));function kr(e,t,r,n){N(t)||(n=r,r=t,t=!1),null!=r&&(r=Ke(r,n));for(var a=[],o=[],i=0,s=ae(e);i<s;i++){var u=e[i],c=r?r(u,i,e):u;t&&!r?(i&&o===c||a.push(u),o=c):r?er(o,c)||(o.push(c),a.push(u)):er(a,u)||a.push(u)}return a}var Yr=E((function(e){return kr(_t(e,!0,!0))}));function Tr(e){for(var t=[],r=arguments.length,n=0,a=ae(e);n<a;n++){var o=e[n];if(!er(t,o)){var i;for(i=1;i<r&&er(arguments[i],o);i++);i===r&&t.push(o)}}return t}function Sr(e){for(var t=e&&ar(e,ae).length||0,r=Array(t),n=0;n<t;n++)r[n]=rr(e,n);return r}var Dr=E(Sr);function Rr(e,t){for(var r={},n=0,a=ae(e);n<a;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function Cr(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),a=Array(n),o=0;o<n;o++,e+=r)a[o]=e;return a}function jr(e,t){if(null==t||t<1)return[];for(var r=[],n=0,a=e.length;n<a;)r.push(c.call(e,n,n+=t));return r}function Ir(e,t){return e._chain?ce(t).chain():t}function Lr(e){return Gt(Te(e),(function(t){var r=ce[t]=e[t];ce.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),Ir(this,r.apply(ce,e))}})),ce}Gt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=o[e];ce.prototype[e]=function(){var r=this._wrapped;return null!=r&&(t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0]),Ir(this,r)}})),Gt(["concat","join","slice"],(function(e){var t=o[e];ce.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Ir(this,e)}}));var Fr=Lr(Object.freeze({__proto__:null,VERSION:n,restArguments:E,isObject:x,isNull:A,isUndefined:O,isBoolean:N,isElement:k,isString:T,isNumber:S,isDate:D,isRegExp:R,isError:C,isSymbol:j,isArrayBuffer:I,isDataView:$,isArray:G,isFunction:P,isArguments:q,isFinite:J,isNaN:K,isTypedArray:ne,isEmpty:se,isMatch:ue,isEqual:de,isMap:Ee,isWeakMap:xe,isSet:Ae,isWeakSet:Oe,keys:ie,allKeys:me,values:Ne,pairs:ke,invert:Ye,functions:Te,methods:Te,extend:De,extendOwn:Re,assign:Re,defaults:Ce,create:Ie,clone:Le,tap:Fe,get:He,has:ze,mapObject:Xe,identity:$e,constant:X,noop:Ze,toPath:Pe,property:We,propertyOf:Qe,matcher:Ge,matches:Ge,times:et,random:tt,now:rt,escape:ot,unescape:it,templateSettings:st,template:ht,result:dt,uniqueId:gt,chain:vt,iteratee:Je,partial:yt,bind:wt,bindAll:Et,memoize:xt,delay:At,defer:Ot,throttle:Nt,debounce:kt,wrap:Yt,negate:Tt,compose:St,after:Dt,before:Rt,once:Ct,findKey:jt,findIndex:Lt,findLastIndex:Ft,sortedIndex:Pt,indexOf:Ut,lastIndexOf:Ht,find:zt,detect:zt,findWhere:$t,each:Gt,forEach:Gt,map:Wt,collect:Wt,reduce:qt,foldl:qt,inject:qt,reduceRight:Jt,foldr:Jt,filter:Kt,select:Kt,reject:Xt,every:Zt,all:Zt,some:Qt,any:Qt,contains:er,includes:er,include:er,invoke:tr,pluck:rr,where:nr,max:ar,min:or,shuffle:cr,sample:ur,sortBy:lr,groupBy:pr,indexBy:hr,countBy:dr,partition:mr,toArray:sr,size:gr,pick:br,omit:yr,first:Mr,head:Mr,take:Mr,initial:wr,last:Er,rest:_r,tail:_r,drop:_r,compact:xr,flatten:Ar,without:Nr,uniq:kr,unique:kr,union:Yr,intersection:Tr,difference:Or,unzip:Sr,transpose:Sr,zip:Dr,object:Rr,range:Cr,chunk:jr,mixin:Lr,default:ce}));Fr._=Fr;var Pr=Object.freeze({__proto__:null,default:Fr,VERSION:n,restArguments:E,isObject:x,isNull:A,isUndefined:O,isBoolean:N,isElement:k,isString:T,isNumber:S,isDate:D,isRegExp:R,isError:C,isSymbol:j,isArrayBuffer:I,isDataView:$,isArray:G,isFunction:P,isArguments:q,isFinite:J,isNaN:K,isTypedArray:ne,isEmpty:se,isMatch:ue,isEqual:de,isMap:Ee,isWeakMap:xe,isSet:Ae,isWeakSet:Oe,keys:ie,allKeys:me,values:Ne,pairs:ke,invert:Ye,functions:Te,methods:Te,extend:De,extendOwn:Re,assign:Re,defaults:Ce,create:Ie,clone:Le,tap:Fe,get:He,has:ze,mapObject:Xe,identity:$e,constant:X,noop:Ze,toPath:Pe,property:We,propertyOf:Qe,matcher:Ge,matches:Ge,times:et,random:tt,now:rt,escape:ot,unescape:it,templateSettings:st,template:ht,result:dt,uniqueId:gt,chain:vt,iteratee:Je,partial:yt,bind:wt,bindAll:Et,memoize:xt,delay:At,defer:Ot,throttle:Nt,debounce:kt,wrap:Yt,negate:Tt,compose:St,after:Dt,before:Rt,once:Ct,findKey:jt,findIndex:Lt,findLastIndex:Ft,sortedIndex:Pt,indexOf:Ut,lastIndexOf:Ht,find:zt,detect:zt,findWhere:$t,each:Gt,forEach:Gt,map:Wt,collect:Wt,reduce:qt,foldl:qt,inject:qt,reduceRight:Jt,foldr:Jt,filter:Kt,select:Kt,reject:Xt,every:Zt,all:Zt,some:Qt,any:Qt,contains:er,includes:er,include:er,invoke:tr,pluck:rr,where:nr,max:ar,min:or,shuffle:cr,sample:ur,sortBy:lr,groupBy:pr,indexBy:hr,countBy:dr,partition:mr,toArray:sr,size:gr,pick:br,omit:yr,first:Mr,head:Mr,take:Mr,initial:wr,last:Er,rest:_r,tail:_r,drop:_r,compact:xr,flatten:Ar,without:Nr,uniq:kr,unique:kr,union:Yr,intersection:Tr,difference:Or,unzip:Sr,transpose:Sr,zip:Dr,object:Rr,range:Cr,chunk:jr,mixin:Lr});function Br(r){const n={},a=r.slice(0);function o(e){const t=e.name();let r,a,o;for(t?(r=t,a=0,o=r):(r="X",a=1,o=`${r}.${a}`);Object.prototype.hasOwnProperty.call(n,o);)o=`${r}.${++a}`;o!==t&&e.name(o,t)}r.forEach((e=>{o(e),n[e.name()]=e}));const i={columns:()=>r,column(e){if(T(e)){if(void 0!==n[e])return n[e];throw new Error('No column found with that name: "'+e+'"')}if(!(e<0)){if(void 0!==r[e])return r[e];throw new Error("No column found with that name or index: "+e)}},numColumns:()=>r.length,numRows:()=>r.length?r[0].length:0,eachColumn(e){r.forEach(e)},hasColumn:e=>void 0!==(T(e)?n[e]:r[e]),indexOf:e=>i.hasColumn(e)?r.indexOf(n[e]):-1,list:()=>r.length?Cr(r[0].length).map(i.row):[],row(e){if(!r.length||e>=r[0].length)return{};const t={};return r.forEach((r=>{t[r.name()]=r.val(e)})),t},csv(){let{includeComputedColumns:n=!0,includeHeader:o=!0,includeOrder:s=!0,includeFiltered:u=!1,numeral:c=null,...l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r.length)return"";const f=i.numRows(),p=(s?r:a).filter((e=>!(!n&&e.isComputed)&&!(!u&&-1===r.indexOf(e)))).map((e=>[...o?[e.title()]:[],...e.formatted(c)])),h=p[0].map(((e,t)=>p.map((e=>e[t])))).slice(0,f+1);return!l.delimiter&&c&&(l.delimiter=e(c)),t(h,l)},toCSV(){return this.csv(...arguments)},filterColumns:e=>(r=r.filter((t=>!e[t.name()])),Gt(e,((e,t)=>{e&&n[t]&&delete n[t]})),i),eachRow(e){var t;for(t=0;t<i.numRows();t++)e(t);return i},add:e=>(o(e),r.push(e),n[e.name()]=e,a.push(e),i),limitRows:e=>(r.forEach((t=>{t.limitRows(e)})),i),limitColumns:e=>(r.length>e&&(r.length=e,a.length=e),i),columnOrder(e){if(arguments.length){const t=r.map(((t,n)=>{const a=e.indexOf(n);return[t,-1!==a?a:r.length]}));return r=t.sort(((e,t)=>e[1]-t[1])).map((e=>e[0])),i}return r.map((function(e){return a.indexOf(e)}))},align(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=Math.max(...r.map((e=>e.length)));for(const n of r){const r=Array(t-n.length).fill(e);n.add(...r)}},clone:()=>Br(r.map((e=>e.clone()))),clear(){for(const e of r)e.clear()},deleteRow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.sort();for(const e of r){let r=0;t.forEach((t=>{const n=e.deleteRow(t-r);r+=n.length}))}return i}};return i}const Ur=/^ */.source,Hr=/[*']* *$/.source,zr=/[ \-/.]?/.source,$r=/[ \-/.]/.source,Gr=/[ \-/.;,]/.source,Wr=/[ \-|T]/.source,Vr=/[ \-/.m]/.source,qr={YY:{parse:/['’‘]?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(AM|PM)?/}},Jr={0:["JAN","JANUARY","JANUAR","JÄNNER","JÄN","JANV","JANVIER","ENE","ENERO","GEN","GENNAIO","JANEIRO"],1:["FEB","FEBRUARY","FEBR","FEBRUAR","FÉV","FÉVR","FÉVRIER","FEBRERO","FEBBRAIO","FEV","FEVEREIRO"],2:["MAR","MÄR","MARCH","MRZ","MÄRZ","MARS","MARS","MARZO","MARZO","MARÇO"],3:["APR","APRIL","APR","APRIL","AVR","AVRIL","ABR","ABRIL","APRILE"],4:["MAY","MAI","MAYO","MAG","MAGGIO","MAIO","MAJ"],5:["JUN","JUNE","JUNI","JUIN","JUNIO","GIU","GIUGNO","JUNHO"],6:["JUL","JULY","JULI","JUIL","JUILLET","JULIO","LUG","LUGLIO","JULHO"],7:["AUG","AUGUST","AOÛT","AGO","AGOSTO"],8:["SEP","SEPTEMBER","SEPT","SEPTEMBRE","SEPTIEMBRE","SET","SETTEMBRE","SETEMBRO"],9:["OCT","OCTOBER","OKT","OKTOBER","OCTOBRE","OCTUBRE","OTT","OTTOBRE","OUT","OUTUBRO"],10:["NOV","NOVEMBER","NOVEMBER","NOVEMBRE","NOVIEMBRE","NOVEMBRE","NOVEMBRO"],11:["DEC","DECEMBER","DEZ","DES","DEZEMBER","DÉC","DÉCEMBRE","DIC","DICIEMBRE","DICEMBRE","DESEMBER","DEZEMBRO"]},Kr={};Gt(Jr,(function(e,t){Gt(e,(function(e){Kr[e]=t}))})),qr.MMM={parse:new RegExp("("+Ar(Ne(Jr)).join("|")+")")};const Xr=/^(?:([1-9]\d{3})(-?)(?:(0\d|1[012]))\2(0\d|1\d|2\d|3[01]))T([01]\d|2[0-3])(:?)([0-5]\d)(?:\6([0-5]\d)(?:\.(\d{3}))?)?(Z|[+-][01]\d(?:\6[0-5]\d)?)$/;Gt(qr,(function(e){e.parse=e.parse.source,R(e.test)?e.test=e.test.source:e.test=e.parse}));var Zr={YYYY:{test:Qr(qr.YYYY2.test),parse:Qr(qr.YYYY2.parse),precision:"year"},"YYYY-H":{test:Qr(qr.YYYY.test,zr,qr.H.test),parse:Qr(qr.YYYY.parse,zr,qr.H.parse),precision:"half"},"H-YYYY":{test:Qr(qr.H.test,$r,qr.YYYY.test),parse:Qr(qr.H.parse,$r,qr.YYYY.parse),precision:"half"},"YYYY-Q":{test:Qr(qr.YYYY.test,zr,qr.Q.test),parse:Qr(qr.YYYY.parse,zr,qr.Q.parse),precision:"quarter"},"Q-YYYY":{test:Qr(qr.Q.test,$r,qr.YYYY.test),parse:Qr(qr.Q.parse,$r,qr.YYYY.parse),precision:"quarter"},"YYYY-M":{test:Qr(qr.YYYY.test,Vr,qr.MM.test),parse:Qr(qr.YYYY.parse,Vr,qr.MM.parse),precision:"month"},"M-YYYY":{test:Qr(qr.MM.test,$r,qr.YYYY.test),parse:Qr(qr.MM.parse,$r,qr.YYYY.parse),precision:"month"},"YYYY-MMM":{test:Qr(qr.YYYY.test,$r,qr.MMM.parse),parse:Qr(qr.YYYY.parse,$r,qr.MMM.parse),precision:"month"},"MMM-YYYY":{test:Qr(qr.MMM.parse,$r,qr.YYYY.test),parse:Qr(qr.MMM.parse,$r,qr.YYYY.parse),precision:"month"},"MMM-YY":{test:Qr(qr.MMM.parse,$r,qr.YY.test),parse:Qr(qr.MMM.parse,$r,qr.YY.parse),precision:"month"},MMM:{test:Qr(qr.MMM.parse),parse:Qr(qr.MMM.parse),precision:"month"},"YYYY-WW":{test:Qr(qr.YYYY.test,zr,qr.W.test),parse:Qr(qr.YYYY.parse,zr,qr.W.parse),precision:"week"},"WW-YYYY":{test:Qr(qr.W.test,$r,qr.YYYY.test),parse:Qr(qr.W.parse,$r,qr.YYYY.parse),precision:"week"},"MM/DD/YYYY":{test:Qr(qr.MM.test,"([\\-\\/])",qr.DD.test,"\\2",qr.YYYY.test),parse:Qr(qr.MM.parse,"([\\-\\/])",qr.DD.parse,"\\2",qr.YYYY.parse),precision:"day"},"MM/DD/YY":{test:Qr(qr.MM.test,"([\\-\\/])",qr.DD.test,"\\2",qr.YY.test),parse:Qr(qr.MM.parse,"([\\-\\/])",qr.DD.parse,"\\2",qr.YY.parse),precision:"day"},"DD/MM/YY":{test:Qr(qr.DD.test,"([\\-\\.\\/ ?])",qr.MM.test,"\\2",qr.YY.test),parse:Qr(qr.DD.parse,"([\\-\\.\\/ ?])",qr.MM.parse,"\\2",qr.YY.parse),precision:"day"},"DD/MM/YYYY":{test:Qr(qr.DD.test,"([\\-\\.\\/ ?])",qr.MM.test,"\\2",qr.YYYY.test),parse:Qr(qr.DD.parse,"([\\-\\.\\/ ?])",qr.MM.parse,"\\2",qr.YYYY.parse),precision:"day"},"DD/MMM/YYYY":{test:Qr(qr.DD.test,"([\\-\\.\\/ ?])",qr.MMM.test,"\\2",qr.YYYY.test),parse:Qr(qr.DD.parse,"([\\-\\.\\/ ?])",qr.MMM.parse,"\\2",qr.YYYY.parse),precision:"day"},"DD/MMM/YY":{test:Qr(qr.DD.test,"([\\-\\.\\/ ?])",qr.MMM.test,"\\2",qr.YY.test),parse:Qr(qr.DD.parse,"([\\-\\.\\/ ?])",qr.MMM.parse,"\\2",qr.YY.parse),precision:"day"},"YYYY-MM-DD":{test:Qr(qr.YYYY.test,"([\\-\\.\\/ ?])",qr.MM.test,"\\2",qr.DD.test),parse:Qr(qr.YYYY.parse,"([\\-\\.\\/ ?])",qr.MM.parse,"\\2",qr.DD.parse),precision:"day"},"MMM-DD-YYYY":{test:Qr(qr.MMM.test,$r,qr.DD.test,Gr,qr.YYYY.test),parse:Qr(qr.MMM.parse,$r,qr.DD.parse,Gr,qr.YYYY.parse),precision:"day"},"YYYY-WW-d":{test:Qr(qr.YYYY.test,zr,qr.W.test,$r,qr.DOW.test),parse:Qr(qr.YYYY.parse,zr,qr.W.parse,$r,qr.DOW.parse),precision:"day"},"MM/DD/YYYY HH:MM":{test:Qr(qr.MM.test,"([\\-\\/])",qr.DD.test,"\\2",qr.YYYY.test,Wr,qr.HHMM.test),parse:Qr(qr.MM.parse,"([\\-\\/])",qr.DD.parse,"\\2",qr.YYYY.parse,Wr,qr.HHMM.parse),precision:"day-minutes"},"DD.MM.YYYY HH:MM":{test:Qr(qr.DD.test,"([\\-\\.\\/ ?])",qr.MM.test,"\\2",qr.YYYY.test,Wr,qr.HHMM.test),parse:Qr(qr.DD.parse,"([\\-\\.\\/ ?])",qr.MM.parse,"\\2",qr.YYYY.parse,Wr,qr.HHMM.parse),precision:"day-minutes"},"YYYY-MM-DD HH:MM":{test:Qr(qr.YYYY.test,"([\\-\\.\\/ ?])",qr.MM.test,"\\2",qr.DD.test,Wr,qr.HHMM.test),parse:Qr(qr.YYYY.parse,"([\\-\\.\\/ ?])",qr.MM.parse,"\\2",qr.DD.parse,Wr,qr.HHMM.parse),precision:"day-minutes"},ISO8601:{test:Xr,parse:Xr,precision:"day-seconds"}};function Qr(){return new RegExp(Ur+Array.prototype.slice.call(arguments).join(" *")+Hr,"i")}function en(e,t){var r=Zr[t];return R(r.test)?r.test.test(e):r.test(e,t)}function tn(e,t,r){var n=new Date(Date.UTC(e,0,3));return n.setUTCDate(3-n.getUTCDay()+7*(t-1)+parseInt(r,10)),n}function rn(e,t){return 12!==e?e+("PM"===t?12:0):"AM"===t?0:12}var nn={text:function(){return{parse:$e,errors:function(){return 0},name:function(){return"text"},isValid:function(){return!0},format:function(){}}},number:function(e){let t,r=0;const n={"-.":/^ *[-–—−]?[0-9]*(\.[0-9]+)?(e[+-][0-9]+)?%? *$/,"-,":/^ *[-–—−]?[0-9]*(,[0-9]+)?%? *$/,",.":/^ *[-–—−]?[0-9]{1,3}(,[0-9]{3})*(\.[0-9]+)?%? *$/,".,":/^ *[-–—−]?[0-9]{1,3}(\.[0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(,[0-9]+)?%? *$/,"'.":/^ *[-–—−]?[0-9]{1,3}('[0-9]{3})*(\.[0-9]+)?%? *$/},a={"-.":"1234.56","-,":"1234,56",",.":"1,234.56",".,":"1.234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"},o={na:1,"n/a":1,"-":1,":":1},i={},s=["-.",0];Gt(e=e||[],(function(e){Gt(n,(function(t,r){void 0===i[r]&&(i[r]=0),t.test(e)&&(i[r]+=1,i[r]>s[1]&&(s[0]=r,s[1]=i[r]))}))})),t=s[0];var u={parse:function(e){if(S(e)||O(e)||A(e))return e;var n=e.replace("%","").replace("−","-").replace(/[   ]/g,"").replace("–","-").replace("—","-");return"-"!==t[0]&&(n=n.replace(new RegExp("."===t[0]?"\\.":t[0],"g"),"")),"."!==t[1]&&(n=n.replace(t[1],".")),isNaN(n)||""===n?(o[n.toLowerCase()]||""===n||r++,e):Number(n)},toNum:function(e){return e},fromNum:function(e){return e},errors:function(){return r},name:function(){return"number"},isValid:function(e){return""===e||o[String(e).toLowerCase()]||S(u.parse(e))},ambiguousFormats:function(){var e=[];return Gt(i,(function(t,r){t===s[1]&&e.push([r,a[r]])})),e},format:function(e){return arguments.length?(t=e,u):t}};return u},date:function(e){let t,r=0;const n={},a=["",0];e=e||[],Gt(Zr,(function(t,r){Gt(e,(function(e){void 0===n[r]&&(n[r]=0),en(String(e).toUpperCase(),r)&&(n[r]+=1,n[r]>a[1]&&(a[0]=r,a[1]=n[r]))}))})),t=a[0];const o={parse:function(e){if(D(e)||O(e))return e;if(!t||!T(e))return r++,e;var n,a,o,i=(n=e.toUpperCase(),o=Zr[a=t],R(o.parse)?n.match(o.parse):o.parse(n,a));if(!i)return r++,e;function s(e){return(e=+e)<30?2e3+e:1900+e}en(e,t)||r++;var u=(new Date).getFullYear();switch(t){case"YYYY":return new Date(i[1],0,1);case"YYYY-H":return new Date(i[1],6*(i[2]-1),1);case"H-YYYY":return new Date(i[2],6*(i[1]-1),1);case"YYYY-Q":return new Date(i[1],3*(i[2]-1),1);case"Q-YYYY":return new Date(i[2],3*(i[1]-1),1);case"YYYY-M":return new Date(i[1],i[2]-1,1);case"M-YYYY":return new Date(i[2],i[1]-1,1);case"YYYY-MMM":return new Date(+i[1],Kr[i[2]],1);case"MMM-YYYY":return new Date(+i[2],Kr[i[1]],1);case"MMM-YY":return new Date(s(+i[2]),Kr[i[1]],1);case"MMM":return new Date(u,Kr[i[1]],1);case"YYYY-WW":return tn(i[1],i[2],1);case"WW-YYYY":return tn(i[2],i[1],1);case"YYYY-WW-d":return tn(i[1],i[2],i[3]);case"YYYY-MM-DD":return new Date(i[1],i[3]-1,i[4]);case"DD/MM/YYYY":return new Date(i[4],i[3]-1,i[1]);case"DD/MMM/YYYY":return new Date(i[4],Kr[i[3]],i[1]);case"DD/MMM/YY":return new Date(s(i[4]),Kr[i[3]],i[1]);case"MM/DD/YYYY":return new Date(i[4],i[1]-1,i[3]);case"MM/DD/YY":return new Date(s(i[4]),i[1]-1,i[3]);case"DD/MM/YY":return new Date(s(i[4]),i[3]-1,i[1]);case"MMM-DD-YYYY":return new Date(i[3],Kr[i[1]],i[2]);case"YYYY-MM-DD HH:MM":return new Date(+i[1],i[3]-1,+i[4],rn(+i[5],i[8]),+i[6]||0,+i[7]||0);case"DD.MM.YYYY HH:MM":return new Date(+i[4],i[3]-1,+i[1],rn(+i[5],i[8]),+i[6]||0,+i[7]||0);case"MM/DD/YYYY HH:MM":return new Date(+i[4],i[1]-1,+i[3],rn(+i[5],i[8]),+i[6]||0,+i[7]||0);case"ISO8601":return new Date(`${i[1]}-${i[3]}-${i[4]}T${i[5]}:${i[7]}:${i[8]||"00"}.${i[9]||"000"}${i[10]||""}`);default:console.warn("unknown format",t)}return r++,e},toNum:function(e){return D(e)?e.getTime():Number.NaN},fromNum:function(e){return new Date(e)},errors:function(){return r},name:function(){return"date"},format:function(e){return arguments.length?(t=e,o):t},precision:function(){return Zr[t].precision},isValid:function(e){return D(o.parse(e))},ambiguousFormats:function(){var e=[];return Gt(n,(function(t,r){t===a[1]&&e.push([r,r])})),e}};return o}},an="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function on(e){var t=e.default;if("function"==typeof t){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var sn,un={exports:{}};
/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function cn(){return sn||(sn=1,function(e,t){e.exports=function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,r){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,r)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function n(e,a,o){return n=r()?Reflect.construct:function(e,r,n){var a=[null];a.push.apply(a,r);var o=new(Function.bind.apply(e,a));return n&&t(o,n.prototype),o},n.apply(null,arguments)}function a(e){return o(e)||i(e)||s(e)||c()}function o(e){if(Array.isArray(e))return u(e)}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=Object.hasOwnProperty,f=Object.setPrototypeOf,p=Object.isFrozen,h=Object.getPrototypeOf,d=Object.getOwnPropertyDescriptor,m=Object.freeze,g=Object.seal,v=Object.create,b="undefined"!=typeof Reflect&&Reflect,y=b.apply,w=b.construct;y||(y=function(e,t,r){return e.apply(t,r)}),m||(m=function(e){return e}),g||(g=function(e){return e}),w||(w=function(e,t){return n(e,a(t))});var M=S(Array.prototype.forEach),_=S(Array.prototype.pop),E=S(Array.prototype.push),x=S(String.prototype.toLowerCase),A=S(String.prototype.match),O=S(String.prototype.replace),N=S(String.prototype.indexOf),k=S(String.prototype.trim),Y=S(RegExp.prototype.test),T=D(TypeError);function S(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return y(e,t,n)}}function D(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(e,r)}}function R(e,t,r){r=r||x,f&&f(e,null);for(var n=t.length;n--;){var a=t[n];if("string"==typeof a){var o=r(a);o!==a&&(p(t)||(t[n]=o),a=o)}e[a]=!0}return e}function C(e){var t,r=v(null);for(t in e)y(l,e,[t])&&(r[t]=e[t]);return r}function j(e,t){for(;null!==e;){var r=d(e,t);if(r){if(r.get)return S(r.get);if("function"==typeof r.value)return S(r.value)}e=h(e)}function n(e){return console.warn("fallback value for",e),null}return n}var I=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),U=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=m(["#text"]),z=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),W=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),V=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=g(/<%[\w\W]*|[\w\W]*%>/gm),J=g(/^data-[\-\w.\u00B7-\uFFFF]/),K=g(/^aria-[\-\w]+$/),X=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Z=g(/^(?:\w+script|data):/i),Q=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ee=g(/^html$/i),te=function(){return"undefined"==typeof window?null:window},re=function(t,r){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var n=null,a="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(a)&&(n=r.currentScript.getAttribute(a));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function ne(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te(),r=function(e){return ne(e)};if(r.version="2.4.0",r.removed=[],!t||!t.document||9!==t.document.nodeType)return r.isSupported=!1,r;var n=t.document,o=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,u=t.Node,c=t.Element,l=t.NodeFilter,f=t.NamedNodeMap,p=void 0===f?t.NamedNodeMap||t.MozNamedAttrMap:f,h=t.HTMLFormElement,d=t.DOMParser,g=t.trustedTypes,v=c.prototype,b=j(v,"cloneNode"),y=j(v,"nextSibling"),w=j(v,"childNodes"),S=j(v,"parentNode");if("function"==typeof s){var D=o.createElement("template");D.content&&D.content.ownerDocument&&(o=D.content.ownerDocument)}var ae=re(g,n),oe=ae?ae.createHTML(""):"",ie=o,se=ie.implementation,ue=ie.createNodeIterator,ce=ie.createDocumentFragment,le=ie.getElementsByTagName,fe=n.importNode,pe={};try{pe=C(o).documentMode?o.documentMode:{}}catch(e){}var he={};r.isSupported="function"==typeof S&&se&&void 0!==se.createHTMLDocument&&9!==pe;var de,me,ge=V,ve=q,be=J,ye=K,we=Z,Me=Q,_e=X,Ee=null,xe=R({},[].concat(a(I),a(L),a(F),a(B),a(H))),Ae=null,Oe=R({},[].concat(a(z),a($),a(G),a(W))),Ne=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ke=null,Ye=null,Te=!0,Se=!0,De=!1,Re=!1,Ce=!1,je=!1,Ie=!1,Le=!1,Fe=!1,Pe=!1,Be=!0,Ue=!1,He="user-content-",ze=!0,$e=!1,Ge={},We=null,Ve=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),qe=null,Je=R({},["audio","video","img","source","image","track"]),Ke=null,Xe=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ze="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml",tt=et,rt=!1,nt=["application/xhtml+xml","text/html"],at="text/html",ot=null,it=o.createElement("form"),st=function(e){return e instanceof RegExp||e instanceof Function},ut=function(t){ot&&ot===t||(t&&"object"===e(t)||(t={}),t=C(t),de=de=-1===nt.indexOf(t.PARSER_MEDIA_TYPE)?at:t.PARSER_MEDIA_TYPE,me="application/xhtml+xml"===de?function(e){return e}:x,Ee="ALLOWED_TAGS"in t?R({},t.ALLOWED_TAGS,me):xe,Ae="ALLOWED_ATTR"in t?R({},t.ALLOWED_ATTR,me):Oe,Ke="ADD_URI_SAFE_ATTR"in t?R(C(Xe),t.ADD_URI_SAFE_ATTR,me):Xe,qe="ADD_DATA_URI_TAGS"in t?R(C(Je),t.ADD_DATA_URI_TAGS,me):Je,We="FORBID_CONTENTS"in t?R({},t.FORBID_CONTENTS,me):Ve,ke="FORBID_TAGS"in t?R({},t.FORBID_TAGS,me):{},Ye="FORBID_ATTR"in t?R({},t.FORBID_ATTR,me):{},Ge="USE_PROFILES"in t&&t.USE_PROFILES,Te=!1!==t.ALLOW_ARIA_ATTR,Se=!1!==t.ALLOW_DATA_ATTR,De=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Re=t.SAFE_FOR_TEMPLATES||!1,Ce=t.WHOLE_DOCUMENT||!1,Le=t.RETURN_DOM||!1,Fe=t.RETURN_DOM_FRAGMENT||!1,Pe=t.RETURN_TRUSTED_TYPE||!1,Ie=t.FORCE_BODY||!1,Be=!1!==t.SANITIZE_DOM,Ue=t.SANITIZE_NAMED_PROPS||!1,ze=!1!==t.KEEP_CONTENT,$e=t.IN_PLACE||!1,_e=t.ALLOWED_URI_REGEXP||_e,tt=t.NAMESPACE||et,t.CUSTOM_ELEMENT_HANDLING&&st(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ne.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&st(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ne.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ne.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Re&&(Se=!1),Fe&&(Le=!0),Ge&&(Ee=R({},a(H)),Ae=[],!0===Ge.html&&(R(Ee,I),R(Ae,z)),!0===Ge.svg&&(R(Ee,L),R(Ae,$),R(Ae,W)),!0===Ge.svgFilters&&(R(Ee,F),R(Ae,$),R(Ae,W)),!0===Ge.mathMl&&(R(Ee,B),R(Ae,G),R(Ae,W))),t.ADD_TAGS&&(Ee===xe&&(Ee=C(Ee)),R(Ee,t.ADD_TAGS,me)),t.ADD_ATTR&&(Ae===Oe&&(Ae=C(Ae)),R(Ae,t.ADD_ATTR,me)),t.ADD_URI_SAFE_ATTR&&R(Ke,t.ADD_URI_SAFE_ATTR,me),t.FORBID_CONTENTS&&(We===Ve&&(We=C(We)),R(We,t.FORBID_CONTENTS,me)),ze&&(Ee["#text"]=!0),Ce&&R(Ee,["html","head","body"]),Ee.table&&(R(Ee,["tbody"]),delete ke.tbody),m&&m(t),ot=t)},ct=R({},["mi","mo","mn","ms","mtext"]),lt=R({},["foreignobject","desc","title","annotation-xml"]),ft=R({},["title","style","font","a","script"]),pt=R({},L);R(pt,F),R(pt,P);var ht=R({},B);R(ht,U);var dt=function(e){var t=S(e);t&&t.tagName||(t={namespaceURI:et,tagName:"template"});var r=x(e.tagName),n=x(t.tagName);return e.namespaceURI===Qe?t.namespaceURI===et?"svg"===r:t.namespaceURI===Ze?"svg"===r&&("annotation-xml"===n||ct[n]):Boolean(pt[r]):e.namespaceURI===Ze?t.namespaceURI===et?"math"===r:t.namespaceURI===Qe?"math"===r&&lt[n]:Boolean(ht[r]):e.namespaceURI===et&&!(t.namespaceURI===Qe&&!lt[n])&&!(t.namespaceURI===Ze&&!ct[n])&&!ht[r]&&(ft[r]||!pt[r])},mt=function(e){E(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},gt=function(e,t){try{E(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){E(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ae[e])if(Le||Fe)try{mt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},vt=function(e){var t,r;if(Ie)e="<remove></remove>"+e;else{var n=A(e,/^[\r\n\t ]+/);r=n&&n[0]}"application/xhtml+xml"===de&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var a=ae?ae.createHTML(e):e;if(tt===et)try{t=(new d).parseFromString(a,de)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(tt,"template",null);try{t.documentElement.innerHTML=rt?"":a}catch(e){}}var i=t.body||t.documentElement;return e&&r&&i.insertBefore(o.createTextNode(r),i.childNodes[0]||null),tt===et?le.call(t,Ce?"html":"body")[0]:Ce?t.documentElement:i},bt=function(e){return ue.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},yt=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},wt=function(t){return"object"===e(u)?t instanceof u:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Mt=function(e,t,n){he[e]&&M(he[e],(function(e){e.call(r,t,n,ot)}))},_t=function(e){var t;if(Mt("beforeSanitizeElements",e,null),yt(e))return mt(e),!0;if(Y(/[\u0080-\uFFFF]/,e.nodeName))return mt(e),!0;var n=me(e.nodeName);if(Mt("uponSanitizeElement",e,{tagName:n,allowedTags:Ee}),e.hasChildNodes()&&!wt(e.firstElementChild)&&(!wt(e.content)||!wt(e.content.firstElementChild))&&Y(/<[/\w]/g,e.innerHTML)&&Y(/<[/\w]/g,e.textContent))return mt(e),!0;if("select"===n&&Y(/<template/i,e.innerHTML))return mt(e),!0;if(!Ee[n]||ke[n]){if(!ke[n]&&xt(n)){if(Ne.tagNameCheck instanceof RegExp&&Y(Ne.tagNameCheck,n))return!1;if(Ne.tagNameCheck instanceof Function&&Ne.tagNameCheck(n))return!1}if(ze&&!We[n]){var a=S(e)||e.parentNode,o=w(e)||e.childNodes;if(o&&a)for(var i=o.length-1;i>=0;--i)a.insertBefore(b(o[i],!0),y(e))}return mt(e),!0}return e instanceof c&&!dt(e)?(mt(e),!0):"noscript"!==n&&"noembed"!==n||!Y(/<\/no(script|embed)/i,e.innerHTML)?(Re&&3===e.nodeType&&(t=e.textContent,t=O(t,ge," "),t=O(t,ve," "),e.textContent!==t&&(E(r.removed,{element:e.cloneNode()}),e.textContent=t)),Mt("afterSanitizeElements",e,null),!1):(mt(e),!0)},Et=function(e,t,r){if(Be&&("id"===t||"name"===t)&&(r in o||r in it))return!1;if(Se&&!Ye[t]&&Y(be,t));else if(Te&&Y(ye,t));else if(!Ae[t]||Ye[t]){if(!(xt(e)&&(Ne.tagNameCheck instanceof RegExp&&Y(Ne.tagNameCheck,e)||Ne.tagNameCheck instanceof Function&&Ne.tagNameCheck(e))&&(Ne.attributeNameCheck instanceof RegExp&&Y(Ne.attributeNameCheck,t)||Ne.attributeNameCheck instanceof Function&&Ne.attributeNameCheck(t))||"is"===t&&Ne.allowCustomizedBuiltInElements&&(Ne.tagNameCheck instanceof RegExp&&Y(Ne.tagNameCheck,r)||Ne.tagNameCheck instanceof Function&&Ne.tagNameCheck(r))))return!1}else if(Ke[t]);else if(Y(_e,O(r,Me,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==N(r,"data:")||!qe[e])if(De&&!Y(we,O(r,Me,"")));else if(r)return!1;return!0},xt=function(e){return e.indexOf("-")>0},At=function(t){var n,a,o,i;Mt("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ae};for(i=s.length;i--;){var c=n=s[i],l=c.name,f=c.namespaceURI;if(a="value"===l?n.value:k(n.value),o=me(l),u.attrName=o,u.attrValue=a,u.keepAttr=!0,u.forceKeepAttr=void 0,Mt("uponSanitizeAttribute",t,u),a=u.attrValue,!u.forceKeepAttr&&(gt(l,t),u.keepAttr))if(Y(/\/>/i,a))gt(l,t);else{Re&&(a=O(a,ge," "),a=O(a,ve," "));var p=me(t.nodeName);if(Et(p,o,a)){if(!Ue||"id"!==o&&"name"!==o||(gt(l,t),a=He+a),ae&&"object"===e(g)&&"function"==typeof g.getAttributeType)if(f);else switch(g.getAttributeType(p,o)){case"TrustedHTML":a=ae.createHTML(a);break;case"TrustedScriptURL":a=ae.createScriptURL(a)}try{f?t.setAttributeNS(f,l,a):t.setAttribute(l,a),_(r.removed)}catch(e){}}}}Mt("afterSanitizeAttributes",t,null)}},Ot=function e(t){var r,n=bt(t);for(Mt("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)Mt("uponSanitizeShadowNode",r,null),_t(r)||(r.content instanceof i&&e(r.content),At(r));Mt("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(a){var o,s,c,l,f,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((rt=!a)&&(a="\x3c!--\x3e"),"string"!=typeof a&&!wt(a)){if("function"!=typeof a.toString)throw T("toString is not a function");if("string"!=typeof(a=a.toString()))throw T("dirty is not a string, aborting")}if(!r.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof a)return t.toStaticHTML(a);if(wt(a))return t.toStaticHTML(a.outerHTML)}return a}if(je||ut(p),r.removed=[],"string"==typeof a&&($e=!1),$e){if(a.nodeName){var h=me(a.nodeName);if(!Ee[h]||ke[h])throw T("root node is forbidden and cannot be sanitized in-place")}}else if(a instanceof u)1===(s=(o=vt("\x3c!----\x3e")).ownerDocument.importNode(a,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!Le&&!Re&&!Ce&&-1===a.indexOf("<"))return ae&&Pe?ae.createHTML(a):a;if(!(o=vt(a)))return Le?null:Pe?oe:""}o&&Ie&&mt(o.firstChild);for(var d=bt($e?a:o);c=d.nextNode();)3===c.nodeType&&c===l||_t(c)||(c.content instanceof i&&Ot(c.content),At(c),l=c);if(l=null,$e)return a;if(Le){if(Fe)for(f=ce.call(o.ownerDocument);o.firstChild;)f.appendChild(o.firstChild);else f=o;return Ae.shadowroot&&(f=fe.call(n,f,!0)),f}var m=Ce?o.outerHTML:o.innerHTML;return Ce&&Ee["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&Y(ee,o.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+m),Re&&(m=O(m,ge," "),m=O(m,ve," ")),ae&&Pe?ae.createHTML(m):m},r.setConfig=function(e){ut(e),je=!0},r.clearConfig=function(){ot=null,je=!1},r.isValidAttribute=function(e,t,r){ot||ut({});var n=me(e),a=me(t);return Et(n,a,r)},r.addHook=function(e,t){"function"==typeof t&&(he[e]=he[e]||[],E(he[e],t))},r.removeHook=function(e){if(he[e])return _(he[e])},r.removeHooks=function(e){he[e]&&(he[e]=[])},r.removeAllHooks=function(){he={}},r}var ae=ne();return ae}()}(un)),un.exports}var ln=window.DOMPurify||(window.DOMPurify=cn().default||cn()),fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.createPermanentMemoizer=void 0;fn.createPermanentMemoizer=function(e,t){let{maxsize:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new Map;return{get:a=>{const o=e(a);if(n.has(o))return n.get(o);const i=t(a);return r&&n.size>=r&&(n=new Map),n.set(o,i),i}}};var pn=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const hn=pn(ln),dn=fn,mn=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort(),gn=1e5;hn.default.addHook("afterSanitizeElements",(function(e){"a"===e.nodeName.toLowerCase()&&("_self"!==e.getAttribute("target")&&e.setAttribute("target","_blank"),e.setAttribute("rel","nofollow noopener noreferrer"))}));const vn=(0,dn.createPermanentMemoizer)((e=>String(e)),(e=>{const t={ALLOWED_TAGS:void 0===e?mn:"string"==typeof e?e.toLowerCase().slice(1,-1).split("><"):e,ADD_ATTR:["target"],FORCE_BODY:!0};return(0,dn.createPermanentMemoizer)((e=>e),(e=>hn.default.sanitize(e,t)),{maxsize:gn})}),{maxsize:gn});var bn=function(e,t){return e?vn.get(t).get(e):e};function yn(e,t,r,n){function a(e){return null!=e&&""!==e}const o=cr(Cr(t.length)).filter((function(e){return a(t[e])})).slice(0,200).map((function(e){return t[e]}));r=r?nn[r](o):function(e){if(0===t.length)return nn.text();if(Zt(t,S))return nn.number();if(Zt(t,D))return nn.date();const r=[nn.date(e),nn.number(e),nn.text()];let n;const o=.1*t.filter(a).length;return Gt(t,(function(e){Gt(r,(function(t){t.parse(e)}))})),Zt(r,(function(e){return e.errors()<o&&(n=e),!n})),O(n)&&(n=r[2]),n}(o);let i,s,u,c,l=bn(e),f=l;const p=t.slice(0);let h;var d={name(){return arguments.length>=1?(l=bn(arguments[0]),f=2===arguments.length?bn(arguments[1]):l,d):l},origName:()=>f,title(){return arguments.length?(h=bn(arguments[0],n),d):h||l},length:t.length,val(e,a){if(arguments.length){var o=a?p:t;return e<0&&(e+=o.length),r.parse(D(o[e])||S(o[e])?o[e]:bn(o[e],n))}},formatted(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&"number"===this.type()?this.values().map((t=>Number.isFinite(t)?e(t).format("0.[00000000000000000000]"):t)):this.raw()},values(e){var a=e?p:t;return a=Wt(a,(function(e){return D(e)||S(e)?e:bn(e,n)})),Wt(a,r.parse)},each(e){for(var r=0;r<t.length;r++)e(d.val(r),r)},raw(e,r){return arguments.length?2===arguments.length?(t[e]=r,d):D(t[e])||S(t[e])?t[e]:bn(t[e],n):t.map((e=>D(e)||S(e)?e:bn(e,n)))},type(e){if(!0===e)return r;if(T(e)){if(nn[e])return r=nn[e](o),d;throw new Error("unknown column type: "+e)}return r.name()},range:()=>!!r.toNum&&(i||(i=[Number.MAX_VALUE,-Number.MAX_VALUE],d.each((function(e){e=r.toNum(e),S(e)&&!K(e)&&(e<i[0]&&(i[0]=e),e>i[1]&&(i[1]=e))})),i[0]=r.fromNum(i[0]),i[1]=r.fromNum(i[1])),i),sum:()=>!!r.toNum&&(void 0===s&&(s=0,d.each((function(e){const t=r.toNum(e);Number.isFinite(t)&&(s+=t)})),s=r.fromNum(s)),s),mean(){if(!r.toNum)return!1;if(void 0===u){u=0;let e=0;d.each((function(t){const n=r.toNum(t);Number.isFinite(n)&&(u+=n,e++)})),u=r.fromNum(u/e)}return u},median(){if(!r.toNum)return!1;if(void 0===c){const e=d.values().map(r.toNum);c=r.fromNum(function(e){var t,r=[],n=e.length,a=-1;if(1===arguments.length)for(;++a<n;)Mn(t=wn(e[a]))&&r.push(t);if(r.length)return function(e,t){var r=(e.length-1)*t+1,n=Math.floor(r),a=+e[n-1],o=r-n;return o?a+o*(e[n]-a):a}(r.sort(_n),.5)}(e))}return c},filterRows(e){return t=[],arguments.length?Gt(e,(function(e){t.push(p[e])})):t=p.slice(0),d.length=t.length,i=s=u=c=void 0,d},deleteRow(e){const r=t.splice(e,1);return p.splice(e,1),d.length=t.length,i=s=u=c=void 0,r},toString:()=>l+" ("+r.name()+")",indexOf:e=>zt(Cr(t.length),(function(t){return d.val(t)===e})),limitRows(e){p.length>e&&(p.length=e,t.length=e,d.length=e)},add(){p.push(...arguments),t.push(...arguments),d.length=t.length},clone:()=>yn(l,t.slice(),r.name()),clear(){t.splice(0),d.length=t.length}};return d.total=d.sum,d}function wn(e){return null===e?NaN:+e}function Mn(e){return!K(e)}function _n(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function En(e){return{dataset:function(){return function(){if(e.url){const t=(new Date).getTime(),r=`${e.url}${e.url.indexOf("?")>-1?"&":"?"}v=${e.url.indexOf("//static.dwcdn.net")>-1?t-t%6e4:t}`;return window.fetch(r).then((e=>e.text())).then((t=>new xn(e).parse(t)))}if(e.csv||""===e.csv)return new Promise((t=>{t(e.csv)})).then((t=>new xn(e).parse(t)));const t=new Error("You need to provide either a URL or CSV data");return Promise.reject(t)}().catch((t=>(console.error(`Could not fetch delimited data source for chart ${e.chartId}, returning an empty dataset: ${t.message}`),Br([]))))},parse:function(){return new xn(e).parse(e.csv)}}}Br.delimited=En;class xn{constructor(e){e=Object.assign({delimiter:"auto",quoteChar:'"',skipRows:0,emptyValue:null,transpose:!1,firstRowIsHeader:!0},e),this.__delimiterPatterns=An(e.delimiter,e.quoteChar),this.opts=e}parse(e){this.__rawData=e;const t=this.opts;"auto"===t.delimiter&&(t.delimiter=this.guessDelimiter(e,t.skipRows),this.__delimiterPatterns=An(t.delimiter,t.quoteChar));const r="|"!==t.delimiter?"|":"#";let n;return e=r+"\n"+e.replace(/[ \r\n\f]+$/g,"").replace(/^\uFEFF/,"")+r,n=function(e,t,n){n=n||",";const a=[[]];let o,i=null;for(;i=e.exec(t);){var s=i[1];s.length&&s!==n&&a.push([]),o=i[2]?i[2].replace(new RegExp('""',"g"),'"'):i[3],a[a.length-1].push(void 0===o?"":o)}a[0][0].substr(0,1)===r&&(a[0][0]=a[0][0].substr(1));const u=a.length-1,c=a[u].length-1,l=a[u][c].length-1;return a[u][c].substr(l)===r&&(a[u][c]=a[u][c].substr(0,l)),a.slice(1)}(this.__delimiterPatterns,e,t.delimiter),t.transpose&&(n=function(e){const t=e,r=t.length?t.length:0,n=t[0]instanceof Array?t[0].length:0;if(0===n||0===r)return[];let a,o;const i=[];for(a=0;a<n;a++)for(i[a]=[],o=0;o<r;o++)i[a][o]=t[o][a];return i}(n)),function(e){const r=function(e){if(!e)return[];if(!(e=e.slice(t.skipRows)).length)return[];const r=e[0],n={};let a=[],o=0;return t.firstRowIsHeader&&(a=e[o],o++,e.shift()),r.map(((r,o)=>{const i=e.map((e=>""!==e[o]?e[o]:t.emptyValue));let s=T(a[o])?a[o].replace(/^\s+|\s+$/g,""):"",u=""!==s?"":1;for(s=""!==s?s:"X.";void 0!==n[s+u];)u=""===u?1:u+1;return n[s+u]=!0,yn(s+u,i,void 0,t.allowedTags)}))}(e);return Br(r)}(function(e){for(let t=e.length-1;t>=0;t--)if(e[t].some((e=>""!==e)))return e.slice(0,t+1);return e.slice(0,1)}(n))}guessDelimiter(e){let t=0,r=-1;const n=this,a=["\t",";","|",","];return a.forEach(((a,o)=>{const i=An(a,n.quoteChar);let s=e.match(i).length;"\t"===a&&(s*=1.15),s>t&&(t=s,r=o)})),a[r]}}function An(e,t){return new RegExp("(\\"+e+"|\\r?\\n|\\r|^)(?:"+t+"([^"+t+"]*(?:"+t+'"[^'+t+"]*)*)"+t+"|([^\\"+e+"\\r\\n]*))","gi")}function On(e){return{dataset:function(){return function(){if(e.url)return fetch(e.url).then((e=>e.text())).then((e=>JSON.parse(e)));if(e.csv)return new Promise((t=>{t(e.csv)})).then((e=>JSON.parse(e)));const t=new Error("You need to provide either a URL or CSV data");return Promise.reject(t)}().catch((t=>(console.error(`Could not fetch JSON data source for chart ${e.chartId}, returning an empty object: ${t.message}`),{})))},parse:function(){return JSON.parse(e.csv)}}}Br.json=On;var Nn=function(e){return Math.max(0,String(e-Math.floor(e)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2)},kn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=Math.pow(10,t);return Math.round(e*r)/r},Yn=on(Pr),Tn=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const Sn=Tn(Nn),Dn=Tn(kn),Rn=Yn;var Cn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,r=[],n=0;const a=(0,Rn.uniq)(e.filter(Rn.isFinite)),o=a.length;let i,s;const u=Math.floor(o*(1-t));if(a.length<3)return Math.round(a.reduce((function(e,t){if(!t)return e;const r=Math.log(Math.abs(t))/Math.LN10;return r<8&&r>-3?e+Math.min(3,(0,Sn.default)(a[0])):e+(r>0?-1*(r-1):-1*r)}),0)/a.length);(0,Rn.uniq)(a.map(l)).length>u?(i=function(){return(0,Rn.uniq)(r).length===o},s=-1):(i=function(){return(0,Rn.uniq)(r).length<=u},s=1);let c=100;do{r=a.map(l),n+=s}while(i()&&c-- >0);function l(e){return(0,Dn.default)(e,n)}return c<10&&console.warn("maximum iteration reached",e,r,n),s<0?n+=2:n--,n},jn=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const In=jn(Cn),Ln=jn(kn);var Fn=function(e){if(!e||"object"!=typeof e)return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}};var Pn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return e;const n=Array.isArray(t)?t:t.split(".");let a=e;for(let e=0;e<n.length&&null!=a;e++)a=a[n[e]];return null==a?r:a};function Bn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;let r=e.offsetHeight;if(!t)return r;var n=getComputedStyle(e);return r+=parseInt(n.marginTop)+parseInt(n.marginBottom),r}function Un(){let e=0;const t=document.querySelector(".dw-chart .dw-chart-styles");if(!t)return 0;for(let n=0;n<t.children.length;n++){const a=t.children[n],o=a.tagName.toLowerCase();if(!("script"===o||"style"===o||"chart"===a.id||r(a,"tooltip")||r(a,"vg-tooltip")||r(a,"hidden")||r(a,"sr-only")||r(a,"qtip")||r(a,"container")||r(a,"noscript")||r(a,"hidden")||r(a,"dw-after-body")||r(a,"dw-chart-body"))&&(e+=Number(Bn(a,!0)),r(a,"dw-chart-header"))){const t=a.querySelector(".filter-ui");t&&(e-=Number(Bn(t,!0)))}}function r(e,t){return e.classList.contains(t)}const n=["padding-top","padding-bottom","margin-top","margin-bottom","border-top-width","border-bottom-width"];return[".dw-chart",".dw-chart-styles",".dw-chart-body","body"].forEach((function(t){n.forEach((function(r){e+=Number(function(e,t){return getComputedStyle(document.querySelector(e))[t].replace("px","")}(t,r))}))})),e}var Hn="TEOF",zn="TOP",$n="TNUMBER",Gn="TSTRING",Wn="TPAREN",Vn="TBRACKET",qn="TCOMMA",Jn="TNAME",Kn="TSEMICOLON";function Xn(e,t,r){this.type=e,this.value=t,this.index=r}function Zn(e,t){this.pos=0,this.current=null,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.consts=e.consts,this.expression=t,this.savedPosition=0,this.savedCurrent=null,this.options=e.options,this.parser=e}Xn.prototype.toString=function(){return this.type+": "+this.value},Zn.prototype.newToken=function(e,t,r){return new Xn(e,t,null!=r?r:this.pos)},Zn.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},Zn.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},Zn.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(Hn,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},Zn.prototype.isString=function(){var e=!1,t=this.pos,r=this.expression.charAt(t);if("'"===r||'"'===r)for(var n=this.expression.indexOf(r,t+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var a=this.expression.substring(t+1,n);this.current=this.newToken(Gn,this.unescape(a),t),e=!0;break}n=this.expression.indexOf(r,n+1)}return e},Zn.prototype.isParen=function(){var e=this.expression.charAt(this.pos);return("("===e||")"===e)&&(this.current=this.newToken(Wn,e),this.pos++,!0)},Zn.prototype.isBracket=function(){var e=this.expression.charAt(this.pos);return!("["!==e&&"]"!==e||!this.isOperatorEnabled("["))&&(this.current=this.newToken(Vn,e),this.pos++,!0)},Zn.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(qn,","),this.pos++,!0)},Zn.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(Kn,";"),this.pos++,!0)},Zn.prototype.isConst=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var r=this.expression.charAt(t);if(r.toUpperCase()===r.toLowerCase()&&(t===this.pos||"_"!==r&&"."!==r&&(r<"0"||r>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(n in this.consts)return this.current=this.newToken($n,this.consts[n]),this.pos+=n.length,!0}return!1},Zn.prototype.isNamedOp=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var r=this.expression.charAt(t);if(r.toUpperCase()===r.toLowerCase()&&(t===this.pos||"_"!==r&&(r<"0"||r>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(zn,n),this.pos+=n.length,!0}return!1},Zn.prototype.isName=function(){for(var e=this.pos,t=e,r=!1;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()){if(t===this.pos&&("$"===n||"_"===n)){"_"===n&&(r=!0);continue}if(t===this.pos||!r||"_"!==n&&(n<"0"||n>"9"))break}else r=!0}if(r){var a=this.expression.substring(e,t);return this.current=this.newToken(Jn,a),this.pos+=a.length,!0}return!1},Zn.prototype.isWhitespace=function(){for(var e=!1,t=this.expression.charAt(this.pos);!(" "!==t&&"\t"!==t&&"\n"!==t&&"\r"!==t||(e=!0,this.pos++,this.pos>=this.expression.length));)t=this.expression.charAt(this.pos);return e};var Qn=/^[0-9a-f]{4}$/i;Zn.prototype.unescape=function(e){var t=e.indexOf("\\");if(t<0)return e;for(var r=e.substring(0,t);t>=0;){var n=e.charAt(++t);switch(n){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":var a=e.substring(t+1,t+5);Qn.test(a)||this.parseError("Illegal escape sequence: \\u"+a),r+=String.fromCharCode(parseInt(a,16)),t+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++t;var o=e.indexOf("\\",t);r+=e.substring(t,o<0?e.length:o),t=o}return r},Zn.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},Zn.prototype.isRadixInteger=function(){var e,t,r=this.pos;if(r>=this.expression.length-2||"0"!==this.expression.charAt(r))return!1;if(++r,"x"===this.expression.charAt(r))e=16,t=/^[0-9a-f]$/i,++r;else{if("b"!==this.expression.charAt(r))return!1;e=2,t=/^[01]$/i,++r}for(var n=!1,a=r;r<this.expression.length;){var o=this.expression.charAt(r);if(!t.test(o))break;r++,n=!0}return n&&(this.current=this.newToken($n,parseInt(this.expression.substring(a,r),e)),this.pos=r),n},Zn.prototype.isNumber=function(){for(var e,t=!1,r=this.pos,n=r,a=r,o=!1,i=!1;r<this.expression.length&&((e=this.expression.charAt(r))>="0"&&e<="9"||!o&&"."===e);)"."===e?o=!0:i=!0,r++,t=i;if(t&&(a=r),"e"===e||"E"===e){r++;for(var s=!0,u=!1;r<this.expression.length;){if(e=this.expression.charAt(r),!s||"+"!==e&&"-"!==e){if(!(e>="0"&&e<="9"))break;u=!0,s=!1}else s=!1;r++}u||(r=a)}return t?(this.current=this.newToken($n,parseFloat(this.expression.substring(n,r))),this.pos=r):this.pos=a,t},Zn.prototype.isOperator=function(){var e=this.pos,t=this.expression.charAt(this.pos);if("+"===t||"-"===t||"*"===t||"/"===t||"%"===t||"^"===t||"?"===t||":"===t||"."===t)this.current=this.newToken(zn,t);else if("∙"===t||"•"===t)this.current=this.newToken(zn,"*");else if(">"===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(zn,">="),this.pos++):this.current=this.newToken(zn,">");else if("<"===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(zn,"<="),this.pos++):this.current=this.newToken(zn,"<");else if("|"===t){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(zn,"||"),this.pos++}else if("="===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(zn,"=="),this.pos++):this.current=this.newToken(zn,t);else{if("!"!==t)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(zn,"!="),this.pos++):this.current=this.newToken(zn,t)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=e,!1)},Zn.prototype.isOperatorEnabled=function(e){return this.parser.isOperatorEnabled(e)},Zn.prototype.getCoordinates=function(){var e,t=0,r=-1;do{t++,e=this.pos-r,r=this.expression.indexOf("\n",r+1)}while(r>=0&&r<this.pos);return{line:t,column:e}},Zn.prototype.parseError=function(e){var t=this.getCoordinates();throw new Error("parse error ["+t.line+":"+t.column+"]: "+e)};var ea="INUMBER",ta="IOP1",ra="IOP2",na="IOP3",aa="IVAR",oa="IVARNAME",ia="IFUNCALL",sa="IFUNDEF",ua="IEXPR",ca="IEXPREVAL",la="IMEMBER",fa="IENDSTATEMENT",pa="IARRAY";function ha(e,t){this.type=e,this.value=null!=t?t:0}function da(e){return new ha(ta,e)}function ma(e){return new ha(ra,e)}function ga(e,t,r){this.parser=e,this.tokens=t,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==r.allowMemberAccess,this.restrictMemberAccess=new Set(r.restrictMemberAccess||[])}ha.prototype.toString=function(){switch(this.type){case ea:case ta:case ra:case na:case aa:case oa:case fa:return this.value;case ia:return"CALL "+this.value;case sa:return"DEF "+this.value;case pa:return"ARRAY "+this.value;case la:return"."+this.value;default:return"Invalid Instruction"}},ga.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},ga.prototype.tokenMatches=function(e,t){return void 0===t||(Array.isArray(t)?function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1}(t,e.value):"function"==typeof t?t(e):e.value===t)},ga.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},ga.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},ga.prototype.accept=function(e,t){return!(this.nextToken.type!==e||!this.tokenMatches(this.nextToken,t))&&(this.next(),!0)},ga.prototype.expect=function(e,t){if(!this.accept(e,t)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(t||e))}},ga.prototype.parseAtom=function(e){var t=this.tokens.unaryOps;if(this.accept(Jn)||this.accept(zn,(function(e){return e.value in t})))e.push(new ha(aa,this.current.value));else if(this.accept($n))e.push(new ha(ea,this.current.value));else if(this.accept(Gn))e.push(new ha(ea,this.current.value));else if(this.accept(Wn,"("))this.parseExpression(e),this.expect(Wn,")");else{if(!this.accept(Vn,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(Vn,"]"))e.push(new ha(pa,0));else{var r=this.parseArrayList(e);e.push(new ha(pa,r))}}},ga.prototype.parseExpression=function(e){var t=[];this.parseUntilEndStatement(e,t)||(this.parseVariableAssignmentExpression(t),this.parseUntilEndStatement(e,t)||this.pushExpression(e,t))},ga.prototype.pushExpression=function(e,t){for(var r=0,n=t.length;r<n;r++)e.push(t[r])},ga.prototype.parseUntilEndStatement=function(e,t){return!!this.accept(Kn)&&(!this.nextToken||this.nextToken.type===Hn||this.nextToken.type===Wn&&")"===this.nextToken.value||t.push(new ha(fa)),this.nextToken.type!==Hn&&this.parseExpression(t),e.push(new ha(ua,t)),!0)},ga.prototype.parseArrayList=function(e){for(var t=0;!this.accept(Vn,"]");)for(this.parseExpression(e),++t;this.accept(qn);)this.parseExpression(e),++t;return t},ga.prototype.parseVariableAssignmentExpression=function(e){for(this.parseConditionalExpression(e);this.accept(zn,"=");){var t=e.pop(),r=[],n=e.length-1;if(t.type!==ia){if(t.type!==aa&&t.type!==la)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),e.push(new ha(oa,t.value)),e.push(new ha(ua,r)),e.push(ma("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var a=0,o=t.value+1;a<o;a++){var i=n-a;e[i].type===aa&&(e[i]=new ha(oa,e[i].value))}this.parseVariableAssignmentExpression(r),e.push(new ha(ua,r)),e.push(new ha(sa,t.value))}}},ga.prototype.parseConditionalExpression=function(e){for(this.parseOrExpression(e);this.accept(zn,"?");){var t=[],r=[];this.parseConditionalExpression(t),this.expect(zn,":"),this.parseConditionalExpression(r),e.push(new ha(ua,t)),e.push(new ha(ua,r)),e.push(new ha(na,"?"))}},ga.prototype.parseOrExpression=function(e){for(this.parseAndExpression(e);this.accept(zn,"or");){var t=[];this.parseAndExpression(t),e.push(new ha(ua,t)),e.push(ma("or"))}},ga.prototype.parseAndExpression=function(e){for(this.parseComparison(e);this.accept(zn,"and");){var t=[];this.parseComparison(t),e.push(new ha(ua,t)),e.push(ma("and"))}};var va=["==","!=","<","<=",">=",">","in"];ga.prototype.parseComparison=function(e){for(this.parseAddSub(e);this.accept(zn,va);){var t=this.current;this.parseAddSub(e),e.push(ma(t.value))}};var ba=["+","-","||"];ga.prototype.parseAddSub=function(e){for(this.parseTerm(e);this.accept(zn,ba);){var t=this.current;this.parseTerm(e),e.push(ma(t.value))}};var ya=["*","/","%"];function wa(e,t){return Number(e)+Number(t)}function Ma(e,t){return e-t}function _a(e,t){return e*t}function Ea(e,t){return e/t}function xa(e,t){return e%t}function Aa(e,t){return e===t}function Oa(e,t){return e!==t}function Na(e,t){return e>t}function ka(e,t){return e<t}function Ya(e,t){return e>=t}function Ta(e,t){return e<=t}function Sa(e,t){return Boolean(e&&t)}function Da(e,t){return Boolean(e||t)}function Ra(e){return Math.log(e)*Math.LOG10E}function Ca(e){return-e}function ja(e){return!e}function Ia(e){return e<0?Math.ceil(e):Math.floor(e)}function La(e){return Math.random()*(e||1)}function Fa(e){return Array.isArray(e)?e.length:String(e).length}function Pa(e,t,r){return e?t:r}function Ba(e,t){return void 0===t||0==+t?Math.round(e):(e=+e,t=-+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]-t:-t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+t:t))))}function Ua(e,t){return e[0|t]}function Ha(e,t){if("function"!=typeof e)throw new Error("First argument to map is not a function");if(!Array.isArray(t))throw new Error("Second argument to map is not an array");return t.map((function(t,r){return e(t,r)}))}function za(e,t,r){if("function"!=typeof e)throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce((function(t,r,n){return e(t,r,n)}),t)}function $a(e,t){if("function"!=typeof e)throw new Error("First argument to filter is not a function");if(!Array.isArray(t))throw new Error("Second argument to filter is not an array");return t.filter((function(t,r){return e(t,r)}))}function Ga(e){return(e>0)-(e<0)||+e}function Wa(e){return Math.log(1+e)}function Va(e){return Math.log(e)/Math.LN2}function qa(e){if(!Array.isArray(e))throw new Error("Sum argument is not an array");return e.reduce((function(e,t){return e+Number(t)}),0)}function Ja(e,t,r){var n,a,o,i,s,u,c=[];if(Xa(e))return Za(e,r);for(var l=e.length,f=0;f<l;f++){var p=e[f],h=p.type;if(h===ea||h===oa)c.push(p.value);else if(h===ra)a=c.pop(),n=c.pop(),"and"===p.value?c.push(!!n&&!!Ja(a,t,r)):"or"===p.value?c.push(!!n||!!Ja(a,t,r)):"="===p.value?(i=t.binaryOps[p.value],c.push(i(n,Ja(a,t,r),r))):(i=t.binaryOps[p.value],c.push(i(Za(n,r),Za(a,r))));else if(h===na)o=c.pop(),a=c.pop(),n=c.pop(),"?"===p.value?c.push(Ja(n?a:o,t,r)):(i=t.ternaryOps[p.value],c.push(i(Za(n,r),Za(a,r),Za(o,r))));else if(h===aa){if(/^__proto__|prototype|constructor$/.test(p.value))throw new Error("prototype access detected");if(p.value in t.functions)c.push(t.functions[p.value]);else if(p.value in t.unaryOps&&t.parser.isOperatorEnabled(p.value))c.push(t.unaryOps[p.value]);else{var d=r[p.value];if(void 0===d)throw new Error("undefined variable: "+p.value);c.push(d)}}else if(h===ta)n=c.pop(),i=t.unaryOps[p.value],c.push(i(Za(n,r)));else if(h===ia){for(u=p.value,s=[];u-- >0;)s.unshift(Za(c.pop(),r));if(!(i=c.pop()).apply||!i.call)throw new Error(i+" is not a function");c.push(i.apply(void 0,s))}else if(h===sa)c.push(function(){for(var e=c.pop(),n=[],a=p.value;a-- >0;)n.unshift(c.pop());var o=c.pop(),i=function(){for(var a=Object.assign({},r),o=0,i=n.length;o<i;o++)a[n[o]]=arguments[o];return Ja(e,t,a)};return Object.defineProperty(i,"name",{value:o,writable:!1}),r[o]=i,i}());else if(h===ua)c.push(Ka(p,t));else if(h===ca)c.push(p);else if(h===la)n=c.pop(),c.push(n[p.value]);else if(h===fa)c.pop();else{if(h!==pa)throw new Error("invalid Expression");for(u=p.value,s=[];u-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Za(c[0],r)}function Ka(e,t,r){return Xa(e)?e:{type:ca,value:function(r){return Ja(e.value,t,r)}}}function Xa(e){return e&&e.type===ca}function Za(e,t){return Xa(e)?e.value(t):e}function Qa(e,t){this.tokens=e,this.parser=t,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.functions=t.functions}function eo(e){return e.trim()}ga.prototype.parseTerm=function(e){for(this.parseFactor(e);this.accept(zn,ya);){var t=this.current;this.parseFactor(e),e.push(ma(t.value))}},ga.prototype.parseFactor=function(e){var t=this.tokens.unaryOps;if(this.save(),this.accept(zn,(function(e){return e.value in t}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===Wn&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(e);if(this.nextToken.type===Kn||this.nextToken.type===qn||this.nextToken.type===Hn||this.nextToken.type===Wn&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(e)}var r=this.current;this.parseFactor(e),e.push(da(r.value))}else this.parseExponential(e)},ga.prototype.parseExponential=function(e){for(this.parsePostfixExpression(e);this.accept(zn,"^");)this.parseFactor(e),e.push(ma("^"))},ga.prototype.parsePostfixExpression=function(e){for(this.parseFunctionCall(e);this.accept(zn,"!");)e.push(da("!"))},ga.prototype.parseFunctionCall=function(e){var t=this.tokens.unaryOps;if(this.accept(zn,(function(e){return e.value in t}))){var r=this.current;this.parseAtom(e),e.push(da(r.value))}else for(this.parseMemberExpression(e);this.accept(Wn,"(");)if(this.accept(Wn,")"))e.push(new ha(ia,0));else{var n=this.parseArgumentList(e);e.push(new ha(ia,n))}},ga.prototype.parseArgumentList=function(e){for(var t=0;!this.accept(Wn,")");)for(this.parseExpression(e),++t;this.accept(qn);)this.parseExpression(e),++t;return t},ga.prototype.parseMemberExpression=function(e){for(this.parseAtom(e);this.accept(zn,".")||this.accept(Vn,"[");){var t=this.current;if("."===t.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(Jn),e.push(new ha(la,this.current.value))}else{if("["!==t.value)throw new Error("unexpected symbol: "+t.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(e),this.expect(Vn,"]"),e.push(ma("["))}}},Qa.prototype.evaluate=function(e){return e=e||{},Ja(this.tokens,this,e)},Qa.prototype.variables=function(){return(this.tokens||[]).filter((e=>"IVAR"===e.type)).map((e=>e.value))};const to=new Set(["__proto__","prototype","constructor"]);function ro(e){this.options=e||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||Va,LN:Math.log,LOG10:Math.log10||Ra,LG:Math.log10||Ra,LOG1P:Math.log1p||Wa,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:e=>null===e,TRUNC:Math.trunc||Ia,"-":Ca,"+":Number,EXP:Math.exp,NOT:ja,LENGTH:Fa,"!":ja,SIGN:Math.sign||Ga,TEXT:e=>t(e)?e.toISOString():String(e),NUMBER:Number},this.binaryOps={"+":wa,"-":Ma,"*":_a,"/":Ea,"%":xa,"^":Math.pow,"==":Aa,"!=":Oa,">":Na,"<":ka,">=":Ya,"<=":Ta,and:Sa,or:Da,in:(e,t)=>Array.isArray(t)?t.includes(e):String(t).includes(e),"[":Ua},this.ternaryOps={"?":Pa};const t=e=>e instanceof Date&&!isNaN(e),r=e=>{if(t(e))return e;try{const r=new Date(e);return t(r)?r:null}catch(e){return null}};function n(e){return(1===arguments.length&&Array.isArray(e)?e:Array.from(arguments)).slice(0).filter((e=>!isNaN(e)&&Number.isFinite(e)))}let a=/\w*/g,o=/\w\S*/g;const i=/[\\^$*+?.()|[\]{}]/g;try{a=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(e){}this.functions={IF:Pa,RANDOM:La,MIN(){return function(e){return 1===arguments.length&&Array.isArray(e)?Math.min.apply(Math,e):Math.min.apply(Math,arguments)}(n.apply(this,arguments))},MAX(){return function(e){return 1===arguments.length&&Array.isArray(e)?Math.max.apply(Math,e):Math.max.apply(Math,arguments)}(n.apply(this,arguments))},SUM(){return qa(n.apply(this,arguments))},MEAN(){const e=n.apply(this,arguments);return qa(e)/e.length},MEDIAN(){const e=n.apply(this,arguments).sort(((e,t)=>e-t)),t=Math.floor(e.length/2);return e.length%2==1?e[t]:.5*(e[t-1]+e[t])},POW:Math.pow,ATAN2:Math.atan2,ROUND:Ba,CONCAT(){return Array.from(arguments).join("")},TRIM:eo,SUBSTR:(e,t,r)=>e.substr(t,r),REPLACE:(e,t,r)=>e.replace(new RegExp(String(t).replace(i,"\\$&"),"g"),r),REPLACE_REGEX:(e,t,r)=>e.replace(new RegExp(t,"g"),r),SPLIT:(e,t)=>String(e).split(t),LOWER:e=>String(e).toLowerCase(),UPPER:e=>String(e).toUpperCase(),PROPER:e=>String(e).replace(a,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())),TITLE:e=>String(e).replace(o,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())),SORT(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(to.has(r))throw new Error("Invalid key");if(!Array.isArray(e))throw new Error("First argument to SORT is not an array");return e.slice(0).sort(((e,n)=>((e="string"==typeof r?e[r]:"function"==typeof r?r(e):e)>(n="string"==typeof r?n[r]:"function"==typeof r?r(n):n)?1:e<n?-1:0)*(t?1:-1)))},SLICE(e,t,r){if(!Array.isArray(e))throw new Error("First argument to SLICE is not an array");return e.slice(t,r)},JOIN(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(e))throw new Error("First argument to JOIN is not an array");return r?[e.slice(0,e.length-1).join(t),e[e.length-1]].join(r):e.join(t)},MAP:Ha,FOLD:za,FILTER:$a,PLUCK(e,t){if(to.has(t))throw new Error("Invalid key");if(!Array.isArray(e))throw new Error("First argument to PLUCK is not an array");return e.map((e=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:null))},INDEXOF:(e,t)=>(Array.isArray(e)||(e=String(e)),e.indexOf(t)),FIND(e,t){if(!Array.isArray(e))throw new Error("First argument to FIND is not an array");if("function"!=typeof t)throw new Error("Second argument to FIND is not a function");const r=e.length;for(let n=0;n<r;n++)if(t(e[n]))return e[n];return null},RANGE(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),a=Array(n),o=0;o<n;o++,e+=r)a[o]=e;return a},EVERY(e,t){if(!Array.isArray(e))throw new Error("First argument to EVERY is not an array");if("function"!=typeof t)throw new Error("Second argument to EVERY is not a function");const r=e.length;let n=!0;for(let a=0;a<r;a++)if(n=n&&t(e[a]),!n)return!1;return!0},SOME(e,t){if(!Array.isArray(e))throw new Error("First argument to SOME is not an array");if("function"!=typeof t)throw new Error("Second argument to SOME is not a function");const r=e.length;let n=!1;for(let a=0;a<r;a++)if(n=n||t(e[a]),n)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:e=>(e=r(e))?e.getFullYear():null,MONTH:e=>(e=r(e))?e.getMonth()+1:null,DAY:e=>(e=r(e))?e.getDate():null,WEEKDAY:e=>(e=r(e))?e.getDay():null,HOURS:e=>(e=r(e))?e.getHours():null,MINUTES:e=>(e=r(e))?e.getMinutes():null,SECONDS:e=>(e=r(e))?e.getSeconds():null,DATEDIFF:(e,t)=>(e=r(e),t=r(t),e&&t?(t.getTime()-e.getTime())/864e5:null),TIMEDIFF:(e,t)=>(e=r(e),t=r(t),e&&t?(t.getTime()-e.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}ro.prototype.parse=function(e){var t=[],r=new ga(this,new Zn(this,e),{allowMemberAccess:!0,restrictMemberAccess:to});return r.parseExpression(t),r.expect(Hn,"EOF"),new Qa(t,this)},ro.prototype.evaluate=function(e,t){return this.parse(e).evaluate(t)};var no=new ro;ro.parse=function(e){return no.parse(e)},ro.evaluate=function(e,t){return no.parse(e).evaluate(t)},ro.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var ao={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};ro.prototype.isOperatorEnabled=function(e){var t=function(e){return Object.prototype.hasOwnProperty.call(ao,e)?ao[e]:e}(e),r=this.options.operators||{};return!(t in r)||!!r[t]};const oo=/\{\{(.+?)\}\}/g;function io(e){const t={},r=new ro;return e.replace(oo,((e,n)=>{(n=n.trim())&&!t[n]&&(t[n]=r.parse(n))})),r=>e.replace(oo,((e,n)=>{const a=n.trim()?t[n.trim()].evaluate(r):"";return null===a?"":a}))}const so=["a","abbr","address","b","big","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figure","font","h1","h2","h3","h4","h5","h6","hr","hgroup","i","img","ins","kbd","li","mark","meter","ol","p","pre","q","s","small","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tfoot","tr","tt","u","ul","wbr"];function uo(e){return P(e.name)?e.name():T(e.name)?e.name:e}function co(){if(0===window.innerHeight)return 0;var e=window.innerHeight-Un();return Math.max(e,0)}function lo(e){const t=parseFloat(getComputedStyle(e,null).width.replace("px",""));return isNaN(t)?0:t}function fo(e){const t="string"==typeof e?document.querySelector(e):e;t&&t.parentElement.removeChild(t)}function po(e){let{themeData:t,visualizationMeta:r,renderFlags:n}=e;return Pn(t,"vis.d3-pies.fitchart",!1)&&["d3-pies","d3-donuts","d3-multiple-pies","d3-multiple-donuts"].includes(r.id)||n.fitchart||"fixed"!==r.height?"fit":"fixed"}var ho=Object.freeze({__proto__:null,purifyHtml:bn,significantDimension:Cn,tailLength:Nn,round:kn,smartRound:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,n=(0,In.default)(e,r);return n+=t,e.map((e=>(0,Ln.default)(e,n)))},equalish:function(e,t){return Math.abs(e-t)<1e-6},clone:Fn,delimited:r,getNonChartHeight:Un,outerHeight:Bn,htmlTemplate:function(e){const t=io(e);return e=>bn(t(e),so)},templateParser:io,minMax:function(e){const t=[Number.MAX_VALUE,-Number.MAX_VALUE];return e.forEach((e=>{t[0]=Math.min(t[0],e.range()[0]),t[1]=Math.max(t[1],e.range()[1])})),t},columnNameColumn:function(e){return yn("",e.map((e=>e.title())))},name:uo,getMaxChartHeight:co,nearest:function(e,t){let r,n=Number.MAX_VALUE;return e.forEach((e=>{var a=Math.abs(e-t);a<n&&(n=a,r=e)})),r},metricSuffix:function(e){switch(e.substr(0,2).toLowerCase()){case"de":return{3:" Tsd.",6:" Mio.",9:" Mrd.",12:" Bio."};case"fr":return{3:" mil",6:" Mio",9:" Mrd"};case"es":return{3:" Mil",6:" millón"};default:return{3:"k",6:"M",9:" bil"}}},magnitudeRange:function(e){return Math.round(Math.log(e[1])/Math.LN10)-Math.round(Math.log(e[0])/Math.LN10)},logTicks:function(e,t){return Cr(Math.round(Math.log(e)/Math.LN10),Math.round(Math.log(t)/Math.LN10)).map((e=>Math.pow(10,e)))},height:function(e){const t=parseFloat(getComputedStyle(e,null).height.replace("px",""));return isNaN(t)?0:t},width:lo,addClass:function(e,t){e&&e.classList.add(t)},removeClass:function(e,t){e&&e.classList.remove(t)},remove:fo,domReady:function(e){/complete|interactive|loaded/.test(document.readyState)?e():window.addEventListener("DOMContentLoaded",(()=>{e()}))},getHeightMode:po}),mo="object"==typeof an&&an&&an.Object===Object&&an,go=mo,vo="object"==typeof self&&self&&self.Object===Object&&self,bo=go||vo||Function("return this")(),yo=bo.Symbol,wo=yo,Mo=Object.prototype,_o=Mo.hasOwnProperty,Eo=Mo.toString,xo=wo?wo.toStringTag:void 0;var Ao=function(e){var t=_o.call(e,xo),r=e[xo];try{e[xo]=void 0;var n=!0}catch(e){}var a=Eo.call(e);return n&&(t?e[xo]=r:delete e[xo]),a},Oo=Object.prototype.toString;var No=Ao,ko=function(e){return Oo.call(e)},Yo="[object Null]",To="[object Undefined]",So=yo?yo.toStringTag:void 0;var Do=function(e){return null==e?void 0===e?To:Yo:So&&So in Object(e)?No(e):ko(e)};var Ro=function(e,t){return function(r){return e(t(r))}},Co=Ro(Object.getPrototypeOf,Object);var jo=function(e){return null!=e&&"object"==typeof e},Io=Do,Lo=Co,Fo=jo,Po="[object Object]",Bo=Function.prototype,Uo=Object.prototype,Ho=Bo.toString,zo=Uo.hasOwnProperty,$o=Ho.call(Object);var Go=function(e){if(!Fo(e)||Io(e)!=Po)return!1;var t=Lo(e);if(null===t)return!0;var r=zo.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ho.call(r)==$o};var Wo=function(e,t,r){const n=(e=>Array.isArray(e))(t)?[...t]:t.split(".");if(!n.length)throw new Error("Key should not be empty");const a=n.pop();let o=e;return n.forEach((e=>{void 0!==o[e]&&null!==o[e]||(o[e]={}),o=o[e]})),JSON.stringify(o[a])!==JSON.stringify(r)&&(o[a]=r,!0)};var Vo=function(){this.__data__=[],this.size=0};var qo=function(e,t){return e===t||e!=e&&t!=t},Jo=qo;var Ko=function(e,t){for(var r=e.length;r--;)if(Jo(e[r][0],t))return r;return-1},Xo=Ko,Zo=Array.prototype.splice;var Qo=Ko;var ei=Ko;var ti=Ko;var ri=Vo,ni=function(e){var t=this.__data__,r=Xo(t,e);return!(r<0)&&(r==t.length-1?t.pop():Zo.call(t,r,1),--this.size,!0)},ai=function(e){var t=this.__data__,r=Qo(t,e);return r<0?void 0:t[r][1]},oi=function(e){return ei(this.__data__,e)>-1},ii=function(e,t){var r=this.__data__,n=ti(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function si(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}si.prototype.clear=ri,si.prototype.delete=ni,si.prototype.get=ai,si.prototype.has=oi,si.prototype.set=ii;var ui=si,ci=ui;var li=function(){this.__data__=new ci,this.size=0};var fi=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var pi=function(e){return this.__data__.get(e)};var hi=function(e){return this.__data__.has(e)};var di=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},mi=Do,gi=di,vi="[object AsyncFunction]",bi="[object Function]",yi="[object GeneratorFunction]",wi="[object Proxy]";var Mi,_i=function(e){if(!gi(e))return!1;var t=mi(e);return t==bi||t==yi||t==vi||t==wi},Ei=bo["__core-js_shared__"],xi=(Mi=/[^.]+$/.exec(Ei&&Ei.keys&&Ei.keys.IE_PROTO||""))?"Symbol(src)_1."+Mi:"";var Ai=function(e){return!!xi&&xi in e},Oi=Function.prototype.toString;var Ni=function(e){if(null!=e){try{return Oi.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ki=_i,Yi=Ai,Ti=di,Si=Ni,Di=/^\[object .+?Constructor\]$/,Ri=Function.prototype,Ci=Object.prototype,ji=Ri.toString,Ii=Ci.hasOwnProperty,Li=RegExp("^"+ji.call(Ii).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Fi=function(e,t){return null==e?void 0:e[t]},Pi=function(e){return!(!Ti(e)||Yi(e))&&(ki(e)?Li:Di).test(Si(e))},Bi=Fi;var Ui=function(e,t){var r=Bi(e,t);return Pi(r)?r:void 0},Hi=Ui(bo,"Map"),zi=Ui(Object,"create"),$i=zi;var Gi=function(){this.__data__=$i?$i(null):{},this.size=0};var Wi=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vi=zi,qi="__lodash_hash_undefined__",Ji=Object.prototype.hasOwnProperty;var Ki=function(e){var t=this.__data__;if(Vi){var r=t[e];return r===qi?void 0:r}return Ji.call(t,e)?t[e]:void 0},Xi=zi,Zi=Object.prototype.hasOwnProperty;var Qi=zi,es="__lodash_hash_undefined__";var ts=Gi,rs=Wi,ns=Ki,as=function(e){var t=this.__data__;return Xi?void 0!==t[e]:Zi.call(t,e)},os=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Qi&&void 0===t?es:t,this};function is(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}is.prototype.clear=ts,is.prototype.delete=rs,is.prototype.get=ns,is.prototype.has=as,is.prototype.set=os;var ss=is,us=ui,cs=Hi;var ls=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var fs=function(e,t){var r=e.__data__;return ls(t)?r["string"==typeof t?"string":"hash"]:r.map},ps=fs;var hs=function(e){var t=ps(this,e).delete(e);return this.size-=t?1:0,t},ds=fs;var ms=fs;var gs=fs;var vs=function(e,t){var r=gs(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},bs=function(){this.size=0,this.__data__={hash:new ss,map:new(cs||us),string:new ss}},ys=hs,ws=function(e){return ds(this,e).get(e)},Ms=function(e){return ms(this,e).has(e)},_s=vs;function Es(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Es.prototype.clear=bs,Es.prototype.delete=ys,Es.prototype.get=ws,Es.prototype.has=Ms,Es.prototype.set=_s;var xs=Es,As=ui,Os=Hi,Ns=xs,ks=200;var Ys=function(e,t){var r=this.__data__;if(r instanceof As){var n=r.__data__;if(!Os||n.length<ks-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ns(n)}return r.set(e,t),this.size=r.size,this},Ts=ui,Ss=li,Ds=fi,Rs=pi,Cs=hi,js=Ys;function Is(e){var t=this.__data__=new Ts(e);this.size=t.size}Is.prototype.clear=Ss,Is.prototype.delete=Ds,Is.prototype.get=Rs,Is.prototype.has=Cs,Is.prototype.set=js;var Ls=Is,Fs="__lodash_hash_undefined__";var Ps=xs,Bs=function(e){return this.__data__.set(e,Fs),this},Us=function(e){return this.__data__.has(e)};function Hs(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ps;++t<r;)this.add(e[t])}Hs.prototype.add=Hs.prototype.push=Bs,Hs.prototype.has=Us;var zs=Hs,$s=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},Gs=function(e,t){return e.has(t)},Ws=1,Vs=2;var qs=function(e,t,r,n,a,o){var i=r&Ws,s=e.length,u=t.length;if(s!=u&&!(i&&u>s))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var f=-1,p=!0,h=r&Vs?new zs:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var d=e[f],m=t[f];if(n)var g=i?n(m,d,f,t,e,o):n(d,m,f,e,t,o);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!$s(t,(function(e,t){if(!Gs(h,t)&&(d===e||a(d,e,r,n,o)))return h.push(t)}))){p=!1;break}}else if(d!==m&&!a(d,m,r,n,o)){p=!1;break}}return o.delete(e),o.delete(t),p};var Js=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var Ks=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Xs=bo.Uint8Array,Zs=qo,Qs=qs,eu=Js,tu=Ks,ru=1,nu=2,au="[object Boolean]",ou="[object Date]",iu="[object Error]",su="[object Map]",uu="[object Number]",cu="[object RegExp]",lu="[object Set]",fu="[object String]",pu="[object Symbol]",hu="[object ArrayBuffer]",du="[object DataView]",mu=yo?yo.prototype:void 0,gu=mu?mu.valueOf:void 0;var vu=function(e,t,r,n,a,o,i){switch(r){case du:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case hu:return!(e.byteLength!=t.byteLength||!o(new Xs(e),new Xs(t)));case au:case ou:case uu:return Zs(+e,+t);case iu:return e.name==t.name&&e.message==t.message;case cu:case fu:return e==t+"";case su:var s=eu;case lu:var u=n&ru;if(s||(s=tu),e.size!=t.size&&!u)return!1;var c=i.get(e);if(c)return c==t;n|=nu,i.set(e,t);var l=Qs(s(e),s(t),n,a,o,i);return i.delete(e),l;case pu:if(gu)return gu.call(e)==gu.call(t)}return!1};var bu=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e},yu=Array.isArray,wu=bu,Mu=yu;var _u=function(e,t,r){var n=t(e);return Mu(e)?n:wu(n,r(e))};var Eu=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o};var xu=Eu,Au=function(){return[]},Ou=Object.prototype.propertyIsEnumerable,Nu=Object.getOwnPropertySymbols,ku=Nu?function(e){return null==e?[]:(e=Object(e),xu(Nu(e),(function(t){return Ou.call(e,t)})))}:Au,Yu=ku;var Tu=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Su=Do,Du=jo,Ru="[object Arguments]";var Cu=function(e){return Du(e)&&Su(e)==Ru},ju=jo,Iu=Object.prototype,Lu=Iu.hasOwnProperty,Fu=Iu.propertyIsEnumerable,Pu=Cu(function(){return arguments}())?Cu:function(e){return ju(e)&&Lu.call(e,"callee")&&!Fu.call(e,"callee")},Bu=Pu,Uu={exports:{}};var Hu=function(){return!1};!function(e,t){var r=bo,n=Hu,a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=(i?i.isBuffer:void 0)||n;e.exports=s}(Uu,Uu.exports);var zu=9007199254740991,$u=/^(?:0|[1-9]\d*)$/;var Gu=function(e,t){var r=typeof e;return!!(t=null==t?zu:t)&&("number"==r||"symbol"!=r&&$u.test(e))&&e>-1&&e%1==0&&e<t},Wu=9007199254740991;var Vu=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Wu},qu=Do,Ju=Vu,Ku=jo,Xu={};Xu["[object Float32Array]"]=Xu["[object Float64Array]"]=Xu["[object Int8Array]"]=Xu["[object Int16Array]"]=Xu["[object Int32Array]"]=Xu["[object Uint8Array]"]=Xu["[object Uint8ClampedArray]"]=Xu["[object Uint16Array]"]=Xu["[object Uint32Array]"]=!0,Xu["[object Arguments]"]=Xu["[object Array]"]=Xu["[object ArrayBuffer]"]=Xu["[object Boolean]"]=Xu["[object DataView]"]=Xu["[object Date]"]=Xu["[object Error]"]=Xu["[object Function]"]=Xu["[object Map]"]=Xu["[object Number]"]=Xu["[object Object]"]=Xu["[object RegExp]"]=Xu["[object Set]"]=Xu["[object String]"]=Xu["[object WeakMap]"]=!1;var Zu=function(e){return Ku(e)&&Ju(e.length)&&!!Xu[qu(e)]};var Qu=function(e){return function(t){return e(t)}},ec={exports:{}};!function(e,t){var r=mo,n=t&&!t.nodeType&&t,a=n&&e&&!e.nodeType&&e,o=a&&a.exports===n&&r.process,i=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}(ec,ec.exports);var tc=Zu,rc=Qu,nc=ec.exports,ac=nc&&nc.isTypedArray,oc=ac?rc(ac):tc,ic=Tu,sc=Bu,uc=yu,cc=Uu.exports,lc=Gu,fc=oc,pc=Object.prototype.hasOwnProperty;var hc=function(e,t){var r=uc(e),n=!r&&sc(e),a=!r&&!n&&cc(e),o=!r&&!n&&!a&&fc(e),i=r||n||a||o,s=i?ic(e.length,String):[],u=s.length;for(var c in e)!t&&!pc.call(e,c)||i&&("length"==c||a&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||lc(c,u))||s.push(c);return s},dc=Object.prototype;var mc=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||dc)},gc=Ro(Object.keys,Object),vc=mc,bc=gc,yc=Object.prototype.hasOwnProperty;var wc=function(e){if(!vc(e))return bc(e);var t=[];for(var r in Object(e))yc.call(e,r)&&"constructor"!=r&&t.push(r);return t},Mc=_i,_c=Vu;var Ec=hc,xc=wc,Ac=function(e){return null!=e&&_c(e.length)&&!Mc(e)};var Oc=function(e){return Ac(e)?Ec(e):xc(e)},Nc=_u,kc=Yu,Yc=Oc;var Tc=function(e){return Nc(e,Yc,kc)},Sc=Tc,Dc=1,Rc=Object.prototype.hasOwnProperty;var Cc=function(e,t,r,n,a,o){var i=r&Dc,s=Sc(e),u=s.length;if(u!=Sc(t).length&&!i)return!1;for(var c=u;c--;){var l=s[c];if(!(i?l in t:Rc.call(t,l)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var h=!0;o.set(e,t),o.set(t,e);for(var d=i;++c<u;){var m=e[l=s[c]],g=t[l];if(n)var v=i?n(g,m,l,t,e,o):n(m,g,l,e,t,o);if(!(void 0===v?m===g||a(m,g,r,n,o):v)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(h=!1)}return o.delete(e),o.delete(t),h},jc=Ui(bo,"DataView"),Ic=Hi,Lc=Ui(bo,"Promise"),Fc=Ui(bo,"Set"),Pc=Ui(bo,"WeakMap"),Bc=Do,Uc=Ni,Hc="[object Map]",zc="[object Promise]",$c="[object Set]",Gc="[object WeakMap]",Wc="[object DataView]",Vc=Uc(jc),qc=Uc(Ic),Jc=Uc(Lc),Kc=Uc(Fc),Xc=Uc(Pc),Zc=Bc;(jc&&Zc(new jc(new ArrayBuffer(1)))!=Wc||Ic&&Zc(new Ic)!=Hc||Lc&&Zc(Lc.resolve())!=zc||Fc&&Zc(new Fc)!=$c||Pc&&Zc(new Pc)!=Gc)&&(Zc=function(e){var t=Bc(e),r="[object Object]"==t?e.constructor:void 0,n=r?Uc(r):"";if(n)switch(n){case Vc:return Wc;case qc:return Hc;case Jc:return zc;case Kc:return $c;case Xc:return Gc}return t});var Qc=Ls,el=qs,tl=vu,rl=Cc,nl=Zc,al=yu,ol=Uu.exports,il=oc,sl=1,ul="[object Arguments]",cl="[object Array]",ll="[object Object]",fl=Object.prototype.hasOwnProperty;var pl=function(e,t,r,n,a,o){var i=al(e),s=al(t),u=i?cl:nl(e),c=s?cl:nl(t),l=(u=u==ul?ll:u)==ll,f=(c=c==ul?ll:c)==ll,p=u==c;if(p&&ol(e)){if(!ol(t))return!1;i=!0,l=!1}if(p&&!l)return o||(o=new Qc),i||il(e)?el(e,t,r,n,a,o):tl(e,t,u,r,n,a,o);if(!(r&sl)){var h=l&&fl.call(e,"__wrapped__"),d=f&&fl.call(t,"__wrapped__");if(h||d){var m=h?e.value():e,g=d?t.value():t;return o||(o=new Qc),a(m,g,r,n,o)}}return!!p&&(o||(o=new Qc),rl(e,t,r,n,a,o))},hl=pl,dl=jo;var ml=function e(t,r,n,a,o){return t===r||(null==t||null==r||!dl(t)&&!dl(r)?t!=t&&r!=r:hl(t,r,n,a,e,o))},gl=ml;var vl=function(e,t){return gl(e,t)},bl=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const yl=bl(vl),wl=bl(Go);function Ml(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n={};return Object.keys(t).forEach((a=>{if(!(0,yl.default)(t[a],e[a])){if(r&&!r.has(a))return;if((0,wl.default)(t[a])&&(0,wl.default)(e[a])){const r=Ml(e[a],t[a]);Object.keys(r).length&&(n[a]=r)}else n[a]=t[a]}})),Object.keys(e).forEach((e=>{r&&!r.has(e)||void 0===t[e]&&(n[e]=null)})),n}var _l=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Ml(e,t,r?new Set(r):null)},El=function(e,t){const r=t?window.parent:window;return function(t,n){if(r&&r.postMessage){const a={source:"datawrapper",chartId:e,type:t,data:n};r.postMessage(a,"*")}}};function xl(){const e=[];return{fire(){for(var t=e.length-1;t>=0;t--)e[t].apply(this,arguments)},add(t){e.push(t)}}}function Al(e,t){const r=e.getMetadata("data.changes",[]),n=e.getMetadata("data.transpose",!1),a=t.numRows();return r.forEach((e=>{const r=n?e.column:e.row,o=n?e.row:e.column;if(t.hasColumn(o))if(e.ignored=!1,0===r){if(e.previous&&"undefined"!==e.previous){if(t.column(o).title()!==e.previous)return}t.column(o).title(e.value)}else if(r<=a){if(e.previous&&"undefined"!==e.previous){if(t.column(o).raw(r-1)!==e.previous)return}t.column(o).raw(r-1,e.value)}})),Gt(e.getMetadata("data.column-format",{}),((e,r)=>{e.type&&t.hasColumn(r)&&"auto"!==e.type&&t.column(r).type(e.type),e["input-format"]&&t.hasColumn(r)&&t.column(r).type(!0).format(e["input-format"])})),t}var Ol=function(e){return e.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")};function Nl(e,t){let r=e.getMetadata("describe.computed-columns",{});Array.isArray(r)||(r=Object.keys(r).reduce(((e,t)=>(e.push({name:t,formula:r[t]}),e)),[]));const n=Al(e,t).list(),a={},o={},i=new ro;t.eachColumn((function(e){if(!e.isComputed)if(a[e.name()]=Ol(e.name()),"number"===e.type()){const[t,r]=e.range();o[e.name()]={min:t,max:r,sum:e.sum(),mean:e.mean(),median:e.median()}}else if("date"===e.type()){const[t,r]=e.range();o[e.name()]={min:t,max:r}}}));const s=r.reduce(((e,r,n)=>{const a=Ol(r.name);return e.set(a,{name:r.name,index:t.numColumns()+n,key:a,formula:r.formula,visited:0,computed:!1,dependsOn:[]})}),new Map);r.forEach((e=>{let{formula:t,name:r}=e;const n=s.get(Ol(r));if(t.trim())try{n.expr=i.parse(t.trim()),n.expr.variables().forEach((e=>{e=e.split("__")[0],s.has(e)&&n.dependsOn.push(s.get(e))}))}catch(e){n.error=e.message}else n.expr={evaluate:()=>"",variables:()=>[]}}));const u=[];let c=0;for(;s.size&&!(c>1e3);)s.forEach((e=>{c++;try{l(e,[])}catch(t){if(!t.message.startsWith("circular-dependency"))throw t;e.error=t.message,s.delete(e.key),u.push(e)}}));return u.forEach((t=>{if(t.error){const e=yn(t.name,n.map((()=>"null")));e.isComputed=!0,e.formula=t.formula,e.errors=[{message:t.error,row:"all"}],t.column=e}else t.column=function(t){let{formula:r,name:i,expr:s,error:u,index:c}=t;const l=[];u&&l.push({row:"all",message:u});const f=e.getMetadata("data.changes",[]).filter((e=>e.column===c&&e.row>0)).reduce(((e,t)=>{const r=e.get(t.row-1);return r&&(t.previous=r.previous),e.set(t.row-1,t),e}),new Map),p=n.map((function(e,t){const r={ROWNUMBER:t};let n;Gt(e,(function(e,t){a[t]&&(r[a[t]]=e,o[t]&&Object.keys(o[t]).forEach((e=>{r[`${a[t]}__${e}`]=o[t][e]})))}));try{n=s.evaluate(r),"function"==typeof n&&(l.push({message:"formula returned function",row:t}),n=null)}catch(e){l.push({message:e.message,row:t}),n=null}if(f.has(t)){const e=f.get(t);if(void 0===e.previous||e.previous==n)return e.value}return n}));a[i]=Ol(i),p.forEach(((e,t)=>{n[t][i]=e}));var h=yn(i,p.map((function(e){return N(e)?e?"yes":"no":D(e)?function(e){try{return e.toISOString()}catch(t){if(t instanceof RangeError)return e.toString();throw t}}(e):S(e)?String(e):A(e)?null:String(e)})));if("number"===h.type()){const[e,t]=h.range();o[i]={min:e,max:t,sum:h.sum(),mean:h.mean(),median:h.median()}}else if("date"===h.type()){const[e,t]=h.range();o[i]={min:e,max:t}}return h.isComputed=!0,h.errors=l,h.formula=r,h}(t)})),u.sort(((e,t)=>e.index-t.index)).forEach((e=>{let{column:r}=e;return t.add(r)})),t;function l(e,t){if(e.computed)return;t.push(e.name);for(let r=0;r<t.length-2;r++)if(e.name===t[r])throw new Error("circular-dependency: "+t.join(" ‣ "));e.curIter=c;let r=!0;for(let t=0;t<e.dependsOn.length;t++)r=r&&e.dependsOn[t].computed;r?(e.computed=!0,u.push(e),s.delete(e.key)):t.length<10&&e.dependsOn.forEach((e=>{l(e,t.slice(0))}))}}function kl(e){const t=Object.keys(e),r=[];return t.forEach((t=>{Go(e[t])?kl(e[t]).forEach((e=>{r.push(`${t}.${e}`)})):r.push(t)})),r}var Yl={exports:{}};
/*! @preserve
     * numeral.js
     * version : 2.0.6
     * author : Adam Draper
     * license : MIT
     * http://adamwdraper.github.com/Numeral-js/
     */!function(e){!function(t,r){e.exports?e.exports=r():t.numeral=r()}(an,(function(){var e,t,r,n,a,o={},i={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function c(e,t){this._input=e,this._value=t}return(e=function(r){var n,a,i,s;if(e.isNumeral(r))n=r.value();else if(0===r||void 0===r)n=0;else if(null===r||t.isNaN(r))n=null;else if("string"==typeof r)if(u.zeroFormat&&r===u.zeroFormat)n=0;else if(u.nullFormat&&r===u.nullFormat||!r.replace(/[^0-9]+/g,"").length)n=null;else{for(a in o)if((s="function"==typeof o[a].regexps.unformat?o[a].regexps.unformat():o[a].regexps.unformat)&&r.match(s)){i=o[a].unformat;break}n=(i=i||e._.stringToNumber)(r)}else n=Number(r)||null;return new c(r,n)}).version="2.0.6",e.isNumeral=function(e){return e instanceof c},e._=t={numberToFormat:function(t,r,n){var a,o,s,u,c,l,f,p,h=i[e.options.currentLocale],d=!1,m=!1,g="",v=1e12,b=1e9,y=1e6,w="",M=!1;if(t=t||0,s=Math.abs(t),e._.includes(r,"(")?(d=!0,r=r.replace(/[\(|\)]/g,"")):(e._.includes(r,"+")||e._.includes(r,"-"))&&(l=e._.includes(r,"+")?r.indexOf("+"):t<0?r.indexOf("-"):-1,r=r.replace(/[\+|\-]/g,"")),e._.includes(r,"a")&&(o=!!(o=r.match(/a(k|m|b|t)?/))&&o[1],e._.includes(r," a")&&(g=" "),r=r.replace(new RegExp(g+"a[kmbt]?"),""),s>=v&&!o||"t"===o?(g+=h.abbreviations.trillion,t/=v):s<v&&s>=b&&!o||"b"===o?(g+=h.abbreviations.billion,t/=b):s<b&&s>=y&&!o||"m"===o?(g+=h.abbreviations.million,t/=y):(s<y&&s>=1e3&&!o||"k"===o)&&(g+=h.abbreviations.thousand,t/=1e3)),e._.includes(r,"[.]")&&(m=!0,r=r.replace("[.]",".")),u=t.toString().split(".")[0],c=r.split(".")[1],f=r.indexOf(","),a=(r.split(".")[0].split(",")[0].match(/0/g)||[]).length,c?(e._.includes(c,"[")?(c=(c=c.replace("]","")).split("["),w=e._.toFixed(t,c[0].length+c[1].length,n,c[1].length)):w=e._.toFixed(t,c.length,n),u=w.split(".")[0],w=e._.includes(w,".")?h.delimiters.decimal+w.split(".")[1]:"",m&&0===Number(w.slice(1))&&(w="")):u=e._.toFixed(t,0,n),g&&!o&&Number(u)>=1e3&&g!==h.abbreviations.trillion)switch(u=String(Number(u)/1e3),g){case h.abbreviations.thousand:g=h.abbreviations.million;break;case h.abbreviations.million:g=h.abbreviations.billion;break;case h.abbreviations.billion:g=h.abbreviations.trillion}if(e._.includes(u,"-")&&(u=u.slice(1),M=!0),u.length<a)for(var _=a-u.length;_>0;_--)u="0"+u;return f>-1&&(u=u.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===r.indexOf(".")&&(u=""),p=u+w+(g||""),d?p=(d&&M?"(":"")+p+(d&&M?")":""):l>=0?p=0===l?(M?"-":"+")+p:p+(M?"-":"+"):M&&(p="-"+p),p},stringToNumber:function(e){var t,r,n,a=i[u.currentLocale],o=e,s={thousand:3,million:6,billion:9,trillion:12};if(u.zeroFormat&&e===u.zeroFormat)r=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)r=null;else{for(t in r=1,"."!==a.delimiters.decimal&&(e=e.replace(/\./g,"").replace(a.delimiters.decimal,".")),s)if(n=new RegExp("[^a-zA-Z]"+a.abbreviations[t]+"(?:\\)|(\\"+a.currency.symbol+")?(?:\\))?)?$"),o.match(n)){r*=Math.pow(10,s[t]);break}r*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),r*=Number(e)}return r},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,r){return e.slice(0,r)+t+e.slice(r)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var r,n=Object(e),a=n.length>>>0,o=0;if(3===arguments.length)r=arguments[2];else{for(;o<a&&!(o in n);)o++;if(o>=a)throw new TypeError("Reduce of empty array with no initial value");r=n[o++]}for(;o<a;o++)o in n&&(r=t(r,n[o],o,n));return r},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce((function(e,r){var n=t.multiplier(r);return e>n?e:n}),1)},toFixed:function(e,t,r,n){var a,o,i,s,u=e.toString().split("."),c=t-(n||0);return a=2===u.length?Math.min(Math.max(u[1].length,c),t):c,i=Math.pow(10,a),s=(r(e+"e+"+a)/i).toFixed(a),n>t-a&&(o=new RegExp("\\.?0{1,"+(n-(t-a))+"}$"),s=s.replace(o,"")),s}},e.options=u,e.formats=o,e.locales=i,e.locale=function(e){return e&&(u.currentLocale=e.toLowerCase()),u.currentLocale},e.localeData=function(e){if(!e)return i[u.currentLocale];if(e=e.toLowerCase(),!i[e])throw new Error("Unknown locale : "+e);return i[e]},e.reset=function(){for(var e in s)u[e]=s[e]},e.zeroFormat=function(e){u.zeroFormat="string"==typeof e?e:null},e.nullFormat=function(e){u.nullFormat="string"==typeof e?e:null},e.defaultFormat=function(e){u.defaultFormat="string"==typeof e?e:"0.0"},e.register=function(e,t,r){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=r,r},e.validate=function(t,r){var n,a,o,i,s,u,c,l;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{c=e.localeData(r)}catch(t){c=e.localeData(e.locale())}return o=c.currency.symbol,s=c.abbreviations,n=c.delimiters.decimal,a="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(l=t.match(/^[^\d]+/))||(t=t.substr(1),l[0]===o))&&((null===(l=t.match(/[^\d]+$/))||(t=t.slice(0,-1),l[0]===s.thousand||l[0]===s.million||l[0]===s.billion||l[0]===s.trillion))&&(u=new RegExp(a+"{2}"),!t.match(/[^\d.,]/g)&&(!((i=t.split(n)).length>2)&&(i.length<2?!!i[0].match(/^\d+.*\d$/)&&!i[0].match(u):1===i[0].length?!!i[0].match(/^\d+$/)&&!i[0].match(u)&&!!i[1].match(/^\d+$/):!!i[0].match(/^\d+.*\d$/)&&!i[0].match(u)&&!!i[1].match(/^\d+$/)))))},e.fn=c.prototype={clone:function(){return e(this)},format:function(t,r){var n,a,i,s=this._value,c=t||u.defaultFormat;if(r=r||Math.round,0===s&&null!==u.zeroFormat)a=u.zeroFormat;else if(null===s&&null!==u.nullFormat)a=u.nullFormat;else{for(n in o)if(c.match(o[n].regexps.format)){i=o[n].format;break}a=(i=i||e._.numberToFormat)(s,c,r)}return a},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var r=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([this._value,e],(function(e,t,n,a){return e+Math.round(r*t)}),0)/r,this},subtract:function(e){var r=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([e],(function(e,t,n,a){return e-Math.round(r*t)}),Math.round(this._value*r))/r,this},multiply:function(e){return this._value=t.reduce([this._value,e],(function(e,r,n,a){var o=t.correctionFactor(e,r);return Math.round(e*o)*Math.round(r*o)/Math.round(o*o)}),1),this},divide:function(e){return this._value=t.reduce([this._value,e],(function(e,r,n,a){var o=t.correctionFactor(e,r);return Math.round(e*o)/Math.round(r*o)})),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,r,n){var a,o=e._.includes(r," BPS")?" ":"";return t*=1e4,r=r.replace(/\s?BPS/,""),a=e._.numberToFormat(t,r,n),e._.includes(a,")")?((a=a.split("")).splice(-1,0,o+"BPS"),a=a.join("")):a=a+o+"BPS",a},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},a="("+(a=(r={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(n.suffixes.filter((function(e){return r.suffixes.indexOf(e)<0}))).join("|")).replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(a)},format:function(t,a,o){var i,s,u,c=e._.includes(a,"ib")?n:r,l=e._.includes(a," b")||e._.includes(a," ib")?" ":"";for(a=a.replace(/\s?i?b/,""),i=0;i<=c.suffixes.length;i++)if(s=Math.pow(c.base,i),u=Math.pow(c.base,i+1),null===t||0===t||t>=s&&t<u){l+=c.suffixes[i],s>0&&(t/=s);break}return e._.numberToFormat(t,a,o)+l},unformat:function(t){var a,o,i=e._.stringToNumber(t);if(i){for(a=r.suffixes.length-1;a>=0;a--){if(e._.includes(t,r.suffixes[a])){o=Math.pow(r.base,a);break}if(e._.includes(t,n.suffixes[a])){o=Math.pow(n.base,a);break}}i*=o||1}return i}}),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,r,n){var a,o,i=e.locales[e.options.currentLocale],s={before:r.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:r.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(r=r.replace(/\s?\$\s?/,""),a=e._.numberToFormat(t,r,n),t>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(s.before,"-")&&!e._.includes(s.before,"(")&&(s.before="-"+s.before),o=0;o<s.before.length;o++)switch(s.before[o]){case"$":a=e._.insert(a,i.currency.symbol,o);break;case" ":a=e._.insert(a," ",o+i.currency.symbol.length-1)}for(o=s.after.length-1;o>=0;o--)switch(s.after[o]){case"$":a=o===s.after.length-1?a+i.currency.symbol:e._.insert(a,i.currency.symbol,-(s.after.length-(1+o)));break;case" ":a=o===s.after.length-1?a+" ":e._.insert(a," ",-(s.after.length-(1+o)+i.currency.symbol.length-1))}return a}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,r,n){var a=("number"!=typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return r=r.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(a[0]),r,n)+"e"+a[1]},unformat:function(t){var r=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),n=Number(r[0]),a=Number(r[1]);return a=e._.includes(t,"e-")?a*=-1:a,e._.reduce([n,Math.pow(10,a)],(function(t,r,n,a){var o=e._.correctionFactor(t,r);return t*o*(r*o)/(o*o)}),1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,r,n){var a=e.locales[e.options.currentLocale],o=e._.includes(r," o")?" ":"";return r=r.replace(/\s?o/,""),o+=a.ordinal(t),e._.numberToFormat(t,r,n)+o}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,r,n){var a,o=e._.includes(r," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),r=r.replace(/\s?\%/,""),a=e._.numberToFormat(t,r,n),e._.includes(a,")")?((a=a.split("")).splice(-1,0,o+"%"),a=a.join("")):a=a+o+"%",a},unformat:function(t){var r=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*r:r}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,r){var n=Math.floor(e/60/60),a=Math.floor((e-60*n*60)/60),o=Math.round(e-60*n*60-60*a);return n+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)},unformat:function(e){var t=e.split(":"),r=0;return 3===t.length?(r+=60*Number(t[0])*60,r+=60*Number(t[1]),r+=Number(t[2])):2===t.length&&(r+=60*Number(t[0]),r+=Number(t[1])),Number(r)}}),e}))}(Yl);var Tl=Yl.exports,Sl={exports:{}};
/**
     * chroma.js - JavaScript library for color conversions
     *
     * Copyright (c) 2011-2019, Gregor Aisch
     * All rights reserved.
     *
     * Redistribution and use in source and binary forms, with or without
     * modification, are permitted provided that the following conditions are met:
     *
     * 1. Redistributions of source code must retain the above copyright notice, this
     * list of conditions and the following disclaimer.
     *
     * 2. Redistributions in binary form must reproduce the above copyright notice,
     * this list of conditions and the following disclaimer in the documentation
     * and/or other materials provided with the distribution.
     *
     * 3. The name Gregor Aisch may not be used to endorse or promote products
     * derived from this software without specific prior written permission.
     *
     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
     * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
     * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
     * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
     * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
     * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
     * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
     * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
     * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
     * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     *
     * -------------------------------------------------------
     *
     * chroma.js includes colors from colorbrewer2.org, which are released under
     * the following license:
     *
     * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
     * and The Pennsylvania State University.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     * http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing,
     * software distributed under the License is distributed on an
     * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
     * either express or implied. See the License for the specific
     * language governing permissions and limitations under the License.
     *
     * ------------------------------------------------------
     *
     * Named colors are taken from X11 Color Names.
     * http://www.w3.org/TR/css3-color/#svg-color
     *
     * @preserve
     */
!function(e,t){e.exports=function(){for(var e=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e<t?t:e>r?r:e},t=e,r=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var r=0;r<=3;r++)r<3?((e[r]<0||e[r]>255)&&(e._clipped=!0),e[r]=t(e[r],0,255)):3===r&&(e[r]=t(e[r],0,1));return e},n={},a=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];a<o.length;a+=1){var i=o[a];n["[object "+i+"]"]=i.toLowerCase()}var s=function(e){return n[Object.prototype.toString.call(e)]||"object"},u=s,c=function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==u(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},l=s,f=function(e){if(e.length<2)return null;var t=e.length-1;return"string"==l(e[t])?e[t].toLowerCase():null},p=Math.PI,h={clip_rgb:r,limit:e,type:s,unpack:c,last:f,PI:p,TWOPI:2*p,PITHIRD:p/3,DEG2RAD:p/180,RAD2DEG:180/p},d={format:{},autodetect:[]},m=h.last,g=h.clip_rgb,v=h.type,b=d,y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=this;if("object"===v(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var n=m(e),a=!1;if(!n){a=!0,b.sorted||(b.autodetect=b.autodetect.sort((function(e,t){return t.p-e.p})),b.sorted=!0);for(var o=0,i=b.autodetect;o<i.length;o+=1){var s=i[o];if(n=s.test.apply(s,e))break}}if(!b.format[n])throw new Error("unknown format: "+e);var u=b.format[n].apply(null,a?e:e.slice(0,-1));r._rgb=g(u),3===r._rgb.length&&r._rgb.push(1)};y.prototype.toString=function(){return"function"==v(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var w=y,M=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(M.Color,[null].concat(e)))};M.Color=w,M.version="2.4.2";var _=M,E=h.unpack,x=Math.max,A=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=E(e,"rgb"),n=r[0],a=r[1],o=r[2],i=1-x(n/=255,x(a/=255,o/=255)),s=i<1?1/(1-i):0;return[(1-n-i)*s,(1-a-i)*s,(1-o-i)*s,i]},O=A,N=h.unpack,k=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=N(e,"cmyk"))[0],n=e[1],a=e[2],o=e[3],i=e.length>4?e[4]:1;return 1===o?[0,0,0,i]:[r>=1?0:255*(1-r)*(1-o),n>=1?0:255*(1-n)*(1-o),a>=1?0:255*(1-a)*(1-o),i]},Y=k,T=_,S=w,D=d,R=h.unpack,C=h.type,j=O;S.prototype.cmyk=function(){return j(this._rgb)},T.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(S,[null].concat(e,["cmyk"])))},D.format.cmyk=Y,D.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=R(e,"cmyk"),"array"===C(e)&&4===e.length)return"cmyk"}});var I=h.unpack,L=h.last,F=function(e){return Math.round(100*e)/100},P=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=I(e,"hsla"),n=L(e)||"lsa";return r[0]=F(r[0]||0),r[1]=F(100*r[1])+"%",r[2]=F(100*r[2])+"%","hsla"===n||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,n="hsla"):r.length=3,n+"("+r.join(",")+")"},B=P,U=h.unpack,H=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=U(e,"rgba"))[0],n=e[1],a=e[2];r/=255,n/=255,a/=255;var o,i,s=Math.min(r,n,a),u=Math.max(r,n,a),c=(u+s)/2;return u===s?(o=0,i=Number.NaN):o=c<.5?(u-s)/(u+s):(u-s)/(2-u-s),r==u?i=(n-a)/(u-s):n==u?i=2+(a-r)/(u-s):a==u&&(i=4+(r-n)/(u-s)),(i*=60)<0&&(i+=360),e.length>3&&void 0!==e[3]?[i,o,c,e[3]]:[i,o,c]},z=H,$=h.unpack,G=h.last,W=B,V=z,q=Math.round,J=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=$(e,"rgba"),n=G(e)||"rgb";return"hsl"==n.substr(0,3)?W(V(r),n):(r[0]=q(r[0]),r[1]=q(r[1]),r[2]=q(r[2]),("rgba"===n||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,n="rgba"),n+"("+r.slice(0,"rgb"===n?3:4).join(",")+")")},K=J,X=h.unpack,Z=Math.round,Q=function(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];var n,a,o,i=(t=X(t,"hsl"))[0],s=t[1],u=t[2];if(0===s)n=a=o=255*u;else{var c=[0,0,0],l=[0,0,0],f=u<.5?u*(1+s):u+s-u*s,p=2*u-f,h=i/360;c[0]=h+1/3,c[1]=h,c[2]=h-1/3;for(var d=0;d<3;d++)c[d]<0&&(c[d]+=1),c[d]>1&&(c[d]-=1),6*c[d]<1?l[d]=p+6*(f-p)*c[d]:2*c[d]<1?l[d]=f:3*c[d]<2?l[d]=p+(f-p)*(2/3-c[d])*6:l[d]=p;n=(e=[Z(255*l[0]),Z(255*l[1]),Z(255*l[2])])[0],a=e[1],o=e[2]}return t.length>3?[n,a,o,t[3]]:[n,a,o,1]},ee=Q,te=ee,re=d,ne=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ae=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,oe=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ie=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,se=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ue=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ce=Math.round,le=function(e){var t;if(e=e.toLowerCase().trim(),re.format.named)try{return re.format.named(e)}catch(e){}if(t=e.match(ne)){for(var r=t.slice(1,4),n=0;n<3;n++)r[n]=+r[n];return r[3]=1,r}if(t=e.match(ae)){for(var a=t.slice(1,5),o=0;o<4;o++)a[o]=+a[o];return a}if(t=e.match(oe)){for(var i=t.slice(1,4),s=0;s<3;s++)i[s]=ce(2.55*i[s]);return i[3]=1,i}if(t=e.match(ie)){for(var u=t.slice(1,5),c=0;c<3;c++)u[c]=ce(2.55*u[c]);return u[3]=+u[3],u}if(t=e.match(se)){var l=t.slice(1,4);l[1]*=.01,l[2]*=.01;var f=te(l);return f[3]=1,f}if(t=e.match(ue)){var p=t.slice(1,4);p[1]*=.01,p[2]*=.01;var h=te(p);return h[3]=+t[4],h}};le.test=function(e){return ne.test(e)||ae.test(e)||oe.test(e)||ie.test(e)||se.test(e)||ue.test(e)};var fe=le,pe=_,he=w,de=d,me=h.type,ge=K,ve=fe;he.prototype.css=function(e){return ge(this._rgb,e)},pe.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(he,[null].concat(e,["css"])))},de.format.css=ve,de.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===me(e)&&ve.test(e))return"css"}});var be=w,ye=_,we=d,Me=h.unpack;we.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Me(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},ye.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(be,[null].concat(e,["gl"])))},be.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var _e=h.unpack,Ee=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n=_e(e,"rgb"),a=n[0],o=n[1],i=n[2],s=Math.min(a,o,i),u=Math.max(a,o,i),c=u-s,l=100*c/255,f=s/(255-c)*100;return 0===c?r=Number.NaN:(a===u&&(r=(o-i)/c),o===u&&(r=2+(i-a)/c),i===u&&(r=4+(a-o)/c),(r*=60)<0&&(r+=360)),[r,l,f]},xe=Ee,Ae=h.unpack,Oe=Math.floor,Ne=function(){for(var e,t,r,n,a,o,i=[],s=arguments.length;s--;)i[s]=arguments[s];var u,c,l,f=(i=Ae(i,"hcg"))[0],p=i[1],h=i[2];h*=255;var d=255*p;if(0===p)u=c=l=h;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var m=Oe(f/=60),g=f-m,v=h*(1-p),b=v+d*(1-g),y=v+d*g,w=v+d;switch(m){case 0:u=(e=[w,y,v])[0],c=e[1],l=e[2];break;case 1:u=(t=[b,w,v])[0],c=t[1],l=t[2];break;case 2:u=(r=[v,w,y])[0],c=r[1],l=r[2];break;case 3:u=(n=[v,b,w])[0],c=n[1],l=n[2];break;case 4:u=(a=[y,v,w])[0],c=a[1],l=a[2];break;case 5:u=(o=[w,v,b])[0],c=o[1],l=o[2]}}return[u,c,l,i.length>3?i[3]:1]},ke=Ne,Ye=h.unpack,Te=h.type,Se=_,De=w,Re=d,Ce=xe;De.prototype.hcg=function(){return Ce(this._rgb)},Se.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(De,[null].concat(e,["hcg"])))},Re.format.hcg=ke,Re.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ye(e,"hcg"),"array"===Te(e)&&3===e.length)return"hcg"}});var je=h.unpack,Ie=h.last,Le=Math.round,Fe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=je(e,"rgba"),n=r[0],a=r[1],o=r[2],i=r[3],s=Ie(e)||"auto";void 0===i&&(i=1),"auto"===s&&(s=i<1?"rgba":"rgb");var u="000000"+((n=Le(n))<<16|(a=Le(a))<<8|(o=Le(o))).toString(16);u=u.substr(u.length-6);var c="0"+Le(255*i).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+u+c;case"argb":return"#"+c+u;default:return"#"+u}},Pe=Fe,Be=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ue=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,He=function(e){if(e.match(Be)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(Ue)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var r=parseInt(e,16);return[r>>24&255,r>>16&255,r>>8&255,Math.round((255&r)/255*100)/100]}throw new Error("unknown hex color: "+e)},ze=_,$e=w,Ge=h.type,We=d,Ve=Pe;$e.prototype.hex=function(e){return Ve(this._rgb,e)},ze.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply($e,[null].concat(e,["hex"])))},We.format.hex=He,We.autodetect.push({p:4,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===Ge(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var qe=h.unpack,Je=h.TWOPI,Ke=Math.min,Xe=Math.sqrt,Ze=Math.acos,Qe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n=qe(e,"rgb"),a=n[0],o=n[1],i=n[2],s=Ke(a/=255,o/=255,i/=255),u=(a+o+i)/3,c=u>0?1-s/u:0;return 0===c?r=NaN:(r=(a-o+(a-i))/2,r/=Xe((a-o)*(a-o)+(a-i)*(o-i)),r=Ze(r),i>o&&(r=Je-r),r/=Je),[360*r,c,u]},et=Qe,tt=h.unpack,rt=h.limit,nt=h.TWOPI,at=h.PITHIRD,ot=Math.cos,it=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a,o=(e=tt(e,"hsi"))[0],i=e[1],s=e[2];return isNaN(o)&&(o=0),isNaN(i)&&(i=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?n=1-((a=(1-i)/3)+(r=(1+i*ot(nt*o)/ot(at-nt*o))/3)):o<2/3?a=1-((r=(1-i)/3)+(n=(1+i*ot(nt*(o-=1/3))/ot(at-nt*o))/3)):r=1-((n=(1-i)/3)+(a=(1+i*ot(nt*(o-=2/3))/ot(at-nt*o))/3)),[255*(r=rt(s*r*3)),255*(n=rt(s*n*3)),255*(a=rt(s*a*3)),e.length>3?e[3]:1]},st=it,ut=h.unpack,ct=h.type,lt=_,ft=w,pt=d,ht=et;ft.prototype.hsi=function(){return ht(this._rgb)},lt.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ft,[null].concat(e,["hsi"])))},pt.format.hsi=st,pt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ut(e,"hsi"),"array"===ct(e)&&3===e.length)return"hsi"}});var dt=h.unpack,mt=h.type,gt=_,vt=w,bt=d,yt=z;vt.prototype.hsl=function(){return yt(this._rgb)},gt.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(vt,[null].concat(e,["hsl"])))},bt.format.hsl=ee,bt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=dt(e,"hsl"),"array"===mt(e)&&3===e.length)return"hsl"}});var wt=h.unpack,Mt=Math.min,_t=Math.max,Et=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a,o=(e=wt(e,"rgb"))[0],i=e[1],s=e[2],u=Mt(o,i,s),c=_t(o,i,s),l=c-u;return a=c/255,0===c?(r=Number.NaN,n=0):(n=l/c,o===c&&(r=(i-s)/l),i===c&&(r=2+(s-o)/l),s===c&&(r=4+(o-i)/l),(r*=60)<0&&(r+=360)),[r,n,a]},xt=Et,At=h.unpack,Ot=Math.floor,Nt=function(){for(var e,t,r,n,a,o,i=[],s=arguments.length;s--;)i[s]=arguments[s];var u,c,l,f=(i=At(i,"hsv"))[0],p=i[1],h=i[2];if(h*=255,0===p)u=c=l=h;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var d=Ot(f/=60),m=f-d,g=h*(1-p),v=h*(1-p*m),b=h*(1-p*(1-m));switch(d){case 0:u=(e=[h,b,g])[0],c=e[1],l=e[2];break;case 1:u=(t=[v,h,g])[0],c=t[1],l=t[2];break;case 2:u=(r=[g,h,b])[0],c=r[1],l=r[2];break;case 3:u=(n=[g,v,h])[0],c=n[1],l=n[2];break;case 4:u=(a=[b,g,h])[0],c=a[1],l=a[2];break;case 5:u=(o=[h,g,v])[0],c=o[1],l=o[2]}}return[u,c,l,i.length>3?i[3]:1]},kt=Nt,Yt=h.unpack,Tt=h.type,St=_,Dt=w,Rt=d,Ct=xt;Dt.prototype.hsv=function(){return Ct(this._rgb)},St.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dt,[null].concat(e,["hsv"])))},Rt.format.hsv=kt,Rt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Yt(e,"hsv"),"array"===Tt(e)&&3===e.length)return"hsv"}});var jt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},It=jt,Lt=h.unpack,Ft=Math.pow,Pt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Lt(e,"rgb"),n=r[0],a=r[1],o=r[2],i=Ht(n,a,o),s=i[0],u=i[1],c=116*u-16;return[c<0?0:c,500*(s-u),200*(u-i[2])]},Bt=function(e){return(e/=255)<=.04045?e/12.92:Ft((e+.055)/1.055,2.4)},Ut=function(e){return e>It.t3?Ft(e,1/3):e/It.t2+It.t0},Ht=function(e,t,r){return e=Bt(e),t=Bt(t),r=Bt(r),[Ut((.4124564*e+.3575761*t+.1804375*r)/It.Xn),Ut((.2126729*e+.7151522*t+.072175*r)/It.Yn),Ut((.0193339*e+.119192*t+.9503041*r)/It.Zn)]},zt=Pt,$t=jt,Gt=h.unpack,Wt=Math.pow,Vt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a,o=(e=Gt(e,"lab"))[0],i=e[1],s=e[2];return n=(o+16)/116,r=isNaN(i)?n:n+i/500,a=isNaN(s)?n:n-s/200,n=$t.Yn*Jt(n),r=$t.Xn*Jt(r),a=$t.Zn*Jt(a),[qt(3.2404542*r-1.5371385*n-.4985314*a),qt(-.969266*r+1.8760108*n+.041556*a),qt(.0556434*r-.2040259*n+1.0572252*a),e.length>3?e[3]:1]},qt=function(e){return 255*(e<=.00304?12.92*e:1.055*Wt(e,1/2.4)-.055)},Jt=function(e){return e>$t.t1?e*e*e:$t.t2*(e-$t.t0)},Kt=Vt,Xt=h.unpack,Zt=h.type,Qt=_,er=w,tr=d,rr=zt;er.prototype.lab=function(){return rr(this._rgb)},Qt.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(er,[null].concat(e,["lab"])))},tr.format.lab=Kt,tr.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Xt(e,"lab"),"array"===Zt(e)&&3===e.length)return"lab"}});var nr=h.unpack,ar=h.RAD2DEG,or=Math.sqrt,ir=Math.atan2,sr=Math.round,ur=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=nr(e,"lab"),n=r[0],a=r[1],o=r[2],i=or(a*a+o*o),s=(ir(o,a)*ar+360)%360;return 0===sr(1e4*i)&&(s=Number.NaN),[n,i,s]},cr=ur,lr=h.unpack,fr=zt,pr=cr,hr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=lr(e,"rgb"),n=r[0],a=r[1],o=r[2],i=fr(n,a,o),s=i[0],u=i[1],c=i[2];return pr(s,u,c)},dr=hr,mr=h.unpack,gr=h.DEG2RAD,vr=Math.sin,br=Math.cos,yr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=mr(e,"lch"),n=r[0],a=r[1],o=r[2];return isNaN(o)&&(o=0),[n,br(o*=gr)*a,vr(o)*a]},wr=yr,Mr=h.unpack,_r=wr,Er=Kt,xr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=Mr(e,"lch"))[0],n=e[1],a=e[2],o=_r(r,n,a),i=o[0],s=o[1],u=o[2],c=Er(i,s,u);return[c[0],c[1],c[2],e.length>3?e[3]:1]},Ar=xr,Or=h.unpack,Nr=Ar,kr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Or(e,"hcl").reverse();return Nr.apply(void 0,r)},Yr=kr,Tr=h.unpack,Sr=h.type,Dr=_,Rr=w,Cr=d,jr=dr;Rr.prototype.lch=function(){return jr(this._rgb)},Rr.prototype.hcl=function(){return jr(this._rgb).reverse()},Dr.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Rr,[null].concat(e,["lch"])))},Dr.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Rr,[null].concat(e,["hcl"])))},Cr.format.lch=Ar,Cr.format.hcl=Yr,["lch","hcl"].forEach((function(e){return Cr.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=Tr(t,e),"array"===Sr(t)&&3===t.length)return e}})}));var Ir={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Lr=w,Fr=d,Pr=h.type,Br=Ir,Ur=He,Hr=Pe;Lr.prototype.name=function(){for(var e=Hr(this._rgb,"rgb"),t=0,r=Object.keys(Br);t<r.length;t+=1){var n=r[t];if(Br[n]===e)return n.toLowerCase()}return e},Fr.format.named=function(e){if(e=e.toLowerCase(),Br[e])return Ur(Br[e]);throw new Error("unknown color name: "+e)},Fr.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===Pr(e)&&Br[e.toLowerCase()])return"named"}});var zr=h.unpack,$r=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=zr(e,"rgb");return(r[0]<<16)+(r[1]<<8)+r[2]},Gr=$r,Wr=h.type,Vr=function(e){if("number"==Wr(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},qr=_,Jr=w,Kr=d,Xr=h.type,Zr=Gr;Jr.prototype.num=function(){return Zr(this._rgb)},qr.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Jr,[null].concat(e,["num"])))},Kr.format.num=Vr,Kr.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Xr(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var Qr=_,en=w,tn=d,rn=h.unpack,nn=h.type,an=Math.round;en.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(an)},en.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,r){return r<3?!1===e?t:an(t):t}))},Qr.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(en,[null].concat(e,["rgb"])))},tn.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=rn(e,"rgba");return void 0===r[3]&&(r[3]=1),r},tn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=rn(e,"rgba"),"array"===nn(e)&&(3===e.length||4===e.length&&"number"==nn(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var on=Math.log,sn=function(e){var t,r,n,a=e/100;return a<66?(t=255,r=a<6?0:-155.25485562709179-.44596950469579133*(r=a-2)+104.49216199393888*on(r),n=a<20?0:.8274096064007395*(n=a-10)-254.76935184120902+115.67994401066147*on(n)):(t=351.97690566805693+.114206453784165*(t=a-55)-40.25366309332127*on(t),r=325.4494125711974+.07943456536662342*(r=a-50)-28.0852963507957*on(r),n=255),[t,r,n,1]},un=sn,cn=h.unpack,ln=Math.round,fn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r,n=cn(e,"rgb"),a=n[0],o=n[2],i=1e3,s=4e4,u=.4;s-i>u;){var c=un(r=.5*(s+i));c[2]/c[0]>=o/a?s=r:i=r}return ln(r)},pn=_,hn=w,dn=d,mn=fn;hn.prototype.temp=hn.prototype.kelvin=hn.prototype.temperature=function(){return mn(this._rgb)},pn.temp=pn.kelvin=pn.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(hn,[null].concat(e,["temp"])))},dn.format.temp=dn.format.kelvin=dn.format.temperature=sn;var gn=h.unpack,vn=Math.cbrt,bn=Math.pow,yn=Math.sign,wn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=gn(e,"rgb"),n=r[0],a=r[1],o=r[2],i=[_n(n/255),_n(a/255),_n(o/255)],s=i[0],u=i[1],c=i[2],l=vn(.4122214708*s+.5363325363*u+.0514459929*c),f=vn(.2119034982*s+.6806995451*u+.1073969566*c),p=vn(.0883024619*s+.2817188376*u+.6299787005*c);return[.2104542553*l+.793617785*f-.0040720468*p,1.9779984951*l-2.428592205*f+.4505937099*p,.0259040371*l+.7827717662*f-.808675766*p]},Mn=wn;function _n(e){var t=Math.abs(e);return t<.04045?e/12.92:(yn(e)||1)*bn((t+.055)/1.055,2.4)}var En=h.unpack,xn=Math.pow,An=Math.sign,On=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=En(e,"lab"))[0],n=e[1],a=e[2],o=xn(r+.3963377774*n+.2158037573*a,3),i=xn(r-.1055613458*n-.0638541728*a,3),s=xn(r-.0894841775*n-1.291485548*a,3);return[255*kn(4.0767416621*o-3.3077115913*i+.2309699292*s),255*kn(-1.2684380046*o+2.6097574011*i-.3413193965*s),255*kn(-.0041960863*o-.7034186147*i+1.707614701*s),e.length>3?e[3]:1]},Nn=On;function kn(e){var t=Math.abs(e);return t>.0031308?(An(e)||1)*(1.055*xn(t,1/2.4)-.055):12.92*e}var Yn=h.unpack,Tn=h.type,Sn=_,Dn=w,Rn=d,Cn=Mn;Dn.prototype.oklab=function(){return Cn(this._rgb)},Sn.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dn,[null].concat(e,["oklab"])))},Rn.format.oklab=Nn,Rn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Yn(e,"oklab"),"array"===Tn(e)&&3===e.length)return"oklab"}});var jn=h.unpack,In=Mn,Ln=cr,Fn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=jn(e,"rgb"),n=r[0],a=r[1],o=r[2],i=In(n,a,o),s=i[0],u=i[1],c=i[2];return Ln(s,u,c)},Pn=Fn,Bn=h.unpack,Un=wr,Hn=Nn,zn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=Bn(e,"lch"))[0],n=e[1],a=e[2],o=Un(r,n,a),i=o[0],s=o[1],u=o[2],c=Hn(i,s,u);return[c[0],c[1],c[2],e.length>3?e[3]:1]},$n=zn,Gn=h.unpack,Wn=h.type,Vn=_,qn=w,Jn=d,Kn=Pn;qn.prototype.oklch=function(){return Kn(this._rgb)},Vn.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(qn,[null].concat(e,["oklch"])))},Jn.format.oklch=$n,Jn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Gn(e,"oklch"),"array"===Wn(e)&&3===e.length)return"oklch"}});var Xn=w,Zn=h.type;Xn.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Zn(e)?t?(this._rgb[3]=e,this):new Xn([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},w.prototype.clipped=function(){return this._rgb._clipped||!1};var Qn=w,ea=jt;Qn.prototype.darken=function(e){void 0===e&&(e=1);var t=this,r=t.lab();return r[0]-=ea.Kn*e,new Qn(r,"lab").alpha(t.alpha(),!0)},Qn.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},Qn.prototype.darker=Qn.prototype.darken,Qn.prototype.brighter=Qn.prototype.brighten,w.prototype.get=function(e){var t=e.split("."),r=t[0],n=t[1],a=this[r]();if(n){var o=r.indexOf(n)-("ok"===r.substr(0,2)?2:0);if(o>-1)return a[o];throw new Error("unknown channel "+n+" in mode "+r)}return a};var ta=w,ra=h.type,na=Math.pow,aa=1e-7,oa=20;ta.prototype.luminance=function(e){if(void 0!==e&&"number"===ra(e)){if(0===e)return new ta([0,0,0,this._rgb[3]],"rgb");if(1===e)return new ta([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),r="rgb",n=oa,a=function(t,o){var i=t.interpolate(o,.5,r),s=i.luminance();return Math.abs(e-s)<aa||!n--?i:s>e?a(t,i):a(i,o)},o=(t>e?a(new ta([0,0,0]),this):a(this,new ta([255,255,255]))).rgb();return new ta(o.concat([this._rgb[3]]))}return ia.apply(void 0,this._rgb.slice(0,3))};var ia=function(e,t,r){return.2126*(e=sa(e))+.7152*(t=sa(t))+.0722*(r=sa(r))},sa=function(e){return(e/=255)<=.03928?e/12.92:na((e+.055)/1.055,2.4)},ua={},ca=w,la=h.type,fa=ua,pa=function(e,t,r){void 0===r&&(r=.5);for(var n=[],a=arguments.length-3;a-- >0;)n[a]=arguments[a+3];var o=n[0]||"lrgb";if(fa[o]||n.length||(o=Object.keys(fa)[0]),!fa[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==la(e)&&(e=new ca(e)),"object"!==la(t)&&(t=new ca(t)),fa[o](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))},ha=w,da=pa;ha.prototype.mix=ha.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return da.apply(void 0,[this,e,t].concat(r))};var ma=w;ma.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new ma([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};var ga=w,va=jt;ga.prototype.saturate=function(e){void 0===e&&(e=1);var t=this,r=t.lch();return r[1]+=va.Kn*e,r[1]<0&&(r[1]=0),new ga(r,"lch").alpha(t.alpha(),!0)},ga.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var ba=w,ya=h.type;ba.prototype.set=function(e,t,r){void 0===r&&(r=!1);var n=e.split("."),a=n[0],o=n[1],i=this[a]();if(o){var s=a.indexOf(o)-("ok"===a.substr(0,2)?2:0);if(s>-1){if("string"==ya(t))switch(t.charAt(0)){case"+":case"-":i[s]+=+t;break;case"*":i[s]*=+t.substr(1);break;case"/":i[s]/=+t.substr(1);break;default:i[s]=+t}else{if("number"!==ya(t))throw new Error("unsupported value for Color.set");i[s]=t}var u=new ba(i,a);return r?(this._rgb=u._rgb,this):u}throw new Error("unknown channel "+o+" in mode "+a)}return i};var wa=w,Ma=function(e,t,r){var n=e._rgb,a=t._rgb;return new wa(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"rgb")};ua.rgb=Ma;var _a=w,Ea=Math.sqrt,xa=Math.pow,Aa=function(e,t,r){var n=e._rgb,a=n[0],o=n[1],i=n[2],s=t._rgb,u=s[0],c=s[1],l=s[2];return new _a(Ea(xa(a,2)*(1-r)+xa(u,2)*r),Ea(xa(o,2)*(1-r)+xa(c,2)*r),Ea(xa(i,2)*(1-r)+xa(l,2)*r),"rgb")};ua.lrgb=Aa;var Oa=w,Na=function(e,t,r){var n=e.lab(),a=t.lab();return new Oa(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"lab")};ua.lab=Na;var ka=w,Ya=function(e,t,r,n){var a,o,i,s,u,c,l,f,p,h,d,m,g;return"hsl"===n?(i=e.hsl(),s=t.hsl()):"hsv"===n?(i=e.hsv(),s=t.hsv()):"hcg"===n?(i=e.hcg(),s=t.hcg()):"hsi"===n?(i=e.hsi(),s=t.hsi()):"lch"===n||"hcl"===n?(n="hcl",i=e.hcl(),s=t.hcl()):"oklch"===n&&(i=e.oklch().reverse(),s=t.oklch().reverse()),"h"!==n.substr(0,1)&&"oklch"!==n||(u=(a=i)[0],l=a[1],p=a[2],c=(o=s)[0],f=o[1],h=o[2]),isNaN(u)||isNaN(c)?isNaN(u)?isNaN(c)?m=Number.NaN:(m=c,1!=p&&0!=p||"hsv"==n||(d=f)):(m=u,1!=h&&0!=h||"hsv"==n||(d=l)):m=u+r*(c>u&&c-u>180?c-(u+360):c<u&&u-c>180?c+360-u:c-u),void 0===d&&(d=l+r*(f-l)),g=p+r*(h-p),new ka("oklch"===n?[g,d,m]:[m,d,g],n)},Ta=Ya,Sa=function(e,t,r){return Ta(e,t,r,"lch")};ua.lch=Sa,ua.hcl=Sa;var Da=w,Ra=function(e,t,r){var n=e.num(),a=t.num();return new Da(n+r*(a-n),"num")};ua.num=Ra;var Ca=Ya,ja=function(e,t,r){return Ca(e,t,r,"hcg")};ua.hcg=ja;var Ia=Ya,La=function(e,t,r){return Ia(e,t,r,"hsi")};ua.hsi=La;var Fa=Ya,Pa=function(e,t,r){return Fa(e,t,r,"hsl")};ua.hsl=Pa;var Ba=Ya,Ua=function(e,t,r){return Ba(e,t,r,"hsv")};ua.hsv=Ua;var Ha=w,za=function(e,t,r){var n=e.oklab(),a=t.oklab();return new Ha(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"oklab")};ua.oklab=za;var $a=Ya,Ga=function(e,t,r){return $a(e,t,r,"oklch")};ua.oklch=Ga;var Wa=w,Va=h.clip_rgb,qa=Math.pow,Ja=Math.sqrt,Ka=Math.PI,Xa=Math.cos,Za=Math.sin,Qa=Math.atan2,eo=function(e,t,r){void 0===t&&(t="lrgb"),void 0===r&&(r=null);var n=e.length;r||(r=Array.from(new Array(n)).map((function(){return 1})));var a=n/r.reduce((function(e,t){return e+t}));if(r.forEach((function(e,t){r[t]*=a})),e=e.map((function(e){return new Wa(e)})),"lrgb"===t)return to(e,r);for(var o=e.shift(),i=o.get(t),s=[],u=0,c=0,l=0;l<i.length;l++)if(i[l]=(i[l]||0)*r[0],s.push(isNaN(i[l])?0:r[0]),"h"===t.charAt(l)&&!isNaN(i[l])){var f=i[l]/180*Ka;u+=Xa(f)*r[0],c+=Za(f)*r[0]}var p=o.alpha()*r[0];e.forEach((function(e,n){var a=e.get(t);p+=e.alpha()*r[n+1];for(var o=0;o<i.length;o++)if(!isNaN(a[o]))if(s[o]+=r[n+1],"h"===t.charAt(o)){var l=a[o]/180*Ka;u+=Xa(l)*r[n+1],c+=Za(l)*r[n+1]}else i[o]+=a[o]*r[n+1]}));for(var h=0;h<i.length;h++)if("h"===t.charAt(h)){for(var d=Qa(c/s[h],u/s[h])/Ka*180;d<0;)d+=360;for(;d>=360;)d-=360;i[h]=d}else i[h]=i[h]/s[h];return p/=n,new Wa(i,t).alpha(p>.99999?1:p,!0)},to=function(e,t){for(var r=e.length,n=[0,0,0,0],a=0;a<e.length;a++){var o=e[a],i=t[a]/r,s=o._rgb;n[0]+=qa(s[0],2)*i,n[1]+=qa(s[1],2)*i,n[2]+=qa(s[2],2)*i,n[3]+=s[3]*i}return n[0]=Ja(n[0]),n[1]=Ja(n[1]),n[2]=Ja(n[2]),n[3]>.9999999&&(n[3]=1),new Wa(Va(n))},ro=_,no=h.type,ao=Math.pow,oo=function(e){var t="rgb",r=ro("#ccc"),n=0,a=[0,1],o=[],i=[0,0],s=!1,u=[],c=!1,l=0,f=1,p=!1,h={},d=!0,m=1,g=function(e){if((e=e||["#fff","#000"])&&"string"===no(e)&&ro.brewer&&ro.brewer[e.toLowerCase()]&&(e=ro.brewer[e.toLowerCase()]),"array"===no(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=ro(e[t]);o.length=0;for(var r=0;r<e.length;r++)o.push(r/(e.length-1))}return M(),u=e},v=function(e){if(null!=s){for(var t=s.length-1,r=0;r<t&&e>=s[r];)r++;return r-1}return 0},b=function(e){return e},y=function(e){return e},w=function(e,n){var a,c;if(null==n&&(n=!1),isNaN(e)||null===e)return r;c=n?e:s&&s.length>2?v(e)/(s.length-2):f!==l?(e-l)/(f-l):1,c=y(c),n||(c=b(c)),1!==m&&(c=ao(c,m)),c=i[0]+c*(1-i[0]-i[1]),c=Math.min(1,Math.max(0,c));var p=Math.floor(1e4*c);if(d&&h[p])a=h[p];else{if("array"===no(u))for(var g=0;g<o.length;g++){var w=o[g];if(c<=w){a=u[g];break}if(c>=w&&g===o.length-1){a=u[g];break}if(c>w&&c<o[g+1]){c=(c-w)/(o[g+1]-w),a=ro.interpolate(u[g],u[g+1],c,t);break}}else"function"===no(u)&&(a=u(c));d&&(h[p]=a)}return a},M=function(){return h={}};g(e);var _=function(e){var t=ro(w(e));return c&&t[c]?t[c]():t};return _.classes=function(e){if(null!=e){if("array"===no(e))s=e,a=[e[0],e[e.length-1]];else{var t=ro.analyze(a);s=0===e?[t.min,t.max]:ro.limits(t,"e",e)}return _}return s},_.domain=function(e){if(!arguments.length)return a;l=e[0],f=e[e.length-1],o=[];var t=u.length;if(e.length===t&&l!==f)for(var r=0,n=Array.from(e);r<n.length;r+=1){var i=n[r];o.push((i-l)/(f-l))}else{for(var s=0;s<t;s++)o.push(s/(t-1));if(e.length>2){var c=e.map((function(t,r){return r/(e.length-1)})),p=e.map((function(e){return(e-l)/(f-l)}));p.every((function(e,t){return c[t]===e}))||(y=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=p[t+1];)t++;var r=(e-p[t])/(p[t+1]-p[t]);return c[t]+r*(c[t+1]-c[t])})}}return a=[l,f],_},_.mode=function(e){return arguments.length?(t=e,M(),_):t},_.range=function(e,t){return g(e),_},_.out=function(e){return c=e,_},_.spread=function(e){return arguments.length?(n=e,_):n},_.correctLightness=function(e){return null==e&&(e=!0),p=e,M(),b=p?function(e){for(var t=w(0,!0).lab()[0],r=w(1,!0).lab()[0],n=t>r,a=w(e,!0).lab()[0],o=t+(r-t)*e,i=a-o,s=0,u=1,c=20;Math.abs(i)>.01&&c-- >0;)n&&(i*=-1),i<0?(s=e,e+=.5*(u-e)):(u=e,e+=.5*(s-e)),a=w(e,!0).lab()[0],i=a-o;return e}:function(e){return e},_},_.padding=function(e){return null!=e?("number"===no(e)&&(e=[e,e]),i=e,_):i},_.colors=function(t,r){arguments.length<2&&(r="hex");var n=[];if(0===arguments.length)n=u.slice(0);else if(1===t)n=[_(.5)];else if(t>1){var o=a[0],i=a[1]-o;n=io(0,t,!1).map((function(e){return _(o+e/(t-1)*i)}))}else{e=[];var c=[];if(s&&s.length>2)for(var l=1,f=s.length,p=1<=f;p?l<f:l>f;p?l++:l--)c.push(.5*(s[l-1]+s[l]));else c=a;n=c.map((function(e){return _(e)}))}return ro[r]&&(n=n.map((function(e){return e[r]()}))),n},_.cache=function(e){return null!=e?(d=e,_):d},_.gamma=function(e){return null!=e?(m=e,_):m},_.nodata=function(e){return null!=e?(r=ro(e),_):r},_};function io(e,t,r){for(var n=[],a=e<t,o=r?a?t+1:t-1:t,i=e;a?i<o:i>o;a?i++:i--)n.push(i);return n}var so=w,uo=oo,co=function(e){for(var t=[1,1],r=1;r<e;r++){for(var n=[1],a=1;a<=t.length;a++)n[a]=(t[a]||0)+t[a-1];t=n}return t},lo=function(e){var t,r,n,a,o,i,s;if(2===(e=e.map((function(e){return new so(e)}))).length)t=e.map((function(e){return e.lab()})),o=t[0],i=t[1],a=function(e){var t=[0,1,2].map((function(t){return o[t]+e*(i[t]-o[t])}));return new so(t,"lab")};else if(3===e.length)r=e.map((function(e){return e.lab()})),o=r[0],i=r[1],s=r[2],a=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*i[t]+e*e*s[t]}));return new so(t,"lab")};else if(4===e.length){var u;n=e.map((function(e){return e.lab()})),o=n[0],i=n[1],s=n[2],u=n[3],a=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*i[t]+3*(1-e)*e*e*s[t]+e*e*e*u[t]}));return new so(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,l,f;c=e.map((function(e){return e.lab()})),f=e.length-1,l=co(f),a=function(e){var t=1-e,r=[0,1,2].map((function(r){return c.reduce((function(n,a,o){return n+l[o]*Math.pow(t,f-o)*Math.pow(e,o)*a[r]}),0)}));return new so(r,"lab")}}return a},fo=function(e){var t=lo(e);return t.scale=function(){return uo(t)},t},po=_,ho=function(e,t,r){if(!ho[r])throw new Error("unknown blend mode "+r);return ho[r](e,t)},mo=function(e){return function(t,r){var n=po(r).rgb(),a=po(t).rgb();return po.rgb(e(n,a))}},go=function(e){return function(t,r){var n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n}},vo=function(e){return e},bo=function(e,t){return e*t/255},yo=function(e,t){return e>t?t:e},wo=function(e,t){return e>t?e:t},Mo=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},_o=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},Eo=function(e,t){return 255*(1-(1-t/255)/(e/255))},xo=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e};ho.normal=mo(go(vo)),ho.multiply=mo(go(bo)),ho.screen=mo(go(Mo)),ho.overlay=mo(go(_o)),ho.darken=mo(go(yo)),ho.lighten=mo(go(wo)),ho.dodge=mo(go(xo)),ho.burn=mo(go(Eo));for(var Ao=ho,Oo=h.type,No=h.clip_rgb,ko=h.TWOPI,Yo=Math.pow,To=Math.sin,So=Math.cos,Do=_,Ro=function(e,t,r,n,a){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===r&&(r=1),void 0===n&&(n=1),void 0===a&&(a=[0,1]);var o,i=0;"array"===Oo(a)?o=a[1]-a[0]:(o=0,a=[a,a]);var s=function(s){var u=ko*((e+120)/360+t*s),c=Yo(a[0]+o*s,n),l=(0!==i?r[0]+s*i:r)*c*(1-c)/2,f=So(u),p=To(u);return Do(No([255*(c+l*(-.14861*f+1.78277*p)),255*(c+l*(-.29227*f-.90649*p)),255*(c+l*(1.97294*f)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?n:(n=e,s)},s.hue=function(e){return null==e?r:("array"===Oo(r=e)?0==(i=r[1]-r[0])&&(r=r[1]):i=0,s)},s.lightness=function(e){return null==e?a:("array"===Oo(e)?(a=e,o=e[1]-e[0]):(a=[e,e],o=0),s)},s.scale=function(){return Do.scale(s)},s.hue(r),s},Co=w,jo="0123456789abcdef",Io=Math.floor,Lo=Math.random,Fo=function(){for(var e="#",t=0;t<6;t++)e+=jo.charAt(Io(16*Lo()));return new Co(e,"hex")},Po=s,Bo=Math.log,Uo=Math.pow,Ho=Math.floor,zo=Math.abs,$o=function(e,t){void 0===t&&(t=null);var r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Po(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===Po(e)&&(e=e[t]),null==e||isNaN(e)||(r.values.push(e),r.sum+=e,e<r.min&&(r.min=e),e>r.max&&(r.max=e),r.count+=1)})),r.domain=[r.min,r.max],r.limits=function(e,t){return Go(r,e,t)},r},Go=function(e,t,r){void 0===t&&(t="equal"),void 0===r&&(r=7),"array"==Po(e)&&(e=$o(e));var n=e.min,a=e.max,o=e.values.sort((function(e,t){return e-t}));if(1===r)return[n,a];var i=[];if("c"===t.substr(0,1)&&(i.push(n),i.push(a)),"e"===t.substr(0,1)){i.push(n);for(var s=1;s<r;s++)i.push(n+s/r*(a-n));i.push(a)}else if("l"===t.substr(0,1)){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");var u=Math.LOG10E*Bo(n),c=Math.LOG10E*Bo(a);i.push(n);for(var l=1;l<r;l++)i.push(Uo(10,u+l/r*(c-u)));i.push(a)}else if("q"===t.substr(0,1)){i.push(n);for(var f=1;f<r;f++){var p=(o.length-1)*f/r,h=Ho(p);if(h===p)i.push(o[h]);else{var d=p-h;i.push(o[h]*(1-d)+o[h+1]*d)}}i.push(a)}else if("k"===t.substr(0,1)){var m,g=o.length,v=new Array(g),b=new Array(r),y=!0,w=0,M=null;(M=[]).push(n);for(var _=1;_<r;_++)M.push(n+_/r*(a-n));for(M.push(a);y;){for(var E=0;E<r;E++)b[E]=0;for(var x=0;x<g;x++)for(var A=o[x],O=Number.MAX_VALUE,N=void 0,k=0;k<r;k++){var Y=zo(M[k]-A);Y<O&&(O=Y,N=k),b[N]++,v[x]=N}for(var T=new Array(r),S=0;S<r;S++)T[S]=null;for(var D=0;D<g;D++)null===T[m=v[D]]?T[m]=o[D]:T[m]+=o[D];for(var R=0;R<r;R++)T[R]*=1/b[R];y=!1;for(var C=0;C<r;C++)if(T[C]!==M[C]){y=!0;break}M=T,++w>200&&(y=!1)}for(var j={},I=0;I<r;I++)j[I]=[];for(var L=0;L<g;L++)j[m=v[L]].push(o[L]);for(var F=[],P=0;P<r;P++)F.push(j[P][0]),F.push(j[P][j[P].length-1]);F=F.sort((function(e,t){return e-t})),i.push(F[0]);for(var B=1;B<F.length;B+=2){var U=F[B];isNaN(U)||-1!==i.indexOf(U)||i.push(U)}}return i},Wo={analyze:$o,limits:Go},Vo=w,qo=function(e,t){e=new Vo(e),t=new Vo(t);var r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)},Jo=w,Ko=Math.sqrt,Xo=Math.pow,Zo=Math.min,Qo=Math.max,ei=Math.atan2,ti=Math.abs,ri=Math.cos,ni=Math.sin,ai=Math.exp,oi=Math.PI,ii=function(e,t,r,n,a){void 0===r&&(r=1),void 0===n&&(n=1),void 0===a&&(a=1);var o=function(e){return 360*e/(2*oi)},i=function(e){return 2*oi*e/360};e=new Jo(e),t=new Jo(t);var s=Array.from(e.lab()),u=s[0],c=s[1],l=s[2],f=Array.from(t.lab()),p=f[0],h=f[1],d=f[2],m=(u+p)/2,g=(Ko(Xo(c,2)+Xo(l,2))+Ko(Xo(h,2)+Xo(d,2)))/2,v=.5*(1-Ko(Xo(g,7)/(Xo(g,7)+Xo(25,7)))),b=c*(1+v),y=h*(1+v),w=Ko(Xo(b,2)+Xo(l,2)),M=Ko(Xo(y,2)+Xo(d,2)),_=(w+M)/2,E=o(ei(l,b)),x=o(ei(d,y)),A=E>=0?E:E+360,O=x>=0?x:x+360,N=ti(A-O)>180?(A+O+360)/2:(A+O)/2,k=1-.17*ri(i(N-30))+.24*ri(i(2*N))+.32*ri(i(3*N+6))-.2*ri(i(4*N-63)),Y=O-A;Y=ti(Y)<=180?Y:O<=A?Y+360:Y-360,Y=2*Ko(w*M)*ni(i(Y)/2);var T=p-u,S=M-w,D=1+.015*Xo(m-50,2)/Ko(20+Xo(m-50,2)),R=1+.045*_,C=1+.015*_*k,j=30*ai(-Xo((N-275)/25,2)),I=-2*Ko(Xo(_,7)/(Xo(_,7)+Xo(25,7)))*ni(2*i(j)),L=Ko(Xo(T/(r*D),2)+Xo(S/(n*R),2)+Xo(Y/(a*C),2)+I*(S/(n*R))*(Y/(a*C)));return Qo(0,Zo(100,L))},si=w,ui=function(e,t,r){void 0===r&&(r="lab"),e=new si(e),t=new si(t);var n=e.get(r),a=t.get(r),o=0;for(var i in n){var s=(n[i]||0)-(a[i]||0);o+=s*s}return Math.sqrt(o)},ci=w,li=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(ci,[null].concat(e))),!0}catch(e){return!1}},fi=_,pi=oo,hi={cool:function(){return pi([fi.hsl(180,1,.9),fi.hsl(250,.7,.4)])},hot:function(){return pi(["#000","#f00","#ff0","#fff"]).mode("rgb")}},di={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},mi=0,gi=Object.keys(di);mi<gi.length;mi+=1){var vi=gi[mi];di[vi.toLowerCase()]=di[vi]}var bi=di,yi=_;yi.average=eo,yi.bezier=fo,yi.blend=Ao,yi.cubehelix=Ro,yi.mix=yi.interpolate=pa,yi.random=Fo,yi.scale=oo,yi.analyze=Wo.analyze,yi.contrast=qo,yi.deltaE=ii,yi.distance=ui,yi.limits=Wo.limits,yi.valid=li,yi.scales=hi,yi.colors=Ir,yi.brewer=bi;var wi=yi;return wi}()}(Sl);var Dl=Sl.exports;function Rl(e){let{dataset:t,visAxes:r,userAxes:n,overrideKeys:a}=e;n=n||{},a=a||{};const o={},i={},s={};Gt(r,((e,r)=>{if(n[r]){let s=n[r];if(e.optional&&e.overrideOptionalKey&&!a[e.overrideOptionalKey])return;(function(e){G(e)||(e=[e]);for(var r=0;r<e.length;r++)if(!t.hasColumn(e[r]))return!1;return!0})(s)&&c(e,s,!0)&&!!e.multiple===G(s)&&(i[r]=e.multiple&&!G(s)?[s]:s,G(s)||(s=[s]),Gt(s,(function(e){o[e]=!0})))}}));var u=[];return Gt(r,(e=>{e.optional&&e.overrideOptionalKey&&a[e.overrideOptionalKey]&&(e.optional=!1)})),Gt(r,((e,n)=>{if(u.push(n),!i[n])if(e.optional)i[n]=!1;else if(e.multiple){const a=function(e){let t=0;return Gt(r,(function(r,n){u.indexOf(n)>-1||function(e,t){if(void 0===e&&void 0!==t)return!1;if(void 0===t&&void 0!==e)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(-1===t.indexOf(e[r]))return!1;return!0}(r.accepts,e)&&"string"!=typeof t&&(r.optional||(r.multiple?t="multiple":t+=1))})),t}(e.accepts);let s=function(t){let r=0;return t.eachColumn((t=>{c(e,t)&&r++})),r}(t);i[n]=[],t.eachColumn((function(t){"multiple"===a&&i[n].length||s<=a||c(e,t)&&(o[t.name()]=!0,i[n].push(t.name()),s--)}))}else{const r=Kt(t.columns(),(t=>c(e,t)));let a;if(e.preferred){const t=new RegExp(e.preferred,"i");a=zt(r,(function(e){return t.test(e.name())||e.title()!==e.name()&&t.test(e.title())}))}if(a||(a=r[0]),a)o[a.name()]=!0,i[n]=a.name();else if(Ut(e.accepts,"text")>=0){const r=Kt(t.columns(),(function(t){return Ut(e.accepts,t.type())>=0}));if(r.length)i[n]=r[0].name();else{const e=yn(n,Wt(Cr(t.numRows()),(function(e){return(e>25?String.fromCharCode(64+e/26):"")+String.fromCharCode(65+e%26)})),"text");t.add(e),o[e.name()]=!0,i[n]=e.name()}}else if(Ut(e.accepts,"number")>=0){const r=Kt(t.columns(),(function(t){return Ut(e.accepts,t.type())>=0}));r.length&&(i[n]=r[0].name())}}})),Gt(i,((e,r)=>{G(e)?(s[r]=[],Gt(e,(function(e,n){s[r][n]=!1!==e?t.column(e):null}))):s[r]=!1!==e?t.column(e):null})),{axes:i,axesAsColumns:s,usedColumns:o};function c(e,r,n){G(r)||(r=[r]),r=r.map((e=>"string"==typeof e?t.column(e):e));for(var a=0;a<r.length;a++)if(!n&&o[r[a].name()]||-1===Ut(e.accepts,r[a].type()))return!1;return!0}}const Cl=function(){}.prototype;De(Cl,{__rejectRenderedAfter:5e3,__resolveRenderedAfter:300,setup(){this.__renderEvents={resolve:xl(),reject:xl()},this.renderingComplete=kt(this.__renderingComplete,this.__resolveRenderedAfter)},__beforeRender(){return this.__rejectTimeout&&clearTimeout(this.__rejectTimeout),this.__rejectTimeout=setTimeout((()=>{this.__renderEvents.reject.fire(new Error(`timeout after ${this.__rejectRenderedAfter}ms`))}),this.__rejectRenderedAfter),this.__rendered=!1,this.__colors={},this.__callbacks={},window.parent&&window.parent.postMessage&&window.parent.postMessage("datawrapper:vis:init","*"),this},render(e){e.innerHTML="implement me!"},theme(e){return arguments.length?(this.__theme=e,this):"string"==typeof this.__theme?dw.theme(this.__theme):this.__theme},libraries(e){return arguments.length?(this.__libraries=e,this):this.__libraries||{}},target(e){return arguments.length?(this.__target=e,this):this.__target},size(e,t){const r=this;return arguments.length?(r.__w=e,r.__h=t,r):[r.__w,r.__h]},get(e,t){return Pn(this.chart().get(),"metadata.visualize"+(e?"."+e:""),t)},chart(e){var t=this;if(!arguments.length)return t.__chart;t.dataset=e.dataset(),t.theme(e.theme()),t.__chart=e,t.__axisCache=void 0,function(e,t){if(!t.filterColumns)return t;const r=e.getMetadata("data.column-format",{}),n=Object.fromEntries(Object.entries(r).map((e=>{let[t,r]=e;return[t,!!r.ignore]})));t.filterColumns(n)}(e,t.dataset);const{numeral:r}=t.libraries();if(r&&e.locales&&e.locales.numeral){try{r.register("locale","dw",e.locales.numeral)}catch(e){if(!(e instanceof TypeError))throw e}r.locale("dw")}return t},container(e){if(!arguments.length)return this.__container;this.__container=e},outerContainer(e){if(!arguments.length)return this.__outerContainer;this.__outerContainer=e},axes(e,t){const r=this,n=Pn(r.chart().get(),"metadata.axes",{}),a=Fn(r.meta.axes),o=Object.fromEntries(Object.entries(a).filter((e=>{let[,t]=e;return t.optional&&t.overrideOptionalKey})).map((e=>{let[,t]=e;return[t.overrideOptionalKey,r.chart().getMetadata(t.overrideOptionalKey,!1)]})));if(!t&&r.__axisCache&&de(r.__axisCache.userAxes,n)&&de(r.__axisCache.overrideKeys,o)&&r.__axisCache.transpose===r.chart().getMetadata("data.transpose"))return r.__axisCache[e?"axesAsColumns":"axes"];const i=r.chart().dataset(),{axes:s,axesAsColumns:u}=Rl({dataset:i,userAxes:n,visAxes:a,overrideKeys:o});return r.__axisCache={axes:s,axesAsColumns:u,userAxes:Fn(n),overrideKeys:o,transpose:r.chart().getMetadata("data.transpose")},r.__axisCache[e?"axesAsColumns":"axes"]},keys(){const e=this.axes();if(e.labels){const t=this.dataset.column(e.labels),r=[];return t.each((e=>{r.push(String(e))})),r}return[]},keyLabel:e=>e,reset(){this.clear();this.target().innerHTML="",fo(".chart .filter-ui"),fo(".chart .legend")},clear(){},__renderingComplete(){this.__renderEvents.resolve.fire(),window.parent&&window.parent.postMessage&&setTimeout((function(){window.parent.postMessage("datawrapper:vis:rendered","*")}),200),clearTimeout(this.__rejectTimeout),this.__rendered=!0,this.postRendering()},postRendering(){},rendered(){return new Promise(((e,t)=>{this.__renderEvents.resolve.add(e),this.__renderEvents.reject.add(t)}))},supportsSmartRendering:()=>!1,colorMode(e){if(!arguments.length)return this.__colorMode;this.__colorMode=e},colorMap(e){var t=this;if(!arguments.length)return function(){let e=arguments.length<=0?void 0:arguments[0];const r=t.__darkMode&&t.__darkModeColorMap;return t.__colors[e]=1,t.__colorMap?(r&&(e=t.__darkModeColorMap(...arguments)),t.__colorMap(e)):(r&&(e=t.__darkModeColorMap(...arguments)),e)};this.__colorMap=e},initDarkMode(e,t){this.__onDarkModeChange=e,this.__darkModeColorMap=t},darkMode(e){if(void 0===this.__darkMode&&(this.__darkMode=!1),!arguments.length)return this.__darkMode;this.__onDarkModeChange&&(this.__darkMode=e,this.__onDarkModeChange(e))},colorsUsed(){return Object.keys(this.__colors)},on(e,t){this.__callbacks[e]||(this.__callbacks[e]=[]),this.__callbacks[e].push(t)},fire(e,t){this.__callbacks&&this.__callbacks[e]&&this.__callbacks[e].forEach((function(e){"function"==typeof e&&e(t)}))},showError(e){const{allowEditing:t}=this.chart().flags();t&&(this.container().innerHTML=`<div class="error"><p>${e}</p></div>`),console.warn(e)}});const jl={};function Il(e,t){if(!jl[e]){console.warn("unknown visualization type: "+e);const t=Object.keys(jl);return t.length>0&&console.warn("try one of these instead: "+t.join(", ")),!1}const r=Le(Cl),n=function(e){const t=[];for(;"base"!==e.parentVis;)e=jl[e.parentVis],t.push({id:e.parentVis,vis:e});return t.reverse()}(jl[e]);return n.push({id:e,vis:jl[e]}),n.forEach((n=>{Object.assign(r,"function"==typeof n.vis.init?n.vis.init({target:t}):n.vis.init,{id:e})})),r.libraries(Il.libraries),t&&r.target(t),r.setup(),r}Il.register=function(e){let t,r;2===arguments.length?(t="base",r=arguments[1]):3===arguments.length&&(t=arguments[1],r=arguments[2]),jl[e]={parentVis:t,init:r}},Il.has=function(e){return void 0!==jl[e]},Il.libraries={numeral:Tl,chroma:Dl},Il.base=Cl;const Ll={};function Fl(e){return Ll[e]}Fl.register=function(e,t){Ll[e]=t};const Pl={};function Bl(e){return Pl[e]}Bl.register=function(e,t){Pl[e]=t},Bl.has=function(e){return void 0!==Pl[e]};let Ul=[];yn.types=nn;const Hl={version:"chart-core@8.47.0",dataset:Br,column:yn,datasource:{delimited:En,json:On},utils:ho,chart:function(e){let t,r,n,a,o,i={};const s=xl(),u=xl(),c={};let l,f={};const p={get:(t,r)=>Pn(e,t,r),getMetadata:(t,r)=>Pn(e,`metadata.${t}`,r),set(t,r){return Wo(e,t,r)&&s.fire(p,t,r),this},setMetadata:(e,t)=>p.set(`metadata.${e}`,t),getElementBounds(e){const t=o.target().getBoundingClientRect(),r=e.getBoundingClientRect();return{top:r.top-t.top,right:r.right-t.left,bottom:r.bottom-t.top,left:r.left-t.left,width:r.width,height:r.height}},load(e,t){const r={chartId:p.get("id"),firstRowIsHeader:p.get("metadata.data.horizontal-header",!0),transpose:p.get("metadata.data.transpose",!1)};!e&&""!==e||t?r.url=t||"data.csv":r.csv=e;return(p.get("metadata.data.json")?On(r):En(r)).dataset().then((e=>(this.dataset(e),u.fire(p,e),e)))},dataset(e){return arguments.length?(!0!==e&&(l=e),t=p.get("metadata.data.json")?l:function(e,t){var r=e.getMetadata("data.column-order",[]);return r.length&&r.length===t.numColumns()&&t.columnOrder(r),t}(p,Al(p,Nl(p,l))),!0===e?t:p):t},setDataset(e){t=e},theme(e){return arguments.length?(r=e,p):r||{}},vis(e){return arguments.length?(o=e,o.chart(p),p):o},hasHighlight(){var e=p.get("metadata.visualize.highlighted-series");return G(e)&&e.length>0},isHighlighted(e){if(void 0===O(e))return!1;const t=p.get("metadata.visualize.highlighted-series"),r=uo(e);return!G(t)||0===t.length||Ut(t,r)>=0},locale(e,t){return arguments.length?(a=e.replace("_","-"),a||(a="en-US"),"function"==typeof t&&t(),p):a},metricPrefix(e){return arguments.length?(n=e,p):n},inEditor:()=>{try{return window.parent!==window&&window.parent.dw&&window.parent.dw.backend&&window.parent.dw.backend.hooks}catch(e){return!1}},createPostEvent(){const e=p.get("id"),{isIframe:t}=i;return El(e,t)},flags(e){return arguments.length?(i=e,p):i},render(e){if(!o||!r||!t)throw new Error("cannot render the chart!");const n=i.isIframe,a=p.vis().target();o.chart(p),o.container(a),o.outerContainer(e);const s=lo(a),u=n?co():p.getMetadata("publish.chart-height")||400,c=p.getHeightMode();if("fixed"===c?s<=0:s<=0||u<=0)return console.warn("Aborting chart rendering due to invalid container dimensions"),window.clearInterval(this.__resizingInterval),this.__resizingInterval=setInterval(f,1e3),void f();e.classList.toggle("vis-height-fit","fit"===c),e.classList.toggle("vis-height-fixed","fixed"===c);const l=Pn(r,`vis.${p.type}.mobileBreakpoint`,450);function f(){if(i&&i.fitchart)return;let e;if("fit"===p.getHeightMode()){if(p.inEditor()||!p.getMetadata("publish.chart-height"))return;e=Un()+p.getMetadata("publish.chart-height")}else e=Bn(document.querySelector("html"),!0);if(Math.round(window.innerHeight)===Math.round(e))return;const{previewId:t}=i;window.parent.postMessage({"datawrapper-height":{[p.get().id]:e,...t?{previewId:t}:{}}},"*"),window.parent.postMessage({sentinel:"amp",type:"embed-size",height:e},"*"),window.parent.postMessage(JSON.stringify({src:location.href,context:"iframe.resize",height:e}),"*"),"function"==typeof window.datawrapperHeightCallback&&window.datawrapperHeightCallback(e)}return e.classList.toggle("is-mobile",e.clientWidth<=l),e.classList.add("vis-"+o.id),o.reset(a),o.size(s,u),o.__beforeRender(),o.render(a),n&&(window.clearInterval(this.__resizingInterval),this.__resizingInterval=setInterval(f,p.inEditor()?25:1e3),f()),o.rendered()},getHeightMode:()=>po({themeData:o.theme(),visualizationMeta:o.meta,renderFlags:i}),attributes(t){if(arguments.length){const r=_l(e,t);return e=t,kl(r).forEach((e=>{s.fire(p,e,Pn(t,e))})),p}return e},onChange:s.add,onDatasetChange:u.add,dataCellChanged(e,r){const n=p.get("metadata.data.changes",[]),a=p.get("metadata.data.transpose",!1);let o=!1;const i=t.columnOrder();return e=i[e],n.forEach((t=>{let n="row",i="column";a&&(n="column",i="row"),e===t[i]&&t[n]===r&&(o=!0)})),o},asset(e,t){if(1===arguments.length)return c[e];c[e]=t},translations(e){return 0===arguments.length?f:(f=e,this)},translate(e){if(!f[e])return"MISSING: "+e;var t=f[e];return"string"==typeof t&&arguments.length>1&&(t=t.replace(/\$(\d)/g,((e,t)=>(t=1+Number(t),void 0===arguments[t]?e:arguments[t])))),t}};return e.language&&p.locale(e.language),p},visualization:Il,theme:Fl,block:Bl,notify:function(e){e.remove=()=>{Ul=Ul.filter((t=>t!==e)),window.parent.dw.backend.fire("notifications.change",Ul)},Ul.push(e);try{return window.parent.dw.backend.fire("notifications.change",Ul),e.remove}catch(e){}}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=Hl),exports.dw=Hl):window.dw=Hl}();
//# sourceMappingURL=dw-2.0.min.js.map
