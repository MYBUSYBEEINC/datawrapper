!function(){"use strict";function t(t){try{if(","===t.localeData().delimiters.decimal)return";"}catch(t){}return","}function e(t,e,r){if(null==t||"number"==typeof t&&!Number.isFinite(t))return"";const n=String(t);return-1!==n.indexOf(r)?r+n.replace(new RegExp(r,"g"),r+r)+r:new RegExp(`[\n\r${e}]`).test(n)?r+n+r:n}function r(t){let{delimiter:r=",",quoteChar:n='"',lineTerminator:o="\n"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.map((t=>t.map((t=>e(t,r,n))).join(r))).join(o)}var n={formatDelimited:r,guessDelimiterFromLocale:t},o="1.13.4",a="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},i=Array.prototype,u=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,c=i.push,l=i.slice,f=u.toString,p=u.hasOwnProperty,h="undefined"!=typeof ArrayBuffer,d="undefined"!=typeof DataView,m=Array.isArray,g=Object.keys,v=Object.create,b=h&&ArrayBuffer.isView,y=isNaN,w=isFinite,M=!{toString:null}.propertyIsEnumerable("toString"),_=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],E=Math.pow(2,53)-1;function x(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),o=0;o<r;o++)n[o]=arguments[o+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var a=Array(e+1);for(o=0;o<e;o++)a[o]=arguments[o];return a[e]=n,t.apply(this,a)}}function A(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function O(t){return null===t}function N(t){return void 0===t}function k(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)}function Y(t){var e="[object "+t+"]";return function(t){return f.call(t)===e}}var T=Y("String"),S=Y("Number"),D=Y("Date"),R=Y("RegExp"),j=Y("Error"),C=Y("Symbol"),I=Y("ArrayBuffer"),L=Y("Function"),F=a.document&&a.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof F&&(L=function(t){return"function"==typeof t||!1});var P=L,B=Y("Object"),U=d&&B(new DataView(new ArrayBuffer(8))),H="undefined"!=typeof Map&&B(new Map),z=Y("DataView");var $=U?function(t){return null!=t&&P(t.getInt8)&&I(t.buffer)}:z,G=m||Y("Array");function V(t,e){return null!=t&&p.call(t,e)}var W=Y("Arguments");!function(){W(arguments)||(W=function(t){return V(t,"callee")})}();var q=W;function J(t){return S(t)&&y(t)}function K(t){return function(){return t}}function X(t){return function(e){var r=t(e);return"number"==typeof r&&r>=0&&r<=E}}function Z(t){return function(e){return null==e?void 0:e[t]}}var Q=Z("byteLength"),tt=X(Q),et=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var rt=h?function(t){return b?b(t)&&!$(t):tt(t)&&et.test(f.call(t))}:K(!1),nt=Z("length");function ot(t,e){e=function(t){for(var e={},r=t.length,n=0;n<r;++n)e[t[n]]=!0;return{contains:function(t){return!0===e[t]},push:function(r){return e[r]=!0,t.push(r)}}}(e);var r=_.length,n=t.constructor,o=P(n)&&n.prototype||u,a="constructor";for(V(t,a)&&!e.contains(a)&&e.push(a);r--;)(a=_[r])in t&&t[a]!==o[a]&&!e.contains(a)&&e.push(a)}function at(t){if(!A(t))return[];if(g)return g(t);var e=[];for(var r in t)V(t,r)&&e.push(r);return M&&ot(t,e),e}function it(t,e){var r=at(e),n=r.length;if(null==t)return!n;for(var o=Object(t),a=0;a<n;a++){var i=r[a];if(e[i]!==o[i]||!(i in o))return!1}return!0}function ut(t){return t instanceof ut?t:this instanceof ut?void(this._wrapped=t):new ut(t)}function st(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Q(t))}ut.VERSION=o,ut.prototype.value=function(){return this._wrapped},ut.prototype.valueOf=ut.prototype.toJSON=ut.prototype.value,ut.prototype.toString=function(){return String(this._wrapped)};var ct="[object DataView]";function lt(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&ft(t,e,r,n)}function ft(t,e,r,n){t instanceof ut&&(t=t._wrapped),e instanceof ut&&(e=e._wrapped);var o=f.call(t);if(o!==f.call(e))return!1;if(U&&"[object Object]"==o&&$(t)){if(!$(e))return!1;o=ct}switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return s.valueOf.call(t)===s.valueOf.call(e);case"[object ArrayBuffer]":case ct:return ft(st(t),st(e),r,n)}var a="[object Array]"===o;if(!a&&rt(t)){if(Q(t)!==Q(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;a=!0}if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var i=t.constructor,u=e.constructor;if(i!==u&&!(P(i)&&i instanceof i&&P(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var c=(r=r||[]).length;c--;)if(r[c]===t)return n[c]===e;if(r.push(t),n.push(e),a){if((c=t.length)!==e.length)return!1;for(;c--;)if(!lt(t[c],e[c],r,n))return!1}else{var l,p=at(t);if(c=p.length,at(e).length!==c)return!1;for(;c--;)if(!V(e,l=p[c])||!lt(t[l],e[l],r,n))return!1}return r.pop(),n.pop(),!0}function pt(t,e){return lt(t,e)}function ht(t){if(!A(t))return[];var e=[];for(var r in t)e.push(r);return M&&ot(t,e),e}function dt(t){var e=nt(t);return function(r){if(null==r)return!1;var n=ht(r);if(nt(n))return!1;for(var o=0;o<e;o++)if(!P(r[t[o]]))return!1;return t!==yt||!P(r[mt])}}var mt="forEach",gt=["clear","delete"],vt=["get","has","set"],bt=gt.concat(mt,vt),yt=gt.concat(vt),wt=["add"].concat(gt,mt,"has"),Mt=H?dt(bt):Y("Map"),_t=H?dt(yt):Y("WeakMap"),Et=H?dt(wt):Y("Set"),xt=Y("WeakSet");function At(t){for(var e=at(t),r=e.length,n=Array(r),o=0;o<r;o++)n[o]=t[e[o]];return n}function Ot(t){for(var e={},r=at(t),n=0,o=r.length;n<o;n++)e[t[r[n]]]=r[n];return e}function Nt(t){var e=[];for(var r in t)P(t[r])&&e.push(r);return e.sort()}function kt(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||null==r)return r;for(var o=1;o<n;o++)for(var a=arguments[o],i=t(a),u=i.length,s=0;s<u;s++){var c=i[s];e&&void 0!==r[c]||(r[c]=a[c])}return r}}var Yt=kt(ht),Tt=kt(at),St=kt(ht,!0);function Dt(t){if(!A(t))return{};if(v)return v(t);var e=function(){};e.prototype=t;var r=new e;return e.prototype=null,r}function Rt(t){return A(t)?G(t)?t.slice():Yt({},t):t}function jt(t){return G(t)?t:[t]}function Ct(t){return ut.toPath(t)}function It(t,e){for(var r=e.length,n=0;n<r;n++){if(null==t)return;t=t[e[n]]}return r?t:void 0}function Lt(t,e,r){var n=It(t,Ct(e));return N(n)?r:n}function Ft(t){return t}function Pt(t){return t=Tt({},t),function(e){return it(e,t)}}function Bt(t){return t=Ct(t),function(e){return It(e,t)}}function Ut(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,o){return t.call(e,r,n,o)};case 4:return function(r,n,o,a){return t.call(e,r,n,o,a)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,r){return null==t?Ft:P(t)?Ut(t,e,r):A(t)&&!G(t)?Pt(t):Bt(t)}function zt(t,e){return Ht(t,e,1/0)}function $t(t,e,r){return ut.iteratee!==zt?ut.iteratee(t,e):Ht(t,e,r)}function Gt(){}function Vt(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}ut.toPath=jt,ut.iteratee=zt;var Wt=Date.now||function(){return(new Date).getTime()};function qt(t){var e=function(e){return t[e]},r="(?:"+at(t).join("|")+")",n=RegExp(r),o=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(o,e):t}}var Jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Kt=qt(Jt),Xt=qt(Ot(Jt)),Zt=ut.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Qt=/(.)^/,te={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ee=/\\|'|\r|\n|\u2028|\u2029/g;function re(t){return"\\"+te[t]}var ne=/^\s*(\w|\$)+\s*$/;var oe=0;function ae(t,e,r,n,o){if(!(n instanceof e))return t.apply(r,o);var a=Dt(t.prototype),i=t.apply(a,o);return A(i)?i:a}var ie=x((function(t,e){var r=ie.placeholder,n=function(){for(var o=0,a=e.length,i=Array(a),u=0;u<a;u++)i[u]=e[u]===r?arguments[o++]:e[u];for(;o<arguments.length;)i.push(arguments[o++]);return ae(t,n,this,this,i)};return n}));ie.placeholder=ut;var ue=x((function(t,e,r){if(!P(t))throw new TypeError("Bind must be called on a function");var n=x((function(o){return ae(t,n,e,this,r.concat(o))}));return n})),se=X(nt);function ce(t,e,r,n){if(n=n||[],e||0===e){if(e<=0)return n.concat(t)}else e=1/0;for(var o=n.length,a=0,i=nt(t);a<i;a++){var u=t[a];if(se(u)&&(G(u)||q(u)))if(e>1)ce(u,e-1,r,n),o=n.length;else for(var s=0,c=u.length;s<c;)n[o++]=u[s++];else r||(n[o++]=u)}return n}var le=x((function(t,e){var r=(e=ce(e,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=e[r];t[n]=ue(t[n],t)}return t}));var fe=x((function(t,e,r){return setTimeout((function(){return t.apply(null,r)}),e)})),pe=ie(fe,ut,1);function he(t,e,r){var n,o,a,i,u,s=function(){var c=Wt()-o;e>c?n=setTimeout(s,e-c):(n=null,r||(i=t.apply(u,a)),n||(a=u=null))},c=x((function(c){return u=this,a=c,o=Wt(),n||(n=setTimeout(s,e),r&&(i=t.apply(u,a))),i}));return c.cancel=function(){clearTimeout(n),n=a=u=null},c}function de(t){return function(){return!t.apply(this,arguments)}}function me(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}}var ge=ie(me,2);function ve(t,e,r){e=$t(e,r);for(var n,o=at(t),a=0,i=o.length;a<i;a++)if(e(t[n=o[a]],n,t))return n}function be(t){return function(e,r,n){r=$t(r,n);for(var o=nt(e),a=t>0?0:o-1;a>=0&&a<o;a+=t)if(r(e[a],a,e))return a;return-1}}var ye=be(1),we=be(-1);function Me(t,e,r,n){for(var o=(r=$t(r,n,1))(e),a=0,i=nt(t);a<i;){var u=Math.floor((a+i)/2);r(t[u])<o?a=u+1:i=u}return a}function _e(t,e,r){return function(n,o,a){var i=0,u=nt(n);if("number"==typeof a)t>0?i=a>=0?a:Math.max(a+u,i):u=a>=0?Math.min(a+1,u):a+u+1;else if(r&&a&&u)return n[a=r(n,o)]===o?a:-1;if(o!=o)return(a=e(l.call(n,i,u),J))>=0?a+i:-1;for(a=t>0?i:u-1;a>=0&&a<u;a+=t)if(n[a]===o)return a;return-1}}var Ee=_e(1,ye,Me),xe=_e(-1,we);function Ae(t,e,r){var n=(se(t)?ye:ve)(t,e,r);if(void 0!==n&&-1!==n)return t[n]}function Oe(t,e,r){var n,o;if(e=Ut(e,r),se(t))for(n=0,o=t.length;n<o;n++)e(t[n],n,t);else{var a=at(t);for(n=0,o=a.length;n<o;n++)e(t[a[n]],a[n],t)}return t}function Ne(t,e,r){e=$t(e,r);for(var n=!se(t)&&at(t),o=(n||t).length,a=Array(o),i=0;i<o;i++){var u=n?n[i]:i;a[i]=e(t[u],u,t)}return a}function ke(t){var e=function(e,r,n,o){var a=!se(e)&&at(e),i=(a||e).length,u=t>0?0:i-1;for(o||(n=e[a?a[u]:u],u+=t);u>=0&&u<i;u+=t){var s=a?a[u]:u;n=r(n,e[s],s,e)}return n};return function(t,r,n,o){var a=arguments.length>=3;return e(t,Ut(r,o,4),n,a)}}var Ye=ke(1),Te=ke(-1);function Se(t,e,r){var n=[];return e=$t(e,r),Oe(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function De(t,e,r){e=$t(e,r);for(var n=!se(t)&&at(t),o=(n||t).length,a=0;a<o;a++){var i=n?n[a]:a;if(!e(t[i],i,t))return!1}return!0}function Re(t,e,r){e=$t(e,r);for(var n=!se(t)&&at(t),o=(n||t).length,a=0;a<o;a++){var i=n?n[a]:a;if(e(t[i],i,t))return!0}return!1}function je(t,e,r,n){return se(t)||(t=At(t)),("number"!=typeof r||n)&&(r=0),Ee(t,e,r)>=0}var Ce=x((function(t,e,r){var n,o;return P(e)?o=e:(e=Ct(e),n=e.slice(0,-1),e=e[e.length-1]),Ne(t,(function(t){var a=o;if(!a){if(n&&n.length&&(t=It(t,n)),null==t)return;a=t[e]}return null==a?a:a.apply(t,r)}))}));function Ie(t,e){return Ne(t,Bt(e))}function Le(t,e,r){var n,o,a=-1/0,i=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var u=0,s=(t=se(t)?t:At(t)).length;u<s;u++)null!=(n=t[u])&&n>a&&(a=n);else e=$t(e,r),Oe(t,(function(t,r,n){((o=e(t,r,n))>i||o===-1/0&&a===-1/0)&&(a=t,i=o)}));return a}var Fe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Pe(t){return t?G(t)?l.call(t):T(t)?t.match(Fe):se(t)?Ne(t,Ft):At(t):[]}function Be(t,e,r){if(null==e||r)return se(t)||(t=At(t)),t[Vt(t.length-1)];var n=Pe(t),o=nt(n);e=Math.max(Math.min(e,o),0);for(var a=o-1,i=0;i<e;i++){var u=Vt(i,a),s=n[i];n[i]=n[u],n[u]=s}return n.slice(0,e)}function Ue(t){return Be(t,1/0)}function He(t,e){return function(r,n,o){var a=e?[[],[]]:{};return n=$t(n,o),Oe(r,(function(e,o){var i=n(e,o,r);t(a,e,i)})),a}}var ze=He((function(t,e,r){V(t,r)?t[r].push(e):t[r]=[e]})),$e=He((function(t,e,r){t[r]=e})),Ge=He((function(t,e,r){V(t,r)?t[r]++:t[r]=1})),Ve=He((function(t,e,r){t[r?0:1].push(e)}),!0);function We(t,e,r){return e in r}var qe=x((function(t,e){var r={},n=e[0];if(null==t)return r;P(n)?(e.length>1&&(n=Ut(n,e[1])),e=ht(t)):(n=We,e=ce(e,!1,!1),t=Object(t));for(var o=0,a=e.length;o<a;o++){var i=e[o],u=t[i];n(u,i,t)&&(r[i]=u)}return r})),Je=x((function(t,e){var r,n=e[0];return P(n)?(n=de(n),e.length>1&&(r=e[1])):(e=Ne(ce(e,!1,!1),String),n=function(t,r){return!je(e,r)}),qe(t,n,r)}));function Ke(t,e,r){return l.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))}function Xe(t,e,r){return null==t||t.length<1?null==e||r?void 0:[]:null==e||r?t[0]:Ke(t,t.length-e)}function Ze(t,e,r){return l.call(t,null==e||r?1:e)}function Qe(t,e){return ce(t,e,!1)}var tr=x((function(t,e){return e=ce(e,!0,!0),Se(t,(function(t){return!je(e,t)}))})),er=x((function(t,e){return tr(t,e)}));function rr(t,e,r,n){k(e)||(n=r,r=e,e=!1),null!=r&&(r=$t(r,n));for(var o=[],a=[],i=0,u=nt(t);i<u;i++){var s=t[i],c=r?r(s,i,t):s;e&&!r?(i&&a===c||o.push(s),a=c):r?je(a,c)||(a.push(c),o.push(s)):je(o,s)||o.push(s)}return o}var nr=x((function(t){return rr(ce(t,!0,!0))}));function or(t){for(var e=t&&Le(t,nt).length||0,r=Array(e),n=0;n<e;n++)r[n]=Ie(t,n);return r}var ar=x(or);function ir(t,e,r){null==e&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),o=Array(n),a=0;a<n;a++,t+=r)o[a]=t;return o}function ur(t,e){return t._chain?ut(e).chain():e}function sr(t){return Oe(Nt(t),(function(e){var r=ut[e]=t[e];ut.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),ur(this,r.apply(ut,t))}})),ut}Oe(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=i[t];ut.prototype[t]=function(){var r=this._wrapped;return null!=r&&(e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0]),ur(this,r)}})),Oe(["concat","join","slice"],(function(t){var e=i[t];ut.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),ur(this,t)}}));var cr=Object.freeze({__proto__:null,VERSION:o,restArguments:x,isObject:A,isNull:O,isUndefined:N,isBoolean:k,isElement:function(t){return!(!t||1!==t.nodeType)},isString:T,isNumber:S,isDate:D,isRegExp:R,isError:j,isSymbol:C,isArrayBuffer:I,isDataView:$,isArray:G,isFunction:P,isArguments:q,isFinite:function(t){return!C(t)&&w(t)&&!isNaN(parseFloat(t))},isNaN:J,isTypedArray:rt,isEmpty:function(t){if(null==t)return!0;var e=nt(t);return"number"==typeof e&&(G(t)||T(t)||q(t))?0===e:0===nt(at(t))},isMatch:it,isEqual:pt,isMap:Mt,isWeakMap:_t,isSet:Et,isWeakSet:xt,keys:at,allKeys:ht,values:At,pairs:function(t){for(var e=at(t),r=e.length,n=Array(r),o=0;o<r;o++)n[o]=[e[o],t[e[o]]];return n},invert:Ot,functions:Nt,methods:Nt,extend:Yt,extendOwn:Tt,assign:Tt,defaults:St,create:function(t,e){var r=Dt(t);return e&&Tt(r,e),r},clone:Rt,tap:function(t,e){return e(t),t},get:Lt,has:function(t,e){for(var r=(e=Ct(e)).length,n=0;n<r;n++){var o=e[n];if(!V(t,o))return!1;t=t[o]}return!!r},mapObject:function(t,e,r){e=$t(e,r);for(var n=at(t),o=n.length,a={},i=0;i<o;i++){var u=n[i];a[u]=e(t[u],u,t)}return a},identity:Ft,constant:K,noop:Gt,toPath:jt,property:Bt,propertyOf:function(t){return null==t?Gt:function(e){return Lt(t,e)}},matcher:Pt,matches:Pt,times:function(t,e,r){var n=Array(Math.max(0,t));e=Ut(e,r,1);for(var o=0;o<t;o++)n[o]=e(o);return n},random:Vt,now:Wt,escape:Kt,unescape:Xt,templateSettings:Zt,template:function(t,e,r){!e&&r&&(e=r),e=St({},e,ut.templateSettings);var n=RegExp([(e.escape||Qt).source,(e.interpolate||Qt).source,(e.evaluate||Qt).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(n,(function(e,r,n,i,u){return a+=t.slice(o,u).replace(ee,re),o=u+e.length,r?a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),e})),a+="';\n";var i,u=e.variable;if(u){if(!ne.test(u))throw new Error("variable is not a bare identifier: "+u)}else a="with(obj||{}){\n"+a+"}\n",u="obj";a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(u,"_",a)}catch(t){throw t.source=a,t}var s=function(t){return i.call(this,t,ut)};return s.source="function("+u+"){\n"+a+"}",s},result:function(t,e,r){var n=(e=Ct(e)).length;if(!n)return P(r)?r.call(t):r;for(var o=0;o<n;o++){var a=null==t?void 0:t[e[o]];void 0===a&&(a=r,o=n),t=P(a)?a.call(t):a}return t},uniqueId:function(t){var e=++oe+"";return t?t+e:e},chain:function(t){var e=ut(t);return e._chain=!0,e},iteratee:zt,partial:ie,bind:ue,bindAll:le,memoize:function(t,e){var r=function(n){var o=r.cache,a=""+(e?e.apply(this,arguments):n);return V(o,a)||(o[a]=t.apply(this,arguments)),o[a]};return r.cache={},r},delay:fe,defer:pe,throttle:function(t,e,r){var n,o,a,i,u=0;r||(r={});var s=function(){u=!1===r.leading?0:Wt(),n=null,i=t.apply(o,a),n||(o=a=null)},c=function(){var c=Wt();u||!1!==r.leading||(u=c);var l=e-(c-u);return o=this,a=arguments,l<=0||l>e?(n&&(clearTimeout(n),n=null),u=c,i=t.apply(o,a),n||(o=a=null)):n||!1===r.trailing||(n=setTimeout(s,l)),i};return c.cancel=function(){clearTimeout(n),u=0,n=o=a=null},c},debounce:he,wrap:function(t,e){return ie(e,t)},negate:de,compose:function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:me,once:ge,findKey:ve,findIndex:ye,findLastIndex:we,sortedIndex:Me,indexOf:Ee,lastIndexOf:xe,find:Ae,detect:Ae,findWhere:function(t,e){return Ae(t,Pt(e))},each:Oe,forEach:Oe,map:Ne,collect:Ne,reduce:Ye,foldl:Ye,inject:Ye,reduceRight:Te,foldr:Te,filter:Se,select:Se,reject:function(t,e,r){return Se(t,de($t(e)),r)},every:De,all:De,some:Re,any:Re,contains:je,includes:je,include:je,invoke:Ce,pluck:Ie,where:function(t,e){return Se(t,Pt(e))},max:Le,min:function(t,e,r){var n,o,a=1/0,i=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var u=0,s=(t=se(t)?t:At(t)).length;u<s;u++)null!=(n=t[u])&&n<a&&(a=n);else e=$t(e,r),Oe(t,(function(t,r,n){((o=e(t,r,n))<i||o===1/0&&a===1/0)&&(a=t,i=o)}));return a},shuffle:Ue,sample:Be,sortBy:function(t,e,r){var n=0;return e=$t(e,r),Ie(Ne(t,(function(t,r,o){return{value:t,index:n++,criteria:e(t,r,o)}})).sort((function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index})),"value")},groupBy:ze,indexBy:$e,countBy:Ge,partition:Ve,toArray:Pe,size:function(t){return null==t?0:se(t)?t.length:at(t).length},pick:qe,omit:Je,first:Xe,head:Xe,take:Xe,initial:Ke,last:function(t,e,r){return null==t||t.length<1?null==e||r?void 0:[]:null==e||r?t[t.length-1]:Ze(t,Math.max(0,t.length-e))},rest:Ze,tail:Ze,drop:Ze,compact:function(t){return Se(t,Boolean)},flatten:Qe,without:er,uniq:rr,unique:rr,union:nr,intersection:function(t){for(var e=[],r=arguments.length,n=0,o=nt(t);n<o;n++){var a=t[n];if(!je(e,a)){var i;for(i=1;i<r&&je(arguments[i],a);i++);i===r&&e.push(a)}}return e},difference:tr,unzip:or,transpose:or,zip:ar,object:function(t,e){for(var r={},n=0,o=nt(t);n<o;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},range:ir,chunk:function(t,e){if(null==e||e<1)return[];for(var r=[],n=0,o=t.length;n<o;)r.push(l.call(t,n,n+=e));return r},mixin:sr,default:ut}),lr=sr(cr);function fr(e){const n={},o=e.slice(0);function a(t){const e=t.name();let r,o,a;for(e?(r=e,o=0,a=r):(r="X",o=1,a=`${r}.${o}`);Object.prototype.hasOwnProperty.call(n,a);)a=`${r}.${++o}`;a!==e&&t.name(a,e)}e.forEach((t=>{a(t),n[t.name()]=t}));const i={columns:()=>e,column(t){if(T(t)){if(void 0!==n[t])return n[t];throw new Error('No column found with that name: "'+t+'"')}if(!(t<0)){if(void 0!==e[t])return e[t];throw new Error("No column found with that name or index: "+t)}},numColumns:()=>e.length,numRows:()=>e.length?e[0].length:0,eachColumn(t){e.forEach(t)},hasColumn:t=>void 0!==(T(t)?n[t]:e[t]),indexOf:t=>i.hasColumn(t)?e.indexOf(n[t]):-1,list:()=>e.length?ir(e[0].length).map(i.row):[],row(t){if(!e.length||t>=e[0].length)return{};const r={};return e.forEach((e=>{r[e.name()]=e.val(t)})),r},csv(){let{includeComputedColumns:n=!0,includeHeader:a=!0,includeOrder:u=!0,includeFiltered:s=!1,numeral:c=null,...l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.length)return"";const f=i.numRows(),p=(u?e:o).filter((t=>!(!n&&t.isComputed)&&!(!s&&-1===e.indexOf(t)))).map((t=>[...a?[t.title()]:[],...t.formatted(c)])),h=p[0].map(((t,e)=>p.map((t=>t[e])))).slice(0,f+1);return!l.delimiter&&c&&(l.delimiter=t(c)),r(h,l)},toCSV(){return this.csv(...arguments)},filterColumns:t=>(e=e.filter((e=>!t[e.name()])),Oe(t,((t,e)=>{t&&n[e]&&delete n[e]})),i),eachRow(t){var e;for(e=0;e<i.numRows();e++)t(e);return i},add:t=>(a(t),e.push(t),n[t.name()]=t,o.push(t),i),limitRows:t=>(e.forEach((e=>{e.limitRows(t)})),i),limitColumns:t=>(e.length>t&&(e.length=t,o.length=t),i),columnOrder(t){if(arguments.length){const r=e.map(((r,n)=>{const o=t.indexOf(n);return[r,-1!==o?o:e.length]}));return e=r.sort(((t,e)=>t[1]-e[1])).map((t=>t[0])),i}return e.map((function(t){return o.indexOf(t)}))},align(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const r=Math.max(...e.map((t=>t.length)));for(const n of e){const e=Array(r-n.length).fill(t);n.add(...e)}},clone:()=>fr(e.map((t=>t.clone()))),clear(){for(const t of e)t.clear()},deleteRow(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.sort();for(const t of e){let e=0;r.forEach((r=>{const n=t.deleteRow(r-e);e+=n.length}))}return i}};return i}lr._=lr;const pr=/^ */.source,hr=/[*']* *$/.source,dr=/[ \-/.]?/.source,mr=/[ \-/.]/.source,gr=/[ \-/.;,]/.source,vr=/[ \-|T]/.source,br=/[ \-/.m]/.source,yr={YY:{parse:/['’‘]?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(AM|PM)?/}},wr={0:["JAN","JANUARY","JANUAR","JÄNNER","JÄN","JANV","JANVIER","ENE","ENERO","GEN","GENNAIO","JANEIRO"],1:["FEB","FEBRUARY","FEBR","FEBRUAR","FÉV","FÉVR","FÉVRIER","FEBRERO","FEBBRAIO","FEV","FEVEREIRO"],2:["MAR","MÄR","MARCH","MRZ","MÄRZ","MARS","MARS","MARZO","MARZO","MARÇO"],3:["APR","APRIL","APR","APRIL","AVR","AVRIL","ABR","ABRIL","APRILE"],4:["MAY","MAI","MAYO","MAG","MAGGIO","MAIO","MAJ"],5:["JUN","JUNE","JUNI","JUIN","JUNIO","GIU","GIUGNO","JUNHO"],6:["JUL","JULY","JULI","JUIL","JUILLET","JULIO","LUG","LUGLIO","JULHO"],7:["AUG","AUGUST","AOÛT","AGO","AGOSTO"],8:["SEP","SEPTEMBER","SEPT","SEPTEMBRE","SEPTIEMBRE","SET","SETTEMBRE","SETEMBRO"],9:["OCT","OCTOBER","OKT","OKTOBER","OCTOBRE","OCTUBRE","OTT","OTTOBRE","OUT","OUTUBRO"],10:["NOV","NOVEMBER","NOVEMBER","NOVEMBRE","NOVIEMBRE","NOVEMBRE","NOVEMBRO"],11:["DEC","DECEMBER","DEZ","DES","DEZEMBER","DÉC","DÉCEMBRE","DIC","DICIEMBRE","DICEMBRE","DESEMBER","DEZEMBRO"]},Mr={};Oe(wr,(function(t,e){Oe(t,(function(t){Mr[t]=e}))})),yr.MMM={parse:new RegExp("("+Qe(At(wr)).join("|")+")")};const _r=/^(?:([1-9]\d{3})(-?)(?:(0\d|1[012]))\2(0\d|1\d|2\d|3[01]))T([01]\d|2[0-3])(:?)([0-5]\d)(?:\6([0-5]\d)(?:\.(\d{3}))?)?(Z|[+-][01]\d(?:\6[0-5]\d)?)$/;Oe(yr,(function(t){t.parse=t.parse.source,R(t.test)?t.test=t.test.source:t.test=t.parse}));var Er={YYYY:{test:xr(yr.YYYY2.test),parse:xr(yr.YYYY2.parse),precision:"year"},"YYYY-H":{test:xr(yr.YYYY.test,dr,yr.H.test),parse:xr(yr.YYYY.parse,dr,yr.H.parse),precision:"half"},"H-YYYY":{test:xr(yr.H.test,mr,yr.YYYY.test),parse:xr(yr.H.parse,mr,yr.YYYY.parse),precision:"half"},"YYYY-Q":{test:xr(yr.YYYY.test,dr,yr.Q.test),parse:xr(yr.YYYY.parse,dr,yr.Q.parse),precision:"quarter"},"Q-YYYY":{test:xr(yr.Q.test,mr,yr.YYYY.test),parse:xr(yr.Q.parse,mr,yr.YYYY.parse),precision:"quarter"},"YYYY-M":{test:xr(yr.YYYY.test,br,yr.MM.test),parse:xr(yr.YYYY.parse,br,yr.MM.parse),precision:"month"},"M-YYYY":{test:xr(yr.MM.test,mr,yr.YYYY.test),parse:xr(yr.MM.parse,mr,yr.YYYY.parse),precision:"month"},"YYYY-MMM":{test:xr(yr.YYYY.test,mr,yr.MMM.parse),parse:xr(yr.YYYY.parse,mr,yr.MMM.parse),precision:"month"},"MMM-YYYY":{test:xr(yr.MMM.parse,mr,yr.YYYY.test),parse:xr(yr.MMM.parse,mr,yr.YYYY.parse),precision:"month"},"MMM-YY":{test:xr(yr.MMM.parse,mr,yr.YY.test),parse:xr(yr.MMM.parse,mr,yr.YY.parse),precision:"month"},MMM:{test:xr(yr.MMM.parse),parse:xr(yr.MMM.parse),precision:"month"},"YYYY-WW":{test:xr(yr.YYYY.test,dr,yr.W.test),parse:xr(yr.YYYY.parse,dr,yr.W.parse),precision:"week"},"WW-YYYY":{test:xr(yr.W.test,mr,yr.YYYY.test),parse:xr(yr.W.parse,mr,yr.YYYY.parse),precision:"week"},"MM/DD/YYYY":{test:xr(yr.MM.test,"([\\-\\/])",yr.DD.test,"\\2",yr.YYYY.test),parse:xr(yr.MM.parse,"([\\-\\/])",yr.DD.parse,"\\2",yr.YYYY.parse),precision:"day"},"MM/DD/YY":{test:xr(yr.MM.test,"([\\-\\/])",yr.DD.test,"\\2",yr.YY.test),parse:xr(yr.MM.parse,"([\\-\\/])",yr.DD.parse,"\\2",yr.YY.parse),precision:"day"},"DD/MM/YY":{test:xr(yr.DD.test,"([\\-\\.\\/ ?])",yr.MM.test,"\\2",yr.YY.test),parse:xr(yr.DD.parse,"([\\-\\.\\/ ?])",yr.MM.parse,"\\2",yr.YY.parse),precision:"day"},"DD/MM/YYYY":{test:xr(yr.DD.test,"([\\-\\.\\/ ?])",yr.MM.test,"\\2",yr.YYYY.test),parse:xr(yr.DD.parse,"([\\-\\.\\/ ?])",yr.MM.parse,"\\2",yr.YYYY.parse),precision:"day"},"DD/MMM/YYYY":{test:xr(yr.DD.test,"([\\-\\.\\/ ?])",yr.MMM.test,"\\2",yr.YYYY.test),parse:xr(yr.DD.parse,"([\\-\\.\\/ ?])",yr.MMM.parse,"\\2",yr.YYYY.parse),precision:"day"},"DD/MMM/YY":{test:xr(yr.DD.test,"([\\-\\.\\/ ?])",yr.MMM.test,"\\2",yr.YY.test),parse:xr(yr.DD.parse,"([\\-\\.\\/ ?])",yr.MMM.parse,"\\2",yr.YY.parse),precision:"day"},"YYYY-MM-DD":{test:xr(yr.YYYY.test,"([\\-\\.\\/ ?])",yr.MM.test,"\\2",yr.DD.test),parse:xr(yr.YYYY.parse,"([\\-\\.\\/ ?])",yr.MM.parse,"\\2",yr.DD.parse),precision:"day"},"MMM-DD-YYYY":{test:xr(yr.MMM.test,mr,yr.DD.test,gr,yr.YYYY.test),parse:xr(yr.MMM.parse,mr,yr.DD.parse,gr,yr.YYYY.parse),precision:"day"},"YYYY-WW-d":{test:xr(yr.YYYY.test,dr,yr.W.test,mr,yr.DOW.test),parse:xr(yr.YYYY.parse,dr,yr.W.parse,mr,yr.DOW.parse),precision:"day"},"MM/DD/YYYY HH:MM":{test:xr(yr.MM.test,"([\\-\\/])",yr.DD.test,"\\2",yr.YYYY.test,vr,yr.HHMM.test),parse:xr(yr.MM.parse,"([\\-\\/])",yr.DD.parse,"\\2",yr.YYYY.parse,vr,yr.HHMM.parse),precision:"day-minutes"},"DD.MM.YYYY HH:MM":{test:xr(yr.DD.test,"([\\-\\.\\/ ?])",yr.MM.test,"\\2",yr.YYYY.test,vr,yr.HHMM.test),parse:xr(yr.DD.parse,"([\\-\\.\\/ ?])",yr.MM.parse,"\\2",yr.YYYY.parse,vr,yr.HHMM.parse),precision:"day-minutes"},"YYYY-MM-DD HH:MM":{test:xr(yr.YYYY.test,"([\\-\\.\\/ ?])",yr.MM.test,"\\2",yr.DD.test,vr,yr.HHMM.test),parse:xr(yr.YYYY.parse,"([\\-\\.\\/ ?])",yr.MM.parse,"\\2",yr.DD.parse,vr,yr.HHMM.parse),precision:"day-minutes"},ISO8601:{test:_r,parse:_r,precision:"day-seconds"}};function xr(){return new RegExp(pr+Array.prototype.slice.call(arguments).join(" *")+hr,"i")}function Ar(t,e){var r=Er[e];return R(r.test)?r.test.test(t):r.test(t,e)}function Or(t,e,r){var n=new Date(Date.UTC(t,0,3));return n.setUTCDate(3-n.getUTCDay()+7*(e-1)+parseInt(r,10)),n}function Nr(t,e){return 12!==t?t+("PM"===e?12:0):"AM"===e?0:12}var kr,Yr={text:function(){return{parse:Ft,errors:function(){return 0},name:function(){return"text"},isValid:function(){return!0},format:function(){}}},number:function(t){let e,r=0;const n={"-.":/^ *[-–—−]?[0-9]*(\.[0-9]+)?(e[+-][0-9]+)?%? *$/,"-,":/^ *[-–—−]?[0-9]*(,[0-9]+)?%? *$/,",.":/^ *[-–—−]?[0-9]{1,3}(,[0-9]{3})*(\.[0-9]+)?%? *$/,".,":/^ *[-–—−]?[0-9]{1,3}(\.[0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(,[0-9]+)?%? *$/,"'.":/^ *[-–—−]?[0-9]{1,3}('[0-9]{3})*(\.[0-9]+)?%? *$/},o={"-.":"1234.56","-,":"1234,56",",.":"1,234.56",".,":"1.234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"},a={na:1,"n/a":1,"-":1,":":1},i={},u=["-.",0];Oe(t=t||[],(function(t){Oe(n,(function(e,r){void 0===i[r]&&(i[r]=0),e.test(t)&&(i[r]+=1,i[r]>u[1]&&(u[0]=r,u[1]=i[r]))}))})),e=u[0];var s={parse:function(t){if(S(t)||N(t)||O(t))return t;var n=t.replace("%","").replace("−","-").replace(/[   ]/g,"").replace("–","-").replace("—","-");return"-"!==e[0]&&(n=n.replace(new RegExp("."===e[0]?"\\.":e[0],"g"),"")),"."!==e[1]&&(n=n.replace(e[1],".")),isNaN(n)||""===n?(a[n.toLowerCase()]||""===n||r++,t):Number(n)},toNum:function(t){return t},fromNum:function(t){return t},errors:function(){return r},name:function(){return"number"},isValid:function(t){return""===t||a[String(t).toLowerCase()]||S(s.parse(t))},ambiguousFormats:function(){var t=[];return Oe(i,(function(e,r){e===u[1]&&t.push([r,o[r]])})),t},format:function(t){return arguments.length?(e=t,s):e}};return s},date:function(t){let e,r=0;const n={},o=["",0];t=t||[],Oe(Er,(function(e,r){Oe(t,(function(t){void 0===n[r]&&(n[r]=0),Ar(String(t).toUpperCase(),r)&&(n[r]+=1,n[r]>o[1]&&(o[0]=r,o[1]=n[r]))}))})),e=o[0];const a={parse:function(t){if(D(t)||N(t))return t;if(!e||!T(t))return r++,t;var n,o,a,i=(n=t.toUpperCase(),R((a=Er[o=e]).parse)?n.match(a.parse):a.parse(n,o));if(!i)return r++,t;function u(t){return(t=+t)<30?2e3+t:1900+t}Ar(t,e)||r++;var s=(new Date).getFullYear();switch(e){case"YYYY":return new Date(i[1],0,1);case"YYYY-H":return new Date(i[1],6*(i[2]-1),1);case"H-YYYY":return new Date(i[2],6*(i[1]-1),1);case"YYYY-Q":return new Date(i[1],3*(i[2]-1),1);case"Q-YYYY":return new Date(i[2],3*(i[1]-1),1);case"YYYY-M":return new Date(i[1],i[2]-1,1);case"M-YYYY":return new Date(i[2],i[1]-1,1);case"YYYY-MMM":return new Date(+i[1],Mr[i[2]],1);case"MMM-YYYY":return new Date(+i[2],Mr[i[1]],1);case"MMM-YY":return new Date(u(+i[2]),Mr[i[1]],1);case"MMM":return new Date(s,Mr[i[1]],1);case"YYYY-WW":return Or(i[1],i[2],1);case"WW-YYYY":return Or(i[2],i[1],1);case"YYYY-WW-d":return Or(i[1],i[2],i[3]);case"YYYY-MM-DD":return new Date(i[1],i[3]-1,i[4]);case"DD/MM/YYYY":return new Date(i[4],i[3]-1,i[1]);case"DD/MMM/YYYY":return new Date(i[4],Mr[i[3]],i[1]);case"DD/MMM/YY":return new Date(u(i[4]),Mr[i[3]],i[1]);case"MM/DD/YYYY":return new Date(i[4],i[1]-1,i[3]);case"MM/DD/YY":return new Date(u(i[4]),i[1]-1,i[3]);case"DD/MM/YY":return new Date(u(i[4]),i[3]-1,i[1]);case"MMM-DD-YYYY":return new Date(i[3],Mr[i[1]],i[2]);case"YYYY-MM-DD HH:MM":return new Date(+i[1],i[3]-1,+i[4],Nr(+i[5],i[8]),+i[6]||0,+i[7]||0);case"DD.MM.YYYY HH:MM":return new Date(+i[4],i[3]-1,+i[1],Nr(+i[5],i[8]),+i[6]||0,+i[7]||0);case"MM/DD/YYYY HH:MM":return new Date(+i[4],i[1]-1,+i[3],Nr(+i[5],i[8]),+i[6]||0,+i[7]||0);case"ISO8601":return new Date(`${i[1]}-${i[3]}-${i[4]}T${i[5]}:${i[7]}:${i[8]||"00"}.${i[9]||"000"}${i[10]||""}`);default:console.warn("unknown format",e)}return r++,t},toNum:function(t){return D(t)?t.getTime():Number.NaN},fromNum:function(t){return new Date(t)},errors:function(){return r},name:function(){return"date"},format:function(t){return arguments.length?(e=t,a):e},precision:function(){return Er[e].precision},isValid:function(t){return D(a.parse(t))},ambiguousFormats:function(){var t=[];return Oe(n,(function(e,r){e===o[1]&&t.push([r,r])})),t}};return a}},Tr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Sr={exports:{}};function Dr(){return kr||(kr=1,function(t,e){t.exports=function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,r){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,r)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function n(t,o,a){return n=r()?Reflect.construct:function(t,r,n){var o=[null];o.push.apply(o,r);var a=new(Function.bind.apply(t,o));return n&&e(a,n.prototype),a},n.apply(null,arguments)}function o(t){return a(t)||i(t)||u(t)||c()}function a(t){if(Array.isArray(t))return s(t)}function i(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function u(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=Object.hasOwnProperty,f=Object.setPrototypeOf,p=Object.isFrozen,h=Object.getPrototypeOf,d=Object.getOwnPropertyDescriptor,m=Object.freeze,g=Object.seal,v=Object.create,b="undefined"!=typeof Reflect&&Reflect,y=b.apply,w=b.construct;y||(y=function(t,e,r){return t.apply(e,r)}),m||(m=function(t){return t}),g||(g=function(t){return t}),w||(w=function(t,e){return n(t,o(e))});var M=S(Array.prototype.forEach),_=S(Array.prototype.pop),E=S(Array.prototype.push),x=S(String.prototype.toLowerCase),A=S(String.prototype.match),O=S(String.prototype.replace),N=S(String.prototype.indexOf),k=S(String.prototype.trim),Y=S(RegExp.prototype.test),T=D(TypeError);function S(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return y(t,e,n)}}function D(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return w(t,r)}}function R(t,e,r){r=r||x,f&&f(t,null);for(var n=e.length;n--;){var o=e[n];if("string"==typeof o){var a=r(o);a!==o&&(p(e)||(e[n]=a),o=a)}t[o]=!0}return t}function j(t){var e,r=v(null);for(e in t)y(l,t,[e])&&(r[e]=t[e]);return r}function C(t,e){for(;null!==t;){var r=d(t,e);if(r){if(r.get)return S(r.get);if("function"==typeof r.value)return S(r.value)}t=h(t)}function n(t){return console.warn("fallback value for",t),null}return n}var I=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),U=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=m(["#text"]),z=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=g(/<%[\w\W]*|[\w\W]*%>/gm),J=g(/^data-[\-\w.\u00B7-\uFFFF]/),K=g(/^aria-[\-\w]+$/),X=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Z=g(/^(?:\w+script|data):/i),Q=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tt=g(/^html$/i),et=function(){return"undefined"==typeof window?null:window},rt=function(e,r){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(o)&&(n=r.currentScript.getAttribute(o));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et(),r=function(t){return nt(t)};if(r.version="2.4.0",r.removed=[],!e||!e.document||9!==e.document.nodeType)return r.isSupported=!1,r;var n=e.document,a=e.document,i=e.DocumentFragment,u=e.HTMLTemplateElement,s=e.Node,c=e.Element,l=e.NodeFilter,f=e.NamedNodeMap,p=void 0===f?e.NamedNodeMap||e.MozNamedAttrMap:f,h=e.HTMLFormElement,d=e.DOMParser,g=e.trustedTypes,v=c.prototype,b=C(v,"cloneNode"),y=C(v,"nextSibling"),w=C(v,"childNodes"),S=C(v,"parentNode");if("function"==typeof u){var D=a.createElement("template");D.content&&D.content.ownerDocument&&(a=D.content.ownerDocument)}var ot=rt(g,n),at=ot?ot.createHTML(""):"",it=a,ut=it.implementation,st=it.createNodeIterator,ct=it.createDocumentFragment,lt=it.getElementsByTagName,ft=n.importNode,pt={};try{pt=j(a).documentMode?a.documentMode:{}}catch(t){}var ht={};r.isSupported="function"==typeof S&&ut&&void 0!==ut.createHTMLDocument&&9!==pt;var dt,mt,gt=W,vt=q,bt=J,yt=K,wt=Z,Mt=Q,_t=X,Et=null,xt=R({},[].concat(o(I),o(L),o(F),o(B),o(H))),At=null,Ot=R({},[].concat(o(z),o($),o(G),o(V))),Nt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),kt=null,Yt=null,Tt=!0,St=!0,Dt=!1,Rt=!1,jt=!1,Ct=!1,It=!1,Lt=!1,Ft=!1,Pt=!1,Bt=!0,Ut=!1,Ht="user-content-",zt=!0,$t=!1,Gt={},Vt=null,Wt=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),qt=null,Jt=R({},["audio","video","img","source","image","track"]),Kt=null,Xt=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zt="http://www.w3.org/1998/Math/MathML",Qt="http://www.w3.org/2000/svg",te="http://www.w3.org/1999/xhtml",ee=te,re=!1,ne=["application/xhtml+xml","text/html"],oe="text/html",ae=null,ie=a.createElement("form"),ue=function(t){return t instanceof RegExp||t instanceof Function},se=function(e){ae&&ae===e||(e&&"object"===t(e)||(e={}),e=j(e),dt=dt=-1===ne.indexOf(e.PARSER_MEDIA_TYPE)?oe:e.PARSER_MEDIA_TYPE,mt="application/xhtml+xml"===dt?function(t){return t}:x,Et="ALLOWED_TAGS"in e?R({},e.ALLOWED_TAGS,mt):xt,At="ALLOWED_ATTR"in e?R({},e.ALLOWED_ATTR,mt):Ot,Kt="ADD_URI_SAFE_ATTR"in e?R(j(Xt),e.ADD_URI_SAFE_ATTR,mt):Xt,qt="ADD_DATA_URI_TAGS"in e?R(j(Jt),e.ADD_DATA_URI_TAGS,mt):Jt,Vt="FORBID_CONTENTS"in e?R({},e.FORBID_CONTENTS,mt):Wt,kt="FORBID_TAGS"in e?R({},e.FORBID_TAGS,mt):{},Yt="FORBID_ATTR"in e?R({},e.FORBID_ATTR,mt):{},Gt="USE_PROFILES"in e&&e.USE_PROFILES,Tt=!1!==e.ALLOW_ARIA_ATTR,St=!1!==e.ALLOW_DATA_ATTR,Dt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Rt=e.SAFE_FOR_TEMPLATES||!1,jt=e.WHOLE_DOCUMENT||!1,Lt=e.RETURN_DOM||!1,Ft=e.RETURN_DOM_FRAGMENT||!1,Pt=e.RETURN_TRUSTED_TYPE||!1,It=e.FORCE_BODY||!1,Bt=!1!==e.SANITIZE_DOM,Ut=e.SANITIZE_NAMED_PROPS||!1,zt=!1!==e.KEEP_CONTENT,$t=e.IN_PLACE||!1,_t=e.ALLOWED_URI_REGEXP||_t,ee=e.NAMESPACE||te,e.CUSTOM_ELEMENT_HANDLING&&ue(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Nt.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ue(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Nt.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Nt.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Rt&&(St=!1),Ft&&(Lt=!0),Gt&&(Et=R({},o(H)),At=[],!0===Gt.html&&(R(Et,I),R(At,z)),!0===Gt.svg&&(R(Et,L),R(At,$),R(At,V)),!0===Gt.svgFilters&&(R(Et,F),R(At,$),R(At,V)),!0===Gt.mathMl&&(R(Et,B),R(At,G),R(At,V))),e.ADD_TAGS&&(Et===xt&&(Et=j(Et)),R(Et,e.ADD_TAGS,mt)),e.ADD_ATTR&&(At===Ot&&(At=j(At)),R(At,e.ADD_ATTR,mt)),e.ADD_URI_SAFE_ATTR&&R(Kt,e.ADD_URI_SAFE_ATTR,mt),e.FORBID_CONTENTS&&(Vt===Wt&&(Vt=j(Vt)),R(Vt,e.FORBID_CONTENTS,mt)),zt&&(Et["#text"]=!0),jt&&R(Et,["html","head","body"]),Et.table&&(R(Et,["tbody"]),delete kt.tbody),m&&m(e),ae=e)},ce=R({},["mi","mo","mn","ms","mtext"]),le=R({},["foreignobject","desc","title","annotation-xml"]),fe=R({},["title","style","font","a","script"]),pe=R({},L);R(pe,F),R(pe,P);var he=R({},B);R(he,U);var de=function(t){var e=S(t);e&&e.tagName||(e={namespaceURI:te,tagName:"template"});var r=x(t.tagName),n=x(e.tagName);return t.namespaceURI===Qt?e.namespaceURI===te?"svg"===r:e.namespaceURI===Zt?"svg"===r&&("annotation-xml"===n||ce[n]):Boolean(pe[r]):t.namespaceURI===Zt?e.namespaceURI===te?"math"===r:e.namespaceURI===Qt?"math"===r&&le[n]:Boolean(he[r]):t.namespaceURI===te&&!(e.namespaceURI===Qt&&!le[n])&&!(e.namespaceURI===Zt&&!ce[n])&&!he[r]&&(fe[r]||!pe[r])},me=function(t){E(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=at}catch(e){t.remove()}}},ge=function(t,e){try{E(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){E(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!At[t])if(Lt||Ft)try{me(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ve=function(t){var e,r;if(It)t="<remove></remove>"+t;else{var n=A(t,/^[\r\n\t ]+/);r=n&&n[0]}"application/xhtml+xml"===dt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=ot?ot.createHTML(t):t;if(ee===te)try{e=(new d).parseFromString(o,dt)}catch(t){}if(!e||!e.documentElement){e=ut.createDocument(ee,"template",null);try{e.documentElement.innerHTML=re?"":o}catch(t){}}var i=e.body||e.documentElement;return t&&r&&i.insertBefore(a.createTextNode(r),i.childNodes[0]||null),ee===te?lt.call(e,jt?"html":"body")[0]:jt?e.documentElement:i},be=function(t){return st.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},ye=function(t){return t instanceof h&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof p)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},we=function(e){return"object"===t(s)?e instanceof s:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Me=function(t,e,n){ht[t]&&M(ht[t],(function(t){t.call(r,e,n,ae)}))},_e=function(t){var e;if(Me("beforeSanitizeElements",t,null),ye(t))return me(t),!0;if(Y(/[\u0080-\uFFFF]/,t.nodeName))return me(t),!0;var n=mt(t.nodeName);if(Me("uponSanitizeElement",t,{tagName:n,allowedTags:Et}),t.hasChildNodes()&&!we(t.firstElementChild)&&(!we(t.content)||!we(t.content.firstElementChild))&&Y(/<[/\w]/g,t.innerHTML)&&Y(/<[/\w]/g,t.textContent))return me(t),!0;if("select"===n&&Y(/<template/i,t.innerHTML))return me(t),!0;if(!Et[n]||kt[n]){if(!kt[n]&&xe(n)){if(Nt.tagNameCheck instanceof RegExp&&Y(Nt.tagNameCheck,n))return!1;if(Nt.tagNameCheck instanceof Function&&Nt.tagNameCheck(n))return!1}if(zt&&!Vt[n]){var o=S(t)||t.parentNode,a=w(t)||t.childNodes;if(a&&o)for(var i=a.length-1;i>=0;--i)o.insertBefore(b(a[i],!0),y(t))}return me(t),!0}return t instanceof c&&!de(t)?(me(t),!0):"noscript"!==n&&"noembed"!==n||!Y(/<\/no(script|embed)/i,t.innerHTML)?(Rt&&3===t.nodeType&&(e=t.textContent,e=O(e,gt," "),e=O(e,vt," "),t.textContent!==e&&(E(r.removed,{element:t.cloneNode()}),t.textContent=e)),Me("afterSanitizeElements",t,null),!1):(me(t),!0)},Ee=function(t,e,r){if(Bt&&("id"===e||"name"===e)&&(r in a||r in ie))return!1;if(St&&!Yt[e]&&Y(bt,e));else if(Tt&&Y(yt,e));else if(!At[e]||Yt[e]){if(!(xe(t)&&(Nt.tagNameCheck instanceof RegExp&&Y(Nt.tagNameCheck,t)||Nt.tagNameCheck instanceof Function&&Nt.tagNameCheck(t))&&(Nt.attributeNameCheck instanceof RegExp&&Y(Nt.attributeNameCheck,e)||Nt.attributeNameCheck instanceof Function&&Nt.attributeNameCheck(e))||"is"===e&&Nt.allowCustomizedBuiltInElements&&(Nt.tagNameCheck instanceof RegExp&&Y(Nt.tagNameCheck,r)||Nt.tagNameCheck instanceof Function&&Nt.tagNameCheck(r))))return!1}else if(Kt[e]);else if(Y(_t,O(r,Mt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==N(r,"data:")||!qt[t])if(Dt&&!Y(wt,O(r,Mt,"")));else if(r)return!1;return!0},xe=function(t){return t.indexOf("-")>0},Ae=function(e){var n,o,a,i;Me("beforeSanitizeAttributes",e,null);var u=e.attributes;if(u){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:At};for(i=u.length;i--;){var c=n=u[i],l=c.name,f=c.namespaceURI;if(o="value"===l?n.value:k(n.value),a=mt(l),s.attrName=a,s.attrValue=o,s.keepAttr=!0,s.forceKeepAttr=void 0,Me("uponSanitizeAttribute",e,s),o=s.attrValue,!s.forceKeepAttr&&(ge(l,e),s.keepAttr))if(Y(/\/>/i,o))ge(l,e);else{Rt&&(o=O(o,gt," "),o=O(o,vt," "));var p=mt(e.nodeName);if(Ee(p,a,o)){if(!Ut||"id"!==a&&"name"!==a||(ge(l,e),o=Ht+o),ot&&"object"===t(g)&&"function"==typeof g.getAttributeType)if(f);else switch(g.getAttributeType(p,a)){case"TrustedHTML":o=ot.createHTML(o);break;case"TrustedScriptURL":o=ot.createScriptURL(o)}try{f?e.setAttributeNS(f,l,o):e.setAttribute(l,o),_(r.removed)}catch(t){}}}}Me("afterSanitizeAttributes",e,null)}},Oe=function t(e){var r,n=be(e);for(Me("beforeSanitizeShadowDOM",e,null);r=n.nextNode();)Me("uponSanitizeShadowNode",r,null),_e(r)||(r.content instanceof i&&t(r.content),Ae(r));Me("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(o){var a,u,c,l,f,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((re=!o)&&(o="\x3c!--\x3e"),"string"!=typeof o&&!we(o)){if("function"!=typeof o.toString)throw T("toString is not a function");if("string"!=typeof(o=o.toString()))throw T("dirty is not a string, aborting")}if(!r.isSupported){if("object"===t(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof o)return e.toStaticHTML(o);if(we(o))return e.toStaticHTML(o.outerHTML)}return o}if(Ct||se(p),r.removed=[],"string"==typeof o&&($t=!1),$t){if(o.nodeName){var h=mt(o.nodeName);if(!Et[h]||kt[h])throw T("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof s)1===(u=(a=ve("\x3c!----\x3e")).ownerDocument.importNode(o,!0)).nodeType&&"BODY"===u.nodeName||"HTML"===u.nodeName?a=u:a.appendChild(u);else{if(!Lt&&!Rt&&!jt&&-1===o.indexOf("<"))return ot&&Pt?ot.createHTML(o):o;if(!(a=ve(o)))return Lt?null:Pt?at:""}a&&It&&me(a.firstChild);for(var d=be($t?o:a);c=d.nextNode();)3===c.nodeType&&c===l||_e(c)||(c.content instanceof i&&Oe(c.content),Ae(c),l=c);if(l=null,$t)return o;if(Lt){if(Ft)for(f=ct.call(a.ownerDocument);a.firstChild;)f.appendChild(a.firstChild);else f=a;return At.shadowroot&&(f=ft.call(n,f,!0)),f}var m=jt?a.outerHTML:a.innerHTML;return jt&&Et["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&Y(tt,a.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+m),Rt&&(m=O(m,gt," "),m=O(m,vt," ")),ot&&Pt?ot.createHTML(m):m},r.setConfig=function(t){se(t),Ct=!0},r.clearConfig=function(){ae=null,Ct=!1},r.isValidAttribute=function(t,e,r){ae||se({});var n=mt(t),o=mt(e);return Ee(n,o,r)},r.addHook=function(t,e){"function"==typeof e&&(ht[t]=ht[t]||[],E(ht[t],e))},r.removeHook=function(t){if(ht[t])return _(ht[t])},r.removeHooks=function(t){ht[t]&&(ht[t]=[])},r.removeAllHooks=function(){ht={}},r}return nt()}()}(Sr)),Sr.exports}var Rr=window.DOMPurify||(window.DOMPurify=Dr().default||Dr()),jr={};Object.defineProperty(jr,"__esModule",{value:!0}),jr.createPermanentMemoizer=void 0;jr.createPermanentMemoizer=function(t,e){let{maxsize:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new Map;return{get:o=>{const a=t(o);if(n.has(a))return n.get(a);const i=e(o);return r&&n.size>=r&&(n=new Map),n.set(a,i),i}}};var Cr=Tr&&Tr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const Ir=Cr(Rr),Lr=jr,Fr=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort(),Pr=1e5;Ir.default.addHook("afterSanitizeElements",(function(t){"a"===t.nodeName.toLowerCase()&&("_self"!==t.getAttribute("target")&&t.setAttribute("target","_blank"),t.setAttribute("rel","nofollow noopener noreferrer"))}));const Br=(0,Lr.createPermanentMemoizer)((t=>String(t)),(t=>{const e={ALLOWED_TAGS:void 0===t?Fr:"string"==typeof t?t.toLowerCase().slice(1,-1).split("><"):t,ADD_ATTR:["target"],FORCE_BODY:!0};return(0,Lr.createPermanentMemoizer)((t=>t),(t=>Ir.default.sanitize(t,e)),{maxsize:Pr})}),{maxsize:Pr});var Ur=function(t,e){return t?Br.get(e).get(t):t};function Hr(t,e,r,n){function o(t){return null!=t&&""!==t}const a=Ue(ir(e.length)).filter((function(t){return o(e[t])})).slice(0,200).map((function(t){return e[t]}));r=r?Yr[r](a):function(t){if(0===e.length)return Yr.text();if(De(e,S))return Yr.number();if(De(e,D))return Yr.date();const r=[Yr.date(t),Yr.number(t),Yr.text()];let n;const a=.1*e.filter(o).length;return Oe(e,(function(t){Oe(r,(function(e){e.parse(t)}))})),De(r,(function(t){return t.errors()<a&&(n=t),!n})),N(n)&&(n=r[2]),n}(a);let i,u,s,c,l=Ur(t),f=l;const p=e.slice(0);let h;var d={name(){return arguments.length>=1?(l=Ur(arguments[0]),f=2===arguments.length?Ur(arguments[1]):l,d):l},origName:()=>f,title(){return arguments.length?(h=Ur(arguments[0],n),d):h||l},length:e.length,val(t,o){if(arguments.length){var a=o?p:e;return t<0&&(t+=a.length),r.parse(D(a[t])||S(a[t])?a[t]:Ur(a[t],n))}},formatted(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t&&"number"===this.type()?this.values().map((e=>Number.isFinite(e)?t(e).format("0.[00000000000000000000]"):e)):this.raw()},values(t){var o=t?p:e;return o=Ne(o,(function(t){return D(t)||S(t)?t:Ur(t,n)})),Ne(o,r.parse)},each(t){for(var r=0;r<e.length;r++)t(d.val(r),r)},raw(t,r){return arguments.length?2===arguments.length?(e[t]=r,d):D(e[t])||S(e[t])?e[t]:Ur(e[t],n):e.map((t=>D(t)||S(t)?t:Ur(t,n)))},type(t){if(!0===t)return r;if(T(t)){if(Yr[t])return r=Yr[t](a),d;throw new Error("unknown column type: "+t)}return r.name()},range:()=>!!r.toNum&&(i||(i=[Number.MAX_VALUE,-Number.MAX_VALUE],d.each((function(t){t=r.toNum(t),S(t)&&!J(t)&&(t<i[0]&&(i[0]=t),t>i[1]&&(i[1]=t))})),i[0]=r.fromNum(i[0]),i[1]=r.fromNum(i[1])),i),sum:()=>!!r.toNum&&(void 0===u&&(u=0,d.each((function(t){const e=r.toNum(t);Number.isFinite(e)&&(u+=e)})),u=r.fromNum(u)),u),mean(){if(!r.toNum)return!1;if(void 0===s){s=0;let t=0;d.each((function(e){const n=r.toNum(e);Number.isFinite(n)&&(s+=n,t++)})),s=r.fromNum(s/t)}return s},median(){if(!r.toNum)return!1;if(void 0===c){const t=d.values().map(r.toNum);c=r.fromNum(function(t){var e,r=[],n=t.length,o=-1;if(1===arguments.length)for(;++o<n;)Gr(e=$r(t[o]))&&r.push(e);if(r.length)return zr(r.sort(Vr),.5)}(t))}return c},filterRows(t){return e=[],arguments.length?Oe(t,(function(t){e.push(p[t])})):e=p.slice(0),d.length=e.length,i=u=s=c=void 0,d},deleteRow(t){const r=e.splice(t,1);return p.splice(t,1),d.length=e.length,i=u=s=c=void 0,r},toString:()=>l+" ("+r.name()+")",indexOf:t=>Ae(ir(e.length),(function(e){return d.val(e)===t})),limitRows(t){p.length>t&&(p.length=t,e.length=t,d.length=t)},add(){p.push(...arguments),e.push(...arguments),d.length=e.length},clone:()=>Hr(l,e.slice(),r.name()),clear(){e.splice(0),d.length=e.length}};return d.total=d.sum,d}function zr(t,e){var r=(t.length-1)*e+1,n=Math.floor(r),o=+t[n-1],a=r-n;return a?o+a*(t[n]-o):o}function $r(t){return null===t?NaN:+t}function Gr(t){return!J(t)}function Vr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Wr(t){return{dataset:function(){return function(){if(t.url){const e=(new Date).getTime(),r=`${t.url}${t.url.indexOf("?")>-1?"&":"?"}v=${t.url.indexOf("//static.dwcdn.net")>-1?e-e%6e4:e}`;return window.fetch(r).then((t=>t.text())).then((e=>new qr(t).parse(e)))}if(t.csv||""===t.csv)return new Promise((e=>{e(t.csv)})).then((e=>new qr(t).parse(e)));const e=new Error("You need to provide either a URL or CSV data");return Promise.reject(e)}().catch((e=>(console.error(`Could not fetch delimited data source for chart ${t.chartId}, returning an empty dataset: ${e.message}`),fr([]))))},parse:function(){return new qr(t).parse(t.csv)}}}fr.delimited=Wr;class qr{constructor(t){t=Object.assign({delimiter:"auto",quoteChar:'"',skipRows:0,emptyValue:null,transpose:!1,firstRowIsHeader:!0},t),this.__delimiterPatterns=Jr(t.delimiter,t.quoteChar),this.opts=t}parse(t){this.__rawData=t;const e=this.opts;"auto"===e.delimiter&&(e.delimiter=this.guessDelimiter(t,e.skipRows),this.__delimiterPatterns=Jr(e.delimiter,e.quoteChar));const r="|"!==e.delimiter?"|":"#";let n;return t=r+"\n"+t.replace(/[ \r\n\f]+$/g,"").replace(/^\uFEFF/,"")+r,n=function(t,e,n){n=n||",";const o=[[]];let a,i=null;for(;i=t.exec(e);){var u=i[1];u.length&&u!==n&&o.push([]),a=i[2]?i[2].replace(new RegExp('""',"g"),'"'):i[3],o[o.length-1].push(void 0===a?"":a)}o[0][0].substr(0,1)===r&&(o[0][0]=o[0][0].substr(1));const s=o.length-1,c=o[s].length-1,l=o[s][c].length-1;return o[s][c].substr(l)===r&&(o[s][c]=o[s][c].substr(0,l)),o.slice(1)}(this.__delimiterPatterns,t,e.delimiter),e.transpose&&(n=function(t){const e=t,r=e.length?e.length:0,n=e[0]instanceof Array?e[0].length:0;if(0===n||0===r)return[];let o,a;const i=[];for(o=0;o<n;o++)for(i[o]=[],a=0;a<r;a++)i[o][a]=e[a][o];return i}(n)),function(t){const r=function(t){if(!t)return[];if(!(t=t.slice(e.skipRows)).length)return[];const r=t[0],n={};let o=[],a=0;return e.firstRowIsHeader&&(o=t[a],a++,t.shift()),r.map(((r,a)=>{const i=t.map((t=>""!==t[a]?t[a]:e.emptyValue));let u=T(o[a])?o[a].replace(/^\s+|\s+$/g,""):"",s=""!==u?"":1;for(u=""!==u?u:"X.";void 0!==n[u+s];)s=""===s?1:s+1;return n[u+s]=!0,Hr(u+s,i,void 0,e.allowedTags)}))}(t);return fr(r)}(function(t){for(let e=t.length-1;e>=0;e--)if(t[e].some((t=>""!==t)))return t.slice(0,e+1);return t.slice(0,1)}(n))}guessDelimiter(t){let e=0,r=-1;const n=this,o=["\t",";","|",","];return o.forEach(((o,a)=>{const i=Jr(o,n.quoteChar);let u=t.match(i).length;"\t"===o&&(u*=1.15),u>e&&(e=u,r=a)})),o[r]}}function Jr(t,e){return new RegExp("(\\"+t+"|\\r?\\n|\\r|^)(?:"+e+"([^"+e+"]*(?:"+e+'"[^'+e+"]*)*)"+e+"|([^\\"+t+"\\r\\n]*))","gi")}function Kr(t){return{dataset:function(){return function(){if(t.url)return fetch(t.url).then((t=>t.text())).then((t=>JSON.parse(t)));if(t.csv)return new Promise((e=>{e(t.csv)})).then((t=>JSON.parse(t)));const e=new Error("You need to provide either a URL or CSV data");return Promise.reject(e)}().catch((e=>(console.error(`Could not fetch JSON data source for chart ${t.chartId}, returning an empty object: ${e.message}`),{})))},parse:function(){return JSON.parse(t.csv)}}}fr.json=Kr;var Xr=function(t){return Math.max(0,String(t-Math.floor(t)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2)},Zr=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=Math.pow(10,e);return Math.round(t*r)/r},Qr={exports:{}};!function(t,e){t.exports=function(){var t="1.13.4",e="object"==typeof self&&self.self===self&&self||"object"==typeof Tr&&Tr.global===Tr&&Tr||Function("return this")()||{},r=Array.prototype,n=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,a=r.push,i=r.slice,u=n.toString,s=n.hasOwnProperty,c="undefined"!=typeof ArrayBuffer,l="undefined"!=typeof DataView,f=Array.isArray,p=Object.keys,h=Object.create,d=c&&ArrayBuffer.isView,m=isNaN,g=isFinite,v=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],y=Math.pow(2,53)-1;function w(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),o=0;o<r;o++)n[o]=arguments[o+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var a=Array(e+1);for(o=0;o<e;o++)a[o]=arguments[o];return a[e]=n,t.apply(this,a)}}function M(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function _(t){return null===t}function E(t){return void 0===t}function x(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)}function A(t){return!(!t||1!==t.nodeType)}function O(t){var e="[object "+t+"]";return function(t){return u.call(t)===e}}var N=O("String"),k=O("Number"),Y=O("Date"),T=O("RegExp"),S=O("Error"),D=O("Symbol"),R=O("ArrayBuffer"),j=O("Function"),C=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof C&&(j=function(t){return"function"==typeof t||!1});var I=j,L=O("Object"),F=l&&L(new DataView(new ArrayBuffer(8))),P="undefined"!=typeof Map&&L(new Map),B=O("DataView");function U(t){return null!=t&&I(t.getInt8)&&R(t.buffer)}var H=F?U:B,z=f||O("Array");function $(t,e){return null!=t&&s.call(t,e)}var G=O("Arguments");!function(){G(arguments)||(G=function(t){return $(t,"callee")})}();var V=G;function W(t){return!D(t)&&g(t)&&!isNaN(parseFloat(t))}function q(t){return k(t)&&m(t)}function J(t){return function(){return t}}function K(t){return function(e){var r=t(e);return"number"==typeof r&&r>=0&&r<=y}}function X(t){return function(e){return null==e?void 0:e[t]}}var Z=X("byteLength"),Q=K(Z),tt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function et(t){return d?d(t)&&!H(t):Q(t)&&tt.test(u.call(t))}var rt=c?et:J(!1),nt=X("length");function ot(t){for(var e={},r=t.length,n=0;n<r;++n)e[t[n]]=!0;return{contains:function(t){return!0===e[t]},push:function(r){return e[r]=!0,t.push(r)}}}function at(t,e){e=ot(e);var r=b.length,o=t.constructor,a=I(o)&&o.prototype||n,i="constructor";for($(t,i)&&!e.contains(i)&&e.push(i);r--;)(i=b[r])in t&&t[i]!==a[i]&&!e.contains(i)&&e.push(i)}function it(t){if(!M(t))return[];if(p)return p(t);var e=[];for(var r in t)$(t,r)&&e.push(r);return v&&at(t,e),e}function ut(t){if(null==t)return!0;var e=nt(t);return"number"==typeof e&&(z(t)||N(t)||V(t))?0===e:0===nt(it(t))}function st(t,e){var r=it(e),n=r.length;if(null==t)return!n;for(var o=Object(t),a=0;a<n;a++){var i=r[a];if(e[i]!==o[i]||!(i in o))return!1}return!0}function ct(t){return t instanceof ct?t:this instanceof ct?void(this._wrapped=t):new ct(t)}function lt(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Z(t))}ct.VERSION=t,ct.prototype.value=function(){return this._wrapped},ct.prototype.valueOf=ct.prototype.toJSON=ct.prototype.value,ct.prototype.toString=function(){return String(this._wrapped)};var ft="[object DataView]";function pt(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&ht(t,e,r,n)}function ht(t,e,r,n){t instanceof ct&&(t=t._wrapped),e instanceof ct&&(e=e._wrapped);var a=u.call(t);if(a!==u.call(e))return!1;if(F&&"[object Object]"==a&&H(t)){if(!H(e))return!1;a=ft}switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return o.valueOf.call(t)===o.valueOf.call(e);case"[object ArrayBuffer]":case ft:return ht(lt(t),lt(e),r,n)}var i="[object Array]"===a;if(!i&&rt(t)){if(Z(t)!==Z(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;i=!0}if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,c=e.constructor;if(s!==c&&!(I(s)&&s instanceof s&&I(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var l=(r=r||[]).length;l--;)if(r[l]===t)return n[l]===e;if(r.push(t),n.push(e),i){if((l=t.length)!==e.length)return!1;for(;l--;)if(!pt(t[l],e[l],r,n))return!1}else{var f,p=it(t);if(l=p.length,it(e).length!==l)return!1;for(;l--;)if(!$(e,f=p[l])||!pt(t[f],e[f],r,n))return!1}return r.pop(),n.pop(),!0}function dt(t,e){return pt(t,e)}function mt(t){if(!M(t))return[];var e=[];for(var r in t)e.push(r);return v&&at(t,e),e}function gt(t){var e=nt(t);return function(r){if(null==r)return!1;var n=mt(r);if(nt(n))return!1;for(var o=0;o<e;o++)if(!I(r[t[o]]))return!1;return t!==_t||!I(r[vt])}}var vt="forEach",bt="has",yt=["clear","delete"],wt=["get",bt,"set"],Mt=yt.concat(vt,wt),_t=yt.concat(wt),Et=["add"].concat(yt,vt,bt),xt=P?gt(Mt):O("Map"),At=P?gt(_t):O("WeakMap"),Ot=P?gt(Et):O("Set"),Nt=O("WeakSet");function kt(t){for(var e=it(t),r=e.length,n=Array(r),o=0;o<r;o++)n[o]=t[e[o]];return n}function Yt(t){for(var e=it(t),r=e.length,n=Array(r),o=0;o<r;o++)n[o]=[e[o],t[e[o]]];return n}function Tt(t){for(var e={},r=it(t),n=0,o=r.length;n<o;n++)e[t[r[n]]]=r[n];return e}function St(t){var e=[];for(var r in t)I(t[r])&&e.push(r);return e.sort()}function Dt(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||null==r)return r;for(var o=1;o<n;o++)for(var a=arguments[o],i=t(a),u=i.length,s=0;s<u;s++){var c=i[s];e&&void 0!==r[c]||(r[c]=a[c])}return r}}var Rt=Dt(mt),jt=Dt(it),Ct=Dt(mt,!0);function It(){return function(){}}function Lt(t){if(!M(t))return{};if(h)return h(t);var e=It();e.prototype=t;var r=new e;return e.prototype=null,r}function Ft(t,e){var r=Lt(t);return e&&jt(r,e),r}function Pt(t){return M(t)?z(t)?t.slice():Rt({},t):t}function Bt(t,e){return e(t),t}function Ut(t){return z(t)?t:[t]}function Ht(t){return ct.toPath(t)}function zt(t,e){for(var r=e.length,n=0;n<r;n++){if(null==t)return;t=t[e[n]]}return r?t:void 0}function $t(t,e,r){var n=zt(t,Ht(e));return E(n)?r:n}function Gt(t,e){for(var r=(e=Ht(e)).length,n=0;n<r;n++){var o=e[n];if(!$(t,o))return!1;t=t[o]}return!!r}function Vt(t){return t}function Wt(t){return t=jt({},t),function(e){return st(e,t)}}function qt(t){return t=Ht(t),function(e){return zt(e,t)}}function Jt(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,o){return t.call(e,r,n,o)};case 4:return function(r,n,o,a){return t.call(e,r,n,o,a)}}return function(){return t.apply(e,arguments)}}function Kt(t,e,r){return null==t?Vt:I(t)?Jt(t,e,r):M(t)&&!z(t)?Wt(t):qt(t)}function Xt(t,e){return Kt(t,e,1/0)}function Zt(t,e,r){return ct.iteratee!==Xt?ct.iteratee(t,e):Kt(t,e,r)}function Qt(t,e,r){e=Zt(e,r);for(var n=it(t),o=n.length,a={},i=0;i<o;i++){var u=n[i];a[u]=e(t[u],u,t)}return a}function te(){}function ee(t){return null==t?te:function(e){return $t(t,e)}}function re(t,e,r){var n=Array(Math.max(0,t));e=Jt(e,r,1);for(var o=0;o<t;o++)n[o]=e(o);return n}function ne(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}ct.toPath=Ut,ct.iteratee=Xt;var oe=Date.now||function(){return(new Date).getTime()};function ae(t){var e=function(e){return t[e]},r="(?:"+it(t).join("|")+")",n=RegExp(r),o=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(o,e):t}}var ie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ue=ae(ie),se=ae(Tt(ie)),ce=ct.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},le=/(.)^/,fe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},pe=/\\|'|\r|\n|\u2028|\u2029/g;function he(t){return"\\"+fe[t]}var de=/^\s*(\w|\$)+\s*$/;function me(t,e,r){!e&&r&&(e=r),e=Ct({},e,ct.templateSettings);var n=RegExp([(e.escape||le).source,(e.interpolate||le).source,(e.evaluate||le).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(n,(function(e,r,n,i,u){return a+=t.slice(o,u).replace(pe,he),o=u+e.length,r?a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),e})),a+="';\n";var i,u=e.variable;if(u){if(!de.test(u))throw new Error("variable is not a bare identifier: "+u)}else a="with(obj||{}){\n"+a+"}\n",u="obj";a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(u,"_",a)}catch(t){throw t.source=a,t}var s=function(t){return i.call(this,t,ct)};return s.source="function("+u+"){\n"+a+"}",s}function ge(t,e,r){var n=(e=Ht(e)).length;if(!n)return I(r)?r.call(t):r;for(var o=0;o<n;o++){var a=null==t?void 0:t[e[o]];void 0===a&&(a=r,o=n),t=I(a)?a.call(t):a}return t}var ve=0;function be(t){var e=++ve+"";return t?t+e:e}function ye(t){var e=ct(t);return e._chain=!0,e}function we(t,e,r,n,o){if(!(n instanceof e))return t.apply(r,o);var a=Lt(t.prototype),i=t.apply(a,o);return M(i)?i:a}var Me=w((function(t,e){var r=Me.placeholder,n=function(){for(var o=0,a=e.length,i=Array(a),u=0;u<a;u++)i[u]=e[u]===r?arguments[o++]:e[u];for(;o<arguments.length;)i.push(arguments[o++]);return we(t,n,this,this,i)};return n}));Me.placeholder=ct;var _e=w((function(t,e,r){if(!I(t))throw new TypeError("Bind must be called on a function");var n=w((function(o){return we(t,n,e,this,r.concat(o))}));return n})),Ee=K(nt);function xe(t,e,r,n){if(n=n||[],e||0===e){if(e<=0)return n.concat(t)}else e=1/0;for(var o=n.length,a=0,i=nt(t);a<i;a++){var u=t[a];if(Ee(u)&&(z(u)||V(u)))if(e>1)xe(u,e-1,r,n),o=n.length;else for(var s=0,c=u.length;s<c;)n[o++]=u[s++];else r||(n[o++]=u)}return n}var Ae=w((function(t,e){var r=(e=xe(e,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=e[r];t[n]=_e(t[n],t)}return t}));function Oe(t,e){var r=function(n){var o=r.cache,a=""+(e?e.apply(this,arguments):n);return $(o,a)||(o[a]=t.apply(this,arguments)),o[a]};return r.cache={},r}var Ne=w((function(t,e,r){return setTimeout((function(){return t.apply(null,r)}),e)})),ke=Me(Ne,ct,1);function Ye(t,e,r){var n,o,a,i,u=0;r||(r={});var s=function(){u=!1===r.leading?0:oe(),n=null,i=t.apply(o,a),n||(o=a=null)},c=function(){var c=oe();u||!1!==r.leading||(u=c);var l=e-(c-u);return o=this,a=arguments,l<=0||l>e?(n&&(clearTimeout(n),n=null),u=c,i=t.apply(o,a),n||(o=a=null)):n||!1===r.trailing||(n=setTimeout(s,l)),i};return c.cancel=function(){clearTimeout(n),u=0,n=o=a=null},c}function Te(t,e,r){var n,o,a,i,u,s=function(){var c=oe()-o;e>c?n=setTimeout(s,e-c):(n=null,r||(i=t.apply(u,a)),n||(a=u=null))},c=w((function(c){return u=this,a=c,o=oe(),n||(n=setTimeout(s,e),r&&(i=t.apply(u,a))),i}));return c.cancel=function(){clearTimeout(n),n=a=u=null},c}function Se(t,e){return Me(e,t)}function De(t){return function(){return!t.apply(this,arguments)}}function Re(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}}function je(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Ce(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}}var Ie=Me(Ce,2);function Le(t,e,r){e=Zt(e,r);for(var n,o=it(t),a=0,i=o.length;a<i;a++)if(e(t[n=o[a]],n,t))return n}function Fe(t){return function(e,r,n){r=Zt(r,n);for(var o=nt(e),a=t>0?0:o-1;a>=0&&a<o;a+=t)if(r(e[a],a,e))return a;return-1}}var Pe=Fe(1),Be=Fe(-1);function Ue(t,e,r,n){for(var o=(r=Zt(r,n,1))(e),a=0,i=nt(t);a<i;){var u=Math.floor((a+i)/2);r(t[u])<o?a=u+1:i=u}return a}function He(t,e,r){return function(n,o,a){var u=0,s=nt(n);if("number"==typeof a)t>0?u=a>=0?a:Math.max(a+s,u):s=a>=0?Math.min(a+1,s):a+s+1;else if(r&&a&&s)return n[a=r(n,o)]===o?a:-1;if(o!=o)return(a=e(i.call(n,u,s),q))>=0?a+u:-1;for(a=t>0?u:s-1;a>=0&&a<s;a+=t)if(n[a]===o)return a;return-1}}var ze=He(1,Pe,Ue),$e=He(-1,Be);function Ge(t,e,r){var n=(Ee(t)?Pe:Le)(t,e,r);if(void 0!==n&&-1!==n)return t[n]}function Ve(t,e){return Ge(t,Wt(e))}function We(t,e,r){var n,o;if(e=Jt(e,r),Ee(t))for(n=0,o=t.length;n<o;n++)e(t[n],n,t);else{var a=it(t);for(n=0,o=a.length;n<o;n++)e(t[a[n]],a[n],t)}return t}function qe(t,e,r){e=Zt(e,r);for(var n=!Ee(t)&&it(t),o=(n||t).length,a=Array(o),i=0;i<o;i++){var u=n?n[i]:i;a[i]=e(t[u],u,t)}return a}function Je(t){var e=function(e,r,n,o){var a=!Ee(e)&&it(e),i=(a||e).length,u=t>0?0:i-1;for(o||(n=e[a?a[u]:u],u+=t);u>=0&&u<i;u+=t){var s=a?a[u]:u;n=r(n,e[s],s,e)}return n};return function(t,r,n,o){var a=arguments.length>=3;return e(t,Jt(r,o,4),n,a)}}var Ke=Je(1),Xe=Je(-1);function Ze(t,e,r){var n=[];return e=Zt(e,r),We(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function Qe(t,e,r){return Ze(t,De(Zt(e)),r)}function tr(t,e,r){e=Zt(e,r);for(var n=!Ee(t)&&it(t),o=(n||t).length,a=0;a<o;a++){var i=n?n[a]:a;if(!e(t[i],i,t))return!1}return!0}function er(t,e,r){e=Zt(e,r);for(var n=!Ee(t)&&it(t),o=(n||t).length,a=0;a<o;a++){var i=n?n[a]:a;if(e(t[i],i,t))return!0}return!1}function rr(t,e,r,n){return Ee(t)||(t=kt(t)),("number"!=typeof r||n)&&(r=0),ze(t,e,r)>=0}var nr=w((function(t,e,r){var n,o;return I(e)?o=e:(e=Ht(e),n=e.slice(0,-1),e=e[e.length-1]),qe(t,(function(t){var a=o;if(!a){if(n&&n.length&&(t=zt(t,n)),null==t)return;a=t[e]}return null==a?a:a.apply(t,r)}))}));function or(t,e){return qe(t,qt(e))}function ar(t,e){return Ze(t,Wt(e))}function ir(t,e,r){var n,o,a=-1/0,i=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var u=0,s=(t=Ee(t)?t:kt(t)).length;u<s;u++)null!=(n=t[u])&&n>a&&(a=n);else e=Zt(e,r),We(t,(function(t,r,n){((o=e(t,r,n))>i||o===-1/0&&a===-1/0)&&(a=t,i=o)}));return a}function ur(t,e,r){var n,o,a=1/0,i=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var u=0,s=(t=Ee(t)?t:kt(t)).length;u<s;u++)null!=(n=t[u])&&n<a&&(a=n);else e=Zt(e,r),We(t,(function(t,r,n){((o=e(t,r,n))<i||o===1/0&&a===1/0)&&(a=t,i=o)}));return a}var sr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function cr(t){return t?z(t)?i.call(t):N(t)?t.match(sr):Ee(t)?qe(t,Vt):kt(t):[]}function lr(t,e,r){if(null==e||r)return Ee(t)||(t=kt(t)),t[ne(t.length-1)];var n=cr(t),o=nt(n);e=Math.max(Math.min(e,o),0);for(var a=o-1,i=0;i<e;i++){var u=ne(i,a),s=n[i];n[i]=n[u],n[u]=s}return n.slice(0,e)}function fr(t){return lr(t,1/0)}function pr(t,e,r){var n=0;return e=Zt(e,r),or(qe(t,(function(t,r,o){return{value:t,index:n++,criteria:e(t,r,o)}})).sort((function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index})),"value")}function hr(t,e){return function(r,n,o){var a=e?[[],[]]:{};return n=Zt(n,o),We(r,(function(e,o){var i=n(e,o,r);t(a,e,i)})),a}}var dr=hr((function(t,e,r){$(t,r)?t[r].push(e):t[r]=[e]})),mr=hr((function(t,e,r){t[r]=e})),gr=hr((function(t,e,r){$(t,r)?t[r]++:t[r]=1})),vr=hr((function(t,e,r){t[r?0:1].push(e)}),!0);function br(t){return null==t?0:Ee(t)?t.length:it(t).length}function yr(t,e,r){return e in r}var wr=w((function(t,e){var r={},n=e[0];if(null==t)return r;I(n)?(e.length>1&&(n=Jt(n,e[1])),e=mt(t)):(n=yr,e=xe(e,!1,!1),t=Object(t));for(var o=0,a=e.length;o<a;o++){var i=e[o],u=t[i];n(u,i,t)&&(r[i]=u)}return r})),Mr=w((function(t,e){var r,n=e[0];return I(n)?(n=De(n),e.length>1&&(r=e[1])):(e=qe(xe(e,!1,!1),String),n=function(t,r){return!rr(e,r)}),wr(t,n,r)}));function _r(t,e,r){return i.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))}function Er(t,e,r){return null==t||t.length<1?null==e||r?void 0:[]:null==e||r?t[0]:_r(t,t.length-e)}function xr(t,e,r){return i.call(t,null==e||r?1:e)}function Ar(t,e,r){return null==t||t.length<1?null==e||r?void 0:[]:null==e||r?t[t.length-1]:xr(t,Math.max(0,t.length-e))}function Or(t){return Ze(t,Boolean)}function Nr(t,e){return xe(t,e,!1)}var kr=w((function(t,e){return e=xe(e,!0,!0),Ze(t,(function(t){return!rr(e,t)}))})),Yr=w((function(t,e){return kr(t,e)}));function Sr(t,e,r,n){x(e)||(n=r,r=e,e=!1),null!=r&&(r=Zt(r,n));for(var o=[],a=[],i=0,u=nt(t);i<u;i++){var s=t[i],c=r?r(s,i,t):s;e&&!r?(i&&a===c||o.push(s),a=c):r?rr(a,c)||(a.push(c),o.push(s)):rr(o,s)||o.push(s)}return o}var Dr=w((function(t){return Sr(xe(t,!0,!0))}));function Rr(t){for(var e=[],r=arguments.length,n=0,o=nt(t);n<o;n++){var a=t[n];if(!rr(e,a)){var i;for(i=1;i<r&&rr(arguments[i],a);i++);i===r&&e.push(a)}}return e}function jr(t){for(var e=t&&ir(t,nt).length||0,r=Array(e),n=0;n<e;n++)r[n]=or(t,n);return r}var Cr=w(jr);function Ir(t,e){for(var r={},n=0,o=nt(t);n<o;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r}function Lr(t,e,r){null==e&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),o=Array(n),a=0;a<n;a++,t+=r)o[a]=t;return o}function Fr(t,e){if(null==e||e<1)return[];for(var r=[],n=0,o=t.length;n<o;)r.push(i.call(t,n,n+=e));return r}function Pr(t,e){return t._chain?ct(e).chain():e}function Br(t){return We(St(t),(function(e){var r=ct[e]=t[e];ct.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),Pr(this,r.apply(ct,t))}})),ct}We(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=r[t];ct.prototype[t]=function(){var r=this._wrapped;return null!=r&&(e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0]),Pr(this,r)}})),We(["concat","join","slice"],(function(t){var e=r[t];ct.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Pr(this,t)}}));var Ur=Br({__proto__:null,VERSION:t,restArguments:w,isObject:M,isNull:_,isUndefined:E,isBoolean:x,isElement:A,isString:N,isNumber:k,isDate:Y,isRegExp:T,isError:S,isSymbol:D,isArrayBuffer:R,isDataView:H,isArray:z,isFunction:I,isArguments:V,isFinite:W,isNaN:q,isTypedArray:rt,isEmpty:ut,isMatch:st,isEqual:dt,isMap:xt,isWeakMap:At,isSet:Ot,isWeakSet:Nt,keys:it,allKeys:mt,values:kt,pairs:Yt,invert:Tt,functions:St,methods:St,extend:Rt,extendOwn:jt,assign:jt,defaults:Ct,create:Ft,clone:Pt,tap:Bt,get:$t,has:Gt,mapObject:Qt,identity:Vt,constant:J,noop:te,toPath:Ut,property:qt,propertyOf:ee,matcher:Wt,matches:Wt,times:re,random:ne,now:oe,escape:ue,unescape:se,templateSettings:ce,template:me,result:ge,uniqueId:be,chain:ye,iteratee:Xt,partial:Me,bind:_e,bindAll:Ae,memoize:Oe,delay:Ne,defer:ke,throttle:Ye,debounce:Te,wrap:Se,negate:De,compose:Re,after:je,before:Ce,once:Ie,findKey:Le,findIndex:Pe,findLastIndex:Be,sortedIndex:Ue,indexOf:ze,lastIndexOf:$e,find:Ge,detect:Ge,findWhere:Ve,each:We,forEach:We,map:qe,collect:qe,reduce:Ke,foldl:Ke,inject:Ke,reduceRight:Xe,foldr:Xe,filter:Ze,select:Ze,reject:Qe,every:tr,all:tr,some:er,any:er,contains:rr,includes:rr,include:rr,invoke:nr,pluck:or,where:ar,max:ir,min:ur,shuffle:fr,sample:lr,sortBy:pr,groupBy:dr,indexBy:mr,countBy:gr,partition:vr,toArray:cr,size:br,pick:wr,omit:Mr,first:Er,head:Er,take:Er,initial:_r,last:Ar,rest:xr,tail:xr,drop:xr,compact:Or,flatten:Nr,without:Yr,uniq:Sr,unique:Sr,union:Dr,intersection:Rr,difference:kr,unzip:jr,transpose:jr,zip:Cr,object:Ir,range:Lr,chunk:Fr,mixin:Br,default:ct});return Ur._=Ur,Ur}()}(Qr);var tn=Tr&&Tr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const en=tn(Xr),rn=tn(Zr),nn=Qr.exports;var on=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,r=[],n=0;const o=(0,nn.uniq)(t.filter(nn.isFinite)),a=o.length;let i,u;const s=Math.floor(a*(1-e));if(o.length<3)return Math.round(o.reduce((function(t,e){if(!e)return t;const r=Math.log(Math.abs(e))/Math.LN10;return r<8&&r>-3?t+Math.min(3,(0,en.default)(o[0])):t+(r>0?-1*(r-1):-1*r)}),0)/o.length);(0,nn.uniq)(o.map(l)).length>s?(i=function(){return(0,nn.uniq)(r).length===a},u=-1):(i=function(){return(0,nn.uniq)(r).length<=s},u=1);let c=100;do{r=o.map(l),n+=u}while(i()&&c-- >0);function l(t){return(0,rn.default)(t,n)}return c<10&&console.warn("maximum iteration reached",t,r,n),u<0?n+=2:n--,n},an=Tr&&Tr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const un=an(on),sn=an(Zr);var cn=function(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}};var ln=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const n=Array.isArray(e)?e:e.split(".");let o=t;for(let t=0;t<n.length&&null!=o;t++)o=o[n[t]];return null==o?r:o};function fn(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;let r=t.offsetHeight;if(!e)return r;var n=getComputedStyle(t);return r+=parseInt(n.marginTop)+parseInt(n.marginBottom),r}function pn(){let t=0;const e=document.querySelector(".dw-chart .dw-chart-styles");if(!e)return 0;for(let n=0;n<e.children.length;n++){const o=e.children[n],a=o.tagName.toLowerCase();if(!("script"===a||"style"===a||"chart"===o.id||r(o,"tooltip")||r(o,"vg-tooltip")||r(o,"hidden")||r(o,"sr-only")||r(o,"qtip")||r(o,"container")||r(o,"noscript")||r(o,"hidden")||r(o,"dw-after-body")||r(o,"dw-chart-body"))&&(t+=Number(fn(o,!0)),r(o,"dw-chart-header"))){const e=o.querySelector(".filter-ui");e&&(t-=Number(fn(e,!0)))}}function r(t,e){return t.classList.contains(e)}const n=["padding-top","padding-bottom","margin-top","margin-bottom","border-top-width","border-bottom-width"];return[".dw-chart",".dw-chart-styles",".dw-chart-body","body"].forEach((function(e){n.forEach((function(r){t+=Number(function(t,e){return getComputedStyle(document.querySelector(t))[e].replace("px","")}(e,r))}))})),t}var hn="TEOF",dn="TOP",mn="TNUMBER",gn="TSTRING",vn="TPAREN",bn="TBRACKET",yn="TCOMMA",wn="TNAME",Mn="TSEMICOLON";function _n(t,e,r){this.type=t,this.value=e,this.index=r}function En(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}_n.prototype.toString=function(){return this.type+": "+this.value},En.prototype.newToken=function(t,e,r){return new _n(t,e,null!=r?r:this.pos)},En.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},En.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},En.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(hn,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},En.prototype.isString=function(){var t=!1,e=this.pos,r=this.expression.charAt(e);if("'"===r||'"'===r)for(var n=this.expression.indexOf(r,e+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var o=this.expression.substring(e+1,n);this.current=this.newToken(gn,this.unescape(o),e),t=!0;break}n=this.expression.indexOf(r,n+1)}return t},En.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(vn,t),this.pos++,!0)},En.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken(bn,t),this.pos++,!0)},En.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(yn,","),this.pos++,!0)},En.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(Mn,";"),this.pos++,!0)},En.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&"."!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(n in this.consts)return this.current=this.newToken(mn,this.consts[n]),this.pos+=n.length,!0}return!1},En.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(dn,n),this.pos+=n.length,!0}return!1},En.prototype.isName=function(){for(var t=this.pos,e=t,r=!1;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()){if(e===this.pos&&("$"===n||"_"===n)){"_"===n&&(r=!0);continue}if(e===this.pos||!r||"_"!==n&&(n<"0"||n>"9"))break}else r=!0}if(r){var o=this.expression.substring(t,e);return this.current=this.newToken(wn,o),this.pos+=o.length,!0}return!1},En.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var xn=/^[0-9a-f]{4}$/i;En.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var r=t.substring(0,e);e>=0;){var n=t.charAt(++e);switch(n){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":var o=t.substring(e+1,e+5);xn.test(o)||this.parseError("Illegal escape sequence: \\u"+o),r+=String.fromCharCode(parseInt(o,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++e;var a=t.indexOf("\\",e);r+=t.substring(e,a<0?t.length:a),e=a}return r},En.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},En.prototype.isRadixInteger=function(){var t,e,r=this.pos;if(r>=this.expression.length-2||"0"!==this.expression.charAt(r))return!1;if(++r,"x"===this.expression.charAt(r))t=16,e=/^[0-9a-f]$/i,++r;else{if("b"!==this.expression.charAt(r))return!1;t=2,e=/^[01]$/i,++r}for(var n=!1,o=r;r<this.expression.length;){var a=this.expression.charAt(r);if(!e.test(a))break;r++,n=!0}return n&&(this.current=this.newToken(mn,parseInt(this.expression.substring(o,r),t)),this.pos=r),n},En.prototype.isNumber=function(){for(var t,e=!1,r=this.pos,n=r,o=r,a=!1,i=!1;r<this.expression.length&&((t=this.expression.charAt(r))>="0"&&t<="9"||!a&&"."===t);)"."===t?a=!0:i=!0,r++,e=i;if(e&&(o=r),"e"===t||"E"===t){r++;for(var u=!0,s=!1;r<this.expression.length;){if(t=this.expression.charAt(r),!u||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;s=!0,u=!1}else u=!1;r++}s||(r=o)}return e?(this.current=this.newToken(mn,parseFloat(this.expression.substring(n,r))),this.pos=r):this.pos=o,e},En.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(dn,e);else if("∙"===e||"•"===e)this.current=this.newToken(dn,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(dn,">="),this.pos++):this.current=this.newToken(dn,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(dn,"<="),this.pos++):this.current=this.newToken(dn,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(dn,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(dn,"=="),this.pos++):this.current=this.newToken(dn,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(dn,"!="),this.pos++):this.current=this.newToken(dn,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},En.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},En.prototype.getCoordinates=function(){var t,e=0,r=-1;do{e++,t=this.pos-r,r=this.expression.indexOf("\n",r+1)}while(r>=0&&r<this.pos);return{line:e,column:t}},En.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)};var An="INUMBER",On="IOP1",Nn="IOP2",kn="IOP3",Yn="IVAR",Tn="IVARNAME",Sn="IFUNCALL",Dn="IFUNDEF",Rn="IEXPR",jn="IEXPREVAL",Cn="IMEMBER",In="IENDSTATEMENT",Ln="IARRAY";function Fn(t,e){this.type=t,this.value=null!=e?e:0}function Pn(t){return new Fn(On,t)}function Bn(t){return new Fn(Nn,t)}function Un(t,e,r){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==r.allowMemberAccess,this.restrictMemberAccess=new Set(r.restrictMemberAccess||[])}Fn.prototype.toString=function(){switch(this.type){case An:case On:case Nn:case kn:case Yn:case Tn:case In:return this.value;case Sn:return"CALL "+this.value;case Dn:return"DEF "+this.value;case Ln:return"ARRAY "+this.value;case Cn:return"."+this.value;default:return"Invalid Instruction"}},Un.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},Un.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?function(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}(e,t.value):"function"==typeof e?e(t):t.value===e)},Un.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},Un.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},Un.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},Un.prototype.expect=function(t,e){if(!this.accept(t,e)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(e||t))}},Un.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(wn)||this.accept(dn,(function(t){return t.value in e})))t.push(new Fn(Yn,this.current.value));else if(this.accept(mn))t.push(new Fn(An,this.current.value));else if(this.accept(gn))t.push(new Fn(An,this.current.value));else if(this.accept(vn,"("))this.parseExpression(t),this.expect(vn,")");else{if(!this.accept(bn,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(bn,"]"))t.push(new Fn(Ln,0));else{var r=this.parseArrayList(t);t.push(new Fn(Ln,r))}}},Un.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},Un.prototype.pushExpression=function(t,e){for(var r=0,n=e.length;r<n;r++)t.push(e[r])},Un.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(Mn)&&(!this.nextToken||this.nextToken.type===hn||this.nextToken.type===vn&&")"===this.nextToken.value||e.push(new Fn(In)),this.nextToken.type!==hn&&this.parseExpression(e),t.push(new Fn(Rn,e)),!0)},Un.prototype.parseArrayList=function(t){for(var e=0;!this.accept(bn,"]");)for(this.parseExpression(t),++e;this.accept(yn);)this.parseExpression(t),++e;return e},Un.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(dn,"=");){var e=t.pop(),r=[],n=t.length-1;if(e.type!==Sn){if(e.type!==Yn&&e.type!==Cn)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),t.push(new Fn(Tn,e.value)),t.push(new Fn(Rn,r)),t.push(Bn("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,a=e.value+1;o<a;o++){var i=n-o;t[i].type===Yn&&(t[i]=new Fn(Tn,t[i].value))}this.parseVariableAssignmentExpression(r),t.push(new Fn(Rn,r)),t.push(new Fn(Dn,e.value))}}},Un.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(dn,"?");){var e=[],r=[];this.parseConditionalExpression(e),this.expect(dn,":"),this.parseConditionalExpression(r),t.push(new Fn(Rn,e)),t.push(new Fn(Rn,r)),t.push(new Fn(kn,"?"))}},Un.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(dn,"or");){var e=[];this.parseAndExpression(e),t.push(new Fn(Rn,e)),t.push(Bn("or"))}},Un.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(dn,"and");){var e=[];this.parseComparison(e),t.push(new Fn(Rn,e)),t.push(Bn("and"))}};var Hn=["==","!=","<","<=",">=",">","in"];Un.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(dn,Hn);){var e=this.current;this.parseAddSub(t),t.push(Bn(e.value))}};var zn=["+","-","||"];Un.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(dn,zn);){var e=this.current;this.parseTerm(t),t.push(Bn(e.value))}};var $n=["*","/","%"];function Gn(t,e){return Number(t)+Number(e)}function Vn(t,e){return t-e}function Wn(t,e){return t*e}function qn(t,e){return t/e}function Jn(t,e){return t%e}function Kn(t,e){return t===e}function Xn(t,e){return t!==e}function Zn(t,e){return t>e}function Qn(t,e){return t<e}function to(t,e){return t>=e}function eo(t,e){return t<=e}function ro(t,e){return Boolean(t&&e)}function no(t,e){return Boolean(t||e)}function oo(t){return Math.log(t)*Math.LOG10E}function ao(t){return-t}function io(t){return!t}function uo(t){return t<0?Math.ceil(t):Math.floor(t)}function so(t){return Math.random()*(t||1)}function co(t){return Array.isArray(t)?t.length:String(t).length}function lo(t,e,r){return t?e:r}function fo(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function po(t,e){return t[0|e]}function ho(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,r){return t(e,r)}))}function mo(t,e,r){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce((function(e,r,n){return t(e,r,n)}),e)}function go(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,r){return t(e,r)}))}function vo(t){return(t>0)-(t<0)||+t}function bo(t){return Math.log(1+t)}function yo(t){return Math.log(t)/Math.LN2}function wo(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}function Mo(t,e,r){var n,o,a,i,u,s,c=[];if(Eo(t))return xo(t,r);for(var l=t.length,f=0;f<l;f++){var p=t[f],h=p.type;if(h===An||h===Tn)c.push(p.value);else if(h===Nn)o=c.pop(),n=c.pop(),"and"===p.value?c.push(!!n&&!!Mo(o,e,r)):"or"===p.value?c.push(!!n||!!Mo(o,e,r)):"="===p.value?(i=e.binaryOps[p.value],c.push(i(n,Mo(o,e,r),r))):(i=e.binaryOps[p.value],c.push(i(xo(n,r),xo(o,r))));else if(h===kn)a=c.pop(),o=c.pop(),n=c.pop(),"?"===p.value?c.push(Mo(n?o:a,e,r)):(i=e.ternaryOps[p.value],c.push(i(xo(n,r),xo(o,r),xo(a,r))));else if(h===Yn){if(/^__proto__|prototype|constructor$/.test(p.value))throw new Error("prototype access detected");if(p.value in e.functions)c.push(e.functions[p.value]);else if(p.value in e.unaryOps&&e.parser.isOperatorEnabled(p.value))c.push(e.unaryOps[p.value]);else{var d=r[p.value];if(void 0===d)throw new Error("undefined variable: "+p.value);c.push(d)}}else if(h===On)n=c.pop(),i=e.unaryOps[p.value],c.push(i(xo(n,r)));else if(h===Sn){for(s=p.value,u=[];s-- >0;)u.unshift(xo(c.pop(),r));if(!(i=c.pop()).apply||!i.call)throw new Error(i+" is not a function");c.push(i.apply(void 0,u))}else if(h===Dn)c.push(function(){for(var t=c.pop(),n=[],o=p.value;o-- >0;)n.unshift(c.pop());var a=c.pop(),i=function(){for(var o=Object.assign({},r),a=0,i=n.length;a<i;a++)o[n[a]]=arguments[a];return Mo(t,e,o)};return Object.defineProperty(i,"name",{value:a,writable:!1}),r[a]=i,i}());else if(h===Rn)c.push(_o(p,e));else if(h===jn)c.push(p);else if(h===Cn)n=c.pop(),c.push(n[p.value]);else if(h===In)c.pop();else{if(h!==Ln)throw new Error("invalid Expression");for(s=p.value,u=[];s-- >0;)u.unshift(c.pop());c.push(u)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:xo(c[0],r)}function _o(t,e,r){return Eo(t)?t:{type:jn,value:function(r){return Mo(t.value,e,r)}}}function Eo(t){return t&&t.type===jn}function xo(t,e){return Eo(t)?t.value(e):t}function Ao(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Oo(t){return t.trim()}Un.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(dn,$n);){var e=this.current;this.parseFactor(t),t.push(Bn(e.value))}},Un.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(dn,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===vn&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===Mn||this.nextToken.type===yn||this.nextToken.type===hn||this.nextToken.type===vn&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var r=this.current;this.parseFactor(t),t.push(Pn(r.value))}else this.parseExponential(t)},Un.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(dn,"^");)this.parseFactor(t),t.push(Bn("^"))},Un.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(dn,"!");)t.push(Pn("!"))},Un.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(dn,(function(t){return t.value in e}))){var r=this.current;this.parseAtom(t),t.push(Pn(r.value))}else for(this.parseMemberExpression(t);this.accept(vn,"(");)if(this.accept(vn,")"))t.push(new Fn(Sn,0));else{var n=this.parseArgumentList(t);t.push(new Fn(Sn,n))}},Un.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(vn,")");)for(this.parseExpression(t),++e;this.accept(yn);)this.parseExpression(t),++e;return e},Un.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(dn,".")||this.accept(bn,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(wn),t.push(new Fn(Cn,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(bn,"]"),t.push(Bn("["))}}},Ao.prototype.evaluate=function(t){return t=t||{},Mo(this.tokens,this,t)},Ao.prototype.variables=function(){return(this.tokens||[]).filter((t=>"IVAR"===t.type)).map((t=>t.value))};const No=new Set(["__proto__","prototype","constructor"]);function ko(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||yo,LN:Math.log,LOG10:Math.log10||oo,LG:Math.log10||oo,LOG1P:Math.log1p||bo,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||uo,"-":ao,"+":Number,EXP:Math.exp,NOT:io,LENGTH:co,"!":io,SIGN:Math.sign||vo,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":Gn,"-":Vn,"*":Wn,"/":qn,"%":Jn,"^":Math.pow,"==":Kn,"!=":Xn,">":Zn,"<":Qn,">=":to,"<=":eo,and:ro,or:no,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":po},this.ternaryOps={"?":lo};const e=t=>t instanceof Date&&!isNaN(t),r=t=>{if(e(t))return t;try{const r=new Date(t);return e(r)?r:null}catch(t){return null}};function n(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter((t=>!isNaN(t)&&Number.isFinite(t)))}let o=/\w*/g,a=/\w\S*/g;const i=/[\\^$*+?.()|[\]{}]/g;try{o=new RegExp("\\p{L}*","ug"),a=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:lo,RANDOM:so,MIN(){return function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}(n.apply(this,arguments))},MAX(){return function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}(n.apply(this,arguments))},SUM(){return wo(n.apply(this,arguments))},MEAN(){const t=n.apply(this,arguments);return wo(t)/t.length},MEDIAN(){const t=n.apply(this,arguments).sort(((t,e)=>t-e)),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:fo,CONCAT(){return Array.from(arguments).join("")},TRIM:Oo,SUBSTR:(t,e,r)=>t.substr(e,r),REPLACE:(t,e,r)=>t.replace(new RegExp(String(e).replace(i,"\\$&"),"g"),r),REPLACE_REGEX:(t,e,r)=>t.replace(new RegExp(e,"g"),r),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(o,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),TITLE:t=>String(t).replace(a,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(No.has(r))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort(((t,n)=>((t="string"==typeof r?t[r]:"function"==typeof r?r(t):t)>(n="string"==typeof r?n[r]:"function"==typeof r?r(n):n)?1:t<n?-1:0)*(e?1:-1)))},SLICE(t,e,r){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,r)},JOIN(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return r?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(r):t.join(e)},MAP:ho,FOLD:mo,FILTER:go,PLUCK(t,e){if(No.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map((t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null))},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const r=t.length;for(let n=0;n<r;n++)if(e(t[n]))return t[n];return null},RANGE(t,e,r){null==e&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),o=Array(n),a=0;a<n;a++,t+=r)o[a]=t;return o},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const r=t.length;let n=!0;for(let o=0;o<r;o++)if(n=n&&e(t[o]),!n)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const r=t.length;let n=!1;for(let o=0;o<r;o++)if(n=n||e(t[o]),n)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=r(t))?t.getFullYear():null,MONTH:t=>(t=r(t))?t.getMonth()+1:null,DAY:t=>(t=r(t))?t.getDate():null,WEEKDAY:t=>(t=r(t))?t.getDay():null,HOURS:t=>(t=r(t))?t.getHours():null,MINUTES:t=>(t=r(t))?t.getMinutes():null,SECONDS:t=>(t=r(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=r(t),e=r(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=r(t),e=r(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}ko.prototype.parse=function(t){var e=[],r=new Un(this,new En(this,t),{allowMemberAccess:!0,restrictMemberAccess:No});return r.parseExpression(e),r.expect(hn,"EOF"),new Ao(e,this)},ko.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Yo=new ko;ko.parse=function(t){return Yo.parse(t)},ko.evaluate=function(t,e){return Yo.parse(t).evaluate(e)},ko.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var To={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};ko.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(To,t)?To[t]:t}(t),r=this.options.operators||{};return!(e in r)||!!r[e]};const So=/\{\{(.+?)\}\}/g;function Do(t){const e={},r=new ko;return t.replace(So,((t,n)=>{(n=n.trim())&&!e[n]&&(e[n]=r.parse(n))})),r=>t.replace(So,((t,n)=>{const o=n.trim()?e[n.trim()].evaluate(r):"";return null===o?"":o}))}const Ro=["a","abbr","address","b","big","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figure","font","h1","h2","h3","h4","h5","h6","hr","hgroup","i","img","ins","kbd","li","mark","meter","ol","p","pre","q","s","small","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tfoot","tr","tt","u","ul","wbr"];function jo(t){return P(t.name)?t.name():T(t.name)?t.name:t}function Co(){if(0===window.innerHeight)return 0;var t=window.innerHeight-pn();return Math.max(t,0)}function Io(t){const e=parseFloat(getComputedStyle(t,null).width.replace("px",""));return isNaN(e)?0:e}function Lo(t){const e="string"==typeof t?document.querySelector(t):t;e&&e.parentElement.removeChild(e)}function Fo(t){let{themeData:e,visualizationMeta:r,renderFlags:n}=t;return ln(e,"vis.d3-pies.fitchart",!1)&&["d3-pies","d3-donuts","d3-multiple-pies","d3-multiple-donuts"].includes(r.id)||n.fitchart||"fixed"!==r.height?"fit":"fixed"}var Po=Object.freeze({__proto__:null,purifyHtml:Ur,significantDimension:on,tailLength:Xr,round:Zr,smartRound:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,n=(0,un.default)(t,r);return n+=e,t.map((t=>(0,sn.default)(t,n)))},equalish:function(t,e){return Math.abs(t-e)<1e-6},clone:cn,delimited:n,getNonChartHeight:pn,outerHeight:fn,htmlTemplate:function(t){const e=Do(t);return t=>Ur(e(t),Ro)},templateParser:Do,minMax:function(t){const e=[Number.MAX_VALUE,-Number.MAX_VALUE];return t.forEach((t=>{e[0]=Math.min(e[0],t.range()[0]),e[1]=Math.max(e[1],t.range()[1])})),e},columnNameColumn:function(t){return Hr("",t.map((t=>t.title())))},name:jo,getMaxChartHeight:Co,nearest:function(t,e){let r,n=Number.MAX_VALUE;return t.forEach((t=>{var o=Math.abs(t-e);o<n&&(n=o,r=t)})),r},metricSuffix:function(t){switch(t.substr(0,2).toLowerCase()){case"de":return{3:" Tsd.",6:" Mio.",9:" Mrd.",12:" Bio."};case"fr":return{3:" mil",6:" Mio",9:" Mrd"};case"es":return{3:" Mil",6:" millón"};default:return{3:"k",6:"M",9:" bil"}}},magnitudeRange:function(t){return Math.round(Math.log(t[1])/Math.LN10)-Math.round(Math.log(t[0])/Math.LN10)},logTicks:function(t,e){return ir(Math.round(Math.log(t)/Math.LN10),Math.round(Math.log(e)/Math.LN10)).map((t=>Math.pow(10,t)))},height:function(t){const e=parseFloat(getComputedStyle(t,null).height.replace("px",""));return isNaN(e)?0:e},width:Io,addClass:function(t,e){t&&t.classList.add(e)},removeClass:function(t,e){t&&t.classList.remove(e)},remove:Lo,domReady:function(t){/complete|interactive|loaded/.test(document.readyState)?t():window.addEventListener("DOMContentLoaded",(()=>{t()}))},getHeightMode:Fo}),Bo="object"==typeof Tr&&Tr&&Tr.Object===Object&&Tr,Uo=Bo,Ho="object"==typeof self&&self&&self.Object===Object&&self,zo=Uo||Ho||Function("return this")(),$o=zo.Symbol,Go=$o,Vo=Object.prototype,Wo=Vo.hasOwnProperty,qo=Vo.toString,Jo=Go?Go.toStringTag:void 0;var Ko=function(t){var e=Wo.call(t,Jo),r=t[Jo];try{t[Jo]=void 0;var n=!0}catch(t){}var o=qo.call(t);return n&&(e?t[Jo]=r:delete t[Jo]),o},Xo=Object.prototype.toString;var Zo=Ko,Qo=function(t){return Xo.call(t)},ta=$o?$o.toStringTag:void 0;var ea=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ta&&ta in Object(t)?Zo(t):Qo(t)};var ra=function(t,e){return function(r){return t(e(r))}},na=ra(Object.getPrototypeOf,Object);var oa=function(t){return null!=t&&"object"==typeof t},aa=ea,ia=na,ua=oa,sa=Function.prototype,ca=Object.prototype,la=sa.toString,fa=ca.hasOwnProperty,pa=la.call(Object);var ha=function(t){if(!ua(t)||"[object Object]"!=aa(t))return!1;var e=ia(t);if(null===e)return!0;var r=fa.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&la.call(r)==pa};var da=function(t,e,r){const n=(t=>Array.isArray(t))(e)?[...e]:e.split(".");if(!n.length)throw new Error("Key should not be empty");const o=n.pop();let a=t;return n.forEach((t=>{void 0!==a[t]&&null!==a[t]||(a[t]={}),a=a[t]})),JSON.stringify(a[o])!==JSON.stringify(r)&&(a[o]=r,!0)};var ma=function(){this.__data__=[],this.size=0};var ga=function(t,e){return t===e||t!=t&&e!=e},va=ga;var ba=function(t,e){for(var r=t.length;r--;)if(va(t[r][0],e))return r;return-1},ya=ba,wa=Array.prototype.splice;var Ma=ba;var _a=ba;var Ea=ba;var xa=ma,Aa=function(t){var e=this.__data__,r=ya(e,t);return!(r<0)&&(r==e.length-1?e.pop():wa.call(e,r,1),--this.size,!0)},Oa=function(t){var e=this.__data__,r=Ma(e,t);return r<0?void 0:e[r][1]},Na=function(t){return _a(this.__data__,t)>-1},ka=function(t,e){var r=this.__data__,n=Ea(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function Ya(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ya.prototype.clear=xa,Ya.prototype.delete=Aa,Ya.prototype.get=Oa,Ya.prototype.has=Na,Ya.prototype.set=ka;var Ta=Ya,Sa=Ta;var Da=function(){this.__data__=new Sa,this.size=0};var Ra=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var ja=function(t){return this.__data__.get(t)};var Ca=function(t){return this.__data__.has(t)};var Ia=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},La=ea,Fa=Ia;var Pa,Ba=function(t){if(!Fa(t))return!1;var e=La(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Ua=zo["__core-js_shared__"],Ha=(Pa=/[^.]+$/.exec(Ua&&Ua.keys&&Ua.keys.IE_PROTO||""))?"Symbol(src)_1."+Pa:"";var za=function(t){return!!Ha&&Ha in t},$a=Function.prototype.toString;var Ga=function(t){if(null!=t){try{return $a.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Va=Ba,Wa=za,qa=Ia,Ja=Ga,Ka=/^\[object .+?Constructor\]$/,Xa=Function.prototype,Za=Object.prototype,Qa=Xa.toString,ti=Za.hasOwnProperty,ei=RegExp("^"+Qa.call(ti).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ri=function(t,e){return null==t?void 0:t[e]},ni=function(t){return!(!qa(t)||Wa(t))&&(Va(t)?ei:Ka).test(Ja(t))},oi=ri;var ai=function(t,e){var r=oi(t,e);return ni(r)?r:void 0},ii=ai(zo,"Map"),ui=ai(Object,"create"),si=ui;var ci=function(){this.__data__=si?si(null):{},this.size=0};var li=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},fi=ui,pi=Object.prototype.hasOwnProperty;var hi=function(t){var e=this.__data__;if(fi){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return pi.call(e,t)?e[t]:void 0},di=ui,mi=Object.prototype.hasOwnProperty;var gi=ui;var vi=ci,bi=li,yi=hi,wi=function(t){var e=this.__data__;return di?void 0!==e[t]:mi.call(e,t)},Mi=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=gi&&void 0===e?"__lodash_hash_undefined__":e,this};function _i(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_i.prototype.clear=vi,_i.prototype.delete=bi,_i.prototype.get=yi,_i.prototype.has=wi,_i.prototype.set=Mi;var Ei=_i,xi=Ta,Ai=ii;var Oi=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Ni=function(t,e){var r=t.__data__;return Oi(e)?r["string"==typeof e?"string":"hash"]:r.map},ki=Ni;var Yi=function(t){var e=ki(this,t).delete(t);return this.size-=e?1:0,e},Ti=Ni;var Si=Ni;var Di=Ni;var Ri=function(t,e){var r=Di(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},ji=function(){this.size=0,this.__data__={hash:new Ei,map:new(Ai||xi),string:new Ei}},Ci=Yi,Ii=function(t){return Ti(this,t).get(t)},Li=function(t){return Si(this,t).has(t)},Fi=Ri;function Pi(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Pi.prototype.clear=ji,Pi.prototype.delete=Ci,Pi.prototype.get=Ii,Pi.prototype.has=Li,Pi.prototype.set=Fi;var Bi=Pi,Ui=Ta,Hi=ii,zi=Bi;var $i=function(t,e){var r=this.__data__;if(r instanceof Ui){var n=r.__data__;if(!Hi||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new zi(n)}return r.set(t,e),this.size=r.size,this},Gi=Ta,Vi=Da,Wi=Ra,qi=ja,Ji=Ca,Ki=$i;function Xi(t){var e=this.__data__=new Gi(t);this.size=e.size}Xi.prototype.clear=Vi,Xi.prototype.delete=Wi,Xi.prototype.get=qi,Xi.prototype.has=Ji,Xi.prototype.set=Ki;var Zi=Xi;var Qi=Bi,tu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},eu=function(t){return this.__data__.has(t)};function ru(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Qi;++e<r;)this.add(t[e])}ru.prototype.add=ru.prototype.push=tu,ru.prototype.has=eu;var nu=ru,ou=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},au=function(t,e){return t.has(e)};var iu=function(t,e,r,n,o,a){var i=1&r,u=t.length,s=e.length;if(u!=s&&!(i&&s>u))return!1;var c=a.get(t),l=a.get(e);if(c&&l)return c==e&&l==t;var f=-1,p=!0,h=2&r?new nu:void 0;for(a.set(t,e),a.set(e,t);++f<u;){var d=t[f],m=e[f];if(n)var g=i?n(m,d,f,e,t,a):n(d,m,f,t,e,a);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!ou(e,(function(t,e){if(!au(h,e)&&(d===t||o(d,t,r,n,a)))return h.push(e)}))){p=!1;break}}else if(d!==m&&!o(d,m,r,n,a)){p=!1;break}}return a.delete(t),a.delete(e),p};var uu=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var su=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},cu=zo.Uint8Array,lu=ga,fu=iu,pu=uu,hu=su,du=$o?$o.prototype:void 0,mu=du?du.valueOf:void 0;var gu=function(t,e,r,n,o,a,i){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new cu(t),new cu(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return lu(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=pu;case"[object Set]":var s=1&n;if(u||(u=hu),t.size!=e.size&&!s)return!1;var c=i.get(t);if(c)return c==e;n|=2,i.set(t,e);var l=fu(u(t),u(e),n,o,a,i);return i.delete(t),l;case"[object Symbol]":if(mu)return mu.call(t)==mu.call(e)}return!1};var vu=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},bu=Array.isArray,yu=vu,wu=bu;var Mu=function(t,e,r){var n=e(t);return wu(t)?n:yu(n,r(t))};var _u=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var i=t[r];e(i,r,t)&&(a[o++]=i)}return a};var Eu=_u,xu=function(){return[]},Au=Object.prototype.propertyIsEnumerable,Ou=Object.getOwnPropertySymbols,Nu=Ou?function(t){return null==t?[]:(t=Object(t),Eu(Ou(t),(function(e){return Au.call(t,e)})))}:xu,ku=Nu;var Yu=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},Tu=ea,Su=oa;var Du=function(t){return Su(t)&&"[object Arguments]"==Tu(t)},Ru=oa,ju=Object.prototype,Cu=ju.hasOwnProperty,Iu=ju.propertyIsEnumerable,Lu=Du(function(){return arguments}())?Du:function(t){return Ru(t)&&Cu.call(t,"callee")&&!Iu.call(t,"callee")},Fu=Lu,Pu={exports:{}};var Bu=function(){return!1};!function(t,e){var r=zo,n=Bu,o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,i=a&&a.exports===o?r.Buffer:void 0,u=(i?i.isBuffer:void 0)||n;t.exports=u}(Pu,Pu.exports);var Uu=/^(?:0|[1-9]\d*)$/;var Hu=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Uu.test(t))&&t>-1&&t%1==0&&t<e};var zu=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},$u=ea,Gu=zu,Vu=oa,Wu={};Wu["[object Float32Array]"]=Wu["[object Float64Array]"]=Wu["[object Int8Array]"]=Wu["[object Int16Array]"]=Wu["[object Int32Array]"]=Wu["[object Uint8Array]"]=Wu["[object Uint8ClampedArray]"]=Wu["[object Uint16Array]"]=Wu["[object Uint32Array]"]=!0,Wu["[object Arguments]"]=Wu["[object Array]"]=Wu["[object ArrayBuffer]"]=Wu["[object Boolean]"]=Wu["[object DataView]"]=Wu["[object Date]"]=Wu["[object Error]"]=Wu["[object Function]"]=Wu["[object Map]"]=Wu["[object Number]"]=Wu["[object Object]"]=Wu["[object RegExp]"]=Wu["[object Set]"]=Wu["[object String]"]=Wu["[object WeakMap]"]=!1;var qu=function(t){return Vu(t)&&Gu(t.length)&&!!Wu[$u(t)]};var Ju=function(t){return function(e){return t(e)}},Ku={exports:{}};!function(t,e){var r=Bo,n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,a=o&&o.exports===n&&r.process,i=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=i}(Ku,Ku.exports);var Xu=qu,Zu=Ju,Qu=Ku.exports,ts=Qu&&Qu.isTypedArray,es=ts?Zu(ts):Xu,rs=Yu,ns=Fu,os=bu,as=Pu.exports,is=Hu,us=es,ss=Object.prototype.hasOwnProperty;var cs=function(t,e){var r=os(t),n=!r&&ns(t),o=!r&&!n&&as(t),a=!r&&!n&&!o&&us(t),i=r||n||o||a,u=i?rs(t.length,String):[],s=u.length;for(var c in t)!e&&!ss.call(t,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||is(c,s))||u.push(c);return u},ls=Object.prototype;var fs=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ls)},ps=ra(Object.keys,Object),hs=fs,ds=ps,ms=Object.prototype.hasOwnProperty;var gs=function(t){if(!hs(t))return ds(t);var e=[];for(var r in Object(t))ms.call(t,r)&&"constructor"!=r&&e.push(r);return e},vs=Ba,bs=zu;var ys=cs,ws=gs,Ms=function(t){return null!=t&&bs(t.length)&&!vs(t)};var _s=function(t){return Ms(t)?ys(t):ws(t)},Es=Mu,xs=ku,As=_s;var Os=function(t){return Es(t,As,xs)},Ns=Os,ks=Object.prototype.hasOwnProperty;var Ys=function(t,e,r,n,o,a){var i=1&r,u=Ns(t),s=u.length;if(s!=Ns(e).length&&!i)return!1;for(var c=s;c--;){var l=u[c];if(!(i?l in e:ks.call(e,l)))return!1}var f=a.get(t),p=a.get(e);if(f&&p)return f==e&&p==t;var h=!0;a.set(t,e),a.set(e,t);for(var d=i;++c<s;){var m=t[l=u[c]],g=e[l];if(n)var v=i?n(g,m,l,e,t,a):n(m,g,l,t,e,a);if(!(void 0===v?m===g||o(m,g,r,n,a):v)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var b=t.constructor,y=e.constructor;b==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(h=!1)}return a.delete(t),a.delete(e),h},Ts=ai(zo,"DataView"),Ss=ii,Ds=ai(zo,"Promise"),Rs=ai(zo,"Set"),js=ai(zo,"WeakMap"),Cs=ea,Is=Ga,Ls="[object Map]",Fs="[object Promise]",Ps="[object Set]",Bs="[object WeakMap]",Us="[object DataView]",Hs=Is(Ts),zs=Is(Ss),$s=Is(Ds),Gs=Is(Rs),Vs=Is(js),Ws=Cs;(Ts&&Ws(new Ts(new ArrayBuffer(1)))!=Us||Ss&&Ws(new Ss)!=Ls||Ds&&Ws(Ds.resolve())!=Fs||Rs&&Ws(new Rs)!=Ps||js&&Ws(new js)!=Bs)&&(Ws=function(t){var e=Cs(t),r="[object Object]"==e?t.constructor:void 0,n=r?Is(r):"";if(n)switch(n){case Hs:return Us;case zs:return Ls;case $s:return Fs;case Gs:return Ps;case Vs:return Bs}return e});var qs=Zi,Js=iu,Ks=gu,Xs=Ys,Zs=Ws,Qs=bu,tc=Pu.exports,ec=es,rc="[object Arguments]",nc="[object Array]",oc="[object Object]",ac=Object.prototype.hasOwnProperty;var ic=function(t,e,r,n,o,a){var i=Qs(t),u=Qs(e),s=i?nc:Zs(t),c=u?nc:Zs(e),l=(s=s==rc?oc:s)==oc,f=(c=c==rc?oc:c)==oc,p=s==c;if(p&&tc(t)){if(!tc(e))return!1;i=!0,l=!1}if(p&&!l)return a||(a=new qs),i||ec(t)?Js(t,e,r,n,o,a):Ks(t,e,s,r,n,o,a);if(!(1&r)){var h=l&&ac.call(t,"__wrapped__"),d=f&&ac.call(e,"__wrapped__");if(h||d){var m=h?t.value():t,g=d?e.value():e;return a||(a=new qs),o(m,g,r,n,a)}}return!!p&&(a||(a=new qs),Xs(t,e,r,n,o,a))},uc=ic,sc=oa;var cc=function t(e,r,n,o,a){return e===r||(null==e||null==r||!sc(e)&&!sc(r)?e!=e&&r!=r:uc(e,r,n,o,t,a))},lc=cc;var fc=function(t,e){return lc(t,e)},pc=Tr&&Tr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const hc=pc(fc),dc=pc(ha);function mc(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n={};return Object.keys(e).forEach((o=>{if(!(0,hc.default)(e[o],t[o])){if(r&&!r.has(o))return;if((0,dc.default)(e[o])&&(0,dc.default)(t[o])){const r=mc(t[o],e[o]);Object.keys(r).length&&(n[o]=r)}else n[o]=e[o]}})),Object.keys(t).forEach((t=>{r&&!r.has(t)||void 0===e[t]&&(n[t]=null)})),n}function gc(){const t=[];return{fire(){for(var e=t.length-1;e>=0;e--)t[e].apply(this,arguments)},add(e){t.push(e)}}}function vc(t,e){const r=t.getMetadata("data.changes",[]),n=t.getMetadata("data.transpose",!1),o=e.numRows();return r.forEach((t=>{const r=n?t.column:t.row,a=n?t.row:t.column;if(e.hasColumn(a))if(t.ignored=!1,0===r){if(t.previous&&"undefined"!==t.previous){if(e.column(a).title()!==t.previous)return}e.column(a).title(t.value)}else if(r<=o){if(t.previous&&"undefined"!==t.previous){if(e.column(a).raw(r-1)!==t.previous)return}e.column(a).raw(r-1,t.value)}})),Oe(t.getMetadata("data.column-format",{}),((t,r)=>{t.type&&e.hasColumn(r)&&"auto"!==t.type&&e.column(r).type(t.type),t["input-format"]&&e.hasColumn(r)&&e.column(r).type(!0).format(t["input-format"])})),e}var bc=function(t){return t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")};function yc(t,e){let r=t.getMetadata("describe.computed-columns",{});Array.isArray(r)||(r=Object.keys(r).reduce(((t,e)=>(t.push({name:e,formula:r[e]}),t)),[]));const n=vc(t,e).list(),o={},a={},i=new ko;e.eachColumn((function(t){if(!t.isComputed)if(o[t.name()]=bc(t.name()),"number"===t.type()){const[e,r]=t.range();a[t.name()]={min:e,max:r,sum:t.sum(),mean:t.mean(),median:t.median()}}else if("date"===t.type()){const[e,r]=t.range();a[t.name()]={min:e,max:r}}}));const u=r.reduce(((t,r,n)=>{const o=bc(r.name);return t.set(o,{name:r.name,index:e.numColumns()+n,key:o,formula:r.formula,visited:0,computed:!1,dependsOn:[]})}),new Map);r.forEach((t=>{let{formula:e,name:r}=t;const n=u.get(bc(r));if(e.trim())try{n.expr=i.parse(e.trim()),n.expr.variables().forEach((t=>{t=t.split("__")[0],u.has(t)&&n.dependsOn.push(u.get(t))}))}catch(t){n.error=t.message}else n.expr={evaluate:()=>"",variables:()=>[]}}));const s=[];let c=0;for(;u.size&&!(c>1e3);)u.forEach((t=>{c++;try{l(t,[])}catch(e){if(!e.message.startsWith("circular-dependency"))throw e;t.error=e.message,u.delete(t.key),s.push(t)}}));return s.forEach((e=>{if(e.error){const t=Hr(e.name,n.map((()=>"null")));t.isComputed=!0,t.formula=e.formula,t.errors=[{message:e.error,row:"all"}],e.column=t}else e.column=function(e){let{formula:r,name:i,expr:u,error:s,index:c}=e;const l=[];s&&l.push({row:"all",message:s});const f=t.getMetadata("data.changes",[]).filter((t=>t.column===c&&t.row>0)).reduce(((t,e)=>{const r=t.get(e.row-1);return r&&(e.previous=r.previous),t.set(e.row-1,e),t}),new Map),p=n.map((function(t,e){const r={ROWNUMBER:e};let n;Oe(t,(function(t,e){o[e]&&(r[o[e]]=t,a[e]&&Object.keys(a[e]).forEach((t=>{r[`${o[e]}__${t}`]=a[e][t]})))}));try{n=u.evaluate(r),"function"==typeof n&&(l.push({message:"formula returned function",row:e}),n=null)}catch(t){l.push({message:t.message,row:e}),n=null}if(f.has(e)){const t=f.get(e);if(void 0===t.previous||t.previous==n)return t.value}return n}));o[i]=bc(i),p.forEach(((t,e)=>{n[e][i]=t}));var h=Hr(i,p.map((function(t){return k(t)?t?"yes":"no":D(t)?function(t){try{return t.toISOString()}catch(e){if(e instanceof RangeError)return t.toString();throw e}}(t):S(t)?String(t):O(t)?null:String(t)})));if("number"===h.type()){const[t,e]=h.range();a[i]={min:t,max:e,sum:h.sum(),mean:h.mean(),median:h.median()}}else if("date"===h.type()){const[t,e]=h.range();a[i]={min:t,max:e}}return h.isComputed=!0,h.errors=l,h.formula=r,h}(e)})),s.sort(((t,e)=>t.index-e.index)).forEach((t=>{let{column:r}=t;return e.add(r)})),e;function l(t,e){if(t.computed)return;e.push(t.name);for(let r=0;r<e.length-2;r++)if(t.name===e[r])throw new Error("circular-dependency: "+e.join(" ‣ "));t.curIter=c;let r=!0;for(let e=0;e<t.dependsOn.length;e++)r=r&&t.dependsOn[e].computed;r?(t.computed=!0,s.push(t),u.delete(t.key)):e.length<10&&t.dependsOn.forEach((t=>{l(t,e.slice(0))}))}}function wc(t){const e=Object.keys(t),r=[];return e.forEach((e=>{ha(t[e])?wc(t[e]).forEach((t=>{r.push(`${e}.${t}`)})):r.push(e)})),r}var Mc={exports:{}};
/*! @preserve
     * numeral.js
     * version : 2.0.6
     * author : Adam Draper
     * license : MIT
     * http://adamwdraper.github.com/Numeral-js/
     */!function(t){!function(e,r){t.exports?t.exports=r():e.numeral=r()}(Tr,(function(){var t,e,r,n,o,a={},i={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function c(t,e){this._input=t,this._value=e}return(t=function(r){var n,o,i,u;if(t.isNumeral(r))n=r.value();else if(0===r||void 0===r)n=0;else if(null===r||e.isNaN(r))n=null;else if("string"==typeof r)if(s.zeroFormat&&r===s.zeroFormat)n=0;else if(s.nullFormat&&r===s.nullFormat||!r.replace(/[^0-9]+/g,"").length)n=null;else{for(o in a)if((u="function"==typeof a[o].regexps.unformat?a[o].regexps.unformat():a[o].regexps.unformat)&&r.match(u)){i=a[o].unformat;break}n=(i=i||t._.stringToNumber)(r)}else n=Number(r)||null;return new c(r,n)}).version="2.0.6",t.isNumeral=function(t){return t instanceof c},t._=e={numberToFormat:function(e,r,n){var o,a,u,s,c,l,f,p,h=i[t.options.currentLocale],d=!1,m=!1,g="",v=1e12,b=1e9,y=1e6,w="",M=!1;if(e=e||0,u=Math.abs(e),t._.includes(r,"(")?(d=!0,r=r.replace(/[\(|\)]/g,"")):(t._.includes(r,"+")||t._.includes(r,"-"))&&(l=t._.includes(r,"+")?r.indexOf("+"):e<0?r.indexOf("-"):-1,r=r.replace(/[\+|\-]/g,"")),t._.includes(r,"a")&&(a=!!(a=r.match(/a(k|m|b|t)?/))&&a[1],t._.includes(r," a")&&(g=" "),r=r.replace(new RegExp(g+"a[kmbt]?"),""),u>=v&&!a||"t"===a?(g+=h.abbreviations.trillion,e/=v):u<v&&u>=b&&!a||"b"===a?(g+=h.abbreviations.billion,e/=b):u<b&&u>=y&&!a||"m"===a?(g+=h.abbreviations.million,e/=y):(u<y&&u>=1e3&&!a||"k"===a)&&(g+=h.abbreviations.thousand,e/=1e3)),t._.includes(r,"[.]")&&(m=!0,r=r.replace("[.]",".")),s=e.toString().split(".")[0],c=r.split(".")[1],f=r.indexOf(","),o=(r.split(".")[0].split(",")[0].match(/0/g)||[]).length,c?(t._.includes(c,"[")?(c=(c=c.replace("]","")).split("["),w=t._.toFixed(e,c[0].length+c[1].length,n,c[1].length)):w=t._.toFixed(e,c.length,n),s=w.split(".")[0],w=t._.includes(w,".")?h.delimiters.decimal+w.split(".")[1]:"",m&&0===Number(w.slice(1))&&(w="")):s=t._.toFixed(e,0,n),g&&!a&&Number(s)>=1e3&&g!==h.abbreviations.trillion)switch(s=String(Number(s)/1e3),g){case h.abbreviations.thousand:g=h.abbreviations.million;break;case h.abbreviations.million:g=h.abbreviations.billion;break;case h.abbreviations.billion:g=h.abbreviations.trillion}if(t._.includes(s,"-")&&(s=s.slice(1),M=!0),s.length<o)for(var _=o-s.length;_>0;_--)s="0"+s;return f>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===r.indexOf(".")&&(s=""),p=s+w+(g||""),d?p=(d&&M?"(":"")+p+(d&&M?")":""):l>=0?p=0===l?(M?"-":"+")+p:p+(M?"-":"+"):M&&(p="-"+p),p},stringToNumber:function(t){var e,r,n,o=i[s.currentLocale],a=t,u={thousand:3,million:6,billion:9,trillion:12};if(s.zeroFormat&&t===s.zeroFormat)r=0;else if(s.nullFormat&&t===s.nullFormat||!t.replace(/[^0-9]+/g,"").length)r=null;else{for(e in r=1,"."!==o.delimiters.decimal&&(t=t.replace(/\./g,"").replace(o.delimiters.decimal,".")),u)if(n=new RegExp("[^a-zA-Z]"+o.abbreviations[e]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),a.match(n)){r*=Math.pow(10,u[e]);break}r*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),r*=Number(t)}return r},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,r){return t.slice(0,r)+e+t.slice(r)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var r,n=Object(t),o=n.length>>>0,a=0;if(3===arguments.length)r=arguments[2];else{for(;a<o&&!(a in n);)a++;if(a>=o)throw new TypeError("Reduce of empty array with no initial value");r=n[a++]}for(;a<o;a++)a in n&&(r=e(r,n[a],a,n));return r},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce((function(t,r){var n=e.multiplier(r);return t>n?t:n}),1)},toFixed:function(t,e,r,n){var o,a,i,u,s=t.toString().split("."),c=e-(n||0);return o=2===s.length?Math.min(Math.max(s[1].length,c),e):c,i=Math.pow(10,o),u=(r(t+"e+"+o)/i).toFixed(o),n>e-o&&(a=new RegExp("\\.?0{1,"+(n-(e-o))+"}$"),u=u.replace(a,"")),u}},t.options=s,t.formats=a,t.locales=i,t.locale=function(t){return t&&(s.currentLocale=t.toLowerCase()),s.currentLocale},t.localeData=function(t){if(!t)return i[s.currentLocale];if(t=t.toLowerCase(),!i[t])throw new Error("Unknown locale : "+t);return i[t]},t.reset=function(){for(var t in u)s[t]=u[t]},t.zeroFormat=function(t){s.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){s.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){s.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,r){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=r,r},t.validate=function(e,r){var n,o,a,i,u,s,c,l;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{c=t.localeData(r)}catch(e){c=t.localeData(t.locale())}return a=c.currency.symbol,u=c.abbreviations,n=c.delimiters.decimal,o="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(l=e.match(/^[^\d]+/))||(e=e.substr(1),l[0]===a))&&((null===(l=e.match(/[^\d]+$/))||(e=e.slice(0,-1),l[0]===u.thousand||l[0]===u.million||l[0]===u.billion||l[0]===u.trillion))&&(s=new RegExp(o+"{2}"),!e.match(/[^\d.,]/g)&&(!((i=e.split(n)).length>2)&&(i.length<2?!!i[0].match(/^\d+.*\d$/)&&!i[0].match(s):1===i[0].length?!!i[0].match(/^\d+$/)&&!i[0].match(s)&&!!i[1].match(/^\d+$/):!!i[0].match(/^\d+.*\d$/)&&!i[0].match(s)&&!!i[1].match(/^\d+$/)))))},t.fn=c.prototype={clone:function(){return t(this)},format:function(e,r){var n,o,i,u=this._value,c=e||s.defaultFormat;if(r=r||Math.round,0===u&&null!==s.zeroFormat)o=s.zeroFormat;else if(null===u&&null!==s.nullFormat)o=s.nullFormat;else{for(n in a)if(c.match(a[n].regexps.format)){i=a[n].format;break}o=(i=i||t._.numberToFormat)(u,c,r)}return o},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var r=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],(function(t,e,n,o){return t+Math.round(r*e)}),0)/r,this},subtract:function(t){var r=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],(function(t,e,n,o){return t-Math.round(r*e)}),Math.round(this._value*r))/r,this},multiply:function(t){return this._value=e.reduce([this._value,t],(function(t,r,n,o){var a=e.correctionFactor(t,r);return Math.round(t*a)*Math.round(r*a)/Math.round(a*a)}),1),this},divide:function(t){return this._value=e.reduce([this._value,t],(function(t,r,n,o){var a=e.correctionFactor(t,r);return Math.round(t*a)/Math.round(r*a)})),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,r,n){var o,a=t._.includes(r," BPS")?" ":"";return e*=1e4,r=r.replace(/\s?BPS/,""),o=t._.numberToFormat(e,r,n),t._.includes(o,")")?((o=o.split("")).splice(-1,0,a+"BPS"),o=o.join("")):o=o+a+"BPS",o},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},o="("+(o=(r={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(n.suffixes.filter((function(t){return r.suffixes.indexOf(t)<0}))).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(o)},format:function(e,o,a){var i,u,s,c=t._.includes(o,"ib")?n:r,l=t._.includes(o," b")||t._.includes(o," ib")?" ":"";for(o=o.replace(/\s?i?b/,""),i=0;i<=c.suffixes.length;i++)if(u=Math.pow(c.base,i),s=Math.pow(c.base,i+1),null===e||0===e||e>=u&&e<s){l+=c.suffixes[i],u>0&&(e/=u);break}return t._.numberToFormat(e,o,a)+l},unformat:function(e){var o,a,i=t._.stringToNumber(e);if(i){for(o=r.suffixes.length-1;o>=0;o--){if(t._.includes(e,r.suffixes[o])){a=Math.pow(r.base,o);break}if(t._.includes(e,n.suffixes[o])){a=Math.pow(n.base,o);break}}i*=a||1}return i}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,r,n){var o,a,i=t.locales[t.options.currentLocale],u={before:r.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:r.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(r=r.replace(/\s?\$\s?/,""),o=t._.numberToFormat(e,r,n),e>=0?(u.before=u.before.replace(/[\-\(]/,""),u.after=u.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(u.before,"-")&&!t._.includes(u.before,"(")&&(u.before="-"+u.before),a=0;a<u.before.length;a++)switch(u.before[a]){case"$":o=t._.insert(o,i.currency.symbol,a);break;case" ":o=t._.insert(o," ",a+i.currency.symbol.length-1)}for(a=u.after.length-1;a>=0;a--)switch(u.after[a]){case"$":o=a===u.after.length-1?o+i.currency.symbol:t._.insert(o,i.currency.symbol,-(u.after.length-(1+a)));break;case" ":o=a===u.after.length-1?o+" ":t._.insert(o," ",-(u.after.length-(1+a)+i.currency.symbol.length-1))}return o}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,r,n){var o=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return r=r.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(o[0]),r,n)+"e"+o[1]},unformat:function(e){var r=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),n=Number(r[0]),o=Number(r[1]);return o=t._.includes(e,"e-")?o*=-1:o,t._.reduce([n,Math.pow(10,o)],(function(e,r,n,o){var a=t._.correctionFactor(e,r);return e*a*(r*a)/(a*a)}),1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,r,n){var o=t.locales[t.options.currentLocale],a=t._.includes(r," o")?" ":"";return r=r.replace(/\s?o/,""),a+=o.ordinal(e),t._.numberToFormat(e,r,n)+a}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,r,n){var o,a=t._.includes(r," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),r=r.replace(/\s?\%/,""),o=t._.numberToFormat(e,r,n),t._.includes(o,")")?((o=o.split("")).splice(-1,0,a+"%"),o=o.join("")):o=o+a+"%",o},unformat:function(e){var r=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*r:r}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,r){var n=Math.floor(t/60/60),o=Math.floor((t-60*n*60)/60),a=Math.round(t-60*n*60-60*o);return n+":"+(o<10?"0"+o:o)+":"+(a<10?"0"+a:a)},unformat:function(t){var e=t.split(":"),r=0;return 3===e.length?(r+=60*Number(e[0])*60,r+=60*Number(e[1]),r+=Number(e[2])):2===e.length&&(r+=60*Number(e[0]),r+=Number(e[1])),Number(r)}}),t}))}(Mc);var _c=Mc.exports,Ec={exports:{}};
/**
     * chroma.js - JavaScript library for color conversions
     *
     * Copyright (c) 2011-2019, Gregor Aisch
     * All rights reserved.
     *
     * Redistribution and use in source and binary forms, with or without
     * modification, are permitted provided that the following conditions are met:
     *
     * 1. Redistributions of source code must retain the above copyright notice, this
     * list of conditions and the following disclaimer.
     *
     * 2. Redistributions in binary form must reproduce the above copyright notice,
     * this list of conditions and the following disclaimer in the documentation
     * and/or other materials provided with the distribution.
     *
     * 3. The name Gregor Aisch may not be used to endorse or promote products
     * derived from this software without specific prior written permission.
     *
     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
     * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
     * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
     * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
     * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
     * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
     * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
     * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
     * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
     * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     *
     * -------------------------------------------------------
     *
     * chroma.js includes colors from colorbrewer2.org, which are released under
     * the following license:
     *
     * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
     * and The Pennsylvania State University.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     * http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing,
     * software distributed under the License is distributed on an
     * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
     * either express or implied. See the License for the specific
     * language governing permissions and limitations under the License.
     *
     * ------------------------------------------------------
     *
     * Named colors are taken from X11 Color Names.
     * http://www.w3.org/TR/css3-color/#svg-color
     *
     * @preserve
     */
!function(t,e){t.exports=function(){for(var t=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),t<e?e:t>r?r:t},e=t,r=function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var r=0;r<=3;r++)r<3?((t[r]<0||t[r]>255)&&(t._clipped=!0),t[r]=e(t[r],0,255)):3===r&&(t[r]=e(t[r],0,1));return t},n={},o=0,a=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];o<a.length;o+=1){var i=a[o];n["[object "+i+"]"]=i.toLowerCase()}var u=function(t){return n[Object.prototype.toString.call(t)]||"object"},s=u,c=function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==s(t[0])&&e?e.split("").filter((function(e){return void 0!==t[0][e]})).map((function(e){return t[0][e]})):t[0]},l=u,f=function(t){if(t.length<2)return null;var e=t.length-1;return"string"==l(t[e])?t[e].toLowerCase():null},p=Math.PI,h={clip_rgb:r,limit:t,type:u,unpack:c,last:f,PI:p,TWOPI:2*p,PITHIRD:p/3,DEG2RAD:p/180,RAD2DEG:180/p},d={format:{},autodetect:[]},m=h.last,g=h.clip_rgb,v=h.type,b=d,y=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=this;if("object"===v(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var n=m(t),o=!1;if(!n){o=!0,b.sorted||(b.autodetect=b.autodetect.sort((function(t,e){return e.p-t.p})),b.sorted=!0);for(var a=0,i=b.autodetect;a<i.length;a+=1){var u=i[a];if(n=u.test.apply(u,t))break}}if(!b.format[n])throw new Error("unknown format: "+t);var s=b.format[n].apply(null,o?t:t.slice(0,-1));r._rgb=g(s),3===r._rgb.length&&r._rgb.push(1)};y.prototype.toString=function(){return"function"==v(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var w=y,M=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(M.Color,[null].concat(t)))};M.Color=w,M.version="2.4.2";var _=M,E=h.unpack,x=Math.max,A=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=E(t,"rgb"),n=r[0],o=r[1],a=r[2],i=1-x(n/=255,x(o/=255,a/=255)),u=i<1?1/(1-i):0;return[(1-n-i)*u,(1-o-i)*u,(1-a-i)*u,i]},O=A,N=h.unpack,k=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=(t=N(t,"cmyk"))[0],n=t[1],o=t[2],a=t[3],i=t.length>4?t[4]:1;return 1===a?[0,0,0,i]:[r>=1?0:255*(1-r)*(1-a),n>=1?0:255*(1-n)*(1-a),o>=1?0:255*(1-o)*(1-a),i]},Y=k,T=_,S=w,D=d,R=h.unpack,j=h.type,C=O;S.prototype.cmyk=function(){return C(this._rgb)},T.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(S,[null].concat(t,["cmyk"])))},D.format.cmyk=Y,D.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=R(t,"cmyk"),"array"===j(t)&&4===t.length)return"cmyk"}});var I=h.unpack,L=h.last,F=function(t){return Math.round(100*t)/100},P=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=I(t,"hsla"),n=L(t)||"lsa";return r[0]=F(r[0]||0),r[1]=F(100*r[1])+"%",r[2]=F(100*r[2])+"%","hsla"===n||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,n="hsla"):r.length=3,n+"("+r.join(",")+")"},B=P,U=h.unpack,H=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=(t=U(t,"rgba"))[0],n=t[1],o=t[2];r/=255,n/=255,o/=255;var a,i,u=Math.min(r,n,o),s=Math.max(r,n,o),c=(s+u)/2;return s===u?(a=0,i=Number.NaN):a=c<.5?(s-u)/(s+u):(s-u)/(2-s-u),r==s?i=(n-o)/(s-u):n==s?i=2+(o-r)/(s-u):o==s&&(i=4+(r-n)/(s-u)),(i*=60)<0&&(i+=360),t.length>3&&void 0!==t[3]?[i,a,c,t[3]]:[i,a,c]},z=H,$=h.unpack,G=h.last,V=B,W=z,q=Math.round,J=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=$(t,"rgba"),n=G(t)||"rgb";return"hsl"==n.substr(0,3)?V(W(r),n):(r[0]=q(r[0]),r[1]=q(r[1]),r[2]=q(r[2]),("rgba"===n||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,n="rgba"),n+"("+r.slice(0,"rgb"===n?3:4).join(",")+")")},K=J,X=h.unpack,Z=Math.round,Q=function(){for(var t,e=[],r=arguments.length;r--;)e[r]=arguments[r];var n,o,a,i=(e=X(e,"hsl"))[0],u=e[1],s=e[2];if(0===u)n=o=a=255*s;else{var c=[0,0,0],l=[0,0,0],f=s<.5?s*(1+u):s+u-s*u,p=2*s-f,h=i/360;c[0]=h+1/3,c[1]=h,c[2]=h-1/3;for(var d=0;d<3;d++)c[d]<0&&(c[d]+=1),c[d]>1&&(c[d]-=1),6*c[d]<1?l[d]=p+6*(f-p)*c[d]:2*c[d]<1?l[d]=f:3*c[d]<2?l[d]=p+(f-p)*(2/3-c[d])*6:l[d]=p;n=(t=[Z(255*l[0]),Z(255*l[1]),Z(255*l[2])])[0],o=t[1],a=t[2]}return e.length>3?[n,o,a,e[3]]:[n,o,a,1]},tt=Q,et=tt,rt=d,nt=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ot=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,at=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,it=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ut=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,st=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ct=Math.round,lt=function(t){var e;if(t=t.toLowerCase().trim(),rt.format.named)try{return rt.format.named(t)}catch(t){}if(e=t.match(nt)){for(var r=e.slice(1,4),n=0;n<3;n++)r[n]=+r[n];return r[3]=1,r}if(e=t.match(ot)){for(var o=e.slice(1,5),a=0;a<4;a++)o[a]=+o[a];return o}if(e=t.match(at)){for(var i=e.slice(1,4),u=0;u<3;u++)i[u]=ct(2.55*i[u]);return i[3]=1,i}if(e=t.match(it)){for(var s=e.slice(1,5),c=0;c<3;c++)s[c]=ct(2.55*s[c]);return s[3]=+s[3],s}if(e=t.match(ut)){var l=e.slice(1,4);l[1]*=.01,l[2]*=.01;var f=et(l);return f[3]=1,f}if(e=t.match(st)){var p=e.slice(1,4);p[1]*=.01,p[2]*=.01;var h=et(p);return h[3]=+e[4],h}};lt.test=function(t){return nt.test(t)||ot.test(t)||at.test(t)||it.test(t)||ut.test(t)||st.test(t)};var ft=lt,pt=_,ht=w,dt=d,mt=h.type,gt=K,vt=ft;ht.prototype.css=function(t){return gt(this._rgb,t)},pt.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(ht,[null].concat(t,["css"])))},dt.format.css=vt,dt.autodetect.push({p:5,test:function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(!e.length&&"string"===mt(t)&&vt.test(t))return"css"}});var bt=w,yt=_,wt=d,Mt=h.unpack;wt.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=Mt(t,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},yt.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(bt,[null].concat(t,["gl"])))},bt.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var _t=h.unpack,Et=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r,n=_t(t,"rgb"),o=n[0],a=n[1],i=n[2],u=Math.min(o,a,i),s=Math.max(o,a,i),c=s-u,l=100*c/255,f=u/(255-c)*100;return 0===c?r=Number.NaN:(o===s&&(r=(a-i)/c),a===s&&(r=2+(i-o)/c),i===s&&(r=4+(o-a)/c),(r*=60)<0&&(r+=360)),[r,l,f]},xt=Et,At=h.unpack,Ot=Math.floor,Nt=function(){for(var t,e,r,n,o,a,i=[],u=arguments.length;u--;)i[u]=arguments[u];var s,c,l,f=(i=At(i,"hcg"))[0],p=i[1],h=i[2];h*=255;var d=255*p;if(0===p)s=c=l=h;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var m=Ot(f/=60),g=f-m,v=h*(1-p),b=v+d*(1-g),y=v+d*g,w=v+d;switch(m){case 0:s=(t=[w,y,v])[0],c=t[1],l=t[2];break;case 1:s=(e=[b,w,v])[0],c=e[1],l=e[2];break;case 2:s=(r=[v,w,y])[0],c=r[1],l=r[2];break;case 3:s=(n=[v,b,w])[0],c=n[1],l=n[2];break;case 4:s=(o=[y,v,w])[0],c=o[1],l=o[2];break;case 5:s=(a=[w,v,b])[0],c=a[1],l=a[2]}}return[s,c,l,i.length>3?i[3]:1]},kt=Nt,Yt=h.unpack,Tt=h.type,St=_,Dt=w,Rt=d,jt=xt;Dt.prototype.hcg=function(){return jt(this._rgb)},St.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Dt,[null].concat(t,["hcg"])))},Rt.format.hcg=kt,Rt.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Yt(t,"hcg"),"array"===Tt(t)&&3===t.length)return"hcg"}});var Ct=h.unpack,It=h.last,Lt=Math.round,Ft=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=Ct(t,"rgba"),n=r[0],o=r[1],a=r[2],i=r[3],u=It(t)||"auto";void 0===i&&(i=1),"auto"===u&&(u=i<1?"rgba":"rgb");var s="000000"+((n=Lt(n))<<16|(o=Lt(o))<<8|(a=Lt(a))).toString(16);s=s.substr(s.length-6);var c="0"+Lt(255*i).toString(16);switch(c=c.substr(c.length-2),u.toLowerCase()){case"rgba":return"#"+s+c;case"argb":return"#"+c+s;default:return"#"+s}},Pt=Ft,Bt=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ut=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ht=function(t){if(t.match(Bt)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(Ut)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var r=parseInt(t,16);return[r>>24&255,r>>16&255,r>>8&255,Math.round((255&r)/255*100)/100]}throw new Error("unknown hex color: "+t)},zt=_,$t=w,Gt=h.type,Vt=d,Wt=Pt;$t.prototype.hex=function(t){return Wt(this._rgb,t)},zt.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply($t,[null].concat(t,["hex"])))},Vt.format.hex=Ht,Vt.autodetect.push({p:4,test:function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(!e.length&&"string"===Gt(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var qt=h.unpack,Jt=h.TWOPI,Kt=Math.min,Xt=Math.sqrt,Zt=Math.acos,Qt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r,n=qt(t,"rgb"),o=n[0],a=n[1],i=n[2],u=Kt(o/=255,a/=255,i/=255),s=(o+a+i)/3,c=s>0?1-u/s:0;return 0===c?r=NaN:(r=(o-a+(o-i))/2,r/=Xt((o-a)*(o-a)+(o-i)*(a-i)),r=Zt(r),i>a&&(r=Jt-r),r/=Jt),[360*r,c,s]},te=Qt,ee=h.unpack,re=h.limit,ne=h.TWOPI,oe=h.PITHIRD,ae=Math.cos,ie=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r,n,o,a=(t=ee(t,"hsi"))[0],i=t[1],u=t[2];return isNaN(a)&&(a=0),isNaN(i)&&(i=0),a>360&&(a-=360),a<0&&(a+=360),(a/=360)<1/3?n=1-((o=(1-i)/3)+(r=(1+i*ae(ne*a)/ae(oe-ne*a))/3)):a<2/3?o=1-((r=(1-i)/3)+(n=(1+i*ae(ne*(a-=1/3))/ae(oe-ne*a))/3)):r=1-((n=(1-i)/3)+(o=(1+i*ae(ne*(a-=2/3))/ae(oe-ne*a))/3)),[255*(r=re(u*r*3)),255*(n=re(u*n*3)),255*(o=re(u*o*3)),t.length>3?t[3]:1]},ue=ie,se=h.unpack,ce=h.type,le=_,fe=w,pe=d,he=te;fe.prototype.hsi=function(){return he(this._rgb)},le.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(fe,[null].concat(t,["hsi"])))},pe.format.hsi=ue,pe.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=se(t,"hsi"),"array"===ce(t)&&3===t.length)return"hsi"}});var de=h.unpack,me=h.type,ge=_,ve=w,be=d,ye=z;ve.prototype.hsl=function(){return ye(this._rgb)},ge.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(ve,[null].concat(t,["hsl"])))},be.format.hsl=tt,be.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=de(t,"hsl"),"array"===me(t)&&3===t.length)return"hsl"}});var we=h.unpack,Me=Math.min,_e=Math.max,Ee=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r,n,o,a=(t=we(t,"rgb"))[0],i=t[1],u=t[2],s=Me(a,i,u),c=_e(a,i,u),l=c-s;return o=c/255,0===c?(r=Number.NaN,n=0):(n=l/c,a===c&&(r=(i-u)/l),i===c&&(r=2+(u-a)/l),u===c&&(r=4+(a-i)/l),(r*=60)<0&&(r+=360)),[r,n,o]},xe=Ee,Ae=h.unpack,Oe=Math.floor,Ne=function(){for(var t,e,r,n,o,a,i=[],u=arguments.length;u--;)i[u]=arguments[u];var s,c,l,f=(i=Ae(i,"hsv"))[0],p=i[1],h=i[2];if(h*=255,0===p)s=c=l=h;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var d=Oe(f/=60),m=f-d,g=h*(1-p),v=h*(1-p*m),b=h*(1-p*(1-m));switch(d){case 0:s=(t=[h,b,g])[0],c=t[1],l=t[2];break;case 1:s=(e=[v,h,g])[0],c=e[1],l=e[2];break;case 2:s=(r=[g,h,b])[0],c=r[1],l=r[2];break;case 3:s=(n=[g,v,h])[0],c=n[1],l=n[2];break;case 4:s=(o=[b,g,h])[0],c=o[1],l=o[2];break;case 5:s=(a=[h,g,v])[0],c=a[1],l=a[2]}}return[s,c,l,i.length>3?i[3]:1]},ke=Ne,Ye=h.unpack,Te=h.type,Se=_,De=w,Re=d,je=xe;De.prototype.hsv=function(){return je(this._rgb)},Se.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(De,[null].concat(t,["hsv"])))},Re.format.hsv=ke,Re.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Ye(t,"hsv"),"array"===Te(t)&&3===t.length)return"hsv"}});var Ce={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Ie=Ce,Le=h.unpack,Fe=Math.pow,Pe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=Le(t,"rgb"),n=r[0],o=r[1],a=r[2],i=He(n,o,a),u=i[0],s=i[1],c=116*s-16;return[c<0?0:c,500*(u-s),200*(s-i[2])]},Be=function(t){return(t/=255)<=.04045?t/12.92:Fe((t+.055)/1.055,2.4)},Ue=function(t){return t>Ie.t3?Fe(t,1/3):t/Ie.t2+Ie.t0},He=function(t,e,r){return t=Be(t),e=Be(e),r=Be(r),[Ue((.4124564*t+.3575761*e+.1804375*r)/Ie.Xn),Ue((.2126729*t+.7151522*e+.072175*r)/Ie.Yn),Ue((.0193339*t+.119192*e+.9503041*r)/Ie.Zn)]},ze=Pe,$e=Ce,Ge=h.unpack,Ve=Math.pow,We=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r,n,o,a=(t=Ge(t,"lab"))[0],i=t[1],u=t[2];return n=(a+16)/116,r=isNaN(i)?n:n+i/500,o=isNaN(u)?n:n-u/200,n=$e.Yn*Je(n),r=$e.Xn*Je(r),o=$e.Zn*Je(o),[qe(3.2404542*r-1.5371385*n-.4985314*o),qe(-.969266*r+1.8760108*n+.041556*o),qe(.0556434*r-.2040259*n+1.0572252*o),t.length>3?t[3]:1]},qe=function(t){return 255*(t<=.00304?12.92*t:1.055*Ve(t,1/2.4)-.055)},Je=function(t){return t>$e.t1?t*t*t:$e.t2*(t-$e.t0)},Ke=We,Xe=h.unpack,Ze=h.type,Qe=_,tr=w,er=d,rr=ze;tr.prototype.lab=function(){return rr(this._rgb)},Qe.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(tr,[null].concat(t,["lab"])))},er.format.lab=Ke,er.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Xe(t,"lab"),"array"===Ze(t)&&3===t.length)return"lab"}});var nr=h.unpack,or=h.RAD2DEG,ar=Math.sqrt,ir=Math.atan2,ur=Math.round,sr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=nr(t,"lab"),n=r[0],o=r[1],a=r[2],i=ar(o*o+a*a),u=(ir(a,o)*or+360)%360;return 0===ur(1e4*i)&&(u=Number.NaN),[n,i,u]},cr=sr,lr=h.unpack,fr=ze,pr=cr,hr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=lr(t,"rgb"),n=r[0],o=r[1],a=r[2],i=fr(n,o,a),u=i[0],s=i[1],c=i[2];return pr(u,s,c)},dr=hr,mr=h.unpack,gr=h.DEG2RAD,vr=Math.sin,br=Math.cos,yr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=mr(t,"lch"),n=r[0],o=r[1],a=r[2];return isNaN(a)&&(a=0),[n,br(a*=gr)*o,vr(a)*o]},wr=yr,Mr=h.unpack,_r=wr,Er=Ke,xr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=(t=Mr(t,"lch"))[0],n=t[1],o=t[2],a=_r(r,n,o),i=a[0],u=a[1],s=a[2],c=Er(i,u,s);return[c[0],c[1],c[2],t.length>3?t[3]:1]},Ar=xr,Or=h.unpack,Nr=Ar,kr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=Or(t,"hcl").reverse();return Nr.apply(void 0,r)},Yr=kr,Tr=h.unpack,Sr=h.type,Dr=_,Rr=w,jr=d,Cr=dr;Rr.prototype.lch=function(){return Cr(this._rgb)},Rr.prototype.hcl=function(){return Cr(this._rgb).reverse()},Dr.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Rr,[null].concat(t,["lch"])))},Dr.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Rr,[null].concat(t,["hcl"])))},jr.format.lch=Ar,jr.format.hcl=Yr,["lch","hcl"].forEach((function(t){return jr.autodetect.push({p:2,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=Tr(e,t),"array"===Sr(e)&&3===e.length)return t}})}));var Ir={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Lr=w,Fr=d,Pr=h.type,Br=Ir,Ur=Ht,Hr=Pt;Lr.prototype.name=function(){for(var t=Hr(this._rgb,"rgb"),e=0,r=Object.keys(Br);e<r.length;e+=1){var n=r[e];if(Br[n]===t)return n.toLowerCase()}return t},Fr.format.named=function(t){if(t=t.toLowerCase(),Br[t])return Ur(Br[t]);throw new Error("unknown color name: "+t)},Fr.autodetect.push({p:5,test:function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(!e.length&&"string"===Pr(t)&&Br[t.toLowerCase()])return"named"}});var zr=h.unpack,$r=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=zr(t,"rgb");return(r[0]<<16)+(r[1]<<8)+r[2]},Gr=$r,Vr=h.type,Wr=function(t){if("number"==Vr(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},qr=Wr,Jr=_,Kr=w,Xr=d,Zr=h.type,Qr=Gr;Kr.prototype.num=function(){return Qr(this._rgb)},Jr.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Kr,[null].concat(t,["num"])))},Xr.format.num=qr,Xr.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===Zr(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var tn=_,en=w,rn=d,nn=h.unpack,on=h.type,an=Math.round;en.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(an)},en.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(e,r){return r<3?!1===t?e:an(e):e}))},tn.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(en,[null].concat(t,["rgb"])))},rn.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=nn(t,"rgba");return void 0===r[3]&&(r[3]=1),r},rn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=nn(t,"rgba"),"array"===on(t)&&(3===t.length||4===t.length&&"number"==on(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var un=Math.log,sn=function(t){var e,r,n,o=t/100;return o<66?(e=255,r=o<6?0:-155.25485562709179-.44596950469579133*(r=o-2)+104.49216199393888*un(r),n=o<20?0:.8274096064007395*(n=o-10)-254.76935184120902+115.67994401066147*un(n)):(e=351.97690566805693+.114206453784165*(e=o-55)-40.25366309332127*un(e),r=325.4494125711974+.07943456536662342*(r=o-50)-28.0852963507957*un(r),n=255),[e,r,n,1]},cn=sn,ln=h.unpack,fn=Math.round,pn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var r,n=ln(t,"rgb"),o=n[0],a=n[2],i=1e3,u=4e4,s=.4;u-i>s;){var c=cn(r=.5*(u+i));c[2]/c[0]>=a/o?u=r:i=r}return fn(r)},hn=_,dn=w,mn=d,gn=pn;dn.prototype.temp=dn.prototype.kelvin=dn.prototype.temperature=function(){return gn(this._rgb)},hn.temp=hn.kelvin=hn.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(dn,[null].concat(t,["temp"])))},mn.format.temp=mn.format.kelvin=mn.format.temperature=sn;var vn=h.unpack,bn=Math.cbrt,yn=Math.pow,wn=Math.sign,Mn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=vn(t,"rgb"),n=r[0],o=r[1],a=r[2],i=[En(n/255),En(o/255),En(a/255)],u=i[0],s=i[1],c=i[2],l=bn(.4122214708*u+.5363325363*s+.0514459929*c),f=bn(.2119034982*u+.6806995451*s+.1073969566*c),p=bn(.0883024619*u+.2817188376*s+.6299787005*c);return[.2104542553*l+.793617785*f-.0040720468*p,1.9779984951*l-2.428592205*f+.4505937099*p,.0259040371*l+.7827717662*f-.808675766*p]},_n=Mn;function En(t){var e=Math.abs(t);return e<.04045?t/12.92:(wn(t)||1)*yn((e+.055)/1.055,2.4)}var xn=h.unpack,An=Math.pow,On=Math.sign,Nn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=(t=xn(t,"lab"))[0],n=t[1],o=t[2],a=An(r+.3963377774*n+.2158037573*o,3),i=An(r-.1055613458*n-.0638541728*o,3),u=An(r-.0894841775*n-1.291485548*o,3);return[255*Yn(4.0767416621*a-3.3077115913*i+.2309699292*u),255*Yn(-1.2684380046*a+2.6097574011*i-.3413193965*u),255*Yn(-.0041960863*a-.7034186147*i+1.707614701*u),t.length>3?t[3]:1]},kn=Nn;function Yn(t){var e=Math.abs(t);return e>.0031308?(On(t)||1)*(1.055*An(e,1/2.4)-.055):12.92*t}var Tn=h.unpack,Sn=h.type,Dn=_,Rn=w,jn=d,Cn=_n;Rn.prototype.oklab=function(){return Cn(this._rgb)},Dn.oklab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Rn,[null].concat(t,["oklab"])))},jn.format.oklab=kn,jn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Tn(t,"oklab"),"array"===Sn(t)&&3===t.length)return"oklab"}});var In=h.unpack,Ln=_n,Fn=cr,Pn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=In(t,"rgb"),n=r[0],o=r[1],a=r[2],i=Ln(n,o,a),u=i[0],s=i[1],c=i[2];return Fn(u,s,c)},Bn=Pn,Un=h.unpack,Hn=wr,zn=kn,$n=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=(t=Un(t,"lch"))[0],n=t[1],o=t[2],a=Hn(r,n,o),i=a[0],u=a[1],s=a[2],c=zn(i,u,s);return[c[0],c[1],c[2],t.length>3?t[3]:1]},Gn=$n,Vn=h.unpack,Wn=h.type,qn=_,Jn=w,Kn=d,Xn=Bn;Jn.prototype.oklch=function(){return Xn(this._rgb)},qn.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Jn,[null].concat(t,["oklch"])))},Kn.format.oklch=Gn,Kn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Vn(t,"oklch"),"array"===Wn(t)&&3===t.length)return"oklch"}});var Zn=w,Qn=h.type;Zn.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===Qn(t)?e?(this._rgb[3]=t,this):new Zn([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},w.prototype.clipped=function(){return this._rgb._clipped||!1};var to=w,eo=Ce;to.prototype.darken=function(t){void 0===t&&(t=1);var e=this,r=e.lab();return r[0]-=eo.Kn*t,new to(r,"lab").alpha(e.alpha(),!0)},to.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},to.prototype.darker=to.prototype.darken,to.prototype.brighter=to.prototype.brighten,w.prototype.get=function(t){var e=t.split("."),r=e[0],n=e[1],o=this[r]();if(n){var a=r.indexOf(n)-("ok"===r.substr(0,2)?2:0);if(a>-1)return o[a];throw new Error("unknown channel "+n+" in mode "+r)}return o};var ro=w,no=h.type,oo=Math.pow,ao=1e-7,io=20;ro.prototype.luminance=function(t){if(void 0!==t&&"number"===no(t)){if(0===t)return new ro([0,0,0,this._rgb[3]],"rgb");if(1===t)return new ro([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),r="rgb",n=io,o=function(e,a){var i=e.interpolate(a,.5,r),u=i.luminance();return Math.abs(t-u)<ao||!n--?i:u>t?o(e,i):o(i,a)},a=(e>t?o(new ro([0,0,0]),this):o(this,new ro([255,255,255]))).rgb();return new ro(a.concat([this._rgb[3]]))}return uo.apply(void 0,this._rgb.slice(0,3))};var uo=function(t,e,r){return.2126*(t=so(t))+.7152*(e=so(e))+.0722*(r=so(r))},so=function(t){return(t/=255)<=.03928?t/12.92:oo((t+.055)/1.055,2.4)},co={},lo=w,fo=h.type,po=co,ho=function(t,e,r){void 0===r&&(r=.5);for(var n=[],o=arguments.length-3;o-- >0;)n[o]=arguments[o+3];var a=n[0]||"lrgb";if(po[a]||n.length||(a=Object.keys(po)[0]),!po[a])throw new Error("interpolation mode "+a+" is not defined");return"object"!==fo(t)&&(t=new lo(t)),"object"!==fo(e)&&(e=new lo(e)),po[a](t,e,r).alpha(t.alpha()+r*(e.alpha()-t.alpha()))},mo=w,go=ho;mo.prototype.mix=mo.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return go.apply(void 0,[this,t,e].concat(r))};var vo=w;vo.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,r=e[3];return t?(this._rgb=[e[0]*r,e[1]*r,e[2]*r,r],this):new vo([e[0]*r,e[1]*r,e[2]*r,r],"rgb")};var bo=w,yo=Ce;bo.prototype.saturate=function(t){void 0===t&&(t=1);var e=this,r=e.lch();return r[1]+=yo.Kn*t,r[1]<0&&(r[1]=0),new bo(r,"lch").alpha(e.alpha(),!0)},bo.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var wo=w,Mo=h.type;wo.prototype.set=function(t,e,r){void 0===r&&(r=!1);var n=t.split("."),o=n[0],a=n[1],i=this[o]();if(a){var u=o.indexOf(a)-("ok"===o.substr(0,2)?2:0);if(u>-1){if("string"==Mo(e))switch(e.charAt(0)){case"+":case"-":i[u]+=+e;break;case"*":i[u]*=+e.substr(1);break;case"/":i[u]/=+e.substr(1);break;default:i[u]=+e}else{if("number"!==Mo(e))throw new Error("unsupported value for Color.set");i[u]=e}var s=new wo(i,o);return r?(this._rgb=s._rgb,this):s}throw new Error("unknown channel "+a+" in mode "+o)}return i};var _o=w,Eo=function(t,e,r){var n=t._rgb,o=e._rgb;return new _o(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"rgb")};co.rgb=Eo;var xo=w,Ao=Math.sqrt,Oo=Math.pow,No=function(t,e,r){var n=t._rgb,o=n[0],a=n[1],i=n[2],u=e._rgb,s=u[0],c=u[1],l=u[2];return new xo(Ao(Oo(o,2)*(1-r)+Oo(s,2)*r),Ao(Oo(a,2)*(1-r)+Oo(c,2)*r),Ao(Oo(i,2)*(1-r)+Oo(l,2)*r),"rgb")};co.lrgb=No;var ko=w,Yo=function(t,e,r){var n=t.lab(),o=e.lab();return new ko(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"lab")};co.lab=Yo;var To=w,So=function(t,e,r,n){var o,a,i,u,s,c,l,f,p,h,d,m,g;return"hsl"===n?(i=t.hsl(),u=e.hsl()):"hsv"===n?(i=t.hsv(),u=e.hsv()):"hcg"===n?(i=t.hcg(),u=e.hcg()):"hsi"===n?(i=t.hsi(),u=e.hsi()):"lch"===n||"hcl"===n?(n="hcl",i=t.hcl(),u=e.hcl()):"oklch"===n&&(i=t.oklch().reverse(),u=e.oklch().reverse()),"h"!==n.substr(0,1)&&"oklch"!==n||(s=(o=i)[0],l=o[1],p=o[2],c=(a=u)[0],f=a[1],h=a[2]),isNaN(s)||isNaN(c)?isNaN(s)?isNaN(c)?m=Number.NaN:(m=c,1!=p&&0!=p||"hsv"==n||(d=f)):(m=s,1!=h&&0!=h||"hsv"==n||(d=l)):m=s+r*(c>s&&c-s>180?c-(s+360):c<s&&s-c>180?c+360-s:c-s),void 0===d&&(d=l+r*(f-l)),g=p+r*(h-p),new To("oklch"===n?[g,d,m]:[m,d,g],n)},Do=So,Ro=function(t,e,r){return Do(t,e,r,"lch")};co.lch=Ro,co.hcl=Ro;var jo=w,Co=function(t,e,r){var n=t.num(),o=e.num();return new jo(n+r*(o-n),"num")};co.num=Co;var Io=So,Lo=function(t,e,r){return Io(t,e,r,"hcg")};co.hcg=Lo;var Fo=So,Po=function(t,e,r){return Fo(t,e,r,"hsi")};co.hsi=Po;var Bo=So,Uo=function(t,e,r){return Bo(t,e,r,"hsl")};co.hsl=Uo;var Ho=So,zo=function(t,e,r){return Ho(t,e,r,"hsv")};co.hsv=zo;var $o=w,Go=function(t,e,r){var n=t.oklab(),o=e.oklab();return new $o(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"oklab")};co.oklab=Go;var Vo=So,Wo=function(t,e,r){return Vo(t,e,r,"oklch")};co.oklch=Wo;var qo=w,Jo=h.clip_rgb,Ko=Math.pow,Xo=Math.sqrt,Zo=Math.PI,Qo=Math.cos,ta=Math.sin,ea=Math.atan2,ra=function(t,e,r){void 0===e&&(e="lrgb"),void 0===r&&(r=null);var n=t.length;r||(r=Array.from(new Array(n)).map((function(){return 1})));var o=n/r.reduce((function(t,e){return t+e}));if(r.forEach((function(t,e){r[e]*=o})),t=t.map((function(t){return new qo(t)})),"lrgb"===e)return na(t,r);for(var a=t.shift(),i=a.get(e),u=[],s=0,c=0,l=0;l<i.length;l++)if(i[l]=(i[l]||0)*r[0],u.push(isNaN(i[l])?0:r[0]),"h"===e.charAt(l)&&!isNaN(i[l])){var f=i[l]/180*Zo;s+=Qo(f)*r[0],c+=ta(f)*r[0]}var p=a.alpha()*r[0];t.forEach((function(t,n){var o=t.get(e);p+=t.alpha()*r[n+1];for(var a=0;a<i.length;a++)if(!isNaN(o[a]))if(u[a]+=r[n+1],"h"===e.charAt(a)){var l=o[a]/180*Zo;s+=Qo(l)*r[n+1],c+=ta(l)*r[n+1]}else i[a]+=o[a]*r[n+1]}));for(var h=0;h<i.length;h++)if("h"===e.charAt(h)){for(var d=ea(c/u[h],s/u[h])/Zo*180;d<0;)d+=360;for(;d>=360;)d-=360;i[h]=d}else i[h]=i[h]/u[h];return p/=n,new qo(i,e).alpha(p>.99999?1:p,!0)},na=function(t,e){for(var r=t.length,n=[0,0,0,0],o=0;o<t.length;o++){var a=t[o],i=e[o]/r,u=a._rgb;n[0]+=Ko(u[0],2)*i,n[1]+=Ko(u[1],2)*i,n[2]+=Ko(u[2],2)*i,n[3]+=u[3]*i}return n[0]=Xo(n[0]),n[1]=Xo(n[1]),n[2]=Xo(n[2]),n[3]>.9999999&&(n[3]=1),new qo(Jo(n))},oa=_,aa=h.type,ia=Math.pow,ua=function(t){var e="rgb",r=oa("#ccc"),n=0,o=[0,1],a=[],i=[0,0],u=!1,s=[],c=!1,l=0,f=1,p=!1,h={},d=!0,m=1,g=function(t){if((t=t||["#fff","#000"])&&"string"===aa(t)&&oa.brewer&&oa.brewer[t.toLowerCase()]&&(t=oa.brewer[t.toLowerCase()]),"array"===aa(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=oa(t[e]);a.length=0;for(var r=0;r<t.length;r++)a.push(r/(t.length-1))}return M(),s=t},v=function(t){if(null!=u){for(var e=u.length-1,r=0;r<e&&t>=u[r];)r++;return r-1}return 0},b=function(t){return t},y=function(t){return t},w=function(t,n){var o,c;if(null==n&&(n=!1),isNaN(t)||null===t)return r;c=n?t:u&&u.length>2?v(t)/(u.length-2):f!==l?(t-l)/(f-l):1,c=y(c),n||(c=b(c)),1!==m&&(c=ia(c,m)),c=i[0]+c*(1-i[0]-i[1]),c=Math.min(1,Math.max(0,c));var p=Math.floor(1e4*c);if(d&&h[p])o=h[p];else{if("array"===aa(s))for(var g=0;g<a.length;g++){var w=a[g];if(c<=w){o=s[g];break}if(c>=w&&g===a.length-1){o=s[g];break}if(c>w&&c<a[g+1]){c=(c-w)/(a[g+1]-w),o=oa.interpolate(s[g],s[g+1],c,e);break}}else"function"===aa(s)&&(o=s(c));d&&(h[p]=o)}return o},M=function(){return h={}};g(t);var _=function(t){var e=oa(w(t));return c&&e[c]?e[c]():e};return _.classes=function(t){if(null!=t){if("array"===aa(t))u=t,o=[t[0],t[t.length-1]];else{var e=oa.analyze(o);u=0===t?[e.min,e.max]:oa.limits(e,"e",t)}return _}return u},_.domain=function(t){if(!arguments.length)return o;l=t[0],f=t[t.length-1],a=[];var e=s.length;if(t.length===e&&l!==f)for(var r=0,n=Array.from(t);r<n.length;r+=1){var i=n[r];a.push((i-l)/(f-l))}else{for(var u=0;u<e;u++)a.push(u/(e-1));if(t.length>2){var c=t.map((function(e,r){return r/(t.length-1)})),p=t.map((function(t){return(t-l)/(f-l)}));p.every((function(t,e){return c[e]===t}))||(y=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=p[e+1];)e++;var r=(t-p[e])/(p[e+1]-p[e]);return c[e]+r*(c[e+1]-c[e])})}}return o=[l,f],_},_.mode=function(t){return arguments.length?(e=t,M(),_):e},_.range=function(t,e){return g(t),_},_.out=function(t){return c=t,_},_.spread=function(t){return arguments.length?(n=t,_):n},_.correctLightness=function(t){return null==t&&(t=!0),p=t,M(),b=p?function(t){for(var e=w(0,!0).lab()[0],r=w(1,!0).lab()[0],n=e>r,o=w(t,!0).lab()[0],a=e+(r-e)*t,i=o-a,u=0,s=1,c=20;Math.abs(i)>.01&&c-- >0;)n&&(i*=-1),i<0?(u=t,t+=.5*(s-t)):(s=t,t+=.5*(u-t)),o=w(t,!0).lab()[0],i=o-a;return t}:function(t){return t},_},_.padding=function(t){return null!=t?("number"===aa(t)&&(t=[t,t]),i=t,_):i},_.colors=function(e,r){arguments.length<2&&(r="hex");var n=[];if(0===arguments.length)n=s.slice(0);else if(1===e)n=[_(.5)];else if(e>1){var a=o[0],i=o[1]-a;n=sa(0,e,!1).map((function(t){return _(a+t/(e-1)*i)}))}else{t=[];var c=[];if(u&&u.length>2)for(var l=1,f=u.length,p=1<=f;p?l<f:l>f;p?l++:l--)c.push(.5*(u[l-1]+u[l]));else c=o;n=c.map((function(t){return _(t)}))}return oa[r]&&(n=n.map((function(t){return t[r]()}))),n},_.cache=function(t){return null!=t?(d=t,_):d},_.gamma=function(t){return null!=t?(m=t,_):m},_.nodata=function(t){return null!=t?(r=oa(t),_):r},_};function sa(t,e,r){for(var n=[],o=t<e,a=r?o?e+1:e-1:e,i=t;o?i<a:i>a;o?i++:i--)n.push(i);return n}var ca=w,la=ua,fa=function(t){for(var e=[1,1],r=1;r<t;r++){for(var n=[1],o=1;o<=e.length;o++)n[o]=(e[o]||0)+e[o-1];e=n}return e},pa=function(t){var e,r,n,o,a,i,u;if(2===(t=t.map((function(t){return new ca(t)}))).length)e=t.map((function(t){return t.lab()})),a=e[0],i=e[1],o=function(t){var e=[0,1,2].map((function(e){return a[e]+t*(i[e]-a[e])}));return new ca(e,"lab")};else if(3===t.length)r=t.map((function(t){return t.lab()})),a=r[0],i=r[1],u=r[2],o=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*a[e]+2*(1-t)*t*i[e]+t*t*u[e]}));return new ca(e,"lab")};else if(4===t.length){var s;n=t.map((function(t){return t.lab()})),a=n[0],i=n[1],u=n[2],s=n[3],o=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*(1-t)*a[e]+3*(1-t)*(1-t)*t*i[e]+3*(1-t)*t*t*u[e]+t*t*t*s[e]}));return new ca(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,l,f;c=t.map((function(t){return t.lab()})),f=t.length-1,l=fa(f),o=function(t){var e=1-t,r=[0,1,2].map((function(r){return c.reduce((function(n,o,a){return n+l[a]*Math.pow(e,f-a)*Math.pow(t,a)*o[r]}),0)}));return new ca(r,"lab")}}return o},ha=function(t){var e=pa(t);return e.scale=function(){return la(e)},e},da=_,ma=function(t,e,r){if(!ma[r])throw new Error("unknown blend mode "+r);return ma[r](t,e)},ga=function(t){return function(e,r){var n=da(r).rgb(),o=da(e).rgb();return da.rgb(t(n,o))}},va=function(t){return function(e,r){var n=[];return n[0]=t(e[0],r[0]),n[1]=t(e[1],r[1]),n[2]=t(e[2],r[2]),n}},ba=function(t){return t},ya=function(t,e){return t*e/255},wa=function(t,e){return t>e?e:t},Ma=function(t,e){return t>e?t:e},_a=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},Ea=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},xa=function(t,e){return 255*(1-(1-e/255)/(t/255))},Aa=function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t};ma.normal=ga(va(ba)),ma.multiply=ga(va(ya)),ma.screen=ga(va(_a)),ma.overlay=ga(va(Ea)),ma.darken=ga(va(wa)),ma.lighten=ga(va(Ma)),ma.dodge=ga(va(Aa)),ma.burn=ga(va(xa));for(var Oa=ma,Na=h.type,ka=h.clip_rgb,Ya=h.TWOPI,Ta=Math.pow,Sa=Math.sin,Da=Math.cos,Ra=_,ja=function(t,e,r,n,o){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===r&&(r=1),void 0===n&&(n=1),void 0===o&&(o=[0,1]);var a,i=0;"array"===Na(o)?a=o[1]-o[0]:(a=0,o=[o,o]);var u=function(u){var s=Ya*((t+120)/360+e*u),c=Ta(o[0]+a*u,n),l=(0!==i?r[0]+u*i:r)*c*(1-c)/2,f=Da(s),p=Sa(s);return Ra(ka([255*(c+l*(-.14861*f+1.78277*p)),255*(c+l*(-.29227*f-.90649*p)),255*(c+l*(1.97294*f)),1]))};return u.start=function(e){return null==e?t:(t=e,u)},u.rotations=function(t){return null==t?e:(e=t,u)},u.gamma=function(t){return null==t?n:(n=t,u)},u.hue=function(t){return null==t?r:("array"===Na(r=t)?0==(i=r[1]-r[0])&&(r=r[1]):i=0,u)},u.lightness=function(t){return null==t?o:("array"===Na(t)?(o=t,a=t[1]-t[0]):(o=[t,t],a=0),u)},u.scale=function(){return Ra.scale(u)},u.hue(r),u},Ca=w,Ia="0123456789abcdef",La=Math.floor,Fa=Math.random,Pa=function(){for(var t="#",e=0;e<6;e++)t+=Ia.charAt(La(16*Fa()));return new Ca(t,"hex")},Ba=u,Ua=Math.log,Ha=Math.pow,za=Math.floor,$a=Math.abs,Ga=function(t,e){void 0===e&&(e=null);var r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Ba(t)&&(t=Object.values(t)),t.forEach((function(t){e&&"object"===Ba(t)&&(t=t[e]),null==t||isNaN(t)||(r.values.push(t),r.sum+=t,t<r.min&&(r.min=t),t>r.max&&(r.max=t),r.count+=1)})),r.domain=[r.min,r.max],r.limits=function(t,e){return Va(r,t,e)},r},Va=function(t,e,r){void 0===e&&(e="equal"),void 0===r&&(r=7),"array"==Ba(t)&&(t=Ga(t));var n=t.min,o=t.max,a=t.values.sort((function(t,e){return t-e}));if(1===r)return[n,o];var i=[];if("c"===e.substr(0,1)&&(i.push(n),i.push(o)),"e"===e.substr(0,1)){i.push(n);for(var u=1;u<r;u++)i.push(n+u/r*(o-n));i.push(o)}else if("l"===e.substr(0,1)){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");var s=Math.LOG10E*Ua(n),c=Math.LOG10E*Ua(o);i.push(n);for(var l=1;l<r;l++)i.push(Ha(10,s+l/r*(c-s)));i.push(o)}else if("q"===e.substr(0,1)){i.push(n);for(var f=1;f<r;f++){var p=(a.length-1)*f/r,h=za(p);if(h===p)i.push(a[h]);else{var d=p-h;i.push(a[h]*(1-d)+a[h+1]*d)}}i.push(o)}else if("k"===e.substr(0,1)){var m,g=a.length,v=new Array(g),b=new Array(r),y=!0,w=0,M=null;(M=[]).push(n);for(var _=1;_<r;_++)M.push(n+_/r*(o-n));for(M.push(o);y;){for(var E=0;E<r;E++)b[E]=0;for(var x=0;x<g;x++)for(var A=a[x],O=Number.MAX_VALUE,N=void 0,k=0;k<r;k++){var Y=$a(M[k]-A);Y<O&&(O=Y,N=k),b[N]++,v[x]=N}for(var T=new Array(r),S=0;S<r;S++)T[S]=null;for(var D=0;D<g;D++)null===T[m=v[D]]?T[m]=a[D]:T[m]+=a[D];for(var R=0;R<r;R++)T[R]*=1/b[R];y=!1;for(var j=0;j<r;j++)if(T[j]!==M[j]){y=!0;break}M=T,++w>200&&(y=!1)}for(var C={},I=0;I<r;I++)C[I]=[];for(var L=0;L<g;L++)C[m=v[L]].push(a[L]);for(var F=[],P=0;P<r;P++)F.push(C[P][0]),F.push(C[P][C[P].length-1]);F=F.sort((function(t,e){return t-e})),i.push(F[0]);for(var B=1;B<F.length;B+=2){var U=F[B];isNaN(U)||-1!==i.indexOf(U)||i.push(U)}}return i},Wa={analyze:Ga,limits:Va},qa=w,Ja=function(t,e){t=new qa(t),e=new qa(e);var r=t.luminance(),n=e.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)},Ka=w,Xa=Math.sqrt,Za=Math.pow,Qa=Math.min,ti=Math.max,ei=Math.atan2,ri=Math.abs,ni=Math.cos,oi=Math.sin,ai=Math.exp,ii=Math.PI,ui=function(t,e,r,n,o){void 0===r&&(r=1),void 0===n&&(n=1),void 0===o&&(o=1);var a=function(t){return 360*t/(2*ii)},i=function(t){return 2*ii*t/360};t=new Ka(t),e=new Ka(e);var u=Array.from(t.lab()),s=u[0],c=u[1],l=u[2],f=Array.from(e.lab()),p=f[0],h=f[1],d=f[2],m=(s+p)/2,g=(Xa(Za(c,2)+Za(l,2))+Xa(Za(h,2)+Za(d,2)))/2,v=.5*(1-Xa(Za(g,7)/(Za(g,7)+Za(25,7)))),b=c*(1+v),y=h*(1+v),w=Xa(Za(b,2)+Za(l,2)),M=Xa(Za(y,2)+Za(d,2)),_=(w+M)/2,E=a(ei(l,b)),x=a(ei(d,y)),A=E>=0?E:E+360,O=x>=0?x:x+360,N=ri(A-O)>180?(A+O+360)/2:(A+O)/2,k=1-.17*ni(i(N-30))+.24*ni(i(2*N))+.32*ni(i(3*N+6))-.2*ni(i(4*N-63)),Y=O-A;Y=ri(Y)<=180?Y:O<=A?Y+360:Y-360,Y=2*Xa(w*M)*oi(i(Y)/2);var T=p-s,S=M-w,D=1+.015*Za(m-50,2)/Xa(20+Za(m-50,2)),R=1+.045*_,j=1+.015*_*k,C=30*ai(-Za((N-275)/25,2)),I=-2*Xa(Za(_,7)/(Za(_,7)+Za(25,7)))*oi(2*i(C)),L=Xa(Za(T/(r*D),2)+Za(S/(n*R),2)+Za(Y/(o*j),2)+I*(S/(n*R))*(Y/(o*j)));return ti(0,Qa(100,L))},si=w,ci=function(t,e,r){void 0===r&&(r="lab"),t=new si(t),e=new si(e);var n=t.get(r),o=e.get(r),a=0;for(var i in n){var u=(n[i]||0)-(o[i]||0);a+=u*u}return Math.sqrt(a)},li=w,fi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(li,[null].concat(t))),!0}catch(t){return!1}},pi=_,hi=ua,di={cool:function(){return hi([pi.hsl(180,1,.9),pi.hsl(250,.7,.4)])},hot:function(){return hi(["#000","#f00","#ff0","#fff"]).mode("rgb")}},mi={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},gi=0,vi=Object.keys(mi);gi<vi.length;gi+=1){var bi=vi[gi];mi[bi.toLowerCase()]=mi[bi]}var yi=mi,wi=_;return wi.average=ra,wi.bezier=ha,wi.blend=Oa,wi.cubehelix=ja,wi.mix=wi.interpolate=ho,wi.random=Pa,wi.scale=ua,wi.analyze=Wa.analyze,wi.contrast=Ja,wi.deltaE=ui,wi.distance=ci,wi.limits=Wa.limits,wi.valid=fi,wi.scales=di,wi.colors=Ir,wi.brewer=yi,wi}()}(Ec);var xc=Ec.exports;function Ac(t){let{dataset:e,visAxes:r,userAxes:n,overrideKeys:o}=t;n=n||{},o=o||{};const a={},i={},u={};Oe(r,((t,r)=>{if(n[r]){let u=n[r];if(t.optional&&t.overrideOptionalKey&&!o[t.overrideOptionalKey])return;(function(t){G(t)||(t=[t]);for(var r=0;r<t.length;r++)if(!e.hasColumn(t[r]))return!1;return!0})(u)&&c(t,u,!0)&&!!t.multiple===G(u)&&(i[r]=t.multiple&&!G(u)?[u]:u,G(u)||(u=[u]),Oe(u,(function(t){a[t]=!0})))}}));var s=[];return Oe(r,(t=>{t.optional&&t.overrideOptionalKey&&o[t.overrideOptionalKey]&&(t.optional=!1)})),Oe(r,((t,n)=>{if(s.push(n),!i[n])if(t.optional)i[n]=!1;else if(t.multiple){const o=function(t){let e=0;return Oe(r,(function(r,n){s.indexOf(n)>-1||function(t,e){if(void 0===t&&void 0!==e)return!1;if(void 0===e&&void 0!==t)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(-1===e.indexOf(t[r]))return!1;return!0}(r.accepts,t)&&"string"!=typeof e&&(r.optional||(r.multiple?e="multiple":e+=1))})),e}(t.accepts);let u=function(e){let r=0;return e.eachColumn((e=>{c(t,e)&&r++})),r}(e);i[n]=[],e.eachColumn((function(e){"multiple"===o&&i[n].length||u<=o||c(t,e)&&(a[e.name()]=!0,i[n].push(e.name()),u--)}))}else{const r=Se(e.columns(),(e=>c(t,e)));let o;if(t.preferred){const e=new RegExp(t.preferred,"i");o=Ae(r,(function(t){return e.test(t.name())||t.title()!==t.name()&&e.test(t.title())}))}if(o||(o=r[0]),o)a[o.name()]=!0,i[n]=o.name();else if(Ee(t.accepts,"text")>=0){const r=Se(e.columns(),(function(e){return Ee(t.accepts,e.type())>=0}));if(r.length)i[n]=r[0].name();else{const t=Hr(n,Ne(ir(e.numRows()),(function(t){return(t>25?String.fromCharCode(64+t/26):"")+String.fromCharCode(65+t%26)})),"text");e.add(t),a[t.name()]=!0,i[n]=t.name()}}else if(Ee(t.accepts,"number")>=0){const r=Se(e.columns(),(function(e){return Ee(t.accepts,e.type())>=0}));r.length&&(i[n]=r[0].name())}}})),Oe(i,((t,r)=>{G(t)?(u[r]=[],Oe(t,(function(t,n){u[r][n]=!1!==t?e.column(t):null}))):u[r]=!1!==t?e.column(t):null})),{axes:i,axesAsColumns:u,usedColumns:a};function c(t,r,n){G(r)||(r=[r]),r=r.map((t=>"string"==typeof t?e.column(t):t));for(var o=0;o<r.length;o++)if(!n&&a[r[o].name()]||-1===Ee(t.accepts,r[o].type()))return!1;return!0}}const Oc=function(){}.prototype;Yt(Oc,{__rejectRenderedAfter:5e3,__resolveRenderedAfter:300,setup(){this.__renderEvents={resolve:gc(),reject:gc()},this.renderingComplete=he(this.__renderingComplete,this.__resolveRenderedAfter)},__beforeRender(){return this.__rejectTimeout&&clearTimeout(this.__rejectTimeout),this.__rejectTimeout=setTimeout((()=>{this.__renderEvents.reject.fire(new Error(`timeout after ${this.__rejectRenderedAfter}ms`))}),this.__rejectRenderedAfter),this.__rendered=!1,this.__colors={},this.__callbacks={},window.parent&&window.parent.postMessage&&window.parent.postMessage("datawrapper:vis:init","*"),this},render(t){t.innerHTML="implement me!"},theme(t){return arguments.length?(this.__theme=t,this):"string"==typeof this.__theme?dw.theme(this.__theme):this.__theme},libraries(t){return arguments.length?(this.__libraries=t,this):this.__libraries||{}},target(t){return arguments.length?(this.__target=t,this):this.__target},size(t,e){const r=this;return arguments.length?(r.__w=t,r.__h=e,r):[r.__w,r.__h]},get(t,e){return ln(this.chart().get(),"metadata.visualize"+(t?"."+t:""),e)},chart(t){var e=this;if(!arguments.length)return e.__chart;e.dataset=t.dataset(),e.theme(t.theme()),e.__chart=t,e.__axisCache=void 0,function(t,e){if(!e.filterColumns)return e;const r=t.getMetadata("data.column-format",{}),n=Object.fromEntries(Object.entries(r).map((t=>{let[e,r]=t;return[e,!!r.ignore]})));e.filterColumns(n)}(t,e.dataset);const{numeral:r}=e.libraries();if(r&&t.locales&&t.locales.numeral){try{r.register("locale","dw",t.locales.numeral)}catch(t){if(!(t instanceof TypeError))throw t}r.locale("dw")}return e},container(t){if(!arguments.length)return this.__container;this.__container=t},outerContainer(t){if(!arguments.length)return this.__outerContainer;this.__outerContainer=t},axes(t,e){const r=this,n=ln(r.chart().get(),"metadata.axes",{}),o=cn(r.meta.axes),a=Object.fromEntries(Object.entries(o).filter((t=>{let[,e]=t;return e.optional&&e.overrideOptionalKey})).map((t=>{let[,e]=t;return[e.overrideOptionalKey,r.chart().getMetadata(e.overrideOptionalKey,!1)]})));if(!e&&r.__axisCache&&pt(r.__axisCache.userAxes,n)&&pt(r.__axisCache.overrideKeys,a)&&r.__axisCache.transpose===r.chart().getMetadata("data.transpose"))return r.__axisCache[t?"axesAsColumns":"axes"];const i=r.chart().dataset(),{axes:u,axesAsColumns:s}=Ac({dataset:i,userAxes:n,visAxes:o,overrideKeys:a});return r.__axisCache={axes:u,axesAsColumns:s,userAxes:cn(n),overrideKeys:a,transpose:r.chart().getMetadata("data.transpose")},r.__axisCache[t?"axesAsColumns":"axes"]},keys(){const t=this.axes();if(t.labels){const e=this.dataset.column(t.labels),r=[];return e.each((t=>{r.push(String(t))})),r}return[]},keyLabel:t=>t,reset(){this.clear();this.target().innerHTML="",Lo(".chart .filter-ui"),Lo(".chart .legend")},clear(){},__renderingComplete(){this.__renderEvents.resolve.fire(),window.parent&&window.parent.postMessage&&setTimeout((function(){window.parent.postMessage("datawrapper:vis:rendered","*")}),200),clearTimeout(this.__rejectTimeout),this.__rendered=!0,this.postRendering()},postRendering(){},rendered(){return new Promise(((t,e)=>{this.__renderEvents.resolve.add(t),this.__renderEvents.reject.add(e)}))},supportsSmartRendering:()=>!1,colorMode(t){if(!arguments.length)return this.__colorMode;this.__colorMode=t},colorMap(t){var e=this;if(!arguments.length)return function(){let t=arguments.length<=0?void 0:arguments[0];const r=e.__darkMode&&e.__darkModeColorMap;return e.__colors[t]=1,e.__colorMap?(r&&(t=e.__darkModeColorMap(...arguments)),e.__colorMap(t)):(r&&(t=e.__darkModeColorMap(...arguments)),t)};this.__colorMap=t},initDarkMode(t,e){this.__onDarkModeChange=t,this.__darkModeColorMap=e},darkMode(t){if(void 0===this.__darkMode&&(this.__darkMode=!1),!arguments.length)return this.__darkMode;this.__onDarkModeChange&&(this.__darkMode=t,this.__onDarkModeChange(t))},colorsUsed(){return Object.keys(this.__colors)},on(t,e){this.__callbacks[t]||(this.__callbacks[t]=[]),this.__callbacks[t].push(e)},fire(t,e){this.__callbacks&&this.__callbacks[t]&&this.__callbacks[t].forEach((function(t){"function"==typeof t&&t(e)}))},showError(t){const{allowEditing:e}=this.chart().flags();e&&(this.container().innerHTML=`<div class="error"><p>${t}</p></div>`),console.warn(t)}});const Nc={};function kc(t,e){if(!Nc[t]){console.warn("unknown visualization type: "+t);const e=Object.keys(Nc);return e.length>0&&console.warn("try one of these instead: "+e.join(", ")),!1}const r=Rt(Oc),n=function(t){const e=[];for(;"base"!==t.parentVis;)t=Nc[t.parentVis],e.push({id:t.parentVis,vis:t});return e.reverse()}(Nc[t]);return n.push({id:t,vis:Nc[t]}),n.forEach((n=>{Object.assign(r,"function"==typeof n.vis.init?n.vis.init({target:e}):n.vis.init,{id:t})})),r.libraries(kc.libraries),e&&r.target(e),r.setup(),r}kc.register=function(t){let e,r;2===arguments.length?(e="base",r=arguments[1]):3===arguments.length&&(e=arguments[1],r=arguments[2]),Nc[t]={parentVis:e,init:r}},kc.has=function(t){return void 0!==Nc[t]},kc.libraries={numeral:_c,chroma:xc},kc.base=Oc;const Yc={};function Tc(t){return Yc[t]}Tc.register=function(t,e){Yc[t]=e};const Sc={};function Dc(t){return Sc[t]}Dc.register=function(t,e){Sc[t]=e},Dc.has=function(t){return void 0!==Sc[t]};let Rc=[];Hr.types=Yr;const jc={version:"chart-core@8.47.0",dataset:fr,column:Hr,datasource:{delimited:Wr,json:Kr},utils:Po,chart:function(t){let e,r,n,o,a,i={};const u=gc(),s=gc(),c={};let l,f={};const p={get:(e,r)=>ln(t,e,r),getMetadata:(e,r)=>ln(t,`metadata.${e}`,r),set(e,r){return da(t,e,r)&&u.fire(p,e,r),this},setMetadata:(t,e)=>p.set(`metadata.${t}`,e),getElementBounds(t){const e=a.target().getBoundingClientRect(),r=t.getBoundingClientRect();return{top:r.top-e.top,right:r.right-e.left,bottom:r.bottom-e.top,left:r.left-e.left,width:r.width,height:r.height}},load(t,e){const r={chartId:p.get("id"),firstRowIsHeader:p.get("metadata.data.horizontal-header",!0),transpose:p.get("metadata.data.transpose",!1)};!t&&""!==t||e?r.url=e||"data.csv":r.csv=t;return(p.get("metadata.data.json")?Kr(r):Wr(r)).dataset().then((t=>(this.dataset(t),s.fire(p,t),t)))},dataset(t){return arguments.length?(!0!==t&&(l=t),e=p.get("metadata.data.json")?l:function(t,e){var r=t.getMetadata("data.column-order",[]);return r.length&&r.length===e.numColumns()&&e.columnOrder(r),e}(p,vc(p,yc(p,l))),!0===t?e:p):e},setDataset(t){e=t},theme(t){return arguments.length?(r=t,p):r||{}},vis(t){return arguments.length?(a=t,a.chart(p),p):a},hasHighlight(){var t=p.get("metadata.visualize.highlighted-series");return G(t)&&t.length>0},isHighlighted(t){if(void 0===N(t))return!1;const e=p.get("metadata.visualize.highlighted-series"),r=jo(t);return!G(e)||0===e.length||Ee(e,r)>=0},locale(t,e){return arguments.length?(o=t.replace("_","-"),o||(o="en-US"),"function"==typeof e&&e(),p):o},metricPrefix(t){return arguments.length?(n=t,p):n},inEditor:()=>{try{return window.parent!==window&&window.parent.dw&&window.parent.dw.backend&&window.parent.dw.backend.hooks}catch(t){return!1}},createPostEvent(){const t=p.get("id"),{isIframe:e}=i;return function(t,e){const r=e?window.parent:window;return function(e,n){if(r&&r.postMessage){const o={source:"datawrapper",chartId:t,type:e,data:n};r.postMessage(o,"*")}}}(t,e)},flags(t){return arguments.length?(i=t,p):i},render(t){if(!a||!r||!e)throw new Error("cannot render the chart!");const n=i.isIframe,o=p.vis().target();a.chart(p),a.container(o),a.outerContainer(t);const u=Io(o),s=n?Co():p.getMetadata("publish.chart-height")||400,c=p.getHeightMode();if("fixed"===c?u<=0:u<=0||s<=0)return console.warn("Aborting chart rendering due to invalid container dimensions"),window.clearInterval(this.__resizingInterval),this.__resizingInterval=setInterval(f,1e3),void f();t.classList.toggle("vis-height-fit","fit"===c),t.classList.toggle("vis-height-fixed","fixed"===c);const l=ln(r,`vis.${p.type}.mobileBreakpoint`,450);function f(){if(i&&i.fitchart)return;let t;if("fit"===p.getHeightMode()){if(p.inEditor()||!p.getMetadata("publish.chart-height"))return;t=pn()+p.getMetadata("publish.chart-height")}else t=fn(document.querySelector("html"),!0);if(Math.round(window.innerHeight)===Math.round(t))return;const{previewId:e}=i;window.parent.postMessage({"datawrapper-height":{[p.get().id]:t,...e?{previewId:e}:{}}},"*"),window.parent.postMessage({sentinel:"amp",type:"embed-size",height:t},"*"),window.parent.postMessage(JSON.stringify({src:location.href,context:"iframe.resize",height:t}),"*"),"function"==typeof window.datawrapperHeightCallback&&window.datawrapperHeightCallback(t)}return t.classList.toggle("is-mobile",t.clientWidth<=l),t.classList.add("vis-"+a.id),a.reset(o),a.size(u,s),a.__beforeRender(),a.render(o),n&&(window.clearInterval(this.__resizingInterval),this.__resizingInterval=setInterval(f,p.inEditor()?25:1e3),f()),a.rendered()},getHeightMode:()=>Fo({themeData:a.theme(),visualizationMeta:a.meta,renderFlags:i}),attributes(e){if(arguments.length){const r=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return mc(t,e,r?new Set(r):null)}(t,e);return t=e,wc(r).forEach((t=>{u.fire(p,t,ln(e,t))})),p}return t},onChange:u.add,onDatasetChange:s.add,dataCellChanged(t,r){const n=p.get("metadata.data.changes",[]),o=p.get("metadata.data.transpose",!1);let a=!1;const i=e.columnOrder();return t=i[t],n.forEach((e=>{let n="row",i="column";o&&(n="column",i="row"),t===e[i]&&e[n]===r&&(a=!0)})),a},asset(t,e){if(1===arguments.length)return c[t];c[t]=e},translations(t){return 0===arguments.length?f:(f=t,this)},translate(t){if(!f[t])return"MISSING: "+t;var e=f[t];return"string"==typeof e&&arguments.length>1&&(e=e.replace(/\$(\d)/g,((t,e)=>(e=1+Number(e),void 0===arguments[e]?t:arguments[e])))),e}};return t.language&&p.locale(t.language),p},visualization:kc,theme:Tc,block:Dc,notify:function(t){t.remove=()=>{Rc=Rc.filter((e=>e!==t)),window.parent.dw.backend.fire("notifications.change",Rc)},Rc.push(t);try{return window.parent.dw.backend.fire("notifications.change",Rc),t.remove}catch(t){}}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=jc),exports.dw=jc):window.dw=jc}();
//# sourceMappingURL=dw-2.0.min.js.map
