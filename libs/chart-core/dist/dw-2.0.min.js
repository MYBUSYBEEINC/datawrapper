!function(){"use strict";function t(t){try{if(","===t.localeData().delimiters.decimal)return";"}catch(t){}return","}function e(t,{delimiter:e=",",quoteChar:r='"',lineTerminator:n="\n"}={}){return t.map(t=>t.map(t=>function(t,e,r){if(null==t||"number"==typeof t&&!Number.isFinite(t))return"";const n=String(t);return-1!==n.indexOf(r)?r+n.replace(new RegExp(r,"g"),r+r)+r:new RegExp(`[\n\r${e}]`).test(n)?r+n+r:n}(t,e,r)).join(e)).join(n)}var r={formatDelimited:e,guessDelimiterFromLocale:t},n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},i=Array.prototype,o=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,s=i.push,u=i.slice,c=o.toString,l=o.hasOwnProperty,f="undefined"!=typeof ArrayBuffer,p="undefined"!=typeof DataView,h=Array.isArray,d=Object.keys,m=Object.create,v=f&&ArrayBuffer.isView,g=isNaN,y=isFinite,b=!{toString:null}.propertyIsEnumerable("toString"),w=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],M=Math.pow(2,53)-1;function _(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=n,t.apply(this,o)}}function Y(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function E(t){return null===t}function x(t){return void 0===t}function O(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)}function A(t){var e="[object "+t+"]";return function(t){return c.call(t)===e}}var N=A("String"),T=A("Number"),S=A("Date"),j=A("RegExp"),D=A("Error"),C=A("Symbol"),k=A("ArrayBuffer"),R=A("Function"),I=n.document&&n.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof I&&(R=function(t){return"function"==typeof t||!1});var L=R,F=A("Object"),P=p&&F(new DataView(new ArrayBuffer(8))),B="undefined"!=typeof Map&&F(new Map),U=A("DataView");var H=P?function(t){return null!=t&&L(t.getInt8)&&k(t.buffer)}:U,z=h||A("Array");function $(t,e){return null!=t&&l.call(t,e)}var V=A("Arguments");!function(){V(arguments)||(V=function(t){return $(t,"callee")})}();var W=V;function q(t){return!C(t)&&y(t)&&!isNaN(parseFloat(t))}function K(t){return T(t)&&g(t)}function G(t){return function(){return t}}function X(t){return function(e){var r=t(e);return"number"==typeof r&&r>=0&&r<=M}}function J(t){return function(e){return null==e?void 0:e[t]}}var Q=J("byteLength"),Z=X(Q),tt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var et=f?function(t){return v?v(t)&&!H(t):Z(t)&&tt.test(c.call(t))}:G(!1),rt=J("length");function nt(t,e){e=function(t){for(var e={},r=t.length,n=0;n<r;++n)e[t[n]]=!0;return{contains:function(t){return e[t]},push:function(r){return e[r]=!0,t.push(r)}}}(e);var r=w.length,n=t.constructor,i=L(n)&&n.prototype||o,a="constructor";for($(t,a)&&!e.contains(a)&&e.push(a);r--;)(a=w[r])in t&&t[a]!==i[a]&&!e.contains(a)&&e.push(a)}function it(t){if(!Y(t))return[];if(d)return d(t);var e=[];for(var r in t)$(t,r)&&e.push(r);return b&&nt(t,e),e}function ot(t,e){var r=it(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var a=r[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}function at(t){return t instanceof at?t:this instanceof at?void(this._wrapped=t):new at(t)}function st(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Q(t))}at.VERSION="1.13.1",at.prototype.value=function(){return this._wrapped},at.prototype.valueOf=at.prototype.toJSON=at.prototype.value,at.prototype.toString=function(){return String(this._wrapped)};function ut(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&function t(e,r,n,i){e instanceof at&&(e=e._wrapped);r instanceof at&&(r=r._wrapped);var o=c.call(e);if(o!==c.call(r))return!1;if(P&&"[object Object]"==o&&H(e)){if(!H(r))return!1;o="[object DataView]"}switch(o){case"[object RegExp]":case"[object String]":return""+e==""+r;case"[object Number]":return+e!=+e?+r!=+r:0==+e?1/+e==1/r:+e==+r;case"[object Date]":case"[object Boolean]":return+e==+r;case"[object Symbol]":return a.valueOf.call(e)===a.valueOf.call(r);case"[object ArrayBuffer]":case"[object DataView]":return t(st(e),st(r),n,i)}var s="[object Array]"===o;if(!s&&et(e)){if(Q(e)!==Q(r))return!1;if(e.buffer===r.buffer&&e.byteOffset===r.byteOffset)return!0;s=!0}if(!s){if("object"!=typeof e||"object"!=typeof r)return!1;var u=e.constructor,l=r.constructor;if(u!==l&&!(L(u)&&u instanceof u&&L(l)&&l instanceof l)&&"constructor"in e&&"constructor"in r)return!1}i=i||[];var f=(n=n||[]).length;for(;f--;)if(n[f]===e)return i[f]===r;if(n.push(e),i.push(r),s){if((f=e.length)!==r.length)return!1;for(;f--;)if(!ut(e[f],r[f],n,i))return!1}else{var p,h=it(e);if(f=h.length,it(r).length!==f)return!1;for(;f--;)if(!$(r,p=h[f])||!ut(e[p],r[p],n,i))return!1}return n.pop(),i.pop(),!0}(t,e,r,n)}function ct(t,e){return ut(t,e)}function lt(t){if(!Y(t))return[];var e=[];for(var r in t)e.push(r);return b&&nt(t,e),e}function ft(t){var e=rt(t);return function(r){if(null==r)return!1;var n=lt(r);if(rt(n))return!1;for(var i=0;i<e;i++)if(!L(r[t[i]]))return!1;return t!==vt||!L(r[pt])}}var pt="forEach",ht=["clear","delete"],dt=["get","has","set"],mt=ht.concat(pt,dt),vt=ht.concat(dt),gt=["add"].concat(ht,pt,"has"),yt=B?ft(mt):A("Map"),bt=B?ft(vt):A("WeakMap"),wt=B?ft(gt):A("Set"),Mt=A("WeakSet");function _t(t){for(var e=it(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n}function Yt(t){for(var e={},r=it(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e}function Et(t){var e=[];for(var r in t)L(t[r])&&e.push(r);return e.sort()}function xt(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;u<s;u++){var c=a[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}}var Ot=xt(lt),At=xt(it),Nt=xt(lt,!0);function Tt(t){if(!Y(t))return{};if(m)return m(t);var e=function(){};e.prototype=t;var r=new e;return e.prototype=null,r}function St(t){return Y(t)?z(t)?t.slice():Ot({},t):t}function jt(t){return z(t)?t:[t]}function Dt(t){return at.toPath(t)}function Ct(t,e){for(var r=e.length,n=0;n<r;n++){if(null==t)return;t=t[e[n]]}return r?t:void 0}function kt(t,e,r){var n=Ct(t,Dt(e));return x(n)?r:n}function Rt(t){return t}function It(t){return t=At({},t),function(e){return ot(e,t)}}function Lt(t){return t=Dt(t),function(e){return Ct(e,t)}}function Ft(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}}function Pt(t,e,r){return null==t?Rt:L(t)?Ft(t,e,r):Y(t)&&!z(t)?It(t):Lt(t)}function Bt(t,e){return Pt(t,e,1/0)}function Ut(t,e,r){return at.iteratee!==Bt?at.iteratee(t,e):Pt(t,e,r)}function Ht(){}function zt(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}at.toPath=jt,at.iteratee=Bt;var $t=Date.now||function(){return(new Date).getTime()};function Vt(t){var e=function(e){return t[e]},r="(?:"+it(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}}var Wt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},qt=Vt(Wt),Kt=Vt(Yt(Wt)),Gt=at.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Xt=/(.)^/,Jt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Qt=/\\|'|\r|\n|\u2028|\u2029/g;function Zt(t){return"\\"+Jt[t]}var te=/^\s*(\w|\$)+\s*$/;var ee=0;function re(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=Tt(t.prototype),a=t.apply(o,i);return Y(a)?a:o}var ne=_((function(t,e){var r=ne.placeholder,n=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===r?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return re(t,n,this,this,a)};return n}));ne.placeholder=at;var ie=_((function(t,e,r){if(!L(t))throw new TypeError("Bind must be called on a function");var n=_((function(i){return re(t,n,e,this,r.concat(i))}));return n})),oe=X(rt);function ae(t,e,r,n){if(n=n||[],e||0===e){if(e<=0)return n.concat(t)}else e=1/0;for(var i=n.length,o=0,a=rt(t);o<a;o++){var s=t[o];if(oe(s)&&(z(s)||W(s)))if(e>1)ae(s,e-1,r,n),i=n.length;else for(var u=0,c=s.length;u<c;)n[i++]=s[u++];else r||(n[i++]=s)}return n}var se=_((function(t,e){var r=(e=ae(e,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=e[r];t[n]=ie(t[n],t)}return t}));var ue=_((function(t,e,r){return setTimeout((function(){return t.apply(null,r)}),e)})),ce=ne(ue,at,1);function le(t){return function(){return!t.apply(this,arguments)}}function fe(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}}var pe=ne(fe,2);function he(t,e,r){e=Ut(e,r);for(var n,i=it(t),o=0,a=i.length;o<a;o++)if(e(t[n=i[o]],n,t))return n}function de(t){return function(e,r,n){r=Ut(r,n);for(var i=rt(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}var me=de(1),ve=de(-1);function ge(t,e,r,n){for(var i=(r=Ut(r,n,1))(e),o=0,a=rt(t);o<a;){var s=Math.floor((o+a)/2);r(t[s])<i?o=s+1:a=s}return o}function ye(t,e,r){return function(n,i,o){var a=0,s=rt(n);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(r&&o&&s)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(u.call(n,a,s),K))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(n[o]===i)return o;return-1}}var be=ye(1,me,ge),we=ye(-1,ve);function Me(t,e,r){var n=(oe(t)?me:he)(t,e,r);if(void 0!==n&&-1!==n)return t[n]}function _e(t,e,r){var n,i;if(e=Ft(e,r),oe(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=it(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t}function Ye(t,e,r){e=Ut(e,r);for(var n=!oe(t)&&it(t),i=(n||t).length,o=Array(i),a=0;a<i;a++){var s=n?n[a]:a;o[a]=e(t[s],s,t)}return o}function Ee(t){var e=function(e,r,n,i){var o=!oe(e)&&it(e),a=(o||e).length,s=t>0?0:a-1;for(i||(n=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var u=o?o[s]:s;n=r(n,e[u],u,e)}return n};return function(t,r,n,i){var o=arguments.length>=3;return e(t,Ft(r,i,4),n,o)}}var xe=Ee(1),Oe=Ee(-1);function Ae(t,e,r){var n=[];return e=Ut(e,r),_e(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function Ne(t,e,r){e=Ut(e,r);for(var n=!oe(t)&&it(t),i=(n||t).length,o=0;o<i;o++){var a=n?n[o]:o;if(!e(t[a],a,t))return!1}return!0}function Te(t,e,r){e=Ut(e,r);for(var n=!oe(t)&&it(t),i=(n||t).length,o=0;o<i;o++){var a=n?n[o]:o;if(e(t[a],a,t))return!0}return!1}function Se(t,e,r,n){return oe(t)||(t=_t(t)),("number"!=typeof r||n)&&(r=0),be(t,e,r)>=0}var je=_((function(t,e,r){var n,i;return L(e)?i=e:(e=Dt(e),n=e.slice(0,-1),e=e[e.length-1]),Ye(t,(function(t){var o=i;if(!o){if(n&&n.length&&(t=Ct(t,n)),null==t)return;o=t[e]}return null==o?o:o.apply(t,r)}))}));function De(t,e){return Ye(t,Lt(e))}function Ce(t,e,r){var n,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=oe(t)?t:_t(t)).length;s<u;s++)null!=(n=t[s])&&n>o&&(o=n);else e=Ut(e,r),_e(t,(function(t,r,n){((i=e(t,r,n))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)}));return o}function ke(t,e,r){if(null==e||r)return oe(t)||(t=_t(t)),t[zt(t.length-1)];var n=oe(t)?St(t):_t(t),i=rt(n);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=zt(a,o),u=n[a];n[a]=n[s],n[s]=u}return n.slice(0,e)}function Re(t){return ke(t,1/0)}function Ie(t,e){return function(r,n,i){var o=e?[[],[]]:{};return n=Ut(n,i),_e(r,(function(e,i){var a=n(e,i,r);t(o,e,a)})),o}}var Le=Ie((function(t,e,r){$(t,r)?t[r].push(e):t[r]=[e]})),Fe=Ie((function(t,e,r){t[r]=e})),Pe=Ie((function(t,e,r){$(t,r)?t[r]++:t[r]=1})),Be=Ie((function(t,e,r){t[r?0:1].push(e)}),!0),Ue=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function He(t,e,r){return e in r}var ze=_((function(t,e){var r={},n=e[0];if(null==t)return r;L(n)?(e.length>1&&(n=Ft(n,e[1])),e=lt(t)):(n=He,e=ae(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];n(s,a,t)&&(r[a]=s)}return r})),$e=_((function(t,e){var r,n=e[0];return L(n)?(n=le(n),e.length>1&&(r=e[1])):(e=Ye(ae(e,!1,!1),String),n=function(t,r){return!Se(e,r)}),ze(t,n,r)}));function Ve(t,e,r){return u.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))}function We(t,e,r){return null==t||t.length<1?null==e||r?void 0:[]:null==e||r?t[0]:Ve(t,t.length-e)}function qe(t,e,r){return u.call(t,null==e||r?1:e)}function Ke(t,e){return ae(t,e,!1)}var Ge=_((function(t,e){return e=ae(e,!0,!0),Ae(t,(function(t){return!Se(e,t)}))})),Xe=_((function(t,e){return Ge(t,e)}));function Je(t,e,r,n){O(e)||(n=r,r=e,e=!1),null!=r&&(r=Ut(r,n));for(var i=[],o=[],a=0,s=rt(t);a<s;a++){var u=t[a],c=r?r(u,a,t):u;e&&!r?(a&&o===c||i.push(u),o=c):r?Se(o,c)||(o.push(c),i.push(u)):Se(i,u)||i.push(u)}return i}var Qe=_((function(t){return Je(ae(t,!0,!0))}));function Ze(t){for(var e=t&&Ce(t,rt).length||0,r=Array(e),n=0;n<e;n++)r[n]=De(t,n);return r}var tr=_(Ze);function er(t,e,r){null==e&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i}function rr(t,e){return t._chain?at(e).chain():e}function nr(t){return _e(Et(t),(function(e){var r=at[e]=t[e];at.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),rr(this,r.apply(at,t))}})),at}_e(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=i[t];at.prototype[t]=function(){var r=this._wrapped;return null!=r&&(e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0]),rr(this,r)}})),_e(["concat","join","slice"],(function(t){var e=i[t];at.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),rr(this,t)}}));var ir=nr(Object.freeze({__proto__:null,VERSION:"1.13.1",restArguments:_,isObject:Y,isNull:E,isUndefined:x,isBoolean:O,isElement:function(t){return!(!t||1!==t.nodeType)},isString:N,isNumber:T,isDate:S,isRegExp:j,isError:D,isSymbol:C,isArrayBuffer:k,isDataView:H,isArray:z,isFunction:L,isArguments:W,isFinite:q,isNaN:K,isTypedArray:et,isEmpty:function(t){if(null==t)return!0;var e=rt(t);return"number"==typeof e&&(z(t)||N(t)||W(t))?0===e:0===rt(it(t))},isMatch:ot,isEqual:ct,isMap:yt,isWeakMap:bt,isSet:wt,isWeakSet:Mt,keys:it,allKeys:lt,values:_t,pairs:function(t){for(var e=it(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},invert:Yt,functions:Et,methods:Et,extend:Ot,extendOwn:At,assign:At,defaults:Nt,create:function(t,e){var r=Tt(t);return e&&At(r,e),r},clone:St,tap:function(t,e){return e(t),t},get:kt,has:function(t,e){for(var r=(e=Dt(e)).length,n=0;n<r;n++){var i=e[n];if(!$(t,i))return!1;t=t[i]}return!!r},mapObject:function(t,e,r){e=Ut(e,r);for(var n=it(t),i=n.length,o={},a=0;a<i;a++){var s=n[a];o[s]=e(t[s],s,t)}return o},identity:Rt,constant:G,noop:Ht,toPath:jt,property:Lt,propertyOf:function(t){return null==t?Ht:function(e){return kt(t,e)}},matcher:It,matches:It,times:function(t,e,r){var n=Array(Math.max(0,t));e=Ft(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},random:zt,now:$t,escape:qt,unescape:Kt,templateSettings:Gt,template:function(t,e,r){!e&&r&&(e=r),e=Nt({},e,at.templateSettings);var n=RegExp([(e.escape||Xt).source,(e.interpolate||Xt).source,(e.evaluate||Xt).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,(function(e,r,n,a,s){return o+=t.slice(i,s).replace(Qt,Zt),i=s+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e})),o+="';\n";var a,s=e.variable;if(s){if(!te.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(t){throw t.source=o,t}var u=function(t){return a.call(this,t,at)};return u.source="function("+s+"){\n"+o+"}",u},result:function(t,e,r){var n=(e=Dt(e)).length;if(!n)return L(r)?r.call(t):r;for(var i=0;i<n;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=r,i=n),t=L(o)?o.call(t):o}return t},uniqueId:function(t){var e=++ee+"";return t?t+e:e},chain:function(t){var e=at(t);return e._chain=!0,e},iteratee:Bt,partial:ne,bind:ie,bindAll:se,memoize:function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return $(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},delay:ue,defer:ce,throttle:function(t,e,r){var n,i,o,a,s=0;r||(r={});var u=function(){s=!1===r.leading?0:$t(),n=null,a=t.apply(i,o),n||(i=o=null)},c=function(){var c=$t();s||!1!==r.leading||(s=c);var l=e-(c-s);return i=this,o=arguments,l<=0||l>e?(n&&(clearTimeout(n),n=null),s=c,a=t.apply(i,o),n||(i=o=null)):n||!1===r.trailing||(n=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(n),s=0,n=i=o=null},c},debounce:function(t,e,r){var n,i,o,a,s,u=function(){var c=$t()-i;e>c?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(s,o)),n||(o=s=null))},c=_((function(c){return s=this,o=c,i=$t(),n||(n=setTimeout(u,e),r&&(a=t.apply(s,o))),a}));return c.cancel=function(){clearTimeout(n),n=o=s=null},c},wrap:function(t,e){return ne(e,t)},negate:le,compose:function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:fe,once:pe,findKey:he,findIndex:me,findLastIndex:ve,sortedIndex:ge,indexOf:be,lastIndexOf:we,find:Me,detect:Me,findWhere:function(t,e){return Me(t,It(e))},each:_e,forEach:_e,map:Ye,collect:Ye,reduce:xe,foldl:xe,inject:xe,reduceRight:Oe,foldr:Oe,filter:Ae,select:Ae,reject:function(t,e,r){return Ae(t,le(Ut(e)),r)},every:Ne,all:Ne,some:Te,any:Te,contains:Se,includes:Se,include:Se,invoke:je,pluck:De,where:function(t,e){return Ae(t,It(e))},max:Ce,min:function(t,e,r){var n,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=oe(t)?t:_t(t)).length;s<u;s++)null!=(n=t[s])&&n<o&&(o=n);else e=Ut(e,r),_e(t,(function(t,r,n){((i=e(t,r,n))<a||i===1/0&&o===1/0)&&(o=t,a=i)}));return o},shuffle:Re,sample:ke,sortBy:function(t,e,r){var n=0;return e=Ut(e,r),De(Ye(t,(function(t,r,i){return{value:t,index:n++,criteria:e(t,r,i)}})).sort((function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index})),"value")},groupBy:Le,indexBy:Fe,countBy:Pe,partition:Be,toArray:function(t){return t?z(t)?u.call(t):N(t)?t.match(Ue):oe(t)?Ye(t,Rt):_t(t):[]},size:function(t){return null==t?0:oe(t)?t.length:it(t).length},pick:ze,omit:$e,first:We,head:We,take:We,initial:Ve,last:function(t,e,r){return null==t||t.length<1?null==e||r?void 0:[]:null==e||r?t[t.length-1]:qe(t,Math.max(0,t.length-e))},rest:qe,tail:qe,drop:qe,compact:function(t){return Ae(t,Boolean)},flatten:Ke,without:Xe,uniq:Je,unique:Je,union:Qe,intersection:function(t){for(var e=[],r=arguments.length,n=0,i=rt(t);n<i;n++){var o=t[n];if(!Se(e,o)){var a;for(a=1;a<r&&Se(arguments[a],o);a++);a===r&&e.push(o)}}return e},difference:Ge,unzip:Ze,transpose:Ze,zip:tr,object:function(t,e){for(var r={},n=0,i=rt(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},range:er,chunk:function(t,e){if(null==e||e<1)return[];for(var r=[],n=0,i=t.length;n<i;)r.push(u.call(t,n,n+=e));return r},mixin:nr,default:at}));function or(r){const n={},i=r.slice(0);function o(t){const e=t.name();let r,i,o;for(e?(r=e,i=0,o=r):(r="X",i=1,o=`${r}.${i}`);Object.prototype.hasOwnProperty.call(n,o);)o=`${r}.${++i}`;o!==e&&t.name(o,e)}r.forEach(t=>{o(t),n[t.name()]=t});const a={columns:()=>r,column(t){if(N(t)){if(void 0!==n[t])return n[t];throw new Error('No column found with that name: "'+t+'"')}if(!(t<0)){if(void 0!==r[t])return r[t];throw new Error("No column found with that name or index: "+t)}},numColumns:()=>r.length,numRows:()=>r[0].length,eachColumn(t){r.forEach(t)},hasColumn:t=>void 0!==(N(t)?n[t]:r[t]),indexOf:t=>a.hasColumn(t)?r.indexOf(n[t]):-1,list:()=>er(r[0].length).map(a.row),row(t){if(t>=r[0].length)return{};const e={};return r.forEach(r=>{e[r.name()]=r.val(t)}),e},csv({includeComputedColumns:n=!0,includeHeader:i=!0,numeral:o=null,...s}={}){const u=a.numRows(),c=(n?r:r.filter(t=>!t.isComputed)).map(t=>[...i?[t.title()]:[],...t.formatted(o)]),l=c[0].map((t,e)=>c.map(t=>t[e])).slice(0,u+1);return!s.delimiter&&o&&(s.delimiter=t(o)),e(l,s)},toCSV(){return this.csv(...arguments)},filterColumns:t=>(r=r.filter(e=>!t[e.name()]),_e(t,(t,e)=>{t&&n[e]&&delete n[e]}),a),eachRow(t){var e;for(e=0;e<a.numRows();e++)t(e);return a},add:t=>(o(t),r.push(t),n[t.name()]=t,i.push(t),a),limitRows:t=>(r.forEach(e=>{e.limitRows(t)}),a),limitColumns:t=>(r.length>t&&(r.length=t,i.length=t),a),columnOrder(t){return arguments.length?(r.length=0,t.forEach((function(t){r.push(i[t])})),a):r.map((function(t){return i.indexOf(t)}))},align(t=""){const e=Math.max(...r.map(t=>t.length));for(const n of r){const r=Array(e-n.length).fill(t);n.add(...r)}},clone:()=>or(r.map(t=>t.clone())),clear(){for(const t of r)t.clear()},deleteRow(...t){t.sort();for(const e of r){let r=0;t.forEach(t=>{const n=e.deleteRow(t-r);r+=n.length})}return a}};return a}ir._=ir;const ar=/^ */.source,sr=/[*']* *$/.source,ur=/[ \-/.]?/.source,cr=/[ \-/.]/.source,lr=/[ \-/.;,]/.source,fr=/[ \-|T]/.source,pr=/[ \-/.m]/.source,hr={YY:{parse:/['’‘]?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(am|pm)?/}},dr={0:["jan","january","januar","jänner","jän","janv","janvier","ene","enero","gen","gennaio","janeiro"],1:["feb","february","febr","februar","fév","févr","février","febrero","febbraio","fev","fevereiro"],2:["mar","mär","march","mrz","märz","mars","mars","marzo","marzo","março"],3:["apr","april","apr","april","avr","avril","abr","abril","aprile"],4:["may","mai","mayo","mag","maggio","maio","maj"],5:["jun","june","juni","juin","junio","giu","giugno","junho"],6:["jul","july","juli","juil","juillet","julio","lug","luglio","julho"],7:["aug","august","août","ago","agosto"],8:["sep","september","sept","septembre","septiembre","set","settembre","setembro"],9:["oct","october","okt","oktober","octobre","octubre","ott","ottobre","out","outubro"],10:["nov","november","november","novembre","noviembre","novembre","novembro"],11:["dec","december","dez","des","dezember","déc","décembre","dic","diciembre","dicembre","desember","dezembro"]},mr={};_e(dr,(function(t,e){_e(t,(function(t){mr[t]=e}))})),hr.MMM={parse:new RegExp("("+Ke(_t(dr)).join("|")+")")},_e(hr,(function(t){t.parse=t.parse.source,j(t.test)?t.test=t.test.source:t.test=t.parse}));var vr={YYYY:{test:gr(hr.YYYY2.test),parse:gr(hr.YYYY2.parse),precision:"year"},"YYYY-H":{test:gr(hr.YYYY.test,ur,hr.H.test),parse:gr(hr.YYYY.parse,ur,hr.H.parse),precision:"half"},"H-YYYY":{test:gr(hr.H.test,cr,hr.YYYY.test),parse:gr(hr.H.parse,cr,hr.YYYY.parse),precision:"half"},"YYYY-Q":{test:gr(hr.YYYY.test,ur,hr.Q.test),parse:gr(hr.YYYY.parse,ur,hr.Q.parse),precision:"quarter"},"Q-YYYY":{test:gr(hr.Q.test,cr,hr.YYYY.test),parse:gr(hr.Q.parse,cr,hr.YYYY.parse),precision:"quarter"},"YYYY-M":{test:gr(hr.YYYY.test,pr,hr.MM.test),parse:gr(hr.YYYY.parse,pr,hr.MM.parse),precision:"month"},"M-YYYY":{test:gr(hr.MM.test,cr,hr.YYYY.test),parse:gr(hr.MM.parse,cr,hr.YYYY.parse),precision:"month"},"YYYY-MMM":{test:gr(hr.YYYY.test,cr,hr.MMM.parse),parse:gr(hr.YYYY.parse,cr,hr.MMM.parse),precision:"month"},"MMM-YYYY":{test:gr(hr.MMM.parse,cr,hr.YYYY.test),parse:gr(hr.MMM.parse,cr,hr.YYYY.parse),precision:"month"},"MMM-YY":{test:gr(hr.MMM.parse,cr,hr.YY.test),parse:gr(hr.MMM.parse,cr,hr.YY.parse),precision:"month"},MMM:{test:gr(hr.MMM.parse),parse:gr(hr.MMM.parse),precision:"month"},"YYYY-WW":{test:gr(hr.YYYY.test,ur,hr.W.test),parse:gr(hr.YYYY.parse,ur,hr.W.parse),precision:"week"},"WW-YYYY":{test:gr(hr.W.test,cr,hr.YYYY.test),parse:gr(hr.W.parse,cr,hr.YYYY.parse),precision:"week"},"MM/DD/YYYY":{test:gr(hr.MM.test,"([\\-\\/])",hr.DD.test,"\\2",hr.YYYY.test),parse:gr(hr.MM.parse,"([\\-\\/])",hr.DD.parse,"\\2",hr.YYYY.parse),precision:"day"},"MM/DD/YY":{test:gr(hr.MM.test,"([\\-\\/])",hr.DD.test,"\\2",hr.YY.test),parse:gr(hr.MM.parse,"([\\-\\/])",hr.DD.parse,"\\2",hr.YY.parse),precision:"day"},"DD/MM/YY":{test:gr(hr.DD.test,"([\\-\\.\\/ ?])",hr.MM.test,"\\2",hr.YY.test),parse:gr(hr.DD.parse,"([\\-\\.\\/ ?])",hr.MM.parse,"\\2",hr.YY.parse),precision:"day"},"DD/MM/YYYY":{test:gr(hr.DD.test,"([\\-\\.\\/ ?])",hr.MM.test,"\\2",hr.YYYY.test),parse:gr(hr.DD.parse,"([\\-\\.\\/ ?])",hr.MM.parse,"\\2",hr.YYYY.parse),precision:"day"},"DD/MMM/YYYY":{test:gr(hr.DD.test,"([\\-\\.\\/ ?])",hr.MMM.test,"\\2",hr.YYYY.test),parse:gr(hr.DD.parse,"([\\-\\.\\/ ?])",hr.MMM.parse,"\\2",hr.YYYY.parse),precision:"day"},"DD/MMM/YY":{test:gr(hr.DD.test,"([\\-\\.\\/ ?])",hr.MMM.test,"\\2",hr.YY.test),parse:gr(hr.DD.parse,"([\\-\\.\\/ ?])",hr.MMM.parse,"\\2",hr.YY.parse),precision:"day"},"YYYY-MM-DD":{test:gr(hr.YYYY.test,"([\\-\\.\\/ ?])",hr.MM.test,"\\2",hr.DD.test),parse:gr(hr.YYYY.parse,"([\\-\\.\\/ ?])",hr.MM.parse,"\\2",hr.DD.parse),precision:"day"},"MMM-DD-YYYY":{test:gr(hr.MMM.test,cr,hr.DD.test,lr,hr.YYYY.test),parse:gr(hr.MMM.parse,cr,hr.DD.parse,lr,hr.YYYY.parse),precision:"day"},"YYYY-WW-d":{test:gr(hr.YYYY.test,ur,hr.W.test,cr,hr.DOW.test),parse:gr(hr.YYYY.parse,ur,hr.W.parse,cr,hr.DOW.parse),precision:"day"},"MM/DD/YYYY HH:MM":{test:gr(hr.MM.test,"([\\-\\/])",hr.DD.test,"\\2",hr.YYYY.test,fr,hr.HHMM.test),parse:gr(hr.MM.parse,"([\\-\\/])",hr.DD.parse,"\\2",hr.YYYY.parse,fr,hr.HHMM.parse),precision:"day-minutes"},"DD.MM.YYYY HH:MM":{test:gr(hr.DD.test,"([\\-\\.\\/ ?])",hr.MM.test,"\\2",hr.YYYY.test,fr,hr.HHMM.test),parse:gr(hr.DD.parse,"([\\-\\.\\/ ?])",hr.MM.parse,"\\2",hr.YYYY.parse,fr,hr.HHMM.parse),precision:"day-minutes"},"YYYY-MM-DD HH:MM":{test:gr(hr.YYYY.test,"([\\-\\.\\/ ?])",hr.MM.test,"\\2",hr.DD.test,fr,hr.HHMM.test),parse:gr(hr.YYYY.parse,"([\\-\\.\\/ ?])",hr.MM.parse,"\\2",hr.DD.parse,fr,hr.HHMM.parse),precision:"day-minutes"},ISO8601:{test:/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d(\.\d+)?([+-][0-2]\d:[0-5]\d|Z)/,parse:function(t){return t},precision:"day-seconds"}};function gr(){return new RegExp(ar+Array.prototype.slice.call(arguments).join(" *")+sr,"i")}function yr(t,e){var r=vr[e];return j(r.test)?r.test.test(t):r.test(t,e)}function br(t,e,r){var n=new Date(Date.UTC(t,0,3));return n.setUTCDate(3-n.getUTCDay()+7*(e-1)+parseInt(r,10)),n}function wr(t,e){return 12!==t?t+("pm"===e?12:0):"am"===e?0:12}var Mr={text:function(){return{parse:Rt,errors:function(){return 0},name:function(){return"text"},isValid:function(){return!0},format:function(){}}},number:function(t){let e,r=0;const n={"-.":/^ *[-–—−]?[0-9]*(\.[0-9]+)?(e[+-][0-9]+)?%? *$/,"-,":/^ *[-–—−]?[0-9]*(,[0-9]+)?%? *$/,",.":/^ *[-–—−]?[0-9]{1,3}(,[0-9]{3})*(\.[0-9]+)?%? *$/,".,":/^ *[-–—−]?[0-9]{1,3}(\.[0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(,[0-9]+)?%? *$/,"'.":/^ *[-–—−]?[0-9]{1,3}('[0-9]{3})*(\.[0-9]+)?%? *$/},i={"-.":"1234.56","-,":"1234,56",",.":"1,234.56",".,":"1.234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"},o={na:1,"n/a":1,"-":1,":":1},a={},s=["-.",0];_e(t=t||[],(function(t){_e(n,(function(e,r){void 0===a[r]&&(a[r]=0),e.test(t)&&(a[r]+=1,a[r]>s[1]&&(s[0]=r,s[1]=a[r]))}))})),e=s[0];var u={parse:function(t){if(T(t)||x(t)||E(t))return t;var n=t.replace("%","").replace("−","-").replace(/[   ]/g,"").replace("–","-").replace("—","-");return"-"!==e[0]&&(n=n.replace(new RegExp("."===e[0]?"\\.":e[0],"g"),"")),"."!==e[1]&&(n=n.replace(e[1],".")),isNaN(n)||""===n?(o[n.toLowerCase()]||""===n||r++,t):Number(n)},toNum:function(t){return t},fromNum:function(t){return t},errors:function(){return r},name:function(){return"number"},isValid:function(t){return""===t||o[String(t).toLowerCase()]||T(u.parse(t))},ambiguousFormats:function(){var t=[];return _e(a,(function(e,r){e===s[1]&&t.push([r,i[r]])})),t},format:function(t){return arguments.length?(e=t,u):e}};return u},date:function(t){let e,r=0;const n={},i=["",0];t=t||[],_e(vr,(function(e,r){_e(t,(function(t){void 0===n[r]&&(n[r]=0),yr(t,r)&&(n[r]+=1,n[r]>i[1]&&(i[0]=r,i[1]=n[r]))}))})),e=i[0];const o={parse:function(t){if(S(t)||x(t))return t;if(!e||!N(t))return r++,t;var n,i,o,a=(n=t.toLowerCase(),j((o=vr[i=e]).parse)?n.match(o.parse):o.parse(n,i));if(!a)return r++,t;function s(t){return(t=+t)<30?2e3+t:1900+t}yr(t,e)||r++;var u=(new Date).getFullYear();switch(e){case"YYYY":return new Date(a[1],0,1);case"YYYY-H":return new Date(a[1],6*(a[2]-1),1);case"H-YYYY":return new Date(a[2],6*(a[1]-1),1);case"YYYY-Q":return new Date(a[1],3*(a[2]-1),1);case"Q-YYYY":return new Date(a[2],3*(a[1]-1),1);case"YYYY-M":return new Date(a[1],a[2]-1,1);case"M-YYYY":return new Date(a[2],a[1]-1,1);case"YYYY-MMM":return new Date(+a[1],mr[a[2]],1);case"MMM-YYYY":return new Date(+a[2],mr[a[1]],1);case"MMM-YY":return new Date(s(+a[2]),mr[a[1]],1);case"MMM":return new Date(u,mr[a[1]],1);case"YYYY-WW":return br(a[1],a[2],1);case"WW-YYYY":return br(a[2],a[1],1);case"YYYY-WW-d":return br(a[1],a[2],a[3]);case"YYYY-MM-DD":return new Date(a[1],a[3]-1,a[4]);case"DD/MM/YYYY":return new Date(a[4],a[3]-1,a[1]);case"DD/MMM/YYYY":return new Date(a[4],mr[a[3]],a[1]);case"DD/MMM/YY":return new Date(s(a[4]),mr[a[3]],a[1]);case"MM/DD/YYYY":return new Date(a[4],a[1]-1,a[3]);case"MM/DD/YY":return new Date(s(a[4]),a[1]-1,a[3]);case"DD/MM/YY":return new Date(s(a[4]),a[3]-1,a[1]);case"MMM-DD-YYYY":return new Date(a[3],mr[a[1]],a[2]);case"YYYY-MM-DD HH:MM":return new Date(+a[1],a[3]-1,+a[4],wr(+a[5],a[8]),+a[6]||0,+a[7]||0);case"DD.MM.YYYY HH:MM":return new Date(+a[4],a[3]-1,+a[1],wr(+a[5],a[8]),+a[6]||0,+a[7]||0);case"MM/DD/YYYY HH:MM":return new Date(+a[4],a[1]-1,+a[3],wr(+a[5],a[8]),+a[6]||0,+a[7]||0);case"ISO8601":return new Date(a.toUpperCase());default:console.warn("unknown format",e)}return r++,t},toNum:function(t){return S(t)?t.getTime():Number.NaN},fromNum:function(t){return new Date(t)},errors:function(){return r},name:function(){return"date"},format:function(t){return arguments.length?(e=t,o):e},precision:function(){return vr[e].precision},isValid:function(t){return S(o.parse(t))},ambiguousFormats:function(){var t=[];return _e(n,(function(e,r){e===i[1]&&t.push([r,r])})),t}};return o}};const _r=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,Yr=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function Er(t,e){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0&&t.indexOf(">")<0)return t;if(t=xr(t,e),"undefined"==typeof document)return t;var r=document.createElement("div");r.innerHTML=`<span>${t}</span>`,r.innerHTML=xr(r.innerHTML,e&&!e.includes("<span>")?e+"<span>":e||void 0);for(var n=r.childNodes[0].querySelectorAll("*"),i=0;i<n.length;i++){if("a"===n[i].nodeName.toLowerCase()){"_self"!==n[i].getAttribute("target")&&n[i].setAttribute("target","_blank"),n[i].setAttribute("rel","nofollow noopener noreferrer");const t=(n[i].getAttribute("href")||"").toLowerCase().replace(/[^a-z0-9 -/:?=]/g,"").trim();(t.startsWith("javascript:")||t.startsWith("vbscript:")||t.startsWith("data:"))&&n[i].setAttribute("href","")}const t=[];for(var o=0;o<n[i].attributes.length;o++){var a=n[i].attributes[o];a.specified&&"on"===a.name.substr(0,2)&&t.push(a.name)}t.forEach(t=>n[i].removeAttribute(t))}return r.childNodes[0].innerHTML}}function xr(t,e){e=(((void 0!==e?e||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var r=t,n=t;;)if(n=(r=n).replace(Yr,"").replace(_r,(function(t,r){return e.indexOf("<"+r.toLowerCase()+">")>-1?t:""})),r===n)return n}function Or(t,e,r){function n(t){return null!=t&&""!==t}const i=Re(er(e.length)).filter((function(t){return n(e[t])})).slice(0,200).map((function(t){return e[t]}));r=r?Mr[r](i):function(t){if(Ne(e,T))return Mr.number();if(Ne(e,S))return Mr.date();const r=[Mr.date(t),Mr.number(t),Mr.text()];let i;const o=.1*e.filter(n).length;return _e(e,(function(t){_e(r,(function(e){e.parse(t)}))})),Ne(r,(function(t){return t.errors()<o&&(i=t),!i})),x(i)&&(i=r[2]),i}(i);let o,a,s,u,c=t;const l=e.slice(0);let f;var p={name(){return arguments.length>=1?(t=arguments[0],c=2===arguments.length?arguments[1]:t,p):Er(t)},origName:()=>Er(c),title(){return arguments.length?(f=arguments[0],p):Er(f||t)},length:e.length,val(t,n){if(arguments.length){var i=n?l:e;return t<0&&(t+=i.length),r.parse(S(i[t])||T(i[t])?i[t]:Er(i[t]))}},formatted(t=null){return t&&"number"===this.type()?this.values().map(e=>Number.isFinite(e)?t(e).format("0.[00000000000000000000]"):e):this.raw()},values(t){var n=t?l:e;return n=Ye(n,(function(t){return S(t)||T(t)?t:Er(t)})),Ye(n,r.parse)},each(t){for(var r=0;r<e.length;r++)t(p.val(r),r)},raw(t,r){return arguments.length?2===arguments.length?(e[t]=r,p):S(e[t])||T(e[t])?e[t]:Er(e[t]):e.map(t=>S(t)||T(t)?t:Er(t))},type(t){if(!0===t)return r;if(N(t)){if(Mr[t])return r=Mr[t](i),p;throw new Error("unknown column type: "+t)}return r.name()},range:()=>!!r.toNum&&(o||(o=[Number.MAX_VALUE,-Number.MAX_VALUE],p.each((function(t){t=r.toNum(t),T(t)&&!K(t)&&(t<o[0]&&(o[0]=t),t>o[1]&&(o[1]=t))})),o[0]=r.fromNum(o[0]),o[1]=r.fromNum(o[1])),o),sum:()=>!!r.toNum&&(void 0===a&&(a=0,p.each((function(t){const e=r.toNum(t);Number.isFinite(e)&&(a+=e)})),a=r.fromNum(a)),a),mean(){if(!r.toNum)return!1;if(void 0===s){s=0;let t=0;p.each((function(e){const n=r.toNum(e);Number.isFinite(n)&&(s+=n,t++)})),s=r.fromNum(s/t)}return s},median(){if(!r.toNum)return!1;if(void 0===u){const t=p.values().map(r.toNum);u=r.fromNum(function(t){var e,r=[],n=t.length,i=-1;if(1===arguments.length)for(;++i<n;)Tr(e=Nr(t[i]))&&r.push(e);if(r.length)return Ar(r.sort(Sr),.5)}(t))}return u},filterRows(t){return e=[],arguments.length?_e(t,(function(t){e.push(l[t])})):e=l.slice(0),p.length=e.length,o=a=s=u=void 0,p},deleteRow(t){const r=e.splice(t,1);return l.splice(t,1),p.length=e.length,o=a=s=u=void 0,r},toString:()=>t+" ("+r.name()+")",indexOf:t=>Me(er(e.length),(function(e){return p.val(e)===t})),limitRows(t){l.length>t&&(l.length=t,e.length=t,p.length=t)},add(...t){l.push(...t),e.push(...t),p.length=e.length},clone:()=>Or(t,e.slice(),r.name()),clear(){e.splice(0),p.length=e.length}};return p.total=p.sum,p}function Ar(t,e){var r=(t.length-1)*e+1,n=Math.floor(r),i=+t[n-1],o=r-n;return o?i+o*(t[n]-i):i}function Nr(t){return null===t?NaN:+t}function Tr(t){return!K(t)}function Sr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function jr(t){return{dataset:function(){return function(){if(t.url){const e=(new Date).getTime(),r=`${t.url}${t.url.indexOf("?")>-1?"&":"?"}v=${t.url.indexOf("//static.dwcdn.net")>-1?e-e%6e4:e}`;return window.fetch(r).then(t=>t.text()).then(e=>new Dr(t).parse(e))}if(t.csv||""===t.csv)return new Promise(e=>{e(t.csv)}).then(e=>new Dr(t).parse(e));const e=new Error("You need to provide either a URL or CSV data");return Promise.reject(e)}().catch(e=>(console.error(`Could not fetch delimited data source for chart ${t.chartId}, returning an empty dataset: `+e.message),or([])))},parse:function(){return new Dr(t).parse(t.csv)}}}or.delimited=jr;class Dr{constructor(t){t=Object.assign({delimiter:"auto",quoteChar:'"',skipRows:0,emptyValue:null,transpose:!1,firstRowIsHeader:!0},t),this.__delimiterPatterns=Cr(t.delimiter,t.quoteChar),this.opts=t}parse(t){this.__rawData=t;const e=this.opts;"auto"===e.delimiter&&(e.delimiter=this.guessDelimiter(t,e.skipRows),this.__delimiterPatterns=Cr(e.delimiter,e.quoteChar));const r="|"!==e.delimiter?"|":"#";let n;return t=r+"\n"+t.replace(/[ \r\n\f]+$/g,"").replace(/^\uFEFF/,"")+r,n=function(t,e,n){n=n||",";const i=[[]];let o,a=null;for(;a=t.exec(e);){var s=a[1];s.length&&s!==n&&i.push([]),o=a[2]?a[2].replace(new RegExp('""',"g"),'"'):a[3],i[i.length-1].push(void 0===o?"":o)}i[0][0].substr(0,1)===r&&(i[0][0]=i[0][0].substr(1));const u=i.length-1,c=i[u].length-1,l=i[u][c].length-1;return i[u][c].substr(l)===r&&(i[u][c]=i[u][c].substr(0,l)),i.slice(1)}(this.__delimiterPatterns,t,e.delimiter),e.transpose&&(n=function(t){const e=t,r=e.length?e.length:0,n=e[0]instanceof Array?e[0].length:0;if(0===n||0===r)return[];let i,o;const a=[];for(i=0;i<n;i++)for(a[i]=[],o=0;o<r;o++)a[i][o]=e[o][i];return a}(n)),function(t){return or(function(t){if(!t)return[];if(!(t=t.slice(e.skipRows)).length)return[];const r=t[0],n={};let i=[],o=0;return e.firstRowIsHeader&&(i=t[o],o++,t.shift()),r.map((r,o)=>{const a=t.map(t=>""!==t[o]?t[o]:e.emptyValue);let s=N(i[o])?i[o].replace(/^\s+|\s+$/g,""):"",u=""!==s?"":1;for(s=""!==s?s:"X.";void 0!==n[s+u];)u=""===u?1:u+1;return n[s+u]=!0,Or(s+u,a)})}(t))}(function(t){for(let e=t.length-1;e>=0;e--)if(t[e].some(t=>""!==t))return t.slice(0,e+1);return t.slice(0,1)}(n))}guessDelimiter(t){let e=0,r=-1;const n=this,i=["\t",";","|",","];return i.forEach((i,o)=>{const a=Cr(i,n.quoteChar);let s=t.match(a).length;"\t"===i&&(s*=1.15),s>e&&(e=s,r=o)}),i[r]}}function Cr(t,e){return new RegExp("(\\"+t+"|\\r?\\n|\\r|^)(?:"+e+"([^"+e+"]*(?:"+e+'"[^'+e+"]*)*)"+e+"|([^"+e+"\\"+t+"\\r\\n]*))","gi")}function kr(t){return{dataset:function(){return function(){if(t.url)return fetch(t.url).then(t=>t.text()).then(t=>JSON.parse(t));if(t.csv)return new Promise(e=>{e(t.csv)}).then(t=>JSON.parse(t));const e=new Error("You need to provide either a URL or CSV data");return Promise.reject(e)}().catch(e=>(console.error(`Could not fetch JSON data source for chart ${t.chartId}, returning an empty object: `+e.message),{}))},parse:function(){return JSON.parse(t.csv)}}}function Rr(t){return Math.max(0,String(t-Math.floor(t)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2)}function Ir(t,e=0){const r=Math.pow(10,e);return Math.round(t*r)/r}function Lr(t,e=.1){let r=[],n=0;const i=Je(t.filter(q)),o=i.length;let a,s;const u=Math.floor(o*(1-e));if(i.length<3)return Math.round(i.reduce((function(t,e){if(!e)return t;const r=Math.log(Math.abs(e))/Math.LN10;return r<8&&r>-3?t+Math.min(3,Rr(i[0])):t+(r>0?-1*(r-1):-1*r)}),0)/i.length);Je(i.map(l)).length>u?(a=function(){return Je(r).length===o},s=-1):(a=function(){return Je(r).length<=u},s=1);let c=100;do{r=i.map(l),n+=s}while(a()&&c-- >0);function l(t){return Ir(t,n)}return c<10&&console.warn("maximum iteration reached",t,r,n),s<0?n+=2:n--,n}function Fr(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}function Pr(t,e=!1){if(!t)return null;let r=t.offsetHeight;if(!e)return r;var n=getComputedStyle(t);return r+=parseInt(n.marginTop)+parseInt(n.marginBottom),r}function Br(){let t=0;const e=document.querySelector(".dw-chart");for(let n=0;n<e.children.length;n++){const i=e.children[n],o=i.tagName.toLowerCase();if(!("script"===o||"style"===o||"chart"===i.id||r(i,"tooltip")||r(i,"vg-tooltip")||r(i,"hidden")||r(i,"sr-only")||r(i,"qtip")||r(i,"container")||r(i,"noscript")||r(i,"hidden")||r(i,"dw-after-body")||r(i,"dw-chart-body"))&&(t+=Number(Pr(i,!0)),r(i,"dw-chart-header"))){const e=i.querySelector(".filter-ui");e&&(t-=Number(Pr(e,!0)))}}function r(t,e){return t.classList.contains(e)}const n=["padding-top","padding-bottom","margin-top","margin-bottom","border-top-width","border-bottom-width"];return[".dw-chart",".dw-chart-body","body"].forEach((function(e){n.forEach((function(r){t+=Number(function(t,e){return getComputedStyle(document.querySelector(t))[e].replace("px","")}(e,r))}))})),t}or.json=kr;var Ur="TOP",Hr="TPAREN";function zr(t,e,r){this.type=t,this.value=e,this.index=r}function $r(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}zr.prototype.toString=function(){return this.type+": "+this.value},$r.prototype.newToken=function(t,e,r){return new zr(t,e,null!=r?r:this.pos)},$r.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},$r.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},$r.prototype.next=function(){return this.pos>=this.expression.length?this.newToken("TEOF","EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},$r.prototype.isString=function(){var t=!1,e=this.pos,r=this.expression.charAt(e);if("'"===r||'"'===r)for(var n=this.expression.indexOf(r,e+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var i=this.expression.substring(e+1,n);this.current=this.newToken("TSTRING",this.unescape(i),e),t=!0;break}n=this.expression.indexOf(r,n+1)}return t},$r.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(Hr,t),this.pos++,!0)},$r.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken("TBRACKET",t),this.pos++,!0)},$r.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken("TCOMMA",","),this.pos++,!0)},$r.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken("TSEMICOLON",";"),this.pos++,!0)},$r.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&"."!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(n in this.consts)return this.current=this.newToken("TNUMBER",this.consts[n]),this.pos+=n.length,!0}return!1},$r.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(Ur,n),this.pos+=n.length,!0}return!1},$r.prototype.isName=function(){for(var t=this.pos,e=t,r=!1;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()){if(e===this.pos&&("$"===n||"_"===n)){"_"===n&&(r=!0);continue}if(e===this.pos||!r||"_"!==n&&(n<"0"||n>"9"))break}else r=!0}if(r){var i=this.expression.substring(t,e);return this.current=this.newToken("TNAME",i),this.pos+=i.length,!0}return!1},$r.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var Vr=/^[0-9a-f]{4}$/i;$r.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var r=t.substring(0,e);e>=0;){var n=t.charAt(++e);switch(n){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":var i=t.substring(e+1,e+5);Vr.test(i)||this.parseError("Illegal escape sequence: \\u"+i),r+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++e;var o=t.indexOf("\\",e);r+=t.substring(e,o<0?t.length:o),e=o}return r},$r.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},$r.prototype.isRadixInteger=function(){var t,e,r=this.pos;if(r>=this.expression.length-2||"0"!==this.expression.charAt(r))return!1;if(++r,"x"===this.expression.charAt(r))t=16,e=/^[0-9a-f]$/i,++r;else{if("b"!==this.expression.charAt(r))return!1;t=2,e=/^[01]$/i,++r}for(var n=!1,i=r;r<this.expression.length;){var o=this.expression.charAt(r);if(!e.test(o))break;r++,n=!0}return n&&(this.current=this.newToken("TNUMBER",parseInt(this.expression.substring(i,r),t)),this.pos=r),n},$r.prototype.isNumber=function(){for(var t,e=!1,r=this.pos,n=r,i=r,o=!1,a=!1;r<this.expression.length&&((t=this.expression.charAt(r))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:a=!0,r++,e=a;if(e&&(i=r),"e"===t||"E"===t){r++;for(var s=!0,u=!1;r<this.expression.length;){if(t=this.expression.charAt(r),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;u=!0,s=!1}else s=!1;r++}u||(r=i)}return e?(this.current=this.newToken("TNUMBER",parseFloat(this.expression.substring(n,r))),this.pos=r):this.pos=i,e},$r.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(Ur,e);else if("∙"===e||"•"===e)this.current=this.newToken(Ur,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Ur,">="),this.pos++):this.current=this.newToken(Ur,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Ur,"<="),this.pos++):this.current=this.newToken(Ur,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(Ur,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Ur,"=="),this.pos++):this.current=this.newToken(Ur,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Ur,"!="),this.pos++):this.current=this.newToken(Ur,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},$r.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},$r.prototype.getCoordinates=function(){var t,e=0,r=-1;do{e++,t=this.pos-r,r=this.expression.indexOf("\n",r+1)}while(r>=0&&r<this.pos);return{line:e,column:t}},$r.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)};var Wr="IEXPR";function qr(t,e){this.type=t,this.value=null!=e?e:0}function Kr(t){return new qr("IOP1",t)}function Gr(t){return new qr("IOP2",t)}function Xr(t,e,r){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==r.allowMemberAccess,this.restrictMemberAccess=new Set(r.restrictMemberAccess||[])}qr.prototype.toString=function(){switch(this.type){case"INUMBER":case"IOP1":case"IOP2":case"IOP3":case"IVAR":case"IVARNAME":case"IENDSTATEMENT":return this.value;case"IFUNCALL":return"CALL "+this.value;case"IFUNDEF":return"DEF "+this.value;case"IARRAY":return"ARRAY "+this.value;case"IMEMBER":return"."+this.value;default:return"Invalid Instruction"}},Xr.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},Xr.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?function(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}(e,t.value):"function"==typeof e?e(t):t.value===e)},Xr.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},Xr.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},Xr.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},Xr.prototype.expect=function(t,e){if(!this.accept(t,e)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(e||t))}},Xr.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept("TNAME")||this.accept(Ur,(function(t){return t.value in e})))t.push(new qr("IVAR",this.current.value));else if(this.accept("TNUMBER"))t.push(new qr("INUMBER",this.current.value));else if(this.accept("TSTRING"))t.push(new qr("INUMBER",this.current.value));else if(this.accept(Hr,"("))this.parseExpression(t),this.expect(Hr,")");else{if(!this.accept("TBRACKET","["))throw new Error("unexpected "+this.nextToken);if(this.accept("TBRACKET","]"))t.push(new qr("IARRAY",0));else{var r=this.parseArrayList(t);t.push(new qr("IARRAY",r))}}},Xr.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},Xr.prototype.pushExpression=function(t,e){for(var r=0,n=e.length;r<n;r++)t.push(e[r])},Xr.prototype.parseUntilEndStatement=function(t,e){return!!this.accept("TSEMICOLON")&&(!this.nextToken||"TEOF"===this.nextToken.type||this.nextToken.type===Hr&&")"===this.nextToken.value||e.push(new qr("IENDSTATEMENT")),"TEOF"!==this.nextToken.type&&this.parseExpression(e),t.push(new qr(Wr,e)),!0)},Xr.prototype.parseArrayList=function(t){for(var e=0;!this.accept("TBRACKET","]");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},Xr.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Ur,"=");){var e=t.pop(),r=[],n=t.length-1;if("IFUNCALL"!==e.type){if("IVAR"!==e.type&&"IMEMBER"!==e.type)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),t.push(new qr("IVARNAME",e.value)),t.push(new qr(Wr,r)),t.push(Gr("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,o=e.value+1;i<o;i++){var a=n-i;"IVAR"===t[a].type&&(t[a]=new qr("IVARNAME",t[a].value))}this.parseVariableAssignmentExpression(r),t.push(new qr(Wr,r)),t.push(new qr("IFUNDEF",e.value))}}},Xr.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Ur,"?");){var e=[],r=[];this.parseConditionalExpression(e),this.expect(Ur,":"),this.parseConditionalExpression(r),t.push(new qr(Wr,e)),t.push(new qr(Wr,r)),t.push(new qr("IOP3","?"))}},Xr.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Ur,"or");){var e=[];this.parseAndExpression(e),t.push(new qr(Wr,e)),t.push(Gr("or"))}},Xr.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Ur,"and");){var e=[];this.parseComparison(e),t.push(new qr(Wr,e)),t.push(Gr("and"))}};var Jr=["==","!=","<","<=",">=",">","in"];Xr.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Ur,Jr);){var e=this.current;this.parseAddSub(t),t.push(Gr(e.value))}};var Qr=["+","-","||"];Xr.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Ur,Qr);){var e=this.current;this.parseTerm(t),t.push(Gr(e.value))}};var Zr=["*","/","%"];function tn(t,e){return Number(t)+Number(e)}function en(t,e){return t-e}function rn(t,e){return t*e}function nn(t,e){return t/e}function on(t,e){return t%e}function an(t,e){return t===e}function sn(t,e){return t!==e}function un(t,e){return t>e}function cn(t,e){return t<e}function ln(t,e){return t>=e}function fn(t,e){return t<=e}function pn(t,e){return Boolean(t&&e)}function hn(t,e){return Boolean(t||e)}function dn(t){return Math.log(t)*Math.LOG10E}function mn(t){return-t}function vn(t){return!t}function gn(t){return t<0?Math.ceil(t):Math.floor(t)}function yn(t){return Math.random()*(t||1)}function bn(t){return Array.isArray(t)?t.length:String(t).length}function wn(t,e,r){return t?e:r}function Mn(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function _n(t,e){return t[0|e]}function Yn(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,r){return t(e,r)}))}function En(t,e,r){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce((function(e,r,n){return t(e,r,n)}),e)}function xn(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,r){return t(e,r)}))}function On(t){return(t>0)-(t<0)||+t}function An(t){return Math.log(1+t)}function Nn(t){return Math.log(t)/Math.LN2}function Tn(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}function Sn(t,e,r){var n,i,o,a,s,u,c=[];if(Dn(t))return Cn(t,r);for(var l=t.length,f=0;f<l;f++){var p=t[f],h=p.type;if("INUMBER"===h||"IVARNAME"===h)c.push(p.value);else if("IOP2"===h)i=c.pop(),n=c.pop(),"and"===p.value?c.push(!!n&&!!Sn(i,e,r)):"or"===p.value?c.push(!!n||!!Sn(i,e,r)):"="===p.value?(a=e.binaryOps[p.value],c.push(a(n,Sn(i,e,r),r))):(a=e.binaryOps[p.value],c.push(a(Cn(n,r),Cn(i,r))));else if("IOP3"===h)o=c.pop(),i=c.pop(),n=c.pop(),"?"===p.value?c.push(Sn(n?i:o,e,r)):(a=e.ternaryOps[p.value],c.push(a(Cn(n,r),Cn(i,r),Cn(o,r))));else if("IVAR"===h){if(/^__proto__|prototype|constructor$/.test(p.value))throw new Error("prototype access detected");if(p.value in e.functions)c.push(e.functions[p.value]);else if(p.value in e.unaryOps&&e.parser.isOperatorEnabled(p.value))c.push(e.unaryOps[p.value]);else{var d=r[p.value];if(void 0===d)throw new Error("undefined variable: "+p.value);c.push(d)}}else if("IOP1"===h)n=c.pop(),a=e.unaryOps[p.value],c.push(a(Cn(n,r)));else if("IFUNCALL"===h){for(u=p.value,s=[];u-- >0;)s.unshift(Cn(c.pop(),r));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if("IFUNDEF"===h)c.push(function(){for(var t=c.pop(),n=[],i=p.value;i-- >0;)n.unshift(c.pop());var o=c.pop(),a=function(){for(var i=Object.assign({},r),o=0,a=n.length;o<a;o++)i[n[o]]=arguments[o];return Sn(t,e,i)};return Object.defineProperty(a,"name",{value:o,writable:!1}),r[o]=a,a}());else if(h===Wr)c.push(jn(p,e));else if("IEXPREVAL"===h)c.push(p);else if("IMEMBER"===h)n=c.pop(),c.push(n[p.value]);else if("IENDSTATEMENT"===h)c.pop();else{if("IARRAY"!==h)throw new Error("invalid Expression");for(u=p.value,s=[];u-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Cn(c[0],r)}function jn(t,e,r){return Dn(t)?t:{type:"IEXPREVAL",value:function(r){return Sn(t.value,e,r)}}}function Dn(t){return t&&"IEXPREVAL"===t.type}function Cn(t,e){return Dn(t)?t.value(e):t}function kn(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Rn(t){return t.trim()}Xr.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Ur,Zr);){var e=this.current;this.parseFactor(t),t.push(Gr(e.value))}},Xr.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(Ur,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===Hr&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if("TSEMICOLON"===this.nextToken.type||"TCOMMA"===this.nextToken.type||"TEOF"===this.nextToken.type||this.nextToken.type===Hr&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var r=this.current;this.parseFactor(t),t.push(Kr(r.value))}else this.parseExponential(t)},Xr.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Ur,"^");)this.parseFactor(t),t.push(Gr("^"))},Xr.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Ur,"!");)t.push(Kr("!"))},Xr.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(Ur,(function(t){return t.value in e}))){var r=this.current;this.parseAtom(t),t.push(Kr(r.value))}else for(this.parseMemberExpression(t);this.accept(Hr,"(");)if(this.accept(Hr,")"))t.push(new qr("IFUNCALL",0));else{var n=this.parseArgumentList(t);t.push(new qr("IFUNCALL",n))}},Xr.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(Hr,")");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},Xr.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Ur,".")||this.accept("TBRACKET","[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect("TNAME"),t.push(new qr("IMEMBER",this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect("TBRACKET","]"),t.push(Gr("["))}}},kn.prototype.evaluate=function(t){return t=t||{},Sn(this.tokens,this,t)},kn.prototype.variables=function(){return(this.tokens||[]).filter(t=>"IVAR"===t.type).map(t=>t.value)};const In=new Set(["__proto__","prototype","constructor"]);function Ln(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||Nn,LN:Math.log,LOG10:Math.log10||dn,LG:Math.log10||dn,LOG1P:Math.log1p||An,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||gn,"-":mn,"+":Number,EXP:Math.exp,NOT:vn,LENGTH:bn,"!":vn,SIGN:Math.sign||On,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":tn,"-":en,"*":rn,"/":nn,"%":on,"^":Math.pow,"==":an,"!=":sn,">":un,"<":cn,">=":ln,"<=":fn,and:pn,or:hn,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":_n},this.ternaryOps={"?":wn};const e=t=>t instanceof Date&&!isNaN(t),r=t=>{if(e(t))return t;try{const r=new Date(t);return e(r)?r:null}catch(t){return null}};function n(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter(t=>!isNaN(t)&&Number.isFinite(t))}let i=/\w*/g,o=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{i=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:wn,RANDOM:yn,MIN(){return function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}(n.apply(this,arguments))},MAX(){return function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}(n.apply(this,arguments))},SUM(){return Tn(n.apply(this,arguments))},MEAN(){const t=n.apply(this,arguments);return Tn(t)/t.length},MEDIAN(){const t=n.apply(this,arguments).sort((t,e)=>t-e),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:Mn,CONCAT(){return Array.from(arguments).join("")},TRIM:Rn,SUBSTR:(t,e,r)=>t.substr(e,r),REPLACE:(t,e,r)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),r),REPLACE_REGEX:(t,e,r)=>t.replace(new RegExp(e,"g"),r),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(i,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),TITLE:t=>String(t).replace(o,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),SORT(t,e=!0,r=null){if(In.has(r))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort((t,n)=>((t="string"==typeof r?t[r]:"function"==typeof r?r(t):t)>(n="string"==typeof r?n[r]:"function"==typeof r?r(n):n)?1:t<n?-1:0)*(e?1:-1))},SLICE(t,e,r){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,r)},JOIN(t,e,r=null){if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return r?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(r):t.join(e)},MAP:Yn,FOLD:En,FILTER:xn,PLUCK(t,e){if(In.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map(t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null)},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const r=t.length;for(let n=0;n<r;n++)if(e(t[n]))return t[n];return null},RANGE(t,e,r){null==e&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const r=t.length;let n=!0;for(let i=0;i<r;i++)if(n=n&&e(t[i]),!n)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const r=t.length;let n=!1;for(let i=0;i<r;i++)if(n=n||e(t[i]),n)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=r(t))?t.getFullYear():null,MONTH:t=>(t=r(t))?t.getMonth()+1:null,DAY:t=>(t=r(t))?t.getDate():null,WEEKDAY:t=>(t=r(t))?t.getDay():null,HOURS:t=>(t=r(t))?t.getHours():null,MINUTES:t=>(t=r(t))?t.getMinutes():null,SECONDS:t=>(t=r(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=r(t),e=r(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=r(t),e=r(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}Ln.prototype.parse=function(t){var e=[],r=new Xr(this,new $r(this,t),{allowMemberAccess:!0,restrictMemberAccess:In});return r.parseExpression(e),r.expect("TEOF","EOF"),new kn(e,this)},Ln.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Fn=new Ln;Ln.parse=function(t){return Fn.parse(t)},Ln.evaluate=function(t,e){return Fn.parse(t).evaluate(e)},Ln.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var Pn={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Ln.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(Pn,t)?Pn[t]:t}(t),r=this.options.operators||{};return!(e in r)||!!r[e]};const Bn=/\{\{(.+?)\}\}/g;function Un(t){const e={},r=new Ln;return t.replace(Bn,(t,n)=>{(n=n.trim())&&!e[n]&&(e[n]=r.parse(n))}),r=>t.replace(Bn,(t,n)=>{const i=n.trim()?e[n.trim()].evaluate(r):"";return null===i?"":i})}function Hn(t){return L(t.name)?t.name():N(t.name)?t.name:t}function zn(){if(0===window.innerHeight)return 0;var t=window.innerHeight-Br();return Math.max(t,0)}function $n(t){const e=parseFloat(getComputedStyle(t,null).width.replace("px",""));return isNaN(e)?0:e}function Vn(t){const e="string"==typeof t?document.querySelector(t):t;e&&e.parentElement.removeChild(e)}var Wn=Object.freeze({__proto__:null,purifyHtml:Er,significantDimension:Lr,tailLength:Rr,round:Ir,smartRound:function(t,e=0,r=.1){let n=Lr(t,r);return n+=e,t.map(t=>Ir(t,n))},equalish:function(t,e){return Math.abs(t-e)<1e-6},clone:Fr,delimited:r,getNonChartHeight:Br,outerHeight:Pr,htmlTemplate:function(t){const e=Un(t);return t=>Er(e(t),"<a><abbr><address><b><big><blockquote><br/><br><caption><cite><code><col><colgroup><dd><del><details><dfn><div><dl><dt><em><figure><font><h1><h2><h3><h4><h5><h6><hr><hgroup><i><img><ins><kbd><li><mark><meter><ol><p><pre><q><s><small><span><strike><strong><sub><summary><sup><table><tbody><td><th><thead><tfoot><tr><tt><u><ul><wbr>")},templateParser:Un,minMax:function(t){const e=[Number.MAX_VALUE,-Number.MAX_VALUE];return t.forEach(t=>{e[0]=Math.min(e[0],t.range()[0]),e[1]=Math.max(e[1],t.range()[1])}),e},columnNameColumn:function(t){return Or("",t.map(t=>t.title()))},name:Hn,getMaxChartHeight:zn,nearest:function(t,e){let r,n=Number.MAX_VALUE;return t.forEach(t=>{var i=Math.abs(t-e);i<n&&(n=i,r=t)}),r},metricSuffix:function(t){switch(t.substr(0,2).toLowerCase()){case"de":return{3:" Tsd.",6:" Mio.",9:" Mrd.",12:" Bio."};case"fr":return{3:" mil",6:" Mio",9:" Mrd"};case"es":return{3:" Mil",6:" millón"};default:return{3:"k",6:"M",9:" bil"}}},magnitudeRange:function(t){return Math.round(Math.log(t[1])/Math.LN10)-Math.round(Math.log(t[0])/Math.LN10)},logTicks:function(t,e){return er(Math.round(Math.log(t)/Math.LN10),Math.round(Math.log(e)/Math.LN10)).map(t=>Math.pow(10,t))},height:function(t){const e=parseFloat(getComputedStyle(t,null).height.replace("px",""));return isNaN(e)?0:e},width:$n,addClass:function(t,e){t&&t.classList.add(e)},removeClass:function(t,e){t&&t.classList.remove(e)},remove:Vn,domReady:function(t){/complete|interactive|loaded/.test(document.readyState)?t():window.addEventListener("DOMContentLoaded",()=>{t()})}}),qn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Kn="object"==typeof qn&&qn&&qn.Object===Object&&qn,Gn=Kn,Xn="object"==typeof self&&self&&self.Object===Object&&self,Jn=Gn||Xn||Function("return this")(),Qn=Jn.Symbol,Zn=Qn,ti=Object.prototype,ei=ti.hasOwnProperty,ri=ti.toString,ni=Zn?Zn.toStringTag:void 0;var ii=function(t){var e=ei.call(t,ni),r=t[ni];try{t[ni]=void 0;var n=!0}catch(t){}var i=ri.call(t);return n&&(e?t[ni]=r:delete t[ni]),i},oi=Object.prototype.toString;var ai=ii,si=function(t){return oi.call(t)},ui=Qn?Qn.toStringTag:void 0;var ci=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ui&&ui in Object(t)?ai(t):si(t)};var li=function(t,e){return function(r){return t(e(r))}},fi=li(Object.getPrototypeOf,Object);var pi=function(t){return null!=t&&"object"==typeof t},hi=ci,di=fi,mi=pi,vi=Function.prototype,gi=Object.prototype,yi=vi.toString,bi=gi.hasOwnProperty,wi=yi.call(Object);var Mi=function(t){if(!mi(t)||"[object Object]"!=hi(t))return!1;var e=di(t);if(null===e)return!0;var r=bi.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&yi.call(r)==wi};function _i(t,e=null,r=null){if(!e)return t;const n=Array.isArray(e)?e:e.split(".");let i=t;for(let t=0;t<n.length&&null!=i;t++)i=i[n[t]];return null==i?r:i}var Yi=function(){this.__data__=[],this.size=0};var Ei=function(t,e){return t===e||t!=t&&e!=e},xi=Ei;var Oi=function(t,e){for(var r=t.length;r--;)if(xi(t[r][0],e))return r;return-1},Ai=Oi,Ni=Array.prototype.splice;var Ti=Oi;var Si=Oi;var ji=Oi;var Di=Yi,Ci=function(t){var e=this.__data__,r=Ai(e,t);return!(r<0)&&(r==e.length-1?e.pop():Ni.call(e,r,1),--this.size,!0)},ki=function(t){var e=this.__data__,r=Ti(e,t);return r<0?void 0:e[r][1]},Ri=function(t){return Si(this.__data__,t)>-1},Ii=function(t,e){var r=this.__data__,n=ji(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function Li(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Li.prototype.clear=Di,Li.prototype.delete=Ci,Li.prototype.get=ki,Li.prototype.has=Ri,Li.prototype.set=Ii;var Fi=Li,Pi=Fi;var Bi=function(){this.__data__=new Pi,this.size=0};var Ui=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var Hi=function(t){return this.__data__.get(t)};var zi=function(t){return this.__data__.has(t)};var $i=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Vi=ci,Wi=$i;var qi,Ki=function(t){if(!Wi(t))return!1;var e=Vi(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Gi=Jn["__core-js_shared__"],Xi=(qi=/[^.]+$/.exec(Gi&&Gi.keys&&Gi.keys.IE_PROTO||""))?"Symbol(src)_1."+qi:"";var Ji=function(t){return!!Xi&&Xi in t},Qi=Function.prototype.toString;var Zi=function(t){if(null!=t){try{return Qi.call(t)}catch(t){}try{return t+""}catch(t){}}return""},to=Ki,eo=Ji,ro=$i,no=Zi,io=/^\[object .+?Constructor\]$/,oo=Function.prototype,ao=Object.prototype,so=oo.toString,uo=ao.hasOwnProperty,co=RegExp("^"+so.call(uo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var lo=function(t){return!(!ro(t)||eo(t))&&(to(t)?co:io).test(no(t))},fo=function(t,e){return null==t?void 0:t[e]};var po=function(t,e){var r=fo(t,e);return lo(r)?r:void 0},ho=po(Jn,"Map"),mo=po(Object,"create"),vo=mo;var go=function(){this.__data__=vo?vo(null):{},this.size=0};var yo=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bo=mo,wo=Object.prototype.hasOwnProperty;var Mo=function(t){var e=this.__data__;if(bo){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return wo.call(e,t)?e[t]:void 0},_o=mo,Yo=Object.prototype.hasOwnProperty;var Eo=mo;var xo=go,Oo=yo,Ao=Mo,No=function(t){var e=this.__data__;return _o?void 0!==e[t]:Yo.call(e,t)},To=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Eo&&void 0===e?"__lodash_hash_undefined__":e,this};function So(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}So.prototype.clear=xo,So.prototype.delete=Oo,So.prototype.get=Ao,So.prototype.has=No,So.prototype.set=To;var jo=So,Do=Fi,Co=ho;var ko=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Ro=function(t,e){var r=t.__data__;return ko(e)?r["string"==typeof e?"string":"hash"]:r.map},Io=Ro;var Lo=Ro;var Fo=Ro;var Po=Ro;var Bo=function(){this.size=0,this.__data__={hash:new jo,map:new(Co||Do),string:new jo}},Uo=function(t){var e=Io(this,t).delete(t);return this.size-=e?1:0,e},Ho=function(t){return Lo(this,t).get(t)},zo=function(t){return Fo(this,t).has(t)},$o=function(t,e){var r=Po(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Vo(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vo.prototype.clear=Bo,Vo.prototype.delete=Uo,Vo.prototype.get=Ho,Vo.prototype.has=zo,Vo.prototype.set=$o;var Wo=Vo,qo=Fi,Ko=ho,Go=Wo;var Xo=Fi,Jo=Bi,Qo=Ui,Zo=Hi,ta=zi,ea=function(t,e){var r=this.__data__;if(r instanceof qo){var n=r.__data__;if(!Ko||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Go(n)}return r.set(t,e),this.size=r.size,this};function ra(t){var e=this.__data__=new Xo(t);this.size=e.size}ra.prototype.clear=Jo,ra.prototype.delete=Qo,ra.prototype.get=Zo,ra.prototype.has=ta,ra.prototype.set=ea;var na=ra;var ia=Wo,oa=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},aa=function(t){return this.__data__.has(t)};function sa(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new ia;++e<r;)this.add(t[e])}sa.prototype.add=sa.prototype.push=oa,sa.prototype.has=aa;var ua=sa,ca=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},la=function(t,e){return t.has(e)};var fa=function(t,e,r,n,i,o){var a=1&r,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var f=-1,p=!0,h=2&r?new ua:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var d=t[f],m=e[f];if(n)var v=a?n(m,d,f,e,t,o):n(d,m,f,t,e,o);if(void 0!==v){if(v)continue;p=!1;break}if(h){if(!ca(e,(function(t,e){if(!la(h,e)&&(d===t||i(d,t,r,n,o)))return h.push(e)}))){p=!1;break}}else if(d!==m&&!i(d,m,r,n,o)){p=!1;break}}return o.delete(t),o.delete(e),p};var pa=Jn.Uint8Array,ha=Ei,da=fa,ma=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r},va=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},ga=Qn?Qn.prototype:void 0,ya=ga?ga.valueOf:void 0;var ba=function(t,e,r,n,i,o,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new pa(t),new pa(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ha(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=ma;case"[object Set]":var u=1&n;if(s||(s=va),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;n|=2,a.set(t,e);var l=da(s(t),s(e),n,i,o,a);return a.delete(t),l;case"[object Symbol]":if(ya)return ya.call(t)==ya.call(e)}return!1};var wa=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t},Ma=Array.isArray,_a=wa,Ya=Ma;var Ea=function(t,e,r){var n=e(t);return Ya(t)?n:_a(n,r(t))};var xa=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o},Oa=function(){return[]},Aa=Object.prototype.propertyIsEnumerable,Na=Object.getOwnPropertySymbols,Ta=Na?function(t){return null==t?[]:(t=Object(t),xa(Na(t),(function(e){return Aa.call(t,e)})))}:Oa;var Sa=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},ja=ci,Da=pi;var Ca=function(t){return Da(t)&&"[object Arguments]"==ja(t)},ka=pi,Ra=Object.prototype,Ia=Ra.hasOwnProperty,La=Ra.propertyIsEnumerable,Fa=Ca(function(){return arguments}())?Ca:function(t){return ka(t)&&Ia.call(t,"callee")&&!La.call(t,"callee")},Pa={exports:{}};var Ba=function(){return!1};!function(t,e){var r=Jn,n=Ba,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=(a?a.isBuffer:void 0)||n;t.exports=s}(Pa,Pa.exports);var Ua=/^(?:0|[1-9]\d*)$/;var Ha=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Ua.test(t))&&t>-1&&t%1==0&&t<e};var za=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},$a=ci,Va=za,Wa=pi,qa={};qa["[object Float32Array]"]=qa["[object Float64Array]"]=qa["[object Int8Array]"]=qa["[object Int16Array]"]=qa["[object Int32Array]"]=qa["[object Uint8Array]"]=qa["[object Uint8ClampedArray]"]=qa["[object Uint16Array]"]=qa["[object Uint32Array]"]=!0,qa["[object Arguments]"]=qa["[object Array]"]=qa["[object ArrayBuffer]"]=qa["[object Boolean]"]=qa["[object DataView]"]=qa["[object Date]"]=qa["[object Error]"]=qa["[object Function]"]=qa["[object Map]"]=qa["[object Number]"]=qa["[object Object]"]=qa["[object RegExp]"]=qa["[object Set]"]=qa["[object String]"]=qa["[object WeakMap]"]=!1;var Ka=function(t){return Wa(t)&&Va(t.length)&&!!qa[$a(t)]};var Ga=function(t){return function(e){return t(e)}},Xa={exports:{}};!function(t,e){var r=Kn,n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,o=i&&i.exports===n&&r.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}(Xa,Xa.exports);var Ja=Ka,Qa=Ga,Za=Xa.exports,ts=Za&&Za.isTypedArray,es=ts?Qa(ts):Ja,rs=Sa,ns=Fa,is=Ma,os=Pa.exports,as=Ha,ss=es,us=Object.prototype.hasOwnProperty;var cs=function(t,e){var r=is(t),n=!r&&ns(t),i=!r&&!n&&os(t),o=!r&&!n&&!i&&ss(t),a=r||n||i||o,s=a?rs(t.length,String):[],u=s.length;for(var c in t)!e&&!us.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||as(c,u))||s.push(c);return s},ls=Object.prototype;var fs=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ls)},ps=li(Object.keys,Object),hs=fs,ds=ps,ms=Object.prototype.hasOwnProperty;var vs=Ki,gs=za;var ys=cs,bs=function(t){if(!hs(t))return ds(t);var e=[];for(var r in Object(t))ms.call(t,r)&&"constructor"!=r&&e.push(r);return e},ws=function(t){return null!=t&&gs(t.length)&&!vs(t)};var Ms=Ea,_s=Ta,Ys=function(t){return ws(t)?ys(t):bs(t)};var Es=function(t){return Ms(t,Ys,_s)},xs=Object.prototype.hasOwnProperty;var Os=function(t,e,r,n,i,o){var a=1&r,s=Es(t),u=s.length;if(u!=Es(e).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in e:xs.call(e,l)))return!1}var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var h=!0;o.set(t,e),o.set(e,t);for(var d=a;++c<u;){var m=t[l=s[c]],v=e[l];if(n)var g=a?n(v,m,l,e,t,o):n(m,v,l,t,e,o);if(!(void 0===g?m===v||i(m,v,r,n,o):g)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(t),o.delete(e),h},As=po(Jn,"DataView"),Ns=ho,Ts=po(Jn,"Promise"),Ss=po(Jn,"Set"),js=po(Jn,"WeakMap"),Ds=ci,Cs=Zi,ks=Cs(As),Rs=Cs(Ns),Is=Cs(Ts),Ls=Cs(Ss),Fs=Cs(js),Ps=Ds;(As&&"[object DataView]"!=Ps(new As(new ArrayBuffer(1)))||Ns&&"[object Map]"!=Ps(new Ns)||Ts&&"[object Promise]"!=Ps(Ts.resolve())||Ss&&"[object Set]"!=Ps(new Ss)||js&&"[object WeakMap]"!=Ps(new js))&&(Ps=function(t){var e=Ds(t),r="[object Object]"==e?t.constructor:void 0,n=r?Cs(r):"";if(n)switch(n){case ks:return"[object DataView]";case Rs:return"[object Map]";case Is:return"[object Promise]";case Ls:return"[object Set]";case Fs:return"[object WeakMap]"}return e});var Bs=na,Us=fa,Hs=ba,zs=Os,$s=Ps,Vs=Ma,Ws=Pa.exports,qs=es,Ks="[object Object]",Gs=Object.prototype.hasOwnProperty;var Xs=function(t,e,r,n,i,o){var a=Vs(t),s=Vs(e),u=a?"[object Array]":$s(t),c=s?"[object Array]":$s(e),l=(u="[object Arguments]"==u?Ks:u)==Ks,f=(c="[object Arguments]"==c?Ks:c)==Ks,p=u==c;if(p&&Ws(t)){if(!Ws(e))return!1;a=!0,l=!1}if(p&&!l)return o||(o=new Bs),a||qs(t)?Us(t,e,r,n,i,o):Hs(t,e,u,r,n,i,o);if(!(1&r)){var h=l&&Gs.call(t,"__wrapped__"),d=f&&Gs.call(e,"__wrapped__");if(h||d){var m=h?t.value():t,v=d?e.value():e;return o||(o=new Bs),i(m,v,r,n,o)}}return!!p&&(o||(o=new Bs),zs(t,e,r,n,i,o))},Js=pi;var Qs=function t(e,r,n,i,o){return e===r||(null==e||null==r||!Js(e)&&!Js(r)?e!=e&&r!=r:Xs(e,r,n,i,t,o))};var Zs=function(t,e){return Qs(t,e)};function tu(t,e,r=null){return function t(e,r,n=null){const i={};return Object.keys(r).forEach(o=>{if(!Zs(r[o],e[o])){if(n&&!n.has(o))return;if(Mi(r[o])&&Mi(e[o])){const n=t(e[o],r[o]);Object.keys(n).length&&(i[o]=n)}else i[o]=r[o]}}),Object.keys(e).forEach(t=>{n&&!n.has(t)||void 0===r[t]&&(i[t]=null)}),i}(t,e,r?new Set(r):null)}function eu(){const t=[];return{fire(){for(var e=t.length-1;e>=0;e--)t[e].apply(this,arguments)},add(e){t.push(e)}}}function ru(t,e){const r=t.getMetadata("data.changes",[]),n=t.getMetadata("data.transpose",!1),i=e.numRows();return r.forEach(t=>{const r=n?t.column:t.row,o=n?t.row:t.column;if(e.hasColumn(o))if(t.ignored=!1,0===r){if(t.previous&&"undefined"!==t.previous){if(e.column(o).title()!==t.previous)return}e.column(o).title(t.value)}else if(r<=i){if(t.previous&&"undefined"!==t.previous){if(e.column(o).raw(r-1)!==t.previous)return}e.column(o).raw(r-1,t.value)}}),_e(t.getMetadata("data.column-format",{}),(t,r)=>{t.type&&e.hasColumn(r)&&"auto"!==t.type&&e.column(r).type(t.type),t["input-format"]&&e.hasColumn(r)&&e.column(r).type(!0).format(t["input-format"])}),e}function nu(t){return t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")}function iu(t,e){let r=t.getMetadata("describe.computed-columns",{});Array.isArray(r)||(r=Object.keys(r).reduce((t,e)=>(t.push({name:e,formula:r[e]}),t),[]));const n=ru(t,e).list(),i={},o={},a=new Ln;e.eachColumn((function(t){if(!t.isComputed)if(i[t.name()]=nu(t.name()),"number"===t.type()){const[e,r]=t.range();o[t.name()]={min:e,max:r,sum:t.sum(),mean:t.mean(),median:t.median()}}else if("date"===t.type()){const[e,r]=t.range();o[t.name()]={min:e,max:r}}}));const s=r.reduce((t,r,n)=>{const i=nu(r.name);return t.set(i,{name:r.name,index:e.numColumns()+n,key:i,formula:r.formula,visited:0,computed:!1,dependsOn:[]})},new Map);r.forEach(({formula:t,name:e})=>{const r=s.get(nu(e));if(t.trim())try{r.expr=a.parse(t.trim()),r.expr.variables().forEach(t=>{t=t.split("__")[0],s.has(t)&&r.dependsOn.push(s.get(t))})}catch(t){r.error=t.message}else r.expr={evaluate:()=>"",variables:()=>[]}});const u=[];let c=0;for(;s.size&&!(c>1e3);)s.forEach(t=>{c++;try{l(t,[])}catch(e){if(!e.message.startsWith("circular-dependency"))throw e;t.error=e.message,s.delete(t.key),u.push(t)}});return u.forEach(e=>{if(e.error){const t=Or(e.name,n.map(()=>"null"));t.isComputed=!0,t.formula=e.formula,t.errors=[{message:e.error,row:"all"}],e.column=t}else e.column=function({formula:e,name:r,expr:a,error:s,index:u}){const c=[];s&&c.push({row:"all",message:s});const l=t.getMetadata("data.changes",[]).filter(t=>t.column===u&&t.row>0).reduce((t,e)=>{const r=t.get(e.row-1);return r&&(e.previous=r.previous),t.set(e.row-1,e),t},new Map),f=n.map((function(t,e){const r={ROWNUMBER:e};let n;_e(t,(function(t,e){i[e]&&(r[i[e]]=t,o[e]&&Object.keys(o[e]).forEach(t=>{r[`${i[e]}__${t}`]=o[e][t]}))}));try{n=a.evaluate(r),"function"==typeof n&&(c.push({message:"formula returned function",row:e}),n=null)}catch(t){c.push({message:t.message,row:e}),n=null}if(l.has(e)){const t=l.get(e);if(void 0===t.previous||t.previous==n)return t.value}return n}));i[r]=nu(r),f.forEach((t,e)=>{n[e][r]=t});var p=Or(r,f.map((function(t){return O(t)?t?"yes":"no":S(t)?function(t){try{return t.toISOString()}catch(e){if(e instanceof RangeError)return t.toString();throw e}}(t):T(t)?String(t):E(t)?null:String(t)})));if("number"===p.type()){const[t,e]=p.range();o[r]={min:t,max:e,sum:p.sum(),mean:p.mean(),median:p.median()}}else if("date"===p.type()){const[t,e]=p.range();o[r]={min:t,max:e}}return p.isComputed=!0,p.errors=c,p.formula=e,p}(e)}),u.sort((t,e)=>t.index-e.index).forEach(({column:t})=>e.add(t)),e;function l(t,e){if(t.computed)return;e.push(t.name);for(let r=0;r<e.length-2;r++)if(t.name===e[r])throw new Error("circular-dependency: "+e.join(" ‣ "));t.curIter=c;let r=!0;for(let e=0;e<t.dependsOn.length;e++)r=r&&t.dependsOn[e].computed;r?(t.computed=!0,u.push(t),s.delete(t.key)):e.length<10&&t.dependsOn.forEach(t=>{l(t,e.slice(0))})}}let ou;var au={exports:{}};
/*! @preserve
     * numeral.js
     * version : 2.0.6
     * author : Adam Draper
     * license : MIT
     * http://adamwdraper.github.com/Numeral-js/
     */!function(t){!function(e,r){t.exports?t.exports=r():e.numeral=r()}(qn,(function(){var t,e,r,n,i,o={},a={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function c(t,e){this._input=t,this._value=e}return(t=function(r){var n,i,a,s;if(t.isNumeral(r))n=r.value();else if(0===r||void 0===r)n=0;else if(null===r||e.isNaN(r))n=null;else if("string"==typeof r)if(u.zeroFormat&&r===u.zeroFormat)n=0;else if(u.nullFormat&&r===u.nullFormat||!r.replace(/[^0-9]+/g,"").length)n=null;else{for(i in o)if((s="function"==typeof o[i].regexps.unformat?o[i].regexps.unformat():o[i].regexps.unformat)&&r.match(s)){a=o[i].unformat;break}n=(a=a||t._.stringToNumber)(r)}else n=Number(r)||null;return new c(r,n)}).version="2.0.6",t.isNumeral=function(t){return t instanceof c},t._=e={numberToFormat:function(e,r,n){var i,o,s,u,c,l,f,p,h=a[t.options.currentLocale],d=!1,m=!1,v="",g="",y=!1;if(e=e||0,s=Math.abs(e),t._.includes(r,"(")?(d=!0,r=r.replace(/[\(|\)]/g,"")):(t._.includes(r,"+")||t._.includes(r,"-"))&&(l=t._.includes(r,"+")?r.indexOf("+"):e<0?r.indexOf("-"):-1,r=r.replace(/[\+|\-]/g,"")),t._.includes(r,"a")&&(o=!!(o=r.match(/a(k|m|b|t)?/))&&o[1],t._.includes(r," a")&&(v=" "),r=r.replace(new RegExp(v+"a[kmbt]?"),""),s>=1e12&&!o||"t"===o?(v+=h.abbreviations.trillion,e/=1e12):s<1e12&&s>=1e9&&!o||"b"===o?(v+=h.abbreviations.billion,e/=1e9):s<1e9&&s>=1e6&&!o||"m"===o?(v+=h.abbreviations.million,e/=1e6):(s<1e6&&s>=1e3&&!o||"k"===o)&&(v+=h.abbreviations.thousand,e/=1e3)),t._.includes(r,"[.]")&&(m=!0,r=r.replace("[.]",".")),u=e.toString().split(".")[0],c=r.split(".")[1],f=r.indexOf(","),i=(r.split(".")[0].split(",")[0].match(/0/g)||[]).length,c?(t._.includes(c,"[")?(c=(c=c.replace("]","")).split("["),g=t._.toFixed(e,c[0].length+c[1].length,n,c[1].length)):g=t._.toFixed(e,c.length,n),u=g.split(".")[0],g=t._.includes(g,".")?h.delimiters.decimal+g.split(".")[1]:"",m&&0===Number(g.slice(1))&&(g="")):u=t._.toFixed(e,0,n),v&&!o&&Number(u)>=1e3&&v!==h.abbreviations.trillion)switch(u=String(Number(u)/1e3),v){case h.abbreviations.thousand:v=h.abbreviations.million;break;case h.abbreviations.million:v=h.abbreviations.billion;break;case h.abbreviations.billion:v=h.abbreviations.trillion}if(t._.includes(u,"-")&&(u=u.slice(1),y=!0),u.length<i)for(var b=i-u.length;b>0;b--)u="0"+u;return f>-1&&(u=u.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===r.indexOf(".")&&(u=""),p=u+g+(v||""),d?p=(d&&y?"(":"")+p+(d&&y?")":""):l>=0?p=0===l?(y?"-":"+")+p:p+(y?"-":"+"):y&&(p="-"+p),p},stringToNumber:function(t){var e,r,n,i=a[u.currentLocale],o=t,s={thousand:3,million:6,billion:9,trillion:12};if(u.zeroFormat&&t===u.zeroFormat)r=0;else if(u.nullFormat&&t===u.nullFormat||!t.replace(/[^0-9]+/g,"").length)r=null;else{for(e in r=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),s)if(n=new RegExp("[^a-zA-Z]"+i.abbreviations[e]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(n)){r*=Math.pow(10,s[e]);break}r*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),r*=Number(t)}return r},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,r){return t.slice(0,r)+e+t.slice(r)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var r,n=Object(t),i=n.length>>>0,o=0;if(3===arguments.length)r=arguments[2];else{for(;o<i&&!(o in n);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");r=n[o++]}for(;o<i;o++)o in n&&(r=e(r,n[o],o,n));return r},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce((function(t,r){var n=e.multiplier(r);return t>n?t:n}),1)},toFixed:function(t,e,r,n){var i,o,a,s,u=t.toString().split("."),c=e-(n||0);return i=2===u.length?Math.min(Math.max(u[1].length,c),e):c,a=Math.pow(10,i),s=(r(t+"e+"+i)/a).toFixed(i),n>e-i&&(o=new RegExp("\\.?0{1,"+(n-(e-i))+"}$"),s=s.replace(o,"")),s}},t.options=u,t.formats=o,t.locales=a,t.locale=function(t){return t&&(u.currentLocale=t.toLowerCase()),u.currentLocale},t.localeData=function(t){if(!t)return a[u.currentLocale];if(t=t.toLowerCase(),!a[t])throw new Error("Unknown locale : "+t);return a[t]},t.reset=function(){for(var t in s)u[t]=s[t]},t.zeroFormat=function(t){u.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){u.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){u.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,r){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=r,r},t.validate=function(e,r){var n,i,o,a,s,u,c,l;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{c=t.localeData(r)}catch(e){c=t.localeData(t.locale())}return o=c.currency.symbol,s=c.abbreviations,n=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(l=e.match(/^[^\d]+/))||(e=e.substr(1),l[0]===o))&&((null===(l=e.match(/[^\d]+$/))||(e=e.slice(0,-1),l[0]===s.thousand||l[0]===s.million||l[0]===s.billion||l[0]===s.trillion))&&(u=new RegExp(i+"{2}"),!e.match(/[^\d.,]/g)&&(!((a=e.split(n)).length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(u):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(u)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(u)&&!!a[1].match(/^\d+$/)))))},t.fn=c.prototype={clone:function(){return t(this)},format:function(e,r){var n,i,a,s=this._value,c=e||u.defaultFormat;if(r=r||Math.round,0===s&&null!==u.zeroFormat)i=u.zeroFormat;else if(null===s&&null!==u.nullFormat)i=u.nullFormat;else{for(n in o)if(c.match(o[n].regexps.format)){a=o[n].format;break}i=(a=a||t._.numberToFormat)(s,c,r)}return i},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var r=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],(function(t,e,n,i){return t+Math.round(r*e)}),0)/r,this},subtract:function(t){var r=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],(function(t,e,n,i){return t-Math.round(r*e)}),Math.round(this._value*r))/r,this},multiply:function(t){return this._value=e.reduce([this._value,t],(function(t,r,n,i){var o=e.correctionFactor(t,r);return Math.round(t*o)*Math.round(r*o)/Math.round(o*o)}),1),this},divide:function(t){return this._value=e.reduce([this._value,t],(function(t,r,n,i){var o=e.correctionFactor(t,r);return Math.round(t*o)/Math.round(r*o)})),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,r,n){var i,o=t._.includes(r," BPS")?" ":"";return e*=1e4,r=r.replace(/\s?BPS/,""),i=t._.numberToFormat(e,r,n),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i="("+(i=(r={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(n.suffixes.filter((function(t){return r.suffixes.indexOf(t)<0}))).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(i)},format:function(e,i,o){var a,s,u,c=t._.includes(i,"ib")?n:r,l=t._.includes(i," b")||t._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),a=0;a<=c.suffixes.length;a++)if(s=Math.pow(c.base,a),u=Math.pow(c.base,a+1),null===e||0===e||e>=s&&e<u){l+=c.suffixes[a],s>0&&(e/=s);break}return t._.numberToFormat(e,i,o)+l},unformat:function(e){var i,o,a=t._.stringToNumber(e);if(a){for(i=r.suffixes.length-1;i>=0;i--){if(t._.includes(e,r.suffixes[i])){o=Math.pow(r.base,i);break}if(t._.includes(e,n.suffixes[i])){o=Math.pow(n.base,i);break}}a*=o||1}return a}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,r,n){var i,o,a=t.locales[t.options.currentLocale],s={before:r.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:r.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(r=r.replace(/\s?\$\s?/,""),i=t._.numberToFormat(e,r,n),e>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(s.before,"-")&&!t._.includes(s.before,"(")&&(s.before="-"+s.before),o=0;o<s.before.length;o++)switch(s.before[o]){case"$":i=t._.insert(i,a.currency.symbol,o);break;case" ":i=t._.insert(i," ",o+a.currency.symbol.length-1)}for(o=s.after.length-1;o>=0;o--)switch(s.after[o]){case"$":i=o===s.after.length-1?i+a.currency.symbol:t._.insert(i,a.currency.symbol,-(s.after.length-(1+o)));break;case" ":i=o===s.after.length-1?i+" ":t._.insert(i," ",-(s.after.length-(1+o)+a.currency.symbol.length-1))}return i}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,r,n){var i=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return r=r.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(i[0]),r,n)+"e"+i[1]},unformat:function(e){var r=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),n=Number(r[0]),i=Number(r[1]);return i=t._.includes(e,"e-")?i*=-1:i,t._.reduce([n,Math.pow(10,i)],(function(e,r,n,i){var o=t._.correctionFactor(e,r);return e*o*(r*o)/(o*o)}),1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,r,n){var i=t.locales[t.options.currentLocale],o=t._.includes(r," o")?" ":"";return r=r.replace(/\s?o/,""),o+=i.ordinal(e),t._.numberToFormat(e,r,n)+o}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,r,n){var i,o=t._.includes(r," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),r=r.replace(/\s?\%/,""),i=t._.numberToFormat(e,r,n),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(e){var r=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*r:r}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,r){var n=Math.floor(t/60/60),i=Math.floor((t-60*n*60)/60),o=Math.round(t-60*n*60-60*i);return n+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(t){var e=t.split(":"),r=0;return 3===e.length?(r+=60*Number(e[0])*60,r+=60*Number(e[1]),r+=Number(e[2])):2===e.length&&(r+=60*Number(e[0]),r+=Number(e[1])),Number(r)}}),t}))}(au);var su=au.exports;function uu({dataset:t,visAxes:e,userAxes:r,overrideKeys:n}){r=r||{},n=n||{};const i={},o={},a={};_e(e,(e,a)=>{if(r[a]){let s=r[a];if(e.optional&&e.overrideOptionalKey&&!n[e.overrideOptionalKey])return;(function(e){z(e)||(e=[e]);for(var r=0;r<e.length;r++)if(!t.hasColumn(e[r]))return!1;return!0})(s)&&u(e,s,!0)&&!!e.multiple===z(s)&&(o[a]=e.multiple&&!z(s)?[s]:s,z(s)||(s=[s]),_e(s,(function(t){i[t]=!0})))}});var s=[];return _e(e,t=>{t.optional&&t.overrideOptionalKey&&n[t.overrideOptionalKey]&&(t.optional=!1)}),_e(e,(r,n)=>{if(s.push(n),!o[n])if(r.optional)o[n]=!1;else if(r.multiple){const a=function(t){let r=0;return _e(e,(function(e,n){s.indexOf(n)>-1||function(t,e){if(void 0===t&&void 0!==e)return!1;if(void 0===e&&void 0!==t)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(-1===e.indexOf(t[r]))return!1;return!0}(e.accepts,t)&&"string"!=typeof r&&(e.optional||(e.multiple?r="multiple":r+=1))})),r}(r.accepts);let c=function(t){let e=0;return t.eachColumn(t=>{u(r,t)&&e++}),e}(t);o[n]=[],t.eachColumn((function(t){"multiple"===a&&o[n].length||c<=a||u(r,t)&&(i[t.name()]=!0,o[n].push(t.name()),c--)}))}else{const e=Ae(t.columns(),t=>u(r,t));let a;if(r.preferred){const t=new RegExp(r.preferred,"i");a=Me(e,(function(e){return t.test(e.name())||e.title()!==e.name()&&t.test(e.title())}))}if(a||(a=e[0]),a)i[a.name()]=!0,o[n]=a.name();else if(be(r.accepts,"text")>=0){const e=Ae(t.columns(),(function(t){return be(r.accepts,t.type())>=0}));if(e.length)o[n]=e[0].name();else{const e=Or(n,Ye(er(t.numRows()),(function(t){return(t>25?String.fromCharCode(64+t/26):"")+String.fromCharCode(65+t%26)})),"text");t.add(e),i[e.name()]=!0,o[n]=e.name()}}}}),_e(o,(e,r)=>{z(e)?(a[r]=[],_e(e,(function(e,n){a[r][n]=!1!==e?t.column(e):null}))):a[r]=!1!==e?t.column(e):null}),{axes:o,axesAsColumns:a,usedColumns:i};function u(e,r,n){z(r)||(r=[r]),r=r.map(e=>"string"==typeof e?t.column(e):e);for(var o=0;o<r.length;o++)if(!n&&i[r[o].name()]||-1===be(e.accepts,r[o].type()))return!1;return!0}}function cu(t,e){if(!e.filterColumns)return e;const r=t.getMetadata("data.column-format",{}),n=Object.fromEntries(Object.entries(r).map(([t,e])=>[t,!!e.ignore]));return e.filterColumns(n),e}const lu=function(){}.prototype;Ot(lu,{__init(){return this.__renderedDfd=new Promise(t=>{this.__renderedResolve=t}),this.__rendered=!1,this.__colors={},this.__callbacks={},window.parent&&window.parent.postMessage&&window.parent.postMessage("datawrapper:vis:init","*"),this},render(t){t.innerHTML="implement me!"},theme(t){return arguments.length?(this.__theme=t,this):"string"==typeof this.__theme?dw.theme(this.__theme):this.__theme},libraries(t){return arguments.length?(this.__libraries=t,this):this.__libraries||{}},target(t){return arguments.length?(this.__target=t,this):this.__target},size(t,e){const r=this;return arguments.length?(r.__w=t,r.__h=e,r):[r.__w,r.__h]},get(t,e){return _i(this.chart().get(),"metadata.visualize"+(t?"."+t:""),e)},chart(t){var e=this;if(!arguments.length)return e.__chart;e.dataset=t.dataset(),e.theme(t.theme()),e.__chart=t,e.__axisCache=void 0,cu(t,e.dataset);const{numeral:r}=e.libraries();if(r&&t.locales&&t.locales.numeral){try{r.register("locale","dw",t.locales.numeral)}catch(t){if(!(t instanceof TypeError))throw t}r.locale("dw")}return e},axes(t,e){const r=this,n=_i(r.chart().get(),"metadata.axes",{}),i=Fr(r.meta.axes),o=Object.fromEntries(Object.entries(i).filter(([,t])=>t.optional&&t.overrideOptionalKey).map(([,t])=>[t.overrideOptionalKey,r.chart().getMetadata(t.overrideOptionalKey,!1)]));if(!e&&r.__axisCache&&ct(r.__axisCache.userAxes,n)&&ct(r.__axisCache.overrideKeys,o)&&r.__axisCache.transpose===r.chart().getMetadata("data.transpose"))return r.__axisCache[t?"axesAsColumns":"axes"];const a=r.dataset,{axes:s,axesAsColumns:u}=uu({dataset:a,userAxes:n,visAxes:i,overrideKeys:o});return r.chart().dataset(a),cu(r.chart(),a),r.__axisCache={axes:s,axesAsColumns:u,userAxes:Fr(n),overrideKeys:o,transpose:r.chart().getMetadata("data.transpose")},r.__axisCache[t?"axesAsColumns":"axes"]},keys(){const t=this.axes();if(t.labels){const e=this.dataset.column(t.labels),r=[];return e.each(t=>{r.push(String(t))}),r}return[]},keyLabel:t=>t,reset(){this.clear();this.target().innerHTML="",Vn(".chart .filter-ui"),Vn(".chart .legend")},clear(){},renderingComplete(){window.parent&&window.parent.postMessage&&setTimeout((function(){window.parent.postMessage("datawrapper:vis:rendered","*")}),200),this.__renderedResolve(),this.__rendered=!0,this.postRendering()},postRendering(){},rendered(){return this.__renderedDfd},supportsSmartRendering:()=>!1,colorMode(t){if(!arguments.length)return this.__colorMode;this.__colorMode=t},colorMap(t){if(!arguments.length)return(...t)=>{let e=t[0];const r=this.__darkMode&&this.__darkModeColorMap;return this.__colors[e]=1,this.__colorMap?(r&&(e=this.__darkModeColorMap(...t)),this.__colorMap(e)):(r&&(e=this.__darkModeColorMap(...t)),e)};this.__colorMap=t},initDarkMode(t,e){this.__onDarkModeChange=t,this.__darkModeColorMap=e},darkMode(t){if(void 0===this.__darkMode&&(this.__darkMode=!1),!arguments.length)return this.__darkMode;this.__onDarkModeChange&&(this.__darkMode=t,this.__onDarkModeChange(t))},colorsUsed(){return Object.keys(this.__colors)},on(t,e){this.__callbacks[t]||(this.__callbacks[t]=[]),this.__callbacks[t].push(e)},fire(t,e){this.__callbacks&&this.__callbacks[t]&&this.__callbacks[t].forEach((function(t){"function"==typeof t&&t(e)}))}});const fu={};function pu(t,e){if(!fu[t]){console.warn("unknown visualization type: "+t);const e=Object.keys(fu);return e.length>0&&console.warn("try one of these instead: "+e.join(", ")),!1}const r=St(lu),n=function(t){const e=[];for(;"base"!==t.parentVis;)t=fu[t.parentVis],e.push({id:t.parentVis,vis:t});return e.reverse()}(fu[t]);return n.push({id:t,vis:fu[t]}),n.forEach(n=>{Object.assign(r,"function"==typeof n.vis.init?n.vis.init({target:e}):n.vis.init,{id:t})}),r.libraries(pu.libraries),e&&r.target(e),r}pu.register=function(t){let e,r;2===arguments.length?(e="base",r=arguments[1]):3===arguments.length&&(e=arguments[1],r=arguments[2]),fu[t]={parentVis:e,init:r}},pu.has=function(t){return void 0!==fu[t]},pu.libraries={numeral:su},pu.base=lu;const hu={};function du(t){return hu[t]}du.register=function(t,e){hu[t]=e};const mu={};function vu(t){return mu[t]}vu.register=function(t,e){mu[t]=e},vu.has=function(t){return void 0!==mu[t]};let gu=[];Or.types=Mr;const yu={version:"chart-core@8.47.0",dataset:or,column:Or,datasource:{delimited:jr,json:kr},utils:Wn,chart:function(t){let e,r,n,i,o={};const a=eu(),s=eu(),u={};let c,l={};const f={get:(e,r)=>_i(t,e,r),getMetadata:(e,r)=>_i(t,"metadata."+e,r),set(e,r){return function(t,e,r){const n=Array.isArray(e)?e:e.split("."),i=n.pop();let o=t;return n.forEach(t=>{void 0!==o[t]&&null!==o[t]||(o[t]={}),o=o[t]}),JSON.stringify(o[i])!==JSON.stringify(r)&&(o[i]=r,!0)}(t,e,r)&&a.fire(f,e,r),this},setMetadata:(t,e)=>f.set("metadata."+t,e),getElementBounds(t){const e=ou.target().getBoundingClientRect(),r=t.getBoundingClientRect();return{top:r.top-e.top,right:r.right-e.left,bottom:r.bottom-e.top,left:r.left-e.left,width:r.width,height:r.height}},load(t,e){const r={chartId:f.get("id"),firstRowIsHeader:f.get("metadata.data.horizontal-header",!0),transpose:f.get("metadata.data.transpose",!1)};!t&&""!==t||e?r.url=e||"data.csv":r.csv=t;return(f.get("metadata.data.json")?kr(r):jr(r)).dataset().then(t=>(this.dataset(t),s.fire(f,t),t))},dataset(t){return arguments.length?(!0!==t&&(c=t),e=f.get("metadata.data.json")?c:function(t,e){var r=t.getMetadata("data.column-order",[]);return r.length&&r.length===e.numColumns()&&e.columnOrder(r),e}(f,ru(f,iu(f,c))),!0===t?e:f):e},setDataset(t){e=t},theme(t){return arguments.length?(r=t,f):r||{}},vis(t){return arguments.length?(ou=t,ou.chart(f),f):ou},hasHighlight(){var t=f.get("metadata.visualize.highlighted-series");return z(t)&&t.length>0},isHighlighted(t){if(void 0===x(t))return!1;const e=f.get("metadata.visualize.highlighted-series"),r=Hn(t);return!z(e)||0===e.length||be(e,r)>=0},locale(t,e){return arguments.length?(i=t.replace("_","-"),i||(i="en-US"),"function"==typeof e&&e(),f):i},metricPrefix(t){return arguments.length?(n=t,f):n},inEditor:()=>{try{return window.parent!==window&&window.parent.dw&&window.parent.dw.backend&&window.parent.dw.backend.hooks}catch(t){return!1}},createPostEvent(){const t=f.get("id"),{isIframe:e}=o;return function(t,e){const r=e?window.parent:window;return function(e,n){if(r&&r.postMessage){const i={source:"datawrapper",chartId:t,type:e,data:n};r.postMessage(i,"*")}}}(t,e)},flags(t){return arguments.length?(o=t,f):o},render(t){if(!ou||!r||!e)throw new Error("cannot render the chart!");const n=o.isIframe,i=f.vis().target();ou.chart(f);const a=$n(i),s=n?zn():f.getMetadata("publish.chart-height")||400,u=f.getHeightMode();if("fixed"===u?a<=0:a<=0||s<=0)return console.warn("Aborting chart rendering due to invalid container dimensions"),window.clearInterval(this.__resizingInterval),this.__resizingInterval=setInterval(l,1e3),void l();[i,t].forEach(t=>{t.classList.toggle("vis-height-fit","fit"===u),t.classList.toggle("vis-height-fixed","fixed"===u)});const c=_i(r,`vis.${f.type}.mobileBreakpoint`,450);function l(){if(o&&o.fitchart)return;let t;if("fit"===f.getHeightMode()){if(f.inEditor()||!f.getMetadata("publish.chart-height"))return;t=Br()+f.getMetadata("publish.chart-height")}else t=Pr(document.querySelector("html"),!0);Math.round(window.innerHeight)!==Math.round(t)&&(window.parent.postMessage({"datawrapper-height":{[f.get().id]:t}},"*"),window.parent.postMessage({sentinel:"amp",type:"embed-size",height:t},"*"),window.parent.postMessage(JSON.stringify({src:location.href,context:"iframe.resize",height:t}),"*"),"function"==typeof window.datawrapperHeightCallback&&window.datawrapperHeightCallback(t))}t.classList.toggle("is-mobile",t.clientWidth<=c),t.classList.add("vis-"+ou.id),ou.reset(i),ou.size(a,s),ou.__init(),ou.render(i),n&&(window.clearInterval(this.__resizingInterval),this.__resizingInterval=setInterval(l,1e3),l())},getHeightMode(){const t=_i(ou.theme(),"vis.d3-pies.fitchart",!1)&&["d3-pies","d3-donuts","d3-multiple-pies","d3-multiple-donuts"].indexOf(ou.meta.id)>-1,e=!!new URLSearchParams(window.location.search).get("fitchart");return t||e||"fixed"!==ou.meta.height?"fit":"fixed"},attributes(e){if(arguments.length){const r=tu(t,e);return t=e,function t(e){const r=Object.keys(e),n=[];return r.forEach(r=>{Mi(e[r])?t(e[r]).forEach(t=>{n.push(`${r}.${t}`)}):n.push(r)}),n}(r).forEach(t=>{a.fire(f,t,_i(e,t))}),f}return t},onChange:a.add,onDatasetChange:s.add,dataCellChanged(t,r){const n=f.get("metadata.data.changes",[]),i=f.get("metadata.data.transpose",!1);let o=!1;const a=e.columnOrder();return t=a[t],n.forEach(e=>{let n="row",a="column";i&&(n="column",a="row"),t===e[a]&&e[n]===r&&(o=!0)}),o},asset(t,e){if(1===arguments.length)return u[t];u[t]=e},translations(t){return 0===arguments.length?l:(l=t,this)},translate(t){if(!l[t])return"MISSING: "+t;var e=l[t];return"string"==typeof e&&arguments.length>1&&(e=e.replace(/\$(\d)/g,(t,e)=>(e=1+Number(e),void 0===arguments[e]?t:arguments[e]))),e}};return f},visualization:pu,theme:du,block:vu,notify:function(t){t.remove=()=>{gu=gu.filter(e=>e!==t),window.parent.dw.backend.fire("notifications.change",gu)},gu.push(t);try{return window.parent.dw.backend.fire("notifications.change",gu),t.remove}catch(t){}}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=yu),exports.dw=yu):window.dw=yu}();
//# sourceMappingURL=dw-2.0.min.js.map
