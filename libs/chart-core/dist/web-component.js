(function(){"use strict";function noop$1(){}function assign$1(e,t){for(const r in t)e[r]=t[r];return e}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let src_url_equal_anchor,current_component;function src_url_equal(e,t){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=t,e===src_url_equal_anchor.href}function is_empty(e){return 0===Object.keys(e).length}function subscribe(e){if(null==e)return noop$1;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=e.subscribe(...r);return a.unsubscribe?()=>a.unsubscribe():a}function component_subscribe(e,t,r){e.$$.on_destroy.push(subscribe(t,r))}function set_store_value(e,t,r){return e.set(r),t}function action_destroyer(e){return e&&is_function(e.destroy)?e.destroy:noop$1}function append$1(e,t){e.appendChild(t)}function insert(e,t,r){e.insertBefore(t,r||null)}function detach(e){e.parentNode&&e.parentNode.removeChild(e)}function destroy_each(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function prevent_default(e){return function(t){return t.preventDefault(),e.call(this,t)}}function stop_propagation(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function attr(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function set_attributes(e,t){const r=Object.getOwnPropertyDescriptors(e.__proto__);for(const n in t)null==t[n]?e.removeAttribute(n):"style"===n?e.style.cssText=t[n]:"__value"===n?e.value=e[n]=t[n]:r[n]&&r[n].set?e[n]=t[n]:attr(e,n,t[n])}function set_custom_element_data_map(e,t){Object.keys(t).forEach((r=>{set_custom_element_data(e,r,t[r])}))}function set_custom_element_data(e,t,r){t in e?e[t]="boolean"==typeof e[t]&&""===r||r:attr(e,t,r)}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function set_style(e,t,r,n){null===r?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function toggle_class(e,t,r){e.classList[r?"add":"remove"](t)}function custom_event(e,t){let{bubbles:r=!1,cancelable:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=document.createEvent("CustomEvent");return a.initCustomEvent(e,r,n,t),a}class HtmlTag{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.e||(this.is_svg?this.e=svg_element(t.nodeName):this.e=element(t.nodeName),this.t=t,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)insert(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(detach)}}function attribute_to_object(e){const t={};for(const r of e)t[r.name]=r.value;return t}function construct_svelte_component(e,t){return new e(t)}function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function afterUpdate(e){get_current_component().$$.after_update.push(e)}function createEventDispatcher(){const e=get_current_component();return function(t,r){let{cancelable:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.$$.callbacks[t];if(a){const o=custom_event(t,r,{cancelable:n});return a.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}function setContext(e,t){return get_current_component().$$.context.set(e,t),t}function getContext(e){return get_current_component().$$.context.get(e)}function bubble(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach((e=>e.call(this,t)))}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(e){render_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0;function flush(){const e=current_component;do{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(null!==e.fragment){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros,SvelteElement;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,r,n){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push((()=>{outroing.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}else n&&n()}function get_spread_update(e,t){const r={},n={},a={$$scope:1};let o=e.length;for(;o--;){const i=e[o],s=t[o];if(s){for(const e in i)e in s||(n[e]=1);for(const e in s)a[e]||(r[e]=s[e],a[e]=1);e[o]=s}else for(const e in i)a[e]=1}for(const e in n)e in r||(r[e]=void 0);return r}function create_component(e){e&&e.c()}function mount_component(e,t,r,n){const{fragment:a,after_update:o}=e.$$;a&&a.m(t,r),n||add_render_callback((()=>{const t=e.$$.on_mount.map(run).filter(is_function);e.$$.on_destroy?e.$$.on_destroy.push(...t):run_all(t),e.$$.on_mount=[]})),o.forEach(add_render_callback)}function destroy_component(e,t){const r=e.$$;null!==r.fragment&&(run_all(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(e,t){-1===e.$$.dirty[0]&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,r,n,a,o,i){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const c=current_component;set_current_component(e);const l=e.$$={fragment:null,ctx:[],props:o,update:noop$1,not_equal:a,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:blank_object(),dirty:s,skip_bound:!1,root:t.target||c.$$.root};i&&i(l.root);let u=!1;if(l.ctx=r?r(e,t.props||{},(function(t,r){const n=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:r;return l.ctx&&a(l.ctx[t],l.ctx[t]=n)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](n),u&&make_dirty(e,t)),r})):[],l.update(),u=!0,run_all(l.before_update),l.fragment=!!n&&n(l.ctx),t.target){if(t.hydrate){const e=children(t.target);l.fragment&&l.fragment.l(e),e.forEach(detach)}else l.fragment&&l.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor,t.customElement),flush()}set_current_component(c)}"function"==typeof HTMLElement&&(SvelteElement=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(run).filter(is_function);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,r){this[e]=r}disconnectedCallback(){run_all(this.$$.on_disconnect)}$destroy(){destroy_component(this,1),this.$destroy=noop$1}$on(e,t){if(!is_function(t))return noop$1;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$1}$on(e,t){if(!is_function(t))return noop$1;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function sheetForTag(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function createStyleElement(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var StyleSheet=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(createStyleElement(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=sheetForTag(t);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(e,t){return 45^charat(e,0)?(((t<<2^charat(e,0))<<2^charat(e,1))<<2^charat(e,2))<<2^charat(e,3):0}function trim$1(e){return e.trim()}function match(e,t){return(e=t.exec(e))?e[0]:e}function replace(e,t,r){return e.replace(t,r)}function indexof(e,t){return e.indexOf(t)}function charat(e,t){return 0|e.charCodeAt(t)}function substr(e,t,r){return e.slice(t,r)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,t){return t.push(e),e}function combine(e,t){return e.map(t).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(e,t,r,n,a,o,i){return{value:e,root:t,parent:r,type:n,props:a,children:o,line:line,column:column,length:i,return:""}}function copy(e,t){return assign(node("",null,null,"",null,null,0),e,{length:-e.length},t)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,10===character&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,10===character&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice$1(e,t){return substr(characters,e,t)}function token(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line=column=1,length=strlen(characters=e),position=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim$1(slice$1(position-1,delimiter(91===e?e+2:40===e?e+1:e)))}function whitespace(e){for(;(character=peek())&&character<33;)next();return token(e)>2||token(character)>3?"":" "}function escaping(e,t){for(;--t&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$1(e,caret()+(t<6&&32==peek()&&32==next()))}function delimiter(e){for(;next();)switch(character){case e:return position;case 34:case 39:34!==e&&39!==e&&delimiter(character);break;case 40:41===e&&delimiter(e);break;case 92:next()}return position}function commenter(e,t){for(;next()&&e+character!==57&&(e+character!==84||47!==peek()););return"/*"+slice$1(t,position-1)+"*"+from(47===e?e:next())}function identifier(e){for(;!token(peek());)next();return slice$1(e,position)}function compile(e){return dealloc(parse("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse(e,t,r,n,a,o,i,s,c){for(var l=0,u=0,f=i,p=0,h=0,d=0,m=1,g=1,y=1,b=0,$="",v=a,_=o,k=n,w=$;g;)switch(d=b,b=next()){case 40:if(108!=d&&58==charat(w,f-1)){-1!=indexof(w+=replace(delimit(b),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:w+=delimit(b);break;case 9:case 10:case 13:case 32:w+=whitespace(d);break;case 92:w+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),t,r),c);break;default:w+="/"}break;case 123*m:s[l++]=strlen(w)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:h>0&&strlen(w)-f&&append(h>32?declaration(w+";",n,r,f-1):declaration(replace(w," ","")+";",n,r,f-2),c);break;case 59:w+=";";default:if(append(k=ruleset(w,t,r,l,u,a,s,$,v=[],_=[],f),o),123===b)if(0===u)parse(w,t,k,k,v,o,f,s,_);else switch(99===p&&110===charat(w,3)?100:p){case 100:case 109:case 115:parse(e,k,k,n&&append(ruleset(e,k,k,0,0,a,s,$,a,v=[],f),_),a,_,f,s,n?v:_);break;default:parse(w,k,k,k,[""],_,0,s,_)}}l=u=h=0,m=y=1,$=w="",f=i;break;case 58:f=1+strlen(w),h=d;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==prev())continue;switch(w+=from(b),b*m){case 38:y=u>0?1:(w+="\f",-1);break;case 44:s[l++]=(strlen(w)-1)*y,y=1;break;case 64:45===peek()&&(w+=delimit(next())),p=peek(),u=f=strlen($=w+=identifier(caret())),b++;break;case 45:45===d&&2==strlen(w)&&(m=0)}}return o}function ruleset(e,t,r,n,a,o,i,s,c,l,u){for(var f=a-1,p=0===a?o:[""],h=sizeof(p),d=0,m=0,g=0;d<n;++d)for(var y=0,b=substr(e,f+1,f=abs(m=i[d])),$=e;y<h;++y)($=trim$1(m>0?p[y]+" "+b:replace(b,/&\f/g,p[y])))&&(c[g++]=$);return node(e,t,r,0===a?RULESET:s,c,l,u)}function comment(e,t,r){return node(e,t,r,COMMENT,from(char()),substr(e,2,-2),0)}function declaration(e,t,r,n){return node(e,t,r,DECLARATION,substr(e,0,n),substr(e,n+1,-1),n)}function serialize(e,t){for(var r="",n=sizeof(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function stringify(e,t,r,n){switch(e.type){case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize(e.children,n)+"}";case RULESET:e.value=e.props.join(",")}return strlen(r=serialize(e.children,n))?e.return=e.value+"{"+r+"}":""}function middleware(e){var t=sizeof(e);return function(r,n,a,o){for(var i="",s=0;s<t;s++)i+=e[s](r,n,a,o)||"";return i}}function rulesheet(e){return function(t){t.root||(t=t.return)&&e(t)}}function memoize$3(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}var identifierWithPointTracking=function(e,t,r){for(var n=0,a=0;n=a,a=peek(),38===n&&12===a&&(t[r]=1),!token(a);)next();return slice$1(e,position)},toRules=function(e,t){var r=-1,n=44;do{switch(token(n)){case 0:38===n&&12===peek()&&(t[r]=1),e[r]+=identifierWithPointTracking(position-1,t,r);break;case 2:e[r]+=delimit(n);break;case 4:if(44===n){e[++r]=58===peek()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=from(n)}}while(n=next());return e},getRules=function(e,t){return dealloc(toRules(alloc(e),t))},fixedElements=new WeakMap,compat=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||fixedElements.get(r))&&!n){fixedElements.set(e,!0);for(var a=[],o=getRules(t,a),i=r.props,s=0,c=0;s<o.length;s++)for(var l=0;l<i.length;l++,c++)e.props[c]=a[s]?o[s].replace(/&\f/g,i[l]):i[l]+" "+o[s]}}},removeLabel=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function prefix(e,t){switch(hash(e,t)){case 5103:return WEBKIT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+e+MOZ+e+MS+e+e;case 6828:case 4268:return WEBKIT+e+MS+e+e;case 6165:return WEBKIT+e+MS+"flex-"+e+e;case 5187:return WEBKIT+e+replace(e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+e;case 5443:return WEBKIT+e+MS+"flex-item-"+replace(e,/flex-|-self/,"")+e;case 4675:return WEBKIT+e+MS+"flex-line-pack"+replace(e,/align-content|flex-|-self/,"")+e;case 5548:return WEBKIT+e+MS+replace(e,"shrink","negative")+e;case 5292:return WEBKIT+e+MS+replace(e,"basis","preferred-size")+e;case 6060:return WEBKIT+"box-"+replace(e,"-grow","")+WEBKIT+e+MS+replace(e,"grow","positive")+e;case 4554:return WEBKIT+replace(e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+e;case 6187:return replace(replace(replace(e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),e,"")+e;case 5495:case 3959:return replace(e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+e+e;case 4095:case 3583:case 4068:case 2532:return replace(e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(e)-1-t>6)switch(charat(e,t+1)){case 109:if(45!==charat(e,t+4))break;case 102:return replace(e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(108==charat(e,t+3)?"$3":"$2-$3"))+e;case 115:return~indexof(e,"stretch")?prefix(replace(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==charat(e,t+1))break;case 6444:switch(charat(e,strlen(e)-3-(~indexof(e,"!important")&&10))){case 107:return replace(e,":",":"+WEBKIT)+e;case 101:return replace(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(45===charat(e,14)?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+e}break;case 5936:switch(charat(e,t+11)){case 114:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return WEBKIT+e+MS+e+e}return e}var prefixer=function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case DECLARATION:e.return=prefix(e.value,e.length);break;case KEYFRAMES:return serialize([copy(e,{value:replace(e.value,"@","@"+WEBKIT)})],n);case RULESET:if(e.length)return combine(e.props,(function(t){switch(match(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(e,{props:[replace(t,/:(read-\w+)/,":"+MOZ+"$1")]})],n);case"::placeholder":return serialize([copy(e,{props:[replace(t,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(e,{props:[replace(t,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(e,{props:[replace(t,/:(plac\w+)/,MS+"input-$1")]})],n)}return""}))}},defaultStylisPlugins=[prefixer],createCache=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n,a,o=e.stylisPlugins||defaultStylisPlugins,i={},s=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)i[t[r]]=!0;s.push(e)}));var c,l=[compat,removeLabel],u=[stringify,rulesheet((function(e){c.insert(e)}))],f=middleware(l.concat(o,u));a=function(e,t,r,n){c=r,serialize(compile(e?e+"{"+t.styles+"}":t.styles),f),n&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new StyleSheet({key:t,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return p.sheet.hydrate(s),p};function murmur2(e){for(var t,r=0,n=0,a=e.length;a>=4;++n,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(a){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(e){return 45===e.charCodeAt(1)},isProcessableValue=function(e){return null!=e&&"boolean"!=typeof e},processStyleName=memoize$3((function(e){return isCustomProperty(e)?e:e.replace(hyphenateRegex,"-$&").toLowerCase()})),processStyleValue=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(animationRegex,(function(e,t,r){return cursor={name:t,styles:r,next:cursor},t}))}return 1===unitlessKeys[e]||isCustomProperty(e)||"number"!=typeof t||0===t?t:t+"px"},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return cursor={name:r.name,styles:r.styles,next:cursor},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)cursor={name:n.name,styles:n.styles,next:cursor},n=n.next;return r.styles+";"}return createStringFromObject(e,t,r);case"function":if(void 0!==e){var a=cursor,o=r(e);return cursor=a,handleInterpolation(e,t,o)}}if(null==t)return r;var i=t[r];return void 0!==i?i:r}function createStringFromObject(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=handleInterpolation(e,t,r[a])+";";else for(var o in r){var i=r[o];if("object"!=typeof i)null!=t&&void 0!==t[i]?n+=o+"{"+t[i]+"}":isProcessableValue(i)&&(n+=processStyleName(o)+":"+processStyleValue(o,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var s=handleInterpolation(e,t,i);switch(o){case"animation":case"animationName":n+=processStyleName(o)+":"+s+";";break;default:n+=o+"{"+s+"}"}}else for(var c=0;c<i.length;c++)isProcessableValue(i[c])&&(n+=processStyleName(o)+":"+processStyleValue(o,i[c])+";")}return n}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,a="";cursor=void 0;var o=e[0];null==o||void 0===o.raw?(n=!1,a+=handleInterpolation(r,t,o)):a+=o[0];for(var i=1;i<e.length;i++)a+=handleInterpolation(r,t,e[i]),n&&(a+=o[i]);labelPattern.lastIndex=0;for(var s,c="";null!==(s=labelPattern.exec(a));)c+="-"+s[1];return{name:murmur2(a)+c,styles:a,next:cursor}},isBrowser=!0;function getRegisteredStyles(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}var registerStyles=function(e,t,r){var n=e.key+"-"+t.name;!1!==r&&!1!==isBrowser||void 0!==e.registered[n]||(e.registered[n]=t.styles)},insertStyles=function(e,t,r){registerStyles(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}};function insertWithoutScoping(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function merge(e,t,r){var n=[],a=getRegisteredStyles(e,n,r);return n.length<2?r:a+t(n)}var createEmotion=function(e){var t=createCache(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=serializeStyles(r,t.registered,void 0);return insertStyles(t,a,!1),t.key+"-"+a.name};return{css:r,cx:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return merge(t.registered,r,classnames(n))},injectGlobal:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=serializeStyles(r,t.registered);insertWithoutScoping(t,a)},keyframes:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=serializeStyles(r,t.registered),o="animation-"+a.name;return insertWithoutScoping(t,{name:a.name,styles:"@keyframes "+o+"{"+a.styles+"}"}),o},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:getRegisteredStyles.bind(null,t.registered),merge:merge.bind(null,t.registered,r)}},classnames=function e(t){for(var r="",n=0;n<t.length;n++){var a=t[n];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=e(a);else for(var i in o="",a)a[i]&&i&&(o&&(o+=" "),o+=i);break;default:o=a}o&&(r&&(r+=" "),r+=o)}}return r},commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},createFontEntries_1={createFontEntries:createFontEntries};function createFontEntries(e,t){const r=[],n=[];return t&&t.typography&&t.typography.fontFamilies&&Object.entries(t.typography.fontFamilies).forEach((t=>{let[a,i]=t;i.forEach((t=>{e[t.name]&&!t.printOnly&&(r.push(t.name),n.push({family:a,css:`${o(a,e[t.name].files,t)}`}))}))})),Object.entries(e).forEach((e=>{let[t,i]=e;switch(i.method){case"file":case"url":r.includes(t)||n.push({family:t,css:`${o(t,i.files)}`});break;case"import":n.unshift({family:t,...i.families?{families:i.families}:{},css:`@import '${a(i.import)}';`})}})),n;function a(e){return"//"===e.substring(0,2)?`https:${e}`:e}function o(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.replace(/'/g,"\\'");r={display:"auto",...r};const o={ttf:"truetype",otf:"opentype"},i=Object.entries(t).filter((e=>{let[t]=e;return!["eot","woff2"].includes(t)})).map((e=>{let[t,r]=e;const i=o[t]||t;return`url('${a(r)}${"svg"===t?`#${n}`:""}') format('${i}')`})),s=["weight","style","display","stretch"].filter((e=>r[e])).map((e=>`font-${e}: ${r[e]};`));return`@font-face {\n    font-family: '${n}';\n    ${s.join("\n\t")}\n    src: ${i.join(",\n\t\t ")};\n}`}}var r=new WeakMap,s;function b(e,t){return s=s||new ResizeObserver((e=>{for(let t of e){let e=r.get(t.target);e&&e(t)}})),r.set(e,t),s.observe(e),{destroy(){s.unobserve(e),r.delete(e)}}}function isObject$7(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var isObject_1=isObject$7,freeGlobal$1="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root$a=freeGlobal||freeSelf||Function("return this")(),_root=root$a,root$9=_root,now$2=function(){return root$9.Date.now()},now_1=now$2,reWhitespace=/\s/;function trimmedEndIndex$1(e){for(var t=e.length;t--&&reWhitespace.test(e.charAt(t)););return t}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(e){return e?e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,""):e}var _baseTrim=baseTrim$1,root$8=_root,Symbol$5=root$8.Symbol,_Symbol=Symbol$5,Symbol$4=_Symbol,objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$4?Symbol$4.toStringTag:void 0;function getRawTag$1(e){var t=hasOwnProperty$9.call(e,symToStringTag$1),r=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var n=!0}catch(e){}var a=nativeObjectToString$1.call(e);return n&&(t?e[symToStringTag$1]=r:delete e[symToStringTag$1]),a}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$1(e){return nativeObjectToString.call(e)}var _objectToString=objectToString$1,Symbol$3=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$3?Symbol$3.toStringTag:void 0;function baseGetTag$5(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}var _baseGetTag=baseGetTag$5;function isObjectLike$5(e){return null!=e&&"object"==typeof e}var isObjectLike_1=isObjectLike$5,baseGetTag$4=_baseGetTag,isObjectLike$4=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$5(e){return"symbol"==typeof e||isObjectLike$4(e)&&baseGetTag$4(e)==symbolTag$1}var isSymbol_1=isSymbol$5,baseTrim=_baseTrim,isObject$6=isObject_1,isSymbol$4=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(e){if("number"==typeof e)return e;if(isSymbol$4(e))return NAN;if(isObject$6(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject$6(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=baseTrim(e);var r=reIsBinary.test(e);return r||reIsOctal.test(e)?freeParseInt(e.slice(2),r?2:8):reIsBadHex.test(e)?NAN:+e}var toNumber_1=toNumber$1,isObject$5=isObject_1,now$1=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$1(e,t,r){var n,a,o,i,s,c,l=0,u=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$1);function h(t){var r=n,o=a;return n=a=void 0,l=t,i=e.apply(o,r)}function d(e){return l=e,s=setTimeout(g,t),u?h(e):i}function m(e){var r=e-c;return void 0===c||r>=t||r<0||f&&e-l>=o}function g(){var e=now$1();if(m(e))return y(e);s=setTimeout(g,function(e){var r=t-(e-c);return f?nativeMin(r,o-(e-l)):r}(e))}function y(e){return s=void 0,p&&n?h(e):(n=a=void 0,i)}function b(){var e=now$1(),r=m(e);if(n=arguments,a=this,c=e,r){if(void 0===s)return d(c);if(f)return clearTimeout(s),s=setTimeout(g,t),h(c)}return void 0===s&&(s=setTimeout(g,t)),i}return t=toNumber(t)||0,isObject$5(r)&&(u=!!r.leading,o=(f="maxWait"in r)?nativeMax(toNumber(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p),b.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=c=a=s=void 0},b.flush=function(){return void 0===s?i:y(now$1())},b}var debounce_1=debounce$1;function arraySome$2(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _arraySome=arraySome$2;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$4(e,t){return e===t||e!=e&&t!=t}var eq_1=eq$4,eq$3=eq_1;function assocIndexOf$4(e,t){for(var r=e.length;r--;)if(eq$3(e[r][0],t))return r;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(e){var t=this.__data__,r=assocIndexOf$3(t,e);return!(r<0)&&(r==t.length-1?t.pop():splice.call(t,r,1),--this.size,!0)}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(e){var t=this.__data__,r=assocIndexOf$2(t,e);return r<0?void 0:t[r][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(e){return assocIndexOf$1(this.__data__,e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(e,t){var r=this.__data__,n=assocIndexOf(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache$4.prototype.clear=listCacheClear,ListCache$4.prototype.delete=listCacheDelete,ListCache$4.prototype.get=listCacheGet,ListCache$4.prototype.has=listCacheHas,ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var _stackDelete=stackDelete$1;function stackGet$1(e){return this.__data__.get(e)}var _stackGet=stackGet$1;function stackHas$1(e){return this.__data__.has(e)}var _stackHas=stackHas$1,baseGetTag$3=_baseGetTag,isObject$4=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$4(e){if(!isObject$4(e))return!1;var t=baseGetTag$3(e);return t==funcTag$1||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction$4,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""),uid?"Symbol(src)_1."+uid:""),uid;function isMasked$1(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(e){if(null!=e){try{return funcToString$1.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var _toSource=toSource$2,isFunction$3=isFunction_1,isMasked=_isMasked,isObject$3=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$8=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$8).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(e){return!(!isObject$3(e)||isMasked(e))&&(isFunction$3(e)?reIsNative:reIsHostCtor).test(toSource$1(e))}var _baseIsNative=baseIsNative$1;function getValue$1(e,t){return null==e?void 0:e[t]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$6(e,t){var r=getValue(e,t);return baseIsNative(r)?r:void 0}var _getNative=getNative$6,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,getNative$4=_getNative,nativeCreate$5=getNative$4(Object,"create"),_nativeCreate=nativeCreate$5,nativeCreate$4=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$4?nativeCreate$4(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete$1,nativeCreate$3=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashGet$1(e){var t=this.__data__;if(nativeCreate$3){var r=t[e];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$7.call(t,e)?t[e]:void 0}var _hashGet=hashGet$1,nativeCreate$2=_nativeCreate,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function hashHas$1(e){var t=this.__data__;return nativeCreate$2?void 0!==t[e]:hasOwnProperty$6.call(t,e)}var _hashHas=hashHas$1,nativeCreate$1=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nativeCreate$1&&void 0===t?HASH_UNDEFINED$1:t,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash$1.prototype.clear=hashClear,Hash$1.prototype.delete=hashDelete,Hash$1.prototype.get=hashGet,Hash$1.prototype.has=hashHas,Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(e,t){var r=e.__data__;return isKeyable(t)?r["string"==typeof t?"string":"hash"]:r.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(e){var t=getMapData$3(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(e,t){var r=getMapData(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}MapCache$3.prototype.clear=mapCacheClear,MapCache$3.prototype.delete=mapCacheDelete,MapCache$3.prototype.get=mapCacheGet,MapCache$3.prototype.has=mapCacheHas,MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,ListCache$1=_ListCache,Map$2=_Map,MapCache$2=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(e,t){var r=this.__data__;if(r instanceof ListCache$1){var n=r.__data__;if(!Map$2||n.length<LARGE_ARRAY_SIZE-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new MapCache$2(n)}return r.set(e,t),this.size=r.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(e){var t=this.__data__=new ListCache(e);this.size=t.size}Stack$2.prototype.clear=stackClear,Stack$2.prototype.delete=stackDelete,Stack$2.prototype.get=stackGet,Stack$2.prototype.has=stackHas,Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(e){return this.__data__.set(e,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(e){return this.__data__.has(e)}var _setCacheHas=setCacheHas$1,MapCache$1=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new MapCache$1;++t<r;)this.add(e[t])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd,SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function cacheHas$1(e,t){return e.has(t)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome$1=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(e,t,r,n,a,o){var i=r&COMPARE_PARTIAL_FLAG$5,s=e.length,c=t.length;if(s!=c&&!(i&&c>s))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var f=-1,p=!0,h=r&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var d=e[f],m=t[f];if(n)var g=i?n(m,d,f,t,e,o):n(d,m,f,e,t,o);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!arraySome$1(t,(function(e,t){if(!cacheHas(h,t)&&(d===e||a(d,e,r,n,o)))return h.push(t)}))){p=!1;break}}else if(d!==m&&!a(d,m,r,n,o)){p=!1;break}}return o.delete(e),o.delete(t),p}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}var _mapToArray=mapToArray$1;function setToArray$1(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var _setToArray=setToArray$1,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$2=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto$1?symbolProto$1.valueOf:void 0;function equalByTag$1(e,t,r,n,a,o,i){switch(r){case dataViewTag$2:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag$1:return!(e.byteLength!=t.byteLength||!o(new Uint8Array$1(e),new Uint8Array$1(t)));case boolTag$1:case dateTag$1:case numberTag$1:return eq$2(+e,+t);case errorTag$1:return e.name==t.name&&e.message==t.message;case regexpTag$1:case stringTag$1:return e==t+"";case mapTag$2:var s=mapToArray;case setTag$2:var c=n&COMPARE_PARTIAL_FLAG$4;if(s||(s=setToArray),e.size!=t.size&&!c)return!1;var l=i.get(e);if(l)return l==t;n|=COMPARE_UNORDERED_FLAG$2,i.set(e,t);var u=equalArrays$1(s(e),s(t),n,a,o,i);return i.delete(e),u;case symbolTag:if(symbolValueOf)return symbolValueOf.call(e)==symbolValueOf.call(t)}return!1}var _equalByTag=equalByTag$1;function arrayPush$1(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var _arrayPush=arrayPush$1,isArray$b=Array.isArray,isArray_1=isArray$b,arrayPush=_arrayPush,isArray$a=isArray_1;function baseGetAllKeys$1(e,t,r){var n=t(e);return isArray$a(e)?n:arrayPush(n,r(e))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$2(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var _arrayFilter=arrayFilter$2;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter$1=_arrayFilter,stubArray=stubArray_1,objectProto$6=Object.prototype,propertyIsEnumerable$1=objectProto$6.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(e){return null==e?[]:(e=Object(e),arrayFilter$1(nativeGetSymbols(e),(function(t){return propertyIsEnumerable$1.call(e,t)})))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _baseTimes=baseTimes$1,baseGetTag$2=_baseGetTag,isObjectLike$3=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(e){return isObjectLike$3(e)&&baseGetTag$2(e)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$2=isObjectLike_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,isArguments$4=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike$2(e)&&hasOwnProperty$5.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")},isArguments_1=isArguments$4,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;!function(e,t){var r=_root,n=stubFalse_1,a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=(i?i.isBuffer:void 0)||n;e.exports=s}(isBuffer$2,isBuffer$2.exports);var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(e,t){var r=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER$1:t)&&("number"==r||"symbol"!=r&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex=isIndex$3,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,baseGetTag$1=_baseGetTag,isLength$2=isLength_1,isObjectLike$1=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$2="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray$1(e){return isObjectLike$1(e)&&isLength$2(e.length)&&!!typedArrayTags[baseGetTag$1(e)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(e){return function(t){return e(t)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};!function(e,t){var r=_freeGlobal,n=t&&!t.nodeType&&t,a=n&&e&&!e.nodeType&&e,o=a&&a.exports===n&&r.process,i=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}(_nodeUtil,_nodeUtil.exports);var baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtil.exports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$4=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$4,baseTimes=_baseTimes,isArguments$3=isArguments_1,isArray$9=isArray_1,isBuffer$1=isBuffer$2.exports,isIndex$2=_isIndex,isTypedArray$3=isTypedArray_1,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function arrayLikeKeys$1(e,t){var r=isArray$9(e),n=!r&&isArguments$3(e),a=!r&&!n&&isBuffer$1(e),o=!r&&!n&&!a&&isTypedArray$3(e),i=r||n||a||o,s=i?baseTimes(e.length,String):[],c=s.length;for(var l in e)!t&&!hasOwnProperty$4.call(e,l)||i&&("length"==l||a&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||isIndex$2(l,c))||s.push(l);return s}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$3=Object.prototype;function isPrototype$1(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$3)}var _isPrototype=isPrototype$1;function overArg$1(e,t){return function(r){return e(t(r))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$2=overArg(Object.keys,Object),_nativeKeys=nativeKeys$2,isPrototype=_isPrototype,nativeKeys$1=_nativeKeys,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function baseKeys$1(e){if(!isPrototype(e))return nativeKeys$1(e);var t=[];for(var r in Object(e))hasOwnProperty$3.call(e,r)&&"constructor"!=r&&t.push(r);return t}var _baseKeys=baseKeys$1,isFunction$2=isFunction_1,isLength$1=isLength_1;function isArrayLike$4(e){return null!=e&&isLength$1(e.length)&&!isFunction$2(e)}var isArrayLike_1=isArrayLike$4,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$3=isArrayLike_1;function keys$4(e){return isArrayLike$3(e)?arrayLikeKeys(e):baseKeys(e)}var keys_1=keys$4,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$3=keys_1;function getAllKeys$1(e){return baseGetAllKeys(e,keys$3,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function equalObjects$1(e,t,r,n,a,o){var i=r&COMPARE_PARTIAL_FLAG$3,s=getAllKeys(e),c=s.length;if(c!=getAllKeys(t).length&&!i)return!1;for(var l=c;l--;){var u=s[l];if(!(i?u in t:hasOwnProperty$2.call(t,u)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var h=!0;o.set(e,t),o.set(t,e);for(var d=i;++l<c;){var m=e[u=s[l]],g=t[u];if(n)var y=i?n(g,m,u,t,e,o):n(m,g,u,e,t,o);if(!(void 0===y?m===g||a(m,g,r,n,o):y)){h=!1;break}d||(d="constructor"==u)}if(h&&!d){var b=e.constructor,$=t.constructor;b==$||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof $&&$ instanceof $||(h=!1)}return o.delete(e),o.delete(t),h}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$4=_root,DataView$2=getNative$3(root$4,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$3=_root,Promise$2=getNative$2(root$3,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$2=_root,Set$2=getNative$1(root$2,"Set"),_Set=Set$2,getNative=_getNative,root$1=_root,WeakMap$2=getNative(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(e){var t=baseGetTag(e),r=t==objectTag$1?e.constructor:void 0,n=r?toSource(r):"";if(n)switch(n){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return t});var _getTag=getTag$1,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$8=isArray_1,isBuffer=isBuffer$2.exports,isTypedArray$2=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseIsEqualDeep$1(e,t,r,n,a,o){var i=isArray$8(e),s=isArray$8(t),c=i?arrayTag:getTag(e),l=s?arrayTag:getTag(t),u=(c=c==argsTag?objectTag:c)==objectTag,f=(l=l==argsTag?objectTag:l)==objectTag,p=c==l;if(p&&isBuffer(e)){if(!isBuffer(t))return!1;i=!0,u=!1}if(p&&!u)return o||(o=new Stack$1),i||isTypedArray$2(e)?equalArrays(e,t,r,n,a,o):equalByTag(e,t,c,r,n,a,o);if(!(r&COMPARE_PARTIAL_FLAG$2)){var h=u&&hasOwnProperty$1.call(e,"__wrapped__"),d=f&&hasOwnProperty$1.call(t,"__wrapped__");if(h||d){var m=h?e.value():e,g=d?t.value():t;return o||(o=new Stack$1),a(m,g,r,n,o)}}return!!p&&(o||(o=new Stack$1),equalObjects(e,t,r,n,a,o))}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike=isObjectLike_1;function baseIsEqual$2(e,t,r,n,a){return e===t||(null==e||null==t||!isObjectLike(e)&&!isObjectLike(t)?e!=e&&t!=t:baseIsEqualDeep(e,t,r,n,baseIsEqual$2,a))}var _baseIsEqual=baseIsEqual$2,Stack=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(e,t,r,n){var a=r.length,o=a,i=!n;if(null==e)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=r[a])[0],l=e[c],u=s[1];if(i&&s[2]){if(void 0===l&&!(c in e))return!1}else{var f=new Stack;if(n)var p=n(l,u,c,e,t,f);if(!(void 0===p?baseIsEqual$1(u,l,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,n,f):p))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$2=isObject_1;function isStrictComparable$2(e){return e==e&&!isObject$2(e)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$2=keys_1;function getMatchData$1(e){for(var t=keys$2(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,isStrictComparable$1(a)]}return t}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(e){var t=getMatchData(e);return 1==t.length&&t[0][2]?matchesStrictComparable$1(t[0][0],t[0][1]):function(r){return r===e||baseIsMatch(r,e,t)}}var _baseMatches=baseMatches$1,isArray$7=isArray_1,isSymbol$3=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(e,t){if(isArray$7(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!isSymbol$3(e))||(reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=t&&e in Object(t))}var _isKey=isKey$3,MapCache=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize$2(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(memoize$2.Cache||MapCache),r}memoize$2.Cache=MapCache;var memoize_1=memoize$2,memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(e){var t=memoize$1(e,(function(e){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),e})),r=t.cache;return t}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rePropName,(function(e,r,n,a){t.push(n?a.replace(reEscapeChar,"$1"):r||e)})),t})),_stringToPath=stringToPath$1;function arrayMap$2(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var _arrayMap=arrayMap$2,Symbol$1=_Symbol,arrayMap$1=_arrayMap,isArray$6=isArray_1,isSymbol$2=isSymbol_1,INFINITY$1=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString$1(e){if("string"==typeof e)return e;if(isArray$6(e))return arrayMap$1(e,baseToString$1)+"";if(isSymbol$2(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return"0"==t&&1/e==-INFINITY$1?"-0":t}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$2(e){return null==e?"":baseToString(e)}var toString_1=toString$2,isArray$5=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$1=toString_1;function castPath$2(e,t){return isArray$5(e)?e:isKey$2(e,t)?[e]:stringToPath(toString$1(e))}var _castPath=castPath$2,isSymbol$1=isSymbol_1,INFINITY=1/0;function toKey$4(e){if("string"==typeof e||isSymbol$1(e))return e;var t=e+"";return"0"==t&&1/e==-INFINITY?"-0":t}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$2(e,t){for(var r=0,n=(t=castPath$1(t,e)).length;null!=e&&r<n;)e=e[toKey$3(t[r++])];return r&&r==n?e:void 0}var _baseGet=baseGet$2,baseGet$1=_baseGet;function get$3(e,t,r){var n=null==e?void 0:baseGet$1(e,t);return void 0===n?r:n}var get_1$1=get$3;function baseHasIn$1(e,t){return null!=e&&t in Object(e)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$2=isArguments_1,isArray$4=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(e,t,r){for(var n=-1,a=(t=castPath(t,e)).length,o=!1;++n<a;){var i=toKey$2(t[n]);if(!(o=null!=e&&r(e,i)))break;e=e[i]}return o||++n!=a?o:!!(a=null==e?0:e.length)&&isLength(a)&&isIndex$1(i,a)&&(isArray$4(e)||isArguments$2(e))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(e,t){return null!=e&&hasPath(e,t,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get$2=get_1$1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(e,t){return isKey$1(e)&&isStrictComparable(t)?matchesStrictComparable(toKey$1(e),t):function(r){var n=get$2(r,e);return void 0===n&&n===t?hasIn(r,e):baseIsEqual(t,n,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$2(e){return e}var identity_1=identity$2;function baseProperty$1(e){return function(t){return null==t?void 0:t[e]}}var _baseProperty=baseProperty$1,baseGet=_baseGet;function basePropertyDeep$1(e){return function(t){return baseGet(t,e)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$2(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}var property_1=property$2,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$1=identity_1,isArray$3=isArray_1,property$1=property_1;function baseIteratee$2(e){return"function"==typeof e?e:null==e?identity$1:"object"==typeof e?isArray$3(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property$1(e)}var _baseIteratee=baseIteratee$2;function createBaseFor$1(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(!1===r(o[c],c,o))break}return t}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$1=keys_1;function baseForOwn$1(e,t){return e&&baseFor(e,t,keys$1)}var _baseForOwn=baseForOwn$1,isArrayLike$2=isArrayLike_1;function createBaseEach$1(e,t){return function(r,n){if(null==r)return r;if(!isArrayLike$2(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&!1!==n(i[o],o,i););return r}}var _createBaseEach=createBaseEach$1,baseForOwn=_baseForOwn,createBaseEach=_createBaseEach,baseEach$1=createBaseEach(baseForOwn),_baseEach=baseEach$1,baseEach=_baseEach;function baseSome$1(e,t){var r;return baseEach(e,(function(e,n,a){return!(r=t(e,n,a))})),!!r}var _baseSome=baseSome$1,eq$1=eq_1,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$1=isObject_1;function isIterateeCall$1(e,t,r){if(!isObject$1(r))return!1;var n=typeof t;return!!("number"==n?isArrayLike$1(r)&&isIndex(t,r.length):"string"==n&&t in r)&&eq$1(r[t],e)}var _isIterateeCall=isIterateeCall$1,arraySome=_arraySome,baseIteratee$1=_baseIteratee,baseSome=_baseSome,isArray$2=isArray_1,isIterateeCall=_isIterateeCall;function some$1(e,t,r){var n=isArray$2(e)?arraySome:baseSome;return r&&isIterateeCall(e,t,r)&&(t=void 0),n(e,baseIteratee$1(t))}var some_1=some$1;const FLAG_BOOL_FALSE=new Set(["0","false","null"]),RENDER_FLAG_TYPES={allowEditing:Boolean,dark:BooleanWithAuto,fitchart:Boolean,fitheight:Boolean,logo:String,logoId:String,map2svg:Boolean,plain:Boolean,previewId:String,search:String,static:Boolean,svgonly:Boolean,theme:String,transparent:Boolean};function BooleanWithAuto(e){return"auto"===e?e:!!e&&!FLAG_BOOL_FALSE.has(e)}function parseFlags(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RENDER_FLAG_TYPES;return Object.fromEntries(Object.entries(t).map((t=>{let[r,n]=t;const a=e(r);return n===Boolean?[r,!!a&&!FLAG_BOOL_FALSE.has(a)]:[r,a&&n(a)]})))}function parseFlagsFromElement(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RENDER_FLAG_TYPES;return parseFlags((t=>e.getAttribute(`data-${t}`)),t)}const EMBED_PATH_REGEX=/([a-zA-Z0-9]{5})(?:\/\d+)?\/?$/;function getChartIdFromUrl(e){const t=e.startsWith("https://")||e.startsWith("http://")||e.startsWith("//")?new URL(e).pathname.match(EMBED_PATH_REGEX):e.match(EMBED_PATH_REGEX);return t?t[1]:null}function getEmbedJsonUrl(e,t){const r=new URL(e),n=r.pathname.split("/").filter((e=>e)),a=/\d+/.test(n[n.length-3]);let o=n.slice(0,n.length-(a?3:2)).join("/");return o.length>0&&(o=`${o}/`),{pathPrefix:o,url:`${r.protocol}//${r.host}/${o}${t}/embed.json`}}const subscriber_queue=[];function writable(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop$1;const n=new Set;function a(r){if(safe_not_equal(e,r)&&(e=r,t)){const t=!subscriber_queue.length;for(const t of n)t[1](),subscriber_queue.push(t,e);if(t){for(let e=0;e<subscriber_queue.length;e+=2)subscriber_queue[e][0](subscriber_queue[e+1]);subscriber_queue.length=0}}}function o(t){a(t(e))}function i(o){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop$1;const s=[o,i];return n.add(s),1===n.size&&(t=r(a)||noop$1),o(e),()=>{n.delete(s),0===n.size&&(t(),t=null)}}return{set:a,update:o,subscribe:i}}var purify={exports:{}},hasRequiredPurify;/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function requirePurify(){return hasRequiredPurify||(hasRequiredPurify=1,purify.exports=function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,r){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,r)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function n(e,a,o){return n=r()?Reflect.construct:function(e,r,n){var a=[null];a.push.apply(a,r);var o=new(Function.bind.apply(e,a));return n&&t(o,n.prototype),o},n.apply(null,arguments)}function a(e){return o(e)||i(e)||s(e)||l()}function o(e){if(Array.isArray(e))return c(e)}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=Object.hasOwnProperty,f=Object.setPrototypeOf,p=Object.isFrozen,h=Object.getPrototypeOf,d=Object.getOwnPropertyDescriptor,m=Object.freeze,g=Object.seal,y=Object.create,b="undefined"!=typeof Reflect&&Reflect,$=b.apply,v=b.construct;$||($=function(e,t,r){return e.apply(t,r)}),m||(m=function(e){return e}),g||(g=function(e){return e}),v||(v=function(e,t){return n(e,a(t))});var _=C(Array.prototype.forEach),k=C(Array.prototype.pop),w=C(Array.prototype.push),E=C(String.prototype.toLowerCase),x=C(String.prototype.match),S=C(String.prototype.replace),A=C(String.prototype.indexOf),T=C(String.prototype.trim),M=C(RegExp.prototype.test),O=I(TypeError);function C(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return $(e,t,n)}}function I(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(e,r)}}function D(e,t,r){r=r||E,f&&f(e,null);for(var n=t.length;n--;){var a=t[n];if("string"==typeof a){var o=r(a);o!==a&&(p(t)||(t[n]=o),a=o)}e[a]=!0}return e}function N(e){var t,r=y(null);for(t in e)$(u,e,[t])&&(r[t]=e[t]);return r}function P(e,t){for(;null!==e;){var r=d(e,t);if(r){if(r.get)return C(r.get);if("function"==typeof r.value)return C(r.value)}e=h(e)}function n(e){return console.warn("fallback value for",e),null}return n}var R=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),j=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),F=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),H=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),U=m(["#text"]),z=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Y=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),W=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),V=g(/<%[\w\W]*|[\w\W]*%>/gm),K=g(/^data-[\-\w.\u00B7-\uFFFF]/),J=g(/^aria-[\-\w]+$/),X=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Z=g(/^(?:\w+script|data):/i),Q=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ee=g(/^html$/i),te=function(){return"undefined"==typeof window?null:window},re=function(t,r){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var n=null,a="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(a)&&(n=r.currentScript.getAttribute(a));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function ne(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te(),r=function(e){return ne(e)};if(r.version="2.4.0",r.removed=[],!t||!t.document||9!==t.document.nodeType)return r.isSupported=!1,r;var n=t.document,o=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,c=t.Node,l=t.Element,u=t.NodeFilter,f=t.NamedNodeMap,p=void 0===f?t.NamedNodeMap||t.MozNamedAttrMap:f,h=t.HTMLFormElement,d=t.DOMParser,g=t.trustedTypes,y=l.prototype,b=P(y,"cloneNode"),$=P(y,"nextSibling"),v=P(y,"childNodes"),C=P(y,"parentNode");if("function"==typeof s){var I=o.createElement("template");I.content&&I.content.ownerDocument&&(o=I.content.ownerDocument)}var ae=re(g,n),oe=ae?ae.createHTML(""):"",ie=o,se=ie.implementation,ce=ie.createNodeIterator,le=ie.createDocumentFragment,ue=ie.getElementsByTagName,fe=n.importNode,pe={};try{pe=N(o).documentMode?o.documentMode:{}}catch(e){}var he={};r.isSupported="function"==typeof C&&se&&void 0!==se.createHTMLDocument&&9!==pe;var de,me,ge=q,ye=V,be=K,$e=J,ve=Z,_e=Q,ke=X,we=null,Ee=D({},[].concat(a(R),a(L),a(j),a(B),a(U))),xe=null,Se=D({},[].concat(a(z),a(Y),a(G),a(W))),Ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Te=null,Me=null,Oe=!0,Ce=!0,Ie=!1,De=!1,Ne=!1,Pe=!1,Re=!1,Le=!1,je=!1,Fe=!1,Be=!0,He=!1,Ue="user-content-",ze=!0,Ye=!1,Ge={},We=null,qe=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=null,Ke=D({},["audio","video","img","source","image","track"]),Je=null,Xe=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ze="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml",tt=et,rt=!1,nt=["application/xhtml+xml","text/html"],at="text/html",ot=null,it=o.createElement("form"),st=function(e){return e instanceof RegExp||e instanceof Function},ct=function(t){ot&&ot===t||(t&&"object"===e(t)||(t={}),t=N(t),de=de=-1===nt.indexOf(t.PARSER_MEDIA_TYPE)?at:t.PARSER_MEDIA_TYPE,me="application/xhtml+xml"===de?function(e){return e}:E,we="ALLOWED_TAGS"in t?D({},t.ALLOWED_TAGS,me):Ee,xe="ALLOWED_ATTR"in t?D({},t.ALLOWED_ATTR,me):Se,Je="ADD_URI_SAFE_ATTR"in t?D(N(Xe),t.ADD_URI_SAFE_ATTR,me):Xe,Ve="ADD_DATA_URI_TAGS"in t?D(N(Ke),t.ADD_DATA_URI_TAGS,me):Ke,We="FORBID_CONTENTS"in t?D({},t.FORBID_CONTENTS,me):qe,Te="FORBID_TAGS"in t?D({},t.FORBID_TAGS,me):{},Me="FORBID_ATTR"in t?D({},t.FORBID_ATTR,me):{},Ge="USE_PROFILES"in t&&t.USE_PROFILES,Oe=!1!==t.ALLOW_ARIA_ATTR,Ce=!1!==t.ALLOW_DATA_ATTR,Ie=t.ALLOW_UNKNOWN_PROTOCOLS||!1,De=t.SAFE_FOR_TEMPLATES||!1,Ne=t.WHOLE_DOCUMENT||!1,Le=t.RETURN_DOM||!1,je=t.RETURN_DOM_FRAGMENT||!1,Fe=t.RETURN_TRUSTED_TYPE||!1,Re=t.FORCE_BODY||!1,Be=!1!==t.SANITIZE_DOM,He=t.SANITIZE_NAMED_PROPS||!1,ze=!1!==t.KEEP_CONTENT,Ye=t.IN_PLACE||!1,ke=t.ALLOWED_URI_REGEXP||ke,tt=t.NAMESPACE||et,t.CUSTOM_ELEMENT_HANDLING&&st(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&st(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ae.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(Ce=!1),je&&(Le=!0),Ge&&(we=D({},a(U)),xe=[],!0===Ge.html&&(D(we,R),D(xe,z)),!0===Ge.svg&&(D(we,L),D(xe,Y),D(xe,W)),!0===Ge.svgFilters&&(D(we,j),D(xe,Y),D(xe,W)),!0===Ge.mathMl&&(D(we,B),D(xe,G),D(xe,W))),t.ADD_TAGS&&(we===Ee&&(we=N(we)),D(we,t.ADD_TAGS,me)),t.ADD_ATTR&&(xe===Se&&(xe=N(xe)),D(xe,t.ADD_ATTR,me)),t.ADD_URI_SAFE_ATTR&&D(Je,t.ADD_URI_SAFE_ATTR,me),t.FORBID_CONTENTS&&(We===qe&&(We=N(We)),D(We,t.FORBID_CONTENTS,me)),ze&&(we["#text"]=!0),Ne&&D(we,["html","head","body"]),we.table&&(D(we,["tbody"]),delete Te.tbody),m&&m(t),ot=t)},lt=D({},["mi","mo","mn","ms","mtext"]),ut=D({},["foreignobject","desc","title","annotation-xml"]),ft=D({},["title","style","font","a","script"]),pt=D({},L);D(pt,j),D(pt,F);var ht=D({},B);D(ht,H);var dt=function(e){var t=C(e);t&&t.tagName||(t={namespaceURI:et,tagName:"template"});var r=E(e.tagName),n=E(t.tagName);return e.namespaceURI===Qe?t.namespaceURI===et?"svg"===r:t.namespaceURI===Ze?"svg"===r&&("annotation-xml"===n||lt[n]):Boolean(pt[r]):e.namespaceURI===Ze?t.namespaceURI===et?"math"===r:t.namespaceURI===Qe?"math"===r&&ut[n]:Boolean(ht[r]):e.namespaceURI===et&&!(t.namespaceURI===Qe&&!ut[n])&&!(t.namespaceURI===Ze&&!lt[n])&&!ht[r]&&(ft[r]||!pt[r])},mt=function(e){w(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},gt=function(e,t){try{w(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){w(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!xe[e])if(Le||je)try{mt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},yt=function(e){var t,r;if(Re)e="<remove></remove>"+e;else{var n=x(e,/^[\r\n\t ]+/);r=n&&n[0]}"application/xhtml+xml"===de&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var a=ae?ae.createHTML(e):e;if(tt===et)try{t=(new d).parseFromString(a,de)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(tt,"template",null);try{t.documentElement.innerHTML=rt?"":a}catch(e){}}var i=t.body||t.documentElement;return e&&r&&i.insertBefore(o.createTextNode(r),i.childNodes[0]||null),tt===et?ue.call(t,Ne?"html":"body")[0]:Ne?t.documentElement:i},bt=function(e){return ce.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},$t=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},vt=function(t){return"object"===e(c)?t instanceof c:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},_t=function(e,t,n){he[e]&&_(he[e],(function(e){e.call(r,t,n,ot)}))},kt=function(e){var t;if(_t("beforeSanitizeElements",e,null),$t(e))return mt(e),!0;if(M(/[\u0080-\uFFFF]/,e.nodeName))return mt(e),!0;var n=me(e.nodeName);if(_t("uponSanitizeElement",e,{tagName:n,allowedTags:we}),e.hasChildNodes()&&!vt(e.firstElementChild)&&(!vt(e.content)||!vt(e.content.firstElementChild))&&M(/<[/\w]/g,e.innerHTML)&&M(/<[/\w]/g,e.textContent))return mt(e),!0;if("select"===n&&M(/<template/i,e.innerHTML))return mt(e),!0;if(!we[n]||Te[n]){if(!Te[n]&&Et(n)){if(Ae.tagNameCheck instanceof RegExp&&M(Ae.tagNameCheck,n))return!1;if(Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(n))return!1}if(ze&&!We[n]){var a=C(e)||e.parentNode,o=v(e)||e.childNodes;if(o&&a)for(var i=o.length-1;i>=0;--i)a.insertBefore(b(o[i],!0),$(e))}return mt(e),!0}return e instanceof l&&!dt(e)?(mt(e),!0):"noscript"!==n&&"noembed"!==n||!M(/<\/no(script|embed)/i,e.innerHTML)?(De&&3===e.nodeType&&(t=e.textContent,t=S(t,ge," "),t=S(t,ye," "),e.textContent!==t&&(w(r.removed,{element:e.cloneNode()}),e.textContent=t)),_t("afterSanitizeElements",e,null),!1):(mt(e),!0)},wt=function(e,t,r){if(Be&&("id"===t||"name"===t)&&(r in o||r in it))return!1;if(Ce&&!Me[t]&&M(be,t));else if(Oe&&M($e,t));else if(!xe[t]||Me[t]){if(!(Et(e)&&(Ae.tagNameCheck instanceof RegExp&&M(Ae.tagNameCheck,e)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(e))&&(Ae.attributeNameCheck instanceof RegExp&&M(Ae.attributeNameCheck,t)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(t))||"is"===t&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&M(Ae.tagNameCheck,r)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(r))))return!1}else if(Je[t]);else if(M(ke,S(r,_e,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==A(r,"data:")||!Ve[e])if(Ie&&!M(ve,S(r,_e,"")));else if(r)return!1;return!0},Et=function(e){return e.indexOf("-")>0},xt=function(t){var n,a,o,i;_t("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe};for(i=s.length;i--;){var l=n=s[i],u=l.name,f=l.namespaceURI;if(a="value"===u?n.value:T(n.value),o=me(u),c.attrName=o,c.attrValue=a,c.keepAttr=!0,c.forceKeepAttr=void 0,_t("uponSanitizeAttribute",t,c),a=c.attrValue,!c.forceKeepAttr&&(gt(u,t),c.keepAttr))if(M(/\/>/i,a))gt(u,t);else{De&&(a=S(a,ge," "),a=S(a,ye," "));var p=me(t.nodeName);if(wt(p,o,a)){if(!He||"id"!==o&&"name"!==o||(gt(u,t),a=Ue+a),ae&&"object"===e(g)&&"function"==typeof g.getAttributeType)if(f);else switch(g.getAttributeType(p,o)){case"TrustedHTML":a=ae.createHTML(a);break;case"TrustedScriptURL":a=ae.createScriptURL(a)}try{f?t.setAttributeNS(f,u,a):t.setAttribute(u,a),k(r.removed)}catch(e){}}}}_t("afterSanitizeAttributes",t,null)}},St=function e(t){var r,n=bt(t);for(_t("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)_t("uponSanitizeShadowNode",r,null),kt(r)||(r.content instanceof i&&e(r.content),xt(r));_t("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(a){var o,s,l,u,f,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((rt=!a)&&(a="\x3c!--\x3e"),"string"!=typeof a&&!vt(a)){if("function"!=typeof a.toString)throw O("toString is not a function");if("string"!=typeof(a=a.toString()))throw O("dirty is not a string, aborting")}if(!r.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof a)return t.toStaticHTML(a);if(vt(a))return t.toStaticHTML(a.outerHTML)}return a}if(Pe||ct(p),r.removed=[],"string"==typeof a&&(Ye=!1),Ye){if(a.nodeName){var h=me(a.nodeName);if(!we[h]||Te[h])throw O("root node is forbidden and cannot be sanitized in-place")}}else if(a instanceof c)1===(s=(o=yt("\x3c!----\x3e")).ownerDocument.importNode(a,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!Le&&!De&&!Ne&&-1===a.indexOf("<"))return ae&&Fe?ae.createHTML(a):a;if(!(o=yt(a)))return Le?null:Fe?oe:""}o&&Re&&mt(o.firstChild);for(var d=bt(Ye?a:o);l=d.nextNode();)3===l.nodeType&&l===u||kt(l)||(l.content instanceof i&&St(l.content),xt(l),u=l);if(u=null,Ye)return a;if(Le){if(je)for(f=le.call(o.ownerDocument);o.firstChild;)f.appendChild(o.firstChild);else f=o;return xe.shadowroot&&(f=fe.call(n,f,!0)),f}var m=Ne?o.outerHTML:o.innerHTML;return Ne&&we["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&M(ee,o.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+m),De&&(m=S(m,ge," "),m=S(m,ye," ")),ae&&Fe?ae.createHTML(m):m},r.setConfig=function(e){ct(e),Pe=!0},r.clearConfig=function(){ot=null,Pe=!1},r.isValidAttribute=function(e,t,r){ot||ct({});var n=me(e),a=me(t);return wt(n,a,r)},r.addHook=function(e,t){"function"==typeof t&&(he[e]=he[e]||[],w(he[e],t))},r.removeHook=function(e){if(he[e])return k(he[e])},r.removeHooks=function(e){he[e]&&(he[e]=[])},r.removeAllHooks=function(){he={}},r}return ne()}()),purify.exports}var browser=window.DOMPurify||(window.DOMPurify=requirePurify().default||requirePurify()),memoizer$1={};Object.defineProperty(memoizer$1,"__esModule",{value:!0}),memoizer$1.createPermanentMemoizer=void 0;const createPermanentMemoizer=function(e,t){let{maxsize:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new Map;return{get:a=>{const o=e(a);if(n.has(o))return n.get(o);const i=t(a);return r&&n.size>=r&&(n=new Map),n.set(o,i),i}}};memoizer$1.createPermanentMemoizer=createPermanentMemoizer;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const isomorphic_dompurify_1$1=__importDefault$5(browser),memoizer_1=memoizer$1,DEFAULT_ALLOWED$1=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort(),MEMOIZER_MAXSIZE=1e5;isomorphic_dompurify_1$1.default.addHook("afterSanitizeElements",(function(e){"a"===e.nodeName.toLowerCase()&&("_self"!==e.getAttribute("target")&&e.setAttribute("target","_blank"),e.setAttribute("rel","nofollow noopener noreferrer"))}));const memoizer=(0,memoizer_1.createPermanentMemoizer)((e=>String(e)),(e=>{const t={ALLOWED_TAGS:void 0===e?DEFAULT_ALLOWED$1:"string"==typeof e?e.toLowerCase().slice(1,-1).split("><"):e,ADD_ATTR:["target"],FORCE_BODY:!0};return(0,memoizer_1.createPermanentMemoizer)((e=>e),(e=>isomorphic_dompurify_1$1.default.sanitize(e,t)),{maxsize:MEMOIZER_MAXSIZE})}),{maxsize:MEMOIZER_MAXSIZE});function purifyHTML(e,t){return e?memoizer.get(t).get(e):e}var purifyHtml=purifyHTML;function get$1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return e;const n=Array.isArray(t)?t:t.split(".");let a=e;for(let e=0;e<n.length&&null!=a;e++)a=a[n[e]];return null==a?r:a}var get_1=get$1;const isArray$1=e=>Array.isArray(e);var set=function(e,t,r){const n=isArray$1(t)?[...t]:t.split(".");if(!n.length)throw new Error("Key should not be empty");const a=n.pop();let o=e;return n.forEach((e=>{void 0!==o[e]&&null!==o[e]||(o[e]={}),o=o[e]})),JSON.stringify(o[a])!==JSON.stringify(r)&&(o[a]=r,!0)},chroma$1={exports:{}},module;
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
module=chroma$1,module.exports=function(){for(var e=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e<t?t:e>r?r:e},t=e,r=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var r=0;r<=3;r++)r<3?((e[r]<0||e[r]>255)&&(e._clipped=!0),e[r]=t(e[r],0,255)):3===r&&(e[r]=t(e[r],0,1));return e},n={},a=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];a<o.length;a+=1){var i=o[a];n["[object "+i+"]"]=i.toLowerCase()}var s=function(e){return n[Object.prototype.toString.call(e)]||"object"},c=s,l=function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==c(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},u=s,f=function(e){if(e.length<2)return null;var t=e.length-1;return"string"==u(e[t])?e[t].toLowerCase():null},p=Math.PI,h={clip_rgb:r,limit:e,type:s,unpack:l,last:f,PI:p,TWOPI:2*p,PITHIRD:p/3,DEG2RAD:p/180,RAD2DEG:180/p},d={format:{},autodetect:[]},m=h.last,g=h.clip_rgb,y=h.type,b=d,$=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=this;if("object"===y(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var n=m(e),a=!1;if(!n){a=!0,b.sorted||(b.autodetect=b.autodetect.sort((function(e,t){return t.p-e.p})),b.sorted=!0);for(var o=0,i=b.autodetect;o<i.length;o+=1){var s=i[o];if(n=s.test.apply(s,e))break}}if(!b.format[n])throw new Error("unknown format: "+e);var c=b.format[n].apply(null,a?e:e.slice(0,-1));r._rgb=g(c),3===r._rgb.length&&r._rgb.push(1)};$.prototype.toString=function(){return"function"==y(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var v=$,_=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(_.Color,[null].concat(e)))};_.Color=v,_.version="2.4.2";var k=_,w=h.unpack,E=Math.max,x=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=w(e,"rgb"),n=r[0],a=r[1],o=r[2],i=1-E(n/=255,E(a/=255,o/=255)),s=i<1?1/(1-i):0;return[(1-n-i)*s,(1-a-i)*s,(1-o-i)*s,i]},S=x,A=h.unpack,T=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=A(e,"cmyk"))[0],n=e[1],a=e[2],o=e[3],i=e.length>4?e[4]:1;return 1===o?[0,0,0,i]:[r>=1?0:255*(1-r)*(1-o),n>=1?0:255*(1-n)*(1-o),a>=1?0:255*(1-a)*(1-o),i]},M=T,O=k,C=v,I=d,D=h.unpack,N=h.type,P=S;C.prototype.cmyk=function(){return P(this._rgb)},O.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(C,[null].concat(e,["cmyk"])))},I.format.cmyk=M,I.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=D(e,"cmyk"),"array"===N(e)&&4===e.length)return"cmyk"}});var R=h.unpack,L=h.last,j=function(e){return Math.round(100*e)/100},F=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=R(e,"hsla"),n=L(e)||"lsa";return r[0]=j(r[0]||0),r[1]=j(100*r[1])+"%",r[2]=j(100*r[2])+"%","hsla"===n||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,n="hsla"):r.length=3,n+"("+r.join(",")+")"},B=F,H=h.unpack,U=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=H(e,"rgba"))[0],n=e[1],a=e[2];r/=255,n/=255,a/=255;var o,i,s=Math.min(r,n,a),c=Math.max(r,n,a),l=(c+s)/2;return c===s?(o=0,i=Number.NaN):o=l<.5?(c-s)/(c+s):(c-s)/(2-c-s),r==c?i=(n-a)/(c-s):n==c?i=2+(a-r)/(c-s):a==c&&(i=4+(r-n)/(c-s)),(i*=60)<0&&(i+=360),e.length>3&&void 0!==e[3]?[i,o,l,e[3]]:[i,o,l]},z=U,Y=h.unpack,G=h.last,W=B,q=z,V=Math.round,K=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Y(e,"rgba"),n=G(e)||"rgb";return"hsl"==n.substr(0,3)?W(q(r),n):(r[0]=V(r[0]),r[1]=V(r[1]),r[2]=V(r[2]),("rgba"===n||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,n="rgba"),n+"("+r.slice(0,"rgb"===n?3:4).join(",")+")")},J=K,X=h.unpack,Z=Math.round,Q=function(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];var n,a,o,i=(t=X(t,"hsl"))[0],s=t[1],c=t[2];if(0===s)n=a=o=255*c;else{var l=[0,0,0],u=[0,0,0],f=c<.5?c*(1+s):c+s-c*s,p=2*c-f,h=i/360;l[0]=h+1/3,l[1]=h,l[2]=h-1/3;for(var d=0;d<3;d++)l[d]<0&&(l[d]+=1),l[d]>1&&(l[d]-=1),6*l[d]<1?u[d]=p+6*(f-p)*l[d]:2*l[d]<1?u[d]=f:3*l[d]<2?u[d]=p+(f-p)*(2/3-l[d])*6:u[d]=p;n=(e=[Z(255*u[0]),Z(255*u[1]),Z(255*u[2])])[0],a=e[1],o=e[2]}return t.length>3?[n,a,o,t[3]]:[n,a,o,1]},ee=Q,te=ee,re=d,ne=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ae=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,oe=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ie=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,se=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ce=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,le=Math.round,ue=function(e){var t;if(e=e.toLowerCase().trim(),re.format.named)try{return re.format.named(e)}catch(e){}if(t=e.match(ne)){for(var r=t.slice(1,4),n=0;n<3;n++)r[n]=+r[n];return r[3]=1,r}if(t=e.match(ae)){for(var a=t.slice(1,5),o=0;o<4;o++)a[o]=+a[o];return a}if(t=e.match(oe)){for(var i=t.slice(1,4),s=0;s<3;s++)i[s]=le(2.55*i[s]);return i[3]=1,i}if(t=e.match(ie)){for(var c=t.slice(1,5),l=0;l<3;l++)c[l]=le(2.55*c[l]);return c[3]=+c[3],c}if(t=e.match(se)){var u=t.slice(1,4);u[1]*=.01,u[2]*=.01;var f=te(u);return f[3]=1,f}if(t=e.match(ce)){var p=t.slice(1,4);p[1]*=.01,p[2]*=.01;var h=te(p);return h[3]=+t[4],h}};ue.test=function(e){return ne.test(e)||ae.test(e)||oe.test(e)||ie.test(e)||se.test(e)||ce.test(e)};var fe=ue,pe=k,he=v,de=d,me=h.type,ge=J,ye=fe;he.prototype.css=function(e){return ge(this._rgb,e)},pe.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(he,[null].concat(e,["css"])))},de.format.css=ye,de.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===me(e)&&ye.test(e))return"css"}});var be=v,$e=k,ve=d,_e=h.unpack;ve.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=_e(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},$e.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(be,[null].concat(e,["gl"])))},be.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var ke=h.unpack,we=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n=ke(e,"rgb"),a=n[0],o=n[1],i=n[2],s=Math.min(a,o,i),c=Math.max(a,o,i),l=c-s,u=100*l/255,f=s/(255-l)*100;return 0===l?r=Number.NaN:(a===c&&(r=(o-i)/l),o===c&&(r=2+(i-a)/l),i===c&&(r=4+(a-o)/l),(r*=60)<0&&(r+=360)),[r,u,f]},Ee=we,xe=h.unpack,Se=Math.floor,Ae=function(){for(var e,t,r,n,a,o,i=[],s=arguments.length;s--;)i[s]=arguments[s];var c,l,u,f=(i=xe(i,"hcg"))[0],p=i[1],h=i[2];h*=255;var d=255*p;if(0===p)c=l=u=h;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var m=Se(f/=60),g=f-m,y=h*(1-p),b=y+d*(1-g),$=y+d*g,v=y+d;switch(m){case 0:c=(e=[v,$,y])[0],l=e[1],u=e[2];break;case 1:c=(t=[b,v,y])[0],l=t[1],u=t[2];break;case 2:c=(r=[y,v,$])[0],l=r[1],u=r[2];break;case 3:c=(n=[y,b,v])[0],l=n[1],u=n[2];break;case 4:c=(a=[$,y,v])[0],l=a[1],u=a[2];break;case 5:c=(o=[v,y,b])[0],l=o[1],u=o[2]}}return[c,l,u,i.length>3?i[3]:1]},Te=Ae,Me=h.unpack,Oe=h.type,Ce=k,Ie=v,De=d,Ne=Ee;Ie.prototype.hcg=function(){return Ne(this._rgb)},Ce.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ie,[null].concat(e,["hcg"])))},De.format.hcg=Te,De.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Me(e,"hcg"),"array"===Oe(e)&&3===e.length)return"hcg"}});var Pe=h.unpack,Re=h.last,Le=Math.round,je=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Pe(e,"rgba"),n=r[0],a=r[1],o=r[2],i=r[3],s=Re(e)||"auto";void 0===i&&(i=1),"auto"===s&&(s=i<1?"rgba":"rgb");var c="000000"+((n=Le(n))<<16|(a=Le(a))<<8|(o=Le(o))).toString(16);c=c.substr(c.length-6);var l="0"+Le(255*i).toString(16);switch(l=l.substr(l.length-2),s.toLowerCase()){case"rgba":return"#"+c+l;case"argb":return"#"+l+c;default:return"#"+c}},Fe=je,Be=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,He=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ue=function(e){if(e.match(Be)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(He)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var r=parseInt(e,16);return[r>>24&255,r>>16&255,r>>8&255,Math.round((255&r)/255*100)/100]}throw new Error("unknown hex color: "+e)},ze=Ue,Ye=k,Ge=v,We=h.type,qe=d,Ve=Fe;Ge.prototype.hex=function(e){return Ve(this._rgb,e)},Ye.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ge,[null].concat(e,["hex"])))},qe.format.hex=ze,qe.autodetect.push({p:4,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===We(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var Ke=h.unpack,Je=h.TWOPI,Xe=Math.min,Ze=Math.sqrt,Qe=Math.acos,et=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n=Ke(e,"rgb"),a=n[0],o=n[1],i=n[2],s=Xe(a/=255,o/=255,i/=255),c=(a+o+i)/3,l=c>0?1-s/c:0;return 0===l?r=NaN:(r=(a-o+(a-i))/2,r/=Ze((a-o)*(a-o)+(a-i)*(o-i)),r=Qe(r),i>o&&(r=Je-r),r/=Je),[360*r,l,c]},tt=et,rt=h.unpack,nt=h.limit,at=h.TWOPI,ot=h.PITHIRD,it=Math.cos,st=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a,o=(e=rt(e,"hsi"))[0],i=e[1],s=e[2];return isNaN(o)&&(o=0),isNaN(i)&&(i=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?n=1-((a=(1-i)/3)+(r=(1+i*it(at*o)/it(ot-at*o))/3)):o<2/3?a=1-((r=(1-i)/3)+(n=(1+i*it(at*(o-=1/3))/it(ot-at*o))/3)):r=1-((n=(1-i)/3)+(a=(1+i*it(at*(o-=2/3))/it(ot-at*o))/3)),[255*(r=nt(s*r*3)),255*(n=nt(s*n*3)),255*(a=nt(s*a*3)),e.length>3?e[3]:1]},ct=st,lt=h.unpack,ut=h.type,ft=k,pt=v,ht=d,dt=tt;pt.prototype.hsi=function(){return dt(this._rgb)},ft.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(pt,[null].concat(e,["hsi"])))},ht.format.hsi=ct,ht.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=lt(e,"hsi"),"array"===ut(e)&&3===e.length)return"hsi"}});var mt=h.unpack,gt=h.type,yt=k,bt=v,$t=d,vt=z;bt.prototype.hsl=function(){return vt(this._rgb)},yt.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(bt,[null].concat(e,["hsl"])))},$t.format.hsl=ee,$t.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=mt(e,"hsl"),"array"===gt(e)&&3===e.length)return"hsl"}});var _t=h.unpack,kt=Math.min,wt=Math.max,Et=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a,o=(e=_t(e,"rgb"))[0],i=e[1],s=e[2],c=kt(o,i,s),l=wt(o,i,s),u=l-c;return a=l/255,0===l?(r=Number.NaN,n=0):(n=u/l,o===l&&(r=(i-s)/u),i===l&&(r=2+(s-o)/u),s===l&&(r=4+(o-i)/u),(r*=60)<0&&(r+=360)),[r,n,a]},xt=Et,St=h.unpack,At=Math.floor,Tt=function(){for(var e,t,r,n,a,o,i=[],s=arguments.length;s--;)i[s]=arguments[s];var c,l,u,f=(i=St(i,"hsv"))[0],p=i[1],h=i[2];if(h*=255,0===p)c=l=u=h;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var d=At(f/=60),m=f-d,g=h*(1-p),y=h*(1-p*m),b=h*(1-p*(1-m));switch(d){case 0:c=(e=[h,b,g])[0],l=e[1],u=e[2];break;case 1:c=(t=[y,h,g])[0],l=t[1],u=t[2];break;case 2:c=(r=[g,h,b])[0],l=r[1],u=r[2];break;case 3:c=(n=[g,y,h])[0],l=n[1],u=n[2];break;case 4:c=(a=[b,g,h])[0],l=a[1],u=a[2];break;case 5:c=(o=[h,g,y])[0],l=o[1],u=o[2]}}return[c,l,u,i.length>3?i[3]:1]},Mt=Tt,Ot=h.unpack,Ct=h.type,It=k,Dt=v,Nt=d,Pt=xt;Dt.prototype.hsv=function(){return Pt(this._rgb)},It.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dt,[null].concat(e,["hsv"])))},Nt.format.hsv=Mt,Nt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ot(e,"hsv"),"array"===Ct(e)&&3===e.length)return"hsv"}});var Rt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Lt=Rt,jt=h.unpack,Ft=Math.pow,Bt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=jt(e,"rgb"),n=r[0],a=r[1],o=r[2],i=zt(n,a,o),s=i[0],c=i[1],l=116*c-16;return[l<0?0:l,500*(s-c),200*(c-i[2])]},Ht=function(e){return(e/=255)<=.04045?e/12.92:Ft((e+.055)/1.055,2.4)},Ut=function(e){return e>Lt.t3?Ft(e,1/3):e/Lt.t2+Lt.t0},zt=function(e,t,r){return e=Ht(e),t=Ht(t),r=Ht(r),[Ut((.4124564*e+.3575761*t+.1804375*r)/Lt.Xn),Ut((.2126729*e+.7151522*t+.072175*r)/Lt.Yn),Ut((.0193339*e+.119192*t+.9503041*r)/Lt.Zn)]},Yt=Bt,Gt=Rt,Wt=h.unpack,qt=Math.pow,Vt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a,o=(e=Wt(e,"lab"))[0],i=e[1],s=e[2];return n=(o+16)/116,r=isNaN(i)?n:n+i/500,a=isNaN(s)?n:n-s/200,n=Gt.Yn*Jt(n),r=Gt.Xn*Jt(r),a=Gt.Zn*Jt(a),[Kt(3.2404542*r-1.5371385*n-.4985314*a),Kt(-.969266*r+1.8760108*n+.041556*a),Kt(.0556434*r-.2040259*n+1.0572252*a),e.length>3?e[3]:1]},Kt=function(e){return 255*(e<=.00304?12.92*e:1.055*qt(e,1/2.4)-.055)},Jt=function(e){return e>Gt.t1?e*e*e:Gt.t2*(e-Gt.t0)},Xt=Vt,Zt=h.unpack,Qt=h.type,er=k,tr=v,rr=d,nr=Yt;tr.prototype.lab=function(){return nr(this._rgb)},er.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(tr,[null].concat(e,["lab"])))},rr.format.lab=Xt,rr.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Zt(e,"lab"),"array"===Qt(e)&&3===e.length)return"lab"}});var ar=h.unpack,or=h.RAD2DEG,ir=Math.sqrt,sr=Math.atan2,cr=Math.round,lr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ar(e,"lab"),n=r[0],a=r[1],o=r[2],i=ir(a*a+o*o),s=(sr(o,a)*or+360)%360;return 0===cr(1e4*i)&&(s=Number.NaN),[n,i,s]},ur=lr,fr=h.unpack,pr=Yt,hr=ur,dr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=fr(e,"rgb"),n=r[0],a=r[1],o=r[2],i=pr(n,a,o),s=i[0],c=i[1],l=i[2];return hr(s,c,l)},mr=dr,gr=h.unpack,yr=h.DEG2RAD,br=Math.sin,$r=Math.cos,vr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=gr(e,"lch"),n=r[0],a=r[1],o=r[2];return isNaN(o)&&(o=0),[n,$r(o*=yr)*a,br(o)*a]},_r=vr,kr=h.unpack,wr=_r,Er=Xt,xr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=kr(e,"lch"))[0],n=e[1],a=e[2],o=wr(r,n,a),i=o[0],s=o[1],c=o[2],l=Er(i,s,c);return[l[0],l[1],l[2],e.length>3?e[3]:1]},Sr=xr,Ar=h.unpack,Tr=Sr,Mr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Ar(e,"hcl").reverse();return Tr.apply(void 0,r)},Or=Mr,Cr=h.unpack,Ir=h.type,Dr=k,Nr=v,Pr=d,Rr=mr;Nr.prototype.lch=function(){return Rr(this._rgb)},Nr.prototype.hcl=function(){return Rr(this._rgb).reverse()},Dr.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Nr,[null].concat(e,["lch"])))},Dr.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Nr,[null].concat(e,["hcl"])))},Pr.format.lch=Sr,Pr.format.hcl=Or,["lch","hcl"].forEach((function(e){return Pr.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=Cr(t,e),"array"===Ir(t)&&3===t.length)return e}})}));var Lr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},jr=v,Fr=d,Br=h.type,Hr=Lr,Ur=ze,zr=Fe;jr.prototype.name=function(){for(var e=zr(this._rgb,"rgb"),t=0,r=Object.keys(Hr);t<r.length;t+=1){var n=r[t];if(Hr[n]===e)return n.toLowerCase()}return e},Fr.format.named=function(e){if(e=e.toLowerCase(),Hr[e])return Ur(Hr[e]);throw new Error("unknown color name: "+e)},Fr.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===Br(e)&&Hr[e.toLowerCase()])return"named"}});var Yr=h.unpack,Gr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Yr(e,"rgb");return(r[0]<<16)+(r[1]<<8)+r[2]},Wr=Gr,qr=h.type,Vr=function(e){if("number"==qr(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Kr=Vr,Jr=k,Xr=v,Zr=d,Qr=h.type,en=Wr;Xr.prototype.num=function(){return en(this._rgb)},Jr.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Xr,[null].concat(e,["num"])))},Zr.format.num=Kr,Zr.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Qr(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var tn=k,rn=v,nn=d,an=h.unpack,on=h.type,sn=Math.round;rn.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(sn)},rn.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,r){return r<3?!1===e?t:sn(t):t}))},tn.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(rn,[null].concat(e,["rgb"])))},nn.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=an(e,"rgba");return void 0===r[3]&&(r[3]=1),r},nn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=an(e,"rgba"),"array"===on(e)&&(3===e.length||4===e.length&&"number"==on(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var cn=Math.log,ln=function(e){var t,r,n,a=e/100;return a<66?(t=255,r=a<6?0:-155.25485562709179-.44596950469579133*(r=a-2)+104.49216199393888*cn(r),n=a<20?0:.8274096064007395*(n=a-10)-254.76935184120902+115.67994401066147*cn(n)):(t=351.97690566805693+.114206453784165*(t=a-55)-40.25366309332127*cn(t),r=325.4494125711974+.07943456536662342*(r=a-50)-28.0852963507957*cn(r),n=255),[t,r,n,1]},un=ln,fn=un,pn=h.unpack,hn=Math.round,dn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r,n=pn(e,"rgb"),a=n[0],o=n[2],i=1e3,s=4e4,c=.4;s-i>c;){var l=fn(r=.5*(s+i));l[2]/l[0]>=o/a?s=r:i=r}return hn(r)},mn=k,gn=v,yn=d,bn=dn;gn.prototype.temp=gn.prototype.kelvin=gn.prototype.temperature=function(){return bn(this._rgb)},mn.temp=mn.kelvin=mn.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(gn,[null].concat(e,["temp"])))},yn.format.temp=yn.format.kelvin=yn.format.temperature=un;var $n=h.unpack,vn=Math.cbrt,_n=Math.pow,kn=Math.sign,wn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=$n(e,"rgb"),n=r[0],a=r[1],o=r[2],i=[xn(n/255),xn(a/255),xn(o/255)],s=i[0],c=i[1],l=i[2],u=vn(.4122214708*s+.5363325363*c+.0514459929*l),f=vn(.2119034982*s+.6806995451*c+.1073969566*l),p=vn(.0883024619*s+.2817188376*c+.6299787005*l);return[.2104542553*u+.793617785*f-.0040720468*p,1.9779984951*u-2.428592205*f+.4505937099*p,.0259040371*u+.7827717662*f-.808675766*p]},En=wn;function xn(e){var t=Math.abs(e);return t<.04045?e/12.92:(kn(e)||1)*_n((t+.055)/1.055,2.4)}var Sn=h.unpack,An=Math.pow,Tn=Math.sign,Mn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=Sn(e,"lab"))[0],n=e[1],a=e[2],o=An(r+.3963377774*n+.2158037573*a,3),i=An(r-.1055613458*n-.0638541728*a,3),s=An(r-.0894841775*n-1.291485548*a,3);return[255*Cn(4.0767416621*o-3.3077115913*i+.2309699292*s),255*Cn(-1.2684380046*o+2.6097574011*i-.3413193965*s),255*Cn(-.0041960863*o-.7034186147*i+1.707614701*s),e.length>3?e[3]:1]},On=Mn;function Cn(e){var t=Math.abs(e);return t>.0031308?(Tn(e)||1)*(1.055*An(t,1/2.4)-.055):12.92*e}var In=h.unpack,Dn=h.type,Nn=k,Pn=v,Rn=d,Ln=En;Pn.prototype.oklab=function(){return Ln(this._rgb)},Nn.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Pn,[null].concat(e,["oklab"])))},Rn.format.oklab=On,Rn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=In(e,"oklab"),"array"===Dn(e)&&3===e.length)return"oklab"}});var jn=h.unpack,Fn=En,Bn=ur,Hn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=jn(e,"rgb"),n=r[0],a=r[1],o=r[2],i=Fn(n,a,o),s=i[0],c=i[1],l=i[2];return Bn(s,c,l)},Un=Hn,zn=h.unpack,Yn=_r,Gn=On,Wn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=zn(e,"lch"))[0],n=e[1],a=e[2],o=Yn(r,n,a),i=o[0],s=o[1],c=o[2],l=Gn(i,s,c);return[l[0],l[1],l[2],e.length>3?e[3]:1]},qn=Wn,Vn=h.unpack,Kn=h.type,Jn=k,Xn=v,Zn=d,Qn=Un;Xn.prototype.oklch=function(){return Qn(this._rgb)},Jn.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Xn,[null].concat(e,["oklch"])))},Zn.format.oklch=qn,Zn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Vn(e,"oklch"),"array"===Kn(e)&&3===e.length)return"oklch"}});var ea=v,ta=h.type;ea.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===ta(e)?t?(this._rgb[3]=e,this):new ea([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},v.prototype.clipped=function(){return this._rgb._clipped||!1};var ra=v,na=Rt;ra.prototype.darken=function(e){void 0===e&&(e=1);var t=this,r=t.lab();return r[0]-=na.Kn*e,new ra(r,"lab").alpha(t.alpha(),!0)},ra.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},ra.prototype.darker=ra.prototype.darken,ra.prototype.brighter=ra.prototype.brighten,v.prototype.get=function(e){var t=e.split("."),r=t[0],n=t[1],a=this[r]();if(n){var o=r.indexOf(n)-("ok"===r.substr(0,2)?2:0);if(o>-1)return a[o];throw new Error("unknown channel "+n+" in mode "+r)}return a};var aa=v,oa=h.type,ia=Math.pow,sa=1e-7,ca=20;aa.prototype.luminance=function(e){if(void 0!==e&&"number"===oa(e)){if(0===e)return new aa([0,0,0,this._rgb[3]],"rgb");if(1===e)return new aa([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),r="rgb",n=ca,a=function(t,o){var i=t.interpolate(o,.5,r),s=i.luminance();return Math.abs(e-s)<sa||!n--?i:s>e?a(t,i):a(i,o)},o=(t>e?a(new aa([0,0,0]),this):a(this,new aa([255,255,255]))).rgb();return new aa(o.concat([this._rgb[3]]))}return la.apply(void 0,this._rgb.slice(0,3))};var la=function(e,t,r){return.2126*(e=ua(e))+.7152*(t=ua(t))+.0722*(r=ua(r))},ua=function(e){return(e/=255)<=.03928?e/12.92:ia((e+.055)/1.055,2.4)},fa={},pa=v,ha=h.type,da=fa,ma=function(e,t,r){void 0===r&&(r=.5);for(var n=[],a=arguments.length-3;a-- >0;)n[a]=arguments[a+3];var o=n[0]||"lrgb";if(da[o]||n.length||(o=Object.keys(da)[0]),!da[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==ha(e)&&(e=new pa(e)),"object"!==ha(t)&&(t=new pa(t)),da[o](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))},ga=v,ya=ma;ga.prototype.mix=ga.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return ya.apply(void 0,[this,e,t].concat(r))};var ba=v;ba.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new ba([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};var $a=v,va=Rt;$a.prototype.saturate=function(e){void 0===e&&(e=1);var t=this,r=t.lch();return r[1]+=va.Kn*e,r[1]<0&&(r[1]=0),new $a(r,"lch").alpha(t.alpha(),!0)},$a.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var _a=v,ka=h.type;_a.prototype.set=function(e,t,r){void 0===r&&(r=!1);var n=e.split("."),a=n[0],o=n[1],i=this[a]();if(o){var s=a.indexOf(o)-("ok"===a.substr(0,2)?2:0);if(s>-1){if("string"==ka(t))switch(t.charAt(0)){case"+":case"-":i[s]+=+t;break;case"*":i[s]*=+t.substr(1);break;case"/":i[s]/=+t.substr(1);break;default:i[s]=+t}else{if("number"!==ka(t))throw new Error("unsupported value for Color.set");i[s]=t}var c=new _a(i,a);return r?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+o+" in mode "+a)}return i};var wa=v,Ea=function(e,t,r){var n=e._rgb,a=t._rgb;return new wa(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"rgb")};fa.rgb=Ea;var xa=v,Sa=Math.sqrt,Aa=Math.pow,Ta=function(e,t,r){var n=e._rgb,a=n[0],o=n[1],i=n[2],s=t._rgb,c=s[0],l=s[1],u=s[2];return new xa(Sa(Aa(a,2)*(1-r)+Aa(c,2)*r),Sa(Aa(o,2)*(1-r)+Aa(l,2)*r),Sa(Aa(i,2)*(1-r)+Aa(u,2)*r),"rgb")};fa.lrgb=Ta;var Ma=v,Oa=function(e,t,r){var n=e.lab(),a=t.lab();return new Ma(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"lab")};fa.lab=Oa;var Ca=v,Ia=function(e,t,r,n){var a,o,i,s,c,l,u,f,p,h,d,m,g;return"hsl"===n?(i=e.hsl(),s=t.hsl()):"hsv"===n?(i=e.hsv(),s=t.hsv()):"hcg"===n?(i=e.hcg(),s=t.hcg()):"hsi"===n?(i=e.hsi(),s=t.hsi()):"lch"===n||"hcl"===n?(n="hcl",i=e.hcl(),s=t.hcl()):"oklch"===n&&(i=e.oklch().reverse(),s=t.oklch().reverse()),"h"!==n.substr(0,1)&&"oklch"!==n||(c=(a=i)[0],u=a[1],p=a[2],l=(o=s)[0],f=o[1],h=o[2]),isNaN(c)||isNaN(l)?isNaN(c)?isNaN(l)?m=Number.NaN:(m=l,1!=p&&0!=p||"hsv"==n||(d=f)):(m=c,1!=h&&0!=h||"hsv"==n||(d=u)):m=c+r*(l>c&&l-c>180?l-(c+360):l<c&&c-l>180?l+360-c:l-c),void 0===d&&(d=u+r*(f-u)),g=p+r*(h-p),new Ca("oklch"===n?[g,d,m]:[m,d,g],n)},Da=Ia,Na=function(e,t,r){return Da(e,t,r,"lch")};fa.lch=Na,fa.hcl=Na;var Pa=v,Ra=function(e,t,r){var n=e.num(),a=t.num();return new Pa(n+r*(a-n),"num")};fa.num=Ra;var La=Ia,ja=function(e,t,r){return La(e,t,r,"hcg")};fa.hcg=ja;var Fa=Ia,Ba=function(e,t,r){return Fa(e,t,r,"hsi")};fa.hsi=Ba;var Ha=Ia,Ua=function(e,t,r){return Ha(e,t,r,"hsl")};fa.hsl=Ua;var za=Ia,Ya=function(e,t,r){return za(e,t,r,"hsv")};fa.hsv=Ya;var Ga=v,Wa=function(e,t,r){var n=e.oklab(),a=t.oklab();return new Ga(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"oklab")};fa.oklab=Wa;var qa=Ia,Va=function(e,t,r){return qa(e,t,r,"oklch")};fa.oklch=Va;var Ka=v,Ja=h.clip_rgb,Xa=Math.pow,Za=Math.sqrt,Qa=Math.PI,eo=Math.cos,to=Math.sin,ro=Math.atan2,no=function(e,t,r){void 0===t&&(t="lrgb"),void 0===r&&(r=null);var n=e.length;r||(r=Array.from(new Array(n)).map((function(){return 1})));var a=n/r.reduce((function(e,t){return e+t}));if(r.forEach((function(e,t){r[t]*=a})),e=e.map((function(e){return new Ka(e)})),"lrgb"===t)return ao(e,r);for(var o=e.shift(),i=o.get(t),s=[],c=0,l=0,u=0;u<i.length;u++)if(i[u]=(i[u]||0)*r[0],s.push(isNaN(i[u])?0:r[0]),"h"===t.charAt(u)&&!isNaN(i[u])){var f=i[u]/180*Qa;c+=eo(f)*r[0],l+=to(f)*r[0]}var p=o.alpha()*r[0];e.forEach((function(e,n){var a=e.get(t);p+=e.alpha()*r[n+1];for(var o=0;o<i.length;o++)if(!isNaN(a[o]))if(s[o]+=r[n+1],"h"===t.charAt(o)){var u=a[o]/180*Qa;c+=eo(u)*r[n+1],l+=to(u)*r[n+1]}else i[o]+=a[o]*r[n+1]}));for(var h=0;h<i.length;h++)if("h"===t.charAt(h)){for(var d=ro(l/s[h],c/s[h])/Qa*180;d<0;)d+=360;for(;d>=360;)d-=360;i[h]=d}else i[h]=i[h]/s[h];return p/=n,new Ka(i,t).alpha(p>.99999?1:p,!0)},ao=function(e,t){for(var r=e.length,n=[0,0,0,0],a=0;a<e.length;a++){var o=e[a],i=t[a]/r,s=o._rgb;n[0]+=Xa(s[0],2)*i,n[1]+=Xa(s[1],2)*i,n[2]+=Xa(s[2],2)*i,n[3]+=s[3]*i}return n[0]=Za(n[0]),n[1]=Za(n[1]),n[2]=Za(n[2]),n[3]>.9999999&&(n[3]=1),new Ka(Ja(n))},oo=k,io=h.type,so=Math.pow,co=function(e){var t="rgb",r=oo("#ccc"),n=0,a=[0,1],o=[],i=[0,0],s=!1,c=[],l=!1,u=0,f=1,p=!1,h={},d=!0,m=1,g=function(e){if((e=e||["#fff","#000"])&&"string"===io(e)&&oo.brewer&&oo.brewer[e.toLowerCase()]&&(e=oo.brewer[e.toLowerCase()]),"array"===io(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=oo(e[t]);o.length=0;for(var r=0;r<e.length;r++)o.push(r/(e.length-1))}return _(),c=e},y=function(e){if(null!=s){for(var t=s.length-1,r=0;r<t&&e>=s[r];)r++;return r-1}return 0},b=function(e){return e},$=function(e){return e},v=function(e,n){var a,l;if(null==n&&(n=!1),isNaN(e)||null===e)return r;l=n?e:s&&s.length>2?y(e)/(s.length-2):f!==u?(e-u)/(f-u):1,l=$(l),n||(l=b(l)),1!==m&&(l=so(l,m)),l=i[0]+l*(1-i[0]-i[1]),l=Math.min(1,Math.max(0,l));var p=Math.floor(1e4*l);if(d&&h[p])a=h[p];else{if("array"===io(c))for(var g=0;g<o.length;g++){var v=o[g];if(l<=v){a=c[g];break}if(l>=v&&g===o.length-1){a=c[g];break}if(l>v&&l<o[g+1]){l=(l-v)/(o[g+1]-v),a=oo.interpolate(c[g],c[g+1],l,t);break}}else"function"===io(c)&&(a=c(l));d&&(h[p]=a)}return a},_=function(){return h={}};g(e);var k=function(e){var t=oo(v(e));return l&&t[l]?t[l]():t};return k.classes=function(e){if(null!=e){if("array"===io(e))s=e,a=[e[0],e[e.length-1]];else{var t=oo.analyze(a);s=0===e?[t.min,t.max]:oo.limits(t,"e",e)}return k}return s},k.domain=function(e){if(!arguments.length)return a;u=e[0],f=e[e.length-1],o=[];var t=c.length;if(e.length===t&&u!==f)for(var r=0,n=Array.from(e);r<n.length;r+=1){var i=n[r];o.push((i-u)/(f-u))}else{for(var s=0;s<t;s++)o.push(s/(t-1));if(e.length>2){var l=e.map((function(t,r){return r/(e.length-1)})),p=e.map((function(e){return(e-u)/(f-u)}));p.every((function(e,t){return l[t]===e}))||($=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=p[t+1];)t++;var r=(e-p[t])/(p[t+1]-p[t]);return l[t]+r*(l[t+1]-l[t])})}}return a=[u,f],k},k.mode=function(e){return arguments.length?(t=e,_(),k):t},k.range=function(e,t){return g(e),k},k.out=function(e){return l=e,k},k.spread=function(e){return arguments.length?(n=e,k):n},k.correctLightness=function(e){return null==e&&(e=!0),p=e,_(),b=p?function(e){for(var t=v(0,!0).lab()[0],r=v(1,!0).lab()[0],n=t>r,a=v(e,!0).lab()[0],o=t+(r-t)*e,i=a-o,s=0,c=1,l=20;Math.abs(i)>.01&&l-- >0;)n&&(i*=-1),i<0?(s=e,e+=.5*(c-e)):(c=e,e+=.5*(s-e)),a=v(e,!0).lab()[0],i=a-o;return e}:function(e){return e},k},k.padding=function(e){return null!=e?("number"===io(e)&&(e=[e,e]),i=e,k):i},k.colors=function(t,r){arguments.length<2&&(r="hex");var n=[];if(0===arguments.length)n=c.slice(0);else if(1===t)n=[k(.5)];else if(t>1){var o=a[0],i=a[1]-o;n=lo(0,t,!1).map((function(e){return k(o+e/(t-1)*i)}))}else{e=[];var l=[];if(s&&s.length>2)for(var u=1,f=s.length,p=1<=f;p?u<f:u>f;p?u++:u--)l.push(.5*(s[u-1]+s[u]));else l=a;n=l.map((function(e){return k(e)}))}return oo[r]&&(n=n.map((function(e){return e[r]()}))),n},k.cache=function(e){return null!=e?(d=e,k):d},k.gamma=function(e){return null!=e?(m=e,k):m},k.nodata=function(e){return null!=e?(r=oo(e),k):r},k};function lo(e,t,r){for(var n=[],a=e<t,o=r?a?t+1:t-1:t,i=e;a?i<o:i>o;a?i++:i--)n.push(i);return n}var uo=v,fo=co,po=function(e){for(var t=[1,1],r=1;r<e;r++){for(var n=[1],a=1;a<=t.length;a++)n[a]=(t[a]||0)+t[a-1];t=n}return t},ho=function(e){var t,r,n,a,o,i,s;if(2===(e=e.map((function(e){return new uo(e)}))).length)t=e.map((function(e){return e.lab()})),o=t[0],i=t[1],a=function(e){var t=[0,1,2].map((function(t){return o[t]+e*(i[t]-o[t])}));return new uo(t,"lab")};else if(3===e.length)r=e.map((function(e){return e.lab()})),o=r[0],i=r[1],s=r[2],a=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*i[t]+e*e*s[t]}));return new uo(t,"lab")};else if(4===e.length){var c;n=e.map((function(e){return e.lab()})),o=n[0],i=n[1],s=n[2],c=n[3],a=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*i[t]+3*(1-e)*e*e*s[t]+e*e*e*c[t]}));return new uo(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var l,u,f;l=e.map((function(e){return e.lab()})),f=e.length-1,u=po(f),a=function(e){var t=1-e,r=[0,1,2].map((function(r){return l.reduce((function(n,a,o){return n+u[o]*Math.pow(t,f-o)*Math.pow(e,o)*a[r]}),0)}));return new uo(r,"lab")}}return a},mo=function(e){var t=ho(e);return t.scale=function(){return fo(t)},t},go=k,yo=function(e,t,r){if(!yo[r])throw new Error("unknown blend mode "+r);return yo[r](e,t)},bo=function(e){return function(t,r){var n=go(r).rgb(),a=go(t).rgb();return go.rgb(e(n,a))}},$o=function(e){return function(t,r){var n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n}},vo=function(e){return e},_o=function(e,t){return e*t/255},ko=function(e,t){return e>t?t:e},wo=function(e,t){return e>t?e:t},Eo=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},xo=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},So=function(e,t){return 255*(1-(1-t/255)/(e/255))},Ao=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e};yo.normal=bo($o(vo)),yo.multiply=bo($o(_o)),yo.screen=bo($o(Eo)),yo.overlay=bo($o(xo)),yo.darken=bo($o(ko)),yo.lighten=bo($o(wo)),yo.dodge=bo($o(Ao)),yo.burn=bo($o(So));for(var To=yo,Mo=h.type,Oo=h.clip_rgb,Co=h.TWOPI,Io=Math.pow,Do=Math.sin,No=Math.cos,Po=k,Ro=function(e,t,r,n,a){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===r&&(r=1),void 0===n&&(n=1),void 0===a&&(a=[0,1]);var o,i=0;"array"===Mo(a)?o=a[1]-a[0]:(o=0,a=[a,a]);var s=function(s){var c=Co*((e+120)/360+t*s),l=Io(a[0]+o*s,n),u=(0!==i?r[0]+s*i:r)*l*(1-l)/2,f=No(c),p=Do(c);return Po(Oo([255*(l+u*(-.14861*f+1.78277*p)),255*(l+u*(-.29227*f-.90649*p)),255*(l+u*(1.97294*f)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?n:(n=e,s)},s.hue=function(e){return null==e?r:("array"===Mo(r=e)?0==(i=r[1]-r[0])&&(r=r[1]):i=0,s)},s.lightness=function(e){return null==e?a:("array"===Mo(e)?(a=e,o=e[1]-e[0]):(a=[e,e],o=0),s)},s.scale=function(){return Po.scale(s)},s.hue(r),s},Lo=v,jo="0123456789abcdef",Fo=Math.floor,Bo=Math.random,Ho=function(){for(var e="#",t=0;t<6;t++)e+=jo.charAt(Fo(16*Bo()));return new Lo(e,"hex")},Uo=s,zo=Math.log,Yo=Math.pow,Go=Math.floor,Wo=Math.abs,qo=function(e,t){void 0===t&&(t=null);var r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Uo(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===Uo(e)&&(e=e[t]),null==e||isNaN(e)||(r.values.push(e),r.sum+=e,e<r.min&&(r.min=e),e>r.max&&(r.max=e),r.count+=1)})),r.domain=[r.min,r.max],r.limits=function(e,t){return Vo(r,e,t)},r},Vo=function(e,t,r){void 0===t&&(t="equal"),void 0===r&&(r=7),"array"==Uo(e)&&(e=qo(e));var n=e.min,a=e.max,o=e.values.sort((function(e,t){return e-t}));if(1===r)return[n,a];var i=[];if("c"===t.substr(0,1)&&(i.push(n),i.push(a)),"e"===t.substr(0,1)){i.push(n);for(var s=1;s<r;s++)i.push(n+s/r*(a-n));i.push(a)}else if("l"===t.substr(0,1)){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*zo(n),l=Math.LOG10E*zo(a);i.push(n);for(var u=1;u<r;u++)i.push(Yo(10,c+u/r*(l-c)));i.push(a)}else if("q"===t.substr(0,1)){i.push(n);for(var f=1;f<r;f++){var p=(o.length-1)*f/r,h=Go(p);if(h===p)i.push(o[h]);else{var d=p-h;i.push(o[h]*(1-d)+o[h+1]*d)}}i.push(a)}else if("k"===t.substr(0,1)){var m,g=o.length,y=new Array(g),b=new Array(r),$=!0,v=0,_=null;(_=[]).push(n);for(var k=1;k<r;k++)_.push(n+k/r*(a-n));for(_.push(a);$;){for(var w=0;w<r;w++)b[w]=0;for(var E=0;E<g;E++)for(var x=o[E],S=Number.MAX_VALUE,A=void 0,T=0;T<r;T++){var M=Wo(_[T]-x);M<S&&(S=M,A=T),b[A]++,y[E]=A}for(var O=new Array(r),C=0;C<r;C++)O[C]=null;for(var I=0;I<g;I++)null===O[m=y[I]]?O[m]=o[I]:O[m]+=o[I];for(var D=0;D<r;D++)O[D]*=1/b[D];$=!1;for(var N=0;N<r;N++)if(O[N]!==_[N]){$=!0;break}_=O,++v>200&&($=!1)}for(var P={},R=0;R<r;R++)P[R]=[];for(var L=0;L<g;L++)P[m=y[L]].push(o[L]);for(var j=[],F=0;F<r;F++)j.push(P[F][0]),j.push(P[F][P[F].length-1]);j=j.sort((function(e,t){return e-t})),i.push(j[0]);for(var B=1;B<j.length;B+=2){var H=j[B];isNaN(H)||-1!==i.indexOf(H)||i.push(H)}}return i},Ko={analyze:qo,limits:Vo},Jo=v,Xo=function(e,t){e=new Jo(e),t=new Jo(t);var r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)},Zo=v,Qo=Math.sqrt,ei=Math.pow,ti=Math.min,ri=Math.max,ni=Math.atan2,ai=Math.abs,oi=Math.cos,ii=Math.sin,si=Math.exp,ci=Math.PI,li=function(e,t,r,n,a){void 0===r&&(r=1),void 0===n&&(n=1),void 0===a&&(a=1);var o=function(e){return 360*e/(2*ci)},i=function(e){return 2*ci*e/360};e=new Zo(e),t=new Zo(t);var s=Array.from(e.lab()),c=s[0],l=s[1],u=s[2],f=Array.from(t.lab()),p=f[0],h=f[1],d=f[2],m=(c+p)/2,g=(Qo(ei(l,2)+ei(u,2))+Qo(ei(h,2)+ei(d,2)))/2,y=.5*(1-Qo(ei(g,7)/(ei(g,7)+ei(25,7)))),b=l*(1+y),$=h*(1+y),v=Qo(ei(b,2)+ei(u,2)),_=Qo(ei($,2)+ei(d,2)),k=(v+_)/2,w=o(ni(u,b)),E=o(ni(d,$)),x=w>=0?w:w+360,S=E>=0?E:E+360,A=ai(x-S)>180?(x+S+360)/2:(x+S)/2,T=1-.17*oi(i(A-30))+.24*oi(i(2*A))+.32*oi(i(3*A+6))-.2*oi(i(4*A-63)),M=S-x;M=ai(M)<=180?M:S<=x?M+360:M-360,M=2*Qo(v*_)*ii(i(M)/2);var O=p-c,C=_-v,I=1+.015*ei(m-50,2)/Qo(20+ei(m-50,2)),D=1+.045*k,N=1+.015*k*T,P=30*si(-ei((A-275)/25,2)),R=-2*Qo(ei(k,7)/(ei(k,7)+ei(25,7)))*ii(2*i(P)),L=Qo(ei(O/(r*I),2)+ei(C/(n*D),2)+ei(M/(a*N),2)+R*(C/(n*D))*(M/(a*N)));return ri(0,ti(100,L))},ui=v,fi=function(e,t,r){void 0===r&&(r="lab"),e=new ui(e),t=new ui(t);var n=e.get(r),a=t.get(r),o=0;for(var i in n){var s=(n[i]||0)-(a[i]||0);o+=s*s}return Math.sqrt(o)},pi=v,hi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(pi,[null].concat(e))),!0}catch(e){return!1}},di=k,mi=co,gi={cool:function(){return mi([di.hsl(180,1,.9),di.hsl(250,.7,.4)])},hot:function(){return mi(["#000","#f00","#ff0","#fff"]).mode("rgb")}},yi={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},bi=0,$i=Object.keys(yi);bi<$i.length;bi+=1){var vi=$i[bi];yi[vi.toLowerCase()]=yi[vi]}var _i=yi,ki=k;return ki.average=no,ki.bezier=mo,ki.blend=To,ki.cubehelix=Ro,ki.mix=ki.interpolate=ma,ki.random=Ho,ki.scale=co,ki.analyze=Ko.analyze,ki.contrast=Xo,ki.deltaE=li,ki.distance=fi,ki.limits=Ko.limits,ki.valid=hi,ki.scales=gi,ki.colors=Lr,ki.brewer=_i,ki}();var chroma=chroma$1.exports;function clone$1(e){if(!e||"object"!=typeof e)return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}var clone_1=clone$1,isMergeableObject=function(e){return isNonNullObject(e)&&!isSpecial(e)};function isNonNullObject(e){return!!e&&"object"==typeof e}function isSpecial(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||isReactElement(e)}var canUseSymbol="function"==typeof Symbol&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(e){return e.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,t){return!1!==t.clone&&t.isMergeableObject(e)?deepmerge(emptyTarget(e),e,t):e}function defaultArrayMerge(e,t,r){return e.concat(t).map((function(e){return cloneUnlessOtherwiseSpecified(e,r)}))}function getMergeFunction(e,t){if(!t.customMerge)return deepmerge;var r=t.customMerge(e);return"function"==typeof r?r:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,t){try{return t in e}catch(e){return!1}}function propertyIsUnsafe(e,t){return propertyIsOnObject(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function mergeObject(e,t,r){var n={};return r.isMergeableObject(e)&&getKeys(e).forEach((function(t){n[t]=cloneUnlessOtherwiseSpecified(e[t],r)})),getKeys(t).forEach((function(a){propertyIsUnsafe(e,a)||(propertyIsOnObject(e,a)&&r.isMergeableObject(t[a])?n[a]=getMergeFunction(a,r)(e[a],t[a],r):n[a]=cloneUnlessOtherwiseSpecified(t[a],r))})),n}function deepmerge(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||defaultArrayMerge,r.isMergeableObject=r.isMergeableObject||isMergeableObject,r.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):mergeObject(e,t,r):cloneUnlessOtherwiseSpecified(t,r)}deepmerge.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return deepmerge(e,r,t)}),{})};var deepmerge_1=deepmerge,cjs=deepmerge_1,VERSION="1.13.4",root="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},ArrayProto=Array.prototype,ObjProto=Object.prototype,SymbolProto="undefined"!=typeof Symbol?Symbol.prototype:null,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,supportsArrayBuffer="undefined"!=typeof ArrayBuffer,supportsDataView="undefined"!=typeof DataView,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create,nativeIsView=supportsArrayBuffer&&ArrayBuffer.isView,_isNaN=isNaN,_isFinite=isFinite,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],MAX_ARRAY_INDEX=Math.pow(2,53)-1;function restArguments(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),a=0;a<r;a++)n[a]=arguments[a+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(a=0;a<t;a++)o[a]=arguments[a];return o[t]=n,e.apply(this,o)}}function isObject(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function isNull(e){return null===e}function isUndefined(e){return void 0===e}function isBoolean(e){return!0===e||!1===e||"[object Boolean]"===toString.call(e)}function isElement(e){return!(!e||1!==e.nodeType)}function tagTester(e){var t="[object "+e+"]";return function(e){return toString.call(e)===t}}var isString=tagTester("String"),isNumber=tagTester("Number"),isDate=tagTester("Date"),isRegExp=tagTester("RegExp"),isError=tagTester("Error"),isSymbol=tagTester("Symbol"),isArrayBuffer=tagTester("ArrayBuffer"),isFunction=tagTester("Function"),nodelist=root.document&&root.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof nodelist&&(isFunction=function(e){return"function"==typeof e||!1});var isFunction$1=isFunction,hasObjectTag=tagTester("Object"),hasStringTagBug=supportsDataView&&hasObjectTag(new DataView(new ArrayBuffer(8))),isIE11="undefined"!=typeof Map&&hasObjectTag(new Map),isDataView=tagTester("DataView");function ie10IsDataView(e){return null!=e&&isFunction$1(e.getInt8)&&isArrayBuffer(e.buffer)}var isDataView$1=hasStringTagBug?ie10IsDataView:isDataView,isArray=nativeIsArray||tagTester("Array");function has$1(e,t){return null!=e&&hasOwnProperty.call(e,t)}var isArguments=tagTester("Arguments");!function(){isArguments(arguments)||(isArguments=function(e){return has$1(e,"callee")})}();var isArguments$1=isArguments;function isFinite$1(e){return!isSymbol(e)&&_isFinite(e)&&!isNaN(parseFloat(e))}function isNaN$1(e){return isNumber(e)&&_isNaN(e)}function constant(e){return function(){return e}}function createSizePropertyCheck(e){return function(t){var r=e(t);return"number"==typeof r&&r>=0&&r<=MAX_ARRAY_INDEX}}function shallowProperty(e){return function(t){return null==t?void 0:t[e]}}var getByteLength=shallowProperty("byteLength"),isBufferLike=createSizePropertyCheck(getByteLength),typedArrayPattern=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function isTypedArray(e){return nativeIsView?nativeIsView(e)&&!isDataView$1(e):isBufferLike(e)&&typedArrayPattern.test(toString.call(e))}var isTypedArray$1=supportsArrayBuffer?isTypedArray:constant(!1),getLength=shallowProperty("length");function emulatedSet(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(e){return!0===t[e]},push:function(r){return t[r]=!0,e.push(r)}}}function collectNonEnumProps(e,t){t=emulatedSet(t);var r=nonEnumerableProps.length,n=e.constructor,a=isFunction$1(n)&&n.prototype||ObjProto,o="constructor";for(has$1(e,o)&&!t.contains(o)&&t.push(o);r--;)(o=nonEnumerableProps[r])in e&&e[o]!==a[o]&&!t.contains(o)&&t.push(o)}function keys(e){if(!isObject(e))return[];if(nativeKeys)return nativeKeys(e);var t=[];for(var r in e)has$1(e,r)&&t.push(r);return hasEnumBug&&collectNonEnumProps(e,t),t}function isEmpty(e){if(null==e)return!0;var t=getLength(e);return"number"==typeof t&&(isArray(e)||isString(e)||isArguments$1(e))?0===t:0===getLength(keys(e))}function isMatch(e,t){var r=keys(t),n=r.length;if(null==e)return!n;for(var a=Object(e),o=0;o<n;o++){var i=r[o];if(t[i]!==a[i]||!(i in a))return!1}return!0}function _$1(e){return e instanceof _$1?e:this instanceof _$1?void(this._wrapped=e):new _$1(e)}function toBufferView(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,getByteLength(e))}_$1.VERSION=VERSION,_$1.prototype.value=function(){return this._wrapped},_$1.prototype.valueOf=_$1.prototype.toJSON=_$1.prototype.value,_$1.prototype.toString=function(){return String(this._wrapped)};var tagDataView="[object DataView]";function eq(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;return("function"===a||"object"===a||"object"==typeof t)&&deepEq(e,t,r,n)}function deepEq(e,t,r,n){e instanceof _$1&&(e=e._wrapped),t instanceof _$1&&(t=t._wrapped);var a=toString.call(e);if(a!==toString.call(t))return!1;if(hasStringTagBug&&"[object Object]"==a&&isDataView$1(e)){if(!isDataView$1(t))return!1;a=tagDataView}switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return SymbolProto.valueOf.call(e)===SymbolProto.valueOf.call(t);case"[object ArrayBuffer]":case tagDataView:return deepEq(toBufferView(e),toBufferView(t),r,n)}var o="[object Array]"===a;if(!o&&isTypedArray$1(e)){if(getByteLength(e)!==getByteLength(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var i=e.constructor,s=t.constructor;if(i!==s&&!(isFunction$1(i)&&i instanceof i&&isFunction$1(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return n[c]===t;if(r.push(e),n.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!eq(e[c],t[c],r,n))return!1}else{var l,u=keys(e);if(c=u.length,keys(t).length!==c)return!1;for(;c--;)if(!has$1(t,l=u[c])||!eq(e[l],t[l],r,n))return!1}return r.pop(),n.pop(),!0}function isEqual(e,t){return eq(e,t)}function allKeys(e){if(!isObject(e))return[];var t=[];for(var r in e)t.push(r);return hasEnumBug&&collectNonEnumProps(e,t),t}function ie11fingerprint(e){var t=getLength(e);return function(r){if(null==r)return!1;var n=allKeys(r);if(getLength(n))return!1;for(var a=0;a<t;a++)if(!isFunction$1(r[e[a]]))return!1;return e!==weakMapMethods||!isFunction$1(r[forEachName])}}var forEachName="forEach",hasName="has",commonInit=["clear","delete"],mapTail=["get",hasName,"set"],mapMethods=commonInit.concat(forEachName,mapTail),weakMapMethods=commonInit.concat(mapTail),setMethods=["add"].concat(commonInit,forEachName,hasName),isMap=isIE11?ie11fingerprint(mapMethods):tagTester("Map"),isWeakMap=isIE11?ie11fingerprint(weakMapMethods):tagTester("WeakMap"),isSet=isIE11?ie11fingerprint(setMethods):tagTester("Set"),isWeakSet=tagTester("WeakSet");function values(e){for(var t=keys(e),r=t.length,n=Array(r),a=0;a<r;a++)n[a]=e[t[a]];return n}function pairs(e){for(var t=keys(e),r=t.length,n=Array(r),a=0;a<r;a++)n[a]=[t[a],e[t[a]]];return n}function invert(e){for(var t={},r=keys(e),n=0,a=r.length;n<a;n++)t[e[r[n]]]=r[n];return t}function functions(e){var t=[];for(var r in e)isFunction$1(e[r])&&t.push(r);return t.sort()}function createAssigner(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||null==r)return r;for(var a=1;a<n;a++)for(var o=arguments[a],i=e(o),s=i.length,c=0;c<s;c++){var l=i[c];t&&void 0!==r[l]||(r[l]=o[l])}return r}}var extend=createAssigner(allKeys),extendOwn=createAssigner(keys),defaults=createAssigner(allKeys,!0);function ctor(){return function(){}}function baseCreate(e){if(!isObject(e))return{};if(nativeCreate)return nativeCreate(e);var t=ctor();t.prototype=e;var r=new t;return t.prototype=null,r}function create(e,t){var r=baseCreate(e);return t&&extendOwn(r,t),r}function clone(e){return isObject(e)?isArray(e)?e.slice():extend({},e):e}function tap(e,t){return t(e),e}function toPath$1(e){return isArray(e)?e:[e]}function toPath(e){return _$1.toPath(e)}function deepGet(e,t){for(var r=t.length,n=0;n<r;n++){if(null==e)return;e=e[t[n]]}return r?e:void 0}function get(e,t,r){var n=deepGet(e,toPath(t));return isUndefined(n)?r:n}function has(e,t){for(var r=(t=toPath(t)).length,n=0;n<r;n++){var a=t[n];if(!has$1(e,a))return!1;e=e[a]}return!!r}function identity(e){return e}function matcher(e){return e=extendOwn({},e),function(t){return isMatch(t,e)}}function property(e){return e=toPath(e),function(t){return deepGet(t,e)}}function optimizeCb(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,a){return e.call(t,r,n,a)};case 4:return function(r,n,a,o){return e.call(t,r,n,a,o)}}return function(){return e.apply(t,arguments)}}function baseIteratee(e,t,r){return null==e?identity:isFunction$1(e)?optimizeCb(e,t,r):isObject(e)&&!isArray(e)?matcher(e):property(e)}function iteratee(e,t){return baseIteratee(e,t,1/0)}function cb(e,t,r){return _$1.iteratee!==iteratee?_$1.iteratee(e,t):baseIteratee(e,t,r)}function mapObject(e,t,r){t=cb(t,r);for(var n=keys(e),a=n.length,o={},i=0;i<a;i++){var s=n[i];o[s]=t(e[s],s,e)}return o}function noop(){}function propertyOf(e){return null==e?noop:function(t){return get(e,t)}}function times(e,t,r){var n=Array(Math.max(0,e));t=optimizeCb(t,r,1);for(var a=0;a<e;a++)n[a]=t(a);return n}function random$1(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}_$1.toPath=toPath$1,_$1.iteratee=iteratee;var now=Date.now||function(){return(new Date).getTime()};function createEscaper(e){var t=function(t){return e[t]},r="(?:"+keys(e).join("|")+")",n=RegExp(r),a=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(a,t):e}}var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escape=createEscaper(escapeMap),unescapeMap=invert(escapeMap),unescape=createEscaper(unescapeMap),templateSettings=_$1.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escapeRegExp=/\\|'|\r|\n|\u2028|\u2029/g;function escapeChar(e){return"\\"+escapes[e]}var bareIdentifier=/^\s*(\w|\$)+\s*$/;function template(e,t,r){!t&&r&&(t=r),t=defaults({},t,_$1.templateSettings);var n=RegExp([(t.escape||noMatch).source,(t.interpolate||noMatch).source,(t.evaluate||noMatch).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(n,(function(t,r,n,i,s){return o+=e.slice(a,s).replace(escapeRegExp,escapeChar),a=s+t.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),t})),o+="';\n";var i,s=t.variable;if(s){if(!bareIdentifier.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(s,"_",o)}catch(e){throw e.source=o,e}var c=function(e){return i.call(this,e,_$1)};return c.source="function("+s+"){\n"+o+"}",c}function result(e,t,r){var n=(t=toPath(t)).length;if(!n)return isFunction$1(r)?r.call(e):r;for(var a=0;a<n;a++){var o=null==e?void 0:e[t[a]];void 0===o&&(o=r,a=n),e=isFunction$1(o)?o.call(e):o}return e}var idCounter=0;function uniqueId(e){var t=++idCounter+"";return e?e+t:t}function chain(e){var t=_$1(e);return t._chain=!0,t}function executeBound(e,t,r,n,a){if(!(n instanceof t))return e.apply(r,a);var o=baseCreate(e.prototype),i=e.apply(o,a);return isObject(i)?i:o}var partial=restArguments((function(e,t){var r=partial.placeholder,n=function(){for(var a=0,o=t.length,i=Array(o),s=0;s<o;s++)i[s]=t[s]===r?arguments[a++]:t[s];for(;a<arguments.length;)i.push(arguments[a++]);return executeBound(e,n,this,this,i)};return n}));partial.placeholder=_$1;var bind=restArguments((function(e,t,r){if(!isFunction$1(e))throw new TypeError("Bind must be called on a function");var n=restArguments((function(a){return executeBound(e,n,t,this,r.concat(a))}));return n})),isArrayLike=createSizePropertyCheck(getLength);function flatten$1(e,t,r,n){if(n=n||[],t||0===t){if(t<=0)return n.concat(e)}else t=1/0;for(var a=n.length,o=0,i=getLength(e);o<i;o++){var s=e[o];if(isArrayLike(s)&&(isArray(s)||isArguments$1(s)))if(t>1)flatten$1(s,t-1,r,n),a=n.length;else for(var c=0,l=s.length;c<l;)n[a++]=s[c++];else r||(n[a++]=s)}return n}var bindAll=restArguments((function(e,t){var r=(t=flatten$1(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=bind(e[n],e)}return e}));function memoize(e,t){var r=function(n){var a=r.cache,o=""+(t?t.apply(this,arguments):n);return has$1(a,o)||(a[o]=e.apply(this,arguments)),a[o]};return r.cache={},r}var delay=restArguments((function(e,t,r){return setTimeout((function(){return e.apply(null,r)}),t)})),defer=partial(delay,_$1,1);function throttle(e,t,r){var n,a,o,i,s=0;r||(r={});var c=function(){s=!1===r.leading?0:now(),n=null,i=e.apply(a,o),n||(a=o=null)},l=function(){var l=now();s||!1!==r.leading||(s=l);var u=t-(l-s);return a=this,o=arguments,u<=0||u>t?(n&&(clearTimeout(n),n=null),s=l,i=e.apply(a,o),n||(a=o=null)):n||!1===r.trailing||(n=setTimeout(c,u)),i};return l.cancel=function(){clearTimeout(n),s=0,n=a=o=null},l}function debounce(e,t,r){var n,a,o,i,s,c=function(){var l=now()-a;t>l?n=setTimeout(c,t-l):(n=null,r||(i=e.apply(s,o)),n||(o=s=null))},l=restArguments((function(l){return s=this,o=l,a=now(),n||(n=setTimeout(c,t),r&&(i=e.apply(s,o))),i}));return l.cancel=function(){clearTimeout(n),n=o=s=null},l}function wrap(e,t){return partial(t,e)}function negate(e){return function(){return!e.apply(this,arguments)}}function compose(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function after(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function before(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}var once=partial(before,2);function findKey(e,t,r){t=cb(t,r);for(var n,a=keys(e),o=0,i=a.length;o<i;o++)if(t(e[n=a[o]],n,e))return n}function createPredicateIndexFinder(e){return function(t,r,n){r=cb(r,n);for(var a=getLength(t),o=e>0?0:a-1;o>=0&&o<a;o+=e)if(r(t[o],o,t))return o;return-1}}var findIndex=createPredicateIndexFinder(1),findLastIndex=createPredicateIndexFinder(-1);function sortedIndex(e,t,r,n){for(var a=(r=cb(r,n,1))(t),o=0,i=getLength(e);o<i;){var s=Math.floor((o+i)/2);r(e[s])<a?o=s+1:i=s}return o}function createIndexFinder(e,t,r){return function(n,a,o){var i=0,s=getLength(n);if("number"==typeof o)e>0?i=o>=0?o:Math.max(o+s,i):s=o>=0?Math.min(o+1,s):o+s+1;else if(r&&o&&s)return n[o=r(n,a)]===a?o:-1;if(a!=a)return(o=t(slice.call(n,i,s),isNaN$1))>=0?o+i:-1;for(o=e>0?i:s-1;o>=0&&o<s;o+=e)if(n[o]===a)return o;return-1}}var indexOf=createIndexFinder(1,findIndex,sortedIndex),lastIndexOf=createIndexFinder(-1,findLastIndex);function find(e,t,r){var n=(isArrayLike(e)?findIndex:findKey)(e,t,r);if(void 0!==n&&-1!==n)return e[n]}function findWhere(e,t){return find(e,matcher(t))}function each(e,t,r){var n,a;if(t=optimizeCb(t,r),isArrayLike(e))for(n=0,a=e.length;n<a;n++)t(e[n],n,e);else{var o=keys(e);for(n=0,a=o.length;n<a;n++)t(e[o[n]],o[n],e)}return e}function map(e,t,r){t=cb(t,r);for(var n=!isArrayLike(e)&&keys(e),a=(n||e).length,o=Array(a),i=0;i<a;i++){var s=n?n[i]:i;o[i]=t(e[s],s,e)}return o}function createReduce(e){var t=function(t,r,n,a){var o=!isArrayLike(t)&&keys(t),i=(o||t).length,s=e>0?0:i-1;for(a||(n=t[o?o[s]:s],s+=e);s>=0&&s<i;s+=e){var c=o?o[s]:s;n=r(n,t[c],c,t)}return n};return function(e,r,n,a){var o=arguments.length>=3;return t(e,optimizeCb(r,a,4),n,o)}}var reduce=createReduce(1),reduceRight=createReduce(-1);function filter(e,t,r){var n=[];return t=cb(t,r),each(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}function reject(e,t,r){return filter(e,negate(cb(t)),r)}function every(e,t,r){t=cb(t,r);for(var n=!isArrayLike(e)&&keys(e),a=(n||e).length,o=0;o<a;o++){var i=n?n[o]:o;if(!t(e[i],i,e))return!1}return!0}function some(e,t,r){t=cb(t,r);for(var n=!isArrayLike(e)&&keys(e),a=(n||e).length,o=0;o<a;o++){var i=n?n[o]:o;if(t(e[i],i,e))return!0}return!1}function contains$1(e,t,r,n){return isArrayLike(e)||(e=values(e)),("number"!=typeof r||n)&&(r=0),indexOf(e,t,r)>=0}var invoke=restArguments((function(e,t,r){var n,a;return isFunction$1(t)?a=t:(t=toPath(t),n=t.slice(0,-1),t=t[t.length-1]),map(e,(function(e){var o=a;if(!o){if(n&&n.length&&(e=deepGet(e,n)),null==e)return;o=e[t]}return null==o?o:o.apply(e,r)}))}));function pluck(e,t){return map(e,property(t))}function where(e,t){return filter(e,matcher(t))}function max$1(e,t,r){var n,a,o=-1/0,i=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=isArrayLike(e)?e:values(e)).length;s<c;s++)null!=(n=e[s])&&n>o&&(o=n);else t=cb(t,r),each(e,(function(e,r,n){((a=t(e,r,n))>i||a===-1/0&&o===-1/0)&&(o=e,i=a)}));return o}function min$1(e,t,r){var n,a,o=1/0,i=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=isArrayLike(e)?e:values(e)).length;s<c;s++)null!=(n=e[s])&&n<o&&(o=n);else t=cb(t,r),each(e,(function(e,r,n){((a=t(e,r,n))<i||a===1/0&&o===1/0)&&(o=e,i=a)}));return o}var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function toArray(e){return e?isArray(e)?slice.call(e):isString(e)?e.match(reStrSymbol):isArrayLike(e)?map(e,identity):values(e):[]}function sample(e,t,r){if(null==t||r)return isArrayLike(e)||(e=values(e)),e[random$1(e.length-1)];var n=toArray(e),a=getLength(n);t=Math.max(Math.min(t,a),0);for(var o=a-1,i=0;i<t;i++){var s=random$1(i,o),c=n[i];n[i]=n[s],n[s]=c}return n.slice(0,t)}function shuffle(e){return sample(e,1/0)}function sortBy(e,t,r){var n=0;return t=cb(t,r),pluck(map(e,(function(e,r,a){return{value:e,index:n++,criteria:t(e,r,a)}})).sort((function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index})),"value")}function group(e,t){return function(r,n,a){var o=t?[[],[]]:{};return n=cb(n,a),each(r,(function(t,a){var i=n(t,a,r);e(o,t,i)})),o}}var groupBy=group((function(e,t,r){has$1(e,r)?e[r].push(t):e[r]=[t]})),indexBy=group((function(e,t,r){e[r]=t})),countBy=group((function(e,t,r){has$1(e,r)?e[r]++:e[r]=1})),partition=group((function(e,t,r){e[r?0:1].push(t)}),!0);function size(e){return null==e?0:isArrayLike(e)?e.length:keys(e).length}function keyInObj(e,t,r){return t in r}var pick=restArguments((function(e,t){var r={},n=t[0];if(null==e)return r;isFunction$1(n)?(t.length>1&&(n=optimizeCb(n,t[1])),t=allKeys(e)):(n=keyInObj,t=flatten$1(t,!1,!1),e=Object(e));for(var a=0,o=t.length;a<o;a++){var i=t[a],s=e[i];n(s,i,e)&&(r[i]=s)}return r})),omit=restArguments((function(e,t){var r,n=t[0];return isFunction$1(n)?(n=negate(n),t.length>1&&(r=t[1])):(t=map(flatten$1(t,!1,!1),String),n=function(e,r){return!contains$1(t,r)}),pick(e,n,r)}));function initial(e,t,r){return slice.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))}function first(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[0]:initial(e,e.length-t)}function rest(e,t,r){return slice.call(e,null==t||r?1:t)}function last(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[e.length-1]:rest(e,Math.max(0,e.length-t))}function compact(e){return filter(e,Boolean)}function flatten(e,t){return flatten$1(e,t,!1)}var difference=restArguments((function(e,t){return t=flatten$1(t,!0,!0),filter(e,(function(e){return!contains$1(t,e)}))})),without=restArguments((function(e,t){return difference(e,t)}));function uniq(e,t,r,n){isBoolean(t)||(n=r,r=t,t=!1),null!=r&&(r=cb(r,n));for(var a=[],o=[],i=0,s=getLength(e);i<s;i++){var c=e[i],l=r?r(c,i,e):c;t&&!r?(i&&o===l||a.push(c),o=l):r?contains$1(o,l)||(o.push(l),a.push(c)):contains$1(a,c)||a.push(c)}return a}var union=restArguments((function(e){return uniq(flatten$1(e,!0,!0))}));function intersection(e){for(var t=[],r=arguments.length,n=0,a=getLength(e);n<a;n++){var o=e[n];if(!contains$1(t,o)){var i;for(i=1;i<r&&contains$1(arguments[i],o);i++);i===r&&t.push(o)}}return t}function unzip(e){for(var t=e&&max$1(e,getLength).length||0,r=Array(t),n=0;n<t;n++)r[n]=pluck(e,n);return r}var zip=restArguments(unzip);function object(e,t){for(var r={},n=0,a=getLength(e);n<a;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function range(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),a=Array(n),o=0;o<n;o++,e+=r)a[o]=e;return a}function chunk(e,t){if(null==t||t<1)return[];for(var r=[],n=0,a=e.length;n<a;)r.push(slice.call(e,n,n+=t));return r}function chainResult(e,t){return e._chain?_$1(t).chain():t}function mixin(e){return each(functions(e),(function(t){var r=_$1[t]=e[t];_$1.prototype[t]=function(){var e=[this._wrapped];return push.apply(e,arguments),chainResult(this,r.apply(_$1,e))}})),_$1}each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=ArrayProto[e];_$1.prototype[e]=function(){var r=this._wrapped;return null!=r&&(t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0]),chainResult(this,r)}})),each(["concat","join","slice"],(function(e){var t=ArrayProto[e];_$1.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),chainResult(this,e)}}));var allExports=Object.freeze({__proto__:null,VERSION:VERSION,restArguments:restArguments,isObject:isObject,isNull:isNull,isUndefined:isUndefined,isBoolean:isBoolean,isElement:isElement,isString:isString,isNumber:isNumber,isDate:isDate,isRegExp:isRegExp,isError:isError,isSymbol:isSymbol,isArrayBuffer:isArrayBuffer,isDataView:isDataView$1,isArray:isArray,isFunction:isFunction$1,isArguments:isArguments$1,isFinite:isFinite$1,isNaN:isNaN$1,isTypedArray:isTypedArray$1,isEmpty:isEmpty,isMatch:isMatch,isEqual:isEqual,isMap:isMap,isWeakMap:isWeakMap,isSet:isSet,isWeakSet:isWeakSet,keys:keys,allKeys:allKeys,values:values,pairs:pairs,invert:invert,functions:functions,methods:functions,extend:extend,extendOwn:extendOwn,assign:extendOwn,defaults:defaults,create:create,clone:clone,tap:tap,get:get,has:has,mapObject:mapObject,identity:identity,constant:constant,noop:noop,toPath:toPath$1,property:property,propertyOf:propertyOf,matcher:matcher,matches:matcher,times:times,random:random$1,now:now,escape:escape,unescape:unescape,templateSettings:templateSettings,template:template,result:result,uniqueId:uniqueId,chain:chain,iteratee:iteratee,partial:partial,bind:bind,bindAll:bindAll,memoize:memoize,delay:delay,defer:defer,throttle:throttle,debounce:debounce,wrap:wrap,negate:negate,compose:compose,after:after,before:before,once:once,findKey:findKey,findIndex:findIndex,findLastIndex:findLastIndex,sortedIndex:sortedIndex,indexOf:indexOf,lastIndexOf:lastIndexOf,find:find,detect:find,findWhere:findWhere,each:each,forEach:each,map:map,collect:map,reduce:reduce,foldl:reduce,inject:reduce,reduceRight:reduceRight,foldr:reduceRight,filter:filter,select:filter,reject:reject,every:every,all:every,some:some,any:some,contains:contains$1,includes:contains$1,include:contains$1,invoke:invoke,pluck:pluck,where:where,max:max$1,min:min$1,shuffle:shuffle,sample:sample,sortBy:sortBy,groupBy:groupBy,indexBy:indexBy,countBy:countBy,partition:partition,toArray:toArray,size:size,pick:pick,omit:omit,first:first,head:first,take:first,initial:initial,last:last,rest:rest,tail:rest,drop:rest,compact:compact,flatten:flatten,without:without,uniq:uniq,unique:uniq,union:union,intersection:intersection,difference:difference,unzip:unzip,transpose:unzip,zip:zip,object:object,range:range,chunk:chunk,mixin:mixin,default:_$1}),_=mixin(allExports);_._=_;const DEFAULT_ALLOWED=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"];function clean(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return purifyHtml(e,t.length?[...DEFAULT_ALLOWED,...t]:DEFAULT_ALLOWED)}function isTransparentColor(e){return"transparent"===e||!chroma(e).alpha()}function resolveCondition(e,t){return function e(r){if(Array.isArray(r)){const n=r[0];return r.length>=2&&"all"===n?every(r.slice(1).map(e)):r.length>=2&&"any"===n?some(r.slice(1).map(e)):2===r.length&&"!"===n?!e(r[1]):2===r.length&&"get"===n?get_1(t,r[1]):2===r.length&&"has"===n?!!get_1(t,r[1]):2===r.length&&"length"===n?e(r[1]).length:2===r.length&&"stripHtml"===n?purifyHtml(e(r[1]),[]):3===r.length&&"=="===n?e(r[1])===e(r[2]):3===r.length&&"!="===n?e(r[1])!==e(r[2]):3===r.length&&">"===n?e(r[1])>e(r[2]):3===r.length&&">="===n?e(r[1])>=e(r[2]):3===r.length&&"<"===n?e(r[1])<e(r[2]):3===r.length&&"<="===n?e(r[1])<=e(r[2]):3===r.length&&"in"===n?e(r[2]).includes(e(r[1])):r}return r}(e)}function computeThemeData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=clone_1(e);if(e.overrides&&e.overrides.length>0){for(const a of e.overrides)if((!a.type&&a.condition||"darkMode"===a.type&&r&&a.condition)&&resolveCondition(a.condition,t))for(const[e,t]of Object.entries(a.settings)){if(e.startsWith("overrides."))throw new Error("overrides may not change overrides");set(n,e,t)}return n}return n}const UNDEFINED_STYLE="%UNDEFINED%",TYPOGRAPHY_PROPS={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:e=>toPixel(e),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:e=>toPixel(e)},lineHeight:{prop:"line-height",tsf:e=>lineHeight(e)},underlined:{prop:"text-decoration",tsf:e=>isTrue(e)?"underline":"none"},cursive:{prop:"font-style",tsf:e=>isTrue(e)?"italic":"normal"}};function getThemeStyleHelpers(e,t){const r=function(e){let t="";for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];for(const r of e)t+=r+(n.length?n.shift():"");return t.split("\n").filter((e=>e)).filter((e=>!e.includes(UNDEFINED_STYLE))).join("\n")};function n(e,t,r){return get_1(e,t,void 0===r?UNDEFINED_STYLE:r)}return{getProp:(e,r)=>n(t,e,r),getObjProp:n,typography:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(TYPOGRAPHY_PROPS).filter((r=>{let[n]=r;return has(e,n)||has(t,n)})).map((r=>{let[n,{prop:a,tsf:o=identity}]=r;return`${a}: ${o(get_1(e,n,t[n]))};`})).join("\n")},css:function(){return e.css(r(...arguments))},cssTemplate:r}}function toPixel(e){return e===UNDEFINED_STYLE?e:Number.isFinite(e)?`${e}px`:e}function lineHeight(e){return e===UNDEFINED_STYLE?e:e>3?`${e}px`:String(e)}function isTrue(e){return 1===e||!0===e}function deepmergeOverwriteArrays(e,t){return cjs(e,t,{arrayMerge:(e,t)=>t})}function create_if_block_1$5(e){let t,r=clean(e[0].prepend)+"";return{c(){t=element("span"),attr(t,"class","prepend")},m(e,n){insert(e,t,n),t.innerHTML=r},p(e,n){1&n&&r!==(r=clean(e[0].prepend)+"")&&(t.innerHTML=r)},d(e){e&&detach(t)}}}function create_if_block$b(e){let t,r=clean(e[0].append)+"";return{c(){t=element("span"),attr(t,"class","append")},m(e,n){insert(e,t,n),t.innerHTML=r},p(e,n){1&n&&r!==(r=clean(e[0].append)+"")&&(t.innerHTML=r)},d(e){e&&detach(t)}}}function create_fragment$i(e){let t,r,n,a,o,i,s=e[0].prepend&&create_if_block_1$5(e);var c=e[0].component;function l(e){return{props:{props:e[0].props}}}c&&(n=construct_svelte_component(c,l(e)));let u=e[0].append&&create_if_block$b(e);return{c(){s&&s.c(),t=space(),r=element("span"),n&&create_component(n.$$.fragment),a=space(),u&&u.c(),o=empty(),attr(r,"class","block-inner")},m(e,c){s&&s.m(e,c),insert(e,t,c),insert(e,r,c),n&&mount_component(n,r,null),insert(e,a,c),u&&u.m(e,c),insert(e,o,c),i=!0},p(e,a){let[i]=a;e[0].prepend?s?s.p(e,i):(s=create_if_block_1$5(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);const f={};if(1&i&&(f.props=e[0].props),c!==(c=e[0].component)){if(n){group_outros();const e=n;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}c?(n=construct_svelte_component(c,l(e)),create_component(n.$$.fragment),transition_in(n.$$.fragment,1),mount_component(n,r,null)):n=null}else c&&n.$set(f);e[0].append?u?u.p(e,i):(u=create_if_block$b(e),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},i(e){i||(n&&transition_in(n.$$.fragment,e),i=!0)},o(e){n&&transition_out(n.$$.fragment,e),i=!1},d(e){s&&s.d(e),e&&detach(t),e&&detach(r),n&&destroy_component(n),e&&detach(a),u&&u.d(e),e&&detach(o)}}}function instance$i(e,t,r){let{block:n}=t;return e.$$set=e=>{"block"in e&&r(0,n=e.block)},[n]}class Block extends SvelteComponent{constructor(e){super(),init(this,e,instance$i,create_fragment$i,safe_not_equal,{block:0})}}function get_each_context$1(e,t,r){const n=e.slice();return n[7]=t[r],n}function create_if_block$a(e){let t,r,n,a=e[2],o=[];for(let t=0;t<a.length;t+=1)o[t]=create_each_block$1(get_each_context$1(e,a,t));const i=e=>transition_out(o[e],1,1,(()=>{o[e]=null}));return{c(){t=element("div");for(let e=0;e<o.length;e+=1)o[e].c();attr(t,"id",e[0]),attr(t,"class",r=e[1]+" "+(e[4]&&e[3]?e[3](e[4],e[5]):""))},m(e,r){insert(e,t,r);for(let e=0;e<o.length;e+=1)o[e].m(t,null);n=!0},p(e,s){if(52&s){let r;for(a=e[2],r=0;r<a.length;r+=1){const n=get_each_context$1(e,a,r);o[r]?(o[r].p(n,s),transition_in(o[r],1)):(o[r]=create_each_block$1(n),o[r].c(),transition_in(o[r],1),o[r].m(t,null))}for(group_outros(),r=a.length;r<o.length;r+=1)i(r);check_outros()}(!n||1&s)&&attr(t,"id",e[0]),(!n||58&s&&r!==(r=e[1]+" "+(e[4]&&e[3]?e[3](e[4],e[5]):"")))&&attr(t,"class",r)},i(e){if(!n){for(let e=0;e<a.length;e+=1)transition_in(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)transition_out(o[e]);n=!1},d(e){e&&detach(t),destroy_each(o,e)}}}function create_dynamic_element(e){let t,r,n,a,o,i;r=new Block({props:{block:e[7]}});let s=[{class:a="block "+e[7].id+"-block "+(e[4]&&e[7].styles?e[7].styles(e[4],e[5]):"")},{style:o="div"===blockEl(e[7].tag)&&e[7].id.includes("svg-rule")?"font-size:0px;":""}],c={};for(let e=0;e<s.length;e+=1)c=assign$1(c,s[e]);return{c(){t=element(blockEl(e[7].tag)),create_component(r.$$.fragment),n=space(),/-/.test(blockEl(e[7].tag))?set_custom_element_data_map(t,c):set_attributes(t,c)},m(e,a){insert(e,t,a),mount_component(r,t,null),append$1(t,n),i=!0},p(e,n){const l={};4&n&&(l.block=e[7]),r.$set(l),c=get_spread_update(s,[(!i||52&n&&a!==(a="block "+e[7].id+"-block "+(e[4]&&e[7].styles?e[7].styles(e[4],e[5]):"")))&&{class:a},(!i||4&n&&o!==(o="div"===blockEl(e[7].tag)&&e[7].id.includes("svg-rule")?"font-size:0px;":""))&&{style:o}]),/-/.test(blockEl(e[7].tag))?set_custom_element_data_map(t,c):set_attributes(t,c)},i(e){i||(transition_in(r.$$.fragment,e),i=!0)},o(e){transition_out(r.$$.fragment,e),i=!1},d(e){e&&detach(t),destroy_component(r)}}}function create_each_block$1(e){let t,r=blockEl(e[7].tag),n=blockEl(e[7].tag)&&create_dynamic_element(e);return{c(){n&&n.c(),t=empty()},m(e,r){n&&n.m(e,r),insert(e,t,r)},p(e,a){blockEl(e[7].tag)?r?safe_not_equal(r,blockEl(e[7].tag))?(n.d(1),n=create_dynamic_element(e),n.c(),n.m(t.parentNode,t)):n.p(e,a):(n=create_dynamic_element(e),n.c(),n.m(t.parentNode,t)):r&&(n.d(1),n=null),r=blockEl(e[7].tag)},i:noop$1,o(e){transition_out(n)},d(e){e&&detach(t),n&&n.d(e)}}}function create_fragment$h(e){let t,r,n=e[2].length&&create_if_block$a(e);return{c(){n&&n.c(),t=empty()},m(e,a){n&&n.m(e,a),insert(e,t,a),r=!0},p(e,r){let[a]=r;e[2].length?n?(n.p(e,a),4&a&&transition_in(n,1)):(n=create_if_block$a(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){n&&n.d(e),e&&detach(t)}}}function blockEl(e){return"h3"===e||"p"===e?e:"div"}function instance$h(e,t,r){let n;const{themeData:a}=getContext("stores");component_subscribe(e,a,(e=>r(5,n=e)));let{id:o}=t,{name:i}=t,{blocks:s=[]}=t,{styles:c=null}=t,{emotion:l}=t;if(!l)throw new Error("need to pass emotion for block region "+i);return e.$$set=e=>{"id"in e&&r(0,o=e.id),"name"in e&&r(1,i=e.name),"blocks"in e&&r(2,s=e.blocks),"styles"in e&&r(3,c=e.styles),"emotion"in e&&r(4,l=e.emotion)},[o,i,s,c,l,n,a]}class BlocksRegion extends SvelteComponent{constructor(e){super(),init(this,e,instance$h,create_fragment$h,safe_not_equal,{id:0,name:1,blocks:2,styles:3,emotion:4})}}var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const isomorphic_dompurify_1=__importDefault$4(browser);var purifySvg=function(e){return isomorphic_dompurify_1.default.sanitize(e,{USE_PROFILES:{svg:!0,svgFilters:!0},KEEP_CONTENT:!1})};function create_if_block$9(e){let t,r,n,a,o,i,s;function c(e,t){return e[3].icon?create_if_block_1$4:create_else_block$3}let l=c(e),u=l(e);return a=new BlocksRegion({props:{id:e[0],emotion:e[4],name:e[1],blocks:e[2]}}),{c(){t=element("div"),u.c(),r=space(),n=element("div"),create_component(a.$$.fragment),attr(t,"class","menu container svelte-1lt126s"),toggle_class(t,"ha-menu",!e[3].icon),attr(n,"class","menu-content container svelte-1lt126s"),toggle_class(n,"hidden",!e[5])},m(c,l){insert(c,t,l),u.m(t,null),insert(c,r,l),insert(c,n,l),mount_component(a,n,null),o=!0,i||(s=[listen(t,"click",stop_propagation(e[6])),listen(n,"click",stop_propagation(e[8]))],i=!0)},p(e,r){l===(l=c(e))&&u?u.p(e,r):(u.d(1),u=l(e),u&&(u.c(),u.m(t,null))),(!o||8&r)&&toggle_class(t,"ha-menu",!e[3].icon);const i={};1&r&&(i.id=e[0]),16&r&&(i.emotion=e[4]),2&r&&(i.name=e[1]),4&r&&(i.blocks=e[2]),a.$set(i),(!o||32&r)&&toggle_class(n,"hidden",!e[5])},i(e){o||(transition_in(a.$$.fragment,e),o=!0)},o(e){transition_out(a.$$.fragment,e),o=!1},d(e){e&&detach(t),u.d(),e&&detach(r),e&&detach(n),destroy_component(a),i=!1,run_all(s)}}}function create_else_block$3(e){let t;return{c(){t=element("div"),attr(t,"class","svelte-1lt126s")},m(e,r){insert(e,t,r)},p:noop$1,d(e){e&&detach(t)}}}function create_if_block_1$4(e){let t,r,n=purifySvg(e[3].icon)+"";return{c(){t=new HtmlTag(!1),r=empty(),t.a=r},m(e,a){t.m(n,e,a),insert(e,r,a)},p(e,r){8&r&&n!==(n=purifySvg(e[3].icon)+"")&&t.p(n)},d(e){e&&detach(r),e&&t.d()}}}function create_fragment$g(e){let t,r,n,a,o=e[2].length&&create_if_block$9(e);return{c(){o&&o.c(),t=empty()},m(i,s){o&&o.m(i,s),insert(i,t,s),r=!0,n||(a=listen(window,"click",e[7]),n=!0)},p(e,r){let[n]=r;e[2].length?o?(o.p(e,n),4&n&&transition_in(o,1)):(o=create_if_block$9(e),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,(()=>{o=null})),check_outros())},i(e){r||(transition_in(o),r=!0)},o(e){transition_out(o),r=!1},d(e){o&&o.d(e),e&&detach(t),n=!1,a()}}}function instance$g(e,t,r){let{id:n}=t,{name:a}=t,{blocks:o}=t,{props:i}=t,{emotion:s}=t,c=!1;return e.$$set=e=>{"id"in e&&r(0,n=e.id),"name"in e&&r(1,a=e.name),"blocks"in e&&r(2,o=e.blocks),"props"in e&&r(3,i=e.props),"emotion"in e&&r(4,s=e.emotion)},[n,a,o,i,s,c,function(){r(5,c=!c)},function(){r(5,c=!1)},function(t){bubble.call(this,e,t)}]}class Menu extends SvelteComponent{constructor(e){super(),init(this,e,instance$g,create_fragment$g,safe_not_equal,{id:0,name:1,blocks:2,props:3,emotion:4})}}function create_fragment$f(e){let t,r,n=e[1](e[0].title)+"";return{c(){t=new HtmlTag(!1),r=empty(),t.a=r},m(e,a){t.m(n,e,a),insert(e,r,a)},p(e,r){let[a]=r;1&a&&n!==(n=e[1](e[0].title)+"")&&t.p(n)},i:noop$1,o:noop$1,d(e){e&&detach(r),e&&t.d()}}}function instance$f(e,t,r){let n,{props:a}=t;const{purifyHtml:o}=a;return e.$$set=e=>{"props"in e&&r(2,a=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(0,n=a.chart)},[n,o,a]}class Headline extends SvelteComponent{constructor(e){super(),init(this,e,instance$f,create_fragment$f,safe_not_equal,{props:2})}}function HeadlineStyles(e,t){const{css:r,getProp:n}=getThemeStyleHelpers(e,t);return r`
        margin: ${n("style.header.title.margin","0 0 10px")};
        padding: ${n("style.header.title.padding")};
        border-top: ${n("style.header.title.border.top")};
        border-bottom: ${n("style.header.title.border.bottom")};
        border-left: ${n("style.header.title.border.left")};
        border-right: ${n("style.header.title.border.right")};
        background: ${n("style.header.title.background")};

        font-family: ${n("typography.headline.typeface")};
        font-weight: ${n("typography.headline.fontWeight")};
        font-size: ${toPixel(n("typography.headline.fontSize"))};
        font-stretch: ${n("typography.headline.fontStretch")};
        line-height: ${lineHeight(n("typography.headline.lineHeight"))};

        text-transform: ${n("typography.headline.textTransform")};
        letter-spacing: ${toPixel(n("typography.headline.letterSpacing"))};
        font-style: ${isTrue(get_1(t,"typography.headline.cursive"))?"italic":"normal"};
        text-decoration: ${isTrue(get_1(t,"typography.headline.underlined"))?"underline":"none"};
        color: ${n("typography.headline.color")};
        text-align: ${n("style.header.title.textAlign")};
    `}function create_fragment$e(e){let t,r,n=clean(e[0],e[1])+"";return{c(){t=new HtmlTag(!1),r=empty(),t.a=r},m(e,a){t.m(n,e,a),insert(e,r,a)},p(e,r){let[a]=r;1&a&&n!==(n=clean(e[0],e[1])+"")&&t.p(n)},i:noop$1,o:noop$1,d(e){e&&detach(r),e&&t.d()}}}function instance$e(e,t,r){let n,a,{props:o}=t;const{get:i}=o;return e.$$set=e=>{"props"in e&&r(2,o=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(3,n=o.chart),8&e.$$.dirty&&r(0,a=i(n,"metadata.describe.intro"))},[a,["table","thead","tbody","tfoot","caption","colgroup","col","tr","td","th","details","summary"],o,n]}class Description extends SvelteComponent{constructor(e){super(),init(this,e,instance$e,create_fragment$e,safe_not_equal,{props:2})}}function DescriptionStyles(e,t){const{css:r,getProp:n}=getThemeStyleHelpers(e,t);return r`
        margin: ${n("style.header.description.margin","5px 0 10px")};
        padding: ${n("style.header.description.padding")};
        text-align: ${n("style.header.description.textAlign")};

        border-top: ${n("style.header.description.border.top")};
        border-left: ${n("style.header.description.border.left")};
        border-right: ${n("style.header.description.border.right")};
        border-bottom: ${n("style.header.description.border.bottom")};
        background: ${n("style.header.description.background")};

        font-family: ${n("typography.description.typeface")};
        font-weight: ${n("typography.description.fontWeight")};
        font-size: ${toPixel(n("typography.description.fontSize"))};
        font-stretch: ${n("typography.description.fontStretch")};
        text-transform: ${n("typography.description.textTransform")};
        line-height: ${lineHeight(n("typography.description.lineHeight"))};

        letter-spacing: ${toPixel(n("typography.description.letterSpacing"))};
        font-style: ${isTrue(get_1(t,"typography.description.cursive"))?"italic":"normal"};
        text-decoration: ${isTrue(get_1(t,"typography.description.underlined"))?"underline":"none"};
        color: ${n("typography.description.color")};
    `}var validation={};Object.defineProperty(validation,"__esModule",{value:!0}),validation.isValidUrl=isAllowedSourceUrl_1=validation.isAllowedSourceUrl=void 0;const allowedSourceUrlRegExp=/^(https?|ftp):\/\//i;function isAllowedSourceUrl(e){return allowedSourceUrlRegExp.test(e)}var isAllowedSourceUrl_1=validation.isAllowedSourceUrl=isAllowedSourceUrl;const validUrlRegExp=/^(http|https):\/\/(([a-z0-9$\-_.+!*'(),;:&=]|%[0-9a-f]{2})+@)?(((25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])(\.(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])){3})|localhost|([a-z0-9\-\u00C0-\u017F]+\.)+([a-zA-Z]{2,}))(:[0-9]+)?((\/(([a-z0-9$\-_.+!*'(),;:@&=~]|%[0-9a-f]{2})*(\/([a-z0-9$\-_.+!*'(),;:@&=]|%[0-9a-f]{2})*)*)|)?(\?([a-z0-9$\-_.+!*'(),;:@&=/?~]|%[0-9a-f]{2})*)?(#([a-z0-9$\-_.+!*'(),;:@&=/?~]|%[0-9a-f]{2})*)?)?$/i;function isValidUrl(e){return validUrlRegExp.test(e)}function create_if_block$8(e){let t,r,n=e[3]&&create_if_block_2$1(e);function a(e,t){return e[0]&&e[2]?create_if_block_1$3:create_else_block$2}let o=a(e),i=o(e);return{c(){n&&n.c(),t=space(),i.c(),r=empty()},m(e,a){n&&n.m(e,a),insert(e,t,a),i.m(e,a),insert(e,r,a)},p(e,s){e[3]?n?n.p(e,s):(n=create_if_block_2$1(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),o===(o=a(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(r.parentNode,r)))},d(e){n&&n.d(e),e&&detach(t),i.d(e),e&&detach(r)}}}function create_if_block_2$1(e){let t,r,n;return{c(){t=element("span"),r=text(e[3]),n=text(":"),attr(t,"class","source-caption")},m(e,a){insert(e,t,a),append$1(t,r),append$1(t,n)},p(e,t){8&t&&set_data(r,e[3])},d(e){e&&detach(t)}}}function create_else_block$2(e){let t,r,n=e[4](e[1])+"";return{c(){t=element("span"),attr(t,"class","source"),attr(t,"title",r=e[0]&&!e[2]?e[0]:null)},m(e,r){insert(e,t,r),t.innerHTML=n},p(e,a){2&a&&n!==(n=e[4](e[1])+"")&&(t.innerHTML=n),5&a&&r!==(r=e[0]&&!e[2]?e[0]:null)&&attr(t,"title",r)},d(e){e&&detach(t)}}}function create_if_block_1$3(e){let t,r,n,a=e[4](e[1])+"";return{c(){t=element("a"),attr(t,"class","source"),attr(t,"target","_blank"),attr(t,"rel","nofollow noopener noreferrer"),attr(t,"href",e[0])},m(o,i){insert(o,t,i),t.innerHTML=a,r||(n=listen(t,"click",e[5]),r=!0)},p(e,r){2&r&&a!==(a=e[4](e[1])+"")&&(t.innerHTML=a),1&r&&attr(t,"href",e[0])},d(e){e&&detach(t),r=!1,n()}}}function create_fragment$d(e){let t,r=e[1]&&create_if_block$8(e);return{c(){r&&r.c(),t=empty()},m(e,n){r&&r.m(e,n),insert(e,t,n)},p(e,n){let[a]=n;e[1]?r?r.p(e,a):(r=create_if_block$8(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:noop$1,o:noop$1,d(e){r&&r.d(e),e&&detach(t)}}}function instance$d(e,t,r){let n,a,o,i,s,c,l,{props:u}=t;const{__:f,get:p,purifyHtml:h}=u;return e.$$set=e=>{"props"in e&&r(6,u=e.props)},e.$$.update=()=>{64&e.$$.dirty&&r(7,({chart:n,themeData:a,postEvent:o}=u),n,(r(8,a),r(6,u))),256&e.$$.dirty&&r(3,i=p(a,"options.blocks.source.data.caption",f("Source"))),128&e.$$.dirty&&r(1,s=p(n,"metadata.describe.source-name")),128&e.$$.dirty&&r(0,c=p(n,"metadata.describe.source-url")),1&e.$$.dirty&&r(2,l=isAllowedSourceUrl_1(c))},[c,s,l,i,h,function(){o("source.click",{url:c,name:s})},u,n,a]}validation.isValidUrl=isValidUrl;class Source extends SvelteComponent{constructor(e){super(),init(this,e,instance$d,create_fragment$d,safe_not_equal,{props:6})}}function create_if_block_1$2(e){let t,r;return{c(){t=element("span"),r=text(e[3]),attr(t,"class","byline-caption")},m(e,n){insert(e,t,n),append$1(t,r)},p(e,t){8&t&&set_data(r,e[3])},d(e){e&&detach(t)}}}function create_if_block$7(e){let t,r,n=e[4](e[2])+"";return{c(){t=new HtmlTag(!1),r=empty(),t.a=r},m(e,a){t.m(n,e,a),insert(e,r,a)},p(e,r){4&r&&n!==(n=e[4](e[2])+"")&&t.p(n)},d(e){e&&detach(r),e&&t.d()}}}function create_fragment$c(e){let t,r,n,a,o,i=e[3]&&create_if_block_1$2(e),s=e[0].basedOnByline&&create_if_block$7(e);return{c(){i&&i.c(),t=space(),r=element("span"),n=text(e[1]),a=space(),s&&s.c(),o=empty(),attr(r,"class","byline-content")},m(e,c){i&&i.m(e,c),insert(e,t,c),insert(e,r,c),append$1(r,n),insert(e,a,c),s&&s.m(e,c),insert(e,o,c)},p(e,r){let[a]=r;e[3]?i?i.p(e,a):(i=create_if_block_1$2(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),2&a&&set_data(n,e[1]),e[0].basedOnByline?s?s.p(e,a):(s=create_if_block$7(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},i:noop$1,o:noop$1,d(e){i&&i.d(e),e&&detach(t),e&&detach(r),e&&detach(a),s&&s.d(e),e&&detach(o)}}}function instance$c(e,t,r){let n,a,o,i,s,c,l,u,{props:f}=t;const{get:p,purifyHtml:h,__:d}=f;return e.$$set=e=>{"props"in e&&r(5,f=e.props)},e.$$.update=()=>{32&e.$$.dirty&&r(0,n=f.chart),32&e.$$.dirty&&r(8,a=f.themeData),32&e.$$.dirty&&r(9,o=f.caption),768&e.$$.dirty&&r(3,i=p(a,`options.blocks.byline.data.${o}Caption`,d("map"===o?"Map:":"table"===o?"Table:":"Chart:"))),1&e.$$.dirty&&r(1,s=p(n,"metadata.describe.byline",!1)),256&e.$$.dirty&&r(7,c=p(a,"options.blocks.byline.data.forkCaption",d("footer / based-on"))),3&e.$$.dirty&&r(6,l=n.basedOnByline&&s),193&e.$$.dirty&&r(2,u=(l?"(":"")+c+" "+h(n.basedOnByline)+(l?")":""))},[n,s,u,i,h,f,l,c,a,o]}class Byline extends SvelteComponent{constructor(e){super(),init(this,e,instance$c,create_fragment$c,safe_not_equal,{props:5})}}function create_fragment$b(e){let t,r,n=clean(e[1](e[0],"metadata.annotate.notes"),["details","summary"])+"";return{c(){t=new HtmlTag(!1),r=empty(),t.a=r},m(e,a){t.m(n,e,a),insert(e,r,a)},p(e,r){let[a]=r;1&a&&n!==(n=clean(e[1](e[0],"metadata.annotate.notes"),["details","summary"])+"")&&t.p(n)},i:noop$1,o:noop$1,d(e){e&&detach(r),e&&t.d()}}}function instance$b(e,t,r){let n,{props:a}=t;const{get:o}=a;return e.$$set=e=>{"props"in e&&r(2,a=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(0,n=a.chart)},[n,o,a]}class Notes extends SvelteComponent{constructor(e){super(),init(this,e,instance$b,create_fragment$b,safe_not_equal,{props:2})}}function NotesStyles(e,t){const{css:r,getProp:n}=getThemeStyleHelpers(e,t);return r`
        position: relative;
        color: ${n("typography.notes.color")};
        font-family: ${n("typography.notes.typeface")};
        font-size: ${toPixel(n("typography.notes.fontSize"))};
        font-stretch: ${n("typography.notes.fontStretch")};
        font-style: ${isTrue(get_1(t,"typography.notes.cursive"))?"italic":"normal"};
        font-weight: ${n("typography.notes.fontWeight")};
        letter-spacing: ${toPixel(n("typography.notes.letterSpacing"))};
        line-height: ${lineHeight(n("typography.notes.lineHeight"))};
        margin: ${n("style.notes.margin")};
        padding: ${n("style.notes.padding")};
        text-align: ${n("style.notes.textAlign")};
        text-decoration: ${isTrue(get_1(t,"typography.notes.underlined"))?"underline":"none"};
        text-transform: ${n("typography.notes.textTransform")};

        a {
            padding: ${n("style.footer.links.padding")};
            border-bottom: ${n("style.footer.links.border.bottom")};
            font-style: ${isTrue(get_1(t,"typography.notes.cursive"))||isTrue(get_1(t,"typography.links.cursive"))?"italic":"normal"};
        }
    `}function create_fragment$a(e){let t,r,n,a,o,i,s,c=e[3](e[2])+"";return{c(){t=element("a"),r=text(c),attr(t,"class","dw-data-link"),attr(t,"aria-label",n=e[3](e[2])+": "+e[4](e[0].title,[])),attr(t,"target",a=e[1]?"_blank":"_self"),attr(t,"href",o=e[1]||"javascript:void(0)")},m(n,a){insert(n,t,a),append$1(t,r),i||(s=listen(t,"click",e[5]),i=!0)},p(e,i){let[s]=i;4&s&&c!==(c=e[3](e[2])+"")&&set_data(r,c),5&s&&n!==(n=e[3](e[2])+": "+e[4](e[0].title,[]))&&attr(t,"aria-label",n),2&s&&a!==(a=e[1]?"_blank":"_self")&&attr(t,"target",a),2&s&&o!==(o=e[1]||"javascript:void(0)")&&attr(t,"href",o)},i:noop$1,o:noop$1,d(e){e&&detach(t),i=!1,s()}}}function download(e,t){const r=new Blob([e]);if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,t);else{const e=document.createElement("a");e.href=URL.createObjectURL(r),e.download=t,e.click()}}function instance$a(e,t,r){let n,a,o,i,s,c,l,{props:u}=t;const{get:f,__:p,purifyHtml:h}=u;return e.$$set=e=>{"props"in e&&r(6,u=e.props)},e.$$.update=()=>{64&e.$$.dirty&&r(0,({chart:n,dwChart:a,teamPublicSettings:o,themeData:i,postEvent:s}=u),n,(r(7,i),r(6,u))),1&e.$$.dirty&&r(1,c=f(n,"externalData")),128&e.$$.dirty&&r(2,l=f(i,"options.blocks.get-the-data.data.caption",p("Get the data")))},[n,c,l,p,h,function(e){if(s("download",{type:"csv"}),!c&&a&&a.dataset){download(function(){const e={};return o.downloadDataLocalized&&(e.numeral=a.vis().libraries().numeral),"\ufeff"+a.dataset().csv(e)}(),function(){const e=`data-${n.id}.csv`,t=f(i,"options.blocks.get-the-data.data.filename","").replace(/%custom_(.*?)%/g,((e,t)=>f(n,`metadata.custom.${t}`,""))).replace(/%chart_id%/g,n.id);return t&&".csv"!==t?t:e}()),e.preventDefault()}},u,i]}class GetTheData extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$a,safe_not_equal,{props:6})}}function create_if_block$6(e){let t,r,n,a,o=e[3](e[0])+"";return{c(){t=element("a"),r=text(o),attr(t,"href","#/edit-in-datawrapper")},m(o,i){insert(o,t,i),append$1(t,r),n||(a=listen(t,"click",prevent_default(e[4])),n=!0)},p(e,t){1&t&&o!==(o=e[3](e[0])+"")&&set_data(r,o)},d(e){e&&detach(t),n=!1,a()}}}function create_fragment$9(e){let t,r=e[2]&&e[1]&&create_if_block$6(e);return{c(){r&&r.c(),t=empty()},m(e,n){r&&r.m(e,n),insert(e,t,n)},p(e,n){let[a]=n;e[2]&&e[1]?r?r.p(e,a):(r=create_if_block$6(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:noop$1,o:noop$1,d(e){r&&r.d(e),e&&detach(t)}}}function instance$9(e,t,r){let n,a,o,i,s,c,{props:l}=t;const{get:u,__:f}=l;return e.$$set=e=>{"props"in e&&r(5,l=e.props)},e.$$.update=()=>{32&e.$$.dirty&&r(6,({chart:n,themeData:a,config:o}=l),n,(r(7,a),r(5,l))),64&e.$$.dirty&&r(2,i=u(n,"forkable",!1)),64&e.$$.dirty&&r(1,s=u(n,"metadata.publish.blocks.edit-in-datawrapper",!1)),128&e.$$.dirty&&r(0,c=u(a,"options.blocks.edit.data.caption","edit-in-datawrapper"))},[c,s,i,f,function(){const e=document.createElement("form");e.setAttribute("method","post"),e.setAttribute("target","_blank"),e.setAttribute("action",`//${o.frontendDomain}/create/`);const t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","template"),t.setAttribute("value",n.id),e.appendChild(t),document.body.appendChild(e),e.submit(),document.body.removeChild(e)},l,n,a]}class EditInDatawrapper extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$9,safe_not_equal,{props:5})}}function create_if_block$5(e){let t,r,n,a,o,i,s,c,l,u,f,p=clean(e[3].text||e[4]("embed / caption"))+"";return{c(){t=element("div"),r=element("div"),r.innerHTML='<svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg" class="svelte-1f8d99s"><path d="M7 4a.995.995 0 0 0-.707.293l-2 2a.999.999 0 0 0 0 1.414L11.586 15l-7.293\n                    7.293a.999.999 0 0 0 0 1.414l2 2a.999.999 0 0 0 1.414 0L15 18.414l7.293\n                    7.293a.999.999 0 0 0 1.414 0l2-2a.999.999 0 0 0 0-1.414L18.414\n                    15l7.293-7.293a.999.999 0 0 0 0-1.414l-2-2a.999.999 0 0 0-1.414 0L15 11.586\n                    7.707 4.293A.996.996 0 0 0 7 4z" class="svelte-1f8d99s"></path></svg>',n=space(),a=element("p"),o=space(),i=element("div"),s=element("input"),c=space(),l=element("button"),l.innerHTML='<svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg" class="svelte-1f8d99s"><path d="M15 0c-1.645 0-3 1.355-3 3H8C6.346 3 5 4.346 5 6v17c0 1.654 1.346 3 3\n                        3h14c1.654 0 3-1.346 3-3V6c0-1.654-1.346-3-3-3h-4c0-1.645-1.355-3-3-3zm0\n                        2c.564 0 1 .436 1 1 0 .564-.436 1-1 1-.564 0-1-.436-1-1 0-.564.436-1 1-1zM8\n                        5h4v1a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V5h4c.551 0 1 .449 1 1v17c0 .551-.449 1-1\n                        1H8c-.551 0-1-.449-1-1V6c0-.551.449-1 1-1zm4 7a1 1 0 1 0 0 2 1 1 0 0 0\n                        0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm8 0a1\n                        1 0 1 0 0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm16 0a1 1 0 1 0\n                        0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm16 0a1 1 0 1 0 0 2 1 1\n                        0 0 0 0-2zm0 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0\n                        0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1\n                        1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" class="svelte-1f8d99s"></path></svg>',attr(r,"class","close svelte-1f8d99s"),attr(a,"class","svelte-1f8d99s"),attr(s,"type","text"),s.readOnly=!0,s.value=e[2],attr(s,"class","svelte-1f8d99s"),attr(l,"class","svelte-1f8d99s"),attr(i,"class","actions svelte-1f8d99s"),attr(t,"class","embed-code svelte-1f8d99s")},m(h,d){insert(h,t,d),append$1(t,r),append$1(t,n),append$1(t,a),a.innerHTML=p,append$1(t,o),append$1(t,i),append$1(i,s),e[10](s),append$1(i,c),append$1(i,l),u||(f=[listen(r,"click",e[5]),listen(l,"click",e[6])],u=!0)},p(e,t){8&t&&p!==(p=clean(e[3].text||e[4]("embed / caption"))+"")&&(a.innerHTML=p),4&t&&s.value!==e[2]&&(s.value=e[2])},d(r){r&&detach(t),e[10](null),u=!1,run_all(f)}}}function create_fragment$8(e){let t,r,n,a,o,i,s=(e[3].caption||e[4]("Embed"))+"",c=!e[0]&&create_if_block$5(e);return{c(){t=element("a"),r=text(s),n=space(),c&&c.c(),a=empty(),attr(t,"href","#embed"),attr(t,"class","chart-action-embed")},m(s,l){insert(s,t,l),append$1(t,r),insert(s,n,l),c&&c.m(s,l),insert(s,a,l),o||(i=listen(t,"click",e[5]),o=!0)},p(e,t){let[n]=t;8&n&&s!==(s=(e[3].caption||e[4]("Embed"))+"")&&set_data(r,s),e[0]?c&&(c.d(1),c=null):c?c.p(e,n):(c=create_if_block$5(e),c.c(),c.m(a.parentNode,a))},i:noop$1,o:noop$1,d(e){e&&detach(t),e&&detach(n),c&&c.d(e),e&&detach(a),o=!1,i()}}}function instance$8(e,t,r){let n,a,o,i,s,{props:c}=t;const{get:l,__:u}=c;let f,p=!0;return e.$$set=e=>{"props"in e&&r(7,c=e.props)},e.$$.update=()=>{128&e.$$.dirty&&r(8,({chart:n,themeData:a,postEvent:o}=c),n,(r(9,a),r(7,c))),512&e.$$.dirty&&r(3,i=l(a,"options.blocks.embed.data",{})),256&e.$$.dirty&&r(2,s=l(n,"metadata.publish.embed-codes.embed-method-responsive","\x3c!-- embed code will be here after publishing --\x3e"))},[p,f,s,i,u,function(e){e.preventDefault(),r(0,p=!p),o("embed.modal."+(p?"close":"open"))},function(){o("embed.copy"),f.focus(),f.select(),document.execCommand("copy")},c,n,a,function(e){binding_callbacks[e?"unshift":"push"]((()=>{f=e,r(1,f)}))}]}class Embed extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$8,safe_not_equal,{props:7})}}function create_if_block_1$1(e){let t,r,n,a;return{c(){t=element("img"),attr(t,"height",r=e[0].height),src_url_equal(t.src,n=e[0].imgSrc)||attr(t,"src",n),attr(t,"alt",a="altText"in e[0]?e[0].altText:e[2].title)},m(e,r){insert(e,t,r)},p(e,o){1&o&&r!==(r=e[0].height)&&attr(t,"height",r),1&o&&!src_url_equal(t.src,n=e[0].imgSrc)&&attr(t,"src",n),5&o&&a!==(a="altText"in e[0]?e[0].altText:e[2].title)&&attr(t,"alt",a)},d(e){e&&detach(t)}}}function create_if_block$4(e){let t,r=e[1](e[0].text)+"";return{c(){t=element("span"),attr(t,"class","logo-text")},m(e,n){insert(e,t,n),t.innerHTML=r},p(e,n){3&n&&r!==(r=e[1](e[0].text)+"")&&(t.innerHTML=r)},d(e){e&&detach(t)}}}function create_fragment$7(e){let t,r,n=e[0].imgSrc&&create_if_block_1$1(e),a=e[0].text&&create_if_block$4(e);return{c(){n&&n.c(),t=space(),a&&a.c(),r=empty()},m(e,o){n&&n.m(e,o),insert(e,t,o),a&&a.m(e,o),insert(e,r,o)},p(e,o){let[i]=o;e[0].imgSrc?n?n.p(e,i):(n=create_if_block_1$1(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),e[0].text?a?a.p(e,i):(a=create_if_block$4(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i:noop$1,o:noop$1,d(e){n&&n.d(e),e&&detach(t),a&&a.d(e),e&&detach(r)}}}function instance$7(e,t,r){let{logo:n}=t,{purifyHtml:a}=t,{theme:o}=t;return e.$$set=e=>{"logo"in e&&r(0,n=e.logo),"purifyHtml"in e&&r(1,a=e.purifyHtml),"theme"in e&&r(2,o=e.theme)},[n,a,o]}class LogoInner extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$7,safe_not_equal,{logo:0,purifyHtml:1,theme:2})}}function create_else_block$1(e){let t,r;return t=new LogoInner({props:{logo:e[0],purifyHtml:e[2],theme:e[1]}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.logo=e[0]),2&r&&(n.theme=e[1]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block$3(e){let t,r,n,a,o;return r=new LogoInner({props:{logo:e[0],purifyHtml:e[2],theme:e[1]}}),{c(){t=element("a"),create_component(r.$$.fragment),attr(t,"href",n=e[0].url),attr(t,"title",a=e[0].linkTitle||e[0].url),attr(t,"target","_blank"),attr(t,"rel","noopener noreferrer nofollow")},m(e,n){insert(e,t,n),mount_component(r,t,null),o=!0},p(e,i){const s={};1&i&&(s.logo=e[0]),2&i&&(s.theme=e[1]),r.$set(s),(!o||1&i&&n!==(n=e[0].url))&&attr(t,"href",n),(!o||1&i&&a!==(a=e[0].linkTitle||e[0].url))&&attr(t,"title",a)},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){e&&detach(t),destroy_component(r)}}}function create_fragment$6(e){let t,r,n,a;const o=[create_if_block$3,create_else_block$1],i=[];function s(e,t){return e[0].url?0:1}return t=s(e),r=i[t]=o[t](e),{c(){r.c(),n=empty()},m(e,r){i[t].m(e,r),insert(e,n,r),a=!0},p(e,a){let[c]=a,l=t;t=s(e),t===l?i[t].p(e,c):(group_outros(),transition_out(i[l],1,1,(()=>{i[l]=null})),check_outros(),r=i[t],r?r.p(e,c):(r=i[t]=o[t](e),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(e){a||(transition_in(r),a=!0)},o(e){transition_out(r),a=!1},d(e){i[t].d(e),e&&detach(n)}}}function instance$6(e,t,r){let n,a,o,i,{props:s}=t;const{get:c,purifyHtml:l}=s;let u;return e.$$set=e=>{"props"in e&&r(3,s=e.props)},e.$$.update=()=>{if(8&e.$$.dirty&&r(6,({chart:n,themeData:a,theme:o,logoId:i}=s),n,(r(5,a),r(3,s)),(r(1,o),r(3,s)),(r(4,i),r(3,s))),113&e.$$.dirty){const e=c(n,"metadata.publish.blocks.logo",{}),t=c(a,"options.blocks.logo.data.options",[]),o=i||e.id;r(0,u=t.find((e=>e.id===o))),o&&u||r(0,u=t[0]||{})}},[u,o,l,s,i,a,n]}class Logo extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$6,safe_not_equal,{props:3})}}function create_fragment$5(e){let t;return{c(){t=element("div"),attr(t,"class","export-rect"),set_style(t,"width",px(e[2])),set_style(t,"height",px(e[1])),set_style(t,"background",e[0])},m(e,r){insert(e,t,r)},p(e,r){let[n]=r;4&n&&set_style(t,"width",px(e[2])),2&n&&set_style(t,"height",px(e[1])),1&n&&set_style(t,"background",e[0])},i:noop$1,o:noop$1,d(e){e&&detach(t)}}}function px(e){return"string"==typeof e?e:e+"px"}function instance$5(e,t,r){let n,a,o,i,s,{props:c}=t;const{get:l}=c;return e.$$set=e=>{"props"in e&&r(3,c=e.props)},e.$$.update=()=>{8&e.$$.dirty&&r(5,n=c.themeData),32&e.$$.dirty&&r(4,a=l(n,"options.blocks.rectangle.data",{})),16&e.$$.dirty&&r(2,o=l(a,"width",50)),16&e.$$.dirty&&r(1,i=l(a,"height",5)),16&e.$$.dirty&&r(0,s=l(a,"background","red"))},[s,i,o,c,a,n]}class Rectangle extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$5,safe_not_equal,{props:3})}}const CHAR_W={a:9,A:10,b:9,B:10,c:8,C:10,d:9,D:11,e:9,E:9,f:5,F:8,g:9,G:11,h:9,H:11,i:4,I:4,j:4,J:4,k:8,K:9,l:4,L:8,m:14,M:12,n:9,N:10,o:9,O:11,p:9,P:8,q:9,Q:11,r:6,R:10,s:7,S:9,t:5,T:9,u:9,U:10,v:8,V:10,w:11,W:14,x:8,X:10,y:8,Y:9,z:7,Z:10,".":4,"!":4,"|":4,",":4,":":5,";":5,"-":5,"+":12," ":4};var estimateTextWidth=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14;const r=t/14;return e.split("").reduce(((e,t)=>e+(CHAR_W[t]||CHAR_W.a)),0)*r};function create_if_block$2(e){let t,r,n,a,o,i,s=e[7](e[0],"")+"";return{c(){t=svg_element("svg"),r=svg_element("text"),n=text(s),attr(r,"class","watermark svelte-12w25z4"),attr(r,"dominant-baseline","central"),set_style(r,"font-size",e[3]),attr(r,"transform",a="rotate("+e[4]+")"),attr(r,"data-rotate",e[4]),attr(r,"x",o=.5*e[1]),attr(r,"y",i=.5*e[2]),attr(t,"width",e[1]),attr(t,"height",e[2])},m(e,a){insert(e,t,a),append$1(t,r),append$1(r,n)},p(e,c){1&c&&s!==(s=e[7](e[0],"")+"")&&set_data(n,s),8&c&&set_style(r,"font-size",e[3]),16&c&&a!==(a="rotate("+e[4]+")")&&attr(r,"transform",a),16&c&&attr(r,"data-rotate",e[4]),2&c&&o!==(o=.5*e[1])&&attr(r,"x",o),4&c&&i!==(i=.5*e[2])&&attr(r,"y",i),2&c&&attr(t,"width",e[1]),4&c&&attr(t,"height",e[2])},d(e){e&&detach(t)}}}function create_fragment$4(e){let t,r=e[2]&&create_if_block$2(e);return{c(){r&&r.c(),t=empty()},m(e,n){r&&r.m(e,n),insert(e,t,n)},p(e,n){let[a]=n;e[2]?r?r.p(e,a):(r=create_if_block$2(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:noop$1,o:noop$1,d(e){r&&r.d(e),e&&detach(t)}}}function instance$4(e,t,r){let n,a,o,i,s,c,l,u,f,p,h,d,m,g,y;const{outerWidth:b,outerHeight:$}=getContext("stores");component_subscribe(e,b,(e=>r(18,y=e))),component_subscribe(e,$,(e=>r(17,g=e)));let{props:v}=t;const{get:_,purifyHtml:k,textDirection:w}=v;return e.$$set=e=>{"props"in e&&r(8,v=e.props)},e.$$.update=()=>{256&e.$$.dirty&&r(16,({chart:n,themeData:a}=v),n,(r(14,a),r(8,v))),16384&e.$$.dirty&&r(15,o=_(a,"options.watermark.custom-field")),16384&e.$$.dirty&&r(12,i=_(a,"options.watermark.rotate",!0)),16384&e.$$.dirty&&r(11,s=_(a,"options.watermark.typography.fontSize")),114688&e.$$.dirty&&r(0,c=!!_(a,"options.watermark")&&(o?_(n,`metadata.custom.${o}`,""):_(a,"options.watermark.text","CONFIDENTIAL"))),262144&e.$$.dirty&&r(1,l=y),131072&e.$$.dirty&&r(2,u=g),4102&e.$$.dirty&&r(13,f=i?-Math.atan(u/l)*("rtl"===w?-1:1):0),8192&e.$$.dirty&&r(4,p=180*f/Math.PI),4102&e.$$.dirty&&r(10,h=i?Math.sqrt(l*l+u*u):l),1&e.$$.dirty&&r(9,d=estimateTextWidth(c,20)),3584&e.$$.dirty&&r(3,m=s?`${s}px`:`${Math.round(.75*h/d*20)}px`)},[c,l,u,m,p,b,$,k,v,d,h,s,i,f,a,o,n,g,y]}class Watermark extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{props:8})}}function create_fragment$3(e){let t;return{c(){t=element("hr"),attr(t,"class","dw-line"),set_style(t,"border","0"),set_style(t,"border-bottom",e[1]),set_style(t,"margin",e[0])},m(e,r){insert(e,t,r)},p(e,r){let[n]=r;2&n&&set_style(t,"border-bottom",e[1]),1&n&&set_style(t,"margin",e[0])},i:noop$1,o:noop$1,d(e){e&&detach(t)}}}function instance$3(e,t,r){let n,a,o,i,{props:s}=t;const{get:c}=s;return e.$$set=e=>{"props"in e&&r(2,s=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(4,n=s.themeData),20&e.$$.dirty&&r(3,a=c(n,`options.blocks.${s.id}.data`,{})),8&e.$$.dirty&&r(1,o=c(a,"border","1px solid #cccccc")),8&e.$$.dirty&&r(0,i=c(a,"margin","0px"))},[i,o,s,a,n]}class HorizontalRule extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{props:2})}}function create_fragment$2(e){let t,r,n,a;return{c(){t=svg_element("svg"),r=svg_element("line"),set_style(r,"stroke",e[5]),set_style(r,"stroke-width",e[4]),set_style(r,"stroke-dasharray",e[3]),set_style(r,"stroke-linecap",e[2]),attr(r,"x1","0"),attr(r,"y1",n=e[4]/2),attr(r,"x2",e[1]),attr(r,"y2",a=e[4]/2),set_style(t,"height",Math.max(e[4],1)+"px"),set_style(t,"margin",e[6]),attr(t,"class","svelte-eczzvz")},m(n,a){insert(n,t,a),append$1(t,r),e[10](t)},p(e,o){let[i]=o;32&i&&set_style(r,"stroke",e[5]),16&i&&set_style(r,"stroke-width",e[4]),8&i&&set_style(r,"stroke-dasharray",e[3]),4&i&&set_style(r,"stroke-linecap",e[2]),16&i&&n!==(n=e[4]/2)&&attr(r,"y1",n),2&i&&attr(r,"x2",e[1]),16&i&&a!==(a=e[4]/2)&&attr(r,"y2",a),16&i&&set_style(t,"height",Math.max(e[4],1)+"px"),64&i&&set_style(t,"margin",e[6])},i:noop$1,o:noop$1,d(r){r&&detach(t),e[10](null)}}}function instance$2(e,t,r){let n,a,o,i,s,c,l,{props:u}=t;const{get:f}=u;let p,h=0;return onMount((()=>{r(1,h=p.getBoundingClientRect().width)})),"undefined"!=typeof window&&window.addEventListener("resize",(()=>{r(1,h=p.getBoundingClientRect().width)})),e.$$set=e=>{"props"in e&&r(7,u=e.props)},e.$$.update=()=>{128&e.$$.dirty&&r(9,n=u.themeData),640&e.$$.dirty&&r(8,a=f(n,`options.blocks.${u.id}.data`,{})),256&e.$$.dirty&&r(6,o=f(a,"margin","0px")),256&e.$$.dirty&&r(5,i=f(a,"color","#000000")),256&e.$$.dirty&&r(4,s=f(a,"width",1)),256&e.$$.dirty&&r(3,c=f(a,"strokeDasharray","none")),256&e.$$.dirty&&r(2,l=f(a,"strokeLinecap","butt"))},[p,h,l,c,s,i,o,u,a,n,function(e){binding_callbacks[e?"unshift":"push"]((()=>{p=e,r(0,p)}))}]}class SvgRule extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{props:7})}}var arrayToObject=function(e){if(Array.isArray(e)){const t={};return Object.keys(e).forEach((r=>t[r]=e[r])),t}return e},publish=[e=>{set(e,"publish",arrayToObject(get_1(e,"publish",{})))},e=>{const t=get_1(e,"publish.blocks.logo");"boolean"==typeof t&&set(e,"publish.blocks.logo",{enabled:t})}];const migrations=[...publish];function migrate(e){migrations.forEach((t=>t(e)))}var _createEmotion=createEmotion({key:"css"});_createEmotion.flush,_createEmotion.hydrate,_createEmotion.cx,_createEmotion.merge,_createEmotion.getRegisteredStyles,_createEmotion.injectGlobal,_createEmotion.keyframes,_createEmotion.css,_createEmotion.sheet;var cache=_createEmotion.cache;function globalStyles(e,t,r){const{getProp:n,cssTemplate:a}=getThemeStyleHelpers(e,t);return a`${r?`body:not(.transparent) {\n        background: ${n("style.body.background")};\n    }`:""}`}function chartStyles(e,t,r,n){const{css:a,getProp:o,typography:i}=getThemeStyleHelpers(e,t),s=o("colors.background");return a`
        ${i(omit(get_1(t,"typography.chart",{}),"fontWeight"))}
        border-bottom: ${o("style.body.border.bottom")};
        border-left: ${o("style.body.border.left")};
        border-right: ${o("style.body.border.right")};
        border-top: ${o("style.body.border.top")};
        margin: ${o("style.body.margin",0)};
        padding: ${o("style.body.padding")};
        ${n?"":`background: ${o("style.body.background")};`}

        ${r?"":`\n                a:not(.link-style-ignore) {\n                    ${i(get_1(t,"typography.links"),{underlined:!1})}\n                    border-bottom: ${o("style.body.links.border.bottom")};\n                    padding: ${o("style.body.links.padding")};\n                }\n\n                a:not(.link-style-ignore):hover {\n                    color: ${o("typography.links.hoverColor")};\n                }\n        `}

        .labels text,
        .label {
            font-size: ${toPixel(o("typography.chart.fontSize"))};
        }

        .label span,
        .label tspan {
            color: ${o("typography.chart.color","#333333")};
            fill: ${o("typography.chart.color","#333333")};
        }

        .label.value,
        .label.value span {
            ${i(get_1(t,"style.chart.labels.values"))}
            ${isTrue(get_1(t,"style.chart.labels.values.tabularNums"))?"\n                font-feature-settings: 'tnum';\n                -webkit-font-feature-settings: 'tnum';\n                -moz-font-feature-settings: 'tnum';":""}
        }

        .label span {
            text-shadow: 0 0 2px ${o("colors.background")};
        }

        .label.inverted span {
            text-shadow: 0 0px 2px #000000;
            color: ${o("style.chart.labels.inside.inverted","#ffffff")};
        }

        .label.inside:not(.inverted) span {
            text-shadow: 0 0px 2px #ffffff;
            color: ${o("style.chart.labels.inside.normal","#333333")};
        }

        .label.outline span {
            text-shadow: 0 1px 0 ${s}, 1px 0 0 ${s}, 0 -1px 0 ${s}, -1px 0 0 ${s},
                1px 1px 0 ${s}, 1px -1px 0 ${s}, -1px -1px 0 ${s}, -1px 1px 0 ${s},
                0 2px 1px ${s}, 2px 0 1px ${s}, 0 -2px 1px ${s}, -2px 0 1px ${s},
                -1px 2px 0px ${s}, 2px -1px 0px ${s}, -1px -2px 0px ${s},
                -2px -1px 0px ${s}, 1px 2px 0px ${s}, 2px 1px 0px ${s},
                1px -2px 0px ${s}, -2px 1px 0px ${s};
        }

        .label sup {
            text-shadow: none;
        }

        .label.highlighted {
            font-weight: bold;
        }

        .label.highlighted,
        .label.axis {
            font-size: ${toPixel(o("typography.chart.fontSize"))};
            z-index: 100;
        }

        .label.hover {
            font-weight: bold;
        }

        .label.smaller span {
            font-size: 80%;
        }

        .label.legend-text span,
        .label.legend-text {
            ${i(get_1(t,"style.chart.labels.legend"))}
            ${isTrue(get_1(t,"style.chart.labels.legend.tabularNums"))?"\n                font-feature-settings: 'tnum';\n                -webkit-font-feature-settings: 'tnum';\n                -moz-font-feature-settings: 'tnum';":""}
        }

        /* filter UI tabs */
        .filter-ui.filter-links {
            border-bottom: ${o("style.filter.tabs.border.bottom","1px solid #ccc")};
            font-size: ${toPixel(o("style.filter.tabs.fontSize"))};
        }
        .filter-ui.filter-links a {
            color: ${o("style.filter.tabs.color","#666")};
        }
        .filter-ui.filter-links a:hover {
            color: ${o("style.filter.tabs.hover.color","#222")};
            font-weight: ${o("style.filter.tabs.hover.fontWeight")};
        }
        .filter-ui.filter-links a.active {
            color: ${o("style.filter.tabs.active.color","#000")};
            font-weight: ${o("style.filter.tabs.active.fontWeight","bold")};
            border-bottom: ${o("style.filter.tabs.active.border.bottom","2px solid #555")};
        }
        /* filter UI select */
        .filter-ui.filter-select {
            background-color: ${o("colors.background","#ffffff")};
            border-radius: ${o("style.filter.select.borderRadius","4px")};
            border: ${o("style.filter.select.border","1px solid #cccccc")};
            color: ${o("style.filter.select.textColor",o("typography.chart.color"))};
            font-size: ${toPixel(o("typography.chart.fontSize"))};
            padding: ${o("style.filter.select.padding","4px 6px")};
        }
        /* filter UI timeline */
        .filter-ui .point {
            border: ${o("style.filter.point.buttons.border","1px solid #ccc")};
            background: ${o("style.filter.point.buttons.background",o("colors.background","#fff"))};
        }

        .filter-ui .point:hover {
            background: ${o("style.filter.point.buttons.hover.background","#ebebeb")};
        }

        .filter-ui .point.active {
            background: ${o("style.filter.point.buttons.active.background","#ccc")};
            border: ${o("style.filter.point.buttons.active.border","1px solid #888")};
        }

        .filter-ui .line {
            background: ${o("style.filter.point.line.color","#ccc")};
        }
        .dw-tooltip {
            /* d3-maps & d3-scatter-plot tooltips */
            color: ${o("style.chart.tooltip.text.color","#333333")};
        }

        text.watermark {
            opacity: ${o("options.watermark.opacity")};
            ${i(omit(get_1(t,"options.watermark.typography",{}),"fontSize"))}
        }
    `}function chartHeaderStyles(e,t){const{css:r,getProp:n}=getThemeStyleHelpers(e,t);return r`
        background: ${n("style.header.background")};
        border-bottom: ${n("style.header.border.bottom")};
        border-left: ${n("style.header.border.left")};
        border-right: ${n("style.header.border.right")};
        border-top: ${n("style.header.border.top")};
        margin: ${n("style.header.margin")};
        padding: ${n("style.header.padding")};
        text-align: ${n("style.header.textAlign")};

        &.has-header-right {
            gap: ${toPixel(n("options.header.gap",25))};
        }
    `}function belowHeaderStyles(e,t){const{css:r}=getThemeStyleHelpers(e,t);return r``}function chartBodyStyles(e,t){const{css:r,getProp:n}=getThemeStyleHelpers(e,t);return r`
        background: ${n("style.chart.background")};
        border-bottom: ${n("style.chart.border.bottom")};
        border-left: ${n("style.chart.border.left")};
        border-right: ${n("style.chart.border.right")};
        border-top: ${n("style.chart.border.top")};
        font-weight: ${n("typography.chart.fontWeight")};
        margin: ${n("style.chart.margin")};
        padding: ${n("style.chart.padding")};

        &.dark-bg .label span {
            color: ${n("typography.chart.color","#f1f1f1")};
            fill: ${n("typography.chart.color","#f1f1f1")};
        }

        ${get_1(t,"style.chart.margin")?"":"\n        &.content-below-chart {\n            margin: 0px 0px 20px 0px;\n        }"}
    `}function aboveFooterStyles(e,t){const{css:r,typography:n,getProp:a}=getThemeStyleHelpers(e,t);return r`
        ${n(get_1(t,"typography.aboveFooter"))}
        background: ${a("style.aboveFooter.background")};
        border-bottom: ${a("style.aboveFooter.border.bottom")};
        border-left: ${a("style.aboveFooter.border.left")};
        border-right: ${a("style.aboveFooter.border.right")};
        border-top: ${a("style.aboveFooter.border.top")};
        text-align: ${a("style.aboveFooter.textAlign")};
        margin: ${a("style.aboveFooter.margin","0px 0px 5px 0px")};
        padding: ${a("style.aboveFooter.padding")};
    `}function chartFooterStyles(e,t,r){const{css:n,getProp:a,typography:o}=getThemeStyleHelpers(e,t);return n`
        ${o(get_1(t,"typography.footer"))}
        background: ${a("style.footer.background")};
        border-bottom: ${a("style.footer.border.bottom")};
        border-left: ${a("style.footer.border.left")};
        border-right: ${a("style.footer.border.right")};
        border-top: ${a("style.footer.border.top")};
        margin: ${a("style.footer.margin")};
        padding: ${a("style.footer.padding")};
        align-items: ${a("options.footer.alignItems","center")};
        gap: ${toPixel(a("options.footer.gap"))};

        & > div > .footer-block a[href=''] {
            /* empty links should look like text */
            color: ${a("typography.footer.color")};
        }

        /** flex footer gaps **/
        & .footer-left.layout-flex-row,
        .footer-left.layout-flex-column {
            gap: ${toPixel(a("options.footer.left.gap",5))};
        }
        .footer-center.layout-flex-row,
        .footer-center.layout-flex-column {
            gap: ${toPixel(a("options.footer.center.gap",5))};
        }
        .footer-right.layout-flex-row,
        .footer-right.layout-flex-column {
            gap: ${toPixel(a("options.footer.right.gap",5))};
        }
        /** flex-row alignments **/
        .footer-left.layout-flex-row {
            align-items: ${a("options.footer.left.alignItems")};
        }
        .footer-center.layout-flex-row {
            align-items: ${a("options.footer.center.alignItems")};
        }
        .footer-right.layout-flex-row {
            align-items: ${a("options.footer.right.alignItems")};
        }

        .separator:before {
            content: ${a("options.footer.separator.text",'"•"')};
            margin: ${a("options.footer.separator.margin")};
        }
        ${r?"":`\n            a:not(.link-style-ignore) {\n                padding: ${a("style.footer.links.padding")};\n                border-bottom: ${a("style.footer.links.border.bottom")};\n                font-style: ${isTrue(get_1(t,"typography.footer.cursive"))||isTrue(get_1(t,"typography.links.cursive"))?"italic":"normal"};\n            }\n            `}
    `}function belowFooterStyles(e,t){const{css:r,getProp:n,typography:a}=getThemeStyleHelpers(e,t);return r`
        ${a(get_1(t,"typography.belowFooter"))}
        background: ${n("style.belowFooter.background")};
        border-bottom: ${n("style.belowFooter.border.bottom")};
        border-left: ${n("style.belowFooter.border.left")};
        border-right: ${n("style.belowFooter.border.right")};
        border-top: ${n("style.belowFooter.border.top")};
        margin: ${n("style.belowFooter.margin")};
        padding: ${n("style.belowFooter.padding")};
        text-align: ${n("style.belowFooter.textAlign")};
    `}const globalStylesCache=createCache({key:"global"});function updateGlobalStyles(e){globalStylesCache.sheet.flush(),globalStylesCache.inserted={},globalStylesCache.registered={};const t=serializeStyles([e],cache.registered);globalStylesCache.inserted[t.name]||globalStylesCache.insert("",t,globalStylesCache.sheet,!0)}const begin=/^ */.source,end=/[*']* *$/.source,s0=/[ \-/.]?/.source,s1=/[ \-/.]/.source,s2=/[ \-/.;,]/.source,s3=/[ \-|T]/.source,sM=/[ \-/.m]/.source,rx={YY:{parse:/['’‘]?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(AM|PM)?/}},MONTHS={0:["JAN","JANUARY","JANUAR","JÄNNER","JÄN","JANV","JANVIER","ENE","ENERO","GEN","GENNAIO","JANEIRO"],1:["FEB","FEBRUARY","FEBR","FEBRUAR","FÉV","FÉVR","FÉVRIER","FEBRERO","FEBBRAIO","FEV","FEVEREIRO"],2:["MAR","MÄR","MARCH","MRZ","MÄRZ","MARS","MARS","MARZO","MARZO","MARÇO"],3:["APR","APRIL","APR","APRIL","AVR","AVRIL","ABR","ABRIL","APRILE"],4:["MAY","MAI","MAYO","MAG","MAGGIO","MAIO","MAJ"],5:["JUN","JUNE","JUNI","JUIN","JUNIO","GIU","GIUGNO","JUNHO"],6:["JUL","JULY","JULI","JUIL","JUILLET","JULIO","LUG","LUGLIO","JULHO"],7:["AUG","AUGUST","AOÛT","AGO","AGOSTO"],8:["SEP","SEPTEMBER","SEPT","SEPTEMBRE","SEPTIEMBRE","SET","SETTEMBRE","SETEMBRO"],9:["OCT","OCTOBER","OKT","OKTOBER","OCTOBRE","OCTUBRE","OTT","OTTOBRE","OUT","OUTUBRO"],10:["NOV","NOVEMBER","NOVEMBER","NOVEMBRE","NOVIEMBRE","NOVEMBRE","NOVEMBRO"],11:["DEC","DECEMBER","DEZ","DES","DEZEMBER","DÉC","DÉCEMBRE","DIC","DICIEMBRE","DICEMBRE","DESEMBER","DEZEMBRO"]};each(MONTHS,(function(e,t){each(e,(function(e){}))})),rx.MMM={parse:new RegExp("("+flatten(values(MONTHS)).join("|")+")")};const ISO8601_REG=/^(?:([1-9]\d{3})(-?)(?:(0\d|1[012]))\2(0\d|1\d|2\d|3[01]))T([01]\d|2[0-3])(:?)([0-5]\d)(?:\6([0-5]\d)(?:\.(\d{3}))?)?(Z|[+-][01]\d(?:\6[0-5]\d)?)$/;function reg(){return new RegExp(begin+Array.prototype.slice.call(arguments).join(" *")+end,"i")}each(rx,(function(e){e.parse=e.parse.source,isRegExp(e.test)?e.test=e.test.source:e.test=e.parse})),reg(rx.YYYY2.test),reg(rx.YYYY2.parse),reg(rx.YYYY.test,s0,rx.H.test),reg(rx.YYYY.parse,s0,rx.H.parse),reg(rx.H.test,s1,rx.YYYY.test),reg(rx.H.parse,s1,rx.YYYY.parse),reg(rx.YYYY.test,s0,rx.Q.test),reg(rx.YYYY.parse,s0,rx.Q.parse),reg(rx.Q.test,s1,rx.YYYY.test),reg(rx.Q.parse,s1,rx.YYYY.parse),reg(rx.YYYY.test,sM,rx.MM.test),reg(rx.YYYY.parse,sM,rx.MM.parse),reg(rx.MM.test,s1,rx.YYYY.test),reg(rx.MM.parse,s1,rx.YYYY.parse),reg(rx.YYYY.test,s1,rx.MMM.parse),reg(rx.YYYY.parse,s1,rx.MMM.parse),reg(rx.MMM.parse,s1,rx.YYYY.test),reg(rx.MMM.parse,s1,rx.YYYY.parse),reg(rx.MMM.parse,s1,rx.YY.test),reg(rx.MMM.parse,s1,rx.YY.parse),reg(rx.MMM.parse),reg(rx.MMM.parse),reg(rx.YYYY.test,s0,rx.W.test),reg(rx.YYYY.parse,s0,rx.W.parse),reg(rx.W.test,s1,rx.YYYY.test),reg(rx.W.parse,s1,rx.YYYY.parse),reg(rx.MM.test,"([\\-\\/])",rx.DD.test,"\\2",rx.YYYY.test),reg(rx.MM.parse,"([\\-\\/])",rx.DD.parse,"\\2",rx.YYYY.parse),reg(rx.MM.test,"([\\-\\/])",rx.DD.test,"\\2",rx.YY.test),reg(rx.MM.parse,"([\\-\\/])",rx.DD.parse,"\\2",rx.YY.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.YY.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.YY.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.YYYY.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.YYYY.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MMM.test,"\\2",rx.YYYY.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MMM.parse,"\\2",rx.YYYY.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MMM.test,"\\2",rx.YY.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MMM.parse,"\\2",rx.YY.parse),reg(rx.YYYY.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.DD.test),reg(rx.YYYY.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.DD.parse),reg(rx.MMM.test,s1,rx.DD.test,s2,rx.YYYY.test),reg(rx.MMM.parse,s1,rx.DD.parse,s2,rx.YYYY.parse),reg(rx.YYYY.test,s0,rx.W.test,s1,rx.DOW.test),reg(rx.YYYY.parse,s0,rx.W.parse,s1,rx.DOW.parse),reg(rx.MM.test,"([\\-\\/])",rx.DD.test,"\\2",rx.YYYY.test,s3,rx.HHMM.test),reg(rx.MM.parse,"([\\-\\/])",rx.DD.parse,"\\2",rx.YYYY.parse,s3,rx.HHMM.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.YYYY.test,s3,rx.HHMM.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.YYYY.parse,s3,rx.HHMM.parse),reg(rx.YYYY.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.DD.test,s3,rx.HHMM.test),reg(rx.YYYY.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.DD.parse,s3,rx.HHMM.parse);var tailLength=function(e){return Math.max(0,String(e-Math.floor(e)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2)},round=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=Math.pow(10,t);return Math.round(e*r)/r},underscoreUmd={exports:{}};!function(e,t){e.exports=function(){var e="1.13.4",t="object"==typeof self&&self.self===self&&self||"object"==typeof commonjsGlobal&&commonjsGlobal.global===commonjsGlobal&&commonjsGlobal||Function("return this")()||{},r=Array.prototype,n=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,o=r.push,i=r.slice,s=n.toString,c=n.hasOwnProperty,l="undefined"!=typeof ArrayBuffer,u="undefined"!=typeof DataView,f=Array.isArray,p=Object.keys,h=Object.create,d=l&&ArrayBuffer.isView,m=isNaN,g=isFinite,y=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],$=Math.pow(2,53)-1;function v(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),a=0;a<r;a++)n[a]=arguments[a+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(a=0;a<t;a++)o[a]=arguments[a];return o[t]=n,e.apply(this,o)}}function _(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function k(e){return null===e}function w(e){return void 0===e}function E(e){return!0===e||!1===e||"[object Boolean]"===s.call(e)}function x(e){return!(!e||1!==e.nodeType)}function S(e){var t="[object "+e+"]";return function(e){return s.call(e)===t}}var A=S("String"),T=S("Number"),M=S("Date"),O=S("RegExp"),C=S("Error"),I=S("Symbol"),D=S("ArrayBuffer"),N=S("Function"),P=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof P&&(N=function(e){return"function"==typeof e||!1});var R=N,L=S("Object"),j=u&&L(new DataView(new ArrayBuffer(8))),F="undefined"!=typeof Map&&L(new Map),B=S("DataView");function H(e){return null!=e&&R(e.getInt8)&&D(e.buffer)}var U=j?H:B,z=f||S("Array");function Y(e,t){return null!=e&&c.call(e,t)}var G=S("Arguments");!function(){G(arguments)||(G=function(e){return Y(e,"callee")})}();var W=G;function q(e){return!I(e)&&g(e)&&!isNaN(parseFloat(e))}function V(e){return T(e)&&m(e)}function K(e){return function(){return e}}function J(e){return function(t){var r=e(t);return"number"==typeof r&&r>=0&&r<=$}}function X(e){return function(t){return null==t?void 0:t[e]}}var Z=X("byteLength"),Q=J(Z),ee=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function te(e){return d?d(e)&&!U(e):Q(e)&&ee.test(s.call(e))}var re=l?te:K(!1),ne=X("length");function ae(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(e){return!0===t[e]},push:function(r){return t[r]=!0,e.push(r)}}}function oe(e,t){t=ae(t);var r=b.length,a=e.constructor,o=R(a)&&a.prototype||n,i="constructor";for(Y(e,i)&&!t.contains(i)&&t.push(i);r--;)(i=b[r])in e&&e[i]!==o[i]&&!t.contains(i)&&t.push(i)}function ie(e){if(!_(e))return[];if(p)return p(e);var t=[];for(var r in e)Y(e,r)&&t.push(r);return y&&oe(e,t),t}function se(e){if(null==e)return!0;var t=ne(e);return"number"==typeof t&&(z(e)||A(e)||W(e))?0===t:0===ne(ie(e))}function ce(e,t){var r=ie(t),n=r.length;if(null==e)return!n;for(var a=Object(e),o=0;o<n;o++){var i=r[o];if(t[i]!==a[i]||!(i in a))return!1}return!0}function le(e){return e instanceof le?e:this instanceof le?void(this._wrapped=e):new le(e)}function ue(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Z(e))}le.VERSION=e,le.prototype.value=function(){return this._wrapped},le.prototype.valueOf=le.prototype.toJSON=le.prototype.value,le.prototype.toString=function(){return String(this._wrapped)};var fe="[object DataView]";function pe(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;return("function"===a||"object"===a||"object"==typeof t)&&he(e,t,r,n)}function he(e,t,r,n){e instanceof le&&(e=e._wrapped),t instanceof le&&(t=t._wrapped);var o=s.call(e);if(o!==s.call(t))return!1;if(j&&"[object Object]"==o&&U(e)){if(!U(t))return!1;o=fe}switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return a.valueOf.call(e)===a.valueOf.call(t);case"[object ArrayBuffer]":case fe:return he(ue(e),ue(t),r,n)}var i="[object Array]"===o;if(!i&&re(e)){if(Z(e)!==Z(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;i=!0}if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,l=t.constructor;if(c!==l&&!(R(c)&&c instanceof c&&R(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),i){if((u=e.length)!==t.length)return!1;for(;u--;)if(!pe(e[u],t[u],r,n))return!1}else{var f,p=ie(e);if(u=p.length,ie(t).length!==u)return!1;for(;u--;)if(!Y(t,f=p[u])||!pe(e[f],t[f],r,n))return!1}return r.pop(),n.pop(),!0}function de(e,t){return pe(e,t)}function me(e){if(!_(e))return[];var t=[];for(var r in e)t.push(r);return y&&oe(e,t),t}function ge(e){var t=ne(e);return function(r){if(null==r)return!1;var n=me(r);if(ne(n))return!1;for(var a=0;a<t;a++)if(!R(r[e[a]]))return!1;return e!==ke||!R(r[ye])}}var ye="forEach",be="has",$e=["clear","delete"],ve=["get",be,"set"],_e=$e.concat(ye,ve),ke=$e.concat(ve),we=["add"].concat($e,ye,be),Ee=F?ge(_e):S("Map"),xe=F?ge(ke):S("WeakMap"),Se=F?ge(we):S("Set"),Ae=S("WeakSet");function Te(e){for(var t=ie(e),r=t.length,n=Array(r),a=0;a<r;a++)n[a]=e[t[a]];return n}function Me(e){for(var t=ie(e),r=t.length,n=Array(r),a=0;a<r;a++)n[a]=[t[a],e[t[a]]];return n}function Oe(e){for(var t={},r=ie(e),n=0,a=r.length;n<a;n++)t[e[r[n]]]=r[n];return t}function Ce(e){var t=[];for(var r in e)R(e[r])&&t.push(r);return t.sort()}function Ie(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||null==r)return r;for(var a=1;a<n;a++)for(var o=arguments[a],i=e(o),s=i.length,c=0;c<s;c++){var l=i[c];t&&void 0!==r[l]||(r[l]=o[l])}return r}}var De=Ie(me),Ne=Ie(ie),Pe=Ie(me,!0);function Re(){return function(){}}function Le(e){if(!_(e))return{};if(h)return h(e);var t=Re();t.prototype=e;var r=new t;return t.prototype=null,r}function je(e,t){var r=Le(e);return t&&Ne(r,t),r}function Fe(e){return _(e)?z(e)?e.slice():De({},e):e}function Be(e,t){return t(e),e}function He(e){return z(e)?e:[e]}function Ue(e){return le.toPath(e)}function ze(e,t){for(var r=t.length,n=0;n<r;n++){if(null==e)return;e=e[t[n]]}return r?e:void 0}function Ye(e,t,r){var n=ze(e,Ue(t));return w(n)?r:n}function Ge(e,t){for(var r=(t=Ue(t)).length,n=0;n<r;n++){var a=t[n];if(!Y(e,a))return!1;e=e[a]}return!!r}function We(e){return e}function qe(e){return e=Ne({},e),function(t){return ce(t,e)}}function Ve(e){return e=Ue(e),function(t){return ze(t,e)}}function Ke(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,a){return e.call(t,r,n,a)};case 4:return function(r,n,a,o){return e.call(t,r,n,a,o)}}return function(){return e.apply(t,arguments)}}function Je(e,t,r){return null==e?We:R(e)?Ke(e,t,r):_(e)&&!z(e)?qe(e):Ve(e)}function Xe(e,t){return Je(e,t,1/0)}function Ze(e,t,r){return le.iteratee!==Xe?le.iteratee(e,t):Je(e,t,r)}function Qe(e,t,r){t=Ze(t,r);for(var n=ie(e),a=n.length,o={},i=0;i<a;i++){var s=n[i];o[s]=t(e[s],s,e)}return o}function et(){}function tt(e){return null==e?et:function(t){return Ye(e,t)}}function rt(e,t,r){var n=Array(Math.max(0,e));t=Ke(t,r,1);for(var a=0;a<e;a++)n[a]=t(a);return n}function nt(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}le.toPath=He,le.iteratee=Xe;var at=Date.now||function(){return(new Date).getTime()};function ot(e){var t=function(t){return e[t]},r="(?:"+ie(e).join("|")+")",n=RegExp(r),a=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(a,t):e}}var it={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},st=ot(it),ct=ot(Oe(it)),lt=le.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},ut=/(.)^/,ft={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},pt=/\\|'|\r|\n|\u2028|\u2029/g;function ht(e){return"\\"+ft[e]}var dt=/^\s*(\w|\$)+\s*$/;function mt(e,t,r){!t&&r&&(t=r),t=Pe({},t,le.templateSettings);var n=RegExp([(t.escape||ut).source,(t.interpolate||ut).source,(t.evaluate||ut).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(n,(function(t,r,n,i,s){return o+=e.slice(a,s).replace(pt,ht),a=s+t.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),t})),o+="';\n";var i,s=t.variable;if(s){if(!dt.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(s,"_",o)}catch(e){throw e.source=o,e}var c=function(e){return i.call(this,e,le)};return c.source="function("+s+"){\n"+o+"}",c}function gt(e,t,r){var n=(t=Ue(t)).length;if(!n)return R(r)?r.call(e):r;for(var a=0;a<n;a++){var o=null==e?void 0:e[t[a]];void 0===o&&(o=r,a=n),e=R(o)?o.call(e):o}return e}var yt=0;function bt(e){var t=++yt+"";return e?e+t:t}function $t(e){var t=le(e);return t._chain=!0,t}function vt(e,t,r,n,a){if(!(n instanceof t))return e.apply(r,a);var o=Le(e.prototype),i=e.apply(o,a);return _(i)?i:o}var _t=v((function(e,t){var r=_t.placeholder,n=function(){for(var a=0,o=t.length,i=Array(o),s=0;s<o;s++)i[s]=t[s]===r?arguments[a++]:t[s];for(;a<arguments.length;)i.push(arguments[a++]);return vt(e,n,this,this,i)};return n}));_t.placeholder=le;var kt=v((function(e,t,r){if(!R(e))throw new TypeError("Bind must be called on a function");var n=v((function(a){return vt(e,n,t,this,r.concat(a))}));return n})),wt=J(ne);function Et(e,t,r,n){if(n=n||[],t||0===t){if(t<=0)return n.concat(e)}else t=1/0;for(var a=n.length,o=0,i=ne(e);o<i;o++){var s=e[o];if(wt(s)&&(z(s)||W(s)))if(t>1)Et(s,t-1,r,n),a=n.length;else for(var c=0,l=s.length;c<l;)n[a++]=s[c++];else r||(n[a++]=s)}return n}var xt=v((function(e,t){var r=(t=Et(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=kt(e[n],e)}return e}));function St(e,t){var r=function(n){var a=r.cache,o=""+(t?t.apply(this,arguments):n);return Y(a,o)||(a[o]=e.apply(this,arguments)),a[o]};return r.cache={},r}var At=v((function(e,t,r){return setTimeout((function(){return e.apply(null,r)}),t)})),Tt=_t(At,le,1);function Mt(e,t,r){var n,a,o,i,s=0;r||(r={});var c=function(){s=!1===r.leading?0:at(),n=null,i=e.apply(a,o),n||(a=o=null)},l=function(){var l=at();s||!1!==r.leading||(s=l);var u=t-(l-s);return a=this,o=arguments,u<=0||u>t?(n&&(clearTimeout(n),n=null),s=l,i=e.apply(a,o),n||(a=o=null)):n||!1===r.trailing||(n=setTimeout(c,u)),i};return l.cancel=function(){clearTimeout(n),s=0,n=a=o=null},l}function Ot(e,t,r){var n,a,o,i,s,c=function(){var l=at()-a;t>l?n=setTimeout(c,t-l):(n=null,r||(i=e.apply(s,o)),n||(o=s=null))},l=v((function(l){return s=this,o=l,a=at(),n||(n=setTimeout(c,t),r&&(i=e.apply(s,o))),i}));return l.cancel=function(){clearTimeout(n),n=o=s=null},l}function Ct(e,t){return _t(t,e)}function It(e){return function(){return!e.apply(this,arguments)}}function Dt(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function Nt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Pt(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}var Rt=_t(Pt,2);function Lt(e,t,r){t=Ze(t,r);for(var n,a=ie(e),o=0,i=a.length;o<i;o++)if(t(e[n=a[o]],n,e))return n}function jt(e){return function(t,r,n){r=Ze(r,n);for(var a=ne(t),o=e>0?0:a-1;o>=0&&o<a;o+=e)if(r(t[o],o,t))return o;return-1}}var Ft=jt(1),Bt=jt(-1);function Ht(e,t,r,n){for(var a=(r=Ze(r,n,1))(t),o=0,i=ne(e);o<i;){var s=Math.floor((o+i)/2);r(e[s])<a?o=s+1:i=s}return o}function Ut(e,t,r){return function(n,a,o){var s=0,c=ne(n);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+c,s):c=o>=0?Math.min(o+1,c):o+c+1;else if(r&&o&&c)return n[o=r(n,a)]===a?o:-1;if(a!=a)return(o=t(i.call(n,s,c),V))>=0?o+s:-1;for(o=e>0?s:c-1;o>=0&&o<c;o+=e)if(n[o]===a)return o;return-1}}var zt=Ut(1,Ft,Ht),Yt=Ut(-1,Bt);function Gt(e,t,r){var n=(wt(e)?Ft:Lt)(e,t,r);if(void 0!==n&&-1!==n)return e[n]}function Wt(e,t){return Gt(e,qe(t))}function qt(e,t,r){var n,a;if(t=Ke(t,r),wt(e))for(n=0,a=e.length;n<a;n++)t(e[n],n,e);else{var o=ie(e);for(n=0,a=o.length;n<a;n++)t(e[o[n]],o[n],e)}return e}function Vt(e,t,r){t=Ze(t,r);for(var n=!wt(e)&&ie(e),a=(n||e).length,o=Array(a),i=0;i<a;i++){var s=n?n[i]:i;o[i]=t(e[s],s,e)}return o}function Kt(e){var t=function(t,r,n,a){var o=!wt(t)&&ie(t),i=(o||t).length,s=e>0?0:i-1;for(a||(n=t[o?o[s]:s],s+=e);s>=0&&s<i;s+=e){var c=o?o[s]:s;n=r(n,t[c],c,t)}return n};return function(e,r,n,a){var o=arguments.length>=3;return t(e,Ke(r,a,4),n,o)}}var Jt=Kt(1),Xt=Kt(-1);function Zt(e,t,r){var n=[];return t=Ze(t,r),qt(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}function Qt(e,t,r){return Zt(e,It(Ze(t)),r)}function er(e,t,r){t=Ze(t,r);for(var n=!wt(e)&&ie(e),a=(n||e).length,o=0;o<a;o++){var i=n?n[o]:o;if(!t(e[i],i,e))return!1}return!0}function tr(e,t,r){t=Ze(t,r);for(var n=!wt(e)&&ie(e),a=(n||e).length,o=0;o<a;o++){var i=n?n[o]:o;if(t(e[i],i,e))return!0}return!1}function rr(e,t,r,n){return wt(e)||(e=Te(e)),("number"!=typeof r||n)&&(r=0),zt(e,t,r)>=0}var nr=v((function(e,t,r){var n,a;return R(t)?a=t:(t=Ue(t),n=t.slice(0,-1),t=t[t.length-1]),Vt(e,(function(e){var o=a;if(!o){if(n&&n.length&&(e=ze(e,n)),null==e)return;o=e[t]}return null==o?o:o.apply(e,r)}))}));function ar(e,t){return Vt(e,Ve(t))}function or(e,t){return Zt(e,qe(t))}function ir(e,t,r){var n,a,o=-1/0,i=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=wt(e)?e:Te(e)).length;s<c;s++)null!=(n=e[s])&&n>o&&(o=n);else t=Ze(t,r),qt(e,(function(e,r,n){((a=t(e,r,n))>i||a===-1/0&&o===-1/0)&&(o=e,i=a)}));return o}function sr(e,t,r){var n,a,o=1/0,i=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=wt(e)?e:Te(e)).length;s<c;s++)null!=(n=e[s])&&n<o&&(o=n);else t=Ze(t,r),qt(e,(function(e,r,n){((a=t(e,r,n))<i||a===1/0&&o===1/0)&&(o=e,i=a)}));return o}var cr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function lr(e){return e?z(e)?i.call(e):A(e)?e.match(cr):wt(e)?Vt(e,We):Te(e):[]}function ur(e,t,r){if(null==t||r)return wt(e)||(e=Te(e)),e[nt(e.length-1)];var n=lr(e),a=ne(n);t=Math.max(Math.min(t,a),0);for(var o=a-1,i=0;i<t;i++){var s=nt(i,o),c=n[i];n[i]=n[s],n[s]=c}return n.slice(0,t)}function fr(e){return ur(e,1/0)}function pr(e,t,r){var n=0;return t=Ze(t,r),ar(Vt(e,(function(e,r,a){return{value:e,index:n++,criteria:t(e,r,a)}})).sort((function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index})),"value")}function hr(e,t){return function(r,n,a){var o=t?[[],[]]:{};return n=Ze(n,a),qt(r,(function(t,a){var i=n(t,a,r);e(o,t,i)})),o}}var dr=hr((function(e,t,r){Y(e,r)?e[r].push(t):e[r]=[t]})),mr=hr((function(e,t,r){e[r]=t})),gr=hr((function(e,t,r){Y(e,r)?e[r]++:e[r]=1})),yr=hr((function(e,t,r){e[r?0:1].push(t)}),!0);function br(e){return null==e?0:wt(e)?e.length:ie(e).length}function $r(e,t,r){return t in r}var vr=v((function(e,t){var r={},n=t[0];if(null==e)return r;R(n)?(t.length>1&&(n=Ke(n,t[1])),t=me(e)):(n=$r,t=Et(t,!1,!1),e=Object(e));for(var a=0,o=t.length;a<o;a++){var i=t[a],s=e[i];n(s,i,e)&&(r[i]=s)}return r})),_r=v((function(e,t){var r,n=t[0];return R(n)?(n=It(n),t.length>1&&(r=t[1])):(t=Vt(Et(t,!1,!1),String),n=function(e,r){return!rr(t,r)}),vr(e,n,r)}));function kr(e,t,r){return i.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))}function wr(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[0]:kr(e,e.length-t)}function Er(e,t,r){return i.call(e,null==t||r?1:t)}function xr(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[e.length-1]:Er(e,Math.max(0,e.length-t))}function Sr(e){return Zt(e,Boolean)}function Ar(e,t){return Et(e,t,!1)}var Tr=v((function(e,t){return t=Et(t,!0,!0),Zt(e,(function(e){return!rr(t,e)}))})),Mr=v((function(e,t){return Tr(e,t)}));function Or(e,t,r,n){E(t)||(n=r,r=t,t=!1),null!=r&&(r=Ze(r,n));for(var a=[],o=[],i=0,s=ne(e);i<s;i++){var c=e[i],l=r?r(c,i,e):c;t&&!r?(i&&o===l||a.push(c),o=l):r?rr(o,l)||(o.push(l),a.push(c)):rr(a,c)||a.push(c)}return a}var Cr=v((function(e){return Or(Et(e,!0,!0))}));function Ir(e){for(var t=[],r=arguments.length,n=0,a=ne(e);n<a;n++){var o=e[n];if(!rr(t,o)){var i;for(i=1;i<r&&rr(arguments[i],o);i++);i===r&&t.push(o)}}return t}function Dr(e){for(var t=e&&ir(e,ne).length||0,r=Array(t),n=0;n<t;n++)r[n]=ar(e,n);return r}var Nr=v(Dr);function Pr(e,t){for(var r={},n=0,a=ne(e);n<a;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function Rr(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),a=Array(n),o=0;o<n;o++,e+=r)a[o]=e;return a}function Lr(e,t){if(null==t||t<1)return[];for(var r=[],n=0,a=e.length;n<a;)r.push(i.call(e,n,n+=t));return r}function jr(e,t){return e._chain?le(t).chain():t}function Fr(e){return qt(Ce(e),(function(t){var r=le[t]=e[t];le.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),jr(this,r.apply(le,e))}})),le}qt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=r[e];le.prototype[e]=function(){var r=this._wrapped;return null!=r&&(t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0]),jr(this,r)}})),qt(["concat","join","slice"],(function(e){var t=r[e];le.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),jr(this,e)}}));var Br=Fr({__proto__:null,VERSION:e,restArguments:v,isObject:_,isNull:k,isUndefined:w,isBoolean:E,isElement:x,isString:A,isNumber:T,isDate:M,isRegExp:O,isError:C,isSymbol:I,isArrayBuffer:D,isDataView:U,isArray:z,isFunction:R,isArguments:W,isFinite:q,isNaN:V,isTypedArray:re,isEmpty:se,isMatch:ce,isEqual:de,isMap:Ee,isWeakMap:xe,isSet:Se,isWeakSet:Ae,keys:ie,allKeys:me,values:Te,pairs:Me,invert:Oe,functions:Ce,methods:Ce,extend:De,extendOwn:Ne,assign:Ne,defaults:Pe,create:je,clone:Fe,tap:Be,get:Ye,has:Ge,mapObject:Qe,identity:We,constant:K,noop:et,toPath:He,property:Ve,propertyOf:tt,matcher:qe,matches:qe,times:rt,random:nt,now:at,escape:st,unescape:ct,templateSettings:lt,template:mt,result:gt,uniqueId:bt,chain:$t,iteratee:Xe,partial:_t,bind:kt,bindAll:xt,memoize:St,delay:At,defer:Tt,throttle:Mt,debounce:Ot,wrap:Ct,negate:It,compose:Dt,after:Nt,before:Pt,once:Rt,findKey:Lt,findIndex:Ft,findLastIndex:Bt,sortedIndex:Ht,indexOf:zt,lastIndexOf:Yt,find:Gt,detect:Gt,findWhere:Wt,each:qt,forEach:qt,map:Vt,collect:Vt,reduce:Jt,foldl:Jt,inject:Jt,reduceRight:Xt,foldr:Xt,filter:Zt,select:Zt,reject:Qt,every:er,all:er,some:tr,any:tr,contains:rr,includes:rr,include:rr,invoke:nr,pluck:ar,where:or,max:ir,min:sr,shuffle:fr,sample:ur,sortBy:pr,groupBy:dr,indexBy:mr,countBy:gr,partition:yr,toArray:lr,size:br,pick:vr,omit:_r,first:wr,head:wr,take:wr,initial:kr,last:xr,rest:Er,tail:Er,drop:Er,compact:Sr,flatten:Ar,without:Mr,uniq:Or,unique:Or,union:Cr,intersection:Ir,difference:Tr,unzip:Dr,transpose:Dr,zip:Nr,object:Pr,range:Rr,chunk:Lr,mixin:Fr,default:le});return Br._=Br,Br}()}(underscoreUmd);var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const tailLength_1=__importDefault$3(tailLength),round_1=__importDefault$3(round),underscore_1=underscoreUmd.exports;var significantDimension=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,r=[],n=0;const a=(0,underscore_1.uniq)(e.filter(underscore_1.isFinite)),o=a.length;let i,s;const c=Math.floor(o*(1-t));if(a.length<3)return Math.round(a.reduce((function(e,t){if(!t)return e;const r=Math.log(Math.abs(t))/Math.LN10;return r<8&&r>-3?e+Math.min(3,(0,tailLength_1.default)(a[0])):e+(r>0?-1*(r-1):-1*r)}),0)/a.length);(0,underscore_1.uniq)(a.map(u)).length>c?(i=function(){return(0,underscore_1.uniq)(r).length===o},s=-1):(i=function(){return(0,underscore_1.uniq)(r).length<=c},s=1);let l=100;do{r=a.map(u),n+=s}while(i()&&l-- >0);function u(e){return(0,round_1.default)(e,n)}return l<10&&console.warn("maximum iteration reached",e,r,n),s<0?n+=2:n--,n},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};__importDefault$2(significantDimension),__importDefault$2(round);var TEOF="TEOF",TOP="TOP",TNUMBER="TNUMBER",TSTRING="TSTRING",TPAREN="TPAREN",TBRACKET="TBRACKET",TCOMMA="TCOMMA",TNAME="TNAME",TSEMICOLON="TSEMICOLON";function Token(e,t,r){this.type=e,this.value=t,this.index=r}function TokenStream(e,t){this.pos=0,this.current=null,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.consts=e.consts,this.expression=t,this.savedPosition=0,this.savedCurrent=null,this.options=e.options,this.parser=e}Token.prototype.toString=function(){return this.type+": "+this.value},TokenStream.prototype.newToken=function(e,t,r){return new Token(e,t,null!=r?r:this.pos)},TokenStream.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},TokenStream.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},TokenStream.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(TEOF,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},TokenStream.prototype.isString=function(){var e=!1,t=this.pos,r=this.expression.charAt(t);if("'"===r||'"'===r)for(var n=this.expression.indexOf(r,t+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var a=this.expression.substring(t+1,n);this.current=this.newToken(TSTRING,this.unescape(a),t),e=!0;break}n=this.expression.indexOf(r,n+1)}return e},TokenStream.prototype.isParen=function(){var e=this.expression.charAt(this.pos);return("("===e||")"===e)&&(this.current=this.newToken(TPAREN,e),this.pos++,!0)},TokenStream.prototype.isBracket=function(){var e=this.expression.charAt(this.pos);return!("["!==e&&"]"!==e||!this.isOperatorEnabled("["))&&(this.current=this.newToken(TBRACKET,e),this.pos++,!0)},TokenStream.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(TCOMMA,","),this.pos++,!0)},TokenStream.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(TSEMICOLON,";"),this.pos++,!0)},TokenStream.prototype.isConst=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var r=this.expression.charAt(t);if(r.toUpperCase()===r.toLowerCase()&&(t===this.pos||"_"!==r&&"."!==r&&(r<"0"||r>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(n in this.consts)return this.current=this.newToken(TNUMBER,this.consts[n]),this.pos+=n.length,!0}return!1},TokenStream.prototype.isNamedOp=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var r=this.expression.charAt(t);if(r.toUpperCase()===r.toLowerCase()&&(t===this.pos||"_"!==r&&(r<"0"||r>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(TOP,n),this.pos+=n.length,!0}return!1},TokenStream.prototype.isName=function(){for(var e=this.pos,t=e,r=!1;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()){if(t===this.pos&&("$"===n||"_"===n)){"_"===n&&(r=!0);continue}if(t===this.pos||!r||"_"!==n&&(n<"0"||n>"9"))break}else r=!0}if(r){var a=this.expression.substring(e,t);return this.current=this.newToken(TNAME,a),this.pos+=a.length,!0}return!1},TokenStream.prototype.isWhitespace=function(){for(var e=!1,t=this.expression.charAt(this.pos);!(" "!==t&&"\t"!==t&&"\n"!==t&&"\r"!==t||(e=!0,this.pos++,this.pos>=this.expression.length));)t=this.expression.charAt(this.pos);return e};var codePointPattern=/^[0-9a-f]{4}$/i;TokenStream.prototype.unescape=function(e){var t=e.indexOf("\\");if(t<0)return e;for(var r=e.substring(0,t);t>=0;){var n=e.charAt(++t);switch(n){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":var a=e.substring(t+1,t+5);codePointPattern.test(a)||this.parseError("Illegal escape sequence: \\u"+a),r+=String.fromCharCode(parseInt(a,16)),t+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++t;var o=e.indexOf("\\",t);r+=e.substring(t,o<0?e.length:o),t=o}return r},TokenStream.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},TokenStream.prototype.isRadixInteger=function(){var e,t,r=this.pos;if(r>=this.expression.length-2||"0"!==this.expression.charAt(r))return!1;if(++r,"x"===this.expression.charAt(r))e=16,t=/^[0-9a-f]$/i,++r;else{if("b"!==this.expression.charAt(r))return!1;e=2,t=/^[01]$/i,++r}for(var n=!1,a=r;r<this.expression.length;){var o=this.expression.charAt(r);if(!t.test(o))break;r++,n=!0}return n&&(this.current=this.newToken(TNUMBER,parseInt(this.expression.substring(a,r),e)),this.pos=r),n},TokenStream.prototype.isNumber=function(){for(var e,t=!1,r=this.pos,n=r,a=r,o=!1,i=!1;r<this.expression.length&&((e=this.expression.charAt(r))>="0"&&e<="9"||!o&&"."===e);)"."===e?o=!0:i=!0,r++,t=i;if(t&&(a=r),"e"===e||"E"===e){r++;for(var s=!0,c=!1;r<this.expression.length;){if(e=this.expression.charAt(r),!s||"+"!==e&&"-"!==e){if(!(e>="0"&&e<="9"))break;c=!0,s=!1}else s=!1;r++}c||(r=a)}return t?(this.current=this.newToken(TNUMBER,parseFloat(this.expression.substring(n,r))),this.pos=r):this.pos=a,t},TokenStream.prototype.isOperator=function(){var e=this.pos,t=this.expression.charAt(this.pos);if("+"===t||"-"===t||"*"===t||"/"===t||"%"===t||"^"===t||"?"===t||":"===t||"."===t)this.current=this.newToken(TOP,t);else if("∙"===t||"•"===t)this.current=this.newToken(TOP,"*");else if(">"===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,">="),this.pos++):this.current=this.newToken(TOP,">");else if("<"===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,"<="),this.pos++):this.current=this.newToken(TOP,"<");else if("|"===t){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(TOP,"||"),this.pos++}else if("="===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,"=="),this.pos++):this.current=this.newToken(TOP,t);else{if("!"!==t)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,"!="),this.pos++):this.current=this.newToken(TOP,t)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=e,!1)},TokenStream.prototype.isOperatorEnabled=function(e){return this.parser.isOperatorEnabled(e)},TokenStream.prototype.getCoordinates=function(){var e,t=0,r=-1;do{t++,e=this.pos-r,r=this.expression.indexOf("\n",r+1)}while(r>=0&&r<this.pos);return{line:t,column:e}},TokenStream.prototype.parseError=function(e){var t=this.getCoordinates();throw new Error("parse error ["+t.line+":"+t.column+"]: "+e)};var INUMBER="INUMBER",IOP1="IOP1",IOP2="IOP2",IOP3="IOP3",IVAR="IVAR",IVARNAME="IVARNAME",IFUNCALL="IFUNCALL",IFUNDEF="IFUNDEF",IEXPR="IEXPR",IEXPREVAL="IEXPREVAL",IMEMBER="IMEMBER",IENDSTATEMENT="IENDSTATEMENT",IARRAY="IARRAY";function Instruction(e,t){this.type=e,this.value=null!=t?t:0}function unaryInstruction(e){return new Instruction(IOP1,e)}function binaryInstruction(e){return new Instruction(IOP2,e)}function ternaryInstruction(e){return new Instruction(IOP3,e)}function contains(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1}function ParserState(e,t,r){this.parser=e,this.tokens=t,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==r.allowMemberAccess,this.restrictMemberAccess=new Set(r.restrictMemberAccess||[])}Instruction.prototype.toString=function(){switch(this.type){case INUMBER:case IOP1:case IOP2:case IOP3:case IVAR:case IVARNAME:case IENDSTATEMENT:return this.value;case IFUNCALL:return"CALL "+this.value;case IFUNDEF:return"DEF "+this.value;case IARRAY:return"ARRAY "+this.value;case IMEMBER:return"."+this.value;default:return"Invalid Instruction"}},ParserState.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},ParserState.prototype.tokenMatches=function(e,t){return void 0===t||(Array.isArray(t)?contains(t,e.value):"function"==typeof t?t(e):e.value===t)},ParserState.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},ParserState.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},ParserState.prototype.accept=function(e,t){return!(this.nextToken.type!==e||!this.tokenMatches(this.nextToken,t))&&(this.next(),!0)},ParserState.prototype.expect=function(e,t){if(!this.accept(e,t)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(t||e))}},ParserState.prototype.parseAtom=function(e){var t=this.tokens.unaryOps;if(this.accept(TNAME)||this.accept(TOP,(function(e){return e.value in t})))e.push(new Instruction(IVAR,this.current.value));else if(this.accept(TNUMBER))e.push(new Instruction(INUMBER,this.current.value));else if(this.accept(TSTRING))e.push(new Instruction(INUMBER,this.current.value));else if(this.accept(TPAREN,"("))this.parseExpression(e),this.expect(TPAREN,")");else{if(!this.accept(TBRACKET,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(TBRACKET,"]"))e.push(new Instruction(IARRAY,0));else{var r=this.parseArrayList(e);e.push(new Instruction(IARRAY,r))}}},ParserState.prototype.parseExpression=function(e){var t=[];this.parseUntilEndStatement(e,t)||(this.parseVariableAssignmentExpression(t),this.parseUntilEndStatement(e,t)||this.pushExpression(e,t))},ParserState.prototype.pushExpression=function(e,t){for(var r=0,n=t.length;r<n;r++)e.push(t[r])},ParserState.prototype.parseUntilEndStatement=function(e,t){return!!this.accept(TSEMICOLON)&&(!this.nextToken||this.nextToken.type===TEOF||this.nextToken.type===TPAREN&&")"===this.nextToken.value||t.push(new Instruction(IENDSTATEMENT)),this.nextToken.type!==TEOF&&this.parseExpression(t),e.push(new Instruction(IEXPR,t)),!0)},ParserState.prototype.parseArrayList=function(e){for(var t=0;!this.accept(TBRACKET,"]");)for(this.parseExpression(e),++t;this.accept(TCOMMA);)this.parseExpression(e),++t;return t},ParserState.prototype.parseVariableAssignmentExpression=function(e){for(this.parseConditionalExpression(e);this.accept(TOP,"=");){var t=e.pop(),r=[],n=e.length-1;if(t.type!==IFUNCALL){if(t.type!==IVAR&&t.type!==IMEMBER)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),e.push(new Instruction(IVARNAME,t.value)),e.push(new Instruction(IEXPR,r)),e.push(binaryInstruction("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var a=0,o=t.value+1;a<o;a++){var i=n-a;e[i].type===IVAR&&(e[i]=new Instruction(IVARNAME,e[i].value))}this.parseVariableAssignmentExpression(r),e.push(new Instruction(IEXPR,r)),e.push(new Instruction(IFUNDEF,t.value))}}},ParserState.prototype.parseConditionalExpression=function(e){for(this.parseOrExpression(e);this.accept(TOP,"?");){var t=[],r=[];this.parseConditionalExpression(t),this.expect(TOP,":"),this.parseConditionalExpression(r),e.push(new Instruction(IEXPR,t)),e.push(new Instruction(IEXPR,r)),e.push(ternaryInstruction("?"))}},ParserState.prototype.parseOrExpression=function(e){for(this.parseAndExpression(e);this.accept(TOP,"or");){var t=[];this.parseAndExpression(t),e.push(new Instruction(IEXPR,t)),e.push(binaryInstruction("or"))}},ParserState.prototype.parseAndExpression=function(e){for(this.parseComparison(e);this.accept(TOP,"and");){var t=[];this.parseComparison(t),e.push(new Instruction(IEXPR,t)),e.push(binaryInstruction("and"))}};var COMPARISON_OPERATORS=["==","!=","<","<=",">=",">","in"];ParserState.prototype.parseComparison=function(e){for(this.parseAddSub(e);this.accept(TOP,COMPARISON_OPERATORS);){var t=this.current;this.parseAddSub(e),e.push(binaryInstruction(t.value))}};var ADD_SUB_OPERATORS=["+","-","||"];ParserState.prototype.parseAddSub=function(e){for(this.parseTerm(e);this.accept(TOP,ADD_SUB_OPERATORS);){var t=this.current;this.parseTerm(e),e.push(binaryInstruction(t.value))}};var TERM_OPERATORS=["*","/","%"];function add(e,t){return Number(e)+Number(t)}function sub(e,t){return e-t}function mul(e,t){return e*t}function div(e,t){return e/t}function mod(e,t){return e%t}function equal(e,t){return e===t}function notEqual(e,t){return e!==t}function greaterThan(e,t){return e>t}function lessThan(e,t){return e<t}function greaterThanEqual(e,t){return e>=t}function lessThanEqual(e,t){return e<=t}function andOperator(e,t){return Boolean(e&&t)}function orOperator(e,t){return Boolean(e||t)}function log10(e){return Math.log(e)*Math.LOG10E}function neg(e){return-e}function not(e){return!e}function trunc(e){return e<0?Math.ceil(e):Math.floor(e)}function random(e){return Math.random()*(e||1)}function stringOrArrayLength(e){return Array.isArray(e)?e.length:String(e).length}function condition(e,t,r){return e?t:r}function roundTo(e,t){return void 0===t||0==+t?Math.round(e):(e=+e,t=-+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]-t:-t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+t:t))))}function arrayIndex(e,t){return e[0|t]}function max(e){return 1===arguments.length&&Array.isArray(e)?Math.max.apply(Math,e):Math.max.apply(Math,arguments)}function min(e){return 1===arguments.length&&Array.isArray(e)?Math.min.apply(Math,e):Math.min.apply(Math,arguments)}function arrayMap(e,t){if("function"!=typeof e)throw new Error("First argument to map is not a function");if(!Array.isArray(t))throw new Error("Second argument to map is not an array");return t.map((function(t,r){return e(t,r)}))}function arrayFold(e,t,r){if("function"!=typeof e)throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce((function(t,r,n){return e(t,r,n)}),t)}function arrayFilter(e,t){if("function"!=typeof e)throw new Error("First argument to filter is not a function");if(!Array.isArray(t))throw new Error("Second argument to filter is not an array");return t.filter((function(t,r){return e(t,r)}))}function sign(e){return(e>0)-(e<0)||+e}function log1p(e){return Math.log(1+e)}function log2(e){return Math.log(e)/Math.LN2}function sum(e){if(!Array.isArray(e))throw new Error("Sum argument is not an array");return e.reduce((function(e,t){return e+Number(t)}),0)}function evaluate(e,t,r){var n,a,o,i,s,c,l=[];if(isExpressionEvaluator(e))return resolveExpression(e,r);for(var u=e.length,f=0;f<u;f++){var p=e[f],h=p.type;if(h===INUMBER||h===IVARNAME)l.push(p.value);else if(h===IOP2)a=l.pop(),n=l.pop(),"and"===p.value?l.push(!!n&&!!evaluate(a,t,r)):"or"===p.value?l.push(!!n||!!evaluate(a,t,r)):"="===p.value?(i=t.binaryOps[p.value],l.push(i(n,evaluate(a,t,r),r))):(i=t.binaryOps[p.value],l.push(i(resolveExpression(n,r),resolveExpression(a,r))));else if(h===IOP3)o=l.pop(),a=l.pop(),n=l.pop(),"?"===p.value?l.push(evaluate(n?a:o,t,r)):(i=t.ternaryOps[p.value],l.push(i(resolveExpression(n,r),resolveExpression(a,r),resolveExpression(o,r))));else if(h===IVAR){if(/^__proto__|prototype|constructor$/.test(p.value))throw new Error("prototype access detected");if(p.value in t.functions)l.push(t.functions[p.value]);else if(p.value in t.unaryOps&&t.parser.isOperatorEnabled(p.value))l.push(t.unaryOps[p.value]);else{var d=r[p.value];if(void 0===d)throw new Error("undefined variable: "+p.value);l.push(d)}}else if(h===IOP1)n=l.pop(),i=t.unaryOps[p.value],l.push(i(resolveExpression(n,r)));else if(h===IFUNCALL){for(c=p.value,s=[];c-- >0;)s.unshift(resolveExpression(l.pop(),r));if(!(i=l.pop()).apply||!i.call)throw new Error(i+" is not a function");l.push(i.apply(void 0,s))}else if(h===IFUNDEF)l.push(function(){for(var e=l.pop(),n=[],a=p.value;a-- >0;)n.unshift(l.pop());var o=l.pop(),i=function(){for(var a=Object.assign({},r),o=0,i=n.length;o<i;o++)a[n[o]]=arguments[o];return evaluate(e,t,a)};return Object.defineProperty(i,"name",{value:o,writable:!1}),r[o]=i,i}());else if(h===IEXPR)l.push(createExpressionEvaluator(p,t));else if(h===IEXPREVAL)l.push(p);else if(h===IMEMBER)n=l.pop(),l.push(n[p.value]);else if(h===IENDSTATEMENT)l.pop();else{if(h!==IARRAY)throw new Error("invalid Expression");for(c=p.value,s=[];c-- >0;)s.unshift(l.pop());l.push(s)}}if(l.length>1)throw new Error("invalid Expression (parity)");return 0===l[0]?0:resolveExpression(l[0],r)}function createExpressionEvaluator(e,t,r){return isExpressionEvaluator(e)?e:{type:IEXPREVAL,value:function(r){return evaluate(e.value,t,r)}}}function isExpressionEvaluator(e){return e&&e.type===IEXPREVAL}function resolveExpression(e,t){return isExpressionEvaluator(e)?e.value(t):e}function Expression(e,t){this.tokens=e,this.parser=t,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.functions=t.functions}function trim(e){return e.trim()}ParserState.prototype.parseTerm=function(e){for(this.parseFactor(e);this.accept(TOP,TERM_OPERATORS);){var t=this.current;this.parseFactor(e),e.push(binaryInstruction(t.value))}},ParserState.prototype.parseFactor=function(e){var t=this.tokens.unaryOps;if(this.save(),this.accept(TOP,(function(e){return e.value in t}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===TPAREN&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(e);if(this.nextToken.type===TSEMICOLON||this.nextToken.type===TCOMMA||this.nextToken.type===TEOF||this.nextToken.type===TPAREN&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(e)}var r=this.current;this.parseFactor(e),e.push(unaryInstruction(r.value))}else this.parseExponential(e)},ParserState.prototype.parseExponential=function(e){for(this.parsePostfixExpression(e);this.accept(TOP,"^");)this.parseFactor(e),e.push(binaryInstruction("^"))},ParserState.prototype.parsePostfixExpression=function(e){for(this.parseFunctionCall(e);this.accept(TOP,"!");)e.push(unaryInstruction("!"))},ParserState.prototype.parseFunctionCall=function(e){var t=this.tokens.unaryOps;if(this.accept(TOP,(function(e){return e.value in t}))){var r=this.current;this.parseAtom(e),e.push(unaryInstruction(r.value))}else for(this.parseMemberExpression(e);this.accept(TPAREN,"(");)if(this.accept(TPAREN,")"))e.push(new Instruction(IFUNCALL,0));else{var n=this.parseArgumentList(e);e.push(new Instruction(IFUNCALL,n))}},ParserState.prototype.parseArgumentList=function(e){for(var t=0;!this.accept(TPAREN,")");)for(this.parseExpression(e),++t;this.accept(TCOMMA);)this.parseExpression(e),++t;return t},ParserState.prototype.parseMemberExpression=function(e){for(this.parseAtom(e);this.accept(TOP,".")||this.accept(TBRACKET,"[");){var t=this.current;if("."===t.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(TNAME),e.push(new Instruction(IMEMBER,this.current.value))}else{if("["!==t.value)throw new Error("unexpected symbol: "+t.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(e),this.expect(TBRACKET,"]"),e.push(binaryInstruction("["))}}},Expression.prototype.evaluate=function(e){return e=e||{},evaluate(this.tokens,this,e)},Expression.prototype.variables=function(){return(this.tokens||[]).filter((e=>"IVAR"===e.type)).map((e=>e.value))};const RESTRICT_MEMBER_ACCESS=new Set(["__proto__","prototype","constructor"]);function Parser(e){this.options=e||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||log2,LN:Math.log,LOG10:Math.log10||log10,LG:Math.log10||log10,LOG1P:Math.log1p||log1p,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:e=>null===e,TRUNC:Math.trunc||trunc,"-":neg,"+":Number,EXP:Math.exp,NOT:not,LENGTH:stringOrArrayLength,"!":not,SIGN:Math.sign||sign,TEXT:e=>t(e)?e.toISOString():String(e),NUMBER:Number},this.binaryOps={"+":add,"-":sub,"*":mul,"/":div,"%":mod,"^":Math.pow,"==":equal,"!=":notEqual,">":greaterThan,"<":lessThan,">=":greaterThanEqual,"<=":lessThanEqual,and:andOperator,or:orOperator,in:(e,t)=>Array.isArray(t)?t.includes(e):String(t).includes(e),"[":arrayIndex},this.ternaryOps={"?":condition};const t=e=>e instanceof Date&&!isNaN(e),r=e=>{if(t(e))return e;try{const r=new Date(e);return t(r)?r:null}catch(e){return null}};function n(e){return(1===arguments.length&&Array.isArray(e)?e:Array.from(arguments)).slice(0).filter((e=>!isNaN(e)&&Number.isFinite(e)))}let a=/\w*/g,o=/\w\S*/g;const i=/[\\^$*+?.()|[\]{}]/g;try{a=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(e){}this.functions={IF:condition,RANDOM:random,MIN(){return min(n.apply(this,arguments))},MAX(){return max(n.apply(this,arguments))},SUM(){return sum(n.apply(this,arguments))},MEAN(){const e=n.apply(this,arguments);return sum(e)/e.length},MEDIAN(){const e=n.apply(this,arguments).sort(((e,t)=>e-t)),t=Math.floor(e.length/2);return e.length%2==1?e[t]:.5*(e[t-1]+e[t])},POW:Math.pow,ATAN2:Math.atan2,ROUND:roundTo,CONCAT(){return Array.from(arguments).join("")},TRIM:trim,SUBSTR:(e,t,r)=>e.substr(t,r),REPLACE:(e,t,r)=>e.replace(new RegExp(String(t).replace(i,"\\$&"),"g"),r),REPLACE_REGEX:(e,t,r)=>e.replace(new RegExp(t,"g"),r),SPLIT:(e,t)=>String(e).split(t),LOWER:e=>String(e).toLowerCase(),UPPER:e=>String(e).toUpperCase(),PROPER:e=>String(e).replace(a,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())),TITLE:e=>String(e).replace(o,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())),SORT(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(RESTRICT_MEMBER_ACCESS.has(r))throw new Error("Invalid key");if(!Array.isArray(e))throw new Error("First argument to SORT is not an array");return e.slice(0).sort(((e,n)=>((e="string"==typeof r?e[r]:"function"==typeof r?r(e):e)>(n="string"==typeof r?n[r]:"function"==typeof r?r(n):n)?1:e<n?-1:0)*(t?1:-1)))},SLICE(e,t,r){if(!Array.isArray(e))throw new Error("First argument to SLICE is not an array");return e.slice(t,r)},JOIN(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(e))throw new Error("First argument to JOIN is not an array");return r?[e.slice(0,e.length-1).join(t),e[e.length-1]].join(r):e.join(t)},MAP:arrayMap,FOLD:arrayFold,FILTER:arrayFilter,PLUCK(e,t){if(RESTRICT_MEMBER_ACCESS.has(t))throw new Error("Invalid key");if(!Array.isArray(e))throw new Error("First argument to PLUCK is not an array");return e.map((e=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:null))},INDEXOF:(e,t)=>(Array.isArray(e)||(e=String(e)),e.indexOf(t)),FIND(e,t){if(!Array.isArray(e))throw new Error("First argument to FIND is not an array");if("function"!=typeof t)throw new Error("Second argument to FIND is not a function");const r=e.length;for(let n=0;n<r;n++)if(t(e[n]))return e[n];return null},RANGE(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),a=Array(n),o=0;o<n;o++,e+=r)a[o]=e;return a},EVERY(e,t){if(!Array.isArray(e))throw new Error("First argument to EVERY is not an array");if("function"!=typeof t)throw new Error("Second argument to EVERY is not a function");const r=e.length;let n=!0;for(let a=0;a<r;a++)if(n=n&&t(e[a]),!n)return!1;return!0},SOME(e,t){if(!Array.isArray(e))throw new Error("First argument to SOME is not an array");if("function"!=typeof t)throw new Error("Second argument to SOME is not a function");const r=e.length;let n=!1;for(let a=0;a<r;a++)if(n=n||t(e[a]),n)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:e=>(e=r(e))?e.getFullYear():null,MONTH:e=>(e=r(e))?e.getMonth()+1:null,DAY:e=>(e=r(e))?e.getDate():null,WEEKDAY:e=>(e=r(e))?e.getDay():null,HOURS:e=>(e=r(e))?e.getHours():null,MINUTES:e=>(e=r(e))?e.getMinutes():null,SECONDS:e=>(e=r(e))?e.getSeconds():null,DATEDIFF:(e,t)=>(e=r(e),t=r(t),e&&t?(t.getTime()-e.getTime())/864e5:null),TIMEDIFF:(e,t)=>(e=r(e),t=r(t),e&&t?(t.getTime()-e.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}Parser.prototype.parse=function(e){var t=[],r=new ParserState(this,new TokenStream(this,e),{allowMemberAccess:!0,restrictMemberAccess:RESTRICT_MEMBER_ACCESS});return r.parseExpression(t),r.expect(TEOF,"EOF"),new Expression(t,this)},Parser.prototype.evaluate=function(e,t){return this.parse(e).evaluate(t)};var sharedParser=new Parser;Parser.parse=function(e){return sharedParser.parse(e)},Parser.evaluate=function(e,t){return sharedParser.parse(e).evaluate(t)},Parser.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var optionNameMap={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function getOptionName(e){return Object.prototype.hasOwnProperty.call(optionNameMap,e)?optionNameMap[e]:e}function width(e){const t=parseFloat(getComputedStyle(e,null).width.replace("px",""));return isNaN(t)?0:t}function domReady(e){/complete|interactive|loaded/.test(document.readyState)?e():window.addEventListener("DOMContentLoaded",(()=>{e()}))}function getHeightMode(e){let{themeData:t,visualizationMeta:r,renderFlags:n}=e;return get_1(t,"vis.d3-pies.fitchart",!1)&&["d3-pies","d3-donuts","d3-multiple-pies","d3-multiple-donuts"].includes(r.id)||n.fitchart||"fixed"!==r.height?"fit":"fixed"}Parser.prototype.isOperatorEnabled=function(e){var t=getOptionName(e),r=this.options.operators||{};return!(t in r)||!!r[t]};var fontfaceobserver_standalone={exports:{}};!function(e){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function r(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function a(e){var t=e.a.offsetWidth,r=t+100;return e.f.style.width=r+"px",e.c.scrollLeft=r,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function o(e,r){function n(){var e=o;a(e)&&e.a.parentNode&&r(e.g)}var o=e;t(e.b,n),t(e.c,n),a(e)}function i(e,t){var r=t||{};this.family=e,this.style=r.style||"normal",this.weight=r.weight||"normal",this.stretch=r.stretch||"normal"}var s=null,c=null,l=null,u=null;function f(){return null===u&&(u=!!document.fonts),u}function p(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}l=""!==e.style.font}return l}function h(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}i.prototype.load=function(e,t){var a=this,i=e||"BESbswy",l=0,u=t||3e3,p=(new Date).getTime();return new Promise((function(e,t){if(f()&&!function(){if(null===c)if(f()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}()){var d=new Promise((function(e,t){!function r(){(new Date).getTime()-p>=u?t(Error(u+"ms timeout exceeded")):document.fonts.load(h(a,'"'+a.family+'"'),i).then((function(t){1<=t.length?e():setTimeout(r,25)}),t)}()})),m=new Promise((function(e,t){l=setTimeout((function(){t(Error(u+"ms timeout exceeded"))}),u)}));Promise.race([m,d]).then((function(){clearTimeout(l),e(a)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function c(){var t;(t=-1!=g&&-1!=y||-1!=g&&-1!=b||-1!=y&&-1!=b)&&((t=g!=y&&g!=b&&y!=b)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(g==$&&y==$&&b==$||g==v&&y==v&&b==v||g==_&&y==_&&b==_)),t=!t),t&&(k.parentNode&&k.parentNode.removeChild(k),clearTimeout(l),e(a))}var f=new r(i),d=new r(i),m=new r(i),g=-1,y=-1,b=-1,$=-1,v=-1,_=-1,k=document.createElement("div");k.dir="ltr",n(f,h(a,"sans-serif")),n(d,h(a,"serif")),n(m,h(a,"monospace")),k.appendChild(f.a),k.appendChild(d.a),k.appendChild(m.a),document.body.appendChild(k),$=f.a.offsetWidth,v=d.a.offsetWidth,_=m.a.offsetWidth,function e(){if((new Date).getTime()-p>=u)k.parentNode&&k.parentNode.removeChild(k),t(Error(u+"ms timeout exceeded"));else{var r=document.hidden;!0!==r&&void 0!==r||(g=f.a.offsetWidth,y=d.a.offsetWidth,b=m.a.offsetWidth,c()),l=setTimeout(e,50)}}(),o(f,(function(e){g=e,c()})),n(f,h(a,'"'+a.family+'",sans-serif')),o(d,(function(e){y=e,c()})),n(d,h(a,'"'+a.family+'",serif')),o(m,(function(e){b=e,c()})),n(m,h(a,'"'+a.family+'",monospace'))}))}))},e.exports=i}()}(fontfaceobserver_standalone);var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const fontfaceobserver_1=__importDefault$1(fontfaceobserver_standalone.exports);var observeFonts=function(e,t){const r=new Set(Array.isArray(e)?[]:Object.keys(e).filter((t=>"font"===e[t].type))),n=[];Object.keys(t.fontFamilies||{}).forEach((e=>{t.fontFamilies[e].forEach((t=>{r.has(t.name)&&(r.delete(t.name),n.push({family:e,props:{weight:t.weight||400,style:t.style||"normal"}}))}))}));const a=[];return r.forEach((e=>{const t=new fontfaceobserver_1.default(e);a.push(t.load(null,5e3))})),n.forEach((e=>{const t=new fontfaceobserver_1.default(e.family,e.props);a.push(t.load(null,5e3))})),Promise.all(a)},fetch$1={},getValueOrDefault$1={};Object.defineProperty(getValueOrDefault$1,"__esModule",{value:!0}),getValueOrDefault$1.getValueOrDefault=void 0;const getValueOrDefault=(e,t,r)=>e&&t(e)?e:r();getValueOrDefault$1.getValueOrDefault=getValueOrDefault,Object.defineProperty(fetch$1,"__esModule",{value:!0});var loadStylesheet_1=fetch$1.loadStylesheet=loadScript_1=fetch$1.loadScript=fetch$1.deleteJSON=fetch$1.patchJSON=fetch$1.putJSON=fetch$1.postJSON=fetch$1.getJSON=fetch$1.fetchJSON=void 0;const getValueOrDefault_1=getValueOrDefault$1;function fetchJSON(e,t,r,n,a){const o={method:t,body:n,mode:"cors",credentials:r};return window.fetch(e,o).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.text()})).then((e=>{try{return JSON.parse(e)}catch(t){return console.warn("malformed json input",e),e}})).then((e=>(a&&a(e),e))).catch((e=>{if(!a)throw e;console.error(e)}))}function getJSON(e,t,r){let n,a;return 2===arguments.length&&"function"==typeof t?(a=t,n="include"):1===arguments.length?(a=void 0,n="include"):(a=r,n=t),fetchJSON(e,"GET",n,null,a)}function postJSON(e,t,r){return fetchJSON(e,"POST","include",t,r)}function putJSON(e,t,r){return fetchJSON(e,"PUT","include",t,r)}function patchJSON(e,t,r){return fetchJSON(e,"PATCH","include",t,r)}function deleteJSON(e,t){return fetchJSON(e,"DELETE","include",null,t)}function loadScript(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(((r,n)=>{const a=document.createElement("script");a.src=e,a.onload=()=>{t&&t(),r()},a.onerror=n,document.body.appendChild(a)}))}fetch$1.fetchJSON=fetchJSON,fetch$1.getJSON=getJSON,fetch$1.postJSON=postJSON,fetch$1.putJSON=putJSON,fetch$1.patchJSON=patchJSON,fetch$1.deleteJSON=deleteJSON;var loadScript_1=fetch$1.loadScript=loadScript;function loadStylesheet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"string"==typeof e&&(e={src:e});const r=e,n=(0,getValueOrDefault_1.getValueOrDefault)(r.parentElement,(e=>"function"==typeof e.appendChild),(()=>document.head));return new Promise(((e,a)=>{const o=document.createElement("link");o.rel="stylesheet",o.href=r.src,o.onload=()=>{t&&t(),e()},o.onerror=a,n.appendChild(o)}))}loadStylesheet_1=fetch$1.loadStylesheet=loadStylesheet;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const chroma_js_1=__importDefault(chroma$1.exports),MAX_ITER=10,EPS=.01;function invertColor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8;const a=(0,chroma_js_1.default)(e).alpha(1),o=(0,chroma_js_1.default)(e).alpha();if(0===o)return e;const i=a.lab()[0],s=(0,chroma_js_1.default)(r).lab()[0],c=(0,chroma_js_1.default)(t).lab()[0],l=computeContrast(e,r);if(Math.abs(l-1)<EPS)return t;const u=s>i,f=u?$(c,100,MAX_ITER):$(0,c,MAX_ITER),p=f.lab()[0],h=100*Math.pow(p/100,n),d=f.set("lab.l",h).hex();if(1===o)return d;const m=chroma_js_1.default.mix(t,d,o,"rgb"),g=chroma_js_1.default.contrast(t,m),y=g*getContrastBoost(g,1.05),b=correctOpacity(d,t,o,y);return(0,chroma_js_1.default)(d).alpha(b).hex();function $(r,n,a){const o=.5*(r+n),i=(0,chroma_js_1.default)(e).set("lab.l",o),s=computeContrast(t,i);if(Math.abs(s-l)<EPS||!a)return i;const f=o>c,p=f&&u||!f&&u;return p&&s>l||!p&&s<l?$(r,o,a-1):$(o,n,a-1)}}function computeContrast(e,t){return chroma_js_1.default.contrast(e,t)}function getContrastBoost(e,t){return 1+(e<1.5?1:e>3?0:1-(e-1.5)/1.5)*(t-1)}function correctOpacity(e,t,r,n){const a=chroma_js_1.default.mix(t,e,r,"rgb");return chroma_js_1.default.contrast(a,t)-n>-.01||!r?r:function r(a,o,i){const s=(a+o)/2,c=chroma_js_1.default.mix(t,e,s,"rgb"),l=chroma_js_1.default.contrast(c,t);if(Math.abs(l-n)<.01||!i)return s;return l<n?r(s,o,i-1):r(a,s,i-1)}(r,1,10)}var invertColor_1=invertColor;function _call(e,t,r){if(r)return t?t(e()):e();try{var n=Promise.resolve(e());return t?n.then(t):n}catch(e){return Promise.reject(e)}}function _await$1(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function _async$1(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function _empty(){}function _invokeIgnored(e){var t=e();if(t&&t.then)return t.then(_empty)}function _catch(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}function _continueIgnored(e){if(e&&e.then)return e.then(_empty)}function _invoke(e,t){var r=e();return r&&r.then?r.then(t):t(r)}function get_each_context(e,t,r){const n=e.slice();return n[71]=t[r],n}function get_each_context_1(e,t,r){const n=e.slice();return n[74]=t[r],n}function get_each_context_2(e,t,r){const n=e.slice();return n[71]=t[r],n[78]=r,n}function create_if_block_7(e){let t,r,n,a,o,i,s;const c=[create_if_block_9,create_else_block],l=[];function u(e,t){return e[5].headerRight.length?1:0}t=u(e),r=l[t]=c[t](e),a=new BlocksRegion({props:{name:"dw-below-header",blocks:e[5].belowHeader,emotion:e[4],styles:belowHeaderStyles}});let f=!e[7]&&create_if_block_8(e);return{c(){r.c(),n=space(),create_component(a.$$.fragment),o=space(),f&&f.c(),i=empty()},m(e,r){l[t].m(e,r),insert(e,n,r),mount_component(a,e,r),insert(e,o,r),f&&f.m(e,r),insert(e,i,r),s=!0},p(e,o){let s=t;t=u(e),t===s?l[t].p(e,o):(group_outros(),transition_out(l[s],1,1,(()=>{l[s]=null})),check_outros(),r=l[t],r?r.p(e,o):(r=l[t]=c[t](e),r.c()),transition_in(r,1),r.m(n.parentNode,n));const p={};32&o[0]&&(p.blocks=e[5].belowHeader),16&o[0]&&(p.emotion=e[4]),a.$set(p),e[7]?f&&(group_outros(),transition_out(f,1,1,(()=>{f=null})),check_outros()):f?(f.p(e,o),128&o[0]&&transition_in(f,1)):(f=create_if_block_8(e),f.c(),transition_in(f,1),f.m(i.parentNode,i))},i(e){s||(transition_in(r),transition_in(a.$$.fragment,e),transition_in(f),s=!0)},o(e){transition_out(r),transition_out(a.$$.fragment,e),transition_out(f),s=!1},d(e){l[t].d(e),e&&detach(n),destroy_component(a,e),e&&detach(o),f&&f.d(e),e&&detach(i)}}}function create_else_block(e){let t,r,n,a,o,i;return r=new BlocksRegion({props:{name:"dw-chart-header-left",emotion:e[4],blocks:e[5].header,id:"header"}}),a=new BlocksRegion({props:{name:"dw-chart-header-right",emotion:e[4],blocks:e[5].headerRight}}),{c(){t=element("div"),create_component(r.$$.fragment),n=space(),create_component(a.$$.fragment),attr(t,"class",o="dw-chart-header has-header-right "+(e[4]?chartHeaderStyles(e[4],e[8]):"")+" svelte-o2k253"),toggle_class(t,"has-menu",!e[7]&&e[5].menu.length)},m(e,o){insert(e,t,o),mount_component(r,t,null),append$1(t,n),mount_component(a,t,null),i=!0},p(e,n){const s={};16&n[0]&&(s.emotion=e[4]),32&n[0]&&(s.blocks=e[5].header),r.$set(s);const c={};16&n[0]&&(c.emotion=e[4]),32&n[0]&&(c.blocks=e[5].headerRight),a.$set(c),(!i||272&n[0]&&o!==(o="dw-chart-header has-header-right "+(e[4]?chartHeaderStyles(e[4],e[8]):"")+" svelte-o2k253"))&&attr(t,"class",o),(!i||432&n[0])&&toggle_class(t,"has-menu",!e[7]&&e[5].menu.length)},i(e){i||(transition_in(r.$$.fragment,e),transition_in(a.$$.fragment,e),i=!0)},o(e){transition_out(r.$$.fragment,e),transition_out(a.$$.fragment,e),i=!1},d(e){e&&detach(t),destroy_component(r),destroy_component(a)}}}function create_if_block_9(e){let t,r;return t=new BlocksRegion({props:{name:"dw-chart-header",blocks:e[5].header,id:"header",emotion:e[4],styles:chartHeaderStyles}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};32&r[0]&&(n.blocks=e[5].header),16&r[0]&&(n.emotion=e[4]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_8(e){let t,r;return t=new Menu({props:{name:"dw-chart-menu",props:e[13],blocks:e[5].menu,emotion:e[4]}}),{c(){create_component(t.$$.fragment)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};8192&r[0]&&(n.props=e[13]),32&r[0]&&(n.blocks=e[5].menu),16&r[0]&&(n.emotion=e[4]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_6(e){let t,r=purifyHtml(e[15],e[19])+"";return{c(){t=element("div"),attr(t,"class","sr-only svelte-o2k253")},m(e,n){insert(e,t,n),t.innerHTML=r},p(e,n){32768&n[0]&&r!==(r=purifyHtml(e[15],e[19])+"")&&(t.innerHTML=r)},d(e){e&&detach(t)}}}function create_if_block_5(e){let t,r,n=e[0].data.template.afterChart+"";return{c(){t=new HtmlTag(!1),r=empty(),t.a=r},m(e,a){t.m(n,e,a),insert(e,r,a)},p(e,r){1&r[0]&&n!==(n=e[0].data.template.afterChart+"")&&t.p(n)},d(e){e&&detach(r),e&&t.d()}}}function create_if_block_1(e){let t,r,n,a,o,i,s;t=new BlocksRegion({props:{name:"dw-above-footer",blocks:e[5].aboveFooter,emotion:e[4],styles:aboveFooterStyles}});let c=["Left","Center","Right"],l=[];for(let t=0;t<3;t+=1)l[t]=create_each_block_1(get_each_context_1(e,c,t));const u=e=>transition_out(l[e],1,1,(()=>{l[e]=null}));return i=new BlocksRegion({props:{name:"dw-below-footer",blocks:e[5].belowFooter,emotion:e[4],styles:belowFooterStyles}}),{c(){create_component(t.$$.fragment),r=space(),n=element("div");for(let e=0;e<3;e+=1)l[e].c();o=space(),create_component(i.$$.fragment),attr(n,"id","footer"),attr(n,"class",a="dw-chart-footer "+(e[4]?chartFooterStyles(e[4],e[8],e[7]):"")+" svelte-o2k253")},m(e,a){mount_component(t,e,a),insert(e,r,a),insert(e,n,a);for(let e=0;e<3;e+=1)l[e].m(n,null);insert(e,o,a),mount_component(i,e,a),s=!0},p(e,r){const o={};if(32&r[0]&&(o.blocks=e[5].aboveFooter),16&r[0]&&(o.emotion=e[4]),t.$set(o),2352&r[0]){let t;for(c=["Left","Center","Right"],t=0;t<3;t+=1){const a=get_each_context_1(e,c,t);l[t]?(l[t].p(a,r),transition_in(l[t],1)):(l[t]=create_each_block_1(a),l[t].c(),transition_in(l[t],1),l[t].m(n,null))}for(group_outros(),t=3;t<3;t+=1)u(t);check_outros()}(!s||400&r[0]&&a!==(a="dw-chart-footer "+(e[4]?chartFooterStyles(e[4],e[8],e[7]):"")+" svelte-o2k253"))&&attr(n,"class",a);const f={};32&r[0]&&(f.blocks=e[5].belowFooter),16&r[0]&&(f.emotion=e[4]),i.$set(f)},i(e){if(!s){transition_in(t.$$.fragment,e);for(let e=0;e<3;e+=1)transition_in(l[e]);transition_in(i.$$.fragment,e),s=!0}},o(e){transition_out(t.$$.fragment,e),l=l.filter(Boolean);for(let e=0;e<3;e+=1)transition_out(l[e]);transition_out(i.$$.fragment,e),s=!1},d(e){destroy_component(t,e),e&&detach(r),e&&detach(n),destroy_each(l,e),e&&detach(o),destroy_component(i,e)}}}function create_if_block_4(e){let t,r;return{c(){t=element("span"),attr(t,"class",r="separator separator-before-"+e[71].id+" svelte-o2k253")},m(e,r){insert(e,t,r)},p(e,n){32&n[0]&&r!==(r="separator separator-before-"+e[71].id+" svelte-o2k253")&&attr(t,"class",r)},d(e){e&&detach(t)}}}function create_if_block_3(e){let t,r=clean(e[71].prepend)+"";return{c(){t=element("span"),attr(t,"class","prepend svelte-o2k253")},m(e,n){insert(e,t,n),t.innerHTML=r},p(e,n){32&n[0]&&r!==(r=clean(e[71].prepend)+"")&&(t.innerHTML=r)},d(e){e&&detach(t)}}}function create_if_block_2(e){let t,r=clean(e[71].append)+"";return{c(){t=element("span"),attr(t,"class","append svelte-o2k253")},m(e,n){insert(e,t,n),t.innerHTML=r},p(e,n){32&n[0]&&r!==(r=clean(e[71].append)+"")&&(t.innerHTML=r)},d(e){e&&detach(t)}}}function create_each_block_2(e){let t,r,n,a,o,i,s,c,l=e[78]&&"inline"===e[11][e[74]]&&create_if_block_4(e),u=e[71].prepend&&create_if_block_3(e);var f=e[71].component;function p(e){return{props:{props:e[71].props}}}f&&(o=construct_svelte_component(f,p(e)));let h=e[71].append&&create_if_block_2(e);return{c(){l&&l.c(),t=space(),r=element("span"),u&&u.c(),n=space(),a=element("span"),o&&create_component(o.$$.fragment),i=space(),h&&h.c(),attr(a,"class","block-inner svelte-o2k253"),attr(r,"class",s="footer-block "+e[71].id+"-block "+(e[4]&&e[71].styles?e[71].styles(e[4],e[8]):"")+" svelte-o2k253")},m(e,s){l&&l.m(e,s),insert(e,t,s),insert(e,r,s),u&&u.m(r,null),append$1(r,n),append$1(r,a),o&&mount_component(o,a,null),append$1(r,i),h&&h.m(r,null),c=!0},p(e,i){e[78]&&"inline"===e[11][e[74]]?l?l.p(e,i):(l=create_if_block_4(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),e[71].prepend?u?u.p(e,i):(u=create_if_block_3(e),u.c(),u.m(r,n)):u&&(u.d(1),u=null);const d={};if(32&i[0]&&(d.props=e[71].props),f!==(f=e[71].component)){if(o){group_outros();const e=o;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}f?(o=construct_svelte_component(f,p(e)),create_component(o.$$.fragment),transition_in(o.$$.fragment,1),mount_component(o,a,null)):o=null}else f&&o.$set(d);e[71].append?h?h.p(e,i):(h=create_if_block_2(e),h.c(),h.m(r,null)):h&&(h.d(1),h=null),(!c||304&i[0]&&s!==(s="footer-block "+e[71].id+"-block "+(e[4]&&e[71].styles?e[71].styles(e[4],e[8]):"")+" svelte-o2k253"))&&attr(r,"class",s)},i(e){c||(o&&transition_in(o.$$.fragment,e),c=!0)},o(e){o&&transition_out(o.$$.fragment,e),c=!1},d(e){l&&l.d(e),e&&detach(t),e&&detach(r),u&&u.d(),o&&destroy_component(o),h&&h.d()}}}function create_each_block_1(e){let t,r,n,a,o=e[5]["footer"+e[74]],i=[];for(let t=0;t<o.length;t+=1)i[t]=create_each_block_2(get_each_context_2(e,o,t));const s=e=>transition_out(i[e],1,1,(()=>{i[e]=null}));return{c(){t=element("div");for(let e=0;e<i.length;e+=1)i[e].c();r=space(),attr(t,"class",n="footer-"+e[74].toLowerCase()+" layout-"+e[11][e[74]]+" svelte-o2k253")},m(e,n){insert(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null);append$1(t,r),a=!0},p(e,c){if(2352&c[0]){let n;for(o=e[5]["footer"+e[74]],n=0;n<o.length;n+=1){const a=get_each_context_2(e,o,n);i[n]?(i[n].p(a,c),transition_in(i[n],1)):(i[n]=create_each_block_2(a),i[n].c(),transition_in(i[n],1),i[n].m(t,r))}for(group_outros(),n=o.length;n<i.length;n+=1)s(n);check_outros()}(!a||2048&c[0]&&n!==(n="footer-"+e[74].toLowerCase()+" layout-"+e[11][e[74]]+" svelte-o2k253"))&&attr(t,"class",n)},i(e){if(!a){for(let e=0;e<o.length;e+=1)transition_in(i[e]);a=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)transition_out(i[e]);a=!1},d(e){e&&detach(t),destroy_each(i,e)}}}function create_each_block(e){let t,r,n;var a=e[71].component;function o(e){return{props:{props:e[71].props}}}return a&&(t=construct_svelte_component(a,o(e))),{c(){t&&create_component(t.$$.fragment),r=empty()},m(e,a){t&&mount_component(t,e,a),insert(e,r,a),n=!0},p(e,n){const i={};if(32&n[0]&&(i.props=e[71].props),a!==(a=e[71].component)){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}a?(t=construct_svelte_component(a,o(e)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else a&&t.$set(i)},i(e){n||(t&&transition_in(t.$$.fragment,e),n=!0)},o(e){t&&transition_out(t.$$.fragment,e),n=!1},d(e){e&&detach(r),t&&destroy_component(t,e)}}}function create_if_block$1(e){let t,r;return{c(){t=new HtmlTag(!1),r=empty(),t.a=r},m(n,a){t.m(e[2],n,a),insert(n,r,a)},p(e,r){4&r[0]&&t.p(e[2])},d(e){e&&detach(r),e&&t.d()}}}function create_fragment$1(e){let t,r,n,a,o,i,s,c,l,u,f,p,h,d,m=e[3]&&get_1(e[0],"data.template.afterChart"),g=!e[6]&&create_if_block_7(e),y=e[15]&&create_if_block_6(e),b=m&&create_if_block_5(e),$=!e[6]&&create_if_block_1(e),v=e[5].afterBody,_=[];for(let t=0;t<v.length;t+=1)_[t]=create_each_block(get_each_context(e,v,t));const k=e=>transition_out(_[e],1,1,(()=>{_[e]=null}));let w=e[2]&&create_if_block$1(e);return{c(){t=element("div"),g&&g.c(),r=space(),y&&y.c(),n=space(),a=element("div"),o=element("div"),c=space(),b&&b.c(),l=space(),$&&$.c(),u=space(),f=element("div");for(let e=0;e<_.length;e+=1)_[e].c();p=space(),w&&w.c(),attr(o,"class","dw-chart-body-content svelte-o2k253"),attr(a,"id","chart"),attr(a,"aria-hidden",i=!!e[15]),attr(a,"class",s="dw-chart-body vis-height-"+e[14]+" "+(e[4]?chartBodyStyles(e[4],e[8]):"")+" svelte-o2k253"),toggle_class(a,"content-below-chart",e[12]),toggle_class(a,"dir-rtl","rtl"===e[1]),attr(f,"class","dw-after-body svelte-o2k253"),set_style(f,"position","absolute"),set_style(f,"height","0"),attr(t,"class",h="dw-chart-styles "+(e[4]?chartStyles(e[4],e[8],e[7],e[3]):"")+" svelte-o2k253"),toggle_class(t,"static",e[7])},m(i,s){insert(i,t,s),g&&g.m(t,null),append$1(t,r),y&&y.m(t,null),append$1(t,n),append$1(t,a),append$1(a,o),e[53](o),append$1(t,c),b&&b.m(t,null),append$1(t,l),$&&$.m(t,null),append$1(t,u),append$1(t,f);for(let e=0;e<_.length;e+=1)_[e].m(f,null);append$1(t,p),w&&w.m(t,null),e[54](t),d=!0},p(e,o){if(e[6]?g&&(group_outros(),transition_out(g,1,1,(()=>{g=null})),check_outros()):g?(g.p(e,o),64&o[0]&&transition_in(g,1)):(g=create_if_block_7(e),g.c(),transition_in(g,1),g.m(t,r)),e[15]?y?y.p(e,o):(y=create_if_block_6(e),y.c(),y.m(t,n)):y&&(y.d(1),y=null),(!d||32768&o[0]&&i!==(i=!!e[15]))&&attr(a,"aria-hidden",i),(!d||16656&o[0]&&s!==(s="dw-chart-body vis-height-"+e[14]+" "+(e[4]?chartBodyStyles(e[4],e[8]):"")+" svelte-o2k253"))&&attr(a,"class",s),(!d||20752&o[0])&&toggle_class(a,"content-below-chart",e[12]),(!d||16658&o[0])&&toggle_class(a,"dir-rtl","rtl"===e[1]),9&o[0]&&(m=e[3]&&get_1(e[0],"data.template.afterChart")),m?b?b.p(e,o):(b=create_if_block_5(e),b.c(),b.m(t,l)):b&&(b.d(1),b=null),e[6]?$&&(group_outros(),transition_out($,1,1,(()=>{$=null})),check_outros()):$?($.p(e,o),64&o[0]&&transition_in($,1)):($=create_if_block_1(e),$.c(),transition_in($,1),$.m(t,u)),32&o[0]){let t;for(v=e[5].afterBody,t=0;t<v.length;t+=1){const r=get_each_context(e,v,t);_[t]?(_[t].p(r,o),transition_in(_[t],1)):(_[t]=create_each_block(r),_[t].c(),transition_in(_[t],1),_[t].m(f,null))}for(group_outros(),t=v.length;t<_.length;t+=1)k(t);check_outros()}e[2]?w?w.p(e,o):(w=create_if_block$1(e),w.c(),w.m(t,null)):w&&(w.d(1),w=null),(!d||408&o[0]&&h!==(h="dw-chart-styles "+(e[4]?chartStyles(e[4],e[8],e[7],e[3]):"")+" svelte-o2k253"))&&attr(t,"class",h),(!d||408&o[0])&&toggle_class(t,"static",e[7])},i(e){if(!d){transition_in(g),transition_in($);for(let e=0;e<v.length;e+=1)transition_in(_[e]);d=!0}},o(e){transition_out(g),transition_out($),_=_.filter(Boolean);for(let e=0;e<_.length;e+=1)transition_out(_[e]);d=!1},d(r){r&&detach(t),g&&g.d(),y&&y.d(),e[53](null),b&&b.d(),$&&$.d(),destroy_each(_,r),w&&w.d(),e[54](null)}}}function byPriority(e,t){return(void 0!==e.priority?e.priority:999)-(void 0!==t.priority?t.priority:999)}function getCaption(e){return"d3-maps-choropleth"===e||"d3-maps-symbols"===e||"locator-map"===e?"map":"tables"===e?"table":"chart"}function instance$1($$self,$$props,$$invalidate){const run=_async$1((function(){return set_store_value(outerWidth,$outerWidth=outerContainer.clientWidth,$outerWidth),_call(tick,(function(){$$invalidate(0,theme.data=$themeData,theme),dw.theme.register(theme.id,theme.data),Object.keys(locales).forEach((vendor=>{if("null"===locales[vendor]&&$$invalidate(24,locales[vendor]=null,locales),locales[vendor]&&locales[vendor].base){const localeBase=eval(locales[vendor].base);$$invalidate(24,locales[vendor]=deepmergeOverwriteArrays(localeBase,locales[vendor].custom),locales)}}));const useDwCdn=get_1(chart,"metadata.data.use-datawrapper-cdn",!0),externalJSON=useDwCdn&&get_1(chart,"metadata.data.external-metadata","").length?`//${externalDataUrl}/${chart.id}.metadata.json`:get_1(chart,"metadata.data.external-metadata");return _invoke((function(){if(externalJSON&&"external-data"===get_1(chart,"metadata.data.upload-method"))return _continueIgnored(_catch((function(){const e=(new Date).getTime(),t=useDwCdn?e-e%6e4:e,r=`${externalJSON}${externalJSON.includes("?")?"&":"?"}v=${t}`;return _await$1(window.fetch(r),(function(e){return _await$1(e.json(),(function(e){e.title&&($$invalidate(21,chart.title=e.title,chart),delete e.title),$$invalidate(21,chart.metadata=deepmergeOverwriteArrays(chart.metadata,e),chart),$$invalidate(21,chart)}))}))}),(function(){console.warn("Invalid external metadata JSON, falling back on chart metadata")})))}),(function(){$$invalidate(41,dwChart=dw.chart(chart).locale((chart.language||"en-US").substr(0,2)).translations(translations).theme(dw.theme(chart.theme)).flags({isIframe:isIframe,isEditingAllowed:renderFlags.allowEditing,...renderFlags})),$$invalidate(41,dwChart.emotion=emotion,dwChart);const e=!isPreview&&chart.externalData,t=[];for(const[r,{url:n,value:a,load:o=!0}]of Object.entries(assets)){if(!(r===datasetName)||!e)if(n)if(o){const e=r;t.push(new Promise(_async$1((function(t){return _await$1(fetch(getUrl(assets[e].url)),(function(r){return _await$1(r.text(),(function(r){dwChart.asset(e,r),t()}))}))}))))}else dwChart.asset(r,n);else dwChart.asset(r,a)}return _await$1(Promise.all(t),(function(){return $$invalidate(42,vis=dw.visualization(visualization.id,target)),$$invalidate(42,vis.meta=visualization,vis),$$invalidate(42,vis.lang=chart.language||"en-US",vis),$$invalidate(42,vis.textDirection=textDirection,vis),_await$1(dwChart.load(dwChart.asset(datasetName)||"",e),(function(){return $$invalidate(41,dwChart.locales=locales,dwChart),dwChart.vis(vis),_await$1(loadBlocks(blocks),(function(){const e=_async$1((function(){return Object.keys(theme.data).forEach((e=>{"_computed"!==e&&delete theme.data[e],$themeData[e]&&$$invalidate(0,theme.data[e]=$themeData[e],theme)})),_await$1()})),t=_async$1((function(t){return renderFlags.dark!==t&&$$invalidate(23,renderFlags={...renderFlags,dark:t}),_call(tick,(function(){return _call(e,(function(){isAutoDark||a(t),t&&set(theme.data,"colors.palette",get_1(themeDataLight,"colors.palette",[])),outerContainer.classList.toggle("is-dark-mode",t),dwChart.render(outerContainer)}))}))}));$$invalidate(0,theme.data._computed=theme._computed,theme);const r=get_1(themeDataLight,"colors.background","#ffffff");if(chroma(r).luminance()>=.3&&(vis.initDarkMode(t,initDarkModeColormap({themeDataDark:themeDataDark,themeDataLight:themeDataLight})),isStyleDark&&vis.darkMode(!0)),isAutoDark){const e=window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener("change",(e=>{var t;t=e.matches,$$invalidate(23,renderFlags={...renderFlags,dark:t}),vis.darkMode(t)})),isIframe||"auto"!==renderFlags.dark||$$invalidate(23,renderFlags={...renderFlags,dark:e.matches}),CSS.supports("color-scheme","dark")||a(!1)}window.parent===window&&console.time("Chart rendered in");const n=dwChart.render(outerContainer);function a(e){if(isIframe){const t=document.querySelector('meta[name="color-scheme"]');t&&t.setAttribute("content",e?"dark":"light")}const t=(styleHolder||document).querySelector("#css-light"),r=(styleHolder||document).querySelector("#css-dark");(e?t:r).setAttribute("media","--disabled--"),(e?r:t).removeAttribute("media")}window.parent===window&&n.then((()=>{console.timeEnd("Chart rendered in")})).catch((e=>{console.error(e)})),observeFonts(themeFonts,themeDataLight.typography).then((()=>dwChart.render(outerContainer))).catch((()=>dwChart.render(outerContainer))),/iP(hone|od|ad)/.test(navigator.platform)&&(window.onload=dwChart.render(outerContainer)),isIframe&&function(e){const t="fixed"===dwChart.getHeightMode();let r=width(e);window.addEventListener("resize",(()=>{if(set_store_value(outerWidth,$outerWidth=width(outerContainer),$outerWidth),set_store_value(outerHeight,$outerHeight=window.innerHeight,$outerHeight),t){const t=width(e);r!==t&&(r=t,o())}else o()}))}(target),isIframe&&set_store_value(outerHeight,$outerHeight=outerContainer.clientHeight,$outerHeight),dispatch("rendered");const o=debounce_1((function(){return _call(e,(function(){dwChart.vis().fire("resize"),dwChart.render(outerContainer)}))}),200);return{dwChart:dwChart,resizeVisDebounced:o}}))}))}))}))}))})),loadBlocks=_async$1((function(e){return _invokeIgnored((function(){if(e.length)return _await$1(Promise.all(e.map((e=>new Promise((t=>{if(e.preloaded)return t();const r=[loadScript_1(getUrl(e.source.js))];e.source.css&&r.push(loadStylesheet_1({src:getUrl(e.source.css),parentElement:styleHolder})),Promise.all(r).then(t).catch((e=>{const r=e.target?e.target.getAttribute("src")||e.target.getAttribute("href"):null;r?console.warn("could not load ",r):console.error("Unknown error",e),t()}))}))))),(function(){e.forEach((e=>{e.blocks.forEach((e=>{if(!dw.block.has(e.component))return console.warn(`component ${e.component} from chart block ${e.id} not found`);pluginBlocks.push({...e,component:dw.block(e.component)})}))})),$$invalidate(44,pluginBlocks)}))}))}));let isStylePlain,isStyleStatic,isStyleTransparent,isStyleDark,logoId,forceLogo,ariaDescription,metadataFields,overrideContext,heightMode,allBlocks,blockProps,regions,menu,contentBelowChart,footerRegionLayout,$themeData,$outerHeight,$outerWidth;const outerWidth=writable(400);component_subscribe($$self,outerWidth,(e=>$$invalidate(52,$outerWidth=e)));const outerHeight=writable(400);component_subscribe($$self,outerHeight,(e=>$$invalidate(59,$outerHeight=e)));const themeData=writable({});component_subscribe($$self,themeData,(e=>$$invalidate(8,$themeData=e)));const dispatch=createEventDispatcher();setContext("stores",{outerWidth:outerWidth,outerHeight:outerHeight,themeData:themeData});let{chart:chart}=$$props,{visualization:visualization={}}=$$props,{teamPublicSettings:teamPublicSettings={}}=$$props,{theme:theme={}}=$$props,{themeDataDark:themeDataDark={}}=$$props,{themeDataLight:themeDataLight={}}=$$props,{themeFonts:themeFonts={}}=$$props,{locales:locales={}}=$$props,{textDirection:textDirection="ltr"}=$$props,{translations:translations}=$$props,{blocks:blocks={}}=$$props,{chartAfterBodyHTML:chartAfterBodyHTML=""}=$$props,{isIframe:isIframe}=$$props,{isPreview:isPreview}=$$props,{assets:assets}=$$props,{styleHolder:styleHolder}=$$props,{origin:origin}=$$props,{externalDataUrl:externalDataUrl}=$$props,{outerContainer:outerContainer}=$$props,{containerWidth:containerWidth}=$$props,{containerHeight:containerHeight}=$$props,{isAutoDark:isAutoDark=!1}=$$props,{renderFlags:renderFlags={}}=$$props,{emotion:emotion}=$$props,{frontendDomain:frontendDomain="app.datawrapper.de"}=$$props,target,dwChart,vis,container,postEvent=()=>{};const datasetName="dataset."+(get_1(chart.metadata,"data.json")?"json":"csv");migrate(chart.metadata);const allowedAriaDescriptionTags=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt","table","thead","tbody","tfoot","caption","colgroup","col","tr","td","th"],coreBlocks=[{id:"headline",tag:"h3",region:"header",priority:10,includeInContext:!0,styles:HeadlineStyles,test:e=>{let{chart:t}=e;return t.title&&!get_1(t,"metadata.describe.hide-title")},component:Headline},{id:"description",tag:"p",region:"header",priority:20,includeInContext:!0,styles:DescriptionStyles,test:e=>{let{chart:t}=e;return get_1(t,"metadata.describe.intro")},component:Description},{id:"notes",region:"aboveFooter",priority:10,styles:NotesStyles,includeInContext:!0,test:e=>{let{chart:t}=e;return get_1(t,"metadata.annotate.notes")},component:Notes},{id:"byline",region:"footerLeft",test:e=>{let{chart:t}=e;return get_1(t,"metadata.describe.byline",!1)||t.basedOnByline},priority:10,includeInContext:!0,component:Byline},{id:"source",region:"footerLeft",test:e=>{let{chart:t}=e;return get_1(t,"metadata.describe.source-name")},priority:20,includeInContext:!0,component:Source},{id:"get-the-data",region:"footerLeft",test:e=>{let{chart:t,isStyleStatic:r}=e;return get_1(t,"metadata.publish.blocks.get-the-data")&&!r&&"locator-map"!==t.type},priority:30,includeInContext:!0,component:GetTheData},{id:"edit",region:"footerLeft",test:e=>{let{chart:t,isStyleStatic:r}=e;return get_1(t,"forkable")&&get_1(t,"metadata.publish.blocks.edit-in-datawrapper",!1)&&!r},priority:31,includeInContext:!0,component:EditInDatawrapper},{id:"embed",region:"footerLeft",test:e=>{let{chart:t,isStyleStatic:r}=e;return get_1(t,"metadata.publish.blocks.embed")&&!r},priority:40,includeInContext:!0,component:Embed},{id:"logo",region:"footerRight",test:e=>{let{chart:t,themeData:r}=e;const n=get_1(t,"metadata.publish.blocks.logo",{enabled:!1}),a=get_1(r,"options.blocks.logo.data.options",[]),o=logoId||n.id;let i=a.find((e=>e.id===o));return o&&i||(i=a[0]||{}),!(!i.imgSrc&&!i.text)&&("on"===forceLogo||"off"!==forceLogo&&(isObject(n)?n.enabled:n))},priority:10,includeInContext:!1,component:Logo},{id:"rectangle",region:"header",test:e=>{let{themeData:t}=e;return!!get_1(t,"options.blocks.rectangle")},priority:1,includeInContext:!1,component:Rectangle},{id:"watermark",region:"afterBody",test:e=>{let{themeData:t}=e;const r=get_1(t,"options.watermark.custom-field");return!!get_1(t,"options.watermark")&&(r?get_1(chart,`metadata.custom.${r}`,""):get_1(t,"options.watermark.text","CONFIDENTIAL"))},priority:1,includeInContext:!1,component:Watermark},hr(0,"hr"),hr(1,"hr"),hr(2,"hr"),hr(0,"svg-rule"),hr(1,"svg-rule"),hr(2,"svg-rule")];function hr(e,t){const r=`${t}${e||""}`;return{id:r,region:"header",test:e=>{let{themeData:t}=e;return!!get_1(t,`options.blocks.${r}`)},priority:0,includeInContext:!1,component:"hr"===t?HorizontalRule:SvgRule}}let pluginBlocks=[];function getUrl(e){return origin&&0!==e.indexOf("http")?`${origin}/${e}`:e}function getBlocks(e,t,r){return e.filter((e=>e.region===t)).filter((e=>!e.test||e.test({...e.props,...r}))).filter((e=>void 0===e.visible||e.visible)).sort(byPriority)}function applyThemeBlockConfig(e,t,r){return e.map((e=>{e.props={...e.data||{},...r,config:{frontendDomain:frontendDomain},id:e.id},e.component.test&&(e.test=e.component.test);const n=get_1(t,"options.blocks",{})[e.id];return n?{...e,...n}:e}))}const caption=getCaption(visualization.id);function __(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];"string"!=typeof e&&(e="",console.error(new TypeError("function __ called without required 'key' parameter!\nPlease make sure you called __(key) with a key of type \"string\".\n"))),e=e.trim();let a=translations[e]||e;return r.length&&(a=a.replace(/\$(\d)/g,((e,t)=>r[t=+t]||e))),a}let currentHeight,onResize;function initDarkModeColormap(e){let{themeDataLight:t,themeDataDark:r}=e;const n=new Map,a=get_1(r,"colors.palette",[]),o=get_1(t,"colors.palette",[]),i=get_1(t,"colors.background","#ffffff"),s=get_1(r,"colors.background"),c=Object.fromEntries(o.map(((e,t)=>[e.toLowerCase(),a[t]])));return function(e){let{forceInvert:t,noInvert:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=!vis.get("dark-mode-invert",!0);return r||a&&!t?e:chroma.valid(e)?(e=e.toLowerCase(),c[e]?c[e]:(n.has(e)||n.set(e,invertColor_1(e,s,i,.85)),n.get(e))):e}}function div0_binding(e){binding_callbacks[e?"unshift":"push"]((()=>{target=e,$$invalidate(9,target)}))}function div3_binding(e){binding_callbacks[e?"unshift":"push"]((()=>{container=e,$$invalidate(10,container)}))}return afterUpdate((()=>{if(!isIframe||void 0===currentHeight)return;const e=document.body.offsetHeight;currentHeight!==e&&"function"==typeof dwChart.render&&(dwChart.render(outerContainer),currentHeight=e)})),onMount((function(){return _call(run,(function(e){let{dwChart:t,resizeVisDebounced:r}=e;if($$invalidate(45,onResize=r),outerContainer.classList.toggle("dir-rtl","rtl"===textDirection),isIframe){if(isStyleStatic&&!isStyleTransparent){const e=get_1(theme.data,"style.body.background","transparent"),t=get_1(theme.data,"colors.background");t&&isTransparentColor(e)&&(document.body.style.background=t)}domReady((()=>{t&&($$invalidate(43,postEvent=t.createPostEvent()),window.addEventListener("hashchange",(()=>{postEvent("hash.change",{hash:window.location.hash})})))})),currentHeight=document.body.offsetHeight,window.__dw=window.__dw||{},window.__dw.params={data:t.asset(datasetName),visJSON:visualization},window.__dw.vis=vis,window.__dw.render=()=>{t.render(outerContainer)},window.fontsJSON=theme.fonts,window.getThemeData=e=>get_1(themeDataLight,e),window.setThemeData=(e,t)=>{set(themeDataLight,e,t),$$invalidate(22,themeDataLight)},window.setTheme=_async$1((function(e){return _await$1(fetch(`http://api.datawrapper.local/v3/themes/${e}?extend=true`),(function(e){return _await$1(e.json(),(function(e){let{data:r,fontsCSS:n}=e;$$invalidate(22,themeDataLight=r),$$invalidate(0,theme.data=r,theme),document.querySelector("style").innerText=n,t.render(outerContainer)}))}))}))}}))})),$$self.$$set=e=>{"chart"in e&&$$invalidate(21,chart=e.chart),"visualization"in e&&$$invalidate(25,visualization=e.visualization),"teamPublicSettings"in e&&$$invalidate(26,teamPublicSettings=e.teamPublicSettings),"theme"in e&&$$invalidate(0,theme=e.theme),"themeDataDark"in e&&$$invalidate(27,themeDataDark=e.themeDataDark),"themeDataLight"in e&&$$invalidate(22,themeDataLight=e.themeDataLight),"themeFonts"in e&&$$invalidate(28,themeFonts=e.themeFonts),"locales"in e&&$$invalidate(24,locales=e.locales),"textDirection"in e&&$$invalidate(1,textDirection=e.textDirection),"translations"in e&&$$invalidate(29,translations=e.translations),"blocks"in e&&$$invalidate(30,blocks=e.blocks),"chartAfterBodyHTML"in e&&$$invalidate(2,chartAfterBodyHTML=e.chartAfterBodyHTML),"isIframe"in e&&$$invalidate(3,isIframe=e.isIframe),"isPreview"in e&&$$invalidate(31,isPreview=e.isPreview),"assets"in e&&$$invalidate(32,assets=e.assets),"styleHolder"in e&&$$invalidate(33,styleHolder=e.styleHolder),"origin"in e&&$$invalidate(34,origin=e.origin),"externalDataUrl"in e&&$$invalidate(35,externalDataUrl=e.externalDataUrl),"outerContainer"in e&&$$invalidate(36,outerContainer=e.outerContainer),"containerWidth"in e&&$$invalidate(37,containerWidth=e.containerWidth),"containerHeight"in e&&$$invalidate(38,containerHeight=e.containerHeight),"isAutoDark"in e&&$$invalidate(39,isAutoDark=e.isAutoDark),"renderFlags"in e&&$$invalidate(23,renderFlags=e.renderFlags),"emotion"in e&&$$invalidate(4,emotion=e.emotion),"frontendDomain"in e&&$$invalidate(40,frontendDomain=e.frontendDomain)},$$self.$$.update=()=>{8388608&$$self.$$.dirty[0]&&$$invalidate(6,isStylePlain=renderFlags.plain),8388608&$$self.$$.dirty[0]&&$$invalidate(7,isStyleStatic=renderFlags.static),8388608&$$self.$$.dirty[0]&&(isStyleTransparent=renderFlags.transparent),8388608&$$self.$$.dirty[0]&&$$invalidate(46,isStyleDark="auto"!==renderFlags.dark&&renderFlags.dark),8388608&$$self.$$.dirty[0]&&$$invalidate(48,logoId=renderFlags.logoId),8388608&$$self.$$.dirty[0]&&(forceLogo=renderFlags.logo),8&$$self.$$.dirty[0]|64&$$self.$$.dirty[1]&&(isIframe||set_store_value(outerWidth,$outerWidth=containerWidth,$outerWidth)),2097152&$$self.$$.dirty[0]&&$$invalidate(51,metadataFields={custom:get_1(chart,"metadata.custom",{}),publish:get_1(chart,"metadata.publish",{}),describe:get_1(chart,"metadata.describe",{})}),10485952&$$self.$$.dirty[0]|3154944&$$self.$$.dirty[1]&&$$invalidate(50,overrideContext={type:chart.type,title:chart.title,team:chart.organizationId,width:$outerWidth,mode:{plain:isStylePlain,static:isStyleStatic,print:renderFlags.svgonly},...metadataFields,blocks:Object.fromEntries([...coreBlocks,...pluginBlocks].filter((e=>{let{includeInContext:t}=e;return t})).map((e=>[e.id,!e.test||e.test({chart:chart,isStyleStatic:isStyleStatic,dwChart:dwChart})])))}),138412032&$$self.$$.dirty[0]|557056&$$self.$$.dirty[1]&&set_store_value(themeData,$themeData=computeThemeData(isStyleDark?themeDataDark:themeDataLight,overrideContext,isStyleDark),$themeData),2097408&$$self.$$.dirty[0]&&(get_1(chart,"metadata.publish.blocks")||set(chart,"metadata.publish.blocks",get_1($themeData,"metadata.publish.blocks"))),2097152&$$self.$$.dirty[0]&&$$invalidate(15,ariaDescription=get_1(chart,"metadata.describe.aria-description","")),2097152&$$self.$$.dirty[0]&&purifyHtml(get_1(chart,"metadata.publish.custom-css",""),[]),41943296&$$self.$$.dirty[0]&&$$invalidate(14,heightMode=getHeightMode({themeData:$themeData,renderFlags:renderFlags,visualizationMeta:visualization})),69206275&$$self.$$.dirty[0]|138240&$$self.$$.dirty[1]&&$$invalidate(49,blockProps={__:__,purifyHtml:clean,get:get_1,postEvent:postEvent,teamPublicSettings:teamPublicSettings,themeData:$themeData,theme:theme,chart:chart,dwChart:dwChart,vis:vis,caption:caption,logoId:logoId,textDirection:textDirection}),256&$$self.$$.dirty[0]|270336&$$self.$$.dirty[1]&&$$invalidate(47,allBlocks=applyThemeBlockConfig([...coreBlocks,...pluginBlocks],$themeData,blockProps)),2097536&$$self.$$.dirty[0]|65536&$$self.$$.dirty[1]&&$$invalidate(5,regions={header:getBlocks(allBlocks,"header",{chart:chart,themeData:$themeData,isStyleStatic:isStyleStatic}),headerRight:getBlocks(allBlocks,"headerRight",{chart:chart,themeData:$themeData,isStyleStatic:isStyleStatic}),belowHeader:getBlocks(allBlocks,"belowHeader",{chart:chart,themeData:$themeData,isStyleStatic:isStyleStatic}),aboveFooter:getBlocks(allBlocks,"aboveFooter",{chart:chart,themeData:$themeData,isStyleStatic:isStyleStatic}),footerLeft:getBlocks(allBlocks,"footerLeft",{chart:chart,themeData:$themeData,isStyleStatic:isStyleStatic}),footerCenter:getBlocks(allBlocks,"footerCenter",{chart:chart,themeData:$themeData,isStyleStatic:isStyleStatic}),footerRight:getBlocks(allBlocks,"footerRight",{chart:chart,themeData:$themeData,isStyleStatic:isStyleStatic}),belowFooter:getBlocks(allBlocks,"belowFooter",{chart:chart,themeData:$themeData,isStyleStatic:isStyleStatic}),afterBody:getBlocks(allBlocks,"afterBody",{chart:chart,themeData:$themeData,isStyleStatic:isStyleStatic}),menu:getBlocks(allBlocks,"menu",{chart:chart,themeData:$themeData,isStyleStatic:isStyleStatic})}),256&$$self.$$.dirty[0]&&$$invalidate(13,menu=get_1($themeData,"options.menu",{})),8&$$self.$$.dirty[0]|128&$$self.$$.dirty[1]&&(isIframe||set_store_value(outerHeight,$outerHeight=containerHeight,$outerHeight)),8&$$self.$$.dirty[0]|16448&$$self.$$.dirty[1]&&onResize&&!isIframe&&onResize(containerWidth),96&$$self.$$.dirty[0]&&$$invalidate(12,contentBelowChart=!isStylePlain&&(regions.aboveFooter.length||regions.footerLeft.length||regions.footerCenter.length||regions.footerRight.length||regions.belowFooter.length||regions.afterBody.length)),256&$$self.$$.dirty[0]&&$$invalidate(11,footerRegionLayout={Left:get_1($themeData,"options.footer.left.layout","inline"),Center:get_1($themeData,"options.footer.center.layout","inline"),Right:get_1($themeData,"options.footer.right.layout","inline")}),280&$$self.$$.dirty[0]&&emotion&&updateGlobalStyles(globalStyles(emotion,$themeData,isIframe))},[theme,textDirection,chartAfterBodyHTML,isIframe,emotion,regions,isStylePlain,isStyleStatic,$themeData,target,container,footerRegionLayout,contentBelowChart,menu,heightMode,ariaDescription,outerWidth,outerHeight,themeData,allowedAriaDescriptionTags,__,chart,themeDataLight,renderFlags,locales,visualization,teamPublicSettings,themeDataDark,themeFonts,translations,blocks,isPreview,assets,styleHolder,origin,externalDataUrl,outerContainer,containerWidth,containerHeight,isAutoDark,frontendDomain,dwChart,vis,postEvent,pluginBlocks,onResize,isStyleDark,allBlocks,logoId,blockProps,overrideContext,metadataFields,$outerWidth,div0_binding,div3_binding]}class Visualization extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{chart:21,visualization:25,teamPublicSettings:26,theme:0,themeDataDark:27,themeDataLight:22,themeFonts:28,locales:24,textDirection:1,translations:29,blocks:30,chartAfterBodyHTML:2,isIframe:3,isPreview:31,assets:32,styleHolder:33,origin:34,externalDataUrl:35,outerContainer:36,containerWidth:37,containerHeight:38,isAutoDark:39,renderFlags:23,emotion:4,frontendDomain:40},null,[-1,-1,-1])}}function _await(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function _async(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function create_if_block(e){let t,r,n,a;return r=new Visualization({props:{data:e[1],chart:e[2],visualization:e[3],theme:e[4],themeFonts:e[16],themeDataDark:e[5],themeDataLight:e[6],locales:e[7],translations:e[9],blocks:e[10],chartAfterBodyHTML:e[11],isIframe:!1,isPreview:e[12],isAutoDark:e[17],assets:e[13],origin:e[14],fonts:e[15],styleHolder:e[20],outerContainer:e[0],emotion:e[21],renderFlags:e[18],textDirection:e[8],containerWidth:e[22],containerHeight:e[23]}}),r.$on("rendered",e[26]),{c(){t=element("div"),create_component(r.$$.fragment),attr(t,"class",n="chart dw-chart vis-"+e[2].type),toggle_class(t,"dir-rtl","rtl"===e[8])},m(e,n){insert(e,t,n),mount_component(r,t,null),a=!0},p(e,o){const i={};2&o&&(i.data=e[1]),4&o&&(i.chart=e[2]),8&o&&(i.visualization=e[3]),16&o&&(i.theme=e[4]),65536&o&&(i.themeFonts=e[16]),32&o&&(i.themeDataDark=e[5]),64&o&&(i.themeDataLight=e[6]),128&o&&(i.locales=e[7]),512&o&&(i.translations=e[9]),1024&o&&(i.blocks=e[10]),2048&o&&(i.chartAfterBodyHTML=e[11]),4096&o&&(i.isPreview=e[12]),131072&o&&(i.isAutoDark=e[17]),8192&o&&(i.assets=e[13]),16384&o&&(i.origin=e[14]),32768&o&&(i.fonts=e[15]),1048576&o&&(i.styleHolder=e[20]),1&o&&(i.outerContainer=e[0]),2097152&o&&(i.emotion=e[21]),262144&o&&(i.renderFlags=e[18]),256&o&&(i.textDirection=e[8]),4194304&o&&(i.containerWidth=e[22]),8388608&o&&(i.containerHeight=e[23]),r.$set(i),(!a||4&o&&n!==(n="chart dw-chart vis-"+e[2].type))&&attr(t,"class",n),(!a||260&o)&&toggle_class(t,"dir-rtl","rtl"===e[8])},i(e){a||(transition_in(r.$$.fragment,e),a=!0)},o(e){transition_out(r.$$.fragment,e),a=!1},d(e){e&&detach(t),destroy_component(r)}}}function create_fragment(e){let t,r,n,a,o,i,s=e[19]&&create_if_block(e);return{c(){t=element("div"),r=space(),n=element("div"),s&&s.c(),this.c=noop$1,attr(n,"class","web-component-body"),set_style(n,"position","relative")},m(c,l){insert(c,t,l),e[29](t),insert(c,r,l),insert(c,n,l),s&&s.m(n,null),e[30](n),a=!0,o||(i=action_destroyer(b.call(null,n,debounce_1(e[25],200))),o=!0)},p(e,t){let[r]=t;e[19]?s?(s.p(e,r),524288&r&&transition_in(s,1)):(s=create_if_block(e),s.c(),transition_in(s,1),s.m(n,null)):s&&(group_outros(),transition_out(s,1,1,(()=>{s=null})),check_outros())},i(e){a||(transition_in(s),a=!0)},o(e){transition_out(s),a=!1},d(a){a&&detach(t),e[29](null),a&&detach(r),a&&detach(n),s&&s.d(),e[30](null),o=!1,i()}}}function instance(e,t,r){const n=_async((function(){for(const e of c.querySelectorAll("a[target=_self]")){const t=getChartIdFromUrl(e.href);if(t&&S.nextSibling&&"script"===S.nextSibling.nodeName.toLowerCase()){const n=S.nextSibling,{url:a,pathPrefix:o}=getEmbedJsonUrl(n.src,t);window.datawrapper.chartData[t]||(window.datawrapper.chartData[t]=_async((function(){return _await(fetch(a,{mode:"cors"}),(function(e){return _await(e.json())}))}))()),e.addEventListener("click",_async((function(n){return _await(window.datawrapper.chartData[t],(function(a){return r(0,S.innerHTML="",S),window.datawrapper.render(a,{target:S,origin:`${o}${t}`,flags:parseFlagsFromElement(e)}),n.preventDefault(),!1}))})))}}return _await()}));let a,o,i,s,c,{data:l=""}=t,{chart:u={}}=t,{visualization:f={}}=t,{theme:p={}}=t,{themeDataDark:h={}}=t,{themeDataLight:d={}}=t,{locales:m={}}=t,{textDirection:g="ltr"}=t,{translations:y}=t,{blocks:b={}}=t,{chartAfterBodyHTML:$=""}=t,{isPreview:v}=t,{assets:_}=t,{styles:k}=t,{origin:w=""}=t,{fonts:E={}}=t,{themeFonts:x={}}=t,{outerContainer:S}=t,{themeCSSDark:A}=t,{isAutoDark:T}=t,{renderFlags:M={}}=t,O=!1;return e.$$set=e=>{"data"in e&&r(1,l=e.data),"chart"in e&&r(2,u=e.chart),"visualization"in e&&r(3,f=e.visualization),"theme"in e&&r(4,p=e.theme),"themeDataDark"in e&&r(5,h=e.themeDataDark),"themeDataLight"in e&&r(6,d=e.themeDataLight),"locales"in e&&r(7,m=e.locales),"textDirection"in e&&r(8,g=e.textDirection),"translations"in e&&r(9,y=e.translations),"blocks"in e&&r(10,b=e.blocks),"chartAfterBodyHTML"in e&&r(11,$=e.chartAfterBodyHTML),"isPreview"in e&&r(12,v=e.isPreview),"assets"in e&&r(13,_=e.assets),"styles"in e&&r(27,k=e.styles),"origin"in e&&r(14,w=e.origin),"fonts"in e&&r(15,E=e.fonts),"themeFonts"in e&&r(16,x=e.themeFonts),"outerContainer"in e&&r(0,S=e.outerContainer),"themeCSSDark"in e&&r(28,A=e.themeCSSDark),"isAutoDark"in e&&r(17,T=e.isAutoDark),"renderFlags"in e&&r(18,M=e.renderFlags)},e.$$.update=()=>{if(404226052&e.$$.dirty&&"undefined"!=typeof document&&!O&&a&&k){const e=document.createElement("style");e.id="css-light",e.textContent=k,e.media="(prefers-color-scheme: light)",a.appendChild(e);const t=document.createElement("style");t.id="css-dark",t.media="(prefers-color-scheme: dark)",t.textContent=A,a.appendChild(t),r(21,o=createEmotion({key:`datawrapper-${u.id}`,container:a})),r(19,O=!0)}if(65604&e.$$.dirty&&u.theme){const e=`datawrapper-${u.theme}`;if("undefined"!=typeof document&&!document.head.querySelector(`#${e}`)){const t=document.createElement("style");t.id=e;const r=document.fonts&&document.fonts.check&&!document.fonts.check("16px fNECMNZabqSjpxnZRdS"),n=createFontEntries_1.createFontEntries(x,d).filter((e=>!r||some_1(e.families||[e.family],(e=>!document.fonts.check(`16px ${e}`))))).map((e=>e.css)).join("\n");t.textContent=n,document.head.appendChild(t)}}},[S,l,u,f,p,h,d,m,g,y,b,$,v,_,w,E,x,T,M,O,a,o,i,s,c,function(e){r(22,i=e.contentRect.width),e.contentRect.height&&r(23,s=e.contentRect.height)},n,k,A,function(e){binding_callbacks[e?"unshift":"push"]((()=>{a=e,r(20,a)}))},function(e){binding_callbacks[e?"unshift":"push"]((()=>{c=e,r(24,c)}))}]}class VisualizationWebComponent_wc extends SvelteElement{constructor(e){super(),init(this,{target:this.shadowRoot,props:attribute_to_object(this.attributes),customElement:!0},instance,create_fragment,safe_not_equal,{data:1,chart:2,visualization:3,theme:4,themeDataDark:5,themeDataLight:6,locales:7,textDirection:8,translations:9,blocks:10,chartAfterBodyHTML:11,isPreview:12,assets:13,styles:27,origin:14,fonts:15,themeFonts:16,outerContainer:0,themeCSSDark:28,isAutoDark:17,renderFlags:18},null),e&&(e.target&&insert(e.target,this,e.anchor),e.props&&(this.$set(e.props),flush()))}static get observedAttributes(){return["data","chart","visualization","theme","themeDataDark","themeDataLight","locales","textDirection","translations","blocks","chartAfterBodyHTML","isPreview","assets","styles","origin","fonts","themeFonts","outerContainer","themeCSSDark","isAutoDark","renderFlags"]}get data(){return this.$$.ctx[1]}set data(e){this.$$set({data:e}),flush()}get chart(){return this.$$.ctx[2]}set chart(e){this.$$set({chart:e}),flush()}get visualization(){return this.$$.ctx[3]}set visualization(e){this.$$set({visualization:e}),flush()}get theme(){return this.$$.ctx[4]}set theme(e){this.$$set({theme:e}),flush()}get themeDataDark(){return this.$$.ctx[5]}set themeDataDark(e){this.$$set({themeDataDark:e}),flush()}get themeDataLight(){return this.$$.ctx[6]}set themeDataLight(e){this.$$set({themeDataLight:e}),flush()}get locales(){return this.$$.ctx[7]}set locales(e){this.$$set({locales:e}),flush()}get textDirection(){return this.$$.ctx[8]}set textDirection(e){this.$$set({textDirection:e}),flush()}get translations(){return this.$$.ctx[9]}set translations(e){this.$$set({translations:e}),flush()}get blocks(){return this.$$.ctx[10]}set blocks(e){this.$$set({blocks:e}),flush()}get chartAfterBodyHTML(){return this.$$.ctx[11]}set chartAfterBodyHTML(e){this.$$set({chartAfterBodyHTML:e}),flush()}get isPreview(){return this.$$.ctx[12]}set isPreview(e){this.$$set({isPreview:e}),flush()}get assets(){return this.$$.ctx[13]}set assets(e){this.$$set({assets:e}),flush()}get styles(){return this.$$.ctx[27]}set styles(e){this.$$set({styles:e}),flush()}get origin(){return this.$$.ctx[14]}set origin(e){this.$$set({origin:e}),flush()}get fonts(){return this.$$.ctx[15]}set fonts(e){this.$$set({fonts:e}),flush()}get themeFonts(){return this.$$.ctx[16]}set themeFonts(e){this.$$set({themeFonts:e}),flush()}get outerContainer(){return this.$$.ctx[0]}set outerContainer(e){this.$$set({outerContainer:e}),flush()}get themeCSSDark(){return this.$$.ctx[28]}set themeCSSDark(e){this.$$set({themeCSSDark:e}),flush()}get isAutoDark(){return this.$$.ctx[17]}set isAutoDark(e){this.$$set({isAutoDark:e}),flush()}get renderFlags(){return this.$$.ctx[18]}set renderFlags(e){this.$$set({renderFlags:e}),flush()}}window.datawrapper.VisualizationWebComponent=VisualizationWebComponent_wc})();