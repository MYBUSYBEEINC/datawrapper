!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/account/profile",t):(e="undefined"!=typeof globalThis?globalThis:e||self)["account/profile"]=t()}(this,(function(){"use strict";function e(){}function t(e,t){for(var s in t)e[s]=t[s];return e}function s(e,t){for(var s in t)e[s]=1;return e}function r(e,t){e.appendChild(t)}function n(e,t,s){e.insertBefore(t,s)}function o(e){e.parentNode.removeChild(e)}function a(e,t){for(var s=0;s<e.length;s+=1)e[s]&&e[s].d(t)}function c(){return document.createDocumentFragment()}function i(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function l(){return document.createComment("")}function u(e,t,s,r){e.addEventListener(t,s,r)}function p(e,t,s,r){e.removeEventListener(t,s,r)}function h(e,t,s){null==s?e.removeAttribute(t):e.setAttribute(t,s)}function f(e,t,s){e.style.setProperty(t,s)}function w(e,t,s){e.classList[s?"add":"remove"](t)}function m(){return Object.create(null)}function g(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function v(e,t){return e!=e?t==t:e!==t}function _(e,t){var s=e in this._handlers&&this._handlers[e].slice();if(s)for(var r=0;r<s.length;r+=1){var n=s[r];if(!n.__calling)try{n.__calling=!0,n.call(this,t)}finally{n.__calling=!1}}}function b(e){e._lock=!0,E(e._beforecreate),E(e._oncreate),E(e._aftercreate),e._lock=!1}function k(){return this._state}function y(e,t){e._handlers=m(),e._slots=m(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function P(e,t){var s=this._handlers[e]||(this._handlers[e]=[]);return s.push(t),{cancel:function(){var e=s.indexOf(t);~e&&s.splice(e,1)}}}function E(e){for(;e&&e.length;)e.shift()()}var N={destroy:function(t){this.destroy=e,this.fire("destroy"),this.set=e,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:k,fire:_,on:P,set:function(e){this._set(t({},e)),this.root._lock||b(this.root)},_recompute:e,_set:function(e){var s=this._state,r={},n=!1;for(var o in e=t(this._staged,e),this._staged={},e)this._differs(e[o],s[o])&&(r[o]=n=!0);n&&(this._state=t(t({},s),e),this._recompute(r,this._state),this._bind&&this._bind(r,this._state),this._fragment&&(this.fire("state",{changed:r,current:this._state,previous:s}),this._fragment.p(r,this._state),this.fire("update",{changed:r,current:this._state,previous:s})))},_stage:function(e){t(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:g};const S={};function H(e="core"){"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(S[e]=window.__dw.vis.meta.locale||{}):S[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function x(e,t="core"){if(e=e.trim(),S[t]||H(t),!S[t][e])return"MISSING:"+e;var s=S[t][e];return"string"==typeof s&&arguments.length>2&&(s=s.replace(/\$(\d)/g,(e,t)=>(t=2+Number(t),void 0===arguments[t]?e:arguments[t]))),s}var T={exports:{}};
/*!
	 * JavaScript Cookie v2.2.1
	 * https://github.com/js-cookie/js-cookie
	 *
	 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
	 * Released under the MIT license
	 */!function(e,t){var s;s=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var s=arguments[e];for(var r in s)t[r]=s[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function s(r){function n(){}function o(t,s,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},n.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(s);/^[\{\[]/.test(a)&&(s=a)}catch(e){}s=r.write?r.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var i in o)o[i]&&(c+="; "+i,!0!==o[i]&&(c+="="+o[i].split(";")[0]));return document.cookie=t+"="+s+c}}function a(e,s){if("undefined"!=typeof document){for(var n={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var c=o[a].split("="),i=c.slice(1).join("=");s||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var d=t(c[0]);if(i=(r.read||r)(i,d)||t(i),s)try{i=JSON.parse(i)}catch(e){}if(n[d]=i,e===d)break}catch(e){}}return e?n[e]:n}}return n.set=o,n.get=function(e){return a(e,!1)},n.getJSON=function(e){return a(e,!0)},n.remove=function(t,s){o(t,"",e(s,{expires:-1}))},n.defaults={},n.withConverter=s,n}((function(){}))},e.exports=s()}(T);var C=T.exports;const A=new Set(["get","head","options","trace"]);function q(e,t={}){if(!t.fetch)try{t.fetch=window.fetch}catch(e){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!t.baseUrl)try{t.baseUrl="//"+window.dw.backend.__api_domain}catch(e){throw new Error("Neither options.baseUrl nor window.dw is defined.")}const{payload:s,baseUrl:r,fetch:n,raw:o,...a}={payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include",...t,headers:{"Content-Type":"application/json",...t.headers}},c=`${r.replace(/\/$/,"")}/${e.replace(/^\//,"")}`;let i;if(s&&(a.body=JSON.stringify(s)),A.has(a.method.toLowerCase()))i=n(c,a);else{const e=C.get("crumb");e?(a.headers["X-CSRF-Token"]=e,i=n(c,a)):i=q("/v3/me",{fetch:n,baseUrl:r}).then(()=>{const e=C.get("crumb");e&&(a.headers["X-CSRF-Token"]=e)}).catch(()=>{}).then(()=>n(c,a))}return i.then(e=>{if(o)return e;if(!e.ok)throw new L(e);if(204===e.status||!e.headers.get("content-type"))return e;const t=e.headers.get("content-type").split(";")[0];return"application/json"===t?e.json():"image/png"===t||"application/pdf"===t?e.blob():e.text()})}function O(e){return(t,s)=>{if(s&&s.method)throw new Error(`Setting option.method is not allowed in httpReq.${e.toLowerCase()}()`);return q(t,{...s,method:e})}}q.get=O("GET"),q.patch=O("PATCH"),q.put=O("PUT"),q.post=O("POST"),q.head=O("HEAD"),q.delete=O("DELETE");class L extends Error{constructor(e){super(),this.name="HttpReqError",this.status=e.status,this.statusText=e.statusText,this.message=`[${e.status}] ${e.statusText}`,this.response=e}}function M(e,t){var s;return{c(){(s=i("label")).className="control-label svelte-1nkiaxn"},m(e,r){n(e,s,r),s.innerHTML=t.label},p(e,t){e.label&&(s.innerHTML=t.label)},d(e){e&&o(s)}}}function j(e,t){var s;return{c(){(s=i("div")).className="help success svelte-1nkiaxn"},m(e,r){n(e,s,r),s.innerHTML=t.success},p(e,t){e.success&&(s.innerHTML=t.success)},d(e){e&&o(s)}}}function U(e,t){var s;return{c(){(s=i("div")).className="help error svelte-1nkiaxn"},m(e,r){n(e,s,r),s.innerHTML=t.error},p(e,t){e.error&&(s.innerHTML=t.error)},d(e){e&&o(s)}}}function R(e,t){var s;return{c(){(s=i("div")).className="help svelte-1nkiaxn"},m(e,r){n(e,s,r),s.innerHTML=t.help},p(e,t){e.help&&(s.innerHTML=t.help)},d(e){e&&o(s)}}}function $(e){var s,a,c,l,u,p,h,m,g,v,_,b,k;y(this,e),this._state=t({label:"",help:"",error:!1,success:!1,width:"auto",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(s=this,a=this._state,g=s._slotted.default,v=a.label&&M(0,a),_=a.success&&j(0,a),b=a.error&&U(0,a),k=!a.success&&!a.error&&a.help&&R(0,a),{c(){c=i("div"),v&&v.c(),l=d("\n    "),u=i("div"),p=d("\n    "),_&&_.c(),h=d(" "),b&&b.c(),m=d(" "),k&&k.c(),u.className="form-controls svelte-1nkiaxn",c.className="form-block svelte-1nkiaxn",f(c,"width",a.width),c.dataset.uid=a.uid,w(c,"success",a.success),w(c,"error",a.error)},m(e,t){n(e,c,t),v&&v.m(c,null),r(c,l),r(c,u),g&&r(u,g),r(c,p),_&&_.m(c,null),r(c,h),b&&b.m(c,null),r(c,m),k&&k.m(c,null)},p(e,t){t.label?v?v.p(e,t):((v=M(0,t)).c(),v.m(c,l)):v&&(v.d(1),v=null),t.success?_?_.p(e,t):((_=j(0,t)).c(),_.m(c,h)):_&&(_.d(1),_=null),t.error?b?b.p(e,t):((b=U(0,t)).c(),b.m(c,m)):b&&(b.d(1),b=null),t.success||t.error||!t.help?k&&(k.d(1),k=null):k?k.p(e,t):((k=R(0,t)).c(),k.m(c,null)),e.width&&f(c,"width",t.width),e.uid&&(c.dataset.uid=t.uid),e.success&&w(c,"success",t.success),e.error&&w(c,"error",t.error)},d(e){e&&o(c),v&&v.d(),g&&function(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}(u,g),_&&_.d(),b&&b.d(),k&&k.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t($.prototype,N);let I,D=!1;function B({password:e}){return I?I(e):(!D&&e.length>4&&(D=!0,require(["zxcvbn"],e=>{I=e})),!1)}function Y(t,s){return{c:e,m:e,d:e}}function F(e){var s,r,a;y(this,e),this._state=t({password:""},e.data),this._recompute({password:1,passwordStrength:1,passwordTooShort:1,passwordHelp:1},this._state),this._intro=!0,this._fragment=(s=this._state,a=s.password.length>=8&&Y(),{c(){a&&a.c(),r=l()},m(e,t){a&&a.m(e,t),n(e,r,t)},p(e,t){t.password.length>=8?a||((a=Y()).c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&o(r)}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(F.prototype,N),F.prototype._recompute=function(e,t){e.password&&(this._differs(t.passwordTooShort,t.passwordTooShort=function({password:e}){return e.length<8}(t))&&(e.passwordTooShort=!0),this._differs(t.passwordStrength,t.passwordStrength=B(t))&&(e.passwordStrength=!0)),(e.password||e.passwordStrength)&&this._differs(t.passwordHelp,t.passwordHelp=function({password:e,passwordStrength:t}){return""!==e&&t?x("account / password / "+["bad","weak","ok","good","excellent"][t.score]):x("account / pwd-too-short").replace("%num",8)}(t))&&(e.passwordHelp=!0),(e.password||e.passwordTooShort||e.passwordStrength||e.passwordHelp)&&this._differs(t.passwordError,t.passwordError=function({password:e,passwordTooShort:t,passwordStrength:s,passwordHelp:r}){return!!e&&(t?x("account / pwd-too-short").replace("%num",8):!!(s&&s.score<2)&&r)}(t))&&(e.passwordError=!0),(e.passwordStrength||e.passwordHelp)&&this._differs(t.passwordSuccess,t.passwordSuccess=function({passwordStrength:e,passwordHelp:t}){return!!(e&&e.score>2)&&t}(t))&&(e.passwordSuccess=!0),(e.password||e.passwordTooShort)&&this._differs(t.passwordOk,t.passwordOk=function({password:e,passwordTooShort:t}){return e&&!t}(t))&&(e.passwordOk=!0)};var G={async changeEmail(){var{email:e}=this.get();this.set({savingEmail:!0});const t=[],s=[];try{const s=await q.patch("/v3/me",{payload:{email:e}});t.push("Your email has been changed successfully. You will receive an email with a confirmation link."),this.set({email:s.email})}catch(e){if("HttpReqError"===e.name){const t=await e.response.json();"Invalid request payload input"===t.message?s.push(x("account / change-email / error / invalid-email")):s.push(t.message?x("account / change-email / error / "+t.message):e.message)}else s.push("Unknown error: "+e)}this.set({savingEmail:!1}),s.length?this.set({errors:s}):this.set({changeEmail:!1,messages:t,errors:[]})},async changePassword(){const{currentPassword:e,newPassword:t}=this.get();this.set({savingPassword:!0});const s={password:t,oldPassword:e},r=[],n=[];try{await q.patch("/v3/me",{payload:s}),r.push("Your password has been changed!")}catch(e){if("HttpReqError"===e.name){const t=await e.response.json();n.push(t.message||e.message)}else n.push("Unknown error: "+e)}0===n.length?this.set({changePassword:!1,currentPassword:"",newPassword:"",messages:r,errors:[]}):this.set({errors:n}),this.set({savingPassword:!1})},async deleteAccount(){const{confirmPassword:e,confirmEmail:t}=this.get();this.set({deletingAccount:!0});const s=[];try{await q.delete("/v3/me",{payload:{password:e,email:t}})}catch(e){if("HttpReqError"===e.name){const t=await e.response.json();"delete-or-transfer-teams-first"===t.message?s.push(x("account / delete / team-conflict")):s.push(t.message||e.message)}else s.push("Unknown error: "+e)}this.set({deletingAccount:!1}),s.length?this.set({errors:s}):this.set({deleteAccount2:!1,deleteAccount3:!0})}};function J(){const{emailChanged:e}=this.get();e&&(this.set({messages:[x("account / profile / email-changed")]}),window.history.replaceState("","",window.location.pathname))}function X(e,t,s){const r=Object.create(e);return r.message=t[s],r}function z(e,t,s){const r=Object.create(e);return r.message=t[s],r}function Z(e,t){for(var s,c,d,l=t.messages,u=[],p=0;p<l.length;p+=1)u[p]=K(e,z(t,l,p));return{c(){s=i("div"),c=i("div"),d=i("div");for(var e=0;e<u.length;e+=1)u[e].c();d.className="alert alert-success svelte-1uqq9ww",c.className="span6",s.className="row",f(s,"margin-top","20px")},m(e,t){n(e,s,t),r(s,c),r(c,d);for(var o=0;o<u.length;o+=1)u[o].m(d,null)},p(t,s){if(t.messages){l=s.messages;for(var r=0;r<l.length;r+=1){const n=z(s,l,r);u[r]?u[r].p(t,n):(u[r]=K(e,n),u[r].c(),u[r].m(d,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=l.length}},d(e){e&&o(s),a(u,e)}}}function K(e,t){var s,r=t.message;return{c(){(s=i("p")).className="svelte-1uqq9ww"},m(e,t){n(e,s,t),s.innerHTML=r},p(e,t){e.messages&&r!==(r=t.message)&&(s.innerHTML=r)},d(e){e&&o(s)}}}function Q(e,t){var s,r=t.errors.join("");return{c(){(s=i("div")).className="alert alert-warning"},m(e,t){n(e,s,t),s.innerHTML=r},p(e,t){e.errors&&r!==(r=t.errors.join(""))&&(s.innerHTML=r)},d(e){e&&o(s)}}}function V(t,s){var a,c,l=x("account / email");function h(e){t.set({changeEmail:!0})}return{c(){a=i("button"),c=d(l),u(a,"click",h),a.className="btn btn-save btn-default"},m(e,t){n(e,a,t),r(a,c)},p:e,d(e){e&&o(a),p(a,"click",h)}}}function W(e,t){var s,a,c,l,h,f,w,m,g=x("Back"),v=x("account / email");function _(t){e.set({changeEmail:!1})}function b(t){e.changeEmail()}return{c(){s=i("button"),a=d(g),c=d("\n            "),l=i("button"),h=i("i"),w=d("  "),m=d(v),u(s,"click",_),s.className="btn btn-default",h.className=f="fa "+(t.savingEmail?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww",u(l,"click",b),l.className="btn btn-save btn-primary"},m(e,t){n(e,s,t),r(s,a),n(e,c,t),n(e,l,t),r(l,h),r(l,w),r(l,m)},p(e,t){e.savingEmail&&f!==(f="fa "+(t.savingEmail?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww")&&(h.className=f)},d(e){e&&o(s),p(s,"click",_),e&&(o(c),o(l)),p(l,"click",b)}}}function ee(e,t){var s,a,l,w,m,g,v,_,b,k,y,P,E,N,S,H,T,C,A,q,O,L,M,j,U,R,I=x("account / password"),D=x("Back"),B=!1,Y={},G=x("account / invite / password-clear-text"),J=x("account / password");function X(t){e.set({changePassword:!1})}var z=t.changePassword&&t.errors&&t.errors.length&&se(e,t);function Z(){B=!0,e.set({currentPassword:_.value}),B=!1}var K={label:x("Current Password"),help:x("account / password / current-password-note")},Q=new $({root:e.root,store:e.store,slots:{default:c()},data:K});function V(e){return e.showPasswordAsClearText?oe:ne}var W=V(t),ee=W(e,t),te={};void 0!==t.newPassword&&(te.password=t.newPassword,Y.password=!0),void 0!==t.passwordHelp&&(te.passwordHelp=t.passwordHelp,Y.passwordHelp=!0),void 0!==t.passwordSuccess&&(te.passwordSuccess=t.passwordSuccess,Y.passwordSuccess=!0),void 0!==t.passwordError&&(te.passwordError=t.passwordError,Y.passwordError=!0),void 0!==t.newPasswordOk&&(te.passwordOk=t.newPasswordOk,Y.passwordOk=!0);var re=new F({root:e.root,store:e.store,data:te,_bind(t,s){var r={};!Y.password&&t.password&&(r.newPassword=s.password),!Y.passwordHelp&&t.passwordHelp&&(r.passwordHelp=s.passwordHelp),!Y.passwordSuccess&&t.passwordSuccess&&(r.passwordSuccess=s.passwordSuccess),!Y.passwordError&&t.passwordError&&(r.passwordError=s.passwordError),!Y.passwordOk&&t.passwordOk&&(r.newPasswordOk=s.passwordOk),e._set(r),Y={}}});e.root._beforecreate.push(()=>{re._bind({password:1,passwordHelp:1,passwordSuccess:1,passwordError:1,passwordOk:1},re.get())});var ae={error:t.passwordError,label:x("New Password"),success:t.passwordSuccess,help:t.passwordHelp},ce=new $({root:e.root,store:e.store,slots:{default:c()},data:ae});function ie(){e.set({showPasswordAsClearText:S.checked})}function de(t){e.changePassword()}return{c(){s=i("h3"),a=d(I),l=d("\n            "),w=i("button"),m=d(D),g=d("\n        "),z&&z.c(),v=d("\n        "),_=i("input"),Q._fragment.c(),b=d("\n\n        "),ee.c(),k=d("\n            "),y=i("div"),re._fragment.c(),ce._fragment.c(),P=d("\n        "),E=i("div"),N=i("label"),S=i("input"),H=d("\n                "),T=i("noscript"),C=d("\n\n        "),A=i("button"),q=i("i"),L=d("  "),M=d(J),U=d("\n        "),R=i("hr"),u(w,"click",X),w.className="btn btn-save btn-default btn-back",u(_,"input",Z),h(_,"type","password"),_.className="input-xlarge",f(y,"width","287px"),u(S,"change",ie),h(S,"type","checkbox"),N.className="checkbox",E.className="control-group",f(E,"margin-top","-10px"),f(E,"margin-bottom","20px"),q.className=O="fa "+(t.savingPassword?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww",u(A,"click",de),A.disabled=j=!(t.newPasswordOk&&t.currentPassword),A.className="btn btn-primary"},m(e,o){n(e,s,o),r(s,a),r(s,l),r(s,w),r(w,m),n(e,g,o),z&&z.m(e,o),n(e,v,o),r(Q._slotted.default,_),_.value=t.currentPassword,Q._mount(e,o),n(e,b,o),ee.m(ce._slotted.default,null),r(ce._slotted.default,k),r(ce._slotted.default,y),re._mount(y,null),ce._mount(e,o),n(e,P,o),n(e,E,o),r(E,N),r(N,S),S.checked=t.showPasswordAsClearText,r(N,H),r(N,T),T.insertAdjacentHTML("afterend",G),n(e,C,o),n(e,A,o),r(A,q),r(A,L),r(A,M),n(e,U,o),n(e,R,o)},p(s,r){(t=r).changePassword&&t.errors&&t.errors.length?z?z.p(s,t):((z=se(e,t)).c(),z.m(v.parentNode,v)):z&&(z.d(1),z=null),!B&&s.currentPassword&&(_.value=t.currentPassword),W===(W=V(t))&&ee?ee.p(s,t):(ee.d(1),(ee=W(e,t)).c(),ee.m(k.parentNode,k));var n={};!Y.password&&s.newPassword&&(n.password=t.newPassword,Y.password=void 0!==t.newPassword),!Y.passwordHelp&&s.passwordHelp&&(n.passwordHelp=t.passwordHelp,Y.passwordHelp=void 0!==t.passwordHelp),!Y.passwordSuccess&&s.passwordSuccess&&(n.passwordSuccess=t.passwordSuccess,Y.passwordSuccess=void 0!==t.passwordSuccess),!Y.passwordError&&s.passwordError&&(n.passwordError=t.passwordError,Y.passwordError=void 0!==t.passwordError),!Y.passwordOk&&s.newPasswordOk&&(n.passwordOk=t.newPasswordOk,Y.passwordOk=void 0!==t.newPasswordOk),re._set(n),Y={};var o={};s.passwordError&&(o.error=t.passwordError),s.passwordSuccess&&(o.success=t.passwordSuccess),s.passwordHelp&&(o.help=t.passwordHelp),ce._set(o),s.showPasswordAsClearText&&(S.checked=t.showPasswordAsClearText),s.savingPassword&&O!==(O="fa "+(t.savingPassword?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww")&&(q.className=O),(s.newPasswordOk||s.currentPassword)&&j!==(j=!(t.newPasswordOk&&t.currentPassword))&&(A.disabled=j)},d(e){e&&o(s),p(w,"click",X),e&&o(g),z&&z.d(e),e&&o(v),p(_,"input",Z),Q.destroy(e),e&&o(b),ee.d(),re.destroy(),ce.destroy(e),e&&(o(P),o(E)),p(S,"change",ie),e&&(o(C),o(A)),p(A,"click",de),e&&(o(U),o(R))}}}function te(t,s){var n,o,a,l,f=x("account / password");function w(e){t.set({changePassword:!0})}var m={label:x("Password"),help:""},g=new $({root:t.root,store:t.store,slots:{default:c()},data:m});return{c(){n=i("input"),o=d("\n            "),a=i("button"),l=d(f),g._fragment.c(),n.disabled=!0,n.value="abcdefgh",h(n,"type","password"),u(a,"click",w),a.className="btn btn-save btn-default"},m(e,t){r(g._slotted.default,n),r(g._slotted.default,o),r(g._slotted.default,a),r(a,l),g._mount(e,t)},p:e,d(e){p(a,"click",w),g.destroy(e)}}}function se(e,t){for(var s,r=t.errors,c=[],d=0;d<r.length;d+=1)c[d]=re(e,X(t,r,d));return{c(){s=i("div");for(var e=0;e<c.length;e+=1)c[e].c();s.className="alert svelte-1uqq9ww"},m(e,t){n(e,s,t);for(var r=0;r<c.length;r+=1)c[r].m(s,null)},p(t,n){if(t.errors){r=n.errors;for(var o=0;o<r.length;o+=1){const a=X(n,r,o);c[o]?c[o].p(t,a):(c[o]=re(e,a),c[o].c(),c[o].m(s,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=r.length}},d(e){e&&o(s),a(c,e)}}}function re(e,t){var s,r=t.message;return{c(){(s=i("p")).className="svelte-1uqq9ww"},m(e,t){n(e,s,t),s.innerHTML=r},p(e,t){e.errors&&r!==(r=t.message)&&(s.innerHTML=r)},d(e){e&&o(s)}}}function ne(e,t){var s,r=!1;function a(){r=!0,e.set({newPassword:s.value}),r=!1}return{c(){u(s=i("input"),"input",a),s.dataset.lpignore="true",h(s,"type","password"),s.className="input-xlarge"},m(e,r){n(e,s,r),s.value=t.newPassword},p(e,t){!r&&e.newPassword&&(s.value=t.newPassword)},d(e){e&&o(s),p(s,"input",a)}}}function oe(e,t){var s,r=!1;function a(){r=!0,e.set({newPassword:s.value}),r=!1}return{c(){u(s=i("input"),"input",a),s.dataset.lpignore="true",h(s,"type","text"),s.className="input-xlarge"},m(e,r){n(e,s,r),s.value=t.newPassword},p(e,t){!r&&e.newPassword&&(s.value=t.newPassword)},d(e){e&&o(s),p(s,"input",a)}}}function ae(t,s){var n,o,a=x("account / delete");function l(e){t.set({deleteAccount:!0})}var f=new $({root:t.root,store:t.store,slots:{default:c()},data:{label:"Delete account",help:""}});return{c(){n=i("button"),o=d(a),f._fragment.c(),u(n,"click",l),n.className="btn btn-danger",h(n,"href","#")},m(e,t){r(f._slotted.default,n),r(n,o),f._mount(e,t)},p:e,d(e){p(n,"click",l),f.destroy(e)}}}function ce(t,s){var a,c,l,h,f,w,m,g,v,_,b,k,y,P,E,N,S=x("account / confirm-account-deletion"),H=x("account / confirm-account-deletion / no"),T=x("account / or"),C=x("account / confirm-account-deletion / yes");function A(e){t.set({deleteAccount:!1})}function q(e){t.set({deleteAccount:!1,deleteAccount2:!0})}return{c(){a=i("h3"),c=i("i"),l=d(" "),h=d(S),f=d("\n        "),w=i("button"),m=i("i"),g=d("\n              "),v=d(H),_=d("\n\n        "),b=d(T),k=d("\n\n        "),y=i("button"),P=i("i"),E=d("   "),N=d(C),c.className="fa fa-times svelte-1uqq9ww",a.className="svelte-1uqq9ww",m.className="fa fa-chevron-left",u(w,"click",A),w.className="btn btn-back btn-primary",P.className="fa fa-times",u(y,"click",q),y.className="btn btn-default"},m(e,t){n(e,a,t),r(a,c),r(a,l),r(a,h),n(e,f,t),n(e,w,t),r(w,m),r(w,g),r(w,v),n(e,_,t),n(e,b,t),n(e,k,t),n(e,y,t),r(y,P),r(y,E),r(y,N)},p:e,d(e){e&&(o(a),o(f),o(w)),p(w,"click",A),e&&(o(_),o(b),o(k),o(y)),p(y,"click",q)}}}function ie(e,t){var s,a,l,w,m,g,v,_,b,k,y,P,E,N,S,H,T,C,A,q,O,L,M,j,U,R,I,D,B,Y,F,G,J,X,z,Z,K,Q=x("account / delete / hed"),V=x("account / delete / really"),W=x("account / confirm-account-deletion / free"),ee=x("You cannot login and logout anymore."),te=x("You cannot edit or remove your charts anymore."),se=x("account / delete / charts-stay-online"),re=!1,ne=!1,oe=x("account / delete / really-really"),ae=x("No, I changed my mind.."),ce=x("Yes, delete it!");function ie(){re=!0,e.set({confirmEmail:O.value}),re=!1}function de(){ne=!0,e.set({confirmPassword:M.value}),ne=!1}var le={label:x("Please enter your password to confirm the deletion request:"),error:!(!t.errors||!t.errors.length)&&t.errors.join(". ")},ue=new $({root:e.root,store:e.store,slots:{default:c()},data:le});function pe(t){e.set({deleteAccount2:!1})}function he(t){e.deleteAccount()}return{c(){s=i("h2"),a=d(Q),l=d("\n        "),w=i("div"),m=i("p"),g=d(V),v=d("\n            "),_=i("ul"),b=i("li"),k=d(W),y=d("\n                "),P=i("li"),E=d(ee),N=d("\n                "),S=i("li"),H=d(te),T=d("\n            "),C=i("p"),A=d(se),q=d("\n\n            "),O=i("input"),L=d("\n                "),M=i("input"),ue._fragment.c(),j=d("\n            "),U=i("p"),R=d("\n            "),I=i("div"),D=i("button"),B=i("i"),Y=d("  "),F=d(ae),G=d("\n                "),J=i("button"),X=i("i"),Z=d(" \n                    "),K=d(ce),f(s,"margin-bottom","20px"),u(O,"input",ie),h(O,"type","email"),O.placeholder=x("E-Mail"),u(M,"input",de),h(M,"type","password"),M.placeholder=x("Password"),U.className="lead",B.className="fa fa-chevron-left",u(D,"click",pe),D.className="btn btn-info",X.className=z="fa "+(t.deletingAccount?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww",u(J,"click",he),J.className="btn btn-danger",I.className="control-group",w.className="delete-account"},m(e,o){n(e,s,o),r(s,a),n(e,l,o),n(e,w,o),r(w,m),r(m,g),r(w,v),r(w,_),r(_,b),r(b,k),r(_,y),r(_,P),r(P,E),r(_,N),r(_,S),r(S,H),r(w,T),r(w,C),r(C,A),r(w,q),r(ue._slotted.default,O),O.value=t.confirmEmail,r(ue._slotted.default,L),r(ue._slotted.default,M),M.value=t.confirmPassword,ue._mount(w,null),r(w,j),r(w,U),U.innerHTML=oe,r(w,R),r(w,I),r(I,D),r(D,B),r(D,Y),r(D,F),r(I,G),r(I,J),r(J,X),r(J,Z),r(J,K)},p(e,t){!re&&e.confirmEmail&&(O.value=t.confirmEmail),!ne&&e.confirmPassword&&(M.value=t.confirmPassword);var s={};e.errors&&(s.error=!(!t.errors||!t.errors.length)&&t.errors.join(". ")),ue._set(s),e.deletingAccount&&z!==(z="fa "+(t.deletingAccount?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww")&&(X.className=z)},d(e){e&&(o(s),o(l),o(w)),p(O,"input",ie),p(M,"input",de),ue.destroy(),p(D,"click",pe),p(J,"click",he)}}}function de(t,s){var a,c,l,u,p,h,w,m,g=x("account / delete / hed"),v=x("Your account has been deleted."),_=x("Goodbye!");return{c(){a=i("h2"),c=d(g),l=d("\n        "),u=i("h3"),p=d(v),h=d("\n        "),w=i("a"),m=d(_),f(a,"margin-bottom","20px"),w.href="/",w.className="btn btn-primary btn-large"},m(e,t){n(e,a,t),r(a,c),n(e,l,t),n(e,u,t),r(u,p),n(e,h,t),n(e,w,t),r(w,m)},p:e,d(e){e&&(o(a),o(l),o(u),o(h),o(w))}}}function le(e){y(this,e),this._state=t({changePassword:!1,changeEmail:!1,emailChanged:!1,deleteAccount:!1,deleteAccount2:!1,deleteAccount3:!1,deletingAccount:!1,showPasswordInPlaintext:!1,messages:[],currentPassword:"",newPassword:"",newPasswordOk:!1,passwordError:!1,passwordHelp:!1,passwordSuccess:!1,confirmEmail:"",confirmPassword:"",email:"",savingEmail:!1,savingPassword:!1,showPasswordAsClearText:!1,errors:[],groups:[{title:"Account settings",tabs:[{title:"Profile",icon:"fa fa-fw fa-user"}]},{title:"Team settings",tabs:[]}]},e.data),this._intro=!0,this._fragment=function(e,t){var s,a,w,m,g,v,_,b,k,y,P,E,N,S,H=!1,T=x("account / change-login"),C=t.messages&&t.messages.length&&Z(e,t),A=t.changeEmail&&t.errors.length&&Q(e,t);function q(){H=!0,e.set({email:g.value}),H=!1}function O(e){return e.changeEmail?W:V}var L=O(t),M=L(e,t),j={label:x("E-Mail"),help:t.changeEmail?x("account / confirm-email-change"):""},U=new $({root:e.root,store:e.store,slots:{default:c()},data:j});function R(e){return e.changePassword?ee:te}var I=R(t),D=I(e,t);function B(e){return e.deleteAccount3?de:e.deleteAccount2?ie:e.deleteAccount?ce:ae}var Y=B(t),F=Y(e,t);return{c(){C&&C.c(),s=d("\n\n"),a=i("div"),w=i("div"),A&&A.c(),m=d("\n        "),g=i("input"),_=d("\n            "),M.c(),b=l(),U._fragment.c(),k=d("\n\n        "),D.c(),y=d(" "),F.c(),P=d("\n    "),E=i("div"),N=i("p"),S=d(T),u(g,"input",q),g.disabled=v=!t.changeEmail,h(g,"type","email"),w.className="span6",N.className="help",E.className="span4",a.className="row edit-account",f(a,"margin-top",(t.messages&&t.messages.length?0:20)+"px")},m(e,o){C&&C.m(e,o),n(e,s,o),n(e,a,o),r(a,w),A&&A.m(w,null),r(w,m),r(U._slotted.default,g),g.value=t.email,r(U._slotted.default,_),M.m(U._slotted.default,null),r(U._slotted.default,b),U._mount(w,null),r(w,k),D.m(w,null),r(w,y),F.m(w,null),r(a,P),r(a,E),r(E,N),r(N,S)},p(t,r){r.messages&&r.messages.length?C?C.p(t,r):((C=Z(e,r)).c(),C.m(s.parentNode,s)):C&&(C.d(1),C=null),r.changeEmail&&r.errors.length?A?A.p(t,r):((A=Q(e,r)).c(),A.m(w,m)):A&&(A.d(1),A=null),!H&&t.email&&(g.value=r.email),t.changeEmail&&v!==(v=!r.changeEmail)&&(g.disabled=v),L===(L=O(r))&&M?M.p(t,r):(M.d(1),(M=L(e,r)).c(),M.m(b.parentNode,b));var n={};t.changeEmail&&(n.help=r.changeEmail?x("account / confirm-email-change"):""),U._set(n),I===(I=R(r))&&D?D.p(t,r):(D.d(1),(D=I(e,r)).c(),D.m(w,y)),Y===(Y=B(r))&&F?F.p(t,r):(F.d(1),(F=Y(e,r)).c(),F.m(w,null)),t.messages&&f(a,"margin-top",(r.messages&&r.messages.length?0:20)+"px")},d(e){C&&C.d(e),e&&(o(s),o(a)),A&&A.d(),p(g,"input",q),M.d(),U.destroy(),D.d(),F.d()}}}(this,this._state),this.root._oncreate.push(()=>{J.call(this),this.fire("update",{changed:s({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),b(this))}function ue(e,s){this._handlers={},this._dependents=[],this._computed=m(),this._sortedComputedProperties=[],this._state=t({},e),this._differs=s&&s.immutable?v:g}t(le.prototype,N),t(le.prototype,G),t(ue.prototype,{_add(e,t){this._dependents.push({component:e,props:t})},_init(e){const t={};for(let s=0;s<e.length;s+=1){const r=e[s];t["$"+r]=this._state[r]}return t},_remove(e){let t=this._dependents.length;for(;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set(e,s){const r=this._state;this._state=t(t({},r),e);for(let e=0;e<this._sortedComputedProperties.length;e+=1)this._sortedComputedProperties[e].update(this._state,s);this.fire("state",{changed:s,previous:r,current:this._state}),this._dependents.filter(e=>{const t={};let r=!1;for(let n=0;n<e.props.length;n+=1){const o=e.props[n];o in s&&(t["$"+o]=this._state[o],r=!0)}if(r)return e.component._stage(t),!0}).forEach(e=>{e.component.set({})}),this.fire("update",{changed:s,previous:r,current:this._state})},_sortComputedProperties(){const e=this._computed,t=this._sortedComputedProperties=[],s=m();let r;function n(o){const a=e[o];a&&(a.deps.forEach(e=>{if(e===r)throw new Error(`Cyclical dependency detected between ${e} <-> ${o}`);n(e)}),s[o]||(s[o]=!0,t.push(a)))}for(const e in this._computed)n(r=e)},compute(e,s,r){let n;const o={deps:s,update:(t,o,a)=>{const c=s.map(e=>(e in o&&(a=!0),t[e]));if(a){const s=r.apply(null,c);this._differs(s,n)&&(n=s,o[e]=!0,t[e]=n)}}};this._computed[e]=o,this._sortComputedProperties();const a=t({},this._state),c={};o.update(a,c,!0),this._set(a,c)},fire:_,get:k,on:P,set(e){const t=this._state,s=this._changed={};let r=!1;for(const n in e){if(this._computed[n])throw new Error(`'${n}' is a read-only computed property`);this._differs(e[n],t[n])&&(s[n]=r=!0)}r&&this._set(e,s)}});return{App:le,data:{chart:{id:""},readonly:!1,chartData:"",transpose:!1,firstRowIsHeader:!0,skipRows:0},store:new ue({})}}));
