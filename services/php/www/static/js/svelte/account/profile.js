!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/account/profile",t):(e="undefined"!=typeof globalThis?globalThis:e||self)["account/profile"]=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){}function r(e,t){for(var n in t)e[n]=t[n];return e}function s(e,t){for(var n in t)e[n]=1;return e}function o(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n)}function c(e){e.parentNode.removeChild(e)}function i(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(){return document.createDocumentFragment()}function l(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function f(){return document.createComment("")}function p(e,t,n,r){e.addEventListener(t,n,r)}function h(e,t,n,r){e.removeEventListener(t,n,r)}function w(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function m(e,t,n){e.style.setProperty(t,n)}function g(e,t,n){e.classList[n?"add":"remove"](t)}function v(){return Object.create(null)}function _(t,n){return t!=t?n==n:t!==n||t&&"object"===e(t)||"function"==typeof t}function b(e,t){return e!=e?t==t:e!==t}function y(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var r=0;r<n.length;r+=1){var s=n[r];if(!s.__calling)try{s.__calling=!0,s.call(this,t)}finally{s.__calling=!1}}}function P(e){e._lock=!0,S(e._beforecreate),S(e._oncreate),S(e._aftercreate),e._lock=!1}function k(){return this._state}function E(e,t){e._handlers=v(),e._slots=v(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function O(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function S(e){for(;e&&e.length;)e.shift()()}var N={destroy:function(e){this.destroy=n,this.fire("destroy"),this.set=n,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:k,fire:y,on:O,set:function(e){this._set(r({},e)),this.root._lock||P(this.root)},_recompute:n,_set:function(e){var t=this._state,n={},s=!1;for(var o in e=r(this._staged,e),this._staged={},e)this._differs(e[o],t[o])&&(n[o]=s=!0);s&&(this._state=r(r({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t})))},_stage:function(e){r(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:_},x={};function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(x[e]=window.__dw.vis.meta.locale||{}):x[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function T(e){var t=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(e=e.trim(),x[n]||H(n),!x[n][e])return"MISSING:"+e;var r=x[n][e];return"string"==typeof r&&arguments.length>2&&(r=r.replace(/\$(\d)/g,(function(e,n){return n=2+Number(n),void 0===t[n]?e:t[n]}))),r}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function R(e,t,n){return(R=q()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var s=new(Function.bind.apply(e,r));return n&&j(s,n.prototype),s}).apply(null,arguments)}function L(e){var t="function"==typeof Map?new Map:void 0;return(L=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return R(e,arguments,A(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),j(r,e)})(e)}function M(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var D={exports:{}};
/*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   */!function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function s(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},s.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var i in o)o[i]&&(c+="; "+i,!0!==o[i]&&(c+="="+o[i].split(";")[0]));return document.cookie=t+"="+n+c}}function a(e,n){if("undefined"!=typeof document){for(var s={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var c=o[a].split("="),i=c.slice(1).join("=");n||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var u=t(c[0]);if(i=(r.read||r)(i,u)||t(i),n)try{i=JSON.parse(i)}catch(e){}if(s[u]=i,e===u)break}catch(e){}}return e?s[e]:s}}return s.set=o,s.get=function(e){return a(e,!1)},s.getJSON=function(e){return a(e,!0)},s.remove=function(t,n){o(t,"",e(n,{expires:-1}))},s.defaults={},s.withConverter=n,s}((function(){}))},e.exports=n()}(D);var U=D.exports;function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var s=A(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return C(this,n)}}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?B(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y=new Set(["get","head","options","trace"]);function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.fetch)try{t.fetch=window.fetch}catch(e){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!t.baseUrl)try{t.baseUrl="//".concat(window.dw.backend.__api_domain)}catch(e){throw new Error("Neither options.baseUrl nor window.dw is defined.")}var n,r=F(F({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},t),{},{headers:F({"Content-Type":"application/json"},t.headers)}),s=r.payload,o=r.baseUrl,a=r.fetch,c=r.raw,i=M(r,["payload","baseUrl","fetch","raw"]),u="".concat(o.replace(/\/$/,""),"/").concat(e.replace(/^\//,""));if(s&&(i.body=JSON.stringify(s)),Y.has(i.method.toLowerCase()))n=a(u,i);else{var l=U.get("crumb");l?(i.headers["X-CSRF-Token"]=l,n=a(u,i)):n=G("/v3/me",{fetch:a,baseUrl:o}).then((function(){var e=U.get("crumb");e&&(i.headers["X-CSRF-Token"]=e)})).catch((function(){})).then((function(){return a(u,i)}))}return n.then((function(e){if(c)return e;if(!e.ok)throw new $(e);if(204===e.status||!e.headers.get("content-type"))return e;var t=e.headers.get("content-type").split(";")[0];return"application/json"===t?e.json():"image/png"===t||"application/pdf"===t?e.blob():e.text()}))}function J(e){return function(t,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(e.toLowerCase(),"()"));return G(t,F(F({},n),{},{method:e}))}}G.get=J("GET"),G.patch=J("PATCH"),G.put=J("PUT"),G.post=J("POST"),G.head=J("HEAD"),G.delete=J("DELETE");var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(n,e);var t=I(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this)).name="HttpReqError",r.status=e.status,r.statusText=e.statusText,r.message="[".concat(e.status,"] ").concat(e.statusText),r.response=e,r}return n}(L(Error));function X(e,t){var n;return{c:function(){(n=l("label")).className="control-label svelte-1nkiaxn"},m:function(e,r){a(e,n,r),n.innerHTML=t.label},p:function(e,t){e.label&&(n.innerHTML=t.label)},d:function(e){e&&c(n)}}}function z(e,t){var n;return{c:function(){(n=l("div")).className="help success svelte-1nkiaxn"},m:function(e,r){a(e,n,r),n.innerHTML=t.success},p:function(e,t){e.success&&(n.innerHTML=t.success)},d:function(e){e&&c(n)}}}function Z(e,t){var n;return{c:function(){(n=l("div")).className="help error svelte-1nkiaxn"},m:function(e,r){a(e,n,r),n.innerHTML=t.error},p:function(e,t){e.error&&(n.innerHTML=t.error)},d:function(e){e&&c(n)}}}function K(e,t){var n;return{c:function(){(n=l("div")).className="help svelte-1nkiaxn"},m:function(e,r){a(e,n,r),n.innerHTML=t.help},p:function(e,t){e.help&&(n.innerHTML=t.help)},d:function(e){e&&c(n)}}}function Q(e){var t,n,s,i,u,f,p,h,w,v,_,b,y;E(this,e),this._state=r({label:"",help:"",error:!1,success:!1,width:"auto",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(t=this,n=this._state,w=t._slotted.default,v=n.label&&X(0,n),_=n.success&&z(0,n),b=n.error&&Z(0,n),y=!n.success&&!n.error&&n.help&&K(0,n),{c:function(){s=l("div"),v&&v.c(),i=d("\n    "),u=l("div"),f=d("\n    "),_&&_.c(),p=d(" "),b&&b.c(),h=d(" "),y&&y.c(),u.className="form-controls svelte-1nkiaxn",s.className="form-block svelte-1nkiaxn",m(s,"width",n.width),s.dataset.uid=n.uid,g(s,"success",n.success),g(s,"error",n.error)},m:function(e,t){a(e,s,t),v&&v.m(s,null),o(s,i),o(s,u),w&&o(u,w),o(s,f),_&&_.m(s,null),o(s,p),b&&b.m(s,null),o(s,h),y&&y.m(s,null)},p:function(e,t){t.label?v?v.p(e,t):((v=X(0,t)).c(),v.m(s,i)):v&&(v.d(1),v=null),t.success?_?_.p(e,t):((_=z(0,t)).c(),_.m(s,p)):_&&(_.d(1),_=null),t.error?b?b.p(e,t):((b=Z(0,t)).c(),b.m(s,h)):b&&(b.d(1),b=null),t.success||t.error||!t.help?y&&(y.d(1),y=null):y?y.p(e,t):((y=K(0,t)).c(),y.m(s,null)),e.width&&m(s,"width",t.width),e.uid&&(s.dataset.uid=t.uid),e.success&&g(s,"success",t.success),e.error&&g(s,"error",t.error)},d:function(e){e&&c(s),v&&v.d(),w&&function(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}(u,w),_&&_.d(),b&&b.d(),y&&y.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}r(Q.prototype,N);var V,W=!1;function ee(e){var t=e.password;return V?V(t):(!W&&t.length>4&&(W=!0,require(["zxcvbn"],(function(e){V=e}))),!1)}function te(e,t){return{c:n,m:n,d:n}}function ne(e){var t,n,s;E(this,e),this._state=r({password:""},e.data),this._recompute({password:1,passwordStrength:1,passwordTooShort:1,passwordHelp:1},this._state),this._intro=!0,this._fragment=(t=this._state,s=t.password.length>=8&&te(),{c:function(){s&&s.c(),n=f()},m:function(e,t){s&&s.m(e,t),a(e,n,t)},p:function(e,t){t.password.length>=8?s||((s=te()).c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d:function(e){s&&s.d(e),e&&c(n)}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function re(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function se(){}function oe(e){var t=e();if(t&&t.then)return t.then(se)}function ae(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function ce(e,t){return e&&e.then?e.then(t):t(e)}r(ne.prototype,N),ne.prototype._recompute=function(e,t){e.password&&(this._differs(t.passwordTooShort,t.passwordTooShort=t.password.length<8)&&(e.passwordTooShort=!0),this._differs(t.passwordStrength,t.passwordStrength=ee(t))&&(e.passwordStrength=!0)),(e.password||e.passwordStrength)&&this._differs(t.passwordHelp,t.passwordHelp=function(e){var t=e.password,n=e.passwordStrength;if(""===t||!n)return T("account / pwd-too-short").replace("%num",8);var r=["bad","weak","ok","good","excellent"][n.score];return T("account / password / ".concat(r))}(t))&&(e.passwordHelp=!0),(e.password||e.passwordTooShort||e.passwordStrength||e.passwordHelp)&&this._differs(t.passwordError,t.passwordError=function(e){var t=e.password,n=e.passwordTooShort,r=e.passwordStrength,s=e.passwordHelp;return!!t&&(n?T("account / pwd-too-short").replace("%num",8):!!(r&&r.score<2)&&s)}(t))&&(e.passwordError=!0),(e.passwordStrength||e.passwordHelp)&&this._differs(t.passwordSuccess,t.passwordSuccess=function(e){var t=e.passwordStrength,n=e.passwordHelp;return!!(t&&t.score>2)&&n}(t))&&(e.passwordSuccess=!0),(e.password||e.passwordTooShort)&&this._differs(t.passwordOk,t.passwordOk=function(e){var t=e.password,n=e.passwordTooShort;return t&&!n}(t))&&(e.passwordOk=!0)};var ie={changeEmail:function(){try{var e=this,t=e.get().email;e.set({savingEmail:!0});var n=[],r=[];return ce(ae((function(){return re(G.patch("/v3/me",{payload:{email:t}}),(function(t){n.push("Your email has been changed successfully. You will receive an email with a confirmation link."),e.set({email:t.email})}))}),(function(e){return oe((function(){if("HttpReqError"===e.name)return re(e.response.json(),(function(t){"Invalid request payload input"===t.message?r.push(T("account / change-email / error / invalid-email")):r.push(t.message?T("account / change-email / error / ".concat(t.message)):e.message)}));r.push("Unknown error: "+e)}))})),(function(){e.set({savingEmail:!1}),r.length?e.set({errors:r}):e.set({changeEmail:!1,messages:n,errors:[]})}))}catch(e){return Promise.reject(e)}},changePassword:function(){try{var e=this,t=e.get(),n=t.currentPassword,r=t.newPassword;e.set({savingPassword:!0});var s={password:r,oldPassword:n},o=[],a=[];return ce(ae((function(){return re(G.patch("/v3/me",{payload:s}),(function(){o.push("Your password has been changed!")}))}),(function(e){return oe((function(){if("HttpReqError"===e.name)return re(e.response.json(),(function(t){a.push(t.message||e.message)}));a.push("Unknown error: "+e)}))})),(function(){0===a.length?e.set({changePassword:!1,currentPassword:"",newPassword:"",messages:o,errors:[]}):e.set({errors:a}),e.set({savingPassword:!1})}))}catch(e){return Promise.reject(e)}},deleteAccount:function(){try{var e=this,t=e.get(),n=t.confirmPassword,r=t.confirmEmail;e.set({deletingAccount:!0});var s=[];return ce(ae((function(){return function(e,t){if(!t)return e&&e.then?e.then(se):Promise.resolve()}(G.delete("/v3/me",{payload:{password:n,email:r}}))}),(function(e){return oe((function(){if("HttpReqError"===e.name)return re(e.response.json(),(function(t){"delete-or-transfer-teams-first"===t.message?s.push(T("account / delete / team-conflict")):s.push(t.message||e.message)}));s.push("Unknown error: "+e)}))})),(function(){e.set({deletingAccount:!1}),s.length?e.set({errors:s}):e.set({deleteAccount2:!1,deleteAccount3:!0})}))}catch(e){return Promise.reject(e)}}};function ue(){this.get().emailChanged&&(this.set({messages:[T("account / profile / email-changed")]}),window.history.replaceState("","",window.location.pathname))}function le(e,t,n){var r=Object.create(e);return r.message=t[n],r}function de(e,t,n){var r=Object.create(e);return r.message=t[n],r}function fe(e,t){for(var n,r,s,u=t.messages,d=[],f=0;f<u.length;f+=1)d[f]=pe(e,de(t,u,f));return{c:function(){n=l("div"),r=l("div"),s=l("div");for(var e=0;e<d.length;e+=1)d[e].c();s.className="alert alert-success svelte-1uqq9ww",r.className="span6",n.className="row",m(n,"margin-top","20px")},m:function(e,t){a(e,n,t),o(n,r),o(r,s);for(var c=0;c<d.length;c+=1)d[c].m(s,null)},p:function(t,n){if(t.messages){u=n.messages;for(var r=0;r<u.length;r+=1){var o=de(n,u,r);d[r]?d[r].p(t,o):(d[r]=pe(e,o),d[r].c(),d[r].m(s,null))}for(;r<d.length;r+=1)d[r].d(1);d.length=u.length}},d:function(e){e&&c(n),i(d,e)}}}function pe(e,t){var n,r=t.message;return{c:function(){(n=l("p")).className="svelte-1uqq9ww"},m:function(e,t){a(e,n,t),n.innerHTML=r},p:function(e,t){e.messages&&r!==(r=t.message)&&(n.innerHTML=r)},d:function(e){e&&c(n)}}}function he(e,t){var n,r=t.errors.join("");return{c:function(){(n=l("div")).className="alert alert-warning"},m:function(e,t){a(e,n,t),n.innerHTML=r},p:function(e,t){e.errors&&r!==(r=t.errors.join(""))&&(n.innerHTML=r)},d:function(e){e&&c(n)}}}function we(e,t){var r,s,i=T("account / email");function u(t){e.set({changeEmail:!0})}return{c:function(){r=l("button"),s=d(i),p(r,"click",u),r.className="btn btn-save btn-default"},m:function(e,t){a(e,r,t),o(r,s)},p:n,d:function(e){e&&c(r),h(r,"click",u)}}}function me(e,t){var n,r,s,i,u,f,w,m,g=T("Back"),v=T("account / email");function _(t){e.set({changeEmail:!1})}function b(t){e.changeEmail()}return{c:function(){n=l("button"),r=d(g),s=d("\n            "),i=l("button"),u=l("i"),w=d("  "),m=d(v),p(n,"click",_),n.className="btn btn-default",u.className=f="fa "+(t.savingEmail?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww",p(i,"click",b),i.className="btn btn-save btn-primary"},m:function(e,t){a(e,n,t),o(n,r),a(e,s,t),a(e,i,t),o(i,u),o(i,w),o(i,m)},p:function(e,t){e.savingEmail&&f!==(f="fa "+(t.savingEmail?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww")&&(u.className=f)},d:function(e){e&&c(n),h(n,"click",_),e&&(c(s),c(i)),h(i,"click",b)}}}function ge(e,t){var n,r,s,i,f,g,v,_,b,y,P,k,E,O,S,N,x,H,j,C,A,q,R,L,M,D,U=T("account / password"),I=T("Back"),B=!1,F={},Y=T("account / invite / password-clear-text"),G=T("account / password");function J(t){e.set({changePassword:!1})}var $=t.changePassword&&t.errors&&t.errors.length&&_e(e,t);function X(){B=!0,e.set({currentPassword:_.value}),B=!1}var z={label:T("Current Password"),help:T("account / password / current-password-note")},Z=new Q({root:e.root,store:e.store,slots:{default:u()},data:z});function K(e){return e.showPasswordAsClearText?Pe:ye}var V=K(t),W=V(e,t),ee={};void 0!==t.newPassword&&(ee.password=t.newPassword,F.password=!0),void 0!==t.passwordHelp&&(ee.passwordHelp=t.passwordHelp,F.passwordHelp=!0),void 0!==t.passwordSuccess&&(ee.passwordSuccess=t.passwordSuccess,F.passwordSuccess=!0),void 0!==t.passwordError&&(ee.passwordError=t.passwordError,F.passwordError=!0),void 0!==t.newPasswordOk&&(ee.passwordOk=t.newPasswordOk,F.passwordOk=!0);var te=new ne({root:e.root,store:e.store,data:ee,_bind:function(t,n){var r={};!F.password&&t.password&&(r.newPassword=n.password),!F.passwordHelp&&t.passwordHelp&&(r.passwordHelp=n.passwordHelp),!F.passwordSuccess&&t.passwordSuccess&&(r.passwordSuccess=n.passwordSuccess),!F.passwordError&&t.passwordError&&(r.passwordError=n.passwordError),!F.passwordOk&&t.passwordOk&&(r.newPasswordOk=n.passwordOk),e._set(r),F={}}});e.root._beforecreate.push((function(){te._bind({password:1,passwordHelp:1,passwordSuccess:1,passwordError:1,passwordOk:1},te.get())}));var re={error:t.passwordError,label:T("New Password"),success:t.passwordSuccess,help:t.passwordHelp},se=new Q({root:e.root,store:e.store,slots:{default:u()},data:re});function oe(){e.set({showPasswordAsClearText:S.checked})}function ae(t){e.changePassword()}return{c:function(){n=l("h3"),r=d(U),s=d("\n            "),i=l("button"),f=d(I),g=d("\n        "),$&&$.c(),v=d("\n        "),_=l("input"),Z._fragment.c(),b=d("\n\n        "),W.c(),y=d("\n            "),P=l("div"),te._fragment.c(),se._fragment.c(),k=d("\n        "),E=l("div"),O=l("label"),S=l("input"),N=d("\n                "),x=l("noscript"),H=d("\n\n        "),j=l("button"),C=l("i"),q=d("  "),R=d(G),M=d("\n        "),D=l("hr"),p(i,"click",J),i.className="btn btn-save btn-default btn-back",p(_,"input",X),w(_,"type","password"),_.className="input-xlarge",m(P,"width","287px"),p(S,"change",oe),w(S,"type","checkbox"),O.className="checkbox",E.className="control-group",m(E,"margin-top","-10px"),m(E,"margin-bottom","20px"),C.className=A="fa "+(t.savingPassword?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww",p(j,"click",ae),j.disabled=L=!(t.newPasswordOk&&t.currentPassword),j.className="btn btn-primary"},m:function(e,c){a(e,n,c),o(n,r),o(n,s),o(n,i),o(i,f),a(e,g,c),$&&$.m(e,c),a(e,v,c),o(Z._slotted.default,_),_.value=t.currentPassword,Z._mount(e,c),a(e,b,c),W.m(se._slotted.default,null),o(se._slotted.default,y),o(se._slotted.default,P),te._mount(P,null),se._mount(e,c),a(e,k,c),a(e,E,c),o(E,O),o(O,S),S.checked=t.showPasswordAsClearText,o(O,N),o(O,x),x.insertAdjacentHTML("afterend",Y),a(e,H,c),a(e,j,c),o(j,C),o(j,q),o(j,R),a(e,M,c),a(e,D,c)},p:function(n,r){(t=r).changePassword&&t.errors&&t.errors.length?$?$.p(n,t):(($=_e(e,t)).c(),$.m(v.parentNode,v)):$&&($.d(1),$=null),!B&&n.currentPassword&&(_.value=t.currentPassword),V===(V=K(t))&&W?W.p(n,t):(W.d(1),(W=V(e,t)).c(),W.m(y.parentNode,y));var s={};!F.password&&n.newPassword&&(s.password=t.newPassword,F.password=void 0!==t.newPassword),!F.passwordHelp&&n.passwordHelp&&(s.passwordHelp=t.passwordHelp,F.passwordHelp=void 0!==t.passwordHelp),!F.passwordSuccess&&n.passwordSuccess&&(s.passwordSuccess=t.passwordSuccess,F.passwordSuccess=void 0!==t.passwordSuccess),!F.passwordError&&n.passwordError&&(s.passwordError=t.passwordError,F.passwordError=void 0!==t.passwordError),!F.passwordOk&&n.newPasswordOk&&(s.passwordOk=t.newPasswordOk,F.passwordOk=void 0!==t.newPasswordOk),te._set(s),F={};var o={};n.passwordError&&(o.error=t.passwordError),n.passwordSuccess&&(o.success=t.passwordSuccess),n.passwordHelp&&(o.help=t.passwordHelp),se._set(o),n.showPasswordAsClearText&&(S.checked=t.showPasswordAsClearText),n.savingPassword&&A!==(A="fa "+(t.savingPassword?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww")&&(C.className=A),(n.newPasswordOk||n.currentPassword)&&L!==(L=!(t.newPasswordOk&&t.currentPassword))&&(j.disabled=L)},d:function(e){e&&c(n),h(i,"click",J),e&&c(g),$&&$.d(e),e&&c(v),h(_,"input",X),Z.destroy(e),e&&c(b),W.d(),te.destroy(),se.destroy(e),e&&(c(k),c(E)),h(S,"change",oe),e&&(c(H),c(j)),h(j,"click",ae),e&&(c(M),c(D))}}}function ve(e,t){var r,s,a,c,i=T("account / password");function f(t){e.set({changePassword:!0})}var m={label:T("Password"),help:""},g=new Q({root:e.root,store:e.store,slots:{default:u()},data:m});return{c:function(){r=l("input"),s=d("\n            "),a=l("button"),c=d(i),g._fragment.c(),r.disabled=!0,r.value="abcdefgh",w(r,"type","password"),p(a,"click",f),a.className="btn btn-save btn-default"},m:function(e,t){o(g._slotted.default,r),o(g._slotted.default,s),o(g._slotted.default,a),o(a,c),g._mount(e,t)},p:n,d:function(e){h(a,"click",f),g.destroy(e)}}}function _e(e,t){for(var n,r=t.errors,s=[],o=0;o<r.length;o+=1)s[o]=be(e,le(t,r,o));return{c:function(){n=l("div");for(var e=0;e<s.length;e+=1)s[e].c();n.className="alert svelte-1uqq9ww"},m:function(e,t){a(e,n,t);for(var r=0;r<s.length;r+=1)s[r].m(n,null)},p:function(t,o){if(t.errors){r=o.errors;for(var a=0;a<r.length;a+=1){var c=le(o,r,a);s[a]?s[a].p(t,c):(s[a]=be(e,c),s[a].c(),s[a].m(n,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}},d:function(e){e&&c(n),i(s,e)}}}function be(e,t){var n,r=t.message;return{c:function(){(n=l("p")).className="svelte-1uqq9ww"},m:function(e,t){a(e,n,t),n.innerHTML=r},p:function(e,t){e.errors&&r!==(r=t.message)&&(n.innerHTML=r)},d:function(e){e&&c(n)}}}function ye(e,t){var n,r=!1;function s(){r=!0,e.set({newPassword:n.value}),r=!1}return{c:function(){p(n=l("input"),"input",s),n.dataset.lpignore="true",w(n,"type","password"),n.className="input-xlarge"},m:function(e,r){a(e,n,r),n.value=t.newPassword},p:function(e,t){!r&&e.newPassword&&(n.value=t.newPassword)},d:function(e){e&&c(n),h(n,"input",s)}}}function Pe(e,t){var n,r=!1;function s(){r=!0,e.set({newPassword:n.value}),r=!1}return{c:function(){p(n=l("input"),"input",s),n.dataset.lpignore="true",w(n,"type","text"),n.className="input-xlarge"},m:function(e,r){a(e,n,r),n.value=t.newPassword},p:function(e,t){!r&&e.newPassword&&(n.value=t.newPassword)},d:function(e){e&&c(n),h(n,"input",s)}}}function ke(e,t){var r,s,a=T("account / delete");function c(t){e.set({deleteAccount:!0})}var i=new Q({root:e.root,store:e.store,slots:{default:u()},data:{label:"Delete account",help:""}});return{c:function(){r=l("button"),s=d(a),i._fragment.c(),p(r,"click",c),r.className="btn btn-danger",w(r,"href","#")},m:function(e,t){o(i._slotted.default,r),o(r,s),i._mount(e,t)},p:n,d:function(e){h(r,"click",c),i.destroy(e)}}}function Ee(e,t){var r,s,i,u,f,w,m,g,v,_,b,y,P,k,E,O,S=T("account / confirm-account-deletion"),N=T("account / confirm-account-deletion / no"),x=T("account / or"),H=T("account / confirm-account-deletion / yes");function j(t){e.set({deleteAccount:!1})}function C(t){e.set({deleteAccount:!1,deleteAccount2:!0})}return{c:function(){r=l("h3"),s=l("i"),i=d(" "),u=d(S),f=d("\n        "),w=l("button"),m=l("i"),g=d("\n              "),v=d(N),_=d("\n\n        "),b=d(x),y=d("\n\n        "),P=l("button"),k=l("i"),E=d("   "),O=d(H),s.className="fa fa-times svelte-1uqq9ww",r.className="svelte-1uqq9ww",m.className="fa fa-chevron-left",p(w,"click",j),w.className="btn btn-back btn-primary",k.className="fa fa-times",p(P,"click",C),P.className="btn btn-default"},m:function(e,t){a(e,r,t),o(r,s),o(r,i),o(r,u),a(e,f,t),a(e,w,t),o(w,m),o(w,g),o(w,v),a(e,_,t),a(e,b,t),a(e,y,t),a(e,P,t),o(P,k),o(P,E),o(P,O)},p:n,d:function(e){e&&(c(r),c(f),c(w)),h(w,"click",j),e&&(c(_),c(b),c(y),c(P)),h(P,"click",C)}}}function Oe(e,t){var n,r,s,i,f,g,v,_,b,y,P,k,E,O,S,N,x,H,j,C,A,q,R,L,M,D,U,I,B,F,Y,G,J,$,X,z,Z,K=T("account / delete / hed"),V=T("account / delete / really"),W=T("account / confirm-account-deletion / free"),ee=T("You cannot login and logout anymore."),te=T("You cannot edit or remove your charts anymore."),ne=T("account / delete / charts-stay-online"),re=!1,se=!1,oe=T("account / delete / really-really"),ae=T("No, I changed my mind.."),ce=T("Yes, delete it!");function ie(){re=!0,e.set({confirmEmail:A.value}),re=!1}function ue(){se=!0,e.set({confirmPassword:R.value}),se=!1}var le={label:T("Please enter your password to confirm the deletion request:"),error:!(!t.errors||!t.errors.length)&&t.errors.join(". ")},de=new Q({root:e.root,store:e.store,slots:{default:u()},data:le});function fe(t){e.set({deleteAccount2:!1})}function pe(t){e.deleteAccount()}return{c:function(){n=l("h2"),r=d(K),s=d("\n        "),i=l("div"),f=l("p"),g=d(V),v=d("\n            "),_=l("ul"),b=l("li"),y=d(W),P=d("\n                "),k=l("li"),E=d(ee),O=d("\n                "),S=l("li"),N=d(te),x=d("\n            "),H=l("p"),j=d(ne),C=d("\n\n            "),A=l("input"),q=d("\n                "),R=l("input"),de._fragment.c(),L=d("\n            "),M=l("p"),D=d("\n            "),U=l("div"),I=l("button"),B=l("i"),F=d("  "),Y=d(ae),G=d("\n                "),J=l("button"),$=l("i"),z=d(" \n                    "),Z=d(ce),m(n,"margin-bottom","20px"),p(A,"input",ie),w(A,"type","email"),A.placeholder=T("E-Mail"),p(R,"input",ue),w(R,"type","password"),R.placeholder=T("Password"),M.className="lead",B.className="fa fa-chevron-left",p(I,"click",fe),I.className="btn btn-info",$.className=X="fa "+(t.deletingAccount?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww",p(J,"click",pe),J.className="btn btn-danger",U.className="control-group",i.className="delete-account"},m:function(e,c){a(e,n,c),o(n,r),a(e,s,c),a(e,i,c),o(i,f),o(f,g),o(i,v),o(i,_),o(_,b),o(b,y),o(_,P),o(_,k),o(k,E),o(_,O),o(_,S),o(S,N),o(i,x),o(i,H),o(H,j),o(i,C),o(de._slotted.default,A),A.value=t.confirmEmail,o(de._slotted.default,q),o(de._slotted.default,R),R.value=t.confirmPassword,de._mount(i,null),o(i,L),o(i,M),M.innerHTML=oe,o(i,D),o(i,U),o(U,I),o(I,B),o(I,F),o(I,Y),o(U,G),o(U,J),o(J,$),o(J,z),o(J,Z)},p:function(e,t){!re&&e.confirmEmail&&(A.value=t.confirmEmail),!se&&e.confirmPassword&&(R.value=t.confirmPassword);var n={};e.errors&&(n.error=!(!t.errors||!t.errors.length)&&t.errors.join(". ")),de._set(n),e.deletingAccount&&X!==(X="fa "+(t.deletingAccount?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww")&&($.className=X)},d:function(e){e&&(c(n),c(s),c(i)),h(A,"input",ie),h(R,"input",ue),de.destroy(),h(I,"click",fe),h(J,"click",pe)}}}function Se(e,t){var r,s,i,u,f,p,h,w,g=T("account / delete / hed"),v=T("Your account has been deleted."),_=T("Goodbye!");return{c:function(){r=l("h2"),s=d(g),i=d("\n        "),u=l("h3"),f=d(v),p=d("\n        "),h=l("a"),w=d(_),m(r,"margin-bottom","20px"),h.href="/",h.className="btn btn-primary btn-large"},m:function(e,t){a(e,r,t),o(r,s),a(e,i,t),a(e,u,t),o(u,f),a(e,p,t),a(e,h,t),o(h,w)},p:n,d:function(e){e&&(c(r),c(i),c(u),c(p),c(h))}}}function Ne(e){var t=this;E(this,e),this._state=r({changePassword:!1,changeEmail:!1,emailChanged:!1,deleteAccount:!1,deleteAccount2:!1,deleteAccount3:!1,deletingAccount:!1,showPasswordInPlaintext:!1,messages:[],currentPassword:"",newPassword:"",newPasswordOk:!1,passwordError:!1,passwordHelp:!1,passwordSuccess:!1,confirmEmail:"",confirmPassword:"",email:"",savingEmail:!1,savingPassword:!1,showPasswordAsClearText:!1,errors:[],groups:[{title:"Account settings",tabs:[{title:"Profile",icon:"fa fa-fw fa-user"}]},{title:"Team settings",tabs:[]}]},e.data),this._intro=!0,this._fragment=function(e,t){var n,r,s,i,g,v,_,b,y,P,k,E,O,S,N=!1,x=T("account / change-login"),H=t.messages&&t.messages.length&&fe(e,t),j=t.changeEmail&&t.errors.length&&he(e,t);function C(){N=!0,e.set({email:g.value}),N=!1}function A(e){return e.changeEmail?me:we}var q=A(t),R=q(e,t),L={label:T("E-Mail"),help:t.changeEmail?T("account / confirm-email-change"):""},M=new Q({root:e.root,store:e.store,slots:{default:u()},data:L});function D(e){return e.changePassword?ge:ve}var U=D(t),I=U(e,t);function B(e){return e.deleteAccount3?Se:e.deleteAccount2?Oe:e.deleteAccount?Ee:ke}var F=B(t),Y=F(e,t);return{c:function(){H&&H.c(),n=d("\n\n"),r=l("div"),s=l("div"),j&&j.c(),i=d("\n        "),g=l("input"),_=d("\n            "),R.c(),b=f(),M._fragment.c(),y=d("\n\n        "),I.c(),P=d(" "),Y.c(),k=d("\n    "),E=l("div"),O=l("p"),S=d(x),p(g,"input",C),g.disabled=v=!t.changeEmail,w(g,"type","email"),s.className="span6",O.className="help",E.className="span4",r.className="row edit-account",m(r,"margin-top",(t.messages&&t.messages.length?0:20)+"px")},m:function(e,c){H&&H.m(e,c),a(e,n,c),a(e,r,c),o(r,s),j&&j.m(s,null),o(s,i),o(M._slotted.default,g),g.value=t.email,o(M._slotted.default,_),R.m(M._slotted.default,null),o(M._slotted.default,b),M._mount(s,null),o(s,y),I.m(s,null),o(s,P),Y.m(s,null),o(r,k),o(r,E),o(E,O),o(O,S)},p:function(t,o){o.messages&&o.messages.length?H?H.p(t,o):((H=fe(e,o)).c(),H.m(n.parentNode,n)):H&&(H.d(1),H=null),o.changeEmail&&o.errors.length?j?j.p(t,o):((j=he(e,o)).c(),j.m(s,i)):j&&(j.d(1),j=null),!N&&t.email&&(g.value=o.email),t.changeEmail&&v!==(v=!o.changeEmail)&&(g.disabled=v),q===(q=A(o))&&R?R.p(t,o):(R.d(1),(R=q(e,o)).c(),R.m(b.parentNode,b));var a={};t.changeEmail&&(a.help=o.changeEmail?T("account / confirm-email-change"):""),M._set(a),U===(U=D(o))&&I?I.p(t,o):(I.d(1),(I=U(e,o)).c(),I.m(s,P)),F===(F=B(o))&&Y?Y.p(t,o):(Y.d(1),(Y=F(e,o)).c(),Y.m(s,null)),t.messages&&m(r,"margin-top",(o.messages&&o.messages.length?0:20)+"px")},d:function(e){H&&H.d(e),e&&(c(n),c(r)),j&&j.d(),h(g,"input",C),R.d(),M.destroy(),I.d(),Y.d()}}}(this,this._state),this.root._oncreate.push((function(){ue.call(t),t.fire("update",{changed:s({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),P(this))}function xe(e,t){this._handlers={},this._dependents=[],this._computed=v(),this._sortedComputedProperties=[],this._state=r({},e),this._differs=t&&t.immutable?b:_}r(Ne.prototype,N),r(Ne.prototype,ie),r(xe.prototype,{_add:function(e,t){this._dependents.push({component:e,props:t})},_init:function(e){for(var t={},n=0;n<e.length;n+=1){var r=e[n];t["$"+r]=this._state[r]}return t},_remove:function(e){for(var t=this._dependents.length;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set:function(e,t){var n=this,s=this._state;this._state=r(r({},s),e);for(var o=0;o<this._sortedComputedProperties.length;o+=1)this._sortedComputedProperties[o].update(this._state,t);this.fire("state",{changed:t,previous:s,current:this._state}),this._dependents.filter((function(e){for(var r={},s=!1,o=0;o<e.props.length;o+=1){var a=e.props[o];a in t&&(r["$"+a]=n._state[a],s=!0)}if(s)return e.component._stage(r),!0})).forEach((function(e){e.component.set({})})),this.fire("update",{changed:t,previous:s,current:this._state})},_sortComputedProperties:function(){var e,t=this._computed,n=this._sortedComputedProperties=[],r=v();function s(o){var a=t[o];a&&(a.deps.forEach((function(t){if(t===e)throw new Error("Cyclical dependency detected between ".concat(t," <-> ").concat(o));s(t)})),r[o]||(r[o]=!0,n.push(a)))}for(var o in this._computed)s(e=o)},compute:function(e,t,n){var s,o=this,a={deps:t,update:function(r,a,c){var i=t.map((function(e){return e in a&&(c=!0),r[e]}));if(c){var u=n.apply(null,i);o._differs(u,s)&&(s=u,a[e]=!0,r[e]=s)}}};this._computed[e]=a,this._sortComputedProperties();var c=r({},this._state),i={};a.update(c,i,!0),this._set(c,i)},fire:y,get:k,on:O,set:function(e){var t=this._state,n=this._changed={},r=!1;for(var s in e){if(this._computed[s])throw new Error("'".concat(s,"' is a read-only computed property"));this._differs(e[s],t[s])&&(n[s]=r=!0)}r&&this._set(e,n)}});return{App:Ne,data:{chart:{id:""},readonly:!1,chartData:"",transpose:!1,firstRowIsHeader:!0,skipRows:0},store:new xe({})}}));
