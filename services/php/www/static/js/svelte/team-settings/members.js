!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/team-settings/members",t):(e="undefined"!=typeof globalThis?globalThis:e||self)["team-settings/members"]=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){}function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e,t){for(var n in t)e[n]=1;return e}function s(e,t){e.appendChild(t)}function o(e,t,n){e.insertBefore(t,n)}function a(e){e.parentNode.removeChild(e)}function c(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function u(e){for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)}function l(e,t,n){for(;e.nextSibling&&e.nextSibling!==t;)n.appendChild(e.parentNode.removeChild(e.nextSibling))}function d(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}function f(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(){return document.createDocumentFragment()}function p(e){return document.createElement(e)}function h(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function v(e){return document.createTextNode(e)}function g(){return document.createComment("")}function _(e,t,n,i){e.addEventListener(t,n,i)}function b(e,t,n,i){e.removeEventListener(t,n,i)}function w(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function k(e,t){e.data=""+t}function T(e,t,n){e.style.setProperty(t,n)}function N(e,t){for(var n=0;n<e.options.length;n+=1){var i=e.options[n];if(i.__value===t)return void(i.selected=!0)}}function x(e){var t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function U(e,t,n){e.classList[n?"add":"remove"](t)}function C(e,n){var r,s=n.token={};function o(e,r,o,a){if(n.token===s){n.resolved=o&&t({},o,a);var c=i(i({},n.ctx),n.resolved),u=e&&(n.current=e)(n.component,c);n.block&&(n.blocks?n.blocks.forEach((function(e,t){t!==r&&e&&e.o((function(){e.d(1),n.blocks[t]=null}))})):n.block.d(1),u.c(),u[u.i?"i":"m"](n.mount(),n.anchor),n.component.root.set({})),n.block=u,n.blocks&&(n.blocks[r]=u)}}if((r=e)&&"function"==typeof r.then){if(e.then((function(e){o(n.then,1,n.value,e)}),(function(e){o(n.catch,2,n.error,e)})),n.current!==n.pending)return o(n.pending,0),!0}else{if(n.current!==n.then)return o(n.then,1,n.value,e),!0;n.resolved=t({},n.value,e)}}function L(){return Object.create(null)}function O(t,n){return t!=t?n==n:t!==n||t&&"object"===e(t)||"function"==typeof t}function A(e,t){return e!=e?t==t:e!==t}function E(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var i=0;i<n.length;i+=1){var r=n[i];if(!r.__calling)try{r.__calling=!0,r.call(this,t)}finally{r.__calling=!1}}}function M(e){e._lock=!0,S(e._beforecreate),S(e._oncreate),S(e._aftercreate),e._lock=!1}function H(){return this._state}function I(e,t){e._handlers=L(),e._slots=L(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function j(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function S(e){for(;e&&e.length;)e.shift()()}function B(){this.store._remove(this)}var R={destroy:function(e){this.destroy=n,this.fire("destroy"),this.set=n,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:H,fire:E,on:j,set:function(e){this._set(i({},e)),this.root._lock||M(this.root)},_recompute:n,_set:function(e){var t=this._state,n={},r=!1;for(var s in e=i(this._staged,e),this._staged={},e)this._differs(e[s],t[s])&&(n[s]=r=!0);r&&(this._state=i(i({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t})))},_stage:function(e){i(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:O},P={};function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(P[e]=window.__dw.vis.meta.locale||{}):P[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function D(e){var t=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(e=e.trim(),P[n]||q(n),!P[n][e])return"MISSING:"+e;var i=P[n][e];return"string"==typeof i&&arguments.length>2&&(i=i.replace(/\$(\d)/g,(function(e,n){return n=2+Number(n),void 0===t[n]?e:t[n]}))),i}var z={true:"ASC",false:"DESC"},V=z.true;var F={sort:function(e,t){e.preventDefault();var n,i=(n=this.get(),t===n.orderBy?z[n.order!==V]:V);this.set({orderBy:t,order:i}),this.fire("sort",{orderBy:t,order:i})}};function G(e){var t=this._svelte,n=t.component,i=t.ctx;n.sort(e,i.item.orderBy)}function J(e,t,n){var i=Object.create(e);return i.item=t[n],i}function Z(e,t,n){var i=Object.create(e);return i.item=t[n],i}function X(e,t){var n;return{c:function(){T(n=p("col"),"width",t.item.width)},m:function(e,t){o(e,n,t)},p:function(e,t){e.columnHeaders&&T(n,"width",t.item.width)},d:function(e){e&&a(n)}}}function W(e,t){var n,i,r=t.item.title;return{c:function(){n=p("span"),i=v(r),n.className="col"},m:function(e,t){o(e,n,t),s(n,i)},p:function(e,t){e.columnHeaders&&r!==(r=t.item.title)&&k(i,r)},d:function(e){e&&a(n)}}}function K(e,t){var n,i,r,c,u=t.item.title;return{c:function(){n=p("a"),i=v(u),n._svelte={component:e,ctx:t},_(n,"click",G),n.className=r="\n                            sortable\n                            "+(t.isActive(t.item)?t.isAscending?"sortable-asc":"sortable-desc":"")+"\n                         svelte-l1s1ms",n.href=c="?orderBy=".concat(t.item.orderBy)},m:function(e,t){o(e,n,t),s(n,i)},p:function(e,s){t=s,e.columnHeaders&&u!==(u=t.item.title)&&k(i,u),n._svelte.ctx=t,(e.isActive||e.columnHeaders||e.isAscending)&&r!==(r="\n                            sortable\n                            "+(t.isActive(t.item)?t.isAscending?"sortable-asc":"sortable-desc":"")+"\n                         svelte-l1s1ms")&&(n.className=r),e.columnHeaders&&c!==(c="?orderBy=".concat(t.item.orderBy))&&(n.href=c)},d:function(e){e&&a(n),b(n,"click",G)}}}function Q(e,t){var n,i;function r(e){return e.item.orderBy?K:W}var s=r(t),c=s(e,t);return{c:function(){n=p("th"),c.c(),n.className=i=(t.item.className?t.item.className:"")+" svelte-l1s1ms"},m:function(e,t){o(e,n,t),c.m(n,null)},p:function(t,o){s===(s=r(o))&&c?c.p(t,o):(c.d(1),(c=s(e,o)).c(),c.m(n,null)),t.columnHeaders&&i!==(i=(o.item.className?o.item.className:"")+" svelte-l1s1ms")&&(n.className=i)},d:function(e){e&&a(n),c.d()}}}function Y(e){I(this,e),this._state=i({order:V,orderBy:"",uid:""},e.data),this._recompute({orderBy:1,order:1},this._state),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){for(var n,i,r,c,u,l,m,h,g=e._slotted.default,_=t.columnHeaders,b=[],w=0;w<_.length;w+=1)b[w]=X(e,Z(t,_,w));var y=t.columnHeaders,k=[];for(w=0;w<y.length;w+=1)k[w]=Q(e,J(t,y,w));return{c:function(){n=p("div"),i=p("table"),r=p("colgroup");for(var e=0;e<b.length;e+=1)b[e].c();c=v("\n\n        "),u=p("thead"),l=p("tr");for(e=0;e<k.length;e+=1)k[e].c();m=v("\n\n        "),h=p("tbody"),i.className="table svelte-l1s1ms",n.className="table-container svelte-l1s1ms",n.dataset.uid=t.uid},m:function(e,t){o(e,n,t),s(n,i),s(i,r);for(var a=0;a<b.length;a+=1)b[a].m(r,null);s(i,c),s(i,u),s(u,l);for(a=0;a<k.length;a+=1)k[a].m(l,null);s(i,m),s(i,h),g&&s(h,g)},p:function(t,i){if(t.columnHeaders){_=i.columnHeaders;for(var s=0;s<_.length;s+=1){var o=Z(i,_,s);b[s]?b[s].p(t,o):(b[s]=X(e,o),b[s].c(),b[s].m(r,null))}for(;s<b.length;s+=1)b[s].d(1);b.length=_.length}if(t.columnHeaders||t.isActive||t.isAscending){y=i.columnHeaders;for(s=0;s<y.length;s+=1){var a=J(i,y,s);k[s]?k[s].p(t,a):(k[s]=Q(e,a),k[s].c(),k[s].m(l,null))}for(;s<k.length;s+=1)k[s].d(1);k.length=y.length}t.uid&&(n.dataset.uid=i.uid)},d:function(e){e&&a(n),f(b,e),f(k,e),g&&d(h,g)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function ee(e,t,n){var i=Object.create(e);return i.opt=t[n],i}function te(e,t,n){var i=Object.create(e);return i.optgroup=t[n],i}function ne(e,t,n){var i=Object.create(e);return i.opt=t[n],i}function ie(e,t){for(var n,i=t.options,r=[],s=0;s<i.length;s+=1)r[s]=re(e,ne(t,i,s));return{c:function(){for(var e=0;e<r.length;e+=1)r[e].c();n=g()},m:function(e,t){for(var i=0;i<r.length;i+=1)r[i].m(e,t);o(e,n,t)},p:function(t,s){if(t.options||t.value){i=s.options;for(var o=0;o<i.length;o+=1){var a=ne(s,i,o);r[o]?r[o].p(t,a):(r[o]=re(e,a),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d:function(e){f(r,e),e&&a(n)}}}function re(e,t){var n,i,r,c,u=t.opt.label;return{c:function(){n=p("option"),i=v(u),n.__value=r=t.opt.value,n.value=n.__value,n.selected=c=t.opt.value===t.value},m:function(e,t){o(e,n,t),s(n,i)},p:function(e,t){e.options&&u!==(u=t.opt.label)&&k(i,u),e.options&&r!==(r=t.opt.value)&&(n.__value=r),n.value=n.__value,(e.options||e.value)&&c!==(c=t.opt.value===t.value)&&(n.selected=c)},d:function(e){e&&a(n)}}}function se(e,t){for(var n,i=t.optgroups,r=[],s=0;s<i.length;s+=1)r[s]=ae(e,te(t,i,s));return{c:function(){for(var e=0;e<r.length;e+=1)r[e].c();n=g()},m:function(e,t){for(var i=0;i<r.length;i+=1)r[i].m(e,t);o(e,n,t)},p:function(t,s){if(t.optgroups||t.value){i=s.optgroups;for(var o=0;o<i.length;o+=1){var a=te(s,i,o);r[o]?r[o].p(t,a):(r[o]=ae(e,a),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d:function(e){f(r,e),e&&a(n)}}}function oe(e,t){var n,i,r,c,u=t.opt.label;return{c:function(){n=p("option"),i=v(u),n.__value=r=t.opt.value,n.value=n.__value,n.selected=c=t.opt.value===t.value},m:function(e,t){o(e,n,t),s(n,i)},p:function(e,t){e.optgroups&&u!==(u=t.opt.label)&&k(i,u),e.optgroups&&r!==(r=t.opt.value)&&(n.__value=r),n.value=n.__value,(e.optgroups||e.value)&&c!==(c=t.opt.value===t.value)&&(n.selected=c)},d:function(e){e&&a(n)}}}function ae(e,t){for(var n,i,r=t.optgroup.options,s=[],c=0;c<r.length;c+=1)s[c]=oe(0,ee(t,r,c));return{c:function(){n=p("optgroup");for(var e=0;e<s.length;e+=1)s[e].c();w(n,"label",i=t.optgroup.label)},m:function(e,t){o(e,n,t);for(var i=0;i<s.length;i+=1)s[i].m(n,null)},p:function(e,t){if(e.optgroups||e.value){r=t.optgroup.options;for(var o=0;o<r.length;o+=1){var a=ee(t,r,o);s[o]?s[o].p(e,a):(s[o]=oe(0,a),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}e.optgroups&&i!==(i=t.optgroup.label)&&w(n,"label",i)},d:function(e){e&&a(n),f(s,e)}}}function ce(e){I(this,e),this._state=i({disabled:!1,width:"auto",labelWidth:"auto",options:[],optgroups:[],value:null,class:"",uid:""},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,r,c=!1,u=t.options.length&&ie(e,t),l=t.optgroups.length&&se(e,t);function d(){c=!0,e.set({value:x(n)}),c=!1}function f(t){e.fire("change",t)}return{c:function(){n=p("select"),u&&u.c(),i=g(),l&&l.c(),_(n,"change",d),"value"in t||e.root._beforecreate.push(d),_(n,"change",f),n.className=r="select-css "+t.class+" svelte-v0oq4b",n.disabled=t.disabled,T(n,"width",t.width),n.dataset.uid=t.uid},m:function(e,r){o(e,n,r),u&&u.m(n,null),s(n,i),l&&l.m(n,null),N(n,t.value)},p:function(t,s){s.options.length?u?u.p(t,s):((u=ie(e,s)).c(),u.m(n,i)):u&&(u.d(1),u=null),s.optgroups.length?l?l.p(t,s):((l=se(e,s)).c(),l.m(n,null)):l&&(l.d(1),l=null),!c&&t.value&&N(n,s.value),t.class&&r!==(r="select-css "+s.class+" svelte-v0oq4b")&&(n.className=r),t.disabled&&(n.disabled=s.disabled),t.width&&T(n,"width",s.width),t.uid&&(n.dataset.uid=s.uid)},d:function(e){e&&a(n),u&&u.d(),l&&l.d(),b(n,"change",d),b(n,"change",f)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}i(Y.prototype,R),i(Y.prototype,F),Y.prototype._recompute=function(e,t){var n;e.orderBy&&this._differs(t.isActive,t.isActive=(n=t.orderBy,function(e){return n===e.orderBy}))&&(e.isActive=!0),e.order&&this._differs(t.isAscending,t.isAscending=t.order===V)&&(e.isAscending=!0)},i(ce.prototype,R);function ue(e){var t,n,r,c,u;I(this,e),this._state=i({icon:"api",size:"1em",color:"inherit",valign:"baseline",class:"",style:"",assetURL:null,spin:!1,timing:"linear",duration:"2s",uid:""},e.data),this._recompute({icon:1,assetURL:1},this._state),this._intro=!0,this._fragment=(t=this._state,{c:function(){n=p("span"),r=h("svg"),T(c=h("use"),"fill",t.color),y(c,"xlink:href",t.iconURL),T(r,"height",t.size),T(r,"width",t.size),w(r,"class","svelte-1th5ah8"),n.className=u="svg-icon "+t.class+" svelte-1th5ah8",n.dataset.uid=t.uid,T(n,"animation-timing-function",t.timing),T(n,"animation-duration",t.duration),T(n,"height",t.size),T(n,"width",t.size),T(n,"vertical-align",t.valign),U(n,"spin",t.spin)},m:function(e,t){o(e,n,t),s(n,r),s(r,c)},p:function(e,t){e.color&&T(c,"fill",t.color),e.iconURL&&y(c,"xlink:href",t.iconURL),e.size&&(T(r,"height",t.size),T(r,"width",t.size)),e.class&&u!==(u="svg-icon "+t.class+" svelte-1th5ah8")&&(n.className=u),e.uid&&(n.dataset.uid=t.uid),e.timing&&T(n,"animation-timing-function",t.timing),e.duration&&T(n,"animation-duration",t.duration),e.size&&(T(n,"height",t.size),T(n,"width",t.size)),e.valign&&T(n,"vertical-align",t.valign),(e.class||e.spin)&&U(n,"spin",t.spin)},d:function(e){e&&a(n)}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}i(ue.prototype,R),ue.prototype._recompute=function(e,t){var n,i,r;(e.icon||e.assetURL)&&this._differs(t.iconURL,t.iconURL=(i=(n=t).icon,r=n.assetURL,"".concat(r||"/lib/icons/symbol/svg/sprite.symbol.svg","#").concat(i)))&&(e.iconURL=!0)};var le={open:function(){this.set({isConfirmed:!1}),$("#"+this.get().id).modal()}};function de(){$("#"+this.get().id).on("hidden.bs.modal",function(){this.get().isConfirmed?this.fire("confirm"):this.fire("dismiss")}.bind(this))}function fe(e,t){var n={icon:t.confirmButtonIcon,class:"mr-1",size:"1.3em",valign:"-0.3em"},i=new ue({root:e.root,store:e.store,data:n});return{c:function(){i._fragment.c()},m:function(e,t){i._mount(e,t)},p:function(e,t){var n={};e.confirmButtonIcon&&(n.icon=t.confirmButtonIcon),i._set(n)},d:function(e){i.destroy(e)}}}function me(e){var t=this;I(this,e),this._state=i({id:"",title:"Title",confirmButtonText:"Confirm",confirmButtonIcon:!1,backButtonText:"Back",isConfirmed:!1},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n,i,r,c,d,f,m,h,y,k,T,N,x,U,C,L,O=e._slotted.default,A=new ue({root:e.root,store:e.store,data:{icon:"close",size:"20px"}}),E=t.confirmButtonIcon&&fe(e,t);function M(t){e.set({isConfirmed:!0})}function H(t){t.stopPropagation(),e.fire("keyup",t)}return{c:function(){n=p("div"),i=p("div"),r=p("button"),A._fragment.c(),c=v("\n        "),d=p("div"),f=p("h1"),m=v("\n            "),k=v("\n            "),T=p("div"),N=p("button"),x=v("\n                "),U=p("button"),E&&E.c(),C=v(" "),L=p("noscript"),r.type="button",r.className="close svelte-1f9lfqa",r.dataset.dismiss="modal",w(r,"aria-label",t.backButtonText),f.className="modal-title mb-4 svelte-1f9lfqa",N.className="btn back svelte-1f9lfqa",N.dataset.dismiss="modal",_(U,"click",M),U.className="btn btn-danger svelte-1f9lfqa",U.dataset.dismiss="modal",T.className="actions pt-4 mt-4 svelte-1f9lfqa",d.className="modal-content svelte-1f9lfqa",_(i,"keyup",H),i.className="modal-body",n.className="modal hide",n.id=t.id},m:function(e,a){o(e,n,a),s(n,i),s(i,r),A._mount(r,null),s(i,c),s(i,d),s(d,f),f.innerHTML=t.title,s(d,m),O&&(s(d,h||(h=g())),s(d,O),s(d,y||(y=g()))),s(d,k),s(d,T),s(T,N),N.innerHTML=t.backButtonText,s(T,x),s(T,U),E&&E.m(U,null),s(U,C),s(U,L),L.insertAdjacentHTML("afterend",t.confirmButtonText)},p:function(t,i){t.backButtonText&&w(r,"aria-label",i.backButtonText),t.title&&(f.innerHTML=i.title),t.backButtonText&&(N.innerHTML=i.backButtonText),i.confirmButtonIcon?E?E.p(t,i):((E=fe(e,i)).c(),E.m(U,C)):E&&(E.d(1),E=null),t.confirmButtonText&&(u(L),L.insertAdjacentHTML("afterend",i.confirmButtonText)),t.id&&(n.id=i.id)},d:function(e){e&&a(n),A.destroy(),O&&(l(h,y,O),a(h),a(y)),E&&E.d(),b(U,"click",M),b(i,"keyup",H)}}}(this,this._state),this.root._oncreate.push((function(){de.call(t),t.fire("update",{changed:r({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}i(me.prototype,R),i(me.prototype,le);var pe={};function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(pe[e]=window.__dw.vis.meta.locale||{}):pe[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function ve(e){var t=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(e=e.trim(),pe[n]||he(n),!pe[n][e])return"MISSING:"+e;var i=pe[n][e];return"string"==typeof i&&arguments.length>2&&(i=i.replace(/\$(\d)/g,(function(e,n){return n=2+Number(n),void 0===t[n]?e:t[n]}))),i}function ge(e,t){var n,i;function r(e){return"upgrade-info"===e.type?be:_e}var s=r(t),c=s(e,t);return{c:function(){n=p("div"),c.c(),n.className=i="alert "+t.class+" svelte-xl52r3",n.dataset.uid=t.uid,U(n,"alert-success","success"===t.type),U(n,"alert-warning","warning"===t.type),U(n,"alert-error","error"===t.type),U(n,"alert-info","info"===t.type),U(n,"alert-upgrade-info","upgrade-info"===t.type)},m:function(e,t){o(e,n,t),c.m(n,null)},p:function(t,o){s===(s=r(o))&&c?c.p(t,o):(c.d(1),(c=s(e,o)).c(),c.m(n,null)),t.class&&i!==(i="alert "+o.class+" svelte-xl52r3")&&(n.className=i),t.uid&&(n.dataset.uid=o.uid),(t.class||t.type)&&(U(n,"alert-success","success"===o.type),U(n,"alert-warning","warning"===o.type),U(n,"alert-error","error"===o.type),U(n,"alert-info","info"===o.type),U(n,"alert-upgrade-info","upgrade-info"===o.type))},d:function(e){e&&a(n),c.d()}}}function _e(e,t){var n,i,r,s,c=e._slotted.default,u=t.closeable&&we(e);return{c:function(){u&&u.c(),n=v("\n    "),c||(s=v("content"))},m:function(e,t){u&&u.m(e,t),o(e,n,t),c?(o(e,i||(i=g()),t),o(e,c,t),o(e,r||(r=g()),t)):o(e,s,t)},p:function(t,i){i.closeable?u||((u=we(e)).c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null)},d:function(e){u&&u.d(e),e?(a(n),c||a(s)):(l(i,r,c),a(i),a(r))}}}function be(e,t){var i,r,c,u,l,d,f,m,h=ve("upgrade-available"),g=ve("upgrade-info");return{c:function(){i=p("div"),r=p("span"),c=v("\n    "),u=p("div"),l=p("span"),d=v(h),f=v(" "),m=p("noscript"),r.className="upgrade-icon svelte-xl52r3",i.className="icon",l.className="title svelte-xl52r3"},m:function(e,t){o(e,i,t),s(i,r),r.innerHTML='<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>',o(e,c,t),o(e,u,t),s(u,l),s(l,d),s(u,f),s(u,m),m.insertAdjacentHTML("afterend",g)},p:n,d:function(e){e&&(a(i),a(c),a(u))}}}function we(e,t){var n;function i(t){e.close()}return{c:function(){(n=p("button")).textContent="×",_(n,"click",i),n.type="button",w(n,"aria-label","close"),n.className="close"},m:function(e,t){o(e,n,t)},d:function(e){e&&a(n),b(n,"click",i)}}}function ye(e){var t,n,r,s;I(this,e),this._state=i({visible:!1,type:"",closeable:!0,class:"",closeFunc:!1,uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(t=this,n=this._state,s=n.visible&&ge(t,n),{c:function(){s&&s.c(),r=g()},m:function(e,t){s&&s.m(e,t),o(e,r,t)},p:function(e,n){n.visible?s?s.p(e,n):((s=ge(t,n)).c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d:function(e){s&&s.d(e),e&&a(r)}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ue(e,t,n){return(Ue=xe()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&ke(r,n.prototype),r}).apply(null,arguments)}function Ce(e){var t="function"==typeof Map?new Map:void 0;return(Ce=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return Ue(e,arguments,Ne(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ke(i,e)})(e)}function Le(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}i(ye.prototype,R),i(ye.prototype,{close:function(){var e=this.get().closeFunc;e?e():(this.set({visible:!1}),this.fire("close"))}});var Oe={exports:{}};
/*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   */!function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function s(t,n,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},r.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,!0!==s[c]&&(a+="="+s[c].split(";")[0]));return document.cookie=t+"="+n+a}}function o(e,n){if("undefined"!=typeof document){for(var r={},s=document.cookie?document.cookie.split("; "):[],o=0;o<s.length;o++){var a=s[o].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(a[0]);if(c=(i.read||i)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(r[u]=c,e===u)break}catch(e){}}return e?r[e]:r}}return r.set=s,r.get=function(e){return o(e,!1)},r.getJSON=function(e){return o(e,!0)},r.remove=function(t,n){s(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))},e.exports=n()}(Oe);var Ae=Oe.exports;function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ne(e);if(t){var r=Ne(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Te(this,n)}}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function He(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Me(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Me(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Ie=new Set(["get","head","options","trace"]);function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.fetch)try{t.fetch=window.fetch}catch(e){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!t.baseUrl)try{t.baseUrl="//".concat(window.dw.backend.__api_domain)}catch(e){throw new Error("Neither options.baseUrl nor window.dw is defined.")}var n,i=He(He({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},t),{},{headers:He({"Content-Type":"application/json"},t.headers)}),r=i.payload,s=i.baseUrl,o=i.fetch,a=i.raw,c=Le(i,["payload","baseUrl","fetch","raw"]),u="".concat(s.replace(/\/$/,""),"/").concat(e.replace(/^\//,""));if(r&&(c.body=JSON.stringify(r)),Ie.has(c.method.toLowerCase()))n=o(u,c);else{var l=Ae.get("crumb");l?(c.headers["X-CSRF-Token"]=l,n=o(u,c)):n=je("/v3/me",{fetch:o,baseUrl:s}).then((function(){var e=Ae.get("crumb");e&&(c.headers["X-CSRF-Token"]=e)})).catch((function(){})).then((function(){return o(u,c)}))}return n.then((function(e){if(a)return e;if(!e.ok)throw new Pe(e);if(204===e.status||!e.headers.get("content-type"))return e;var t=e.headers.get("content-type").split(";")[0];return"application/json"===t?e.json():"image/png"===t||"application/pdf"===t?e.blob():e.text()}))}var Se=je.get=Re("GET");je.patch=Re("PATCH"),je.put=Re("PUT");var Be=je.post=Re("POST");function Re(e){return function(t,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(e.toLowerCase(),"()"));return je(t,He(He({},n),{},{method:e}))}}je.head=Re("HEAD"),je.delete=Re("DELETE");var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(n,e);var t=Ee(n);function n(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=t.call(this)).name="HttpReqError",i.status=e.status,i.statusText=e.statusText,i.message="[".concat(e.status,"] ").concat(e.statusText),i.response=e,i}return n}(Ce(Error));function qe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var De=[{value:"owner",label:D("teams / role / owner").replace("&shy;","")},{value:"admin",label:D("teams / role / admin").replace("&shy;","")},{value:"member",label:D("teams / role / member").replace("&shy;","")}];function ze(){}function $e(e){return{member:D("teams / role / member"),admin:D("teams / role / admin"),owner:D("teams / role / owner")}[e]}var Ve={toggleEdit:function(e){this.get().editId===e?this.requestUpdateRole(e):this.set({editId:e})},removeUser:function(e){try{var t=this;if(!window.confirm(D("teams / remove / alert")))return;return qe(je.delete("/v3/teams/".concat(t.get().team.id,"/members/").concat(e.id)),(function(){var n=t.get().users;n=n.filter((function(t){return t.id!==e.id})),t.set({users:n})}))}catch(e){return Promise.reject(e)}},requestUpdateRole:function(e){try{return"owner"===this.get().users.filter((function(t){return t.id===e}))[0].role?void this.refs.confirmationModal.open():function(e,t){if(!t)return e&&e.then?e.then(ze):Promise.resolve()}(this.updateRole(e))}catch(e){return Promise.reject(e)}},updateRole:function(e){try{var t=this,n=t.get(),i=n.updating,r=n.users.filter((function(t){return t.id===e}))[0];return i[r.id]=!0,t.set({updating:i}),qe(je.put("/v3/teams/".concat(t.get().team.id,"/members/").concat(r.id,"/status"),{payload:{status:r.role}}),(function(){(i=t.get().updating)[r.id]=!1,t.set({updating:i,editId:!1}),t.fire("updateUsers")}))}catch(e){return Promise.reject(e)}}};function Fe(e){var t=this._svelte,n=t.component,i=t.ctx;n.removeUser(i.user)}function Ge(e){var t=this._svelte,n=t.component,i=t.ctx;n.toggleEdit(i.user.id)}function Je(e){var t=this._svelte,n=t.component,i=t.ctx;n.toggleEdit(i.user.id)}function Ze(e,t,n){var i=Object.create(e);return i.user=t[n],i.each_value=t,i.i=n,i}function Xe(e,t){var n,i=D("teams / total").replace("%i%",t.numUsers);return{c:function(){n=v(i)},m:function(e,t){o(e,n,t)},p:function(e,t){e.numUsers&&i!==(i=D("teams / total").replace("%i%",t.numUsers))&&k(n,i)},d:function(e){e&&a(n)}}}function We(e,t){var i,r=D("teams / total / 1");return{c:function(){i=v(r)},m:function(e,t){o(e,i,t)},p:n,d:function(e){e&&a(i)}}}function Ke(e,t){for(var n,i=t.sortedUsers,r=[],o=0;o<i.length;o+=1)r[o]=at(e,Ze(t,i,o));var a={columnHeaders:t.userHeaders},c=new Y({root:e.root,store:e.store,slots:{default:m()},data:a});return{c:function(){for(var e=0;e<r.length;e+=1)r[e].c();n=g(),c._fragment.c()},m:function(e,t){for(var i=0;i<r.length;i+=1)r[i].m(c._slotted.default,null);s(c._slotted.default,n),c._mount(e,t)},p:function(t,s){if(t.isAdmin||t.isTeamOwner||t.sortedUsers||t.userId||t.isTeamAdmin||t.editId||t.updating||t.roles){i=s.sortedUsers;for(var o=0;o<i.length;o+=1){var a=Ze(s,i,o);r[o]?r[o].p(t,a):(r[o]=at(e,a),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}var u={};t.userHeaders&&(u.columnHeaders=s.userHeaders),c._set(u)},d:function(e){f(r,e),c.destroy(e)}}}function Qe(e,t){var n,i,r,c,u=t.user.id;return{c:function(){n=p("td"),i=p("a"),r=v(u),i.href=c="/admin/users/"+t.user.id},m:function(e,t){o(e,n,t),s(n,i),s(i,r)},p:function(e,t){e.sortedUsers&&u!==(u=t.user.id)&&k(r,u),e.sortedUsers&&c!==(c="/admin/users/"+t.user.id)&&(i.href=c)},d:function(e){e&&a(n)}}}function Ye(e,t){var n,i,r,s,u=$e(t.user.role),l=t.user.token&&tt();return{c:function(){n=p("noscript"),i=p("noscript"),r=v(" "),l&&l.c(),s=g()},m:function(e,t){o(e,n,t),n.insertAdjacentHTML("afterend",u),o(e,i,t),o(e,r,t),l&&l.m(e,t),o(e,s,t)},p:function(e,t){e.sortedUsers&&u!==(u=$e(t.user.role))&&(c(n,i),n.insertAdjacentHTML("afterend",u)),t.user.token?l||((l=tt()).c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d:function(e){e&&(c(n,i),a(n),a(i),a(r)),l&&l.d(e),e&&a(s)}}}function et(e,t){var n,i,r,c={},u=D("teams / role / p"),l={width:"200px",options:t.roles};void 0!==t.user.role&&(l.value=t.user.role,c.value=!0);var d=new ce({root:e.root,store:e.store,data:l,_bind:function(n,i){var r={};!c.value&&n.value&&(t.user.role=i.value,r.sortedUsers=t.sortedUsers),e._set(r),c={}}});return e.root._beforecreate.push((function(){d._bind({value:1},d.get())})),{c:function(){d._fragment.c(),n=v("\n            "),i=p("p"),r=v(u),i.className="mini-help"},m:function(e,t){d._mount(e,t),o(e,n,t),o(e,i,t),s(i,r)},p:function(e,n){t=n;var i={};e.roles&&(i.options=t.roles),!c.value&&e.sortedUsers&&(i.value=t.user.role,c.value=void 0!==t.user.role),d._set(i),c={}},d:function(e){d.destroy(e),e&&(a(n),a(i))}}}function tt(e,t){var n,i,r=D("teams / invite-pending");return{c:function(){n=p("i"),i=v(r)},m:function(e,t){o(e,n,t),s(n,i)},d:function(e){e&&a(n)}}}function nt(e,t){var i,r,c=D("teams / edit-role / owner / info");return{c:function(){i=p("p"),r=v(c),i.className="mini-help"},m:function(e,t){o(e,i,t),s(i,r)},p:n,d:function(e){e&&a(i)}}}function it(e,t){var n;function i(e){return e.editId===e.user.id?ot:e.updating[e.user.id]?st:rt}var r=i(t),s=r(e,t);return{c:function(){s.c(),n=g()},m:function(e,t){s.m(e,t),o(e,n,t)},p:function(t,o){r===(r=i(o))&&s?s.p(t,o):(s.d(1),(s=r(e,o)).c(),s.m(n.parentNode,n))},d:function(e){s.d(e),e&&a(n)}}}function rt(e,t){var n,i,r,c,u,l,d,f,m,h=D("teams / edit"),g=D("teams / remove");return{c:function(){n=p("button"),i=p("i"),r=v("  "),c=v(h),u=v("\n\n            "),l=p("button"),d=p("i"),f=v("  "),m=v(g),i.className="fa fa-edit",n._svelte={component:e,ctx:t},_(n,"click",Ge),n.className="btn",d.className="fa fa-times",l._svelte={component:e,ctx:t},_(l,"click",Fe),l.className="btn"},m:function(e,t){o(e,n,t),s(n,i),s(n,r),s(n,c),o(e,u,t),o(e,l,t),s(l,d),s(l,f),s(l,m)},p:function(e,i){t=i,n._svelte.ctx=t,l._svelte.ctx=t},d:function(e){e&&a(n),b(n,"click",Ge),e&&(a(u),a(l)),b(l,"click",Fe)}}}function st(e,t){var i,r,c,u,l=D("teams / save");return{c:function(){i=p("button"),r=p("i"),c=v("  "),u=v(l),r.className="fa fa-spin fa-circle-o-notch",i.disabled=!0,i.className="btn btn-primary"},m:function(e,t){o(e,i,t),s(i,r),s(i,c),s(i,u)},p:n,d:function(e){e&&a(i)}}}function ot(e,t){var n,i,r,c,u=D("teams / save");return{c:function(){n=p("button"),i=p("i"),r=v("  "),c=v(u),i.className="fa fa-check",n._svelte={component:e,ctx:t},_(n,"click",Je),n.className="btn btn-primary"},m:function(e,t){o(e,n,t),s(n,i),s(n,r),s(n,c)},p:function(e,i){t=i,n._svelte.ctx=t},d:function(e){e&&a(n),b(n,"click",Je)}}}function at(e,t){var n,i,r,c,u,l,d,f,m,h,g,_=t.user.email,b=t.user.charts,w=t.isAdmin&&Qe(0,t);function y(e){return e.editId===e.user.id?et:Ye}var T=y(t),N=T(e,t);function x(e){return e.isAdmin&&!e.isTeamOwner||e.isTeamOwner&&e.user.id!==e.userId||e.isTeamAdmin&&"owner"!==e.user.role?it:e.isTeamOwner&&"owner"===e.user.role?nt:void 0}var U=x(t),C=U&&U(e,t);return{c:function(){n=p("tr"),i=p("td"),r=v(_),c=v("\n        "),w&&w.c(),u=v("\n        "),l=p("td"),d=v(b),f=v("\n        "),m=p("td"),N.c(),h=v("\n        "),g=p("td"),C&&C.c()},m:function(e,t){o(e,n,t),s(n,i),s(i,r),s(n,c),w&&w.m(n,null),s(n,u),s(n,l),s(l,d),s(n,f),s(n,m),N.m(m,null),s(n,h),s(n,g),C&&C.m(g,null)},p:function(t,i){t.sortedUsers&&_!==(_=i.user.email)&&k(r,_),i.isAdmin?w?w.p(t,i):((w=Qe(0,i)).c(),w.m(n,u)):w&&(w.d(1),w=null),t.sortedUsers&&b!==(b=i.user.charts)&&k(d,b),T===(T=y(i))&&N?N.p(t,i):(N.d(1),(N=T(e,i)).c(),N.m(m,null)),U===(U=x(i))&&C?C.p(t,i):(C&&C.d(1),(C=U&&U(e,i))&&C.c(),C&&C.m(g,null))},d:function(e){e&&a(n),w&&w.d(),N.d(),C&&C.d()}}}function ct(e,t){var n,i=D("teams / change-owner-confirmation / warning"),r=new ye({root:e.root,store:e.store,slots:{default:m()},data:{type:"'warning'",closeable:!1,visible:!0,class:"spacing-helper"}});return{c:function(){n=p("div"),r._fragment.c(),n.className="confirmation-warning svelte-1aw136m"},m:function(e,t){s(r._slotted.default,n),n.innerHTML=i,r._mount(e,t)},d:function(e){r.destroy(e)}}}function ut(e){I(this,e),this.refs={},this._state=i({editId:!1,updating:{},users:[],products:[]},e.data),this._recompute({isAdmin:1,isTeamOwner:1,users:1,sortedUsers:1,numCharts:1,team:1,editId:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,i,r,c,l,d,f,h;function _(e){return 1===e.numUsers?We:e.numUsers>1?Xe:void 0}var b=_(t),w=b&&b(e,t),y=t.sortedUsers.length&&Ke(e,t),k=t.products.length&&ct(e),T={confirmButtonText:D("teams / change-owner-confirmation / confirm"),backButtonText:D("teams / change-owner-confirmation / back"),id:"modalConfirmation",title:t.ownerChangeTitle},N=new me({root:e.root,store:e.store,slots:{default:m()},data:T});return N.on("confirm",(function(n){e.updateRole(t.editId)})),e.refs.confirmationModal=N,{c:function(){n=p("p"),w&&w.c(),i=v(" "),r=p("noscript"),c=v("\n\n"),y&&y.c(),l=v("\n\n"),d=p("p"),f=v("\n    "),k&&k.c(),h=g(),N._fragment.c()},m:function(e,a){o(e,n,a),w&&w.m(n,null),s(n,i),s(n,r),r.insertAdjacentHTML("afterend",t.numChartsCaption),o(e,c,a),y&&y.m(e,a),o(e,l,a),s(N._slotted.default,d),d.innerHTML=t.ownerChangeMessage,s(N._slotted.default,f),k&&k.m(N._slotted.default,null),s(N._slotted.default,h),N._mount(e,a)},p:function(s,o){b===(b=_(t=o))&&w?w.p(s,t):(w&&w.d(1),(w=b&&b(e,t))&&w.c(),w&&w.m(n,i)),s.numChartsCaption&&(u(r),r.insertAdjacentHTML("afterend",t.numChartsCaption)),t.sortedUsers.length?y?y.p(s,t):((y=Ke(e,t)).c(),y.m(l.parentNode,l)):y&&(y.d(1),y=null),s.ownerChangeMessage&&(d.innerHTML=t.ownerChangeMessage),t.products.length?k||((k=ct(e)).c(),k.m(h.parentNode,h)):k&&(k.d(1),k=null);var a={};s.ownerChangeTitle&&(a.title=t.ownerChangeTitle),N._set(a)},d:function(t){t&&a(n),w&&w.d(),t&&a(c),y&&y.d(t),t&&a(l),k&&k.d(),N.destroy(t),e.refs.confirmationModal===N&&(e.refs.confirmationModal=null)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}i(ut.prototype,R),i(ut.prototype,Ve),ut.prototype._recompute=function(e,t){var n,i,r;(e.isAdmin||e.isTeamOwner)&&this._differs(t.roles,t.roles=function(e){var t=e.isAdmin,n=e.isTeamOwner;return t||n?De:De.slice(1)}(t))&&(e.roles=!0),(e.users||e.isAdmin)&&this._differs(t.sortedUsers,t.sortedUsers=(i=(n=t).users,r=n.isAdmin,i.sort((function(e,t){var n=["owner","admin","member"];return n.indexOf(e.role)>n.indexOf(t.role)?1:n.indexOf(e.role)<n.indexOf(t.role)?-1:e.email>t.email?1:e.email<t.email?-1:0})).filter((function(e){return r||!e.isAdmin}))))&&(e.sortedUsers=!0),e.isAdmin&&this._differs(t.userHeaders,t.userHeaders=function(e){var t=e.isAdmin,n=[{title:D("teams / user"),width:"25%"},{title:"ID",width:"10%"},{title:"Charts",width:"15%"},{title:D("teams / status"),width:"15%"},{title:D("teams / actions"),width:"30%"}];return t||n.splice(1,1),n}(t))&&(e.userHeaders=!0),e.sortedUsers&&this._differs(t.numUsers,t.numUsers=t.sortedUsers.length)&&(e.numUsers=!0),e.users&&this._differs(t.numCharts,t.numCharts=function(e){var t=e.users,n=0;return t.forEach((function(e){n+=e.charts})),n}(t))&&(e.numCharts=!0),(e.numCharts||e.isAdmin||e.team)&&this._differs(t.numChartsCaption,t.numChartsCaption=function(e){var t=e.numCharts,n=e.isAdmin,i=e.team;return 1===t?D("teams / charts-total / 1"):t>1?n?D("teams / charts-total-admin").replace("%i%",t).replace("%link%","/admin/chart/by/".concat(i.id)):D("teams / charts-total").replace("%i%",t):""}(t))&&(e.numChartsCaption=!0),(e.users||e.editId||e.team||e.isTeamOwner)&&this._differs(t.ownerChangeMessage,t.ownerChangeMessage=function(e){var t=e.users,n=e.editId,i=e.team,r=e.isTeamOwner,s=t.find((function(e){return e.id===n})),o=t.find((function(e){return e.id!==n&&"owner"===e.role})),a=s?s.name||s.email||s.id:"non-existent",c=o?o.name||o.email||o.id:"non-existent";return D("teams / change-owner-confirmation / message").replace("%member%","<b>".concat(a,"</b>")).replace("%message%",r?D("teams / change-owner-confirmation / owner-message"):D("teams / change-owner-confirmation / non-owner-message").replace("%member%","<b>".concat(c,"</b>"))).replace("%team%","<b>".concat(i.name,"</b>"))}(t))&&(e.ownerChangeMessage=!0),(e.users||e.editId)&&this._differs(t.ownerChangeTitle,t.ownerChangeTitle=function(e){var t=e.users,n=e.editId,i=t.find((function(e){return e.id===n})),r=i?i.name||i.email||i.id:"non-existent";return D("teams / change-owner-confirmation / title").replace("%member%",r)}(t))&&(e.ownerChangeTitle=!0)};function lt(e,t){var n,i,r=e._slotted.content;return{c:function(){n=p("div"),r||((i=p("div")).textContent="DropdownControl content"),r||(i.className="base-dropdown-inner svelte-1jdtmzv"),T(n,"width",t.width),n.className="dropdown-menu base-dropdown-content svelte-1jdtmzv"},m:function(e,t){o(e,n,t),s(n,r||i)},p:function(e,t){e.width&&T(n,"width",t.width)},d:function(e){e&&a(n),r&&d(n,r)}}}function dt(e){I(this,e),this.refs={},this._state=i({visible:!1,disabled:!1,width:"auto",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n,i,r,c,u,l,f=e._slotted.button;function m(t){e.windowClick(t)}function h(t){e.toggle(t)}window.addEventListener("click",m);var g=t.visible&&lt(e,t);return{c:function(){n=p("div"),i=p("a"),f||(r=p("button"),c=p("i")),l=v("\n    "),g&&g.c(),f||(c.className=u="fa fa-chevron-"+(t.visible?"up":"down")+" svelte-1jdtmzv",r.className="btn btn-small"),_(i,"click",h),i.href="#dropdown-btn",i.className="base-drop-btn svelte-1jdtmzv",T(n,"position","relative"),T(n,"display","inline-block"),n.dataset.uid=t.uid},m:function(t,a){o(t,n,a),s(n,i),f?s(i,f):(s(i,r),s(r,c)),e.refs.button=i,s(n,l),g&&g.m(n,null)},p:function(t,i){f||t.visible&&u!==(u="fa fa-chevron-"+(i.visible?"up":"down")+" svelte-1jdtmzv")&&(c.className=u),i.visible?g?g.p(t,i):((g=lt(e,i)).c(),g.m(n,null)):g&&(g.d(1),g=null),t.uid&&(n.dataset.uid=i.uid)},d:function(t){window.removeEventListener("click",m),t&&a(n),f&&d(i,f),b(i,"click",h),e.refs.button===i&&(e.refs.button=null),g&&g.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}i(dt.prototype,R),i(dt.prototype,{toggle:function(e){e.preventDefault();var t=this.get(),n=t.visible;t.disabled||this.set({visible:!n})},windowClick:function(e){!e.target||this.refs&&this.refs.button&&(e.target===this.refs.button||this.refs.button.contains(e.target))||e.target.classList.contains("hex")||this.set({visible:!1})}});function ft(e){e.preventDefault();var t=this._svelte,n=t.component,i=t.ctx;n.action(i.item)}function mt(e,t,n){var i=Object.create(e);return i.item=t[n],i}function pt(e,t){var n,i,r,c,l=t.icon&&ht(e,t);function d(t){t.preventDefault(),t.stopPropagation(),e.fireClick()}return{c:function(){n=p("button"),l&&l.c(),i=v(" "),r=p("noscript"),_(n,"click",d),n.disabled=t.disabled,n.className=c="split-button-label "+t.btnClass+" svelte-1qu0vk"},m:function(e,a){o(e,n,a),l&&l.m(n,null),s(n,i),s(n,r),r.insertAdjacentHTML("afterend",t.label)},p:function(t,s){s.icon?l?l.p(t,s):((l=ht(e,s)).c(),l.m(n,i)):l&&(l.d(1),l=null),t.label&&(u(r),r.insertAdjacentHTML("afterend",s.label)),t.disabled&&(n.disabled=s.disabled),t.btnClass&&c!==(c="split-button-label "+s.btnClass+" svelte-1qu0vk")&&(n.className=c)},d:function(e){e&&a(n),l&&l.d(),b(n,"click",d)}}}function ht(e,t){var n;return{c:function(){(n=p("i")).className=t.icon+" svelte-1qu0vk"},m:function(e,t){o(e,n,t)},p:function(e,t){e.icon&&(n.className=t.icon+" svelte-1qu0vk")},d:function(e){e&&a(n)}}}function vt(e,t){var n,i,r=t.icon&&_t(e,t);function s(e){return e.label?wt:bt}var c=s(t),u=c(e,t);return{c:function(){r&&r.c(),n=v(" "),u.c(),i=g()},m:function(e,t){r&&r.m(e,t),o(e,n,t),u.m(e,t),o(e,i,t)},p:function(t,o){o.icon?r?r.p(t,o):((r=_t(e,o)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null),c===(c=s(o))&&u?u.p(t,o):(u.d(1),(u=c(e,o)).c(),u.m(i.parentNode,i))},d:function(e){r&&r.d(e),e&&a(n),u.d(e),e&&a(i)}}}function gt(e,t){var i;return{c:function(){(i=p("span")).className="caret"},m:function(e,t){o(e,i,t)},p:n,d:function(e){e&&a(i)}}}function _t(e,t){var n;return{c:function(){(n=p("i")).className=t.icon+" svelte-1qu0vk"},m:function(e,t){o(e,n,t)},p:function(e,t){e.icon&&(n.className=t.icon+" svelte-1qu0vk")},d:function(e){e&&a(n)}}}function bt(e,t){var i;return{c:function(){(i=p("i")).className="im im-menu-dot-h svelte-1qu0vk"},m:function(e,t){o(e,i,t)},p:n,d:function(e){e&&a(i)}}}function wt(e,t){var n,i,r,s;return{c:function(){n=p("noscript"),i=p("noscript"),r=v("\n            "),(s=p("span")).className="caret"},m:function(e,a){o(e,n,a),n.insertAdjacentHTML("afterend",t.label),o(e,i,a),o(e,r,a),o(e,s,a)},p:function(e,t){e.label&&(c(n,i),n.insertAdjacentHTML("afterend",t.label))},d:function(e){e&&(c(n,i),a(n),a(i),a(r),a(s))}}}function yt(e,t){var n,i,r,c=t.item.label;return{c:function(){n=p("li"),i=p("a"),r=v("\n        "),i._svelte={component:e,ctx:t},_(i,"click",ft),i.href="#/action",i.className="svelte-1qu0vk",U(i,"disabled",t.item.disabled),n.className="svelte-1qu0vk"},m:function(e,t){o(e,n,t),s(n,i),i.innerHTML=c,s(n,r)},p:function(e,n){t=n,e.items&&c!==(c=t.item.label)&&(i.innerHTML=c),i._svelte.ctx=t,e.items&&U(i,"disabled",t.item.disabled)},d:function(e){e&&a(n),b(i,"click",ft)}}}function kt(e){I(this,e),this._state=i({label:"",icon:!1,split:!1,items:[],btnClass:"btn",uid:""},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,r,o,a,c=t.split&&pt(e,t);function u(e){return e.split?gt:vt}for(var l=u(t),d=l(e,t),h=t.items,g=[],_=0;_<h.length;_+=1)g[_]=yt(e,mt(t,h,_));var b={disabled:t.disabled,uid:t.uid},y=new dt({root:e.root,store:e.store,slots:{default:m(),content:m(),button:m()},data:b});return{c:function(){n=p("div"),c&&c.c(),i=v("\n        "),r=p("button"),d.c(),o=v("\n\n    "),a=p("ul");for(var e=0;e<g.length;e+=1)g[e].c();y._fragment.c(),r.disabled=t.disabled,r.className=t.btnClass+" svelte-1qu0vk",w(n,"slot","button"),n.className="btn-group",w(a,"slot","content"),a.className="svelte-1qu0vk"},m:function(e,t){s(y._slotted.button,n),c&&c.m(n,null),s(n,i),s(n,r),d.m(r,null),s(y._slotted.default,o),s(y._slotted.content,a);for(var u=0;u<g.length;u+=1)g[u].m(a,null);y._mount(e,t)},p:function(t,s){if(s.split?c?c.p(t,s):((c=pt(e,s)).c(),c.m(n,i)):c&&(c.d(1),c=null),l===(l=u(s))&&d?d.p(t,s):(d.d(1),(d=l(e,s)).c(),d.m(r,null)),t.disabled&&(r.disabled=s.disabled),t.btnClass&&(r.className=s.btnClass+" svelte-1qu0vk"),t.items){h=s.items;for(var o=0;o<h.length;o+=1){var f=mt(s,h,o);g[o]?g[o].p(t,f):(g[o]=yt(e,f),g[o].c(),g[o].m(a,null))}for(;o<g.length;o+=1)g[o].d(1);g.length=h.length}var m={};t.disabled&&(m.disabled=s.disabled),t.uid&&(m.uid=s.uid),y._set(m)},d:function(e){c&&c.d(),d.d(),f(g,e),y.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}function Tt(e,t){var n;return{c:function(){(n=p("label")).className="control-label svelte-1nkiaxn"},m:function(e,i){o(e,n,i),n.innerHTML=t.label},p:function(e,t){e.label&&(n.innerHTML=t.label)},d:function(e){e&&a(n)}}}function Nt(e,t){var n;return{c:function(){(n=p("div")).className="help success svelte-1nkiaxn"},m:function(e,i){o(e,n,i),n.innerHTML=t.success},p:function(e,t){e.success&&(n.innerHTML=t.success)},d:function(e){e&&a(n)}}}function xt(e,t){var n;return{c:function(){(n=p("div")).className="help error svelte-1nkiaxn"},m:function(e,i){o(e,n,i),n.innerHTML=t.error},p:function(e,t){e.error&&(n.innerHTML=t.error)},d:function(e){e&&a(n)}}}function Ut(e,t){var n;return{c:function(){(n=p("div")).className="help svelte-1nkiaxn"},m:function(e,i){o(e,n,i),n.innerHTML=t.help},p:function(e,t){e.help&&(n.innerHTML=t.help)},d:function(e){e&&a(n)}}}function Ct(e){var t,n,r,c,u,l,f,m,h,g,_,b,w;I(this,e),this._state=i({label:"",help:"",error:!1,success:!1,width:"auto",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(t=this,n=this._state,h=t._slotted.default,g=n.label&&Tt(0,n),_=n.success&&Nt(0,n),b=n.error&&xt(0,n),w=!n.success&&!n.error&&n.help&&Ut(0,n),{c:function(){r=p("div"),g&&g.c(),c=v("\n    "),u=p("div"),l=v("\n    "),_&&_.c(),f=v(" "),b&&b.c(),m=v(" "),w&&w.c(),u.className="form-controls svelte-1nkiaxn",r.className="form-block svelte-1nkiaxn",T(r,"width",n.width),r.dataset.uid=n.uid,U(r,"success",n.success),U(r,"error",n.error)},m:function(e,t){o(e,r,t),g&&g.m(r,null),s(r,c),s(r,u),h&&s(u,h),s(r,l),_&&_.m(r,null),s(r,f),b&&b.m(r,null),s(r,m),w&&w.m(r,null)},p:function(e,t){t.label?g?g.p(e,t):((g=Tt(0,t)).c(),g.m(r,c)):g&&(g.d(1),g=null),t.success?_?_.p(e,t):((_=Nt(0,t)).c(),_.m(r,f)):_&&(_.d(1),_=null),t.error?b?b.p(e,t):((b=xt(0,t)).c(),b.m(r,m)):b&&(b.d(1),b=null),t.success||t.error||!t.help?w&&(w.d(1),w=null):w?w.p(e,t):((w=Ut(0,t)).c(),w.m(r,null)),e.width&&T(r,"width",t.width),e.uid&&(r.dataset.uid=t.uid),e.success&&U(r,"success",t.success),e.error&&U(r,"error",t.error)},d:function(e){e&&a(r),g&&g.d(),h&&d(u,h),_&&_.d(),b&&b.d(),w&&w.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function Lt(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}i(kt.prototype,R),i(kt.prototype,{fireClick:function(){this.fire("click")},action:function(e){e.disabled||e.action(this)}}),i(Ct.prototype,R);var Ot={addUser:function(e){try{var t=this,n=t.get(),i=n.inviteeExists,r=n.inviteeUserId;if(!i)return;return t.set({currentAction:{updatingUsers:!0,isComplete:!1}}),Lt(Be("/v3/teams/".concat(t.get().team.id,"/members"),{raw:!0,payload:{userId:r,role:e}}),(function(n){var i=!n.ok;return Lt(i?n.json():null,(function(i){var r={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:i&&i.data?i.data:null,type:"add",role:e};t.set({invitedEmail:t.get().inviteeEmail,currentAction:r}),t.fire("updateUsers")}),!i)}))}catch(e){return Promise.reject(e)}},inviteUser:function(e){try{var t=this,n=t.get().inviteeEmail;return t.set({currentAction:{updatingUsers:!0,isComplete:!1}}),Lt(Be("/v3/teams/".concat(t.get().team.id,"/invites"),{raw:!0,payload:{email:n,role:e}}),(function(n){var i=!n.ok;return Lt(i?n.json():null,(function(i){var r={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:i&&i.data?i.data:null,type:"invite",role:e};t.set({invitedEmail:t.get().inviteeEmail,currentAction:r}),t.fire("updateUsers")}),!i)}))}catch(e){return Promise.reject(e)}},debounceCheckUser:function(){try{var e=this;if(!e.get().isAdmin)return;return window.clearTimeout(window.checkUser),e.set({inviteeExistsLoading:!0}),window.checkUser=setTimeout((function(){e.checkUser()}),200),Lt()}catch(e){return Promise.reject(e)}},checkUser:function(){try{var e=this,t=e.get().inviteeEmail;return e.get().isValidEmail?Lt(Se("/v3/users?search=".concat(encodeURIComponent(t))),(function(n){e.set({inviteeExistsLoading:!1,inviteeExists:!1}),n.list.length>0&&(t=e.get().inviteeEmail,n.list.forEach((function(n){n.email.toLowerCase()===t.toLowerCase()&&e.set({inviteeExists:!0,inviteeUserId:n.id})})))})):void e.set({inviteeExistsLoading:!1})}catch(e){return Promise.reject(e)}}};function At(){window.teamSettingsInvite=this}function Et(e){e.changed.inviteeEmail&&(this.set({inviteeExists:!1}),this.debounceCheckUser())}function Mt(e){var t=this;I(this,e),this._state=i({inviteeEmail:"",invitedEmail:"",currentAction:{updatingUsers:!1,isComplete:!1,isError:!1,errorCode:null,responseData:null,type:"",role:""}},e.data),this._recompute({invitedEmail:1,currentAction:1,inviteeEmail:1,isAdmin:1,isTeamOwner:1,isValidEmail:1,inviteeExistsLoading:1,inviteeExists:1},this._state),this._intro=!0,this._handlers.state=[Et],Et.call(this,{changed:r({},this._state),current:this._state}),this._fragment=function(e,t){var n,i,r,o=!1;function a(){o=!0,e.set({inviteeEmail:i.value}),o=!1}var c={disabled:!t.isValidEmail,label:"<i class='fa "+(t.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>  "+D("teams / invite"),items:t.inviteOptions},u=new kt({root:e.root,store:e.store,data:c}),l={label:D("teams / invite-user"),help:D("teams / invite-user / help"),success:t.successMessage,error:t.errorMessage},d=new Ct({root:e.root,store:e.store,slots:{default:m()},data:l});return{c:function(){n=p("div"),i=p("input"),r=v(" \n        "),u._fragment.c(),d._fragment.c(),_(i,"input",a),w(i,"type","text"),i.width="1px",i.placeholder=D("teams / invite-user / eg"),i.className="svelte-m6ws61",n.className="flex svelte-m6ws61"},m:function(e,o){s(d._slotted.default,n),s(n,i),i.value=t.inviteeEmail,s(n,r),u._mount(n,null),d._mount(e,o)},p:function(e,t){!o&&e.inviteeEmail&&(i.value=t.inviteeEmail);var n={};e.isValidEmail&&(n.disabled=!t.isValidEmail),e.currentAction&&(n.label="<i class='fa "+(t.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>  "+D("teams / invite")),e.inviteOptions&&(n.items=t.inviteOptions),u._set(n);var r={};e.successMessage&&(r.success=t.successMessage),e.errorMessage&&(r.error=t.errorMessage),d._set(r)},d:function(e){b(i,"input",a),u.destroy(),d.destroy(e)}}}(this,this._state),this.root._oncreate.push((function(){At.call(t),t.fire("update",{changed:r({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}i(Mt.prototype,R),i(Mt.prototype,Ot),Mt.prototype._recompute=function(e,t){var n;(e.invitedEmail||e.currentAction)&&(this._differs(t.successMessage,t.successMessage=function(e){var t,n=e.invitedEmail,i=e.currentAction,r=i.isComplete,s=i.isError,o=i.type,a=i.role;if(r&&!s)return D("teams / invite-user / ".concat(o," / success")).replace("$1",(t=n,t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))).replace("$2",D("teams / role / ".concat(a)))}(t))&&(e.successMessage=!0),this._differs(t.errorMessage,t.errorMessage=function(e){var t=e.invitedEmail,n=e.currentAction,i=n.isComplete,r=n.isError,s=n.errorCode,o=n.responseData,a=n.type;if(i&&r){var c=[400,401,406].includes(s)?s:"other",u=406===s&&o&&o.maxTeamInvites?o.maxTeamInvites:null;return D("teams / invite-user / ".concat(a," / error / ").concat(c)).replace("$1",t).replace("$2",u)}}(t))&&(e.errorMessage=!0)),e.inviteeEmail&&this._differs(t.isValidEmail,t.isValidEmail=(n=t.inviteeEmail,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)))&&(e.isValidEmail=!0),(e.isAdmin||e.isTeamOwner||e.isValidEmail||e.inviteeExistsLoading||e.inviteeExists)&&this._differs(t.inviteOptions,t.inviteOptions=function(e){var t=e.isAdmin,n=e.isTeamOwner,i=e.isValidEmail,r=e.inviteeExistsLoading,s=e.inviteeExists,o=[{label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(D("teams / role / member")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("member")}},{label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(D("teams / role / admin")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("admin")}}];return(t||n)&&o.push({label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(D("teams / role / owner")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("owner")}}),t&&o.push({label:'<span class="red"><i class="fa '.concat(r?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(D("teams / add-as").replace("%s",D("teams / role / member")),"</span>"),disabled:!s,action:function(){teamSettingsInvite.addUser("member")}},{label:'<span class="red"><i class="fa '.concat(r?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(D("teams / add-as").replace("%s",D("teams / role / admin")),"</span>"),disabled:!s,action:function(){teamSettingsInvite.addUser("admin")}},{label:'<span class="red"><i class="fa '.concat(r?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(D("teams / add-as").replace("%s",D("teams / role / owner")),"</span>"),disabled:!s,action:function(){teamSettingsInvite.addUser("owner")}}),o}(t))&&(e.inviteOptions=!0)};var Ht={updateUsers:function(){var e=this,t=this.get().team;this.set({awaitLoadingUsers:je.get("/v3/teams/".concat(t.id,"/members?limit=1000")).then((function(t){e.set({users:t.list})})),awaitLoadingProducts:je.get("/v3/teams/".concat(t.id,"/products")).then((function(t){e.set({products:t.list})}))})}};function It(){this.updateUsers()}function jt(e){var t=e.changed,n=e.current;t.newRole&&n.newRole&&this.store.set({role:n.newRole})}function St(e,t){var n,r,s={component:e,ctx:t,current:null,pending:Pt,then:Rt,catch:Bt,value:"null",error:"null"};return C(r=t.awaitLoadingUsers,s),{c:function(){n=g(),s.block.c()},m:function(e,t){o(e,n,t),s.block.m(e,s.anchor=t),s.mount=function(){return n.parentNode},s.anchor=n},p:function(e,n){t=n,s.ctx=t,"awaitLoadingUsers"in e&&r!==(r=t.awaitLoadingUsers)&&C(r,s)||s.block.p(e,i(i({},t),s.resolved))},d:function(e){e&&a(n),s.block.d(e),s=null}}}function Bt(e,t){var i;return{c:function(){i=v("error!")},m:function(e,t){o(e,i,t)},p:n,d:function(e){e&&a(i)}}}function Rt(e,t){var n={},i={isAdmin:t.isAdmin,isTeamOwner:t.isTeamOwner,isTeamAdmin:t.isTeamAdmin,team:t.team};void 0!==t.userId&&(i.userId=t.userId,n.userId=!0),void 0!==t.users&&(i.users=t.users,n.users=!0),void 0!==t.products&&(i.products=t.products,n.products=!0),void 0!==t.editIndex&&(i.editIndex=t.editIndex,n.editIndex=!0),void 0!==t.updating&&(i.updating=t.updating,n.updating=!0);var r=new ut({root:e.root,store:e.store,data:i,_bind:function(t,i){var r={};!n.userId&&t.userId&&(r.userId=i.userId),!n.users&&t.users&&(r.users=i.users),!n.products&&t.products&&(r.products=i.products),!n.editIndex&&t.editIndex&&(r.editIndex=i.editIndex),!n.updating&&t.updating&&(r.updating=i.updating),e._set(r),n={}}});return e.root._beforecreate.push((function(){r._bind({userId:1,users:1,products:1,editIndex:1,updating:1},r.get())})),r.on("updateUsers",(function(t){e.updateUsers()})),{c:function(){r._fragment.c()},m:function(e,t){r._mount(e,t)},p:function(e,i){t=i;var s={};e.isAdmin&&(s.isAdmin=t.isAdmin),e.isTeamOwner&&(s.isTeamOwner=t.isTeamOwner),e.isTeamAdmin&&(s.isTeamAdmin=t.isTeamAdmin),e.team&&(s.team=t.team),!n.userId&&e.userId&&(s.userId=t.userId,n.userId=void 0!==t.userId),!n.users&&e.users&&(s.users=t.users,n.users=void 0!==t.users),!n.products&&e.products&&(s.products=t.products,n.products=void 0!==t.products),!n.editIndex&&e.editIndex&&(s.editIndex=t.editIndex,n.editIndex=void 0!==t.editIndex),!n.updating&&e.updating&&(s.updating=t.updating,n.updating=void 0!==t.updating),r._set(s),n={}},d:function(e){r.destroy(e)}}}function Pt(e,t){var i,r,c,u,l=D("teams / loading");return{c:function(){i=p("p"),r=p("i"),c=v("   "),u=p("noscript"),r.className="fa fa-circle-o-notch fa-spin"},m:function(e,t){o(e,i,t),s(i,r),s(i,c),s(i,u),u.insertAdjacentHTML("afterend",l)},p:n,d:function(e){e&&a(i)}}}function qt(e){var t=this;I(this,e),this._state=i(i(this.store._init(["role"]),{editIndex:0,updating:{},updatingUsers:!1,awaitLoadingUsers:!1,products:[]}),e.data),this.store._add(this,["role"]),this._recompute({users:1,userId:1,$role:1},this._state),this._intro=!0,this._handlers.state=[jt],this._handlers.destroy=[B],jt.call(this,{changed:r({},this._state),current:this._state}),this._fragment=function(e,t){var n,i,r,c,u,l,d,f,m,h,_,b,w,y,k,N,x,U,C,L,O,A,E,M,H,I,j,S,B,R,P,q,z,$,V,F,G,J,Z,X,W,K,Q,Y,ee,te,ne,ie,re,se,oe,ae,ce,ue,le,de,fe,me,pe,he,ve,ge,_e,be,we,ye,ke,Te,Ne,xe,Ue,Ce,Le,Oe=D("teams / p"),Ae={},Ee=D("teams / role / member"),Me=D("teams / role / admin"),He=D("teams / role / owner"),Ie=D("teams / roles / edit-charts"),je=D("teams / roles / edit-folders"),Se=D("teams / roles / access-settings"),Be=D("teams / roles / invite-users"),Re=D("teams / roles / subscription-options"),Pe=D("teams / roles / remove-team"),qe={isTeamOwner:t.isTeamOwner,isAdmin:t.isAdmin};void 0!==t.team&&(qe.team=t.team,Ae.team=!0),void 0!==t.updatingUsers&&(qe.updatingUsers=t.updatingUsers,Ae.updatingUsers=!0);var De=new Mt({root:e.root,store:e.store,data:qe,_bind:function(t,n){var i={};!Ae.team&&t.team&&(i.team=n.team),!Ae.updatingUsers&&t.updatingUsers&&(i.updatingUsers=n.updatingUsers),e._set(i),Ae={}}});e.root._beforecreate.push((function(){De._bind({team:1,updatingUsers:1},De.get())})),De.on("updateUsers",(function(t){e.updateUsers()}));var ze=t.awaitLoadingUsers&&St(e,t);return{c:function(){n=p("p"),i=v("\n\n"),r=p("div"),c=p("div"),De._fragment.c(),u=v("\n    "),l=p("div"),d=p("table"),f=p("thead"),m=p("tr"),h=p("td"),_=v("\n                    "),b=p("th"),w=v("\n                    "),y=p("th"),k=v("\n                    "),N=p("th"),x=v("\n            "),U=p("tbody"),C=p("tr"),L=p("td"),O=v("\n                    "),(A=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',E=v("\n                    "),(M=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',H=v("\n                    "),(I=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',j=v("\n\n                "),S=p("tr"),B=p("td"),R=v("\n                    "),(P=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',q=v("\n                    "),(z=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',$=v("\n                    "),(V=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',F=v("\n\n                "),G=p("tr"),J=p("td"),Z=v("\n                    "),(X=p("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',W=v("\n                    "),(K=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Q=v("\n                    "),(Y=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ee=v("\n\n                "),te=p("tr"),ne=p("td"),ie=v("\n                    "),(re=p("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',se=v("\n                    "),(oe=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ae=v("\n                    "),(ce=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ue=v("\n\n                "),le=p("tr"),de=p("td"),fe=v("\n                    "),(me=p("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',pe=v("\n                    "),(he=p("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',ve=v("\n                    "),(ge=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',_e=v("\n\n                "),be=p("tr"),we=p("td"),ye=v("\n                    "),(ke=p("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Te=v("\n                    "),(Ne=p("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',xe=v("\n                    "),(Ue=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Ce=v("\n\n"),ze&&ze.c(),Le=g(),T(n,"margin-bottom","10px"),c.className="span4",h.className="svelte-hgmegl",b.className="svelte-hgmegl",y.className="svelte-hgmegl",N.className="svelte-hgmegl",L.className="svelte-hgmegl",A.className="svelte-hgmegl",M.className="svelte-hgmegl",I.className="svelte-hgmegl",B.className="svelte-hgmegl",P.className="svelte-hgmegl",z.className="svelte-hgmegl",V.className="svelte-hgmegl",J.className="svelte-hgmegl",X.className="svelte-hgmegl",K.className="svelte-hgmegl",Y.className="svelte-hgmegl",ne.className="svelte-hgmegl",re.className="svelte-hgmegl",oe.className="svelte-hgmegl",ce.className="svelte-hgmegl",de.className="svelte-hgmegl",me.className="svelte-hgmegl",he.className="svelte-hgmegl",ge.className="svelte-hgmegl",we.className="svelte-hgmegl",ke.className="svelte-hgmegl",Ne.className="svelte-hgmegl",Ue.className="svelte-hgmegl",U.className="svelte-hgmegl",d.className="role-descriptions svelte-hgmegl",T(d,"margin-left","3em"),l.className="span6",r.className="row",T(r,"margin-bottom","2em")},m:function(e,t){o(e,n,t),n.innerHTML=Oe,o(e,i,t),o(e,r,t),s(r,c),De._mount(c,null),s(r,u),s(r,l),s(l,d),s(d,f),s(f,m),s(m,h),s(m,_),s(m,b),b.innerHTML=Ee,s(m,w),s(m,y),y.innerHTML=Me,s(m,k),s(m,N),N.innerHTML=He,s(d,x),s(d,U),s(U,C),s(C,L),L.innerHTML=Ie,s(C,O),s(C,A),s(C,E),s(C,M),s(C,H),s(C,I),s(U,j),s(U,S),s(S,B),B.innerHTML=je,s(S,R),s(S,P),s(S,q),s(S,z),s(S,$),s(S,V),s(U,F),s(U,G),s(G,J),J.innerHTML=Se,s(G,Z),s(G,X),s(G,W),s(G,K),s(G,Q),s(G,Y),s(U,ee),s(U,te),s(te,ne),ne.innerHTML=Be,s(te,ie),s(te,re),s(te,se),s(te,oe),s(te,ae),s(te,ce),s(U,ue),s(U,le),s(le,de),de.innerHTML=Re,s(le,fe),s(le,me),s(le,pe),s(le,he),s(le,ve),s(le,ge),s(U,_e),s(U,be),s(be,we),we.innerHTML=Pe,s(be,ye),s(be,ke),s(be,Te),s(be,Ne),s(be,xe),s(be,Ue),o(e,Ce,t),ze&&ze.m(e,t),o(e,Le,t)},p:function(n,i){t=i;var r={};n.isTeamOwner&&(r.isTeamOwner=t.isTeamOwner),n.isAdmin&&(r.isAdmin=t.isAdmin),!Ae.team&&n.team&&(r.team=t.team,Ae.team=void 0!==t.team),!Ae.updatingUsers&&n.updatingUsers&&(r.updatingUsers=t.updatingUsers,Ae.updatingUsers=void 0!==t.updatingUsers),De._set(r),Ae={},t.awaitLoadingUsers?ze?ze.p(n,t):((ze=St(e,t)).c(),ze.m(Le.parentNode,Le)):ze&&(ze.d(1),ze=null)},d:function(e){e&&(a(n),a(i),a(r)),De.destroy(),e&&a(Ce),ze&&ze.d(e),e&&a(Le)}}}(this,this._state),this.root._oncreate.push((function(){It.call(t),t.fire("update",{changed:r({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}function Dt(e,t){this._handlers={},this._dependents=[],this._computed=L(),this._sortedComputedProperties=[],this._state=i({},e),this._differs=t&&t.immutable?A:O}return i(qt.prototype,R),i(qt.prototype,Ht),qt.prototype._recompute=function(e,t){(e.users||e.userId)&&this._differs(t.newRole,t.newRole=function(e){var t=e.users,n=e.userId;if(!t||!t.length||!n)return!1;var i=t.find((function(e){return e.id===n}));return i?i.role:"admin"}(t))&&(e.newRole=!0),e.$role&&(this._differs(t.isTeamOwner,t.isTeamOwner="owner"===t.$role)&&(e.isTeamOwner=!0),this._differs(t.isTeamAdmin,t.isTeamAdmin="admin"===t.$role)&&(e.isTeamAdmin=!0))},i(Dt.prototype,{_add:function(e,t){this._dependents.push({component:e,props:t})},_init:function(e){for(var t={},n=0;n<e.length;n+=1){var i=e[n];t["$"+i]=this._state[i]}return t},_remove:function(e){for(var t=this._dependents.length;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set:function(e,t){var n=this,r=this._state;this._state=i(i({},r),e);for(var s=0;s<this._sortedComputedProperties.length;s+=1)this._sortedComputedProperties[s].update(this._state,t);this.fire("state",{changed:t,previous:r,current:this._state}),this._dependents.filter((function(e){for(var i={},r=!1,s=0;s<e.props.length;s+=1){var o=e.props[s];o in t&&(i["$"+o]=n._state[o],r=!0)}if(r)return e.component._stage(i),!0})).forEach((function(e){e.component.set({})})),this.fire("update",{changed:t,previous:r,current:this._state})},_sortComputedProperties:function(){var e,t=this._computed,n=this._sortedComputedProperties=[],i=L();function r(s){var o=t[s];o&&(o.deps.forEach((function(t){if(t===e)throw new Error("Cyclical dependency detected between ".concat(t," <-> ").concat(s));r(t)})),i[s]||(i[s]=!0,n.push(o)))}for(var s in this._computed)r(e=s)},compute:function(e,t,n){var r,s=this,o={deps:t,update:function(i,o,a){var c=t.map((function(e){return e in o&&(a=!0),i[e]}));if(a){var u=n.apply(null,c);s._differs(u,r)&&(r=u,o[e]=!0,i[e]=r)}}};this._computed[e]=o,this._sortComputedProperties();var a=i({},this._state),c={};o.update(a,c,!0),this._set(a,c)},fire:E,get:H,on:j,set:function(e){var t=this._state,n=this._changed={},i=!1;for(var r in e){if(this._computed[r])throw new Error("'".concat(r,"' is a read-only computed property"));this._differs(e[r],t[r])&&(n[r]=i=!0)}i&&this._set(e,n)}}),{App:qt,store:new Dt({})}}));
