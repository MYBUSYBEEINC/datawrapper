!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/publish_old",t):(e="undefined"!=typeof globalThis?globalThis:e||self).publish=t()}(this,(function(){"use strict";function e(){}function t(e,t){for(var s in t)e[s]=t[s];return e}function s(e,t){for(var s in t)e[s]=1;return e}function i(e,t){e.appendChild(t)}function n(e,t,s){e.insertBefore(t,s)}function r(e){e.parentNode.removeChild(e)}function a(e){for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)}function l(e,t,s){for(;e.nextSibling&&e.nextSibling!==t;)s.appendChild(e.parentNode.removeChild(e.nextSibling))}function o(e,t){for(;e.nextSibling;)t.appendChild(e.nextSibling)}function u(e,t){for(var s=0;s<e.length;s+=1)e[s]&&e[s].d(t)}function c(){return document.createDocumentFragment()}function p(e){return document.createElement(e)}function d(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function h(e){return document.createTextNode(e)}function b(){return document.createComment("")}function m(e,t,s,i){e.addEventListener(t,s,i)}function f(e,t,s,i){e.removeEventListener(t,s,i)}function g(e,t,s){null==s?e.removeAttribute(t):e.setAttribute(t,s)}function v(e,t,s){e.setAttributeNS("http://www.w3.org/1999/xlink",t,s)}function _(e,t){e.data=""+t}function y(e,t,s){e.style.setProperty(t,s)}function w(e,t,s){e.classList[s?"add":"remove"](t)}function T(){return Object.create(null)}function L(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function U(e,t){return e!=e?t==t:e!==t}function N(e,t){var s=e in this._handlers&&this._handlers[e].slice();if(s)for(var i=0;i<s.length;i+=1){var n=s[i];if(!n.__calling)try{n.__calling=!0,n.call(this,t)}finally{n.__calling=!1}}}function R(e){e._lock=!0,H(e._beforecreate),H(e._oncreate),H(e._aftercreate),e._lock=!1}function S(){return this._state}function k(e,t){e._handlers=T(),e._slots=T(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function x(e,t){var s=this._handlers[e]||(this._handlers[e]=[]);return s.push(t),{cancel:function(){var e=s.indexOf(t);~e&&s.splice(e,1)}}}function H(e){for(;e&&e.length;)e.shift()()}var C={destroy:function(t){this.destroy=e,this.fire("destroy"),this.set=e,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:S,fire:N,on:x,set:function(e){this._set(t({},e)),this.root._lock||R(this.root)},_recompute:e,_set:function(e){var s=this._state,i={},n=!1;for(var r in e=t(this._staged,e),this._staged={},e)this._differs(e[r],s[r])&&(i[r]=n=!0);n&&(this._state=t(t({},s),e),this._recompute(i,this._state),this._bind&&this._bind(i,this._state),this._fragment&&(this.fire("state",{changed:i,current:this._state,previous:s}),this._fragment.p(i,this._state),this.fire("update",{changed:i,current:this._state,previous:s})))},_stage:function(e){t(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:L};const M={};function z(e="core"){"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(M[e]=window.__dw.vis.meta.locale||{}):M[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function E(e,t="core"){if(e=e.trim(),M[t]||z(t),!M[t][e])return"MISSING:"+e;var s=M[t][e];return"string"==typeof s&&arguments.length>2&&(s=s.replace(/\$(\d)/g,(e,t)=>(t=2+Number(t),void 0===arguments[t]?e:arguments[t]))),s}function O(e,t,s,i){window._paq&&window._paq.push(["trackEvent",e,t,s,i])}function B(e){var s,a,l,o,u;k(this,e),this._state=t({icon:"api",size:"1em",color:"inherit",valign:"baseline",class:"",style:"",assetURL:null,spin:!1,timing:"linear",duration:"2s",uid:""},e.data),this._recompute({icon:1,assetURL:1},this._state),this._intro=!0,this._fragment=(s=this._state,{c(){a=p("span"),l=d("svg"),y(o=d("use"),"fill",s.color),v(o,"xlink:href",s.iconURL),y(l,"height",s.size),y(l,"width",s.size),g(l,"class","svelte-1th5ah8"),a.className=u="svg-icon "+s.class+" svelte-1th5ah8",a.dataset.uid=s.uid,y(a,"animation-timing-function",s.timing),y(a,"animation-duration",s.duration),y(a,"height",s.size),y(a,"width",s.size),y(a,"vertical-align",s.valign),w(a,"spin",s.spin)},m(e,t){n(e,a,t),i(a,l),i(l,o)},p(e,t){e.color&&y(o,"fill",t.color),e.iconURL&&v(o,"xlink:href",t.iconURL),e.size&&(y(l,"height",t.size),y(l,"width",t.size)),e.class&&u!==(u="svg-icon "+t.class+" svelte-1th5ah8")&&(a.className=u),e.uid&&(a.dataset.uid=t.uid),e.timing&&y(a,"animation-timing-function",t.timing),e.duration&&y(a,"animation-duration",t.duration),e.size&&(y(a,"height",t.size),y(a,"width",t.size)),e.valign&&y(a,"vertical-align",t.valign),(e.class||e.spin)&&w(a,"spin",t.spin)},d(e){e&&r(a)}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(B.prototype,C),B.prototype._recompute=function(e,t){(e.icon||e.assetURL)&&this._differs(t.iconURL,t.iconURL=function({icon:e,assetURL:t}){return`${t||"/lib/icons/symbol/svg/sprite.symbol.svg"}#${e}`}(t))&&(e.iconURL=!0)};var A='<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>';var W={close(){const{closeFunc:e}=this.get();e?e():(this.set({visible:!1}),this.fire("close"))}};function D(e,t){var s,i;function a(e){return"upgrade-info"===e.type?I:q}var l=a(t),o=l(e,t);return{c(){s=p("div"),o.c(),s.className=i="alert "+t.class+" svelte-1h26igv",s.dataset.uid=t.uid,w(s,"alert-intro","intro"===t.type),w(s,"alert-success","success"===t.type),w(s,"alert-warning","warning"===t.type),w(s,"alert-error","error"===t.type),w(s,"alert-info","info"===t.type),w(s,"alert-upgrade-info","upgrade-info"===t.type),w(s,"has-header",!!t.title)},m(e,t){n(e,s,t),o.m(s,null)},p(t,n){l===(l=a(n))&&o?o.p(t,n):(o.d(1),(o=l(e,n)).c(),o.m(s,null)),t.class&&i!==(i="alert "+n.class+" svelte-1h26igv")&&(s.className=i),t.uid&&(s.dataset.uid=n.uid),(t.class||t.type)&&(w(s,"alert-intro","intro"===n.type),w(s,"alert-success","success"===n.type),w(s,"alert-warning","warning"===n.type),w(s,"alert-error","error"===n.type),w(s,"alert-info","info"===n.type),w(s,"alert-upgrade-info","upgrade-info"===n.type)),(t.class||t.title)&&w(s,"has-header",!!n.title)},d(e){e&&r(s),o.d()}}}function q(e,t){var s,i,a,o,u=e._slotted.default,c=(t.closeable||t.title)&&j(e,t);return{c(){c&&c.c(),s=h("\n    "),u||(o=h("content"))},m(e,t){c&&c.m(e,t),n(e,s,t),u?(n(e,i||(i=b()),t),n(e,u,t),n(e,a||(a=b()),t)):n(e,o,t)},p(t,i){i.closeable||i.title?c?c.p(t,i):((c=j(e,i)).c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},d(e){c&&c.d(e),e?(r(s),u||r(o)):(l(i,a,u),r(i),r(a))}}}function I(t,s){var a,l,o,u,c,d,b,m,f=E("upgrade-available"),g=E("upgrade-info");return{c(){a=p("div"),l=p("span"),o=h("\n    "),u=p("div"),c=p("span"),d=h(f),b=h(" "),m=p("noscript"),l.className="upgrade-icon svelte-1h26igv",a.className="icon",c.className="title svelte-1h26igv"},m(e,t){n(e,a,t),i(a,l),l.innerHTML=A,n(e,o,t),n(e,u,t),i(u,c),i(c,d),i(u,b),i(u,m),m.insertAdjacentHTML("afterend",g)},p:e,d(e){e&&(r(a),r(o),r(u))}}}function j(e,t){var s,a,l,o,u=t.title&&$(e,t),c=t.closeable&&F(e),d=t.title&&P();return{c(){s=p("div"),u&&u.c(),a=h(" "),c&&c.c(),l=h("\n    "),d&&d.c(),o=b(),s.className="svelte-1h26igv",w(s,"header",!!t.title)},m(e,t){n(e,s,t),u&&u.m(s,null),i(s,a),c&&c.m(s,null),n(e,l,t),d&&d.m(e,t),n(e,o,t)},p(t,i){i.title?u?u.p(t,i):((u=$(e,i)).c(),u.m(s,a)):u&&(u.d(1),u=null),i.closeable?c||((c=F(e)).c(),c.m(s,null)):c&&(c.d(1),c=null),t.title&&w(s,"header",!!i.title),i.title?d||((d=P()).c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null)},d(e){e&&r(s),u&&u.d(),c&&c.d(),e&&r(l),d&&d.d(e),e&&r(o)}}}function $(e,t){var s,a;return{c(){s=p("div"),a=h(t.title),s.className="title svelte-1h26igv"},m(e,t){n(e,s,t),i(s,a)},p(e,t){e.title&&_(a,t.title)},d(e){e&&r(s)}}}function F(e,t){var s;function i(t){e.close()}return{c(){(s=p("button")).textContent="Ã—",m(s,"click",i),s.type="button",g(s,"aria-label","close"),s.className="close svelte-1h26igv"},m(e,t){n(e,s,t)},d(e){e&&r(s),f(s,"click",i)}}}function P(e,t){var s;return{c(){(s=p("hr")).className="svelte-1h26igv"},m(e,t){n(e,s,t)},d(e){e&&r(s)}}}function V(e){var s,i,a,l;k(this,e),this._state=t({visible:!1,type:"",closeable:!0,class:"",closeFunc:!1,uid:"",title:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(s=this,i=this._state,l=i.visible&&D(s,i),{c(){l&&l.c(),a=b()},m(e,t){l&&l.m(e,t),n(e,a,t)},p(e,t){t.visible?l?l.p(e,t):((l=D(s,t)).c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},d(e){l&&l.d(e),e&&r(a)}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(V.prototype,C),t(V.prototype,W);var G={publish(){O("Chart Editor","publish"),this.fire("publish")},unpublish(){O("Chart Editor","unpublish"),this.fire("unpublish")}};function J(e,t,s){const i=Object.create(e);return i.step=t[s],i.i=s,i}function K(e,t){var s,i,a=E("publish / published"),l={assetURL:t.assetURL,icon:"cloud-check",color:"#000000",size:"30px"},o=new B({root:e.root,store:e.store,data:l});return{c(){o._fragment.c(),s=h("\n    "),(i=p("div")).className="message svelte-di7o7w"},m(e,t){o._mount(e,t),n(e,s,t),n(e,i,t),i.innerHTML=a},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),o._set(s)},d(e){o.destroy(e),e&&(r(s),r(i))}}}function X(e,t){var s,i,a=E("publish / publish-success"),l={assetURL:t.assetURL,icon:"cloud-check",color:"#000000",size:"30px"},o=new B({root:e.root,store:e.store,data:l});return{c(){o._fragment.c(),s=h("\n    "),(i=p("div")).className="message svelte-di7o7w"},m(e,t){o._mount(e,t),n(e,s,t),n(e,i,t),i.innerHTML=a},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),o._set(s)},d(e){o.destroy(e),e&&(r(s),r(i))}}}function Z(e,t){var s,i,a=E("publish / republish"),l={assetURL:t.assetURL,icon:"cloud-sync",color:"#FFB800",size:"30px"},o=new B({root:e.root,store:e.store,data:l});return{c(){o._fragment.c(),s=h("\n    "),(i=p("div")).className="message svelte-di7o7w"},m(e,t){o._mount(e,t),n(e,s,t),n(e,i,t),i.innerHTML=a},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),o._set(s)},d(e){o.destroy(e),e&&(r(s),r(i))}}}function Q(e,t){var s,i,a=E("publish / progress / publishing"),l={assetURL:t.assetURL,icon:"cloud-sync",color:"#858585",size:"30px"},o=new B({root:e.root,store:e.store,data:l});return{c(){o._fragment.c(),s=h("\n    "),(i=p("div")).className="message svelte-di7o7w"},m(e,t){o._mount(e,t),n(e,s,t),n(e,i,t),i.innerHTML=a},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),o._set(s)},d(e){o.destroy(e),e&&(r(s),r(i))}}}function Y(e,t){var s,i,a=E("publish / publish-btn-intro"),l={assetURL:t.assetURL,icon:"cloud-dotted",color:"#858585",size:"30px",class:"pt-2"},o=new B({root:e.root,store:e.store,data:l});return{c(){o._fragment.c(),s=h("\n    "),(i=p("div")).className="message pt-2 svelte-di7o7w"},m(e,t){o._mount(e,t),n(e,s,t),n(e,i,t),i.innerHTML=a},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),o._set(s)},d(e){o.destroy(e),e&&(r(s),r(i))}}}function ee(e,t){var s,i,a=E("publish / progress / unpublished"),l={assetURL:t.assetURL,icon:"cloud-dotted",color:"#858585",size:"30px"},o=new B({root:e.root,store:e.store,data:l});return{c(){o._fragment.c(),s=h("\n    "),(i=p("div")).className="message svelte-di7o7w"},m(e,t){o._mount(e,t),n(e,s,t),n(e,i,t),i.innerHTML=a},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),o._set(s)},d(e){o.destroy(e),e&&(r(s),r(i))}}}function te(e,t){var s,i,a=E("publish / progress / unpublishing"),l={assetURL:t.assetURL,icon:"cloud-sync",color:"#858585",size:"30px"},o=new B({root:e.root,store:e.store,data:l});return{c(){o._fragment.c(),s=h("\n    "),(i=p("div")).className="message svelte-di7o7w"},m(e,t){o._mount(e,t),n(e,s,t),n(e,i,t),i.innerHTML=a},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),o._set(s)},d(e){o.destroy(e),e&&(r(s),r(i))}}}function se(e,t){var s;function i(e){return e.publishing?ae:re}var a=i(t),l=a(e,t);return{c(){s=p("span"),l.c(),s.className="button-publish svelte-di7o7w",w(s,"is-publishing",t.publishing)},m(e,t){n(e,s,t),l.m(s,null)},p(t,n){a===(a=i(n))&&l?l.p(t,n):(l.d(1),(l=a(e,n)).c(),l.m(s,null)),t.publishing&&w(s,"is-publishing",n.publishing)},d(e){e&&r(s),l.d()}}}function ie(e,t){var s;function i(e){return e.publishing?oe:le}var a=i(t),l=a(e,t);return{c(){s=p("span"),l.c(),s.className="button-republish"},m(e,t){n(e,s,t),l.m(s,null)},p(t,n){a===(a=i(n))&&l?l.p(t,n):(l.d(1),(l=a(e,n)).c(),l.m(s,null))},d(e){e&&r(s),l.d()}}}function ne(t,s){var a,l,o=E("publish / unpublishing-btn");return{c(){a=p("span"),l=h(o),a.className="title"},m(e,t){n(e,a,t),i(a,l)},p:e,d(e){e&&r(a)}}}function re(e,t){var s,a,l,o=E("publish / publish-btn"),u={assetURL:t.assetURL,icon:"cloud-upload",size:"30px",color:"#ffffff",class:"cloud"},c=new B({root:e.root,store:e.store,data:u});return{c(){c._fragment.c(),s=h("\n                "),a=p("span"),l=h(o)},m(e,t){c._mount(e,t),n(e,s,t),n(e,a,t),i(a,l)},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),c._set(s)},d(e){c.destroy(e),e&&(r(s),r(a))}}}function ae(e,t){var s,a,l,o=E("publish / publishing-btn"),u={assetURL:t.assetURL,icon:"refresh",spin:!0,size:"28px",color:"#ffffff",valign:"middle",class:"mr-1"},c=new B({root:e.root,store:e.store,data:u});return{c(){c._fragment.c(),s=h("\n                "),a=p("span"),l=h(o)},m(e,t){c._mount(e,t),n(e,s,t),n(e,a,t),i(a,l)},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),c._set(s)},d(e){c.destroy(e),e&&(r(s),r(a))}}}function le(e,t){var s,a,l,o=E("publish / republish-btn"),u={assetURL:t.assetURL,icon:"refresh",size:"28px",color:"#ffffff",valign:"middle",class:"mr-1"},c=new B({root:e.root,store:e.store,data:u});return{c(){c._fragment.c(),s=h("\n                "),a=p("span"),l=h(o)},m(e,t){c._mount(e,t),n(e,s,t),n(e,a,t),i(a,l)},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),c._set(s)},d(e){c.destroy(e),e&&(r(s),r(a))}}}function oe(e,t){var s,a,l,o=E("publish / publishing-btn"),u={assetURL:t.assetURL,icon:"refresh",spin:!0,size:"28px",color:"#ffffff",valign:"middle",class:"mr-1"},c=new B({root:e.root,store:e.store,data:u});return{c(){c._fragment.c(),s=h("\n                "),a=p("span"),l=h(o)},m(e,t){c._mount(e,t),n(e,s,t),n(e,a,t),i(a,l)},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),c._set(s)},d(e){c.destroy(e),e&&(r(s),r(a))}}}function ue(e,t){for(var s,i=t.progress,a=[],l=0;l<i.length;l+=1)a[l]=he(e,J(t,i,l));return{c(){s=p("ul");for(var e=0;e<a.length;e+=1)a[e].c();s.className="publish-progress unstyled svelte-di7o7w"},m(e,t){n(e,s,t);for(var i=0;i<a.length;i+=1)a[i].m(s,null)},p(t,n){if(t.progress||t.assetURL){i=n.progress;for(var r=0;r<i.length;r+=1){const l=J(n,i,r);a[r]?a[r].p(t,l):(a[r]=he(e,l),a[r].c(),a[r].m(s,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},d(e){e&&r(s),u(a,e)}}}function ce(e,t){var s,l,o,u=E("publish / status / "+t.step);function c(e){return e.i<e.progress.length-1?de:pe}var d=c(t),b=d(e,t);return{c(){s=p("li"),b.c(),l=h(" "),o=p("noscript"),s.className="svelte-di7o7w"},m(e,t){n(e,s,t),b.m(s,null),i(s,l),i(s,o),o.insertAdjacentHTML("afterend",u)},p(t,i){d===(d=c(i))&&b?b.p(t,i):(b.d(1),(b=d(e,i)).c(),b.m(s,l)),t.progress&&u!==(u=E("publish / status / "+i.step))&&(a(o),o.insertAdjacentHTML("afterend",u))},d(e){e&&r(s),b.d()}}}function pe(e,t){var s={assetURL:t.assetURL,icon:"loading-spinner",size:"18px",valign:"middle",class:"mr-2",spin:!0,timing:"steps(12)",duration:"1.5s"},i=new B({root:e.root,store:e.store,data:s});return{c(){i._fragment.c()},m(e,t){i._mount(e,t)},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),i._set(s)},d(e){i.destroy(e)}}}function de(e,t){var s={assetURL:t.assetURL,icon:"check-circle",size:"18px",color:"#468847",valign:"middle",class:"mr-2"},i=new B({root:e.root,store:e.store,data:s});return{c(){i._fragment.c()},m(e,t){i._mount(e,t)},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),i._set(s)},d(e){i.destroy(e)}}}function he(e,t){var s,i=t.step&&""!==t.step&&ce(e,t);return{c(){i&&i.c(),s=b()},m(e,t){i&&i.m(e,t),n(e,s,t)},p(t,n){n.step&&""!==n.step?i?i.p(t,n):((i=ce(e,n)).c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null)},d(e){i&&i.d(e),e&&r(s)}}}function be(e,t){var s,a,l,o,u,c,d=E("publish / unpublish-intro"),b=E("publish / unpublish-btn"),g={assetURL:t.assetURL,icon:"undo",size:"1.2em",valign:"-0.2em"},v=new B({root:e.root,store:e.store,data:g});function _(t){e.unpublish()}return{c(){s=p("p"),a=p("noscript"),l=h("\n    "),o=p("button"),v._fragment.c(),u=h("\n        "),c=p("noscript"),m(o,"click",_),o.className="plain-link unpublish-button svelte-di7o7w",s.className="unpublish mt-2 mb-2 svelte-di7o7w"},m(e,t){n(e,s,t),i(s,a),a.insertAdjacentHTML("beforebegin",d),i(s,l),i(s,o),v._mount(o,null),i(o,u),i(o,c),c.insertAdjacentHTML("afterend",b)},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),v._set(s)},d(e){e&&r(s),v.destroy(),f(o,"click",_)}}}function me(e,t){var s,n=new V({root:e.root,store:e.store,slots:{default:c()},data:{type:"error",visible:"true",class:"mt-4 mb-5"}});return{c(){s=h(t.publishError),n._fragment.c()},m(e,t){i(n._slotted.default,s),n._mount(e,t)},p(e,t){e.publishError&&_(s,t.publishError)},d(e){n.destroy(e)}}}function fe(e,t){var s,i,a,l=E("publish / publish-info-1"),o=E("publish / publish-info-2");return{c(){s=p("p"),i=h("\n"),a=p("p"),s.className="publish-info mt-4 svelte-di7o7w",a.className="publish-info mb-6 svelte-di7o7w"},m(e,t){n(e,s,t),s.innerHTML=l,n(e,i,t),n(e,a,t),a.innerHTML=o},d(e){e&&(r(s),r(i),r(a))}}}function ge(e,t){var s;function i(e){return e.redirectDisabled?_e:ve}var a=i(t),l=a(e,t);return{c(){s=p("div"),l.c(),s.className="embed-alert svelte-di7o7w"},m(e,t){n(e,s,t),l.m(s,null)},p(t,n){a===(a=i(n))&&l?l.p(t,n):(l.d(1),(l=a(e,n)).c(),l.m(s,null))},d(e){e&&r(s),l.d()}}}function ve(e,t){var s,i,a=E("publish / update-embed"),l={assetURL:t.assetURL,icon:"info-circle",size:"20px",color:"#3a87ad"},o=new B({root:e.root,store:e.store,data:l});return{c(){o._fragment.c(),s=h("\n        "),(i=p("p")).className="embed-message svelte-di7o7w"},m(e,t){o._mount(e,t),n(e,s,t),n(e,i,t),i.innerHTML=a},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),o._set(s)},d(e){o.destroy(e),e&&(r(s),r(i))}}}function _e(e,t){var s,i,a=E("publish / replace-embed"),l={assetURL:t.assetURL,icon:"warning",size:"20px",color:"#FFB800"},o=new B({root:e.root,store:e.store,data:l});return{c(){o._fragment.c(),s=h("\n        "),(i=p("p")).className="embed-message svelte-di7o7w"},m(e,t){o._mount(e,t),n(e,s,t),n(e,i,t),i.innerHTML=a},p(e,t){var s={};e.assetURL&&(s.assetURL=t.assetURL),o._set(s)},d(e){o.destroy(e),e&&(r(s),r(i))}}}function ye(e){k(this,e),this._state=t({published:!1,publishing:!1,publishStarted:0,now:0,publishError:!1,publishSuccess:!1,needsRepublish:!1,progress:[],redirectDisabled:!1,publicVersion:0,assetURL:null},e.data),this._recompute({publishStarted:1,now:1,progress:1,publishing:1},this._state),this._intro=!0,this._fragment=function(e,t){var s,a,l,o,u,d,g,v,_,y,T;function L(e){return e.unpublishing?te:e.unpublished?ee:e.published||e.publishing?e.publishing?Q:e.needsRepublish&&!e.publishing?Z:e.published&&e.publishSuccess&&!e.needsRepublish?X:e.published&&!e.needsRepublish?K:void 0:Y}var U=L(t),N=U&&U(e,t);function R(e){return e.unpublishing?ne:e.published?ie:se}var S=R(t),k=S(e,t);function x(t){e.publish()}var H=t.publishing&&t.publishWait>3e3&&ue(e,t),C=t.published&&!t.publishing&&!t.unpublishing&&be(e,t),M=t.publishError&&me(e,t),z=!t.published&&!t.unpublished&&fe(),E=t.published&&t.publishSuccess&&t.publicVersion>1&&ge(e,t),O={type:t.redirectDisabled?"warning":"info",visible:t.published&&t.publishSuccess&&t.publicVersion>1,class:"mt-4 mb-4"},B=new V({root:e.root,store:e.store,slots:{default:c()},data:O});return{c(){s=p("div"),N&&N.c(),a=h("\n\n    "),l=p("div"),o=p("button"),k.c(),d=h("\n\n    \n    "),H&&H.c(),g=h("\n\n\n"),C&&C.c(),v=h("\n\n\n"),M&&M.c(),_=h("\n\n\n"),z&&z.c(),y=h("\n\n\n"),E&&E.c(),T=b(),B._fragment.c(),m(o,"click",x),o.disabled=u=t.publishing||t.unpublishing,o.className="button-wrapper svelte-di7o7w",w(o,"is-unpublishing",t.unpublishing),l.className="action svelte-di7o7w",s.className="publish-status svelte-di7o7w",w(s,"is-busy",t.publishing||t.unpublishing),w(s,"is-published",t.published&&!t.unpublishing&&!t.publishing&&!t.needsRepublish&&!t.publishSuccess),w(s,"alert",t.needsRepublish&&!t.publishing),w(s,"alert-success",t.publishSuccess)},m(e,t){n(e,s,t),N&&N.m(s,null),i(s,a),i(s,l),i(l,o),k.m(o,null),i(s,d),H&&H.m(s,null),n(e,g,t),C&&C.m(e,t),n(e,v,t),M&&M.m(e,t),n(e,_,t),z&&z.m(e,t),n(e,y,t),E&&E.m(B._slotted.default,null),i(B._slotted.default,T),B._mount(e,t)},p(t,i){U===(U=L(i))&&N?N.p(t,i):(N&&N.d(1),(N=U&&U(e,i))&&N.c(),N&&N.m(s,a)),S===(S=R(i))&&k?k.p(t,i):(k.d(1),(k=S(e,i)).c(),k.m(o,null)),(t.publishing||t.unpublishing)&&u!==(u=i.publishing||i.unpublishing)&&(o.disabled=u),t.unpublishing&&w(o,"is-unpublishing",i.unpublishing),i.publishing&&i.publishWait>3e3?H?H.p(t,i):((H=ue(e,i)).c(),H.m(s,null)):H&&(H.d(1),H=null),(t.publishing||t.unpublishing)&&w(s,"is-busy",i.publishing||i.unpublishing),(t.published||t.unpublishing||t.publishing||t.needsRepublish||t.publishSuccess)&&w(s,"is-published",i.published&&!i.unpublishing&&!i.publishing&&!i.needsRepublish&&!i.publishSuccess),(t.needsRepublish||t.publishing)&&w(s,"alert",i.needsRepublish&&!i.publishing),t.publishSuccess&&w(s,"alert-success",i.publishSuccess),!i.published||i.publishing||i.unpublishing?C&&(C.d(1),C=null):C?C.p(t,i):((C=be(e,i)).c(),C.m(v.parentNode,v)),i.publishError?M?M.p(t,i):((M=me(e,i)).c(),M.m(_.parentNode,_)):M&&(M.d(1),M=null),i.published||i.unpublished?z&&(z.d(1),z=null):z||((z=fe()).c(),z.m(y.parentNode,y)),i.published&&i.publishSuccess&&i.publicVersion>1?E?E.p(t,i):((E=ge(e,i)).c(),E.m(T.parentNode,T)):E&&(E.d(1),E=null);var n={};t.redirectDisabled&&(n.type=i.redirectDisabled?"warning":"info"),(t.published||t.publishSuccess||t.publicVersion)&&(n.visible=i.published&&i.publishSuccess&&i.publicVersion>1),B._set(n)},d(e){e&&r(s),N&&N.d(),k.d(),f(o,"click",x),H&&H.d(),e&&r(g),C&&C.d(e),e&&r(v),M&&M.d(e),e&&r(_),z&&z.d(e),e&&r(y),E&&E.d(),B.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),R(this))}t(ye.prototype,C),t(ye.prototype,G),ye.prototype._recompute=function(e,t){(e.publishStarted||e.now)&&this._differs(t.publishWait,t.publishWait=function({publishStarted:e,now:t}){return e>0?t-e:0}(t))&&(e.publishWait=!0),(e.progress||e.publishing)&&this._differs(t.publishSuccess,t.publishSuccess=function({progress:e,publishing:t}){return e&&e.includes("done")&&!t}(t))&&(e.publishSuccess=!0)};const we={};function Te(e="core"){"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(we[e]=window.__dw.vis.meta.locale||{}):we[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function Le(e,t="core"){if(e=e.trim(),we[t]||Te(t),!we[t][e])return"MISSING:"+e;var s=we[t][e];return"string"==typeof s&&arguments.length>2&&(s=s.replace(/\$(\d)/g,(e,t)=>(t=2+Number(t),void 0===arguments[t]?e:arguments[t]))),s}var Ue={exports:{}};
/*!
	 * JavaScript Cookie v2.2.1
	 * https://github.com/js-cookie/js-cookie
	 *
	 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
	 * Released under the MIT license
	 */!function(e,t){var s;s=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var s=arguments[e];for(var i in s)t[i]=s[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function s(i){function n(){}function r(t,s,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},n.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var a=JSON.stringify(s);/^[\{\[]/.test(a)&&(s=a)}catch(e){}s=i.write?i.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var l="";for(var o in r)r[o]&&(l+="; "+o,!0!==r[o]&&(l+="="+r[o].split(";")[0]));return document.cookie=t+"="+s+l}}function a(e,s){if("undefined"!=typeof document){for(var n={},r=document.cookie?document.cookie.split("; "):[],a=0;a<r.length;a++){var l=r[a].split("="),o=l.slice(1).join("=");s||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var u=t(l[0]);if(o=(i.read||i)(o,u)||t(o),s)try{o=JSON.parse(o)}catch(e){}if(n[u]=o,e===u)break}catch(e){}}return e?n[e]:n}}return n.set=r,n.get=function(e){return a(e,!1)},n.getJSON=function(e){return a(e,!0)},n.remove=function(t,s){r(t,"",e(s,{expires:-1}))},n.defaults={},n.withConverter=s,n}((function(){}))},e.exports=s()}(Ue);var Ne=Ue.exports;const Re=new Set(["get","head","options","trace"]);function Se(e,t={}){if(!t.fetch)try{t.fetch=window.fetch}catch(e){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!t.baseUrl)try{t.baseUrl="//"+window.dw.backend.__api_domain}catch(e){throw new Error("Neither options.baseUrl nor window.dw is defined.")}const{payload:s,baseUrl:i,fetch:n,raw:r,...a}={payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include",...t,headers:{"Content-Type":"application/json",...t.headers}},l=`${i.replace(/\/$/,"")}/${e.replace(/^\//,"")}`;let o;if(s&&(a.body=JSON.stringify(s)),Re.has(a.method.toLowerCase()))o=n(l,a);else{const e=Ne.get("crumb");e?(a.headers["X-CSRF-Token"]=e,o=n(l,a)):o=Se("/v3/me",{fetch:n,baseUrl:i}).then(()=>{const e=Ne.get("crumb");e&&(a.headers["X-CSRF-Token"]=e)}).catch(()=>{}).then(()=>n(l,a))}return o.then(e=>{if(r)return e;if(!e.ok)throw new xe(e);if(204===e.status||!e.headers.get("content-type"))return e;const t=e.headers.get("content-type").split(";")[0];return"application/json"===t?e.json():"image/png"===t||"application/pdf"===t?e.blob():e.text()})}function ke(e){return(t,s)=>{if(s&&s.method)throw new Error(`Setting option.method is not allowed in httpReq.${e.toLowerCase()}()`);return Se(t,{...s,method:e})}}Se.get=ke("GET"),Se.patch=ke("PATCH"),Se.put=ke("PUT"),Se.post=ke("POST"),Se.head=ke("HEAD"),Se.delete=ke("DELETE");class xe extends Error{constructor(e){super(),this.name="HttpReqError",this.status=e.status,this.statusText=e.statusText,this.message=`[${e.status}] ${e.statusText}`,this.response=e}}function He(e,t,s,i){window._paq&&window._paq.push(["trackEvent",e,t,s,i])}var Ce={open(){this.set({open:!0})},dismiss(){this.set({open:!1}),this.fire("dismiss")},confirm(){this.set({open:!1}),this.fire("confirm")},handleKeystroke(e){const{open:t}=this.get();t&&"Escape"===e&&this.dismiss()}};function Me(e,t){var s,o,u,c,d,v,_,y,w,T,L,U,N,R,S,k,x,H,C=e._slotted.default,M=new B({root:e.root,store:e.store,data:{icon:"close",size:"20px"}});function z(t){e.dismiss()}function E(t){e.dismiss()}var O=t.confirmButtonIcon&&ze(e,t);function A(t){e.confirm()}function W(t){t.stopPropagation(),e.fire("keyup",t)}function D(t){e.dismiss()}return{c(){s=p("div"),o=p("div"),u=p("button"),M._fragment.c(),c=h("\n        "),d=p("div"),v=p("h1"),_=h("\n            "),T=h("\n            "),L=p("div"),U=p("button"),N=h("\n                "),R=p("button"),O&&O.c(),S=h(" "),k=p("noscript"),x=h("\n"),H=p("div"),m(u,"click",z),u.type="button",u.className="close svelte-1f9lfqa",g(u,"aria-label",t.backButtonText),v.className="modal-title mb-4 svelte-1f9lfqa",m(U,"click",E),U.className="btn back svelte-1f9lfqa",m(R,"click",A),R.className="btn btn-danger svelte-1f9lfqa",L.className="actions pt-4 mt-4 svelte-1f9lfqa",d.className="modal-content svelte-1f9lfqa",m(o,"keyup",W),o.className="modal-body",s.className="modal",m(H,"click",D),H.className="modal-backdrop"},m(e,r){n(e,s,r),i(s,o),i(o,u),M._mount(u,null),i(o,c),i(o,d),i(d,v),v.innerHTML=t.title,i(d,_),C&&(i(d,y||(y=b())),i(d,C),i(d,w||(w=b()))),i(d,T),i(d,L),i(L,U),U.innerHTML=t.backButtonText,i(L,N),i(L,R),O&&O.m(R,null),i(R,S),i(R,k),k.insertAdjacentHTML("afterend",t.confirmButtonText),n(e,x,r),n(e,H,r)},p(t,s){t.backButtonText&&g(u,"aria-label",s.backButtonText),t.title&&(v.innerHTML=s.title),t.backButtonText&&(U.innerHTML=s.backButtonText),s.confirmButtonIcon?O?O.p(t,s):((O=ze(e,s)).c(),O.m(R,S)):O&&(O.d(1),O=null),t.confirmButtonText&&(a(k),k.insertAdjacentHTML("afterend",s.confirmButtonText))},d(e){e&&r(s),M.destroy(),f(u,"click",z),C&&(l(y,w,C),r(y),r(w)),f(U,"click",E),O&&O.d(),f(R,"click",A),f(o,"keyup",W),e&&(r(x),r(H)),f(H,"click",D)}}}function ze(e,t){var s={icon:t.confirmButtonIcon,class:"mr-1",size:"1.3em",valign:"-0.3em"},i=new B({root:e.root,store:e.store,data:s});return{c(){i._fragment.c()},m(e,t){i._mount(e,t)},p(e,t){var s={};e.confirmButtonIcon&&(s.icon=t.confirmButtonIcon),i._set(s)},d(e){i.destroy(e)}}}function Ee(e){k(this,e),this._state=t({title:"Title",confirmButtonText:"Confirm",confirmButtonIcon:!1,backButtonText:"Back",open:!1},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var s;function i(t){e.handleKeystroke(t.key)}window.addEventListener("keydown",i);var a=t.open&&Me(e,t);return{c(){a&&a.c(),s=b()},m(e,t){a&&a.m(e,t),n(e,s,t)},p(t,i){i.open?a?a.p(t,i):((a=Me(e,i)).c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},d(e){window.removeEventListener("keydown",i),a&&a.d(e),e&&r(s)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),R(this))}t(Ee.prototype,C),t(Ee.prototype,Ce);var Oe={show(){const e=setTimeout(()=>{this.set({visible:!0})},400);this.set({t:e})},hide(){const{t:e}=this.get();clearTimeout(e),this.set({visible:!1})}};function Be(e,t){var s,a,l,u,c,d=e._slotted.default,m="help"===t.type&&Ae(),f="upgrade-info"===t.type&&We();return{c(){s=p("div"),m&&m.c(),a=h(" "),f&&f.c(),l=h("\n        "),s.className=c="content "+t.type+" svelte-1qzgns1"},m(e,t){n(e,s,t),m&&m.m(s,null),i(s,a),f&&f.m(s,null),i(s,l),d&&(i(s,u||(u=b())),i(s,d))},p(e,t){"help"===t.type?m||((m=Ae()).c(),m.m(s,a)):m&&(m.d(1),m=null),"upgrade-info"===t.type?f||((f=We()).c(),f.m(s,l)):f&&(f.d(1),f=null),e.type&&c!==(c="content "+t.type+" svelte-1qzgns1")&&(s.className=c)},d(e){e&&r(s),m&&m.d(),f&&f.d(),d&&o(u,d)}}}function Ae(e,t){var s;return{c(){(s=p("i")).className="hat-icon im im-graduation-hat svelte-1qzgns1"},m(e,t){n(e,s,t)},d(e){e&&r(s)}}}function We(e,t){var s,a,l=E("upgrade-available");return{c(){s=p("div"),a=h(l),s.className="content-header svelte-1qzgns1"},m(e,t){n(e,s,t),i(s,a)},d(e){e&&r(s)}}}function De(e){k(this,e),this.refs={},this._state=t({visible:!1,class:"",type:"help",uid:""},e.data),this._recompute({type:1},this._state),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var s,a,l,o,u,c=t.visible&&Be(e,t);function d(t){e.show()}function b(t){e.hide()}return{c(){s=p("div"),a=p("span"),o=h("\n    "),c&&c.c(),a.className=l="help-icon "+t.type+" svelte-1qzgns1",w(a,"visible",t.visible),m(s,"mouseenter",d),m(s,"mouseleave",b),s.className=u="help "+t.class+" "+t.type+" svelte-1qzgns1",s.dataset.uid=t.uid},m(r,l){n(r,s,l),i(s,a),a.innerHTML=t.helpIcon,i(s,o),c&&c.m(s,null),e.refs.helpDisplay=s},p(t,i){t.helpIcon&&(a.innerHTML=i.helpIcon),t.type&&l!==(l="help-icon "+i.type+" svelte-1qzgns1")&&(a.className=l),(t.type||t.visible)&&w(a,"visible",i.visible),i.visible?c?c.p(t,i):((c=Be(e,i)).c(),c.m(s,null)):c&&(c.d(1),c=null),(t.class||t.type)&&u!==(u="help "+i.class+" "+i.type+" svelte-1qzgns1")&&(s.className=u),t.uid&&(s.dataset.uid=i.uid)},d(t){t&&r(s),c&&c.d(),f(s,"mouseenter",d),f(s,"mouseleave",b),e.refs.helpDisplay===s&&(e.refs.helpDisplay=null)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(De.prototype,C),t(De.prototype,Oe),De.prototype._recompute=function(e,t){e.type&&this._differs(t.helpIcon,t.helpIcon=function({type:e}){return"upgrade-info"===e?A:"?"}(t))&&(e.helpIcon=!0)};var qe="100px";function Ie(e,t){var s,n={class:t.helpClass},r=new De({root:e.root,store:e.store,slots:{default:c()},data:n});return{c(){s=p("div"),r._fragment.c()},m(e,n){i(r._slotted.default,s),s.innerHTML=t.help,r._mount(e,n)},p(e,t){e.help&&(s.innerHTML=t.help);var i={};e.helpClass&&(i.class=t.helpClass),r._set(i)},d(e){r.destroy(e)}}}function je(e,t){var s,a,l,o=t.labelHelp&&$e(e,t);return{c(){s=p("label"),a=p("noscript"),l=h(" "),o&&o.c(),y(s,"width",t.labelWidth||qe),s.className="control-label svelte-1ykzs2h",w(s,"disabled",t.disabled)},m(e,r){n(e,s,r),i(s,a),a.insertAdjacentHTML("beforebegin",t.label),i(s,l),o&&o.m(s,null)},p(t,i){t.label&&(!function(e){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling)}(a),a.insertAdjacentHTML("beforebegin",i.label)),i.labelHelp?o?o.p(t,i):((o=$e(e,i)).c(),o.m(s,null)):o&&(o.d(1),o=null),t.labelWidth&&y(s,"width",i.labelWidth||qe),t.disabled&&w(s,"disabled",i.disabled)},d(e){e&&r(s),o&&o.d()}}}function $e(e,t){var s;return{c(){(s=p("p")).className="mini-help mt-1"},m(e,i){n(e,s,i),s.innerHTML=t.labelHelp},p(e,t){e.labelHelp&&(s.innerHTML=t.labelHelp)},d(e){e&&r(s)}}}function Fe(e,t){var s,i;return{c(){y(s=p("p"),"padding-left",t.inline?0:t.labelWidth||qe),s.className=i="mt-1 mini-help "+t.type+" svelte-1ykzs2h",w(s,"mini-help-block",!t.inline)},m(e,i){n(e,s,i),s.innerHTML=t.miniHelp},p(e,t){e.miniHelp&&(s.innerHTML=t.miniHelp),(e.inline||e.labelWidth)&&y(s,"padding-left",t.inline?0:t.labelWidth||qe),e.type&&i!==(i="mt-1 mini-help "+t.type+" svelte-1ykzs2h")&&(s.className=i),(e.type||e.inline)&&w(s,"mini-help-block",!t.inline)},d(e){e&&r(s)}}}function Pe(e){var s,a,l,o,u,c,d,b,m,f,g,v;k(this,e),this._state=t({disabled:!1,help:!1,helpClass:!1,miniHelp:!1,label:!1,labelHelp:!1,class:"",inline:!1,labelWidth:!1,type:"default",valign:"baseline",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(s=this,a=this._state,m=s._slotted.default,f=a.help&&Ie(s,a),g=a.label&&je(s,a),v=a.miniHelp&&Fe(0,a),{c(){f&&f.c(),l=h("\n\n"),o=p("div"),g&&g.c(),u=h("\n    "),c=p("div"),d=h("\n    "),v&&v.c(),c.className="controls svelte-1ykzs2h",y(c,"width","calc(100% - "+(a.labelWidth||qe)+" - 32px)"),w(c,"form-inline",a.inline),o.className=b="control-group vis-option-group vis-option-group-"+a.type+" label-"+a.valign+" "+a.class+" svelte-1ykzs2h",o.dataset.uid=a.uid},m(e,t){f&&f.m(e,t),n(e,l,t),n(e,o,t),g&&g.m(o,null),i(o,u),i(o,c),m&&i(c,m),i(o,d),v&&v.m(o,null)},p(e,t){t.help?f?f.p(e,t):((f=Ie(s,t)).c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),t.label?g?g.p(e,t):((g=je(s,t)).c(),g.m(o,u)):g&&(g.d(1),g=null),e.labelWidth&&y(c,"width","calc(100% - "+(t.labelWidth||qe)+" - 32px)"),e.inline&&w(c,"form-inline",t.inline),t.miniHelp?v?v.p(e,t):((v=Fe(0,t)).c(),v.m(o,null)):v&&(v.d(1),v=null),(e.type||e.valign||e.class)&&b!==(b="control-group vis-option-group vis-option-group-"+t.type+" label-"+t.valign+" "+t.class+" svelte-1ykzs2h")&&(o.className=b),e.uid&&(o.dataset.uid=t.uid)},d(e){f&&f.d(e),e&&(r(l),r(o)),g&&g.d(),m&&function(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}(c,m),v&&v.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),R(this))}function Ve({changed:e,previous:t}){t&&e.value&&this.set({indeterminate:!1})}function Ge(e,t,s){const i=Object.create(e);return i.opt=t[s],i}function Je(e,t){var s,i=t.opt.help;return{c(){(s=p("div")).className="help svelte-b3e9e4"},m(e,t){n(e,s,t),s.innerHTML=i},p(e,t){e.options&&i!==(i=t.opt.help)&&(s.innerHTML=i)},d(e){e&&r(s)}}}function Ke(e,t){var s,a,l,o,u,c,d,b,v,_=t.opt.label;function y(){e.set({value:a.__value})}var T=t.opt.help&&Je(0,t);return{c(){s=p("label"),a=p("input"),o=h("\n            "),u=p("span"),c=h("Â "),d=p("span"),b=h("\n            "),T&&T.c(),e._bindingGroups[0].push(a),m(a,"change",y),g(a,"type","radio"),a.__value=l=t.opt.value,a.value=a.__value,a.disabled=t.disabled,a.className="svelte-b3e9e4",u.className="css-ui svelte-b3e9e4",d.className="inner-label svelte-b3e9e4",s.title=v=t.opt.tooltip||"",s.className="svelte-b3e9e4",w(s,"disabled",t.disabled),w(s,"has-help",t.opt.help)},m(e,r){n(e,s,r),i(s,a),a.checked=a.__value===t.value,i(s,o),i(s,u),i(s,c),i(s,d),d.innerHTML=_,i(s,b),T&&T.m(s,null)},p(e,t){e.value&&(a.checked=a.__value===t.value),e.options&&l!==(l=t.opt.value)&&(a.__value=l),a.value=a.__value,e.disabled&&(a.disabled=t.disabled),e.options&&_!==(_=t.opt.label)&&(d.innerHTML=_),t.opt.help?T?T.p(e,t):((T=Je(0,t)).c(),T.m(s,null)):T&&(T.d(1),T=null),e.options&&v!==(v=t.opt.tooltip||"")&&(s.title=v),e.disabled&&w(s,"disabled",t.disabled),e.options&&w(s,"has-help",t.opt.help)},d(t){t&&r(s),e._bindingGroups[0].splice(e._bindingGroups[0].indexOf(a),1),f(a,"change",y),T&&T.d()}}}function Xe(e,t){var s;return{c(){(s=p("div")).className="disabled-message svelte-b3e9e4"},m(e,i){n(e,s,i),s.innerHTML=t.disabledMessage},p(e,t){e.disabledMessage&&(s.innerHTML=t.disabledMessage)},d(e){e&&r(s)}}}function Ze(e){k(this,e),this._state=t({value:null,disabled:!1,disabledMessage:"",indeterminate:!1,label:"",labelWidth:"auto",help:null,miniHelp:null,valign:"top",inline:!0,uid:""},e.data),this._bindingGroups=[[]],this._intro=!0,this._handlers.state=[Ve],this._slotted=e.slots||{},Ve.call(this,{changed:s({},this._state),current:this._state}),this._fragment=function(e,t){for(var s,a,l,d,m,f=e._slotted.default,g=t.options,v=[],_=0;_<g.length;_+=1)v[_]=Ke(e,Ge(t,g,_));var y={type:"radio",labelWidth:t.labelWidth,valign:t.valign,label:t.label,disabled:t.disabled,help:t.help,miniHelp:t.miniHelp,uid:t.uid},T=new Pe({root:e.root,store:e.store,slots:{default:c()},data:y}),L=t.disabled&&t.disabledMessage&&Xe(e,t);return{c(){s=p("div");for(var e=0;e<v.length;e+=1)v[e].c();a=h("\n    "),T._fragment.c(),d=h("\n\n"),L&&L.c(),m=b(),s.className="svelte-b3e9e4",w(s,"inline",t.inline),w(s,"indeterminate",t.indeterminate)},m(e,t){i(T._slotted.default,s);for(var r=0;r<v.length;r+=1)v[r].m(s,null);i(T._slotted.default,a),f&&(i(T._slotted.default,l||(l=b())),i(T._slotted.default,f)),T._mount(e,t),n(e,d,t),L&&L.m(e,t),n(e,m,t)},p(t,i){if(t.options||t.disabled||t.value){g=i.options;for(var n=0;n<g.length;n+=1){const r=Ge(i,g,n);v[n]?v[n].p(t,r):(v[n]=Ke(e,r),v[n].c(),v[n].m(s,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=g.length}t.inline&&w(s,"inline",i.inline),t.indeterminate&&w(s,"indeterminate",i.indeterminate);var r={};t.labelWidth&&(r.labelWidth=i.labelWidth),t.valign&&(r.valign=i.valign),t.label&&(r.label=i.label),t.disabled&&(r.disabled=i.disabled),t.help&&(r.help=i.help),t.miniHelp&&(r.miniHelp=i.miniHelp),t.uid&&(r.uid=i.uid),T._set(r),i.disabled&&i.disabledMessage?L?L.p(t,i):((L=Xe(e,i)).c(),L.m(m.parentNode,m)):L&&(L.d(1),L=null)},d(e){u(v,e),f&&o(l,f),T.destroy(e),e&&r(d),L&&L.d(e),e&&r(m)}}}(this,this._state),this.root._oncreate.push(()=>{this.fire("update",{changed:s({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),R(this))}t(Pe.prototype,C),t(Ze.prototype,C);const Qe=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,Ye=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function et(e,t){if(null===e)return null;if(void 0!==e){if((e=String(e)).indexOf("<")<0&&e.indexOf(">")<0)return e;if(e=function(e,t){t=(((void 0!==t?t||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var s=e,i=e;for(;;)if(i=(s=i).replace(Ye,"").replace(Qe,(function(e,s){return t.indexOf("<"+s.toLowerCase()+">")>-1?e:""})),s===i)return i}(e,t),"undefined"==typeof document)return e;var s=document.createElement("div");s.innerHTML=`<span>${e}</span>`;for(var i=s.childNodes[0].querySelectorAll("*"),n=0;n<i.length;n++){if("a"===i[n].nodeName.toLowerCase()){"_self"!==i[n].getAttribute("target")&&i[n].setAttribute("target","_blank"),i[n].setAttribute("rel","nofollow noopener noreferrer");const e=(i[n].getAttribute("href")||"").toLowerCase().replace(/[^a-z0-9 -/:?=]/g,"").trim();(e.startsWith("javascript:")||e.startsWith("vbscript:")||e.startsWith("data:"))&&i[n].setAttribute("href","")}const e=[];for(var r=0;r<i[n].attributes.length;r++){var a=i[n].attributes[r];a.specified&&"on"===a.name.substr(0,2)&&e.push(a.name)}e.forEach(e=>i[n].removeAttribute(e))}return s.childNodes[0].innerHTML}}function tt({shareurlType:e,id:t,publicUrl:s,metadata:i,pluginShareurls:n}){if("default"===e)return s;let r="";return n.forEach(s=>{s.id===e&&(r=s.url.replace(/%chart_id%/g,t),r=r.replace(/%(.*?)%/g,(e,s)=>function(e,t=null,s=null){if(!t)return e;const i=Array.isArray(t)?t:t.split(".");let n=e;for(let e=0;e<i.length&&null!=n;e++)n=n[i[e]];return null==n?s:n}({id:t,metadata:i},s)))}),r}var st={copy(e){const{embedCode:t,shareUrl:s}=this.get(),i="embedcode"===e?t:s,n=document.createElement("textarea");n.value=i,document.body.appendChild(n),n.select();try{if(document.execCommand("copy")){const{copySuccess:t}=this.get();t[e]=!0,this.set({copySuccess:t}),setTimeout(()=>{t[e]=!1,this.set({copySuccess:t})},2e3),He("Chart Editor",e+"-copy")}}catch(e){console.error("Could not copy to clipboard.")}document.body.removeChild(n),this.refs[e].select()}};function it(e){k(this,e),this.refs={},this._state=t({embedTemplates:[],pluginShareurls:[],pending:!1,shareurlType:"default",embedType:"responsive",copySuccess:{}},e.data),this._recompute({shareurlType:1,id:1,publicUrl:1,metadata:1,pluginShareurls:1,embedType:1,embedTemplates:1},this._state),this._intro=!0,this._fragment=function(e,t){var s,a,l,o,u,c,d,b,v,_,y,T,L,U,N,R,S,k,x,H,C,M,z,E,O,A,W,D,q,I,j,$,F,P,V,G,J,K,X=Le("publish / share-embed"),Z=Le("publish / share-url"),Q=Le("publish / copy-success"),Y={},ee=Le("publish / embed"),te=Le("publish / copy-success"),se={},ie=Le("publish / embed / explanation"),ne=new B({root:e.root,store:e.store,data:{size:"30px",icon:"link",color:"#333333",class:"pt-5 pr-5"}});function re(e){this.select()}var ae=new B({root:e.root,store:e.store,data:{icon:"external-link",size:"15px",valign:"-3px"}}),le=new B({root:e.root,store:e.store,data:{size:"18px",icon:"copy-to-clipboard",class:"pt-1"}});function oe(t){e.copy("shareurl")}var ue={options:t.shareOptions,label:""};void 0!==t.shareurlType&&(ue.value=t.shareurlType,Y.value=!0);var ce=new Ze({root:e.root,store:e.store,data:ue,_bind(t,s){var i={};!Y.value&&t.value&&(i.shareurlType=s.value),e._set(i),Y={}}});e.root._beforecreate.push(()=>{ce._bind({value:1},ce.get())});var pe=new B({root:e.root,store:e.store,data:{size:"30px",icon:"source-code",color:"#333333",class:"pt-5 pr-5",valign:"bottom"}});function de(e){this.select()}var he=new B({root:e.root,store:e.store,data:{size:"18px",icon:"copy-to-clipboard",class:"pt-1"}});function be(t){e.copy("embedcode")}var me={options:t.embedOptions,label:""};void 0!==t.embedType&&(me.value=t.embedType,se.value=!0);var fe=new Ze({root:e.root,store:e.store,data:me,_bind(t,s){var i={};!se.value&&t.value&&(i.embedType=s.value),e._set(i),se={}}});return e.root._beforecreate.push(()=>{fe._bind({value:1},fe.get())}),{c(){s=p("div"),a=p("h2"),l=h("\n    "),o=p("div"),ne._fragment.c(),u=h("\n        "),c=p("div"),d=p("label"),b=h("\n            "),v=p("div"),_=p("div"),y=p("input"),T=h("\n                    "),L=p("a"),ae._fragment.c(),U=h("\n                        "),(N=p("span")).textContent="Open",R=h("\n                "),S=p("button"),le._fragment.c(),k=h("\n                "),x=p("span"),H=h(Q),C=h("\n            "),ce._fragment.c(),M=h("\n\n    "),z=p("div"),pe._fragment.c(),E=h("\n        "),O=p("div"),A=p("label"),W=h("\n            "),D=p("div"),q=p("div"),I=p("input"),j=h("\n                "),$=p("button"),he._fragment.c(),F=h("\n                "),P=p("span"),V=h(te),G=h("\n\n            "),fe._fragment.c(),J=h("\n\n            "),K=p("p"),d.htmlFor="share-url",d.className="svelte-1tny3g8",m(y,"focus",re),g(y,"type","text"),y.id="share-url",y.className="passive-input svelte-1tny3g8",y.value=t.shareUrl,y.readOnly=!0,L.target="_blank",L.className="btn btn-primary svelte-1tny3g8",L.href=t.shareUrl,_.className="copy-preview share-url svelte-1tny3g8",m(S,"click",oe),S.className="btn copy-button svelte-1tny3g8",S.title=Le("publish / copy"),x.className="copy-success svelte-1tny3g8",w(x,"show",t.copySuccess.shareurl),v.className="copy-group svelte-1tny3g8",c.className="share-embed-item svelte-1tny3g8",o.className="share-embed-block svelte-1tny3g8",A.htmlFor="embed-code",A.className="svelte-1tny3g8",m(I,"focus",de),g(I,"type","text"),I.id="embed-code",I.className="passive-input svelte-1tny3g8",I.value=t.embedCode,I.readOnly=!0,q.className="copy-preview embed-code svelte-1tny3g8",m($,"click",be),$.className="btn copy-button svelte-1tny3g8",$.title=Le("publish / copy"),P.className="copy-success svelte-1tny3g8",w(P,"show",t.copySuccess.embedcode),D.className="copy-group svelte-1tny3g8",K.className="embed-explanation svelte-1tny3g8",O.className="share-embed-item svelte-1tny3g8",z.className="share-embed-block svelte-1tny3g8",s.className="share-embed svelte-1tny3g8",w(s,"pending",t.pending)},m(t,r){n(t,s,r),i(s,a),a.innerHTML=X,i(s,l),i(s,o),ne._mount(o,null),i(o,u),i(o,c),i(c,d),d.innerHTML=Z,i(c,b),i(c,v),i(v,_),i(_,y),e.refs.shareurl=y,i(_,T),i(_,L),ae._mount(L,null),i(L,U),i(L,N),i(v,R),i(v,S),le._mount(S,null),i(v,k),i(v,x),i(x,H),i(c,C),ce._mount(c,null),i(s,M),i(s,z),pe._mount(z,null),i(z,E),i(z,O),i(O,A),A.innerHTML=ee,i(O,W),i(O,D),i(D,q),i(q,I),e.refs.embedcode=I,i(D,j),i(D,$),he._mount($,null),i(D,F),i(D,P),i(P,V),i(O,G),fe._mount(O,null),i(O,J),i(O,K),K.innerHTML=ie},p(e,i){t=i,e.shareUrl&&(y.value=t.shareUrl,L.href=t.shareUrl),e.copySuccess&&w(x,"show",t.copySuccess.shareurl);var n={};e.shareOptions&&(n.options=t.shareOptions),!Y.value&&e.shareurlType&&(n.value=t.shareurlType,Y.value=void 0!==t.shareurlType),ce._set(n),Y={},e.embedCode&&(I.value=t.embedCode),e.copySuccess&&w(P,"show",t.copySuccess.embedcode);var r={};e.embedOptions&&(r.options=t.embedOptions),!se.value&&e.embedType&&(r.value=t.embedType,se.value=void 0!==t.embedType),fe._set(r),se={},e.pending&&w(s,"pending",t.pending)},d(t){t&&r(s),ne.destroy(),f(y,"focus",re),e.refs.shareurl===y&&(e.refs.shareurl=null),ae.destroy(),le.destroy(),f(S,"click",oe),ce.destroy(),pe.destroy(),f(I,"focus",de),e.refs.embedcode===I&&(e.refs.embedcode=null),he.destroy(),f($,"click",be),fe.destroy()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),R(this))}t(it.prototype,C),t(it.prototype,st),it.prototype._recompute=function(e,t){(e.shareurlType||e.id||e.publicUrl||e.metadata||e.pluginShareurls)&&this._differs(t.shareUrl,t.shareUrl=tt(t))&&(e.shareUrl=!0),(e.embedType||e.publicUrl||e.metadata)&&this._differs(t.embedCode,t.embedCode=function({embedType:e,publicUrl:t,metadata:s}){return s?s.publish&&!s.publish["embed-codes"]?`<iframe src="${t}" width="100%" height="${s.publish["embed-height"]}" scrolling="no" frameborder="0" allowtransparency="true"></iframe>`:s.publish["embed-codes"]["embed-method-"+e]?s.publish["embed-codes"]["embed-method-"+e]:"":""}(t))&&(e.embedCode=!0),e.pluginShareurls&&this._differs(t.shareOptions,t.shareOptions=function({pluginShareurls:e}){return[{label:Le("publish / share-url / fullscreen"),value:"default",help:Le("publish / help / share-url / fullscreen")},...e.map(({name:e,id:t})=>({label:e,value:t,help:Le("publish / help / share-url / "+t)}))]}(t))&&(e.shareOptions=!0),e.embedTemplates&&this._differs(t.embedOptions,t.embedOptions=function({embedTemplates:e}){return e.map(({title:e,id:t,text:s})=>({label:et(e),value:et(t),help:et(s)}))}(t))&&(e.embedOptions=!0)};let nt=!0;var rt={publish(){const e=this;if(!window.chart.save)return void setTimeout(()=>{e.publish()},100);const{chart:t}=e.get();e.set({publishing:!0,publishStarted:(new Date).getTime(),now:(new Date).getTime(),progress:[],unpublished:!1,publish_error:!1}),e.set({chart:t}),He("Chart Editor","publish"),window.chart.attributes(t).save().then(()=>{this.set({statusUrl:`/v3/charts/${t.id}/publish/status/${t.publicVersion}`}),Se.post(`/v3/charts/${t.id}/publish`).then(()=>{Se.get("/v3/charts/"+t.id).then(t=>{He("Chart Editor","publish-success"),e.publishFinished(t)})}).catch(e=>{this.set({publish_error:e.message,publishing:!1,progress:[]}),He("Chart Editor","publish-error",e.message)}),setTimeout(()=>{const{publishing:t}=e.get();t&&e.updateStatus()},1e3)})},unpublish(){const{chart:e}=this.get();this.set({progress:[],unpublishing:!0,needs_republish:!1}),Se.post(`/v3/charts/${e.id}/unpublish`).then(()=>{Se.get("/v3/charts/"+e.id).then(e=>{this.set({chart:e}),He("Chart Editor","unpublish-success"),setTimeout(()=>{this.set({published:!1,unpublishing:!1,unpublished:!0})},1e3)})}).catch(e=>{this.set({publish_error:e.message,unpublishing:!1}),He("Chart Editor","unpublish-error",e.message)})},requestUnpublishConfirmation(){this.set({publish_error:null}),this.refs.confirmationModal.open()},updateStatus(){const{statusUrl:e}=this.get();e&&Se.get(e).then(e=>{this.set({progress:e.progress||[],now:(new Date).getTime()});const{publishing:t}=this.get();t&&setTimeout(()=>{this.updateStatus()},500)})},publishFinished(e){this.set({progress:["done"],published:!0,publishStarted:0,needs_republish:!1,publishing:!1,chart:e}),window.parent.postMessage({source:"datawrapper",type:"chart-publish",chartId:e.id},"*"),window.chart.attributes(e)}};function at({changed:e,current:t}){const s=window.dw&&window.dw.backend&&window.dw.backend.setUserData;if(e.embedType&&s){const e=window.dw.backend.__userData;if(!t.embedType||!e)return;e.embed_type=t.embedType,window.dw.backend.setUserData(e)}if(e.shareurlType&&s){const e=window.dw.backend.__userData;if(!t.shareurlType||!e)return;e.shareurl_type=t.shareurlType,window.dw.backend.setUserData(e)}e.published&&window.document.querySelector(".dw-create-publish .publish-step").classList[t.published?"add":"remove"]("is-published"),e.auto_publish&&t.auto_publish&&nt&&(this.publish(),nt=!1,window.history.replaceState("","",window.location.pathname))}function lt(e,t){var s={},i={pluginShareurls:t.pluginShareurls,embedTemplates:t.embedTemplates,pending:t.publishing||t.unpublishing,metadata:t.chart.metadata,id:t.chart.id,publicUrl:t.chart.publicUrl};void 0!==t.shareurlType&&(i.shareurlType=t.shareurlType,s.shareurlType=!0),void 0!==t.embedType&&(i.embedType=t.embedType,s.embedType=!0);var n=new it({root:e.root,store:e.store,data:i,_bind(t,i){var n={};!s.shareurlType&&t.shareurlType&&(n.shareurlType=i.shareurlType),!s.embedType&&t.embedType&&(n.embedType=i.embedType),e._set(n),s={}}});return e.root._beforecreate.push(()=>{n._bind({shareurlType:1,embedType:1},n.get())}),{c(){n._fragment.c()},m(e,t){n._mount(e,t)},p(e,i){t=i;var r={};e.pluginShareurls&&(r.pluginShareurls=t.pluginShareurls),e.embedTemplates&&(r.embedTemplates=t.embedTemplates),(e.publishing||e.unpublishing)&&(r.pending=t.publishing||t.unpublishing),e.chart&&(r.metadata=t.chart.metadata),e.chart&&(r.id=t.chart.id),e.chart&&(r.publicUrl=t.chart.publicUrl),!s.shareurlType&&e.shareurlType&&(r.shareurlType=t.shareurlType,s.shareurlType=void 0!==t.shareurlType),!s.embedType&&e.embedType&&(r.embedType=t.embedType,s.embedType=void 0!==t.embedType),n._set(r),s={}},d(e){n.destroy(e)}}}function ot(e){k(this,e),this.refs={},this._state=t({chart:{id:""},embedTemplates:[],pluginShareurls:[],published:!1,publishing:!1,publishStarted:0,unpublished:!1,unpublishing:!1,needs_republish:!1,publish_error:!1,auto_publish:!1,progress:[],shareurlType:"default",embedType:"responsive",statusUrl:!1,redirect_disabled:!1},e.data),this._recompute({publishStarted:1,now:1},this._state),this._intro=!0,this._handlers.state=[at],at.call(this,{changed:s({},this._state),current:this._state}),this._fragment=function(e,t){var s,a,l,o,u,d=Le("publish / title"),b=Le("publish / unpublish-confirmation / explanation"),m={published:t.published,publishing:t.publishing,publishStarted:t.publishStarted,now:t.now,progress:t.progress,unpublished:t.unpublished,unpublishing:t.unpublishing,redirectDisabled:t.redirect_disabled,needsRepublish:t.needs_republish,publishError:t.publish_error,publicVersion:t.chart.publicVersion},f=new ye({root:e.root,store:e.store,data:m});f.on("publish",(function(t){e.publish()})),f.on("unpublish",(function(t){e.requestUnpublishConfirmation()}));var g=t.published&&lt(e,t),v={confirmButtonText:Le("publish / unpublish-confirmation / unpublish"),confirmButtonIcon:"undo",backButtonText:Le("publish / unpublish-confirmation / back"),title:Le("publish / unpublish-confirmation / title")},_=new Ee({root:e.root,store:e.store,slots:{default:c()},data:v});return _.on("confirm",(function(t){e.unpublish()})),e.refs.confirmationModal=_,{c(){s=p("h2"),a=h("\n\n"),f._fragment.c(),l=h("\n\n"),g&&g.c(),o=h("\n\n"),u=p("p"),_._fragment.c()},m(e,t){n(e,s,t),s.innerHTML=d,n(e,a,t),f._mount(e,t),n(e,l,t),g&&g.m(e,t),n(e,o,t),i(_._slotted.default,u),u.innerHTML=b,_._mount(e,t)},p(t,s){var i={};t.published&&(i.published=s.published),t.publishing&&(i.publishing=s.publishing),t.publishStarted&&(i.publishStarted=s.publishStarted),t.now&&(i.now=s.now),t.progress&&(i.progress=s.progress),t.unpublished&&(i.unpublished=s.unpublished),t.unpublishing&&(i.unpublishing=s.unpublishing),t.redirect_disabled&&(i.redirectDisabled=s.redirect_disabled),t.needs_republish&&(i.needsRepublish=s.needs_republish),t.publish_error&&(i.publishError=s.publish_error),t.chart&&(i.publicVersion=s.chart.publicVersion),f._set(i),s.published?g?g.p(t,s):((g=lt(e,s)).c(),g.m(o.parentNode,o)):g&&(g.d(1),g=null)},d(t){t&&(r(s),r(a)),f.destroy(t),t&&r(l),g&&g.d(t),t&&r(o),_.destroy(t),e.refs.confirmationModal===_&&(e.refs.confirmationModal=null)}}}(this,this._state),this.root._oncreate.push(()=>{this.fire("update",{changed:s({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),R(this))}function ut(e,s){this._handlers={},this._dependents=[],this._computed=T(),this._sortedComputedProperties=[],this._state=t({},e),this._differs=s&&s.immutable?U:L}t(ot.prototype,C),t(ot.prototype,rt),ot.prototype._recompute=function(e,t){(e.publishStarted||e.now)&&this._differs(t.publishWait,t.publishWait=function({publishStarted:e,now:t}){return e>0?t-e:0}(t))&&(e.publishWait=!0)},t(ut.prototype,{_add(e,t){this._dependents.push({component:e,props:t})},_init(e){const t={};for(let s=0;s<e.length;s+=1){const i=e[s];t["$"+i]=this._state[i]}return t},_remove(e){let t=this._dependents.length;for(;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set(e,s){const i=this._state;this._state=t(t({},i),e);for(let e=0;e<this._sortedComputedProperties.length;e+=1)this._sortedComputedProperties[e].update(this._state,s);this.fire("state",{changed:s,previous:i,current:this._state}),this._dependents.filter(e=>{const t={};let i=!1;for(let n=0;n<e.props.length;n+=1){const r=e.props[n];r in s&&(t["$"+r]=this._state[r],i=!0)}if(i)return e.component._stage(t),!0}).forEach(e=>{e.component.set({})}),this.fire("update",{changed:s,previous:i,current:this._state})},_sortComputedProperties(){const e=this._computed,t=this._sortedComputedProperties=[],s=T();let i;function n(r){const a=e[r];a&&(a.deps.forEach(e=>{if(e===i)throw new Error(`Cyclical dependency detected between ${e} <-> ${r}`);n(e)}),s[r]||(s[r]=!0,t.push(a)))}for(const e in this._computed)n(i=e)},compute(e,s,i){let n;const r={deps:s,update:(t,r,a)=>{const l=s.map(e=>(e in r&&(a=!0),t[e]));if(a){const s=i.apply(null,l);this._differs(s,n)&&(n=s,r[e]=!0,t[e]=n)}}};this._computed[e]=r,this._sortComputedProperties();const a=t({},this._state),l={};r.update(a,l,!0),this._set(a,l)},fire:N,get:S,on:x,set(e){const t=this._state,s=this._changed={};let i=!1;for(const n in e){if(this._computed[n])throw new Error(`'${n}' is a read-only computed property`);this._differs(e[n],t[n])&&(s[n]=i=!0)}i&&this._set(e,s)}});return{App:ot,data:{chart:{id:""},embedTemplates:[],pluginShareurls:[],published:!1,publishing:!1,needs_republish:!1,publish_error:!1,auto_publish:!1,progress:[],shareurlType:"default",embedType:"responsive"},store:new ut({})}}));
