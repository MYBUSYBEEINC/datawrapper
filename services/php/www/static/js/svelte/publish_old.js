!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/publish_old",t):(e="undefined"!=typeof globalThis?globalThis:e||self).publish=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){}function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){for(var n in t)e[n]=1;return e}function a(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n)}function l(e){e.parentNode.removeChild(e)}function c(e){for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)}function p(e,t,n){for(;e.nextSibling&&e.nextSibling!==t;)n.appendChild(e.parentNode.removeChild(e.nextSibling))}function d(e,t){for(;e.nextSibling;)t.appendChild(e.nextSibling)}function h(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(){return document.createDocumentFragment()}function b(e){return document.createElement(e)}function m(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function v(e){return document.createTextNode(e)}function g(){return document.createComment("")}function _(e,t,n,i){e.addEventListener(t,n,i)}function y(e,t,n,i){e.removeEventListener(t,n,i)}function w(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function L(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function T(e,t,n){e.style.setProperty(t,n)}function U(e,t,n){e.classList[n?"add":"remove"](t)}function R(){return Object.create(null)}function N(t,n){return t!=t?n==n:t!==n||t&&"object"===e(t)||"function"==typeof t}function S(e,t){return e!=e?t==t:e!==t}function x(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var i=0;i<n.length;i+=1){var s=n[i];if(!s.__calling)try{s.__calling=!0,s.call(this,t)}finally{s.__calling=!1}}}function k(e){e._lock=!0,M(e._beforecreate),M(e._oncreate),M(e._aftercreate),e._lock=!1}function O(){return this._state}function H(e,t){e._handlers=R(),e._slots=R(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function C(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function M(e){for(;e&&e.length;)e.shift()()}var E={destroy:function(e){this.destroy=s,this.fire("destroy"),this.set=s,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:O,fire:x,on:C,set:function(e){this._set(r({},e)),this.root._lock||k(this.root)},_recompute:s,_set:function(e){var t=this._state,n={},i=!1;for(var s in e=r(this._staged,e),this._staged={},e)this._differs(e[s],t[s])&&(n[s]=i=!0);i&&(this._state=r(r({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t})))},_stage:function(e){r(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:N},z={};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(z[e]=window.__dw.vis.meta.locale||{}):z[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function A(e){var t=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(e=e.trim(),z[n]||j(n),!z[n][e])return"MISSING:"+e;var i=z[n][e];return"string"==typeof i&&arguments.length>2&&(i=i.replace(/\$(\d)/g,(function(e,n){return n=2+Number(n),void 0===t[n]?e:t[n]}))),i}function D(e,t,n,i){window._paq&&window._paq.push(["trackEvent",e,t,n,i])}function B(e){var t,n,i,s,o;H(this,e),this._state=r({icon:"api",size:"1em",color:"inherit",valign:"baseline",class:"",style:"",assetURL:null,spin:!1,timing:"linear",duration:"2s",uid:""},e.data),this._recompute({icon:1,assetURL:1},this._state),this._intro=!0,this._fragment=(t=this._state,{c:function(){n=b("span"),i=m("svg"),T(s=m("use"),"fill",t.color),L(s,"xlink:href",t.iconURL),T(i,"height",t.size),T(i,"width",t.size),w(i,"class","svelte-1th5ah8"),n.className=o="svg-icon "+t.class+" svelte-1th5ah8",n.dataset.uid=t.uid,T(n,"animation-timing-function",t.timing),T(n,"animation-duration",t.duration),T(n,"height",t.size),T(n,"width",t.size),T(n,"vertical-align",t.valign),U(n,"spin",t.spin)},m:function(e,t){u(e,n,t),a(n,i),a(i,s)},p:function(e,t){e.color&&T(s,"fill",t.color),e.iconURL&&L(s,"xlink:href",t.iconURL),e.size&&(T(i,"height",t.size),T(i,"width",t.size)),e.class&&o!==(o="svg-icon "+t.class+" svelte-1th5ah8")&&(n.className=o),e.uid&&(n.dataset.uid=t.uid),e.timing&&T(n,"animation-timing-function",t.timing),e.duration&&T(n,"animation-duration",t.duration),e.size&&(T(n,"height",t.size),T(n,"width",t.size)),e.valign&&T(n,"vertical-align",t.valign),(e.class||e.spin)&&U(n,"spin",t.spin)},d:function(e){e&&l(n)}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}r(B.prototype,E),B.prototype._recompute=function(e,t){var n,i,s;(e.icon||e.assetURL)&&this._differs(t.iconURL,t.iconURL=(i=(n=t).icon,s=n.assetURL,"".concat(s||"/lib/icons/symbol/svg/sprite.symbol.svg","#").concat(i)))&&(e.iconURL=!0)};var P='<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>';function I(e,t){var n,i;function s(e){return"upgrade-info"===e.type?q:W}var r=s(t),o=r(e,t);return{c:function(){n=b("div"),o.c(),n.className=i="alert "+t.class+" svelte-xl52r3",n.dataset.uid=t.uid,U(n,"alert-success","success"===t.type),U(n,"alert-warning","warning"===t.type),U(n,"alert-error","error"===t.type),U(n,"alert-info","info"===t.type),U(n,"alert-upgrade-info","upgrade-info"===t.type)},m:function(e,t){u(e,n,t),o.m(n,null)},p:function(t,a){r===(r=s(a))&&o?o.p(t,a):(o.d(1),(o=r(e,a)).c(),o.m(n,null)),t.class&&i!==(i="alert "+a.class+" svelte-xl52r3")&&(n.className=i),t.uid&&(n.dataset.uid=a.uid),(t.class||t.type)&&(U(n,"alert-success","success"===a.type),U(n,"alert-warning","warning"===a.type),U(n,"alert-error","error"===a.type),U(n,"alert-info","info"===a.type),U(n,"alert-upgrade-info","upgrade-info"===a.type))},d:function(e){e&&l(n),o.d()}}}function W(e,t){var n,i,s,r,o=e._slotted.default,a=t.closeable&&F(e);return{c:function(){a&&a.c(),n=v("\n    "),o||(r=v("content"))},m:function(e,t){a&&a.m(e,t),u(e,n,t),o?(u(e,i||(i=g()),t),u(e,o,t),u(e,s||(s=g()),t)):u(e,r,t)},p:function(t,i){i.closeable?a||((a=F(e)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function(e){a&&a.d(e),e?(l(n),o||l(r)):(p(i,s,o),l(i),l(s))}}}function q(e,t){var n,i,r,o,c,p,d,h,f=A("upgrade-available"),m=A("upgrade-info");return{c:function(){n=b("div"),i=b("span"),r=v("\n    "),o=b("div"),c=b("span"),p=v(f),d=v(" "),h=b("noscript"),i.className="upgrade-icon svelte-xl52r3",n.className="icon",c.className="title svelte-xl52r3"},m:function(e,t){u(e,n,t),a(n,i),i.innerHTML=P,u(e,r,t),u(e,o,t),a(o,c),a(c,p),a(o,d),a(o,h),h.insertAdjacentHTML("afterend",m)},p:s,d:function(e){e&&(l(n),l(r),l(o))}}}function F(e,t){var n;function i(t){e.close()}return{c:function(){(n=b("button")).textContent="Ã—",_(n,"click",i),n.type="button",w(n,"aria-label","close"),n.className="close"},m:function(e,t){u(e,n,t)},d:function(e){e&&l(n),y(n,"click",i)}}}function V(e){var t,n,i,s;H(this,e),this._state=r({visible:!1,type:"",closeable:!0,class:"",closeFunc:!1,uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(t=this,n=this._state,s=n.visible&&I(t,n),{c:function(){s&&s.c(),i=g()},m:function(e,t){s&&s.m(e,t),u(e,i,t)},p:function(e,n){n.visible?s?s.p(e,n):((s=I(t,n)).c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d:function(e){s&&s.d(e),e&&l(i)}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}r(V.prototype,E),r(V.prototype,{close:function(){var e=this.get().closeFunc;e?e():(this.set({visible:!1}),this.fire("close"))}});var G={publish:function(){D("Chart Editor","publish"),this.fire("publish")},unpublish:function(){D("Chart Editor","unpublish"),this.fire("unpublish")}};function $(e,t,n){var i=Object.create(e);return i.step=t[n],i.i=n,i}function J(e,t){var n,i,s=A("publish / published"),r={assetURL:t.assetURL,icon:"cloud-check",color:"#000000",size:"30px"},o=new B({root:e.root,store:e.store,data:r});return{c:function(){o._fragment.c(),n=v("\n    "),(i=b("div")).className="message svelte-di7o7w"},m:function(e,t){o._mount(e,t),u(e,n,t),u(e,i,t),i.innerHTML=s},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),o._set(n)},d:function(e){o.destroy(e),e&&(l(n),l(i))}}}function K(e,t){var n,i,s=A("publish / publish-success"),r={assetURL:t.assetURL,icon:"cloud-check",color:"#000000",size:"30px"},o=new B({root:e.root,store:e.store,data:r});return{c:function(){o._fragment.c(),n=v("\n    "),(i=b("div")).className="message svelte-di7o7w"},m:function(e,t){o._mount(e,t),u(e,n,t),u(e,i,t),i.innerHTML=s},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),o._set(n)},d:function(e){o.destroy(e),e&&(l(n),l(i))}}}function X(e,t){var n,i,s=A("publish / republish"),r={assetURL:t.assetURL,icon:"cloud-sync",color:"#FFB800",size:"30px"},o=new B({root:e.root,store:e.store,data:r});return{c:function(){o._fragment.c(),n=v("\n    "),(i=b("div")).className="message svelte-di7o7w"},m:function(e,t){o._mount(e,t),u(e,n,t),u(e,i,t),i.innerHTML=s},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),o._set(n)},d:function(e){o.destroy(e),e&&(l(n),l(i))}}}function Z(e,t){var n,i,s=A("publish / progress / publishing"),r={assetURL:t.assetURL,icon:"cloud-sync",color:"#858585",size:"30px"},o=new B({root:e.root,store:e.store,data:r});return{c:function(){o._fragment.c(),n=v("\n    "),(i=b("div")).className="message svelte-di7o7w"},m:function(e,t){o._mount(e,t),u(e,n,t),u(e,i,t),i.innerHTML=s},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),o._set(n)},d:function(e){o.destroy(e),e&&(l(n),l(i))}}}function Q(e,t){var n,i,s=A("publish / publish-btn-intro"),r={assetURL:t.assetURL,icon:"cloud-dotted",color:"#858585",size:"30px",class:"pt-2"},o=new B({root:e.root,store:e.store,data:r});return{c:function(){o._fragment.c(),n=v("\n    "),(i=b("div")).className="message pt-2 svelte-di7o7w"},m:function(e,t){o._mount(e,t),u(e,n,t),u(e,i,t),i.innerHTML=s},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),o._set(n)},d:function(e){o.destroy(e),e&&(l(n),l(i))}}}function Y(e,t){var n,i,s=A("publish / progress / unpublished"),r={assetURL:t.assetURL,icon:"cloud-dotted",color:"#858585",size:"30px"},o=new B({root:e.root,store:e.store,data:r});return{c:function(){o._fragment.c(),n=v("\n    "),(i=b("div")).className="message svelte-di7o7w"},m:function(e,t){o._mount(e,t),u(e,n,t),u(e,i,t),i.innerHTML=s},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),o._set(n)},d:function(e){o.destroy(e),e&&(l(n),l(i))}}}function ee(e,t){var n,i,s=A("publish / progress / unpublishing"),r={assetURL:t.assetURL,icon:"cloud-sync",color:"#858585",size:"30px"},o=new B({root:e.root,store:e.store,data:r});return{c:function(){o._fragment.c(),n=v("\n    "),(i=b("div")).className="message svelte-di7o7w"},m:function(e,t){o._mount(e,t),u(e,n,t),u(e,i,t),i.innerHTML=s},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),o._set(n)},d:function(e){o.destroy(e),e&&(l(n),l(i))}}}function te(e,t){var n;function i(e){return e.publishing?re:se}var s=i(t),r=s(e,t);return{c:function(){n=b("span"),r.c(),n.className="button-publish svelte-di7o7w",U(n,"is-publishing",t.publishing)},m:function(e,t){u(e,n,t),r.m(n,null)},p:function(t,o){s===(s=i(o))&&r?r.p(t,o):(r.d(1),(r=s(e,o)).c(),r.m(n,null)),t.publishing&&U(n,"is-publishing",o.publishing)},d:function(e){e&&l(n),r.d()}}}function ne(e,t){var n;function i(e){return e.publishing?ae:oe}var s=i(t),r=s(e,t);return{c:function(){n=b("span"),r.c(),n.className="button-republish"},m:function(e,t){u(e,n,t),r.m(n,null)},p:function(t,o){s===(s=i(o))&&r?r.p(t,o):(r.d(1),(r=s(e,o)).c(),r.m(n,null))},d:function(e){e&&l(n),r.d()}}}function ie(e,t){var n,i,r=A("publish / unpublishing-btn");return{c:function(){n=b("span"),i=v(r),n.className="title"},m:function(e,t){u(e,n,t),a(n,i)},p:s,d:function(e){e&&l(n)}}}function se(e,t){var n,i,s,r=A("publish / publish-btn"),o={assetURL:t.assetURL,icon:"cloud-upload",size:"30px",color:"#ffffff",class:"cloud"},c=new B({root:e.root,store:e.store,data:o});return{c:function(){c._fragment.c(),n=v("\n                "),i=b("span"),s=v(r)},m:function(e,t){c._mount(e,t),u(e,n,t),u(e,i,t),a(i,s)},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),c._set(n)},d:function(e){c.destroy(e),e&&(l(n),l(i))}}}function re(e,t){var n,i,s,r=A("publish / publishing-btn"),o={assetURL:t.assetURL,icon:"refresh",spin:!0,size:"28px",color:"#ffffff",valign:"middle",class:"mr-1"},c=new B({root:e.root,store:e.store,data:o});return{c:function(){c._fragment.c(),n=v("\n                "),i=b("span"),s=v(r)},m:function(e,t){c._mount(e,t),u(e,n,t),u(e,i,t),a(i,s)},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),c._set(n)},d:function(e){c.destroy(e),e&&(l(n),l(i))}}}function oe(e,t){var n,i,s,r=A("publish / republish-btn"),o={assetURL:t.assetURL,icon:"refresh",size:"28px",color:"#ffffff",valign:"middle",class:"mr-1"},c=new B({root:e.root,store:e.store,data:o});return{c:function(){c._fragment.c(),n=v("\n                "),i=b("span"),s=v(r)},m:function(e,t){c._mount(e,t),u(e,n,t),u(e,i,t),a(i,s)},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),c._set(n)},d:function(e){c.destroy(e),e&&(l(n),l(i))}}}function ae(e,t){var n,i,s,r=A("publish / publishing-btn"),o={assetURL:t.assetURL,icon:"refresh",spin:!0,size:"28px",color:"#ffffff",valign:"middle",class:"mr-1"},c=new B({root:e.root,store:e.store,data:o});return{c:function(){c._fragment.c(),n=v("\n                "),i=b("span"),s=v(r)},m:function(e,t){c._mount(e,t),u(e,n,t),u(e,i,t),a(i,s)},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),c._set(n)},d:function(e){c.destroy(e),e&&(l(n),l(i))}}}function ue(e,t){for(var n,i=t.progress,s=[],r=0;r<i.length;r+=1)s[r]=pe(e,$(t,i,r));return{c:function(){n=b("ul");for(var e=0;e<s.length;e+=1)s[e].c();n.className="publish-progress unstyled svelte-di7o7w"},m:function(e,t){u(e,n,t);for(var i=0;i<s.length;i+=1)s[i].m(n,null)},p:function(t,r){if(t.progress||t.assetURL){i=r.progress;for(var o=0;o<i.length;o+=1){var a=$(r,i,o);s[o]?s[o].p(t,a):(s[o]=pe(e,a),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}},d:function(e){e&&l(n),h(s,e)}}}function le(e,t){var n={assetURL:t.assetURL,icon:"loading-spinner",size:"18px",valign:"middle",class:"mr-2",spin:!0,timing:"steps(12)",duration:"1.5s"},i=new B({root:e.root,store:e.store,data:n});return{c:function(){i._fragment.c()},m:function(e,t){i._mount(e,t)},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),i._set(n)},d:function(e){i.destroy(e)}}}function ce(e,t){var n={assetURL:t.assetURL,icon:"check-circle",size:"18px",color:"#468847",valign:"middle",class:"mr-2"},i=new B({root:e.root,store:e.store,data:n});return{c:function(){i._fragment.c()},m:function(e,t){i._mount(e,t)},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),i._set(n)},d:function(e){i.destroy(e)}}}function pe(e,t){var n,i,s,r=A("publish / status / "+t.step);function o(e){return e.i<e.progress.length-1?ce:le}var p=o(t),d=p(e,t);return{c:function(){n=b("li"),d.c(),i=v(" "),s=b("noscript"),n.className="svelte-di7o7w"},m:function(e,t){u(e,n,t),d.m(n,null),a(n,i),a(n,s),s.insertAdjacentHTML("afterend",r)},p:function(t,a){p===(p=o(a))&&d?d.p(t,a):(d.d(1),(d=p(e,a)).c(),d.m(n,i)),t.progress&&r!==(r=A("publish / status / "+a.step))&&(c(s),s.insertAdjacentHTML("afterend",r))},d:function(e){e&&l(n),d.d()}}}function de(e,t){var n,i,s,r,o,c,p=A("publish / unpublish-intro"),d=A("publish / unpublish-btn"),h={assetURL:t.assetURL,icon:"undo",size:"1.2em",valign:"-0.2em"},f=new B({root:e.root,store:e.store,data:h});function m(t){e.unpublish()}return{c:function(){n=b("p"),i=b("noscript"),s=v("\n    "),r=b("button"),f._fragment.c(),o=v("\n        "),c=b("noscript"),_(r,"click",m),r.className="plain-link unpublish-button svelte-di7o7w",n.className="unpublish mt-2 mb-2 svelte-di7o7w"},m:function(e,t){u(e,n,t),a(n,i),i.insertAdjacentHTML("beforebegin",p),a(n,s),a(n,r),f._mount(r,null),a(r,o),a(r,c),c.insertAdjacentHTML("afterend",d)},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),f._set(n)},d:function(e){e&&l(n),f.destroy(),y(r,"click",m)}}}function he(e,t){var n,i=new V({root:e.root,store:e.store,slots:{default:f()},data:{type:"error",visible:"true",class:"mt-4 mb-5"}});return{c:function(){n=v(t.publishError),i._fragment.c()},m:function(e,t){a(i._slotted.default,n),i._mount(e,t)},p:function(e,t){e.publishError&&function(e,t){e.data=""+t}(n,t.publishError)},d:function(e){i.destroy(e)}}}function fe(e,t){var n,i,s,r=A("publish / publish-info-1"),o=A("publish / publish-info-2");return{c:function(){n=b("p"),i=v("\n"),s=b("p"),n.className="publish-info mt-4 svelte-di7o7w",s.className="publish-info mb-6 svelte-di7o7w"},m:function(e,t){u(e,n,t),n.innerHTML=r,u(e,i,t),u(e,s,t),s.innerHTML=o},d:function(e){e&&(l(n),l(i),l(s))}}}function be(e,t){var n;function i(e){return e.redirectDisabled?ve:me}var s=i(t),r=s(e,t);return{c:function(){n=b("div"),r.c(),n.className="embed-alert svelte-di7o7w"},m:function(e,t){u(e,n,t),r.m(n,null)},p:function(t,o){s===(s=i(o))&&r?r.p(t,o):(r.d(1),(r=s(e,o)).c(),r.m(n,null))},d:function(e){e&&l(n),r.d()}}}function me(e,t){var n,i,s=A("publish / update-embed"),r={assetURL:t.assetURL,icon:"info-circle",size:"20px",color:"#3a87ad"},o=new B({root:e.root,store:e.store,data:r});return{c:function(){o._fragment.c(),n=v("\n        "),(i=b("p")).className="embed-message svelte-di7o7w"},m:function(e,t){o._mount(e,t),u(e,n,t),u(e,i,t),i.innerHTML=s},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),o._set(n)},d:function(e){o.destroy(e),e&&(l(n),l(i))}}}function ve(e,t){var n,i,s=A("publish / replace-embed"),r={assetURL:t.assetURL,icon:"warning",size:"20px",color:"#FFB800"},o=new B({root:e.root,store:e.store,data:r});return{c:function(){o._fragment.c(),n=v("\n        "),(i=b("p")).className="embed-message svelte-di7o7w"},m:function(e,t){o._mount(e,t),u(e,n,t),u(e,i,t),i.innerHTML=s},p:function(e,t){var n={};e.assetURL&&(n.assetURL=t.assetURL),o._set(n)},d:function(e){o.destroy(e),e&&(l(n),l(i))}}}function ge(e){H(this,e),this._state=r({published:!1,publishing:!1,publishStarted:0,now:0,publishError:!1,publishSuccess:!1,needsRepublish:!1,progress:[],redirectDisabled:!1,publicVersion:0,assetURL:null},e.data),this._recompute({publishStarted:1,now:1,progress:1,publishing:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,i,s,r,o,c,p,d,h,m,w;function L(e){return e.unpublishing?ee:e.unpublished?Y:e.published||e.publishing?e.publishing?Z:e.needsRepublish&&!e.publishing?X:e.published&&e.publishSuccess&&!e.needsRepublish?K:e.published&&!e.needsRepublish?J:void 0:Q}var T=L(t),R=T&&T(e,t);function N(e){return e.unpublishing?ie:e.published?ne:te}var S=N(t),x=S(e,t);function k(t){e.publish()}var O=t.publishing&&t.publishWait>3e3&&ue(e,t),H=t.published&&!t.publishing&&!t.unpublishing&&de(e,t),C=t.publishError&&he(e,t),M=!t.published&&!t.unpublished&&fe(),E=t.published&&t.publishSuccess&&t.publicVersion>1&&be(e,t),z={type:t.redirectDisabled?"warning":"info",visible:t.published&&t.publishSuccess&&t.publicVersion>1,class:"mt-4 mb-4"},j=new V({root:e.root,store:e.store,slots:{default:f()},data:z});return{c:function(){n=b("div"),R&&R.c(),i=v("\n\n    "),s=b("div"),r=b("button"),x.c(),c=v("\n\n    \n    "),O&&O.c(),p=v("\n\n\n"),H&&H.c(),d=v("\n\n\n"),C&&C.c(),h=v("\n\n\n"),M&&M.c(),m=v("\n\n\n"),E&&E.c(),w=g(),j._fragment.c(),_(r,"click",k),r.disabled=o=t.publishing||t.unpublishing,r.className="button-wrapper svelte-di7o7w",U(r,"is-unpublishing",t.unpublishing),s.className="action svelte-di7o7w",n.className="publish-status svelte-di7o7w",U(n,"is-busy",t.publishing||t.unpublishing),U(n,"is-published",t.published&&!t.unpublishing&&!t.publishing&&!t.needsRepublish&&!t.publishSuccess),U(n,"alert",t.needsRepublish&&!t.publishing),U(n,"alert-success",t.publishSuccess)},m:function(e,t){u(e,n,t),R&&R.m(n,null),a(n,i),a(n,s),a(s,r),x.m(r,null),a(n,c),O&&O.m(n,null),u(e,p,t),H&&H.m(e,t),u(e,d,t),C&&C.m(e,t),u(e,h,t),M&&M.m(e,t),u(e,m,t),E&&E.m(j._slotted.default,null),a(j._slotted.default,w),j._mount(e,t)},p:function(t,s){T===(T=L(s))&&R?R.p(t,s):(R&&R.d(1),(R=T&&T(e,s))&&R.c(),R&&R.m(n,i)),S===(S=N(s))&&x?x.p(t,s):(x.d(1),(x=S(e,s)).c(),x.m(r,null)),(t.publishing||t.unpublishing)&&o!==(o=s.publishing||s.unpublishing)&&(r.disabled=o),t.unpublishing&&U(r,"is-unpublishing",s.unpublishing),s.publishing&&s.publishWait>3e3?O?O.p(t,s):((O=ue(e,s)).c(),O.m(n,null)):O&&(O.d(1),O=null),(t.publishing||t.unpublishing)&&U(n,"is-busy",s.publishing||s.unpublishing),(t.published||t.unpublishing||t.publishing||t.needsRepublish||t.publishSuccess)&&U(n,"is-published",s.published&&!s.unpublishing&&!s.publishing&&!s.needsRepublish&&!s.publishSuccess),(t.needsRepublish||t.publishing)&&U(n,"alert",s.needsRepublish&&!s.publishing),t.publishSuccess&&U(n,"alert-success",s.publishSuccess),!s.published||s.publishing||s.unpublishing?H&&(H.d(1),H=null):H?H.p(t,s):((H=de(e,s)).c(),H.m(d.parentNode,d)),s.publishError?C?C.p(t,s):((C=he(e,s)).c(),C.m(h.parentNode,h)):C&&(C.d(1),C=null),s.published||s.unpublished?M&&(M.d(1),M=null):M||((M=fe()).c(),M.m(m.parentNode,m)),s.published&&s.publishSuccess&&s.publicVersion>1?E?E.p(t,s):((E=be(e,s)).c(),E.m(w.parentNode,w)):E&&(E.d(1),E=null);var a={};t.redirectDisabled&&(a.type=s.redirectDisabled?"warning":"info"),(t.published||t.publishSuccess||t.publicVersion)&&(a.visible=s.published&&s.publishSuccess&&s.publicVersion>1),j._set(a)},d:function(e){e&&l(n),R&&R.d(),x.d(),y(r,"click",k),O&&O.d(),e&&l(p),H&&H.d(e),e&&l(d),C&&C.d(e),e&&l(h),M&&M.d(e),e&&l(m),E&&E.d(),j.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),k(this))}r(ge.prototype,E),r(ge.prototype,G),ge.prototype._recompute=function(e,t){var n,i,s,r,o,a;(e.publishStarted||e.now)&&this._differs(t.publishWait,t.publishWait=(i=(n=t).publishStarted,s=n.now,i>0?s-i:0))&&(e.publishWait=!0),(e.progress||e.publishing)&&this._differs(t.publishSuccess,t.publishSuccess=(o=(r=t).progress,a=r.publishing,o&&o.includes("done")&&!a))&&(e.publishSuccess=!0)};var _e={};function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(_e[e]=window.__dw.vis.meta.locale||{}):_e[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function we(e){var t=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(e=e.trim(),_e[n]||ye(n),!_e[n][e])return"MISSING:"+e;var i=_e[n][e];return"string"==typeof i&&arguments.length>2&&(i=i.replace(/\$(\d)/g,(function(e,n){return n=2+Number(n),void 0===t[n]?e:t[n]}))),i}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ne(e,t,n){return(Ne=Re()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var s=new(Function.bind.apply(e,i));return n&&Le(s,n.prototype),s}).apply(null,arguments)}function Se(e){var t="function"==typeof Map?new Map:void 0;return(Se=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return Ne(e,arguments,Ue(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Le(i,e)})(e)}function xe(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n,i,s={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var ke={exports:{}};
/*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   */!function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function s(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},s.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in r)r[u]&&(a+="; "+u,!0!==r[u]&&(a+="="+r[u].split(";")[0]));return document.cookie=t+"="+n+a}}function o(e,n){if("undefined"!=typeof document){for(var s={},r=document.cookie?document.cookie.split("; "):[],o=0;o<r.length;o++){var a=r[o].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=t(a[0]);if(u=(i.read||i)(u,l)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(s[l]=u,e===l)break}catch(e){}}return e?s[e]:s}}return s.set=r,s.get=function(e){return o(e,!1)},s.getJSON=function(e){return o(e,!0)},s.remove=function(t,n){r(t,"",e(n,{expires:-1}))},s.defaults={},s.withConverter=n,s}((function(){}))},e.exports=n()}(ke);var Oe=ke.exports;function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ue(e);if(t){var s=Ue(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Te(this,n)}}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=new Set(["get","head","options","trace"]);function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.fetch)try{t.fetch=window.fetch}catch(e){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!t.baseUrl)try{t.baseUrl="//".concat(window.dw.backend.__api_domain)}catch(e){throw new Error("Neither options.baseUrl nor window.dw is defined.")}var n,i=Me(Me({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},t),{},{headers:Me({"Content-Type":"application/json"},t.headers)}),s=i.payload,r=i.baseUrl,o=i.fetch,a=i.raw,u=xe(i,["payload","baseUrl","fetch","raw"]),l="".concat(r.replace(/\/$/,""),"/").concat(e.replace(/^\//,""));if(s&&(u.body=JSON.stringify(s)),Ee.has(u.method.toLowerCase()))n=o(l,u);else{var c=Oe.get("crumb");c?(u.headers["X-CSRF-Token"]=c,n=o(l,u)):n=ze("/v3/me",{fetch:o,baseUrl:r}).then((function(){var e=Oe.get("crumb");e&&(u.headers["X-CSRF-Token"]=e)})).catch((function(){})).then((function(){return o(l,u)}))}return n.then((function(e){if(a)return e;if(!e.ok)throw new Ae(e);if(204===e.status||!e.headers.get("content-type"))return e;var t=e.headers.get("content-type").split(";")[0];return"application/json"===t?e.json():"image/png"===t||"application/pdf"===t?e.blob():e.text()}))}function je(e){return function(t,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(e.toLowerCase(),"()"));return ze(t,Me(Me({},n),{},{method:e}))}}ze.get=je("GET"),ze.patch=je("PATCH"),ze.put=je("PUT"),ze.post=je("POST"),ze.head=je("HEAD"),ze.delete=je("DELETE");var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(n,e);var t=He(n);function n(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=t.call(this)).name="HttpReqError",i.status=e.status,i.statusText=e.statusText,i.message="[".concat(e.status,"] ").concat(e.statusText),i.response=e,i}return n}(Se(Error));function De(e,t,n,i){window._paq&&window._paq.push(["trackEvent",e,t,n,i])}function Be(e,t){var n,i,s,r,o,d,h,f,m,L,T,U,R,N,S,x,k,O,H=e._slotted.default,C=new B({root:e.root,store:e.store,data:{icon:"close",size:"20px"}});function M(t){e.dismiss()}function E(t){e.dismiss()}var z=t.confirmButtonIcon&&Pe(e,t);function j(t){e.confirm()}function A(t){t.stopPropagation(),e.fire("keyup",t)}function D(t){e.dismiss()}return{c:function(){n=b("div"),i=b("div"),s=b("button"),C._fragment.c(),r=v("\n        "),o=b("div"),d=b("h1"),h=v("\n            "),L=v("\n            "),T=b("div"),U=b("button"),R=v("\n                "),N=b("button"),z&&z.c(),S=v(" "),x=b("noscript"),k=v("\n"),O=b("div"),_(s,"click",M),s.type="button",s.className="close svelte-1f9lfqa",w(s,"aria-label",t.backButtonText),d.className="modal-title mb-4 svelte-1f9lfqa",_(U,"click",E),U.className="btn back svelte-1f9lfqa",_(N,"click",j),N.className="btn btn-danger svelte-1f9lfqa",T.className="actions pt-4 mt-4 svelte-1f9lfqa",o.className="modal-content svelte-1f9lfqa",_(i,"keyup",A),i.className="modal-body",n.className="modal",_(O,"click",D),O.className="modal-backdrop"},m:function(e,l){u(e,n,l),a(n,i),a(i,s),C._mount(s,null),a(i,r),a(i,o),a(o,d),d.innerHTML=t.title,a(o,h),H&&(a(o,f||(f=g())),a(o,H),a(o,m||(m=g()))),a(o,L),a(o,T),a(T,U),U.innerHTML=t.backButtonText,a(T,R),a(T,N),z&&z.m(N,null),a(N,S),a(N,x),x.insertAdjacentHTML("afterend",t.confirmButtonText),u(e,k,l),u(e,O,l)},p:function(t,n){t.backButtonText&&w(s,"aria-label",n.backButtonText),t.title&&(d.innerHTML=n.title),t.backButtonText&&(U.innerHTML=n.backButtonText),n.confirmButtonIcon?z?z.p(t,n):((z=Pe(e,n)).c(),z.m(N,S)):z&&(z.d(1),z=null),t.confirmButtonText&&(c(x),x.insertAdjacentHTML("afterend",n.confirmButtonText))},d:function(e){e&&l(n),C.destroy(),y(s,"click",M),H&&(p(f,m,H),l(f),l(m)),y(U,"click",E),z&&z.d(),y(N,"click",j),y(i,"keyup",A),e&&(l(k),l(O)),y(O,"click",D)}}}function Pe(e,t){var n={icon:t.confirmButtonIcon,class:"mr-1",size:"1.3em",valign:"-0.3em"},i=new B({root:e.root,store:e.store,data:n});return{c:function(){i._fragment.c()},m:function(e,t){i._mount(e,t)},p:function(e,t){var n={};e.confirmButtonIcon&&(n.icon=t.confirmButtonIcon),i._set(n)},d:function(e){i.destroy(e)}}}function Ie(e){H(this,e),this._state=r({title:"Title",confirmButtonText:"Confirm",confirmButtonIcon:!1,backButtonText:"Back",open:!1},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n;function i(t){e.handleKeystroke(t.key)}window.addEventListener("keydown",i);var s=t.open&&Be(e,t);return{c:function(){s&&s.c(),n=g()},m:function(e,t){s&&s.m(e,t),u(e,n,t)},p:function(t,i){i.open?s?s.p(t,i):((s=Be(e,i)).c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d:function(e){window.removeEventListener("keydown",i),s&&s.d(e),e&&l(n)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),k(this))}r(Ie.prototype,E),r(Ie.prototype,{open:function(){this.set({open:!0})},dismiss:function(){this.set({open:!1}),this.fire("dismiss")},confirm:function(){this.set({open:!1}),this.fire("confirm")},handleKeystroke:function(e){this.get().open&&"Escape"===e&&this.dismiss()}});var We={show:function(){var e=this,t=setTimeout((function(){e.set({visible:!0})}),400);this.set({t:t})},hide:function(){var e=this.get().t;clearTimeout(e),this.set({visible:!1})}};function qe(e,t){var n,i,s,r,o,c=e._slotted.default,p="help"===t.type&&Fe(),h="upgrade-info"===t.type&&Ve();return{c:function(){n=b("div"),p&&p.c(),i=v(" "),h&&h.c(),s=v("\n        "),n.className=o="content "+t.type+" svelte-1qzgns1"},m:function(e,t){u(e,n,t),p&&p.m(n,null),a(n,i),h&&h.m(n,null),a(n,s),c&&(a(n,r||(r=g())),a(n,c))},p:function(e,t){"help"===t.type?p||((p=Fe()).c(),p.m(n,i)):p&&(p.d(1),p=null),"upgrade-info"===t.type?h||((h=Ve()).c(),h.m(n,s)):h&&(h.d(1),h=null),e.type&&o!==(o="content "+t.type+" svelte-1qzgns1")&&(n.className=o)},d:function(e){e&&l(n),p&&p.d(),h&&h.d(),c&&d(r,c)}}}function Fe(e,t){var n;return{c:function(){(n=b("i")).className="hat-icon im im-graduation-hat svelte-1qzgns1"},m:function(e,t){u(e,n,t)},d:function(e){e&&l(n)}}}function Ve(e,t){var n,i,s=A("upgrade-available");return{c:function(){n=b("div"),i=v(s),n.className="content-header svelte-1qzgns1"},m:function(e,t){u(e,n,t),a(n,i)},d:function(e){e&&l(n)}}}function Ge(e){H(this,e),this.refs={},this._state=r({visible:!1,class:"",type:"help",uid:""},e.data),this._recompute({type:1},this._state),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n,i,s,r,o,c=t.visible&&qe(e,t);function p(t){e.show()}function d(t){e.hide()}return{c:function(){n=b("div"),i=b("span"),r=v("\n    "),c&&c.c(),i.className=s="help-icon "+t.type+" svelte-1qzgns1",U(i,"visible",t.visible),_(n,"mouseenter",p),_(n,"mouseleave",d),n.className=o="help "+t.class+" "+t.type+" svelte-1qzgns1",n.dataset.uid=t.uid},m:function(s,o){u(s,n,o),a(n,i),i.innerHTML=t.helpIcon,a(n,r),c&&c.m(n,null),e.refs.helpDisplay=n},p:function(t,r){t.helpIcon&&(i.innerHTML=r.helpIcon),t.type&&s!==(s="help-icon "+r.type+" svelte-1qzgns1")&&(i.className=s),(t.type||t.visible)&&U(i,"visible",r.visible),r.visible?c?c.p(t,r):((c=qe(e,r)).c(),c.m(n,null)):c&&(c.d(1),c=null),(t.class||t.type)&&o!==(o="help "+r.class+" "+r.type+" svelte-1qzgns1")&&(n.className=o),t.uid&&(n.dataset.uid=r.uid)},d:function(t){t&&l(n),c&&c.d(),y(n,"mouseenter",p),y(n,"mouseleave",d),e.refs.helpDisplay===n&&(e.refs.helpDisplay=null)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}r(Ge.prototype,E),r(Ge.prototype,We),Ge.prototype._recompute=function(e,t){e.type&&this._differs(t.helpIcon,t.helpIcon="upgrade-info"===t.type?P:"?")&&(e.helpIcon=!0)};var $e="100px";function Je(e,t){var n,i={class:t.helpClass},s=new Ge({root:e.root,store:e.store,slots:{default:f()},data:i});return{c:function(){n=b("div"),s._fragment.c()},m:function(e,i){a(s._slotted.default,n),n.innerHTML=t.help,s._mount(e,i)},p:function(e,t){e.help&&(n.innerHTML=t.help);var i={};e.helpClass&&(i.class=t.helpClass),s._set(i)},d:function(e){s.destroy(e)}}}function Ke(e,t){var n,i,s,r=t.labelHelp&&Xe(e,t);return{c:function(){n=b("label"),i=b("noscript"),s=v(" "),r&&r.c(),T(n,"width",t.labelWidth||$e),n.className="control-label svelte-1ykzs2h",U(n,"disabled",t.disabled)},m:function(e,o){u(e,n,o),a(n,i),i.insertAdjacentHTML("beforebegin",t.label),a(n,s),r&&r.m(n,null)},p:function(t,s){t.label&&(!function(e){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling)}(i),i.insertAdjacentHTML("beforebegin",s.label)),s.labelHelp?r?r.p(t,s):((r=Xe(e,s)).c(),r.m(n,null)):r&&(r.d(1),r=null),t.labelWidth&&T(n,"width",s.labelWidth||$e),t.disabled&&U(n,"disabled",s.disabled)},d:function(e){e&&l(n),r&&r.d()}}}function Xe(e,t){var n;return{c:function(){(n=b("p")).className="mini-help mt-1"},m:function(e,i){u(e,n,i),n.innerHTML=t.labelHelp},p:function(e,t){e.labelHelp&&(n.innerHTML=t.labelHelp)},d:function(e){e&&l(n)}}}function Ze(e,t){var n,i;return{c:function(){T(n=b("p"),"padding-left",t.inline?0:t.labelWidth||$e),n.className=i="mt-1 mini-help "+t.type+" svelte-1ykzs2h",U(n,"mini-help-block",!t.inline)},m:function(e,i){u(e,n,i),n.innerHTML=t.miniHelp},p:function(e,t){e.miniHelp&&(n.innerHTML=t.miniHelp),(e.inline||e.labelWidth)&&T(n,"padding-left",t.inline?0:t.labelWidth||$e),e.type&&i!==(i="mt-1 mini-help "+t.type+" svelte-1ykzs2h")&&(n.className=i),(e.type||e.inline)&&U(n,"mini-help-block",!t.inline)},d:function(e){e&&l(n)}}}function Qe(e){var t,n,i,s,o,c,p,d,h,f,m,g;H(this,e),this._state=r({disabled:!1,help:!1,helpClass:!1,miniHelp:!1,label:!1,labelHelp:!1,inline:!1,labelWidth:!1,type:"default",valign:"baseline",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(t=this,n=this._state,h=t._slotted.default,f=n.help&&Je(t,n),m=n.label&&Ke(t,n),g=n.miniHelp&&Ze(0,n),{c:function(){f&&f.c(),i=v("\n\n"),s=b("div"),m&&m.c(),o=v("\n    "),c=b("div"),p=v("\n    "),g&&g.c(),c.className="controls svelte-1ykzs2h",T(c,"width","calc(100% - "+(n.labelWidth||$e)+" - 32px)"),U(c,"form-inline",n.inline),s.className=d="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-1ykzs2h",s.dataset.uid=n.uid},m:function(e,t){f&&f.m(e,t),u(e,i,t),u(e,s,t),m&&m.m(s,null),a(s,o),a(s,c),h&&a(c,h),a(s,p),g&&g.m(s,null)},p:function(e,n){n.help?f?f.p(e,n):((f=Je(t,n)).c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),n.label?m?m.p(e,n):((m=Ke(t,n)).c(),m.m(s,o)):m&&(m.d(1),m=null),e.labelWidth&&T(c,"width","calc(100% - "+(n.labelWidth||$e)+" - 32px)"),e.inline&&U(c,"form-inline",n.inline),n.miniHelp?g?g.p(e,n):((g=Ze(0,n)).c(),g.m(s,null)):g&&(g.d(1),g=null),(e.type||e.valign)&&d!==(d="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-1ykzs2h")&&(s.className=d),e.uid&&(s.dataset.uid=n.uid)},d:function(e){f&&f.d(e),e&&(l(i),l(s)),m&&m.d(),h&&function(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}(c,h),g&&g.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),k(this))}function Ye(e){var t=e.changed;e.previous&&t.value&&this.set({indeterminate:!1})}function et(e,t,n){var i=Object.create(e);return i.opt=t[n],i}function tt(e,t){var n,i=t.opt.help;return{c:function(){(n=b("div")).className="help svelte-b3e9e4"},m:function(e,t){u(e,n,t),n.innerHTML=i},p:function(e,t){e.options&&i!==(i=t.opt.help)&&(n.innerHTML=i)},d:function(e){e&&l(n)}}}function nt(e,t){var n,i,s,r,o,c,p,d,h,f=t.opt.label;function m(){e.set({value:i.__value})}var g=t.opt.help&&tt(0,t);return{c:function(){n=b("label"),i=b("input"),r=v("\n            "),o=b("span"),c=v("Â "),p=b("span"),d=v("\n            "),g&&g.c(),e._bindingGroups[0].push(i),_(i,"change",m),w(i,"type","radio"),i.__value=s=t.opt.value,i.value=i.__value,i.disabled=t.disabled,i.className="svelte-b3e9e4",o.className="css-ui svelte-b3e9e4",p.className="inner-label svelte-b3e9e4",n.title=h=t.opt.tooltip||"",n.className="svelte-b3e9e4",U(n,"disabled",t.disabled),U(n,"has-help",t.opt.help)},m:function(e,s){u(e,n,s),a(n,i),i.checked=i.__value===t.value,a(n,r),a(n,o),a(n,c),a(n,p),p.innerHTML=f,a(n,d),g&&g.m(n,null)},p:function(e,t){e.value&&(i.checked=i.__value===t.value),e.options&&s!==(s=t.opt.value)&&(i.__value=s),i.value=i.__value,e.disabled&&(i.disabled=t.disabled),e.options&&f!==(f=t.opt.label)&&(p.innerHTML=f),t.opt.help?g?g.p(e,t):((g=tt(0,t)).c(),g.m(n,null)):g&&(g.d(1),g=null),e.options&&h!==(h=t.opt.tooltip||"")&&(n.title=h),e.disabled&&U(n,"disabled",t.disabled),e.options&&U(n,"has-help",t.opt.help)},d:function(t){t&&l(n),e._bindingGroups[0].splice(e._bindingGroups[0].indexOf(i),1),y(i,"change",m),g&&g.d()}}}function it(e,t){var n;return{c:function(){(n=b("div")).className="disabled-message svelte-b3e9e4"},m:function(e,i){u(e,n,i),n.innerHTML=t.disabledMessage},p:function(e,t){e.disabledMessage&&(n.innerHTML=t.disabledMessage)},d:function(e){e&&l(n)}}}function st(e){var t=this;H(this,e),this._state=r({value:null,disabled:!1,disabledMessage:"",indeterminate:!1,label:"",labelWidth:"auto",help:null,miniHelp:null,valign:"top",inline:!0,uid:""},e.data),this._bindingGroups=[[]],this._intro=!0,this._handlers.state=[Ye],this._slotted=e.slots||{},Ye.call(this,{changed:o({},this._state),current:this._state}),this._fragment=function(e,t){for(var n,i,s,r,o,c=e._slotted.default,p=t.options,m=[],_=0;_<p.length;_+=1)m[_]=nt(e,et(t,p,_));var y={type:"radio",labelWidth:t.labelWidth,valign:t.valign,label:t.label,disabled:t.disabled,help:t.help,miniHelp:t.miniHelp,uid:t.uid},w=new Qe({root:e.root,store:e.store,slots:{default:f()},data:y}),L=t.disabled&&t.disabledMessage&&it(e,t);return{c:function(){n=b("div");for(var e=0;e<m.length;e+=1)m[e].c();i=v("\n    "),w._fragment.c(),r=v("\n\n"),L&&L.c(),o=g(),n.className="svelte-b3e9e4",U(n,"inline",t.inline),U(n,"indeterminate",t.indeterminate)},m:function(e,t){a(w._slotted.default,n);for(var l=0;l<m.length;l+=1)m[l].m(n,null);a(w._slotted.default,i),c&&(a(w._slotted.default,s||(s=g())),a(w._slotted.default,c)),w._mount(e,t),u(e,r,t),L&&L.m(e,t),u(e,o,t)},p:function(t,i){if(t.options||t.disabled||t.value){p=i.options;for(var s=0;s<p.length;s+=1){var r=et(i,p,s);m[s]?m[s].p(t,r):(m[s]=nt(e,r),m[s].c(),m[s].m(n,null))}for(;s<m.length;s+=1)m[s].d(1);m.length=p.length}t.inline&&U(n,"inline",i.inline),t.indeterminate&&U(n,"indeterminate",i.indeterminate);var a={};t.labelWidth&&(a.labelWidth=i.labelWidth),t.valign&&(a.valign=i.valign),t.label&&(a.label=i.label),t.disabled&&(a.disabled=i.disabled),t.help&&(a.help=i.help),t.miniHelp&&(a.miniHelp=i.miniHelp),t.uid&&(a.uid=i.uid),w._set(a),i.disabled&&i.disabledMessage?L?L.p(t,i):((L=it(e,i)).c(),L.m(o.parentNode,o)):L&&(L.d(1),L=null)},d:function(e){h(m,e),c&&d(s,c),w.destroy(e),e&&l(r),L&&L.d(e),e&&l(o)}}}(this,this._state),this.root._oncreate.push((function(){t.fire("update",{changed:o({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),k(this))}r(Qe.prototype,E),r(st.prototype,E);var rt=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,ot=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function at(e,t){if(null===e)return null;if(void 0!==e){if((e=String(e)).indexOf("<")<0&&e.indexOf(">")<0)return e;if(e=function(e,t){t=(((void 0!==t?t||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=e,i=e;for(;;)if(i=(n=i).replace(ot,"").replace(rt,(function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})),n===i)return i}(e,t),"undefined"==typeof document)return e;var n=document.createElement("div");n.innerHTML="<span>".concat(e,"</span>");for(var i=n.childNodes[0].querySelectorAll("*"),s=0;s<i.length;s++){"a"===i[s].nodeName.toLowerCase()&&("_self"!==i[s].getAttribute("target")&&i[s].setAttribute("target","_blank"),i[s].setAttribute("rel","nofollow noopener noreferrer"),i[s].getAttribute("href")&&i[s].getAttribute("href").trim().replace(/[^a-zA-Z0-9 -:]/g,"").startsWith("javascript:")&&i[s].setAttribute("href",""));for(var r=[],o=0;o<i[s].attributes.length;o++){var a=i[s].attributes[o];a.specified&&"on"===a.name.substr(0,2)&&r.push(a.name)}r.forEach((function(e){return i[s].removeAttribute(e)}))}return n.childNodes[0].innerHTML}}function ut(e){var t=e.shareurlType,n=e.id,i=e.publicUrl,s=e.metadata,r=e.pluginShareurls;if("default"===t)return i;var o="";return r.forEach((function(e){e.id===t&&(o=(o=e.url.replace(/%chart_id%/g,n)).replace(/%(.*?)%/g,(function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return e;for(var i=Array.isArray(t)?t:t.split("."),s=e,r=0;r<i.length&&null!=s;r++)s=s[i[r]];return null==s?n:s}({id:n,metadata:s},t)})))})),o}var lt={copy:function(e){var t=this,n=this.get(),i=n.embedCode,s=n.shareUrl,r="embedcode"===e?i:s,o=document.createElement("textarea");o.value=r,document.body.appendChild(o),o.select();try{if(document.execCommand("copy")){var a=this.get().copySuccess;a[e]=!0,this.set({copySuccess:a}),setTimeout((function(){a[e]=!1,t.set({copySuccess:a})}),2e3),De("Chart Editor","".concat(e,"-copy"))}}catch(e){console.error("Could not copy to clipboard.")}document.body.removeChild(o),this.refs[e].select()}};function ct(e){H(this,e),this.refs={},this._state=r({embedTemplates:[],pluginShareurls:[],pending:!1,shareurlType:"default",embedType:"responsive",copySuccess:{}},e.data),this._recompute({shareurlType:1,id:1,publicUrl:1,metadata:1,pluginShareurls:1,embedType:1,embedTemplates:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,i,s,r,o,c,p,d,h,f,m,g,L,T,R,N,S,x,k,O,H,C,M,E,z,j,A,D,P,I,W,q,F,V,G,$,J,K,X=we("publish / share-embed"),Z=we("publish / share-url"),Q=we("publish / copy-success"),Y={},ee=we("publish / embed"),te=we("publish / copy-success"),ne={},ie=we("publish / embed / explanation"),se=new B({root:e.root,store:e.store,data:{size:"30px",icon:"link",color:"#333333",class:"pt-5 pr-5"}});function re(e){this.select()}var oe=new B({root:e.root,store:e.store,data:{icon:"external-link",size:"15px",valign:"-3px"}}),ae=new B({root:e.root,store:e.store,data:{size:"18px",icon:"copy-to-clipboard",class:"pt-1"}});function ue(t){e.copy("shareurl")}var le={options:t.shareOptions,label:""};void 0!==t.shareurlType&&(le.value=t.shareurlType,Y.value=!0);var ce=new st({root:e.root,store:e.store,data:le,_bind:function(t,n){var i={};!Y.value&&t.value&&(i.shareurlType=n.value),e._set(i),Y={}}});e.root._beforecreate.push((function(){ce._bind({value:1},ce.get())}));var pe=new B({root:e.root,store:e.store,data:{size:"30px",icon:"source-code",color:"#333333",class:"pt-5 pr-5",valign:"bottom"}});function de(e){this.select()}var he=new B({root:e.root,store:e.store,data:{size:"18px",icon:"copy-to-clipboard",class:"pt-1"}});function fe(t){e.copy("embedcode")}var be={options:t.embedOptions,label:""};void 0!==t.embedType&&(be.value=t.embedType,ne.value=!0);var me=new st({root:e.root,store:e.store,data:be,_bind:function(t,n){var i={};!ne.value&&t.value&&(i.embedType=n.value),e._set(i),ne={}}});return e.root._beforecreate.push((function(){me._bind({value:1},me.get())})),{c:function(){n=b("div"),i=b("h2"),s=v("\n    "),r=b("div"),se._fragment.c(),o=v("\n        "),c=b("div"),p=b("label"),d=v("\n            "),h=b("div"),f=b("div"),m=b("input"),g=v("\n                    "),L=b("a"),oe._fragment.c(),T=v("\n                        "),(R=b("span")).textContent="Open",N=v("\n                "),S=b("button"),ae._fragment.c(),x=v("\n                "),k=b("span"),O=v(Q),H=v("\n            "),ce._fragment.c(),C=v("\n\n    "),M=b("div"),pe._fragment.c(),E=v("\n        "),z=b("div"),j=b("label"),A=v("\n            "),D=b("div"),P=b("div"),I=b("input"),W=v("\n                "),q=b("button"),he._fragment.c(),F=v("\n                "),V=b("span"),G=v(te),$=v("\n\n            "),me._fragment.c(),J=v("\n\n            "),K=b("p"),p.htmlFor="share-url",p.className="svelte-1tny3g8",_(m,"focus",re),w(m,"type","text"),m.id="share-url",m.className="passive-input svelte-1tny3g8",m.value=t.shareUrl,m.readOnly=!0,L.target="_blank",L.className="btn btn-primary svelte-1tny3g8",L.href=t.shareUrl,f.className="copy-preview share-url svelte-1tny3g8",_(S,"click",ue),S.className="btn copy-button svelte-1tny3g8",S.title=we("publish / copy"),k.className="copy-success svelte-1tny3g8",U(k,"show",t.copySuccess.shareurl),h.className="copy-group svelte-1tny3g8",c.className="share-embed-item svelte-1tny3g8",r.className="share-embed-block svelte-1tny3g8",j.htmlFor="embed-code",j.className="svelte-1tny3g8",_(I,"focus",de),w(I,"type","text"),I.id="embed-code",I.className="passive-input svelte-1tny3g8",I.value=t.embedCode,I.readOnly=!0,P.className="copy-preview embed-code svelte-1tny3g8",_(q,"click",fe),q.className="btn copy-button svelte-1tny3g8",q.title=we("publish / copy"),V.className="copy-success svelte-1tny3g8",U(V,"show",t.copySuccess.embedcode),D.className="copy-group svelte-1tny3g8",K.className="embed-explanation svelte-1tny3g8",z.className="share-embed-item svelte-1tny3g8",M.className="share-embed-block svelte-1tny3g8",n.className="share-embed svelte-1tny3g8",U(n,"pending",t.pending)},m:function(t,l){u(t,n,l),a(n,i),i.innerHTML=X,a(n,s),a(n,r),se._mount(r,null),a(r,o),a(r,c),a(c,p),p.innerHTML=Z,a(c,d),a(c,h),a(h,f),a(f,m),e.refs.shareurl=m,a(f,g),a(f,L),oe._mount(L,null),a(L,T),a(L,R),a(h,N),a(h,S),ae._mount(S,null),a(h,x),a(h,k),a(k,O),a(c,H),ce._mount(c,null),a(n,C),a(n,M),pe._mount(M,null),a(M,E),a(M,z),a(z,j),j.innerHTML=ee,a(z,A),a(z,D),a(D,P),a(P,I),e.refs.embedcode=I,a(D,W),a(D,q),he._mount(q,null),a(D,F),a(D,V),a(V,G),a(z,$),me._mount(z,null),a(z,J),a(z,K),K.innerHTML=ie},p:function(e,i){t=i,e.shareUrl&&(m.value=t.shareUrl,L.href=t.shareUrl),e.copySuccess&&U(k,"show",t.copySuccess.shareurl);var s={};e.shareOptions&&(s.options=t.shareOptions),!Y.value&&e.shareurlType&&(s.value=t.shareurlType,Y.value=void 0!==t.shareurlType),ce._set(s),Y={},e.embedCode&&(I.value=t.embedCode),e.copySuccess&&U(V,"show",t.copySuccess.embedcode);var r={};e.embedOptions&&(r.options=t.embedOptions),!ne.value&&e.embedType&&(r.value=t.embedType,ne.value=void 0!==t.embedType),me._set(r),ne={},e.pending&&U(n,"pending",t.pending)},d:function(t){t&&l(n),se.destroy(),y(m,"focus",re),e.refs.shareurl===m&&(e.refs.shareurl=null),oe.destroy(),ae.destroy(),y(S,"click",ue),ce.destroy(),pe.destroy(),y(I,"focus",de),e.refs.embedcode===I&&(e.refs.embedcode=null),he.destroy(),y(q,"click",fe),me.destroy()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),k(this))}r(ct.prototype,E),r(ct.prototype,lt),ct.prototype._recompute=function(e,t){var i,s,r,o,a,u,l;(e.shareurlType||e.id||e.publicUrl||e.metadata||e.pluginShareurls)&&this._differs(t.shareUrl,t.shareUrl=ut(t))&&(e.shareUrl=!0),(e.embedType||e.publicUrl||e.metadata)&&this._differs(t.embedCode,t.embedCode=(s=(i=t).embedType,r=i.publicUrl,(o=i.metadata)?o.publish&&!o.publish["embed-codes"]?'<iframe src="'.concat(r,'" width="100%" height="').concat(o.publish["embed-height"],'" scrolling="no" frameborder="0" allowtransparency="true"></iframe>'):o.publish["embed-codes"]["embed-method-"+s]?o.publish["embed-codes"]["embed-method-"+s]:"":""))&&(e.embedCode=!0),e.pluginShareurls&&this._differs(t.shareOptions,t.shareOptions=(a=t.pluginShareurls,u={label:we("publish / share-url / fullscreen"),value:"default",help:we("publish / help / share-url / fullscreen")},l=a.map((function(e){var t=e.name,n=e.id;return{label:t,value:n,help:we("publish / help / share-url / ".concat(n))}})),[u].concat(n(l))))&&(e.shareOptions=!0),e.embedTemplates&&this._differs(t.embedOptions,t.embedOptions=t.embedTemplates.map((function(e){var t=e.title,n=e.id,i=e.text;return{label:at(t),value:at(n),help:at(i)}})))&&(e.embedOptions=!0)};var pt=!0;var dt={publish:function(){var e=this,t=this;if(window.chart.save){var n=t.get().chart;t.set({publishing:!0,publishStarted:(new Date).getTime(),now:(new Date).getTime(),progress:[],unpublished:!1,publish_error:!1}),t.set({chart:n}),De("Chart Editor","publish"),window.chart.attributes(n).save().then((function(){e.set({statusUrl:"/v3/charts/".concat(n.id,"/publish/status/").concat(n.publicVersion)}),ze.post("/v3/charts/".concat(n.id,"/publish")).then((function(){ze.get("/v3/charts/".concat(n.id)).then((function(e){De("Chart Editor","publish-success"),t.publishFinished(e)}))})).catch((function(t){e.set({publish_error:t.message,publishing:!1,progress:[]}),De("Chart Editor","publish-error",t.message)})),setTimeout((function(){t.get().publishing&&t.updateStatus()}),1e3)}))}else setTimeout((function(){t.publish()}),100)},unpublish:function(){var e=this,t=this.get().chart;this.set({progress:[],unpublishing:!0,needs_republish:!1}),ze.post("/v3/charts/".concat(t.id,"/unpublish")).then((function(){ze.get("/v3/charts/".concat(t.id)).then((function(t){e.set({chart:t}),De("Chart Editor","unpublish-success"),setTimeout((function(){e.set({published:!1,unpublishing:!1,unpublished:!0})}),1e3)}))})).catch((function(t){e.set({publish_error:t.message,unpublishing:!1}),De("Chart Editor","unpublish-error",t.message)}))},requestUnpublishConfirmation:function(){this.set({publish_error:null}),this.refs.confirmationModal.open()},updateStatus:function(){var e=this,t=this.get().statusUrl;t&&ze.get(t).then((function(t){e.set({progress:t.progress||[],now:(new Date).getTime()}),e.get().publishing&&setTimeout((function(){e.updateStatus()}),500)}))},publishFinished:function(e){this.set({progress:["done"],published:!0,publishStarted:0,needs_republish:!1,publishing:!1,chart:e}),window.parent.postMessage({source:"datawrapper",type:"chart-publish",chartId:e.id},"*"),window.chart.attributes(e)}};function ht(e){var t=e.changed,n=e.current,i=window.dw&&window.dw.backend&&window.dw.backend.setUserData;if(t.embedType&&i){var s=window.dw.backend.__userData;if(!n.embedType||!s)return;s.embed_type=n.embedType,window.dw.backend.setUserData(s)}if(t.shareurl_type&&i){var r=window.dw.backend.__userData;if(!n.shareurlType||!r)return;r.shareurl_type=n.shareurlType,window.dw.backend.setUserData(r)}t.published&&window.document.querySelector(".dw-create-publish .publish-step").classList[n.published?"add":"remove"]("is-published"),t.auto_publish&&n.auto_publish&&pt&&(this.publish(),pt=!1,window.history.replaceState("","",window.location.pathname))}function ft(e,t){var n={pluginShareurls:t.pluginShareurls,embedTemplates:t.embedTemplates,pending:t.publishing||t.unpublishing,shareurlType:t.shareurlType,embedType:t.embedType,metadata:t.chart.metadata,id:t.chart.id,publicUrl:t.chart.publicUrl},i=new ct({root:e.root,store:e.store,data:n});return{c:function(){i._fragment.c()},m:function(e,t){i._mount(e,t)},p:function(e,t){var n={};e.pluginShareurls&&(n.pluginShareurls=t.pluginShareurls),e.embedTemplates&&(n.embedTemplates=t.embedTemplates),(e.publishing||e.unpublishing)&&(n.pending=t.publishing||t.unpublishing),e.shareurlType&&(n.shareurlType=t.shareurlType),e.embedType&&(n.embedType=t.embedType),e.chart&&(n.metadata=t.chart.metadata),e.chart&&(n.id=t.chart.id),e.chart&&(n.publicUrl=t.chart.publicUrl),i._set(n)},d:function(e){i.destroy(e)}}}function bt(e){var t=this;H(this,e),this.refs={},this._state=r({chart:{id:""},embedTemplates:[],pluginShareurls:[],published:!1,publishing:!1,publishStarted:0,unpublished:!1,unpublishing:!1,needs_republish:!1,publish_error:!1,auto_publish:!1,progress:[],shareurlType:"default",embedType:"responsive",statusUrl:!1,redirect_disabled:!1},e.data),this._recompute({publishStarted:1,now:1},this._state),this._intro=!0,this._handlers.state=[ht],ht.call(this,{changed:o({},this._state),current:this._state}),this._fragment=function(e,t){var n,i,s,r,o,c=we("publish / title"),p=we("publish / unpublish-confirmation / explanation"),d={published:t.published,publishing:t.publishing,publishStarted:t.publishStarted,now:t.now,progress:t.progress,unpublished:t.unpublished,unpublishing:t.unpublishing,redirectDisabled:t.redirect_disabled,needsRepublish:t.needs_republish,publishError:t.publish_error,publicVersion:t.chart.publicVersion},h=new ge({root:e.root,store:e.store,data:d});h.on("publish",(function(t){e.publish()})),h.on("unpublish",(function(t){e.requestUnpublishConfirmation()}));var m=t.published&&ft(e,t),g={confirmButtonText:we("publish / unpublish-confirmation / unpublish"),confirmButtonIcon:"undo",backButtonText:we("publish / unpublish-confirmation / back"),title:we("publish / unpublish-confirmation / title")},_=new Ie({root:e.root,store:e.store,slots:{default:f()},data:g});return _.on("confirm",(function(t){e.unpublish()})),e.refs.confirmationModal=_,{c:function(){n=b("h2"),i=v("\n\n"),h._fragment.c(),s=v("\n\n"),m&&m.c(),r=v("\n\n"),o=b("p"),_._fragment.c()},m:function(e,t){u(e,n,t),n.innerHTML=c,u(e,i,t),h._mount(e,t),u(e,s,t),m&&m.m(e,t),u(e,r,t),a(_._slotted.default,o),o.innerHTML=p,_._mount(e,t)},p:function(t,n){var i={};t.published&&(i.published=n.published),t.publishing&&(i.publishing=n.publishing),t.publishStarted&&(i.publishStarted=n.publishStarted),t.now&&(i.now=n.now),t.progress&&(i.progress=n.progress),t.unpublished&&(i.unpublished=n.unpublished),t.unpublishing&&(i.unpublishing=n.unpublishing),t.redirect_disabled&&(i.redirectDisabled=n.redirect_disabled),t.needs_republish&&(i.needsRepublish=n.needs_republish),t.publish_error&&(i.publishError=n.publish_error),t.chart&&(i.publicVersion=n.chart.publicVersion),h._set(i),n.published?m?m.p(t,n):((m=ft(e,n)).c(),m.m(r.parentNode,r)):m&&(m.d(1),m=null)},d:function(t){t&&(l(n),l(i)),h.destroy(t),t&&l(s),m&&m.d(t),t&&l(r),_.destroy(t),e.refs.confirmationModal===_&&(e.refs.confirmationModal=null)}}}(this,this._state),this.root._oncreate.push((function(){t.fire("update",{changed:o({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),k(this))}function mt(e,t){this._handlers={},this._dependents=[],this._computed=R(),this._sortedComputedProperties=[],this._state=r({},e),this._differs=t&&t.immutable?S:N}r(bt.prototype,E),r(bt.prototype,dt),bt.prototype._recompute=function(e,t){var n,i,s;(e.publishStarted||e.now)&&this._differs(t.publishWait,t.publishWait=(i=(n=t).publishStarted,s=n.now,i>0?s-i:0))&&(e.publishWait=!0)},r(mt.prototype,{_add:function(e,t){this._dependents.push({component:e,props:t})},_init:function(e){for(var t={},n=0;n<e.length;n+=1){var i=e[n];t["$"+i]=this._state[i]}return t},_remove:function(e){for(var t=this._dependents.length;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set:function(e,t){var n=this,i=this._state;this._state=r(r({},i),e);for(var s=0;s<this._sortedComputedProperties.length;s+=1)this._sortedComputedProperties[s].update(this._state,t);this.fire("state",{changed:t,previous:i,current:this._state}),this._dependents.filter((function(e){for(var i={},s=!1,r=0;r<e.props.length;r+=1){var o=e.props[r];o in t&&(i["$"+o]=n._state[o],s=!0)}if(s)return e.component._stage(i),!0})).forEach((function(e){e.component.set({})})),this.fire("update",{changed:t,previous:i,current:this._state})},_sortComputedProperties:function(){var e,t=this._computed,n=this._sortedComputedProperties=[],i=R();function s(r){var o=t[r];o&&(o.deps.forEach((function(t){if(t===e)throw new Error("Cyclical dependency detected between ".concat(t," <-> ").concat(r));s(t)})),i[r]||(i[r]=!0,n.push(o)))}for(var r in this._computed)s(e=r)},compute:function(e,t,n){var i,s=this,o={deps:t,update:function(r,o,a){var u=t.map((function(e){return e in o&&(a=!0),r[e]}));if(a){var l=n.apply(null,u);s._differs(l,i)&&(i=l,o[e]=!0,r[e]=i)}}};this._computed[e]=o,this._sortComputedProperties();var a=r({},this._state),u={};o.update(a,u,!0),this._set(a,u)},fire:x,get:O,on:C,set:function(e){var t=this._state,n=this._changed={},i=!1;for(var s in e){if(this._computed[s])throw new Error("'".concat(s,"' is a read-only computed property"));this._differs(e[s],t[s])&&(n[s]=i=!0)}i&&this._set(e,n)}});return{App:bt,data:{chart:{id:""},embedTemplates:[],pluginShareurls:[],published:!1,publishing:!1,needs_republish:!1,publish_error:!1,auto_publish:!1,progress:[],shareurlType:"default",embedType:"responsive"},store:new mt({})}}));
