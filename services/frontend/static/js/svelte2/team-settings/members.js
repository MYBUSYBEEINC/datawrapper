!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/team-settings/members",t):(e="undefined"!=typeof globalThis?globalThis:e||self)["team-settings/members"]=t()}(this,(function(){"use strict";function e(){}function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e,t){for(var n in t)e[n]=1;return e}function r(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n)}function s(e){e.parentNode.removeChild(e)}function a(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function o(e){for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)}function l(e,t,n){for(;e.nextSibling&&e.nextSibling!==t;)n.appendChild(e.parentNode.removeChild(e.nextSibling))}function c(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}function d(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(){return document.createDocumentFragment()}function m(e){return document.createElement(e)}function p(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function f(e){return document.createTextNode(e)}function h(){return document.createComment("")}function g(e,t,n,r){e.addEventListener(t,n,r)}function v(e,t,n,r){e.removeEventListener(t,n,r)}function b(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function _(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function y(e,t){e.data=""+t}function w(e,t,n){e.style.setProperty(t,n)}function T(e,t){for(var n=0;n<e.options.length;n+=1){var r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function N(e){var t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function k(e,t,n){e.classList[n?"add":"remove"](t)}function x(e,n){var r,i=n.token={};function s(e,r,s,a){if(n.token!==i)return;n.resolved=s&&{[s]:a};const o=t(t({},n.ctx),n.resolved),l=e&&(n.current=e)(n.component,o);n.block&&(n.blocks?n.blocks.forEach((e,t)=>{t!==r&&e&&e.o(()=>{e.d(1),n.blocks[t]=null})}):n.block.d(1),l.c(),l[l.i?"i":"m"](n.mount(),n.anchor),n.component.root.set({})),n.block=l,n.blocks&&(n.blocks[r]=l)}if((r=e)&&"function"==typeof r.then){if(e.then(e=>{s(n.then,1,n.value,e)},e=>{s(n.catch,2,n.error,e)}),n.current!==n.pending)return s(n.pending,0),!0}else{if(n.current!==n.then)return s(n.then,1,n.value,e),!0;n.resolved={[n.value]:e}}}function E(){return Object.create(null)}function A(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function C(e,t){return e!=e?t==t:e!==t}function L(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var r=0;r<n.length;r+=1){var i=n[r];if(!i.__calling)try{i.__calling=!0,i.call(this,t)}finally{i.__calling=!1}}}function M(e){e._lock=!0,I(e._beforecreate),I(e._oncreate),I(e._aftercreate),e._lock=!1}function O(){return this._state}function U(e,t){e._handlers=E(),e._slots=E(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function S(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function I(e){for(;e&&e.length;)e.shift()()}function H(){this.store._remove(this)}var R={destroy:function(t){this.destroy=e,this.fire("destroy"),this.set=e,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:O,fire:L,on:S,set:function(e){this._set(t({},e)),this.root._lock||M(this.root)},_recompute:e,_set:function(e){var n=this._state,r={},i=!1;for(var s in e=t(this._staged,e),this._staged={},e)this._differs(e[s],n[s])&&(r[s]=i=!0);i&&(this._state=t(t({},n),e),this._recompute(r,this._state),this._bind&&this._bind(r,this._state),this._fragment&&(this.fire("state",{changed:r,current:this._state,previous:n}),this._fragment.p(r,this._state),this.fire("update",{changed:r,current:this._state,previous:n})))},_stage:function(e){t(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:A},D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function j(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var B={};
/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $(e,t,n){return($=F()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&P(i,n.prototype),i}).apply(null,arguments)}function q(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=Object.hasOwnProperty,V=Object.setPrototypeOf,K=Object.isFrozen,Y=Object.getPrototypeOf,Z=Object.getOwnPropertyDescriptor,J=Object.freeze,X=Object.seal,Q=Object.create,ee="undefined"!=typeof Reflect&&Reflect,te=ee.apply,ne=ee.construct;te||(te=function(e,t,n){return e.apply(t,n)}),J||(J=function(e){return e}),X||(X=function(e){return e}),ne||(ne=function(e,t){return $(e,q(t))});var re,ie=fe(Array.prototype.forEach),se=fe(Array.prototype.pop),ae=fe(Array.prototype.push),oe=fe(String.prototype.toLowerCase),le=fe(String.prototype.match),ce=fe(String.prototype.replace),de=fe(String.prototype.indexOf),ue=fe(String.prototype.trim),me=fe(RegExp.prototype.test),pe=(re=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ne(re,t)});function fe(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return te(e,t,r)}}function he(e,t,n){n=n||oe,V&&V(e,null);for(var r=t.length;r--;){var i=t[r];if("string"==typeof i){var s=n(i);s!==i&&(K(t)||(t[r]=s),i=s)}e[i]=!0}return e}function ge(e){var t,n=Q(null);for(t in e)te(W,e,[t])&&(n[t]=e[t]);return n}function ve(e,t){for(;null!==e;){var n=Z(e,t);if(n){if(n.get)return fe(n.get);if("function"==typeof n.value)return fe(n.value)}e=Y(e)}return function(e){return console.warn("fallback value for",e),null}}var be=J(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_e=J(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ye=J(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),we=J(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Te=J(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ne=J(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ke=J(["#text"]),xe=J(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ee=J(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ae=J(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ce=J(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Le=X(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Me=X(/<%[\w\W]*|[\w\W]*%>/gm),Oe=X(/^data-[\-\w.\u00B7-\uFFFF]/),Ue=X(/^aria-[\-\w]+$/),Se=X(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ie=X(/^(?:\w+script|data):/i),He=X(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Re=X(/^html$/i),De=function(){return"undefined"==typeof window?null:window},je=function(e,t){if("object"!==z(e)||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};var Be=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De(),n=function(t){return e(t)};if(n.version="2.4.0",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,s=t.DocumentFragment,a=t.HTMLTemplateElement,o=t.Node,l=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,u=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,m=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,h=l.prototype,g=ve(h,"cloneNode"),v=ve(h,"nextSibling"),b=ve(h,"childNodes"),_=ve(h,"parentNode");if("function"==typeof a){var y=i.createElement("template");y.content&&y.content.ownerDocument&&(i=y.content.ownerDocument)}var w=je(f,r),T=w?w.createHTML(""):"",N=i,k=N.implementation,x=N.createNodeIterator,E=N.createDocumentFragment,A=N.getElementsByTagName,C=r.importNode,L={};try{L=ge(i).documentMode?i.documentMode:{}}catch(e){}var M={};n.isSupported="function"==typeof _&&k&&void 0!==k.createHTMLDocument&&9!==L;var O,U,S=Le,I=Me,H=Oe,R=Ue,D=Ie,j=He,B=Se,P=null,F=he({},[].concat(q(be),q(_e),q(ye),q(Te),q(ke))),$=null,G=he({},[].concat(q(xe),q(Ee),q(Ae),q(Ce))),W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,K=null,Y=!0,Z=!0,X=!1,Q=!1,ee=!1,te=!1,ne=!1,re=!1,fe=!1,Be=!1,ze=!0,Pe=!1,Fe="user-content-",$e=!0,qe=!1,Ge={},We=null,Ve=he({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ke=null,Ye=he({},["audio","video","img","source","image","track"]),Ze=null,Je=he({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xe="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml",tt=et,nt=!1,rt=["application/xhtml+xml","text/html"],it="text/html",st=null,at=i.createElement("form"),ot=function(e){return e instanceof RegExp||e instanceof Function},lt=function(e){st&&st===e||(e&&"object"===z(e)||(e={}),e=ge(e),O=O=-1===rt.indexOf(e.PARSER_MEDIA_TYPE)?it:e.PARSER_MEDIA_TYPE,U="application/xhtml+xml"===O?function(e){return e}:oe,P="ALLOWED_TAGS"in e?he({},e.ALLOWED_TAGS,U):F,$="ALLOWED_ATTR"in e?he({},e.ALLOWED_ATTR,U):G,Ze="ADD_URI_SAFE_ATTR"in e?he(ge(Je),e.ADD_URI_SAFE_ATTR,U):Je,Ke="ADD_DATA_URI_TAGS"in e?he(ge(Ye),e.ADD_DATA_URI_TAGS,U):Ye,We="FORBID_CONTENTS"in e?he({},e.FORBID_CONTENTS,U):Ve,V="FORBID_TAGS"in e?he({},e.FORBID_TAGS,U):{},K="FORBID_ATTR"in e?he({},e.FORBID_ATTR,U):{},Ge="USE_PROFILES"in e&&e.USE_PROFILES,Y=!1!==e.ALLOW_ARIA_ATTR,Z=!1!==e.ALLOW_DATA_ATTR,X=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Q=e.SAFE_FOR_TEMPLATES||!1,ee=e.WHOLE_DOCUMENT||!1,re=e.RETURN_DOM||!1,fe=e.RETURN_DOM_FRAGMENT||!1,Be=e.RETURN_TRUSTED_TYPE||!1,ne=e.FORCE_BODY||!1,ze=!1!==e.SANITIZE_DOM,Pe=e.SANITIZE_NAMED_PROPS||!1,$e=!1!==e.KEEP_CONTENT,qe=e.IN_PLACE||!1,B=e.ALLOWED_URI_REGEXP||B,tt=e.NAMESPACE||et,e.CUSTOM_ELEMENT_HANDLING&&ot(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ot(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Q&&(Z=!1),fe&&(re=!0),Ge&&(P=he({},q(ke)),$=[],!0===Ge.html&&(he(P,be),he($,xe)),!0===Ge.svg&&(he(P,_e),he($,Ee),he($,Ce)),!0===Ge.svgFilters&&(he(P,ye),he($,Ee),he($,Ce)),!0===Ge.mathMl&&(he(P,Te),he($,Ae),he($,Ce))),e.ADD_TAGS&&(P===F&&(P=ge(P)),he(P,e.ADD_TAGS,U)),e.ADD_ATTR&&($===G&&($=ge($)),he($,e.ADD_ATTR,U)),e.ADD_URI_SAFE_ATTR&&he(Ze,e.ADD_URI_SAFE_ATTR,U),e.FORBID_CONTENTS&&(We===Ve&&(We=ge(We)),he(We,e.FORBID_CONTENTS,U)),$e&&(P["#text"]=!0),ee&&he(P,["html","head","body"]),P.table&&(he(P,["tbody"]),delete V.tbody),J&&J(e),st=e)},ct=he({},["mi","mo","mn","ms","mtext"]),dt=he({},["foreignobject","desc","title","annotation-xml"]),ut=he({},["title","style","font","a","script"]),mt=he({},_e);he(mt,ye),he(mt,we);var pt=he({},Te);he(pt,Ne);var ft=function(e){var t=_(e);t&&t.tagName||(t={namespaceURI:et,tagName:"template"});var n=oe(e.tagName),r=oe(t.tagName);return e.namespaceURI===Qe?t.namespaceURI===et?"svg"===n:t.namespaceURI===Xe?"svg"===n&&("annotation-xml"===r||ct[r]):Boolean(mt[n]):e.namespaceURI===Xe?t.namespaceURI===et?"math"===n:t.namespaceURI===Qe?"math"===n&&dt[r]:Boolean(pt[n]):e.namespaceURI===et&&(!(t.namespaceURI===Qe&&!dt[r])&&(!(t.namespaceURI===Xe&&!ct[r])&&(!pt[n]&&(ut[n]||!mt[n]))))},ht=function(e){ae(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=T}catch(t){e.remove()}}},gt=function(e,t){try{ae(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){ae(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!$[e])if(re||fe)try{ht(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},vt=function(e){var t,n;if(ne)e="<remove></remove>"+e;else{var r=le(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===O&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var s=w?w.createHTML(e):e;if(tt===et)try{t=(new p).parseFromString(s,O)}catch(e){}if(!t||!t.documentElement){t=k.createDocument(tt,"template",null);try{t.documentElement.innerHTML=nt?"":s}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),tt===et?A.call(t,ee?"html":"body")[0]:ee?t.documentElement:a},bt=function(e){return x.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},_t=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},yt=function(e){return"object"===z(o)?e instanceof o:e&&"object"===z(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},wt=function(e,t,r){M[e]&&ie(M[e],(function(e){e.call(n,t,r,st)}))},Tt=function(e){var t;if(wt("beforeSanitizeElements",e,null),_t(e))return ht(e),!0;if(me(/[\u0080-\uFFFF]/,e.nodeName))return ht(e),!0;var r=U(e.nodeName);if(wt("uponSanitizeElement",e,{tagName:r,allowedTags:P}),e.hasChildNodes()&&!yt(e.firstElementChild)&&(!yt(e.content)||!yt(e.content.firstElementChild))&&me(/<[/\w]/g,e.innerHTML)&&me(/<[/\w]/g,e.textContent))return ht(e),!0;if("select"===r&&me(/<template/i,e.innerHTML))return ht(e),!0;if(!P[r]||V[r]){if(!V[r]&&kt(r)){if(W.tagNameCheck instanceof RegExp&&me(W.tagNameCheck,r))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(r))return!1}if($e&&!We[r]){var i=_(e)||e.parentNode,s=b(e)||e.childNodes;if(s&&i)for(var a=s.length-1;a>=0;--a)i.insertBefore(g(s[a],!0),v(e))}return ht(e),!0}return e instanceof l&&!ft(e)?(ht(e),!0):"noscript"!==r&&"noembed"!==r||!me(/<\/no(script|embed)/i,e.innerHTML)?(Q&&3===e.nodeType&&(t=e.textContent,t=ce(t,S," "),t=ce(t,I," "),e.textContent!==t&&(ae(n.removed,{element:e.cloneNode()}),e.textContent=t)),wt("afterSanitizeElements",e,null),!1):(ht(e),!0)},Nt=function(e,t,n){if(ze&&("id"===t||"name"===t)&&(n in i||n in at))return!1;if(Z&&!K[t]&&me(H,t));else if(Y&&me(R,t));else if(!$[t]||K[t]){if(!(kt(e)&&(W.tagNameCheck instanceof RegExp&&me(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&me(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&me(W.tagNameCheck,n)||W.tagNameCheck instanceof Function&&W.tagNameCheck(n))))return!1}else if(Ze[t]);else if(me(B,ce(n,j,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==de(n,"data:")||!Ke[e]){if(X&&!me(D,ce(n,j,"")));else if(n)return!1}else;return!0},kt=function(e){return e.indexOf("-")>0},xt=function(e){var t,r,i,s;wt("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$};for(s=a.length;s--;){var l=t=a[s],c=l.name,d=l.namespaceURI;if(r="value"===c?t.value:ue(t.value),i=U(c),o.attrName=i,o.attrValue=r,o.keepAttr=!0,o.forceKeepAttr=void 0,wt("uponSanitizeAttribute",e,o),r=o.attrValue,!o.forceKeepAttr&&(gt(c,e),o.keepAttr))if(me(/\/>/i,r))gt(c,e);else{Q&&(r=ce(r,S," "),r=ce(r,I," "));var u=U(e.nodeName);if(Nt(u,i,r)){if(!Pe||"id"!==i&&"name"!==i||(gt(c,e),r=Fe+r),w&&"object"===z(f)&&"function"==typeof f.getAttributeType)if(d);else switch(f.getAttributeType(u,i)){case"TrustedHTML":r=w.createHTML(r);break;case"TrustedScriptURL":r=w.createScriptURL(r)}try{d?e.setAttributeNS(d,c,r):e.setAttribute(c,r),se(n.removed)}catch(e){}}}}wt("afterSanitizeAttributes",e,null)}},Et=function e(t){var n,r=bt(t);for(wt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)wt("uponSanitizeShadowNode",n,null),Tt(n)||(n.content instanceof s&&e(n.content),xt(n));wt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){var i,a,l,c,d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((nt=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw pe("toString is not a function");if("string"!=typeof(e=e.toString()))throw pe("dirty is not a string, aborting")}if(!n.isSupported){if("object"===z(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(yt(e))return t.toStaticHTML(e.outerHTML)}return e}if(te||lt(u),n.removed=[],"string"==typeof e&&(qe=!1),qe){if(e.nodeName){var m=U(e.nodeName);if(!P[m]||V[m])throw pe("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof o)1===(a=(i=vt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?i=a:i.appendChild(a);else{if(!re&&!Q&&!ee&&-1===e.indexOf("<"))return w&&Be?w.createHTML(e):e;if(!(i=vt(e)))return re?null:Be?T:""}i&&ne&&ht(i.firstChild);for(var p=bt(qe?e:i);l=p.nextNode();)3===l.nodeType&&l===c||Tt(l)||(l.content instanceof s&&Et(l.content),xt(l),c=l);if(c=null,qe)return e;if(re){if(fe)for(d=E.call(i.ownerDocument);i.firstChild;)d.appendChild(i.firstChild);else d=i;return $.shadowroot&&(d=C.call(r,d,!0)),d}var f=ee?i.outerHTML:i.innerHTML;return ee&&P["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&me(Re,i.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+f),Q&&(f=ce(f,S," "),f=ce(f,I," ")),w&&Be?w.createHTML(f):f},n.setConfig=function(e){lt(e),te=!0},n.clearConfig=function(){st=null,te=!1},n.isValidAttribute=function(e,t,n){st||lt({});var r=U(e),i=U(t);return Nt(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(M[e]=M[e]||[],ae(M[e],t))},n.removeHook=function(e){if(M[e])return se(M[e])},n.removeHooks=function(e){M[e]&&(M[e]=[])},n.removeAllHooks=function(){M={}},n}(),ze=j(Object.freeze({__proto__:null,default:Be})),Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.createPermanentMemoizer=void 0;Pe.createPermanentMemoizer=(e,t,{maxsize:n}={})=>{let r=new Map;return{get:i=>{const s=e(i);if(r.has(s))return r.get(s);const a=t(i);return n&&r.size>=n&&(r=new Map),r.set(s,a),a}}};const Fe=(D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(ze),$e=Pe,qe=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort();Fe.default.addHook("afterSanitizeElements",(function(e){"a"===e.nodeName.toLowerCase()&&("_self"!==e.getAttribute("target")&&e.setAttribute("target","_blank"),e.setAttribute("rel","nofollow noopener noreferrer"))}));const Ge=(0,$e.createPermanentMemoizer)(e=>String(e),e=>{const t={ALLOWED_TAGS:void 0===e?qe:"string"==typeof e?e.toLowerCase().slice(1,-1).split("><"):e,ADD_ATTR:["target"],FORCE_BODY:!0};return(0,$e.createPermanentMemoizer)(e=>e,e=>Fe.default.sanitize(e,t),{maxsize:1e5})},{maxsize:1e5});var We=function(e,t){return e?Ge.get(t).get(e):e},Ve=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(B,"__esModule",{value:!0}),B.keyExists=Xe=B.__=B.translate=void 0;const Ke=Ve(We),Ye={};function Ze(e="core"){"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(Ye[e]=window.__dw.vis.meta.locale||{}):dw.backend.__messages&&(Ye[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e]))}function Je(e,t="core",n,...r){let i=function(e,t,n){try{return n[t][e]||e}catch(t){return e}}(e,t,n);if((e=>"string"==typeof e[0])(r)){i=function(e,t=[]){return e.replace(/\$(\d)/g,(e,n)=>void 0===t[+n]?e:(0,Ke.default)(t[+n],""))}(i,r)}else i=function(e,t={}){return Object.entries(t).forEach(([t,n])=>{e=e.replace(new RegExp(`%${t}%|%${t}(?!\\w)`,"g"),""+n)}),e}(i,r[0]);return(0,Ke.default)(i,"<p><h1><h2><h3><h4><h5><h6><blockquote><ol><ul><li><pre><hr><br><a><em><i><strong><b><code><img><table><tr><th><td><small><span><div><sup><sub><tt>")}B.translate=Je;var Xe=B.__=function(e,t="core",...n){return e=e.trim(),Ye[t]||Ze(t),Ye[t][e]?Je(e,t,Ye,...n):"MISSING:"+e};B.keyExists=function(e,t="core"){return Ye[t]||Ze(t),!!Ye[t][e]};const Qe={true:"ASC",false:"DESC"},et=Qe.true;var tt={sort(e,t){e.preventDefault();const n=(r=this.get(),t===r.orderBy?Qe[r.order!==et]:et);var r;this.set({orderBy:t,order:n}),this.fire("sort",{orderBy:t,order:n})}};function nt(e){const{component:t,ctx:n}=this._svelte;t.sort(e,n.item.orderBy)}function rt(e,t,n){const r=Object.create(e);return r.item=t[n],r}function it(e,t,n){const r=Object.create(e);return r.item=t[n],r}function st(e,t){var n;return{c(){w(n=m("col"),"width",t.item.width)},m(e,t){i(e,n,t)},p(e,t){e.columnHeaders&&w(n,"width",t.item.width)},d(e){e&&s(n)}}}function at(e,t){var n,a,o=t.item.title;return{c(){n=m("span"),a=f(o),n.className="col"},m(e,t){i(e,n,t),r(n,a)},p(e,t){e.columnHeaders&&o!==(o=t.item.title)&&y(a,o)},d(e){e&&s(n)}}}function ot(e,t){var n,a,o,l,c=t.item.title;return{c(){n=m("a"),a=f(c),n._svelte={component:e,ctx:t},g(n,"click",nt),n.className=o="\n                            sortable\n                            "+(t.isActive(t.item)?t.isAscending?"sortable-asc":"sortable-desc":"")+"\n                         svelte-l1s1ms",n.href=l="?orderBy="+t.item.orderBy},m(e,t){i(e,n,t),r(n,a)},p(e,r){t=r,e.columnHeaders&&c!==(c=t.item.title)&&y(a,c),n._svelte.ctx=t,(e.isActive||e.columnHeaders||e.isAscending)&&o!==(o="\n                            sortable\n                            "+(t.isActive(t.item)?t.isAscending?"sortable-asc":"sortable-desc":"")+"\n                         svelte-l1s1ms")&&(n.className=o),e.columnHeaders&&l!==(l="?orderBy="+t.item.orderBy)&&(n.href=l)},d(e){e&&s(n),v(n,"click",nt)}}}function lt(e,t){var n,r;function a(e){return e.item.orderBy?ot:at}var o=a(t),l=o(e,t);return{c(){n=m("th"),l.c(),n.className=r=(t.item.className?t.item.className:"")+" svelte-l1s1ms"},m(e,t){i(e,n,t),l.m(n,null)},p(t,i){o===(o=a(i))&&l?l.p(t,i):(l.d(1),(l=o(e,i)).c(),l.m(n,null)),t.columnHeaders&&r!==(r=(i.item.className?i.item.className:"")+" svelte-l1s1ms")&&(n.className=r)},d(e){e&&s(n),l.d()}}}function ct(e){U(this,e),this._state=t({order:et,orderBy:"",uid:""},e.data),this._recompute({orderBy:1,order:1},this._state),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){for(var n,a,o,l,u,p,h,g,v=e._slotted.default,b=t.columnHeaders,_=[],y=0;y<b.length;y+=1)_[y]=st(e,it(t,b,y));var w=t.columnHeaders,T=[];for(y=0;y<w.length;y+=1)T[y]=lt(e,rt(t,w,y));return{c(){n=m("div"),a=m("table"),o=m("colgroup");for(var e=0;e<_.length;e+=1)_[e].c();l=f("\n\n        "),u=m("thead"),p=m("tr");for(e=0;e<T.length;e+=1)T[e].c();h=f("\n\n        "),g=m("tbody"),a.className="table svelte-l1s1ms",n.className="table-container svelte-l1s1ms",n.dataset.uid=t.uid},m(e,t){i(e,n,t),r(n,a),r(a,o);for(var s=0;s<_.length;s+=1)_[s].m(o,null);r(a,l),r(a,u),r(u,p);for(s=0;s<T.length;s+=1)T[s].m(p,null);r(a,h),r(a,g),v&&r(g,v)},p(t,r){if(t.columnHeaders){b=r.columnHeaders;for(var i=0;i<b.length;i+=1){const n=it(r,b,i);_[i]?_[i].p(t,n):(_[i]=st(e,n),_[i].c(),_[i].m(o,null))}for(;i<_.length;i+=1)_[i].d(1);_.length=b.length}if(t.columnHeaders||t.isActive||t.isAscending){w=r.columnHeaders;for(i=0;i<w.length;i+=1){const n=rt(r,w,i);T[i]?T[i].p(t,n):(T[i]=lt(e,n),T[i].c(),T[i].m(p,null))}for(;i<T.length;i+=1)T[i].d(1);T.length=w.length}t.uid&&(n.dataset.uid=r.uid)},d(e){e&&s(n),d(_,e),d(T,e),v&&c(g,v)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function dt(e,t,n){const r=Object.create(e);return r.opt=t[n],r}function ut(e,t,n){const r=Object.create(e);return r.optgroup=t[n],r}function mt(e,t,n){const r=Object.create(e);return r.opt=t[n],r}function pt(e,t){for(var n,r=t.options,a=[],o=0;o<r.length;o+=1)a[o]=ft(e,mt(t,r,o));return{c(){for(var e=0;e<a.length;e+=1)a[e].c();n=h()},m(e,t){for(var r=0;r<a.length;r+=1)a[r].m(e,t);i(e,n,t)},p(t,i){if(t.options||t.value){r=i.options;for(var s=0;s<r.length;s+=1){const o=mt(i,r,s);a[s]?a[s].p(t,o):(a[s]=ft(e,o),a[s].c(),a[s].m(n.parentNode,n))}for(;s<a.length;s+=1)a[s].d(1);a.length=r.length}},d(e){d(a,e),e&&s(n)}}}function ft(e,t){var n,a,o,l,c=t.opt.label;return{c(){n=m("option"),a=f(c),n.__value=o=t.opt.value,n.value=n.__value,n.selected=l=t.opt.value===t.value},m(e,t){i(e,n,t),r(n,a)},p(e,t){e.options&&c!==(c=t.opt.label)&&y(a,c),e.options&&o!==(o=t.opt.value)&&(n.__value=o),n.value=n.__value,(e.options||e.value)&&l!==(l=t.opt.value===t.value)&&(n.selected=l)},d(e){e&&s(n)}}}function ht(e,t){for(var n,r=t.optgroups,a=[],o=0;o<r.length;o+=1)a[o]=vt(e,ut(t,r,o));return{c(){for(var e=0;e<a.length;e+=1)a[e].c();n=h()},m(e,t){for(var r=0;r<a.length;r+=1)a[r].m(e,t);i(e,n,t)},p(t,i){if(t.optgroups||t.value){r=i.optgroups;for(var s=0;s<r.length;s+=1){const o=ut(i,r,s);a[s]?a[s].p(t,o):(a[s]=vt(e,o),a[s].c(),a[s].m(n.parentNode,n))}for(;s<a.length;s+=1)a[s].d(1);a.length=r.length}},d(e){d(a,e),e&&s(n)}}}function gt(e,t){var n,a,o,l,c=t.opt.label;return{c(){n=m("option"),a=f(c),n.__value=o=t.opt.value,n.value=n.__value,n.selected=l=t.opt.value===t.value},m(e,t){i(e,n,t),r(n,a)},p(e,t){e.optgroups&&c!==(c=t.opt.label)&&y(a,c),e.optgroups&&o!==(o=t.opt.value)&&(n.__value=o),n.value=n.__value,(e.optgroups||e.value)&&l!==(l=t.opt.value===t.value)&&(n.selected=l)},d(e){e&&s(n)}}}function vt(e,t){for(var n,r,a=t.optgroup.options,o=[],l=0;l<a.length;l+=1)o[l]=gt(0,dt(t,a,l));return{c(){n=m("optgroup");for(var e=0;e<o.length;e+=1)o[e].c();b(n,"label",r=t.optgroup.label)},m(e,t){i(e,n,t);for(var r=0;r<o.length;r+=1)o[r].m(n,null)},p(e,t){if(e.optgroups||e.value){a=t.optgroup.options;for(var i=0;i<a.length;i+=1){const r=dt(t,a,i);o[i]?o[i].p(e,r):(o[i]=gt(0,r),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=a.length}e.optgroups&&r!==(r=t.optgroup.label)&&b(n,"label",r)},d(e){e&&s(n),d(o,e)}}}function bt(e){U(this,e),this._state=t({disabled:!1,width:"auto",options:[],optgroups:[],value:null,class:"",uid:""},e.data),this._intro=!0,this._fragment=function(e,t){var n,a,o,l=!1,c=t.options.length&&pt(e,t),d=t.optgroups.length&&ht(e,t);function u(){l=!0,e.set({value:N(n)}),l=!1}function p(t){e.fire("change",t)}return{c(){n=m("select"),c&&c.c(),a=h(),d&&d.c(),g(n,"change",u),"value"in t||e.root._beforecreate.push(u),g(n,"change",p),n.className=o="select-css "+t.class+" svelte-v0oq4b",n.disabled=t.disabled,w(n,"width",t.width),n.dataset.uid=t.uid},m(e,s){i(e,n,s),c&&c.m(n,null),r(n,a),d&&d.m(n,null),T(n,t.value)},p(t,r){r.options.length?c?c.p(t,r):((c=pt(e,r)).c(),c.m(n,a)):c&&(c.d(1),c=null),r.optgroups.length?d?d.p(t,r):((d=ht(e,r)).c(),d.m(n,null)):d&&(d.d(1),d=null),!l&&t.value&&T(n,r.value),t.class&&o!==(o="select-css "+r.class+" svelte-v0oq4b")&&(n.className=o),t.disabled&&(n.disabled=r.disabled),t.width&&w(n,"width",r.width),t.uid&&(n.dataset.uid=r.uid)},d(e){e&&s(n),c&&c.d(),d&&d.d(),v(n,"change",u),v(n,"change",p)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}t(ct.prototype,R),t(ct.prototype,tt),ct.prototype._recompute=function(e,t){e.orderBy&&this._differs(t.isActive,t.isActive=function({orderBy:e}){return t=>e===t.orderBy}(t))&&(e.isActive=!0),e.order&&this._differs(t.isAscending,t.isAscending=function({order:e}){return e===et}(t))&&(e.isAscending=!0)},t(bt.prototype,R);function _t(e){U(this,e),this._state=t({icon:"api",size:"1em",color:"inherit",valign:"baseline",class:"",style:"",assetURL:null,spin:!1,timing:"linear",duration:"2s",uid:""},e.data),this._recompute({icon:1,assetURL:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,a,o,l;return{c(){n=m("span"),a=p("svg"),w(o=p("use"),"fill",t.color),_(o,"xlink:href",t.iconURL),w(a,"height",t.size),w(a,"width",t.size),b(a,"class","svelte-1th5ah8"),n.className=l="svg-icon "+t.class+" svelte-1th5ah8",n.dataset.uid=t.uid,w(n,"animation-timing-function",t.timing),w(n,"animation-duration",t.duration),w(n,"height",t.size),w(n,"width",t.size),w(n,"vertical-align",t.valign),k(n,"spin",t.spin)},m(e,t){i(e,n,t),r(n,a),r(a,o)},p(e,t){e.color&&w(o,"fill",t.color),e.iconURL&&_(o,"xlink:href",t.iconURL),e.size&&(w(a,"height",t.size),w(a,"width",t.size)),e.class&&l!==(l="svg-icon "+t.class+" svelte-1th5ah8")&&(n.className=l),e.uid&&(n.dataset.uid=t.uid),e.timing&&w(n,"animation-timing-function",t.timing),e.duration&&w(n,"animation-duration",t.duration),e.size&&(w(n,"height",t.size),w(n,"width",t.size)),e.valign&&w(n,"vertical-align",t.valign),(e.class||e.spin)&&k(n,"spin",t.spin)},d(e){e&&s(n)}}}(0,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(_t.prototype,R),_t.prototype._recompute=function(e,t){(e.icon||e.assetURL)&&this._differs(t.iconURL,t.iconURL=function({icon:e,assetURL:t}){return`${t||"/lib/icons/symbol/svg/sprite.symbol.svg"}#${e}`}(t))&&(e.iconURL=!0)};var yt={open(){this.set({open:!0})},dismiss(){this.set({open:!1}),this.fire("dismiss")},confirm(){this.set({open:!1}),this.fire("confirm")},handleKeystroke(e){const{open:t}=this.get();t&&"Escape"===e&&this.dismiss()}};function wt(e,t){var n,a,c,d,u,p,_,y,w,T,N,k,x,E,A,C,L,M,O=e._slotted.default,U=new _t({root:e.root,store:e.store,data:{icon:"close",size:"20px"}});function S(t){e.dismiss()}function I(t){e.dismiss()}var H=t.confirmButtonIcon&&Tt(e,t);function R(t){e.confirm()}function D(t){t.stopPropagation(),e.fire("keyup",t)}function j(t){e.dismiss()}return{c(){n=m("div"),a=m("div"),c=m("button"),U._fragment.c(),d=f("\n        "),u=m("div"),p=m("h1"),_=f("\n            "),T=f("\n            "),N=m("div"),k=m("button"),x=f("\n                "),E=m("button"),H&&H.c(),A=f(" "),C=m("noscript"),L=f("\n"),M=m("div"),g(c,"click",S),c.type="button",c.className="close svelte-1f9lfqa",b(c,"aria-label",t.backButtonText),p.className="modal-title mb-4 svelte-1f9lfqa",g(k,"click",I),k.className="btn back svelte-1f9lfqa",g(E,"click",R),E.className="btn btn-danger svelte-1f9lfqa",N.className="actions pt-4 mt-4 svelte-1f9lfqa",u.className="modal-content svelte-1f9lfqa",g(a,"keyup",D),a.className="modal-body",n.className="modal",g(M,"click",j),M.className="modal-backdrop"},m(e,s){i(e,n,s),r(n,a),r(a,c),U._mount(c,null),r(a,d),r(a,u),r(u,p),p.innerHTML=t.title,r(u,_),O&&(r(u,y||(y=h())),r(u,O),r(u,w||(w=h()))),r(u,T),r(u,N),r(N,k),k.innerHTML=t.backButtonText,r(N,x),r(N,E),H&&H.m(E,null),r(E,A),r(E,C),C.insertAdjacentHTML("afterend",t.confirmButtonText),i(e,L,s),i(e,M,s)},p(t,n){t.backButtonText&&b(c,"aria-label",n.backButtonText),t.title&&(p.innerHTML=n.title),t.backButtonText&&(k.innerHTML=n.backButtonText),n.confirmButtonIcon?H?H.p(t,n):((H=Tt(e,n)).c(),H.m(E,A)):H&&(H.d(1),H=null),t.confirmButtonText&&(o(C),C.insertAdjacentHTML("afterend",n.confirmButtonText))},d(e){e&&s(n),U.destroy(),v(c,"click",S),O&&(l(y,w,O),s(y),s(w)),v(k,"click",I),H&&H.d(),v(E,"click",R),v(a,"keyup",D),e&&(s(L),s(M)),v(M,"click",j)}}}function Tt(e,t){var n={icon:t.confirmButtonIcon,class:"mr-1",size:"1.3em",valign:"-0.3em"},r=new _t({root:e.root,store:e.store,data:n});return{c(){r._fragment.c()},m(e,t){r._mount(e,t)},p(e,t){var n={};e.confirmButtonIcon&&(n.icon=t.confirmButtonIcon),r._set(n)},d(e){r.destroy(e)}}}function Nt(e){U(this,e),this._state=t({title:"Title",confirmButtonText:"Confirm",confirmButtonIcon:!1,backButtonText:"Back",open:!1},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n;function r(t){e.handleKeystroke(t.key)}window.addEventListener("keydown",r);var a=t.open&&wt(e,t);return{c(){a&&a.c(),n=h()},m(e,t){a&&a.m(e,t),i(e,n,t)},p(t,r){r.open?a?a.p(t,r):((a=wt(e,r)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(e){window.removeEventListener("keydown",r),a&&a.d(e),e&&s(n)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}t(Nt.prototype,R),t(Nt.prototype,yt);const kt={};function xt(e="core"){"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(kt[e]=window.__dw.vis.meta.locale||{}):kt[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function Et(e,t="core"){if(e=e.trim(),kt[t]||xt(t),!kt[t][e])return"MISSING:"+e;var n=kt[t][e];return"string"==typeof n&&arguments.length>2&&(n=n.replace(/\$(\d)/g,(e,t)=>(t=2+Number(t),void 0===arguments[t]?e:arguments[t]))),n}var At={close(){const{closeFunc:e}=this.get();e?e():(this.set({visible:!1}),this.fire("close"))}};function Ct(e,t){var n,r;function a(e){return"upgrade-info"===e.type?Mt:Lt}var o=a(t),l=o(e,t);return{c(){n=m("div"),l.c(),n.className=r="alert "+t.class+" svelte-1h26igv",n.dataset.uid=t.uid,k(n,"alert-intro","intro"===t.type),k(n,"alert-success","success"===t.type),k(n,"alert-warning","warning"===t.type),k(n,"alert-error","error"===t.type),k(n,"alert-info","info"===t.type),k(n,"alert-upgrade-info","upgrade-info"===t.type),k(n,"has-header",!!t.title)},m(e,t){i(e,n,t),l.m(n,null)},p(t,i){o===(o=a(i))&&l?l.p(t,i):(l.d(1),(l=o(e,i)).c(),l.m(n,null)),t.class&&r!==(r="alert "+i.class+" svelte-1h26igv")&&(n.className=r),t.uid&&(n.dataset.uid=i.uid),(t.class||t.type)&&(k(n,"alert-intro","intro"===i.type),k(n,"alert-success","success"===i.type),k(n,"alert-warning","warning"===i.type),k(n,"alert-error","error"===i.type),k(n,"alert-info","info"===i.type),k(n,"alert-upgrade-info","upgrade-info"===i.type)),(t.class||t.title)&&k(n,"has-header",!!i.title)},d(e){e&&s(n),l.d()}}}function Lt(e,t){var n,r,a,o,c=e._slotted.default,d=(t.closeable||t.title)&&Ot(e,t);return{c(){d&&d.c(),n=f("\n    "),c||(o=f("content"))},m(e,t){d&&d.m(e,t),i(e,n,t),c?(i(e,r||(r=h()),t),i(e,c,t),i(e,a||(a=h()),t)):i(e,o,t)},p(t,r){r.closeable||r.title?d?d.p(t,r):((d=Ot(e,r)).c(),d.m(n.parentNode,n)):d&&(d.d(1),d=null)},d(e){d&&d.d(e),e?(s(n),c||s(o)):(l(r,a,c),s(r),s(a))}}}function Mt(t,n){var a,o,l,c,d,u,p,h,g=Et("upgrade-available"),v=Et("upgrade-info");return{c(){a=m("div"),o=m("span"),l=f("\n    "),c=m("div"),d=m("span"),u=f(g),p=f(" "),h=m("noscript"),o.className="upgrade-icon svelte-1h26igv",a.className="icon",d.className="title svelte-1h26igv"},m(e,t){i(e,a,t),r(a,o),o.innerHTML='<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>',i(e,l,t),i(e,c,t),r(c,d),r(d,u),r(c,p),r(c,h),h.insertAdjacentHTML("afterend",v)},p:e,d(e){e&&(s(a),s(l),s(c))}}}function Ot(e,t){var n,a,o,l,c=t.title&&Ut(e,t),d=t.closeable&&St(e),u=t.title&&It();return{c(){n=m("div"),c&&c.c(),a=f(" "),d&&d.c(),o=f("\n    "),u&&u.c(),l=h(),n.className="svelte-1h26igv",k(n,"header",!!t.title)},m(e,t){i(e,n,t),c&&c.m(n,null),r(n,a),d&&d.m(n,null),i(e,o,t),u&&u.m(e,t),i(e,l,t)},p(t,r){r.title?c?c.p(t,r):((c=Ut(e,r)).c(),c.m(n,a)):c&&(c.d(1),c=null),r.closeable?d||((d=St(e)).c(),d.m(n,null)):d&&(d.d(1),d=null),t.title&&k(n,"header",!!r.title),r.title?u||((u=It()).c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},d(e){e&&s(n),c&&c.d(),d&&d.d(),e&&s(o),u&&u.d(e),e&&s(l)}}}function Ut(e,t){var n,a;return{c(){n=m("div"),a=f(t.title),n.className="title svelte-1h26igv"},m(e,t){i(e,n,t),r(n,a)},p(e,t){e.title&&y(a,t.title)},d(e){e&&s(n)}}}function St(e,t){var n;function r(t){e.close()}return{c(){(n=m("button")).textContent="×",g(n,"click",r),n.type="button",b(n,"aria-label","close"),n.className="close svelte-1h26igv"},m(e,t){i(e,n,t)},d(e){e&&s(n),v(n,"click",r)}}}function It(e,t){var n;return{c(){(n=m("hr")).className="svelte-1h26igv"},m(e,t){i(e,n,t)},d(e){e&&s(n)}}}function Ht(e){var n,r,a,o;U(this,e),this._state=t({visible:!1,type:"",closeable:!0,class:"",closeFunc:!1,uid:"",title:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(n=this,r=this._state,o=r.visible&&Ct(n,r),{c(){o&&o.c(),a=h()},m(e,t){o&&o.m(e,t),i(e,a,t)},p(e,t){t.visible?o?o.p(e,t):((o=Ct(n,t)).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(e){o&&o.d(e),e&&s(a)}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(Ht.prototype,R),t(Ht.prototype,At);var Rt={exports:{}};
/*!
	 * JavaScript Cookie v2.2.1
	 * https://github.com/js-cookie/js-cookie
	 *
	 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
	 * Released under the MIT license
	 */!function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function s(t,n,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,!0!==s[l]&&(o+="="+s[l].split(";")[0]));return document.cookie=t+"="+n+o}}function a(e,n){if("undefined"!=typeof document){for(var i={},s=document.cookie?document.cookie.split("; "):[],a=0;a<s.length;a++){var o=s[a].split("="),l=o.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(o[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(i[c]=l,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=s,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){s(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},e.exports=n()}(Rt);var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.getValueOrDefault=void 0;Dt.getValueOrDefault=(e,t,n)=>e&&t(e)?e:n();var jt=D&&D.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))},Bt=D&&D.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const zt=(D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(Rt.exports),Pt=Dt,Ft=B,$t=new Set(["get","head","options","trace"]);function qt(e,t={}){var{fetch:n,baseUrl:r}=t,i=Bt(t,["fetch","baseUrl"]);const s=(0,Pt.getValueOrDefault)(n,()=>!0,()=>{try{const e=window.fetch;if(!e)throw new Error;return e}catch(e){throw new Error("Neither options.fetch nor window.fetch is defined.")}}),a=(0,Pt.getValueOrDefault)(r,()=>!0,()=>{const e=window.dw.backend.__api_domain;if(!e)throw new Error("Neither options.baseUrl nor window.dw is defined.");return e.startsWith("http")?e:"//"+e}),o=Object.assign(Object.assign({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},i),{headers:Object.assign({"Content-Type":"application/json"},i.headers)}),{payload:l,raw:c}=o,d=Bt(o,["payload","raw"]),u=`${a.replace(/\/$/,"")}/${e.replace(/^\//,"")}`;let m;if(l&&(d.body=JSON.stringify(l)),d.headers["Content-Type"].startsWith("multipart/")&&delete d.headers["Content-Type"],d.disableCSRF||$t.has(d.method.toLowerCase()))m=s(u,d);else{const e=zt.default.get("crumb");e?(d.headers["X-CSRF-Token"]=e,m=s(u,d)):m=qt("/v3/me",{fetch:s,baseUrl:a}).then(()=>{const e=zt.default.get("crumb");e&&(d.headers["X-CSRF-Token"]=e)}).catch(()=>{}).then(()=>jt(this,void 0,void 0,(function*(){return yield s(u,d)})))}return m.then(e=>{if(c)return e;if(!e.ok)return e.json().then(t=>{throw new Wt(e,t)});if(204===e.status||!e.headers.get("content-type"))return e;const t=(e.headers.get("content-type")||"").split(";")[0];return"application/json"===t?e.json():"image/png"===t||"application/pdf"===t?e.blob():e.text()})}function Gt(e){return(t,n)=>{if(n&&n.method)throw new Error(`Setting option.method is not allowed in httpReq.${e.toLowerCase()}()`);return qt(t,Object.assign(Object.assign({},n),{method:e}))}}qt.get=Gt("GET"),qt.patch=Gt("PATCH"),qt.put=Gt("PUT"),qt.post=Gt("POST"),qt.head=Gt("HEAD"),qt.delete=Gt("DELETE");class Wt extends Error{constructor(e,t){super(),this.name="HttpReqError",this.status=e.status,this.statusText=e.statusText,this.message=`[${e.status}] ${e.statusText}`,this.response=e,this.response.json=()=>Promise.resolve(t),t&&(this.type=t.type,this.type&&(0,Ft.keyExists)(this.type)&&(this.translationKey=this.type),this.details=t.details,Array.isArray(this.details)&&this.details.forEach(e=>{if(e&&e.type){const t=[this.type,e.type].join(" / ");(0,Ft.keyExists)(t)&&(e.translationKey=t)}}))}}qt.HttpReqError=Wt;var Vt=qt;const Kt=[{value:"owner",label:Xe("teams / role / owner").replace("&shy;","")},{value:"admin",label:Xe("teams / role / admin").replace("&shy;","")},{value:"member",label:Xe("teams / role / member").replace("&shy;","")}];async function Yt(e){if("HttpReqError"===e.name)try{return(await e.response.json()).message}catch(e){}return e.message}function Zt(e){return{member:Xe("teams / role / member"),admin:Xe("teams / role / admin"),owner:Xe("teams / role / owner")}[e]}var Jt={toggleEdit(e){this.get().editId===e?this.requestUpdateRole(e):this.set({editId:e})},async removeUser(e){if(window.confirm(Xe("teams / remove / alert"))){try{this.set({error:null}),await Vt.delete(`/v3/teams/${this.get().team.id}/members/${e.id}`)}catch(e){return void this.set({error:await Yt(e)})}var{users:t}=this.get();t=t.filter(t=>t.id!==e.id),this.set({users:t})}},async requestUpdateRole(e){var{users:t}=this.get();"owner"!==t.filter(t=>t.id===e)[0].role?await this.updateRole(e):this.refs.confirmationModal.open()},async updateRole(e){var{updating:t,users:n}=this.get();const r=n.filter(t=>t.id===e)[0];t[r.id]=!0,this.set({updating:t});try{this.set({error:null}),await Vt.put(`/v3/teams/${this.get().team.id}/members/${r.id}/status`,{payload:{status:r.role}})}catch(e){this.set({error:await Yt(e),updating:!1})}(t=this.get().updating)[r.id]=!1,this.set({updating:t,editId:!1}),this.fire("updateUsers")}};function Xt(e){const{component:t,ctx:n}=this._svelte;t.removeUser(n.user)}function Qt(e){const{component:t,ctx:n}=this._svelte;t.toggleEdit(n.user.id)}function en(e){const{component:t,ctx:n}=this._svelte;t.toggleEdit(n.user.id)}function tn(e,t,n){const r=Object.create(e);return r.user=t[n],r.each_value=t,r.i=n,r}function nn(e,t){var n,r=Xe("teams / total","core",{i:t.numUsers});return{c(){n=f(r)},m(e,t){i(e,n,t)},p(e,t){e.numUsers&&r!==(r=Xe("teams / total","core",{i:t.numUsers}))&&y(n,r)},d(e){e&&s(n)}}}function rn(t,n){var r,a=Xe("teams / total / 1");return{c(){r=f(a)},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function sn(e,t){for(var n,i=t.sortedUsers,s=[],a=0;a<i.length;a+=1)s[a]=gn(e,tn(t,i,a));var o={columnHeaders:t.userHeaders},l=new ct({root:e.root,store:e.store,slots:{default:u()},data:o});return{c(){for(var e=0;e<s.length;e+=1)s[e].c();n=h(),l._fragment.c()},m(e,t){for(var i=0;i<s.length;i+=1)s[i].m(l._slotted.default,null);r(l._slotted.default,n),l._mount(e,t)},p(t,r){if(t.error||t.isAdmin||t.isTeamOwner||t.sortedUsers||t.userId||t.editId||t.updating||t.roles){i=r.sortedUsers;for(var a=0;a<i.length;a+=1){const o=tn(r,i,a);s[a]?s[a].p(t,o):(s[a]=gn(e,o),s[a].c(),s[a].m(n.parentNode,n))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}var o={};t.userHeaders&&(o.columnHeaders=r.userHeaders),l._set(o)},d(e){d(s,e),l.destroy(e)}}}function an(e,t){var n,a,o,l,c=t.user.id;return{c(){n=m("td"),a=m("a"),o=f(c),a.href=l="/admin/chart/by/user/"+t.user.id},m(e,t){i(e,n,t),r(n,a),r(a,o)},p(e,t){e.sortedUsers&&c!==(c=t.user.id)&&y(o,c),e.sortedUsers&&l!==(l="/admin/chart/by/user/"+t.user.id)&&(a.href=l)},d(e){e&&s(n)}}}function on(e,t){var n,r,o,l,c=Zt(t.user.role),d=t.user.token&&cn();return{c(){n=m("noscript"),r=m("noscript"),o=f(" "),d&&d.c(),l=h()},m(e,t){i(e,n,t),n.insertAdjacentHTML("afterend",c),i(e,r,t),i(e,o,t),d&&d.m(e,t),i(e,l,t)},p(e,t){e.sortedUsers&&c!==(c=Zt(t.user.role))&&(a(n,r),n.insertAdjacentHTML("afterend",c)),t.user.token?d||((d=cn()).c(),d.m(l.parentNode,l)):d&&(d.d(1),d=null)},d(e){e&&(a(n,r),s(n),s(r),s(o)),d&&d.d(e),e&&s(l)}}}function ln(e,t){var n,a,o,l={},c=Xe("teams / role / p"),d={width:"200px",options:t.roles};void 0!==t.user.role&&(d.value=t.user.role,l.value=!0);var u=new bt({root:e.root,store:e.store,data:d,_bind(n,r){var i={};!l.value&&n.value&&(t.user.role=r.value,i.sortedUsers=t.sortedUsers),e._set(i),l={}}});return e.root._beforecreate.push(()=>{u._bind({value:1},u.get())}),{c(){u._fragment.c(),n=f("\n            "),a=m("p"),o=f(c),a.className="mini-help"},m(e,t){u._mount(e,t),i(e,n,t),i(e,a,t),r(a,o)},p(e,n){t=n;var r={};e.roles&&(r.options=t.roles),!l.value&&e.sortedUsers&&(r.value=t.user.role,l.value=void 0!==t.user.role),u._set(r),l={}},d(e){u.destroy(e),e&&(s(n),s(a))}}}function cn(e,t){var n,a,o=Xe("teams / invite-pending");return{c(){n=m("i"),a=f(o)},m(e,t){i(e,n,t),r(n,a)},d(e){e&&s(n)}}}function dn(t,n){var a,o,l=Xe("teams / edit-role / owner / info");return{c(){a=m("p"),o=f(l),a.className="mini-help"},m(e,t){i(e,a,t),r(a,o)},p:e,d(e){e&&s(a)}}}function un(e,t){var n;function r(e){return e.editId===e.user.id?fn:e.updating[e.user.id]?pn:mn}var a=r(t),o=a(e,t);return{c(){o.c(),n=h()},m(e,t){o.m(e,t),i(e,n,t)},p(t,i){a===(a=r(i))&&o?o.p(t,i):(o.d(1),(o=a(e,i)).c(),o.m(n.parentNode,n))},d(e){o.d(e),e&&s(n)}}}function mn(e,t){var n,a,o,l,c,d,u,p,h,b=Xe("teams / edit"),_=Xe("teams / remove");return{c(){n=m("button"),a=m("i"),o=f("  "),l=f(b),c=f("\n\n            "),d=m("button"),u=m("i"),p=f("  "),h=f(_),a.className="fa fa-edit",n._svelte={component:e,ctx:t},g(n,"click",Qt),n.className="btn",u.className="fa fa-times",d._svelte={component:e,ctx:t},g(d,"click",Xt),d.className="btn"},m(e,t){i(e,n,t),r(n,a),r(n,o),r(n,l),i(e,c,t),i(e,d,t),r(d,u),r(d,p),r(d,h)},p(e,r){t=r,n._svelte.ctx=t,d._svelte.ctx=t},d(e){e&&s(n),v(n,"click",Qt),e&&(s(c),s(d)),v(d,"click",Xt)}}}function pn(t,n){var a,o,l,c,d=Xe("teams / save");return{c(){a=m("button"),o=m("i"),l=f("  "),c=f(d),o.className="fa fa-spin fa-circle-o-notch",a.disabled=!0,a.className="btn btn-primary"},m(e,t){i(e,a,t),r(a,o),r(a,l),r(a,c)},p:e,d(e){e&&s(a)}}}function fn(e,t){var n,a,o,l,c=Xe("teams / save");return{c(){n=m("button"),a=m("i"),o=f("  "),l=f(c),a.className="fa fa-check",n._svelte={component:e,ctx:t},g(n,"click",en),n.className="btn btn-primary"},m(e,t){i(e,n,t),r(n,a),r(n,o),r(n,l)},p(e,r){t=r,n._svelte.ctx=t},d(e){e&&s(n),v(n,"click",en)}}}function hn(e,t){var n,i=new Ht({root:e.root,store:e.store,slots:{default:u()},data:{type:"error",visible:!0}});return{c(){n=f(t.error),i._fragment.c()},m(e,t){r(i._slotted.default,n),i._mount(e,t)},p(e,t){e.error&&y(n,t.error)},d(e){i.destroy(e)}}}function gn(e,t){var n,a,o,l,c,d,u,p,h,g,v,b,_=t.user.email,w=t.user.charts,T=t.isAdmin&&an(0,t);function N(e){return e.editId===e.user.id?ln:on}var k=N(t),x=k(e,t);function E(e){return e.isAdmin&&!e.isTeamOwner||e.isTeamOwner&&e.user.id!==e.userId||"owner"!==e.user.role?un:e.isTeamOwner&&"owner"===e.user.role?dn:void 0}var A=E(t),C=A&&A(e,t),L=t.error&&hn(e,t);return{c(){n=m("tr"),a=m("td"),o=f(_),l=f("\n        "),T&&T.c(),c=f("\n        "),d=m("td"),u=f(w),p=f("\n        "),h=m("td"),x.c(),g=f("\n        "),v=m("td"),C&&C.c(),b=f(" "),L&&L.c()},m(e,t){i(e,n,t),r(n,a),r(a,o),r(n,l),T&&T.m(n,null),r(n,c),r(n,d),r(d,u),r(n,p),r(n,h),x.m(h,null),r(n,g),r(n,v),C&&C.m(v,null),r(v,b),L&&L.m(v,null)},p(t,r){t.sortedUsers&&_!==(_=r.user.email)&&y(o,_),r.isAdmin?T?T.p(t,r):((T=an(0,r)).c(),T.m(n,c)):T&&(T.d(1),T=null),t.sortedUsers&&w!==(w=r.user.charts)&&y(u,w),k===(k=N(r))&&x?x.p(t,r):(x.d(1),(x=k(e,r)).c(),x.m(h,null)),A===(A=E(r))&&C?C.p(t,r):(C&&C.d(1),(C=A&&A(e,r))&&C.c(),C&&C.m(v,b)),r.error?L?L.p(t,r):((L=hn(e,r)).c(),L.m(v,null)):L&&(L.d(1),L=null)},d(e){e&&s(n),T&&T.d(),x.d(),C&&C.d(),L&&L.d()}}}function vn(e,t){var n,i=Xe("teams / change-owner-confirmation / warning"),s=new Ht({root:e.root,store:e.store,slots:{default:u()},data:{type:"'warning'",closeable:!1,visible:!0,class:"spacing-helper"}});return{c(){n=m("div"),s._fragment.c(),n.className="confirmation-warning svelte-1aw136m"},m(e,t){r(s._slotted.default,n),n.innerHTML=i,s._mount(e,t)},d(e){s.destroy(e)}}}function bn(e){U(this,e),this.refs={},this._state=t({editId:!1,error:null,updating:{},users:[],products:[]},e.data),this._recompute({isAdmin:1,isTeamOwner:1,users:1,sortedUsers:1,numCharts:1,team:1,editId:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,a,l,c,d,p,g,v;function b(e){return 1===e.numUsers?rn:e.numUsers>1?nn:void 0}var _=b(t),y=_&&_(e,t),w=t.sortedUsers.length&&sn(e,t),T=t.products.length&&vn(e),N={confirmButtonText:Xe("teams / change-owner-confirmation / confirm"),backButtonText:Xe("teams / change-owner-confirmation / back"),title:t.ownerChangeTitle},k=new Nt({root:e.root,store:e.store,slots:{default:u()},data:N});return k.on("confirm",(function(n){e.updateRole(t.editId)})),e.refs.confirmationModal=k,{c(){n=m("p"),y&&y.c(),a=f(" "),l=m("noscript"),c=f("\n\n"),w&&w.c(),d=f("\n\n"),p=m("p"),g=f("\n    "),T&&T.c(),v=h(),k._fragment.c()},m(e,s){i(e,n,s),y&&y.m(n,null),r(n,a),r(n,l),l.insertAdjacentHTML("afterend",t.numChartsCaption),i(e,c,s),w&&w.m(e,s),i(e,d,s),r(k._slotted.default,p),p.innerHTML=t.ownerChangeMessage,r(k._slotted.default,g),T&&T.m(k._slotted.default,null),r(k._slotted.default,v),k._mount(e,s)},p(r,i){_===(_=b(t=i))&&y?y.p(r,t):(y&&y.d(1),(y=_&&_(e,t))&&y.c(),y&&y.m(n,a)),r.numChartsCaption&&(o(l),l.insertAdjacentHTML("afterend",t.numChartsCaption)),t.sortedUsers.length?w?w.p(r,t):((w=sn(e,t)).c(),w.m(d.parentNode,d)):w&&(w.d(1),w=null),r.ownerChangeMessage&&(p.innerHTML=t.ownerChangeMessage),t.products.length?T||((T=vn(e)).c(),T.m(v.parentNode,v)):T&&(T.d(1),T=null);var s={};r.ownerChangeTitle&&(s.title=t.ownerChangeTitle),k._set(s)},d(t){t&&s(n),y&&y.d(),t&&s(c),w&&w.d(t),t&&s(d),T&&T.d(),k.destroy(t),e.refs.confirmationModal===k&&(e.refs.confirmationModal=null)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}t(bn.prototype,R),t(bn.prototype,Jt),bn.prototype._recompute=function(e,t){(e.isAdmin||e.isTeamOwner)&&this._differs(t.roles,t.roles=function({isAdmin:e,isTeamOwner:t}){return e||t?Kt:Kt.slice(1)}(t))&&(e.roles=!0),(e.users||e.isAdmin)&&this._differs(t.sortedUsers,t.sortedUsers=function({users:e,isAdmin:t}){return e.sort((e,t)=>{const n=["owner","admin","member"];return n.indexOf(e.role)>n.indexOf(t.role)?1:n.indexOf(e.role)<n.indexOf(t.role)?-1:e.email>t.email?1:e.email<t.email?-1:0}).filter(e=>t||!e.isAdmin)}(t))&&(e.sortedUsers=!0),e.isAdmin&&this._differs(t.userHeaders,t.userHeaders=function({isAdmin:e}){const t=[{title:Xe("teams / user"),width:"25%"},{title:"ID",width:"10%"},{title:"Charts",width:"15%"},{title:Xe("teams / status"),width:"15%"},{title:Xe("teams / actions"),width:"30%"}];return e||t.splice(1,1),t}(t))&&(e.userHeaders=!0),e.sortedUsers&&this._differs(t.numUsers,t.numUsers=function({sortedUsers:e}){return e.length}(t))&&(e.numUsers=!0),e.users&&this._differs(t.numCharts,t.numCharts=function({users:e}){let t=0;return e.forEach(e=>{t+=e.charts}),t}(t))&&(e.numCharts=!0),(e.numCharts||e.isAdmin||e.team)&&this._differs(t.numChartsCaption,t.numChartsCaption=function({numCharts:e,isAdmin:t,team:n}){return 1===e?Xe("teams / charts-total / 1"):e>1?t?Xe("teams / charts-total-admin","core",{i:e,link:"/admin/chart/by/team/"+n.id}):Xe("teams / charts-total","core",{i:e}):""}(t))&&(e.numChartsCaption=!0),(e.users||e.editId||e.team||e.isTeamOwner)&&this._differs(t.ownerChangeMessage,t.ownerChangeMessage=function({users:e,editId:t,team:n,isTeamOwner:r}){const i=e.find(e=>e.id===t),s=e.find(e=>e.id!==t&&"owner"===e.role),a=i?i.name||i.email||i.id:"non-existent",o=s?s.name||s.email||s.id:"non-existent";return Xe("teams / change-owner-confirmation / message","core",{member:`<b>${We(a,[])}</b>`,team:`<b>${n.name}</b>`,message:r?Xe("teams / change-owner-confirmation / owner-message"):Xe("teams / change-owner-confirmation / non-owner-message","core",{member:`<b>${o}</b>`})})}(t))&&(e.ownerChangeMessage=!0),(e.users||e.editId)&&this._differs(t.ownerChangeTitle,t.ownerChangeTitle=function({users:e,editId:t}){const n=e.find(e=>e.id===t),r=n?n.name||n.email||n.id:"non-existent";return Xe("teams / change-owner-confirmation / title","core",{member:r})}(t))&&(e.ownerChangeTitle=!0)};var _n={toggle(e){e.preventDefault();const{visible:t,disabled:n}=this.get();n||this.set({visible:!t})},windowClick(e){if(!e.target)return;const t="SVELTE2-WRAPPER"===e.target.tagName;if(t&&!e.composedPath().length)return;const n=t?e.composedPath()[0]:e.target,r=this.refs&&this.refs.button;r&&r===n||e.target.classList.contains("hex")||this.set({visible:!1})}};function yn(e,t){var n,a,o=e._slotted.content;return{c(){n=m("div"),o||((a=m("div")).textContent="DropdownControl content"),o||(a.className="base-dropdown-inner svelte-1jdtmzv"),w(n,"width",t.width),n.className="dropdown-menu base-dropdown-content svelte-1jdtmzv"},m(e,t){i(e,n,t),r(n,o||a)},p(e,t){e.width&&w(n,"width",t.width)},d(e){e&&s(n),o&&c(n,o)}}}function wn(e){U(this,e),this.refs={},this._state=t({visible:!1,disabled:!1,width:"auto",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n,a,o,l,d,u,p=e._slotted.button;function h(t){e.windowClick(t)}function b(t){e.toggle(t)}window.addEventListener("click",h);var _=t.visible&&yn(e,t);return{c(){n=m("div"),a=m("a"),p||(o=m("button"),l=m("i")),u=f("\n    "),_&&_.c(),p||(l.className=d="fa fa-chevron-"+(t.visible?"up":"down")+" svelte-1jdtmzv",o.className="btn btn-small"),g(a,"click",b),a.href="#dropdown-btn",a.className="base-drop-btn svelte-1jdtmzv",w(n,"position","relative"),w(n,"display","inline-block"),n.dataset.uid=t.uid},m(t,s){i(t,n,s),r(n,a),p?r(a,p):(r(a,o),r(o,l)),e.refs.button=a,r(n,u),_&&_.m(n,null)},p(t,r){p||t.visible&&d!==(d="fa fa-chevron-"+(r.visible?"up":"down")+" svelte-1jdtmzv")&&(l.className=d),r.visible?_?_.p(t,r):((_=yn(e,r)).c(),_.m(n,null)):_&&(_.d(1),_=null),t.uid&&(n.dataset.uid=r.uid)},d(t){window.removeEventListener("click",h),t&&s(n),p&&c(a,p),v(a,"click",b),e.refs.button===a&&(e.refs.button=null),_&&_.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(wn.prototype,R),t(wn.prototype,_n);var Tn={fireClick(){this.fire("click")},action(e){e.disabled||e.action(this)}};function Nn(e){e.preventDefault();const{component:t,ctx:n}=this._svelte;t.action(n.item)}function kn(e,t,n){const r=Object.create(e);return r.item=t[n],r}function xn(e,t){var n,a,l,c,d=t.icon&&En(e,t);function u(t){t.preventDefault(),t.stopPropagation(),e.fireClick()}return{c(){n=m("button"),d&&d.c(),a=f(" "),l=m("noscript"),g(n,"click",u),n.disabled=t.disabled,n.className=c="split-button-label "+t.btnClass+" svelte-1qu0vk"},m(e,s){i(e,n,s),d&&d.m(n,null),r(n,a),r(n,l),l.insertAdjacentHTML("afterend",t.label)},p(t,r){r.icon?d?d.p(t,r):((d=En(e,r)).c(),d.m(n,a)):d&&(d.d(1),d=null),t.label&&(o(l),l.insertAdjacentHTML("afterend",r.label)),t.disabled&&(n.disabled=r.disabled),t.btnClass&&c!==(c="split-button-label "+r.btnClass+" svelte-1qu0vk")&&(n.className=c)},d(e){e&&s(n),d&&d.d(),v(n,"click",u)}}}function En(e,t){var n;return{c(){(n=m("i")).className=t.icon+" svelte-1qu0vk"},m(e,t){i(e,n,t)},p(e,t){e.icon&&(n.className=t.icon+" svelte-1qu0vk")},d(e){e&&s(n)}}}function An(e,t){var n,r,a=t.icon&&Ln(e,t);function o(e){return e.label?On:Mn}var l=o(t),c=l(e,t);return{c(){a&&a.c(),n=f(" "),c.c(),r=h()},m(e,t){a&&a.m(e,t),i(e,n,t),c.m(e,t),i(e,r,t)},p(t,i){i.icon?a?a.p(t,i):((a=Ln(e,i)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),l===(l=o(i))&&c?c.p(t,i):(c.d(1),(c=l(e,i)).c(),c.m(r.parentNode,r))},d(e){a&&a.d(e),e&&s(n),c.d(e),e&&s(r)}}}function Cn(t,n){var r;return{c(){(r=m("span")).className="caret"},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function Ln(e,t){var n;return{c(){(n=m("i")).className=t.icon+" svelte-1qu0vk"},m(e,t){i(e,n,t)},p(e,t){e.icon&&(n.className=t.icon+" svelte-1qu0vk")},d(e){e&&s(n)}}}function Mn(t,n){var r;return{c(){(r=m("i")).className="im im-menu-dot-h svelte-1qu0vk"},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function On(e,t){var n,r,o,l;return{c(){n=m("noscript"),r=m("noscript"),o=f("\n            "),(l=m("span")).className="caret"},m(e,s){i(e,n,s),n.insertAdjacentHTML("afterend",t.label),i(e,r,s),i(e,o,s),i(e,l,s)},p(e,t){e.label&&(a(n,r),n.insertAdjacentHTML("afterend",t.label))},d(e){e&&(a(n,r),s(n),s(r),s(o),s(l))}}}function Un(e,t){var n,a,o,l=t.item.label;return{c(){n=m("li"),a=m("a"),o=f("\n        "),a._svelte={component:e,ctx:t},g(a,"click",Nn),a.href="#/action",a.className="svelte-1qu0vk",k(a,"disabled",t.item.disabled),n.className="svelte-1qu0vk"},m(e,t){i(e,n,t),r(n,a),a.innerHTML=l,r(n,o)},p(e,n){t=n,e.items&&l!==(l=t.item.label)&&(a.innerHTML=l),a._svelte.ctx=t,e.items&&k(a,"disabled",t.item.disabled)},d(e){e&&s(n),v(a,"click",Nn)}}}function Sn(e){U(this,e),this._state=t({label:"",icon:!1,split:!1,items:[],btnClass:"btn",uid:""},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,s,a,o,l=t.split&&xn(e,t);function c(e){return e.split?Cn:An}for(var p=c(t),h=p(e,t),g=t.items,v=[],_=0;_<g.length;_+=1)v[_]=Un(e,kn(t,g,_));var y={disabled:t.disabled,uid:t.uid},w=new wn({root:e.root,store:e.store,slots:{default:u(),content:u(),button:u()},data:y});return{c(){n=m("div"),l&&l.c(),i=f("\n        "),s=m("button"),h.c(),a=f("\n\n    "),o=m("ul");for(var e=0;e<v.length;e+=1)v[e].c();w._fragment.c(),s.disabled=t.disabled,s.className=t.btnClass+" svelte-1qu0vk",b(n,"slot","button"),n.className="btn-group",b(o,"slot","content"),o.className="svelte-1qu0vk"},m(e,t){r(w._slotted.button,n),l&&l.m(n,null),r(n,i),r(n,s),h.m(s,null),r(w._slotted.default,a),r(w._slotted.content,o);for(var c=0;c<v.length;c+=1)v[c].m(o,null);w._mount(e,t)},p(t,r){if(r.split?l?l.p(t,r):((l=xn(e,r)).c(),l.m(n,i)):l&&(l.d(1),l=null),p===(p=c(r))&&h?h.p(t,r):(h.d(1),(h=p(e,r)).c(),h.m(s,null)),t.disabled&&(s.disabled=r.disabled),t.btnClass&&(s.className=r.btnClass+" svelte-1qu0vk"),t.items){g=r.items;for(var a=0;a<g.length;a+=1){const n=kn(r,g,a);v[a]?v[a].p(t,n):(v[a]=Un(e,n),v[a].c(),v[a].m(o,null))}for(;a<v.length;a+=1)v[a].d(1);v.length=g.length}var d={};t.disabled&&(d.disabled=r.disabled),t.uid&&(d.uid=r.uid),w._set(d)},d(e){l&&l.d(),h.d(),d(v,e),w.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}function In(e,t){var n,a,o,l=e._slotted.labelExtra;return{c(){n=m("label"),a=m("noscript"),n.className="control-label svelte-150khnx"},m(e,s){i(e,n,s),r(n,a),a.insertAdjacentHTML("beforebegin",t.label),l&&(r(n,o||(o=h())),r(n,l))},p(e,t){e.label&&(!function(e){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling)}(a),a.insertAdjacentHTML("beforebegin",t.label))},d(e){e&&s(n),l&&function(e,t){for(;e.nextSibling;)t.appendChild(e.nextSibling)}(o,l)}}}function Hn(e,t){var n;return{c(){(n=m("div")).className="help success svelte-150khnx"},m(e,r){i(e,n,r),n.innerHTML=t.success},p(e,t){e.success&&(n.innerHTML=t.success)},d(e){e&&s(n)}}}function Rn(e,t){var n;return{c(){(n=m("div")).className="help error svelte-150khnx"},m(e,r){i(e,n,r),n.innerHTML=t.error},p(e,t){e.error&&(n.innerHTML=t.error)},d(e){e&&s(n)}}}function Dn(e,t){var n;return{c(){(n=m("div")).className="help svelte-150khnx"},m(e,r){i(e,n,r),n.innerHTML=t.help},p(e,t){e.help&&(n.innerHTML=t.help)},d(e){e&&s(n)}}}function jn(e){var n,a,o,l,d,u,p,h,g,v,b,_,y,T;U(this,e),this._state=t({label:"",help:"",compact:!1,class:"",error:!1,success:!1,width:"auto",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(n=this,a=this._state,v=n._slotted.default,b=a.label&&In(n,a),_=a.success&&Hn(0,a),y=a.error&&Rn(0,a),T=!a.success&&!a.error&&a.help&&Dn(0,a),{c(){o=m("div"),b&&b.c(),l=f("\n    "),d=m("div"),u=f("\n    "),_&&_.c(),p=f(" "),y&&y.c(),h=f(" "),T&&T.c(),d.className="form-controls svelte-150khnx",o.className=g="form-block "+a.class+" svelte-150khnx",w(o,"width",a.width),o.dataset.uid=a.uid,k(o,"compact",a.compact),k(o,"success",a.success),k(o,"error",a.error)},m(e,t){i(e,o,t),b&&b.m(o,null),r(o,l),r(o,d),v&&r(d,v),r(o,u),_&&_.m(o,null),r(o,p),y&&y.m(o,null),r(o,h),T&&T.m(o,null)},p(e,t){t.label?b?b.p(e,t):((b=In(n,t)).c(),b.m(o,l)):b&&(b.d(1),b=null),t.success?_?_.p(e,t):((_=Hn(0,t)).c(),_.m(o,p)):_&&(_.d(1),_=null),t.error?y?y.p(e,t):((y=Rn(0,t)).c(),y.m(o,h)):y&&(y.d(1),y=null),t.success||t.error||!t.help?T&&(T.d(1),T=null):T?T.p(e,t):((T=Dn(0,t)).c(),T.m(o,null)),e.class&&g!==(g="form-block "+t.class+" svelte-150khnx")&&(o.className=g),e.width&&w(o,"width",t.width),e.uid&&(o.dataset.uid=t.uid),(e.class||e.compact)&&k(o,"compact",t.compact),(e.class||e.success)&&k(o,"success",t.success),(e.class||e.error)&&k(o,"error",t.error)},d(e){e&&s(o),b&&b.d(),v&&c(d,v),_&&_.d(),y&&y.d(),T&&T.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(Sn.prototype,R),t(Sn.prototype,Tn),t(jn.prototype,R);var Bn={async addUser(e){const{inviteeExists:t,inviteeUserId:n}=this.get();if(!t)return;this.set({currentAction:{updatingUsers:!0,isComplete:!1}});const r=await Vt.post(`/v3/teams/${this.get().team.id}/members`,{raw:!0,payload:{userId:n,role:e}}),i=r.ok?null:await r.json(),s={updatingUsers:!1,isComplete:!0,isError:!r.ok,errorCode:r.ok?null:r.status,responseData:i&&i.data?i.data:null,type:"add",role:e};this.set({invitedEmail:this.get().inviteeEmail,currentAction:s}),this.fire("updateUsers")},async inviteUser(e){const{inviteeEmail:t}=this.get();this.set({currentAction:{updatingUsers:!0,isComplete:!1}});const n=await Vt.post(`/v3/teams/${this.get().team.id}/invites`,{raw:!0,payload:{email:t,role:e}}),r=n.ok?null:await n.json(),i={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:r&&r.data?r.data:null,type:"invite",role:e};this.set({invitedEmail:this.get().inviteeEmail,currentAction:i}),this.fire("updateUsers")},async debounceCheckUser(){this.get().isAdmin&&(window.clearTimeout(window.checkUser),this.set({inviteeExistsLoading:!0}),window.checkUser=setTimeout(()=>{this.checkUser()},200))},async checkUser(){let{inviteeEmail:e}=this.get();const{isValidEmail:t}=this.get();if(!t)return void this.set({inviteeExistsLoading:!1});const n=await Vt.get("/v3/users?search="+encodeURIComponent(e));this.set({inviteeExistsLoading:!1,inviteeExists:!1}),n.list.length>0&&(e=this.get().inviteeEmail,n.list.forEach(t=>{t.email.toLowerCase()===e.toLowerCase()&&this.set({inviteeExists:!0,inviteeUserId:t.id})}))}};function zn(){window.teamSettingsInvite=this}function Pn({changed:e}){e.inviteeEmail&&(this.set({inviteeExists:!1}),this.debounceCheckUser())}function Fn(e){U(this,e),this._state=t({inviteeEmail:"",invitedEmail:"",currentAction:{updatingUsers:!1,isComplete:!1,isError:!1,errorCode:null,responseData:null,type:"",role:""}},e.data),this._recompute({invitedEmail:1,currentAction:1,inviteeEmail:1,isAdmin:1,isTeamOwner:1,isValidEmail:1,inviteeExistsLoading:1,inviteeExists:1},this._state),this._intro=!0,this._handlers.state=[Pn],Pn.call(this,{changed:n({},this._state),current:this._state}),this._fragment=function(e,t){var n,i,s,a=!1;function o(){a=!0,e.set({inviteeEmail:i.value}),a=!1}var l={disabled:!t.isValidEmail,label:"<i class='fa "+(t.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>  "+Xe("teams / invite"),items:t.inviteOptions},c=new Sn({root:e.root,store:e.store,data:l}),d={label:Xe("teams / invite-user"),help:Xe("teams / invite-user / help"),success:t.successMessage,error:t.errorMessage},p=new jn({root:e.root,store:e.store,slots:{default:u()},data:d});return{c(){n=m("div"),i=m("input"),s=f(" \n        "),c._fragment.c(),p._fragment.c(),g(i,"input",o),b(i,"type","text"),i.width="1px",i.placeholder=Xe("teams / invite-user / eg"),i.className="svelte-m6ws61",n.className="flex svelte-m6ws61"},m(e,a){r(p._slotted.default,n),r(n,i),i.value=t.inviteeEmail,r(n,s),c._mount(n,null),p._mount(e,a)},p(e,t){!a&&e.inviteeEmail&&(i.value=t.inviteeEmail);var n={};e.isValidEmail&&(n.disabled=!t.isValidEmail),e.currentAction&&(n.label="<i class='fa "+(t.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>  "+Xe("teams / invite")),e.inviteOptions&&(n.items=t.inviteOptions),c._set(n);var r={};e.successMessage&&(r.success=t.successMessage),e.errorMessage&&(r.error=t.errorMessage),p._set(r)},d(e){v(i,"input",o),c.destroy(),p.destroy(e)}}}(this,this._state),this.root._oncreate.push(()=>{zn.call(this),this.fire("update",{changed:n({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}t(Fn.prototype,R),t(Fn.prototype,Bn),Fn.prototype._recompute=function(e,t){(e.invitedEmail||e.currentAction)&&(this._differs(t.successMessage,t.successMessage=function({invitedEmail:e,currentAction:t}){const{isComplete:n,isError:r,type:i,role:s}=t;if(!n||r)return;return Xe(`teams / invite-user / ${i} / success`).replace("$1",(a=e,a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))).replace("$2",Xe("teams / role / "+s));var a}(t))&&(e.successMessage=!0),this._differs(t.errorMessage,t.errorMessage=function({invitedEmail:e,currentAction:t}){const{isComplete:n,isError:r,errorCode:i,responseData:s,type:a}=t;if(!n||!r)return;const o=[400,401,406].includes(i)?i:"other",l=406===i&&s&&s.maxTeamInvites?s.maxTeamInvites:null;return Xe(`teams / invite-user / ${a} / error / ${o}`).replace("$1",e).replace("$2",l)}(t))&&(e.errorMessage=!0)),e.inviteeEmail&&this._differs(t.isValidEmail,t.isValidEmail=function({inviteeEmail:e}){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(t))&&(e.isValidEmail=!0),(e.isAdmin||e.isTeamOwner||e.isValidEmail||e.inviteeExistsLoading||e.inviteeExists)&&this._differs(t.inviteOptions,t.inviteOptions=function({isAdmin:e,isTeamOwner:t,isValidEmail:n,inviteeExistsLoading:r,inviteeExists:i}){const s=[{label:'<i class="fa fa-envelope"></i> &nbsp;...'+Xe("teams / role / member"),disabled:!n,action(){teamSettingsInvite.inviteUser("member")}},{label:'<i class="fa fa-envelope"></i> &nbsp;...'+Xe("teams / role / admin"),disabled:!n,action(){teamSettingsInvite.inviteUser("admin")}}];return(e||t)&&s.push({label:'<i class="fa fa-envelope"></i> &nbsp;...'+Xe("teams / role / owner"),disabled:!n,action(){teamSettingsInvite.inviteUser("owner")}}),e&&s.push({label:`<span class="red"><i class="fa ${r?"fa-spin fa-circle-o-notch":"fa-plus"}"></i> &nbsp;${Xe("teams / add-as").replace("%s",Xe("teams / role / member"))}</span>`,disabled:!i,action(){teamSettingsInvite.addUser("member")}},{label:`<span class="red"><i class="fa ${r?"fa-spin fa-circle-o-notch":"fa-plus"}"></i> &nbsp;${Xe("teams / add-as").replace("%s",Xe("teams / role / admin"))}</span>`,disabled:!i,action(){teamSettingsInvite.addUser("admin")}},{label:`<span class="red"><i class="fa ${r?"fa-spin fa-circle-o-notch":"fa-plus"}"></i> &nbsp;${Xe("teams / add-as").replace("%s",Xe("teams / role / owner"))}</span>`,disabled:!i,action(){teamSettingsInvite.addUser("owner")}}),s}(t))&&(e.inviteOptions=!0)};var $n={updateUsers(){const{team:e}=this.get();this.set({awaitLoadingUsers:Vt.get(`/v3/teams/${e.id}/members?limit=1000`).then(e=>{this.set({users:e.list})}),awaitLoadingProducts:Vt.get(`/v3/teams/${e.id}/products`).then(e=>{this.set({products:e.list})})})}};function qn(){this.updateUsers()}function Gn({changed:e,current:t}){e.newRole&&t.newRole&&this.store.set({role:t.newRole})}function Wn(e,n){var r,a;let o={component:e,ctx:n,current:null,pending:Yn,then:Kn,catch:Vn,value:"null",error:"null"};return x(a=n.awaitLoadingUsers,o),{c(){r=h(),o.block.c()},m(e,t){i(e,r,t),o.block.m(e,o.anchor=t),o.mount=()=>r.parentNode,o.anchor=r},p(e,r){n=r,o.ctx=n,"awaitLoadingUsers"in e&&a!==(a=n.awaitLoadingUsers)&&x(a,o)||o.block.p(e,t(t({},n),o.resolved))},d(e){e&&s(r),o.block.d(e),o=null}}}function Vn(t,n){var r;return{c(){r=f("error!")},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function Kn(e,t){var n={},r={isAdmin:t.isAdmin,isTeamOwner:t.isTeamOwner,isTeamAdmin:t.isTeamAdmin,team:t.team};void 0!==t.userId&&(r.userId=t.userId,n.userId=!0),void 0!==t.users&&(r.users=t.users,n.users=!0),void 0!==t.products&&(r.products=t.products,n.products=!0),void 0!==t.editIndex&&(r.editIndex=t.editIndex,n.editIndex=!0),void 0!==t.updating&&(r.updating=t.updating,n.updating=!0);var i=new bn({root:e.root,store:e.store,data:r,_bind(t,r){var i={};!n.userId&&t.userId&&(i.userId=r.userId),!n.users&&t.users&&(i.users=r.users),!n.products&&t.products&&(i.products=r.products),!n.editIndex&&t.editIndex&&(i.editIndex=r.editIndex),!n.updating&&t.updating&&(i.updating=r.updating),e._set(i),n={}}});return e.root._beforecreate.push(()=>{i._bind({userId:1,users:1,products:1,editIndex:1,updating:1},i.get())}),i.on("updateUsers",(function(t){e.updateUsers()})),{c(){i._fragment.c()},m(e,t){i._mount(e,t)},p(e,r){t=r;var s={};e.isAdmin&&(s.isAdmin=t.isAdmin),e.isTeamOwner&&(s.isTeamOwner=t.isTeamOwner),e.isTeamAdmin&&(s.isTeamAdmin=t.isTeamAdmin),e.team&&(s.team=t.team),!n.userId&&e.userId&&(s.userId=t.userId,n.userId=void 0!==t.userId),!n.users&&e.users&&(s.users=t.users,n.users=void 0!==t.users),!n.products&&e.products&&(s.products=t.products,n.products=void 0!==t.products),!n.editIndex&&e.editIndex&&(s.editIndex=t.editIndex,n.editIndex=void 0!==t.editIndex),!n.updating&&e.updating&&(s.updating=t.updating,n.updating=void 0!==t.updating),i._set(s),n={}},d(e){i.destroy(e)}}}function Yn(t,n){var a,o,l,c,d=Xe("teams / loading");return{c(){a=m("p"),o=m("i"),l=f("   "),c=m("noscript"),o.className="fa fa-circle-o-notch fa-spin"},m(e,t){i(e,a,t),r(a,o),r(a,l),r(a,c),c.insertAdjacentHTML("afterend",d)},p:e,d(e){e&&s(a)}}}function Zn(e){U(this,e),this._state=t(t(this.store._init(["role"]),{editIndex:0,updating:{},updatingUsers:!1,awaitLoadingUsers:!1,products:[]}),e.data),this.store._add(this,["role"]),this._recompute({users:1,userId:1,$role:1},this._state),this._intro=!0,this._handlers.state=[Gn],this._handlers.destroy=[H],Gn.call(this,{changed:n({},this._state),current:this._state}),this._fragment=function(e,t){var n,a,o,l,c,d,u,p,g,v,b,_,y,T,N,k,x,E,A,C,L,M,O,U,S,I,H,R,D,j,B,z,P,F,$,q,G,W,V,K,Y,Z,J,X,Q,ee,te,ne,re,ie,se,ae,oe,le,ce,de,ue,me,pe,fe,he,ge,ve,be,_e,ye,we,Te,Ne,ke,xe,Ee,Ae,Ce=Xe("teams / p"),Le={},Me=Xe("teams / role / member"),Oe=Xe("teams / role / admin"),Ue=Xe("teams / role / owner"),Se=Xe("teams / roles / edit-charts"),Ie=Xe("teams / roles / edit-folders"),He=Xe("teams / roles / access-settings"),Re=Xe("teams / roles / invite-users"),De=Xe("teams / roles / subscription-options"),je=Xe("teams / roles / remove-team"),Be={isTeamOwner:t.isTeamOwner,isAdmin:t.isAdmin};void 0!==t.team&&(Be.team=t.team,Le.team=!0),void 0!==t.updatingUsers&&(Be.updatingUsers=t.updatingUsers,Le.updatingUsers=!0);var ze=new Fn({root:e.root,store:e.store,data:Be,_bind(t,n){var r={};!Le.team&&t.team&&(r.team=n.team),!Le.updatingUsers&&t.updatingUsers&&(r.updatingUsers=n.updatingUsers),e._set(r),Le={}}});e.root._beforecreate.push(()=>{ze._bind({team:1,updatingUsers:1},ze.get())}),ze.on("updateUsers",(function(t){e.updateUsers()}));var Pe=t.awaitLoadingUsers&&Wn(e,t);return{c(){n=m("p"),a=f("\n\n"),o=m("div"),l=m("div"),ze._fragment.c(),c=f("\n    "),d=m("div"),u=m("table"),p=m("thead"),g=m("tr"),v=m("td"),b=f("\n                    "),_=m("th"),y=f("\n                    "),T=m("th"),N=f("\n                    "),k=m("th"),x=f("\n            "),E=m("tbody"),A=m("tr"),C=m("td"),L=f("\n                    "),(M=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',O=f("\n                    "),(U=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',S=f("\n                    "),(I=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',H=f("\n\n                "),R=m("tr"),D=m("td"),j=f("\n                    "),(B=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',z=f("\n                    "),(P=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',F=f("\n                    "),($=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',q=f("\n\n                "),G=m("tr"),W=m("td"),V=f("\n                    "),(K=m("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Y=f("\n                    "),(Z=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',J=f("\n                    "),(X=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Q=f("\n\n                "),ee=m("tr"),te=m("td"),ne=f("\n                    "),(re=m("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',ie=f("\n                    "),(se=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ae=f("\n                    "),(oe=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',le=f("\n\n                "),ce=m("tr"),de=m("td"),ue=f("\n                    "),(me=m("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',pe=f("\n                    "),(fe=m("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',he=f("\n                    "),(ge=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ve=f("\n\n                "),be=m("tr"),_e=m("td"),ye=f("\n                    "),(we=m("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Te=f("\n                    "),(Ne=m("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',ke=f("\n                    "),(xe=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Ee=f("\n\n"),Pe&&Pe.c(),Ae=h(),w(n,"margin-bottom","10px"),l.className="span4",v.className="svelte-hgmegl",_.className="svelte-hgmegl",T.className="svelte-hgmegl",k.className="svelte-hgmegl",C.className="svelte-hgmegl",M.className="svelte-hgmegl",U.className="svelte-hgmegl",I.className="svelte-hgmegl",D.className="svelte-hgmegl",B.className="svelte-hgmegl",P.className="svelte-hgmegl",$.className="svelte-hgmegl",W.className="svelte-hgmegl",K.className="svelte-hgmegl",Z.className="svelte-hgmegl",X.className="svelte-hgmegl",te.className="svelte-hgmegl",re.className="svelte-hgmegl",se.className="svelte-hgmegl",oe.className="svelte-hgmegl",de.className="svelte-hgmegl",me.className="svelte-hgmegl",fe.className="svelte-hgmegl",ge.className="svelte-hgmegl",_e.className="svelte-hgmegl",we.className="svelte-hgmegl",Ne.className="svelte-hgmegl",xe.className="svelte-hgmegl",E.className="svelte-hgmegl",u.className="role-descriptions svelte-hgmegl",w(u,"margin-left","3em"),d.className="span6",o.className="row",w(o,"margin-bottom","2em")},m(e,t){i(e,n,t),n.innerHTML=Ce,i(e,a,t),i(e,o,t),r(o,l),ze._mount(l,null),r(o,c),r(o,d),r(d,u),r(u,p),r(p,g),r(g,v),r(g,b),r(g,_),_.innerHTML=Me,r(g,y),r(g,T),T.innerHTML=Oe,r(g,N),r(g,k),k.innerHTML=Ue,r(u,x),r(u,E),r(E,A),r(A,C),C.innerHTML=Se,r(A,L),r(A,M),r(A,O),r(A,U),r(A,S),r(A,I),r(E,H),r(E,R),r(R,D),D.innerHTML=Ie,r(R,j),r(R,B),r(R,z),r(R,P),r(R,F),r(R,$),r(E,q),r(E,G),r(G,W),W.innerHTML=He,r(G,V),r(G,K),r(G,Y),r(G,Z),r(G,J),r(G,X),r(E,Q),r(E,ee),r(ee,te),te.innerHTML=Re,r(ee,ne),r(ee,re),r(ee,ie),r(ee,se),r(ee,ae),r(ee,oe),r(E,le),r(E,ce),r(ce,de),de.innerHTML=De,r(ce,ue),r(ce,me),r(ce,pe),r(ce,fe),r(ce,he),r(ce,ge),r(E,ve),r(E,be),r(be,_e),_e.innerHTML=je,r(be,ye),r(be,we),r(be,Te),r(be,Ne),r(be,ke),r(be,xe),i(e,Ee,t),Pe&&Pe.m(e,t),i(e,Ae,t)},p(n,r){t=r;var i={};n.isTeamOwner&&(i.isTeamOwner=t.isTeamOwner),n.isAdmin&&(i.isAdmin=t.isAdmin),!Le.team&&n.team&&(i.team=t.team,Le.team=void 0!==t.team),!Le.updatingUsers&&n.updatingUsers&&(i.updatingUsers=t.updatingUsers,Le.updatingUsers=void 0!==t.updatingUsers),ze._set(i),Le={},t.awaitLoadingUsers?Pe?Pe.p(n,t):((Pe=Wn(e,t)).c(),Pe.m(Ae.parentNode,Ae)):Pe&&(Pe.d(1),Pe=null)},d(e){e&&(s(n),s(a),s(o)),ze.destroy(),e&&s(Ee),Pe&&Pe.d(e),e&&s(Ae)}}}(this,this._state),this.root._oncreate.push(()=>{qn.call(this),this.fire("update",{changed:n({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}function Jn(e,n){this._handlers={},this._dependents=[],this._computed=E(),this._sortedComputedProperties=[],this._state=t({},e),this._differs=n&&n.immutable?C:A}t(Zn.prototype,R),t(Zn.prototype,$n),Zn.prototype._recompute=function(e,t){(e.users||e.userId)&&this._differs(t.newRole,t.newRole=function({users:e,userId:t}){if(!e||!e.length||!t)return!1;const n=e.find(e=>e.id===t);return n?n.role:"admin"}(t))&&(e.newRole=!0),e.$role&&(this._differs(t.isTeamOwner,t.isTeamOwner=function({$role:e}){return"owner"===e}(t))&&(e.isTeamOwner=!0),this._differs(t.isTeamAdmin,t.isTeamAdmin=function({$role:e}){return"admin"===e}(t))&&(e.isTeamAdmin=!0))},t(Jn.prototype,{_add(e,t){this._dependents.push({component:e,props:t})},_init(e){const t={};for(let n=0;n<e.length;n+=1){const r=e[n];t["$"+r]=this._state[r]}return t},_remove(e){let t=this._dependents.length;for(;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set(e,n){const r=this._state;this._state=t(t({},r),e);for(let e=0;e<this._sortedComputedProperties.length;e+=1)this._sortedComputedProperties[e].update(this._state,n);this.fire("state",{changed:n,previous:r,current:this._state}),this._dependents.filter(e=>{const t={};let r=!1;for(let i=0;i<e.props.length;i+=1){const s=e.props[i];s in n&&(t["$"+s]=this._state[s],r=!0)}if(r)return e.component._stage(t),!0}).forEach(e=>{e.component.set({})}),this.fire("update",{changed:n,previous:r,current:this._state})},_sortComputedProperties(){const e=this._computed,t=this._sortedComputedProperties=[],n=E();let r;function i(s){const a=e[s];a&&(a.deps.forEach(e=>{if(e===r)throw new Error(`Cyclical dependency detected between ${e} <-> ${s}`);i(e)}),n[s]||(n[s]=!0,t.push(a)))}for(const e in this._computed)i(r=e)},compute(e,n,r){let i;const s={deps:n,update:(t,s,a)=>{const o=n.map(e=>(e in s&&(a=!0),t[e]));if(a){const n=r.apply(null,o);this._differs(n,i)&&(i=n,s[e]=!0,t[e]=i)}}};this._computed[e]=s,this._sortComputedProperties();const a=t({},this._state),o={};s.update(a,o,!0),this._set(a,o)},fire:L,get:O,on:S,set(e){const t=this._state,n=this._changed={};let r=!1;for(const i in e){if(this._computed[i])throw new Error(`'${i}' is a read-only computed property`);this._differs(e[i],t[i])&&(n[i]=r=!0)}r&&this._set(e,n)}});return{App:Zn,store:new Jn({})}}));
//# sourceMappingURL=members.js.map
