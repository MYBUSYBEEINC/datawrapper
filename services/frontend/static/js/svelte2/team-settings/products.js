!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@datawrapper/controls/TableDisplay.html"),require("@datawrapper/controls/SelectControl.html")):"function"==typeof define&&define.amd?define("svelte/team-settings/products",["@datawrapper/controls/TableDisplay.html","@datawrapper/controls/SelectControl.html"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["team-settings/products"]=e(t.TableDisplay,t.SelectControl)}(this,(function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(t),o=n(e);function i(){}function a(t,e){for(var n in e)t[n]=e[n];return t}function s(t,e){for(var n in e)t[n]=1;return t}function c(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n)}function u(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function f(){return document.createComment("")}function m(t,e,n,r){t.addEventListener(e,n,r)}function h(t,e,n,r){t.removeEventListener(e,n,r)}function g(t,e){t.data=""+e}function y(){return Object.create(null)}function _(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function v(t,e){return t!=t?e==e:t!==e}function b(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1){var o=n[r];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function w(t){t._lock=!0,E(t._beforecreate),E(t._oncreate),E(t._aftercreate),t._lock=!1}function T(){return this._state}function N(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function E(t){for(;t&&t.length;)t.shift()()}var x={destroy:function(t){this.destroy=i,this.fire("destroy"),this.set=i,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:T,fire:b,on:N,set:function(t){this._set(a({},t)),this.root._lock||w(this.root)},_recompute:i,_set:function(t){var e=this._state,n={},r=!1;for(var o in t=a(this._staged,t),this._staged={},t)this._differs(t[o],e[o])&&(n[o]=r=!0);r&&(this._state=a(a({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){a(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:_},A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function k(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}var O={};
/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function M(t,e,n){return(M=D()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&C(o,n.prototype),o}).apply(null,arguments)}function R(t){return function(t){if(Array.isArray(t))return L(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var P=Object.hasOwnProperty,I=Object.setPrototypeOf,j=Object.isFrozen,H=Object.getPrototypeOf,F=Object.getOwnPropertyDescriptor,U=Object.freeze,z=Object.seal,B=Object.create,G="undefined"!=typeof Reflect&&Reflect,$=G.apply,W=G.construct;$||($=function(t,e,n){return t.apply(e,n)}),U||(U=function(t){return t}),z||(z=function(t){return t}),W||(W=function(t,e){return M(t,R(e))});var q,V=rt(Array.prototype.forEach),Y=rt(Array.prototype.pop),K=rt(Array.prototype.push),J=rt(String.prototype.toLowerCase),X=rt(String.prototype.match),Z=rt(String.prototype.replace),Q=rt(String.prototype.indexOf),tt=rt(String.prototype.trim),et=rt(RegExp.prototype.test),nt=(q=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return W(q,e)});function rt(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return $(t,e,r)}}function ot(t,e,n){n=n||J,I&&I(t,null);for(var r=e.length;r--;){var o=e[r];if("string"==typeof o){var i=n(o);i!==o&&(j(e)||(e[r]=i),o=i)}t[o]=!0}return t}function it(t){var e,n=B(null);for(e in t)$(P,t,[e])&&(n[e]=t[e]);return n}function at(t,e){for(;null!==t;){var n=F(t,e);if(n){if(n.get)return rt(n.get);if("function"==typeof n.value)return rt(n.value)}t=H(t)}return function(t){return console.warn("fallback value for",t),null}}var st=U(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ct=U(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),lt=U(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ut=U(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),dt=U(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),pt=U(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ft=U(["#text"]),mt=U(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ht=U(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),gt=U(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yt=U(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_t=z(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vt=z(/<%[\w\W]*|[\w\W]*%>/gm),bt=z(/^data-[\-\w.\u00B7-\uFFFF]/),wt=z(/^aria-[\-\w]+$/),Tt=z(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Nt=z(/^(?:\w+script|data):/i),Et=z(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xt=z(/^html$/i),At=function(){return"undefined"==typeof window?null:window},kt=function(t,e){if("object"!==S(t)||"function"!=typeof t.createPolicy)return null;var n=null;e.currentScript&&e.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=e.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};var Ot=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At(),n=function(e){return t(e)};if(n.version="2.4.0",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var r=e.document,o=e.document,i=e.DocumentFragment,a=e.HTMLTemplateElement,s=e.Node,c=e.Element,l=e.NodeFilter,u=e.NamedNodeMap,d=void 0===u?e.NamedNodeMap||e.MozNamedAttrMap:u,p=e.HTMLFormElement,f=e.DOMParser,m=e.trustedTypes,h=c.prototype,g=at(h,"cloneNode"),y=at(h,"nextSibling"),_=at(h,"childNodes"),v=at(h,"parentNode");if("function"==typeof a){var b=o.createElement("template");b.content&&b.content.ownerDocument&&(o=b.content.ownerDocument)}var w=kt(m,r),T=w?w.createHTML(""):"",N=o,E=N.implementation,x=N.createNodeIterator,A=N.createDocumentFragment,k=N.getElementsByTagName,O=r.importNode,C={};try{C=it(o).documentMode?o.documentMode:{}}catch(t){}var D={};n.isSupported="function"==typeof v&&E&&void 0!==E.createHTMLDocument&&9!==C;var M,L,P=_t,I=vt,j=bt,H=wt,F=Nt,z=Et,B=Tt,G=null,$=ot({},[].concat(R(st),R(ct),R(lt),R(dt),R(ft))),W=null,q=ot({},[].concat(R(mt),R(ht),R(gt),R(yt))),rt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ot=null,St=null,Ct=!0,Dt=!0,Mt=!1,Rt=!1,Lt=!1,Pt=!1,It=!1,jt=!1,Ht=!1,Ft=!1,Ut=!0,zt=!1,Bt="user-content-",Gt=!0,$t=!1,Wt={},qt=null,Vt=ot({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Yt=null,Kt=ot({},["audio","video","img","source","image","track"]),Jt=null,Xt=ot({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zt="http://www.w3.org/1998/Math/MathML",Qt="http://www.w3.org/2000/svg",te="http://www.w3.org/1999/xhtml",ee=te,ne=!1,re=["application/xhtml+xml","text/html"],oe="text/html",ie=null,ae=o.createElement("form"),se=function(t){return t instanceof RegExp||t instanceof Function},ce=function(t){ie&&ie===t||(t&&"object"===S(t)||(t={}),t=it(t),M=M=-1===re.indexOf(t.PARSER_MEDIA_TYPE)?oe:t.PARSER_MEDIA_TYPE,L="application/xhtml+xml"===M?function(t){return t}:J,G="ALLOWED_TAGS"in t?ot({},t.ALLOWED_TAGS,L):$,W="ALLOWED_ATTR"in t?ot({},t.ALLOWED_ATTR,L):q,Jt="ADD_URI_SAFE_ATTR"in t?ot(it(Xt),t.ADD_URI_SAFE_ATTR,L):Xt,Yt="ADD_DATA_URI_TAGS"in t?ot(it(Kt),t.ADD_DATA_URI_TAGS,L):Kt,qt="FORBID_CONTENTS"in t?ot({},t.FORBID_CONTENTS,L):Vt,Ot="FORBID_TAGS"in t?ot({},t.FORBID_TAGS,L):{},St="FORBID_ATTR"in t?ot({},t.FORBID_ATTR,L):{},Wt="USE_PROFILES"in t&&t.USE_PROFILES,Ct=!1!==t.ALLOW_ARIA_ATTR,Dt=!1!==t.ALLOW_DATA_ATTR,Mt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Rt=t.SAFE_FOR_TEMPLATES||!1,Lt=t.WHOLE_DOCUMENT||!1,jt=t.RETURN_DOM||!1,Ht=t.RETURN_DOM_FRAGMENT||!1,Ft=t.RETURN_TRUSTED_TYPE||!1,It=t.FORCE_BODY||!1,Ut=!1!==t.SANITIZE_DOM,zt=t.SANITIZE_NAMED_PROPS||!1,Gt=!1!==t.KEEP_CONTENT,$t=t.IN_PLACE||!1,B=t.ALLOWED_URI_REGEXP||B,ee=t.NAMESPACE||te,t.CUSTOM_ELEMENT_HANDLING&&se(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(rt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&se(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(rt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(rt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Rt&&(Dt=!1),Ht&&(jt=!0),Wt&&(G=ot({},R(ft)),W=[],!0===Wt.html&&(ot(G,st),ot(W,mt)),!0===Wt.svg&&(ot(G,ct),ot(W,ht),ot(W,yt)),!0===Wt.svgFilters&&(ot(G,lt),ot(W,ht),ot(W,yt)),!0===Wt.mathMl&&(ot(G,dt),ot(W,gt),ot(W,yt))),t.ADD_TAGS&&(G===$&&(G=it(G)),ot(G,t.ADD_TAGS,L)),t.ADD_ATTR&&(W===q&&(W=it(W)),ot(W,t.ADD_ATTR,L)),t.ADD_URI_SAFE_ATTR&&ot(Jt,t.ADD_URI_SAFE_ATTR,L),t.FORBID_CONTENTS&&(qt===Vt&&(qt=it(qt)),ot(qt,t.FORBID_CONTENTS,L)),Gt&&(G["#text"]=!0),Lt&&ot(G,["html","head","body"]),G.table&&(ot(G,["tbody"]),delete Ot.tbody),U&&U(t),ie=t)},le=ot({},["mi","mo","mn","ms","mtext"]),ue=ot({},["foreignobject","desc","title","annotation-xml"]),de=ot({},["title","style","font","a","script"]),pe=ot({},ct);ot(pe,lt),ot(pe,ut);var fe=ot({},dt);ot(fe,pt);var me=function(t){var e=v(t);e&&e.tagName||(e={namespaceURI:te,tagName:"template"});var n=J(t.tagName),r=J(e.tagName);return t.namespaceURI===Qt?e.namespaceURI===te?"svg"===n:e.namespaceURI===Zt?"svg"===n&&("annotation-xml"===r||le[r]):Boolean(pe[n]):t.namespaceURI===Zt?e.namespaceURI===te?"math"===n:e.namespaceURI===Qt?"math"===n&&ue[r]:Boolean(fe[n]):t.namespaceURI===te&&(!(e.namespaceURI===Qt&&!ue[r])&&(!(e.namespaceURI===Zt&&!le[r])&&(!fe[n]&&(de[n]||!pe[n]))))},he=function(t){K(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=T}catch(e){t.remove()}}},ge=function(t,e){try{K(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){K(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!W[t])if(jt||Ht)try{he(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ye=function(t){var e,n;if(It)t="<remove></remove>"+t;else{var r=X(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===M&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var i=w?w.createHTML(t):t;if(ee===te)try{e=(new f).parseFromString(i,M)}catch(t){}if(!e||!e.documentElement){e=E.createDocument(ee,"template",null);try{e.documentElement.innerHTML=ne?"":i}catch(t){}}var a=e.body||e.documentElement;return t&&n&&a.insertBefore(o.createTextNode(n),a.childNodes[0]||null),ee===te?k.call(e,Lt?"html":"body")[0]:Lt?e.documentElement:a},_e=function(t){return x.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},ve=function(t){return t instanceof p&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof d)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},be=function(t){return"object"===S(s)?t instanceof s:t&&"object"===S(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},we=function(t,e,r){D[t]&&V(D[t],(function(t){t.call(n,e,r,ie)}))},Te=function(t){var e;if(we("beforeSanitizeElements",t,null),ve(t))return he(t),!0;if(et(/[\u0080-\uFFFF]/,t.nodeName))return he(t),!0;var r=L(t.nodeName);if(we("uponSanitizeElement",t,{tagName:r,allowedTags:G}),t.hasChildNodes()&&!be(t.firstElementChild)&&(!be(t.content)||!be(t.content.firstElementChild))&&et(/<[/\w]/g,t.innerHTML)&&et(/<[/\w]/g,t.textContent))return he(t),!0;if("select"===r&&et(/<template/i,t.innerHTML))return he(t),!0;if(!G[r]||Ot[r]){if(!Ot[r]&&Ee(r)){if(rt.tagNameCheck instanceof RegExp&&et(rt.tagNameCheck,r))return!1;if(rt.tagNameCheck instanceof Function&&rt.tagNameCheck(r))return!1}if(Gt&&!qt[r]){var o=v(t)||t.parentNode,i=_(t)||t.childNodes;if(i&&o)for(var a=i.length-1;a>=0;--a)o.insertBefore(g(i[a],!0),y(t))}return he(t),!0}return t instanceof c&&!me(t)?(he(t),!0):"noscript"!==r&&"noembed"!==r||!et(/<\/no(script|embed)/i,t.innerHTML)?(Rt&&3===t.nodeType&&(e=t.textContent,e=Z(e,P," "),e=Z(e,I," "),t.textContent!==e&&(K(n.removed,{element:t.cloneNode()}),t.textContent=e)),we("afterSanitizeElements",t,null),!1):(he(t),!0)},Ne=function(t,e,n){if(Ut&&("id"===e||"name"===e)&&(n in o||n in ae))return!1;if(Dt&&!St[e]&&et(j,e));else if(Ct&&et(H,e));else if(!W[e]||St[e]){if(!(Ee(t)&&(rt.tagNameCheck instanceof RegExp&&et(rt.tagNameCheck,t)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(t))&&(rt.attributeNameCheck instanceof RegExp&&et(rt.attributeNameCheck,e)||rt.attributeNameCheck instanceof Function&&rt.attributeNameCheck(e))||"is"===e&&rt.allowCustomizedBuiltInElements&&(rt.tagNameCheck instanceof RegExp&&et(rt.tagNameCheck,n)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(n))))return!1}else if(Jt[e]);else if(et(B,Z(n,z,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==Q(n,"data:")||!Yt[t]){if(Mt&&!et(F,Z(n,z,"")));else if(n)return!1}else;return!0},Ee=function(t){return t.indexOf("-")>0},xe=function(t){var e,r,o,i;we("beforeSanitizeAttributes",t,null);var a=t.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W};for(i=a.length;i--;){var c=e=a[i],l=c.name,u=c.namespaceURI;if(r="value"===l?e.value:tt(e.value),o=L(l),s.attrName=o,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,we("uponSanitizeAttribute",t,s),r=s.attrValue,!s.forceKeepAttr&&(ge(l,t),s.keepAttr))if(et(/\/>/i,r))ge(l,t);else{Rt&&(r=Z(r,P," "),r=Z(r,I," "));var d=L(t.nodeName);if(Ne(d,o,r)){if(!zt||"id"!==o&&"name"!==o||(ge(l,t),r=Bt+r),w&&"object"===S(m)&&"function"==typeof m.getAttributeType)if(u);else switch(m.getAttributeType(d,o)){case"TrustedHTML":r=w.createHTML(r);break;case"TrustedScriptURL":r=w.createScriptURL(r)}try{u?t.setAttributeNS(u,l,r):t.setAttribute(l,r),Y(n.removed)}catch(t){}}}}we("afterSanitizeAttributes",t,null)}},Ae=function t(e){var n,r=_e(e);for(we("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)we("uponSanitizeShadowNode",n,null),Te(n)||(n.content instanceof i&&t(n.content),xe(n));we("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t){var o,a,c,l,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ne=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!be(t)){if("function"!=typeof t.toString)throw nt("toString is not a function");if("string"!=typeof(t=t.toString()))throw nt("dirty is not a string, aborting")}if(!n.isSupported){if("object"===S(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(be(t))return e.toStaticHTML(t.outerHTML)}return t}if(Pt||ce(d),n.removed=[],"string"==typeof t&&($t=!1),$t){if(t.nodeName){var p=L(t.nodeName);if(!G[p]||Ot[p])throw nt("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof s)1===(a=(o=ye("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?o=a:o.appendChild(a);else{if(!jt&&!Rt&&!Lt&&-1===t.indexOf("<"))return w&&Ft?w.createHTML(t):t;if(!(o=ye(t)))return jt?null:Ft?T:""}o&&It&&he(o.firstChild);for(var f=_e($t?t:o);c=f.nextNode();)3===c.nodeType&&c===l||Te(c)||(c.content instanceof i&&Ae(c.content),xe(c),l=c);if(l=null,$t)return t;if(jt){if(Ht)for(u=A.call(o.ownerDocument);o.firstChild;)u.appendChild(o.firstChild);else u=o;return W.shadowroot&&(u=O.call(r,u,!0)),u}var m=Lt?o.outerHTML:o.innerHTML;return Lt&&G["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&et(xt,o.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+m),Rt&&(m=Z(m,P," "),m=Z(m,I," ")),w&&Ft?w.createHTML(m):m},n.setConfig=function(t){ce(t),Pt=!0},n.clearConfig=function(){ie=null,Pt=!1},n.isValidAttribute=function(t,e,n){ie||ce({});var r=L(t),o=L(e);return Ne(r,o,n)},n.addHook=function(t,e){"function"==typeof e&&(D[t]=D[t]||[],K(D[t],e))},n.removeHook=function(t){if(D[t])return Y(D[t])},n.removeHooks=function(t){D[t]&&(D[t]=[])},n.removeAllHooks=function(){D={}},n}(),St=k(Object.freeze({__proto__:null,default:Ot})),Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.createPermanentMemoizer=void 0;Ct.createPermanentMemoizer=(t,e,{maxsize:n}={})=>{let r=new Map;return{get:o=>{const i=t(o);if(r.has(i))return r.get(i);const a=e(o);return n&&r.size>=n&&(r=new Map),r.set(i,a),a}}};const Dt=(A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(St),Mt=Ct,Rt=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort();Dt.default.addHook("afterSanitizeElements",(function(t){"a"===t.nodeName.toLowerCase()&&("_self"!==t.getAttribute("target")&&t.setAttribute("target","_blank"),t.setAttribute("rel","nofollow noopener noreferrer"))}));const Lt=(0,Mt.createPermanentMemoizer)(t=>String(t),t=>{const e={ALLOWED_TAGS:void 0===t?Rt:"string"==typeof t?t.toLowerCase().slice(1,-1).split("><"):t,ADD_ATTR:["target"],FORCE_BODY:!0};return(0,Mt.createPermanentMemoizer)(t=>t,t=>Dt.default.sanitize(t,e),{maxsize:1e5})},{maxsize:1e5});var Pt=function(t,e){return t?Lt.get(e).get(t):t},It=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(O,"__esModule",{value:!0}),O.keyExists=zt=O.__=O.translate=void 0;const jt=It(Pt),Ht={};function Ft(t="core"){"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(Ht[t]=window.__dw.vis.meta.locale||{}):dw.backend.__messages&&(Ht[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t]))}function Ut(t,e="core",n,...r){let o=function(t,e,n){try{return n[e][t]||t}catch(e){return t}}(t,e,n);if((t=>"string"==typeof t[0])(r)){o=function(t,e=[]){return t.replace(/\$(\d)/g,(t,n)=>void 0===e[+n]?t:(0,jt.default)(e[+n],""))}(o,r)}else o=function(t,e={}){return Object.entries(e).forEach(([e,n])=>{t=t.replace(new RegExp(`%${e}%|%${e}(?!\\w)`,"g"),""+n)}),t}(o,r[0]);return(0,jt.default)(o,"<p><h1><h2><h3><h4><h5><h6><blockquote><ol><ul><li><pre><hr><br><a><em><i><strong><b><code><img><table><tr><th><td><small><span><div><sup><sub><tt>")}O.translate=Ut;var zt=O.__=function(t,e="core",...n){return t=t.trim(),Ht[e]||Ft(e),Ht[e][t]?Ut(t,e,Ht,...n):"MISSING:"+t};O.keyExists=function(t,e="core"){return Ht[e]||Ft(e),!!Ht[e][t]};var Bt={exports:{}};
/*!
	 * JavaScript Cookie v2.2.1
	 * https://github.com/js-cookie/js-cookie
	 *
	 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
	 * Released under the MIT license
	 */!function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=e(s[0]);if(c=(r.read||r)(c,l)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[l]=c,t===l)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return a(t,!1)},o.getJSON=function(t){return a(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()}(Bt);var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.getValueOrDefault=void 0;Gt.getValueOrDefault=(t,e,n)=>t&&e(t)?t:n();var $t=A&&A.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Wt=A&&A.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};const qt=(A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(Bt.exports),Vt=Gt,Yt=O,Kt=new Set(["get","head","options","trace"]);function Jt(t,e={}){var{fetch:n,baseUrl:r}=e,o=Wt(e,["fetch","baseUrl"]);const i=(0,Vt.getValueOrDefault)(n,()=>!0,()=>{try{const t=window.fetch;if(!t)throw new Error;return t}catch(t){throw new Error("Neither options.fetch nor window.fetch is defined.")}}),a=(0,Vt.getValueOrDefault)(r,()=>!0,()=>{const t=window.dw.backend.__api_domain;if(!t)throw new Error("Neither options.baseUrl nor window.dw is defined.");return t.startsWith("http")?t:"//"+t}),s=Object.assign(Object.assign({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},o),{headers:Object.assign({"Content-Type":"application/json"},o.headers)}),{payload:c,raw:l}=s,u=Wt(s,["payload","raw"]),d=`${a.replace(/\/$/,"")}/${t.replace(/^\//,"")}`;let p;if(c&&(u.body=JSON.stringify(c)),u.headers["Content-Type"].startsWith("multipart/")&&delete u.headers["Content-Type"],u.disableCSRF||Kt.has(u.method.toLowerCase()))p=i(d,u);else{const t=qt.default.get("crumb");t?(u.headers["X-CSRF-Token"]=t,p=i(d,u)):p=Jt("/v3/me",{fetch:i,baseUrl:a}).then(()=>{const t=qt.default.get("crumb");t&&(u.headers["X-CSRF-Token"]=t)}).catch(()=>{}).then(()=>$t(this,void 0,void 0,(function*(){return yield i(d,u)})))}return p.then(t=>{if(l)return t;if(!t.ok)return t.json().then(e=>{throw new Zt(t,e)});if(204===t.status||!t.headers.get("content-type"))return t;const e=(t.headers.get("content-type")||"").split(";")[0];return"application/json"===e?t.json():"image/png"===e||"application/pdf"===e?t.blob():t.text()})}function Xt(t){return(e,n)=>{if(n&&n.method)throw new Error(`Setting option.method is not allowed in httpReq.${t.toLowerCase()}()`);return Jt(e,Object.assign(Object.assign({},n),{method:t}))}}Jt.get=Xt("GET"),Jt.patch=Xt("PATCH"),Jt.put=Xt("PUT"),Jt.post=Xt("POST"),Jt.head=Xt("HEAD"),Jt.delete=Xt("DELETE");class Zt extends Error{constructor(t,e){super(),this.name="HttpReqError",this.status=t.status,this.statusText=t.statusText,this.message=`[${t.status}] ${t.statusText}`,this.response=t,this.response.json=()=>Promise.resolve(e),e&&(this.type=e.type,this.type&&(0,Yt.keyExists)(this.type)&&(this.translationKey=this.type),this.details=e.details,Array.isArray(this.details)&&this.details.forEach(t=>{if(t&&t.type){const e=[this.type,t.type].join(" / ");(0,Yt.keyExists)(e)&&(t.translationKey=e)}}))}}Jt.HttpReqError=Zt;var Qt=Jt;var te={edit(t){this.get().editId===t?(this.set({editId:!1}),this.update(t)):this.set({editId:t})},async addProduct(){const{team:t,addProduct:e}=this.get();this.set({addingProduct:!0}),await Qt(`/v3/teams/${t.id}/products`,{method:"post",payload:{productId:e}});const n=await Qt(`/v3/teams/${t.id}/products`);this.set({products:n.list,addingProduct:!1})},async remove(t){if(window.confirm("Are you sure you want to remove this product?")){await Qt(`/v3/teams/${this.get().team.id}/products/${t.id}`,{method:"delete"});var{products:e}=this.get();e=e.filter(e=>e.id!==t.id),this.set({products:e})}},async update(t){var{updating:e,products:n}=this.get();const r=n.filter(e=>e.id===t)[0];e[r.id]=!0,this.set({updating:e}),await Qt(`/v3/teams/${this.get().team.id}/products/${r.id}`,{method:"put",payload:{expires:r.expires}}),(e=this.get().updating)[r.id]=!1,this.set({updating:e})}};function ee(){const t=this.get();Qt(`/v3/teams/${t.team.id}/products`).then(t=>this.set({loadingTeamProducts:!1,products:t.list})),Qt("/v3/products").then(t=>this.set({loadingAllProducts:!1,allProducts:t.list}))}function ne(t){const{component:e,ctx:n}=this._svelte;e.remove(n.product)}function re(t){const{component:e,ctx:n}=this._svelte;e.edit(n.product.id)}function oe(t){const{component:e,ctx:n}=this._svelte;e.edit(n.product.id)}function ie(t,e,n){const r=Object.create(t);return r.product=e[n],r.each_value=e,r.i=n,r}function ae(t,e){var n;function r(t){return t.loadingTeamProducts||t.loadingAllProducts?ce:se}var o=r(e),i=o(t,e);return{c(){i.c(),n=f()},m(t,e){i.m(t,e),l(t,n,e)},p(e,a){o===(o=r(a))&&i?i.p(e,a):(i.d(1),(i=o(t,a)).c(),i.m(n.parentNode,n))},d(t){i.d(t),t&&u(n)}}}function se(t,e){var n,r,o=e.products.length>0&&le(t,e),i=e.addableProducts.length&&ge(t,e);return{c(){o&&o.c(),n=p("\n\n\n"),i&&i.c(),r=f()},m(t,e){o&&o.m(t,e),l(t,n,e),i&&i.m(t,e),l(t,r,e)},p(e,a){a.products.length>0?o?o.p(e,a):((o=le(t,a)).c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),a.addableProducts.length?i?i.p(e,a):((i=ge(t,a)).c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(t){o&&o.d(t),t&&u(n),i&&i.d(t),t&&u(r)}}}function ce(t,e){var n,r,o,a,s=zt("teams / products / loading");return{c(){n=d("p"),r=d("i"),o=p("   "),a=d("noscript"),r.className="fa fa-spin fa-circle-o-notch"},m(t,e){l(t,n,e),c(n,r),c(n,o),c(n,a),a.insertAdjacentHTML("afterend",s)},p:i,d(t){t&&u(n)}}}function le(t,e){for(var n,o=e.products,i=[],a=0;a<o.length;a+=1)i[a]=he(t,ie(e,o,a));var s={columnHeaders:e.productHeaders},l=new r.default({root:t.root,store:t.store,slots:{default:document.createDocumentFragment()},data:s});return{c(){for(var t=0;t<i.length;t+=1)i[t].c();n=f(),l._fragment.c()},m(t,e){for(var r=0;r<i.length;r+=1)i[r].m(l._slotted.default,null);c(l._slotted.default,n),l._mount(t,e)},p(e,r){if(e.editId||e.products||e.updating){o=r.products;for(var a=0;a<o.length;a+=1){const s=ie(r,o,a);i[a]?i[a].p(e,s):(i[a]=he(t,s),i[a].c(),i[a].m(n.parentNode,n))}for(;a<i.length;a+=1)i[a].d(1);i.length=o.length}var s={};e.productHeaders&&(s.columnHeaders=r.productHeaders),l._set(s)},d(t){!function(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(i,t),l.destroy(t)}}}function ue(t,e){var n,r=e.product.expires||zt("teams / products / never");return{c(){n=p(r)},m(t,e){l(t,n,e)},p(t,e){t.products&&r!==(r=e.product.expires||zt("teams / products / never"))&&g(n,r)},d(t){t&&u(n)}}}function de(t,e){var n,r=!1;function o(){r=!0,e.each_value[e.i].expires=n.value,t.set({products:e.products}),r=!1}return{c(){var t,e,r;m(n=d("input"),"input",o),t=n,e="type",null==(r="text")?t.removeAttribute(e):t.setAttribute(e,r)},m(t,r){l(t,n,r),n.value=e.product.expires},p(t,o){e=o,!r&&t.products&&(n.value=e.product.expires)},d(t){t&&u(n),h(n,"input",o)}}}function pe(t,e){var n,r,o,i,a,s,f,g,y,_=zt("teams / edit"),v=zt("teams / remove");return{c(){n=d("button"),r=d("i"),o=p("  "),i=p(_),a=p("\n\n            "),s=d("button"),f=d("i"),g=p("  "),y=p(v),r.className="fa fa-edit",n._svelte={component:t,ctx:e},m(n,"click",re),n.className="btn",f.className="fa fa-times",s._svelte={component:t,ctx:e},m(s,"click",ne),s.className="btn"},m(t,e){l(t,n,e),c(n,r),c(n,o),c(n,i),l(t,a,e),l(t,s,e),c(s,f),c(s,g),c(s,y)},p(t,r){e=r,n._svelte.ctx=e,s._svelte.ctx=e},d(t){t&&u(n),h(n,"click",re),t&&(u(a),u(s)),h(s,"click",ne)}}}function fe(t,e){var n,r,o,a,s=zt("teams / save");return{c(){n=d("button"),r=d("i"),o=p("  "),a=p(s),r.className="fa fa-spin fa-circle-o-notch",n.disabled=!0,n.className="btn btn-primary"},m(t,e){l(t,n,e),c(n,r),c(n,o),c(n,a)},p:i,d(t){t&&u(n)}}}function me(t,e){var n,r,o,i,a=zt("teams / save");return{c(){n=d("button"),r=d("i"),o=p("  "),i=p(a),r.className="fa fa-check",n._svelte={component:t,ctx:e},m(n,"click",oe),n.className="btn btn-primary"},m(t,e){l(t,n,e),c(n,r),c(n,o),c(n,i)},p(t,r){e=r,n._svelte.ctx=e},d(t){t&&u(n),h(n,"click",oe)}}}function he(t,e){var n,r,o,i,a,s,f,m,h,y,_=e.product.id,v=e.product.name;function b(t){return t.editId===t.product.id?de:ue}var w=b(e),T=w(t,e);function N(t){return t.editId===t.product.id?me:t.updating[t.product.id]?fe:pe}var E=N(e),x=E(t,e);return{c(){n=d("tr"),r=d("td"),o=p(_),i=p("\n        "),a=d("td"),s=p(v),f=p("\n        "),m=d("td"),T.c(),h=p("\n        "),y=d("td"),x.c()},m(t,e){l(t,n,e),c(n,r),c(r,o),c(n,i),c(n,a),c(a,s),c(n,f),c(n,m),T.m(m,null),c(n,h),c(n,y),x.m(y,null)},p(e,n){e.products&&_!==(_=n.product.id)&&g(o,_),e.products&&v!==(v=n.product.name)&&g(s,v),w===(w=b(n))&&T?T.p(e,n):(T.d(1),(T=w(t,n)).c(),T.m(m,null)),E===(E=N(n))&&x?x.p(e,n):(x.d(1),(x=E(t,n)).c(),x.m(y,null))},d(t){t&&u(n),T.d(),x.d()}}}function ge(t,e){var n,r,i={},a={label:zt("teams / products / add-product"),options:e.addableProducts};void 0!==e.addProduct&&(a.value=e.addProduct,i.value=!0);var s=new o.default({root:t.root,store:t.store,data:a,_bind(e,n){var r={};!i.value&&e.value&&(r.addProduct=n.value),t._set(r),i={}}});t.root._beforecreate.push(()=>{s._bind({value:1},s.get())});var c=e.addProduct&&ye(t,e);return{c(){s._fragment.c(),n=p("\n\n"),c&&c.c(),r=f()},m(t,e){s._mount(t,e),l(t,n,e),c&&c.m(t,e),l(t,r,e)},p(n,o){e=o;var a={};n.addableProducts&&(a.options=e.addableProducts),!i.value&&n.addProduct&&(a.value=e.addProduct,i.value=void 0!==e.addProduct),s._set(a),i={},e.addProduct?c?c.p(n,e):((c=ye(t,e)).c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},d(t){s.destroy(t),t&&u(n),c&&c.d(t),t&&u(r)}}}function ye(t,e){var n,r,o,i,a,s=zt("teams / products / add");function f(e){t.addProduct()}return{c(){n=d("button"),r=d("i"),i=p("\n    "),a=d("noscript"),r.className=o="fa "+(e.addingProduct?"fa fa-spin fa-circle-o-notch":"fa-plus"),m(n,"click",f),n.className="btn btn-primary"},m(t,e){l(t,n,e),c(n,r),c(n,i),c(n,a),a.insertAdjacentHTML("afterend",s)},p(t,e){t.addingProduct&&o!==(o="fa "+(e.addingProduct?"fa fa-spin fa-circle-o-notch":"fa-plus"))&&(r.className=o)},d(t){t&&u(n),h(n,"click",f)}}}function _e(t){!function(t,e){t._handlers=y(),t._slots=y(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}(this,t),this._state=a({productHeaders:[{title:zt("teams / products / id"),width:"10%"},{title:zt("teams / products / name"),width:"30%"},{title:zt("teams / products / expires"),width:"30%"},{title:zt("teams / products / actions"),width:"30%"}],editId:!1,updating:{},loadingTeamProducts:!0,loadingAllProducts:!0},t.data),this._recompute({products:1,allProducts:1},this._state),this._intro=!0,this._fragment=function(t,e){var n,r,o,i=zt("teams / products / p"),a=e.isAdmin&&ae(t,e);return{c(){var t,e;n=d("p"),r=p("\n\n"),a&&a.c(),o=f(),t="margin-bottom",e="10px",n.style.setProperty(t,e)},m(t,e){l(t,n,e),n.innerHTML=i,l(t,r,e),a&&a.m(t,e),l(t,o,e)},p(e,n){n.isAdmin?a?a.p(e,n):((a=ae(t,n)).c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},d(t){t&&(u(n),u(r)),a&&a.d(t),t&&u(o)}}}(this,this._state),this.root._oncreate.push(()=>{ee.call(this),this.fire("update",{changed:s({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),w(this))}function ve(t,e){this._handlers={},this._dependents=[],this._computed=y(),this._sortedComputedProperties=[],this._state=a({},t),this._differs=e&&e.immutable?v:_}a(_e.prototype,x),a(_e.prototype,te),_e.prototype._recompute=function(t,e){(t.products||t.allProducts)&&this._differs(e.addableProducts,e.addableProducts=function({products:t,allProducts:e}){if(!e||!t)return[];const n=[{value:null,label:"---"}];return n.push(...e.filter(e=>!t.filter(t=>t.id===e.id).length).map(t=>({value:t.id,label:t.name}))),n}(e))&&(t.addableProducts=!0)},a(ve.prototype,{_add(t,e){this._dependents.push({component:t,props:e})},_init(t){const e={};for(let n=0;n<t.length;n+=1){const r=t[n];e["$"+r]=this._state[r]}return e},_remove(t){let e=this._dependents.length;for(;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set(t,e){const n=this._state;this._state=a(a({},n),t);for(let t=0;t<this._sortedComputedProperties.length;t+=1)this._sortedComputedProperties[t].update(this._state,e);this.fire("state",{changed:e,previous:n,current:this._state}),this._dependents.filter(t=>{const n={};let r=!1;for(let o=0;o<t.props.length;o+=1){const i=t.props[o];i in e&&(n["$"+i]=this._state[i],r=!0)}if(r)return t.component._stage(n),!0}).forEach(t=>{t.component.set({})}),this.fire("update",{changed:e,previous:n,current:this._state})},_sortComputedProperties(){const t=this._computed,e=this._sortedComputedProperties=[],n=y();let r;function o(i){const a=t[i];a&&(a.deps.forEach(t=>{if(t===r)throw new Error(`Cyclical dependency detected between ${t} <-> ${i}`);o(t)}),n[i]||(n[i]=!0,e.push(a)))}for(const t in this._computed)o(r=t)},compute(t,e,n){let r;const o={deps:e,update:(o,i,a)=>{const s=e.map(t=>(t in i&&(a=!0),o[t]));if(a){const e=n.apply(null,s);this._differs(e,r)&&(r=e,i[t]=!0,o[t]=r)}}};this._computed[t]=o,this._sortComputedProperties();const i=a({},this._state),s={};o.update(i,s,!0),this._set(i,s)},fire:b,get:T,on:N,set(t){const e=this._state,n=this._changed={};let r=!1;for(const o in t){if(this._computed[o])throw new Error(`'${o}' is a read-only computed property`);this._differs(t[o],e[o])&&(n[o]=r=!0)}r&&this._set(t,n)}});return{App:_e,store:new ve({})}}));
//# sourceMappingURL=products.js.map
