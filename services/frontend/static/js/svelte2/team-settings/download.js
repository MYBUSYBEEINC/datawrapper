!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/team-settings/download",e):(t="undefined"!=typeof globalThis?globalThis:t||self)["team-settings/download"]=e()}(this,(function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,e){for(var n in e)t[n]=1;return t}function i(t){t()}function s(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n)}function r(t){t.parentNode.removeChild(t)}function o(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function d(){return document.createComment("")}function c(t,e,n,i){t.addEventListener(e,n,i)}function u(t,e,n,i){t.removeEventListener(e,n,i)}function h(t,e,n){t.classList[n?"add":"remove"](e)}function p(t){return t}function f(e,n,s,a,r){let o,l,d,c=s.call(e,n,a),u=!1;return{t:r?0:1,running:!1,program:null,pending:null,run(t,e){"function"==typeof c?g.wait().then(()=>{c=c(),this._run(t,e)}):this._run(t,e)},_run(e,i){o=c.duration||300,l=c.easing||p;const s={start:window.performance.now()+(c.delay||0),b:e,callback:i||t};r&&!u&&(c.css&&c.delay&&(d=n.style.cssText,n.style.cssText+=c.css(0,1)),c.tick&&c.tick(0,1),u=!0),e||(s.group=m.current,m.current.remaining+=1),c.delay?this.pending=s:this.start(s),this.running||(this.running=!0,g.add(this))},start(t){if(e.fire((t.b?"intro":"outro")+".start",{node:n}),t.a=this.t,t.delta=t.b-t.a,t.duration=o*Math.abs(t.b-t.a),t.end=t.start+t.duration,c.css){c.delay&&(n.style.cssText=d);const e=function({a:t,b:e,delta:n,duration:i},s,a){const r=16.666/i;let o="{\n";for(let e=0;e<=1;e+=r){const i=t+n*s(e);o+=100*e+`%{${a(i,1-i)}}\n`}return o+`100% {${a(e,1-e)}}\n}`}(t,l,c.css);g.addRule(e,t.name="__svelte_"+function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(e)),n.style.animation=(n.style.animation||"").split(", ").filter(e=>e&&(t.delta<0||!/__svelte/.test(e))).concat(`${t.name} ${t.duration}ms linear 1 forwards`).join(", ")}this.program=t,this.pending=null},update(t){const e=this.program;if(!e)return;const n=t-e.start;this.t=e.a+e.delta*l(n/e.duration),c.tick&&c.tick(this.t,1-this.t)},done(){const t=this.program;this.t=t.b,c.tick&&c.tick(this.t,1-this.t),e.fire((t.b?"intro":"outro")+".end",{node:n}),t.b||t.invalidated?c.css&&g.deleteRule(n,t.name):(t.group.callbacks.push(()=>{t.callback(),c.css&&g.deleteRule(n,t.name)}),0==--t.group.remaining&&t.group.callbacks.forEach(i)),this.running=!!this.pending},abort(t){this.program&&(t&&c.tick&&c.tick(1,0),c.css&&g.deleteRule(n,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate(){this.program&&(this.program.invalidated=!0)}}}let m={};function _(){m.current={remaining:0,callbacks:[]}}var g={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule(t,e){if(!this.stylesheet){const t=o("style");document.head.appendChild(t),g.stylesheet=t.sheet}this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule(`@keyframes ${e} ${t}`,this.stylesheet.cssRules.length))},next(){this.running=!1;const t=window.performance.now();let e=this.transitions.length;for(;e--;){const n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){let t=this.stylesheet.cssRules.length;for(;t--;)this.stylesheet.deleteRule(t);this.activeRules={}}},deleteRule(t,e){t.style.animation=t.style.animation.split(", ").filter(t=>t&&-1===t.indexOf(e)).join(", ")},wait:()=>(g.promise||(g.promise=Promise.resolve(),g.promise.then(()=>{g.promise=null})),g.promise)};function v(){return Object.create(null)}function b(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function y(t,e){return t!=t?e==e:t!==e}function w(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1){var s=n[i];if(!s.__calling)try{s.__calling=!0,s.call(this,e)}finally{s.__calling=!1}}}function k(t){t._lock=!0,j(t._beforecreate),j(t._oncreate),j(t._aftercreate),t._lock=!1}function x(){return this._state}function N(t,e){t._handlers=v(),t._slots=v(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function T(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function j(t){for(;t&&t.length;)t.shift()()}var C={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:x,fire:w,on:T,set:function(t){this._set(e({},t)),this.root._lock||k(this.root)},_recompute:t,_set:function(t){var n=this._state,i={},s=!1;for(var a in t=e(this._staged,t),this._staged={},t)this._differs(t[a],n[a])&&(i[a]=s=!0);s&&(this._state=e(e({},n),t),this._recompute(i,this._state),this._bind&&this._bind(i,this._state),this._fragment&&(this.fire("state",{changed:i,current:this._state,previous:n}),this._fragment.p(i,this._state),this.fire("update",{changed:i,current:this._state,previous:n})))},_stage:function(t){e(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:b};function S(t){var e=t-1;return e*e*e+1}function L(t,e){var n=e.delay;void 0===n&&(n=0);var i=e.duration;void 0===i&&(i=400);var s=e.easing;void 0===s&&(s=S);var a=getComputedStyle(t),r=+a.opacity,o=parseFloat(a.height),l=parseFloat(a.paddingTop),d=parseFloat(a.paddingBottom),c=parseFloat(a.marginTop),u=parseFloat(a.marginBottom),h=parseFloat(a.borderTopWidth),p=parseFloat(a.borderBottomWidth);return{delay:n,duration:i,easing:s,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*r+";height: "+t*o+"px;padding-top: "+t*l+"px;padding-bottom: "+t*d+"px;margin-top: "+t*c+"px;margin-bottom: "+t*u+"px;border-top-width: "+t*h+"px;border-bottom-width: "+t*p+"px;"}}}const z={};function M(t="core"){"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(z[t]=window.__dw.vis.meta.locale||{}):z[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}var $={show(){const t=setTimeout(()=>{this.set({visible:!0})},400);this.set({t:t})},hide(){const{t:t}=this.get();clearTimeout(t),this.set({visible:!1})}};function A(t,e){var n,i,c,u,h,p=t._slotted.default,f="help"===e.type&&R(),m="upgrade-info"===e.type&&E();return{c(){n=o("div"),f&&f.c(),i=l(" "),m&&m.c(),c=l("\n        "),n.className=h="content "+e.type+" svelte-1h0yjz4"},m(t,e){a(t,n,e),f&&f.m(n,null),s(n,i),m&&m.m(n,null),s(n,c),p&&(s(n,u||(u=d())),s(n,p))},p(t,e){"help"===e.type?f||((f=R()).c(),f.m(n,i)):f&&(f.d(1),f=null),"upgrade-info"===e.type?m||((m=E()).c(),m.m(n,c)):m&&(m.d(1),m=null),t.type&&h!==(h="content "+e.type+" svelte-1h0yjz4")&&(n.className=h)},d(t){t&&r(n),f&&f.d(),m&&m.d(),p&&function(t,e){for(;t.nextSibling;)e.appendChild(t.nextSibling)}(u,p)}}}function R(t,e){var n;return{c(){(n=o("i")).className="hat-icon im im-graduation-hat svelte-1h0yjz4"},m(t,e){a(t,n,e)},d(t){t&&r(n)}}}function E(t,e){var n,i,d=function(t,e="core"){if(t=t.trim(),z[e]||M(e),!z[e][t])return"MISSING:"+t;var n=z[e][t];return"string"==typeof n&&arguments.length>2&&(n=n.replace(/\$(\d)/g,(t,e)=>(e=2+Number(e),void 0===arguments[e]?t:arguments[e]))),n}("upgrade-available");return{c(){n=o("div"),i=l(d),n.className="content-header svelte-1h0yjz4"},m(t,e){a(t,n,e),s(n,i)},d(t){t&&r(n)}}}function H(t){N(this,t),this.refs={},this._state=e({visible:!1,class:"",compact:!1,style:null,type:"help",uid:""},t.data),this._recompute({type:1},this._state),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,d,p,f,m=e.visible&&A(t,e);function _(e){t.show()}function g(e){t.hide()}return{c(){n=o("div"),i=o("span"),p=l("\n    "),m&&m.c(),i.className=d="help-icon "+e.type+" svelte-1h0yjz4",h(i,"visible",e.visible),c(n,"mouseenter",_),c(n,"mouseleave",g),n.className=f="help "+e.class+" "+e.type+" svelte-1h0yjz4",n.style.cssText=e.style,n.dataset.uid=e.uid,h(n,"compact",{compact:e.compact})},m(r,o){a(r,n,o),s(n,i),i.innerHTML=e.helpIcon,s(n,p),m&&m.m(n,null),t.refs.helpDisplay=n},p(e,s){e.helpIcon&&(i.innerHTML=s.helpIcon),e.type&&d!==(d="help-icon "+s.type+" svelte-1h0yjz4")&&(i.className=d),(e.type||e.visible)&&h(i,"visible",s.visible),s.visible?m?m.p(e,s):((m=A(t,s)).c(),m.m(n,null)):m&&(m.d(1),m=null),(e.class||e.type)&&f!==(f="help "+s.class+" "+s.type+" svelte-1h0yjz4")&&(n.className=f),e.style&&(n.style.cssText=s.style),e.uid&&(n.dataset.uid=s.uid),(e.class||e.type||e.compact)&&h(n,"compact",{compact:s.compact})},d(e){e&&r(n),m&&m.d(),u(n,"mouseenter",_),u(n,"mouseleave",g),t.refs.helpDisplay===n&&(t.refs.helpDisplay=null)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}e(H.prototype,C),e(H.prototype,$),H.prototype._recompute=function(t,e){t.type&&this._differs(e.helpIcon,e.helpIcon=function({type:t}){return"upgrade-info"===t?'<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>':"?"}(e))&&(t.helpIcon=!0)};var F={toggle(){const{disabled:t,indeterminate:e,inverted:n,value:i}=this.get(),s={value:e?!n:!i,indeterminate:!1};t||(this.set(s),this.fire("change",s))}};function I(){this.set({hasSlotContent:this.options.slots&&this.options.slots.default})}function D(t,e){var n,i={type:e.helpType||"help"},a=new H({root:t.root,store:t.store,slots:{default:document.createDocumentFragment()},data:i});return{c(){n=o("div"),a._fragment.c()},m(t,i){s(a._slotted.default,n),n.innerHTML=e.help,a._mount(t,i)},p(t,e){t.help&&(n.innerHTML=e.help);var i={};t.helpType&&(i.type=e.helpType||"help"),a._set(i)},d(t){a.destroy(t)}}}function O(t,e){var n,s,o=e.hasSlotContent&&(!e.disabled||"on"==e.disabledState)&&e.effectiveValue&&!e.indeterminate&&P(t);return{c(){o&&o.c(),n=d()},m(t,e){o&&o.i(t,e),a(t,n,e),s=!0},p(e,i){!i.hasSlotContent||i.disabled&&"on"!=i.disabledState||!i.effectiveValue||i.indeterminate?o&&(_(),o.o((function(){o.d(1),o=null}))):(o||(o=P(t)).c(),o.i(n.parentNode,n))},i(t,e){s||this.m(t,e)},o:i,d(t){o&&o.d(t),t&&r(n)}}}function V(t,e){var n,i,l,d;return{c(){n=o("div"),(i=o("div")).className="disabled-msg svelte-1ebojil"},m(t,r){a(t,n,r),s(n,i),i.innerHTML=e.disabledMessage,d=!0},p(t,e){d&&!t.disabledMessage||(i.innerHTML=e.disabledMessage)},i(e,i){d||(t.root._intro&&(l&&l.invalidate(),t.root._aftercreate.push(()=>{l||(l=f(t,n,L,{},!0)),l.run(1)})),this.m(e,i))},o(e){d&&(l||(l=f(t,n,L,{},!1)),l.run(0,()=>{e(),l=null}),d=!1)},d(t){t&&(r(n),l&&l.abort())}}}function P(t,e){var n,i,l,d=t._slotted.default;return{c(){(n=o("div")).className="switch-content svelte-1ebojil"},m(t,e){a(t,n,e),d&&s(n,d),l=!0},i(e,s){l||(t.root._intro&&(i&&i.invalidate(),t.root._aftercreate.push(()=>{i||(i=f(t,n,L,{},!0)),i.run(1)})),this.m(e,s))},o(e){l&&(i||(i=f(t,n,L,{},!1)),i.run(0,()=>{e(),i=null}),l=!1)},d(t){t&&r(n),d&&function(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}(n,d),t&&i&&i.abort()}}}function B(t){N(this,t),this._state=e({value:!1,help:"",helpType:!1,disabledMessage:"",disabledState:"auto",disabled:!1,inverted:!1,highlight:!1,indeterminate:!1,hasSlotContent:!1,uid:""},t.data),this._recompute({value:1,inverted:1},this._state),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,d,p,f,m,g,v,b,y,w,k,x,N=e.help&&D(t,e);function T(){t.set({indeterminate:f.indeterminate})}function j(e){t.toggle()}var C=[V,O],S=[];function L(t){return t.disabled&&t.disabledMessage?0:1}return k=L(e),x=S[k]=C[k](t,e),{c(){var s,a,r;n=o("div"),N&&N.c(),i=l("\n\n    "),d=o("label"),p=o("button"),f=o("input"),g=l("\n            "),v=o("span"),b=l("\n        "),y=o("noscript"),w=l("\n\n    "),x.c(),c(f,"change",T),"indeterminate"in e||t.root._beforecreate.push(T),f.className=m="\n                    "+(e.disabled&&"on"==e.disabledState?"disabled-force-checked":e.disabled&&"off"==e.disabledState?"disabled-force-unchecked":"")+"\n                 svelte-1ebojil",f.disabled=e.disabled,f.checked=e.effectiveValue,s=f,a="type",null==(r="checkbox")?s.removeAttribute(a):s.setAttribute(a,r),v.className="slider svelte-1ebojil",c(p,"click",j),p.className="switch svelte-1ebojil",d.className="switch-outer svelte-1ebojil",h(d,"disabled",e.disabled),n.className="vis-option-type-switch svelte-1ebojil",n.dataset.uid=e.uid},m(t,r){a(t,n,r),N&&N.m(n,null),s(n,i),s(n,d),s(d,p),s(p,f),f.indeterminate=e.indeterminate,s(p,g),s(p,v),s(d,b),s(d,y),y.insertAdjacentHTML("afterend",e.label),s(n,w),S[k].i(n,null)},p(e,s){s.help?N?N.p(e,s):((N=D(t,s)).c(),N.m(n,i)):N&&(N.d(1),N=null),e.indeterminate&&(f.indeterminate=s.indeterminate),(e.disabled||e.disabledState)&&m!==(m="\n                    "+(s.disabled&&"on"==s.disabledState?"disabled-force-checked":s.disabled&&"off"==s.disabledState?"disabled-force-unchecked":"")+"\n                 svelte-1ebojil")&&(f.className=m),e.disabled&&(f.disabled=s.disabled),e.effectiveValue&&(f.checked=s.effectiveValue),e.label&&(!function(t){for(;t.nextSibling;)t.parentNode.removeChild(t.nextSibling)}(y),y.insertAdjacentHTML("afterend",s.label)),e.disabled&&h(d,"disabled",s.disabled);var a=k;(k=L(s))===a?S[k].p(e,s):(_(),x.o((function(){S[a].d(1),S[a]=null})),(x=S[k])||(x=S[k]=C[k](t,s)).c(),x.i(n,null)),e.uid&&(n.dataset.uid=s.uid)},d(t){t&&r(n),N&&N.d(),u(f,"change",T),u(p,"click",j),S[k].d()}}}(this,this._state),this.root._oncreate.push(()=>{I.call(this),this.fire("update",{changed:n({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),k(this))}e(B.prototype,C),e(B.prototype,F),B.prototype._recompute=function(t,e){(t.value||t.inverted)&&this._differs(e.effectiveValue,e.effectiveValue=function({value:t,inverted:e}){return e?!t:t}(e))&&(t.effectiveValue=!0)};const W=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,q=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function G(t,e){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0&&t.indexOf(">")<0)return t;if(t=J(t,e),"undefined"==typeof document)return t;var n=document.createElement("div");n.innerHTML=`<span>${t}</span>`,n.innerHTML=J(n.innerHTML,e&&!e.includes("<span>")?e+"<span>":e||void 0);for(var i=n.childNodes[0].querySelectorAll("*"),s=0;s<i.length;s++){if("a"===i[s].nodeName.toLowerCase()){"_self"!==i[s].getAttribute("target")&&i[s].setAttribute("target","_blank"),i[s].setAttribute("rel","nofollow noopener noreferrer");const t=(i[s].getAttribute("href")||"").toLowerCase().replace(/[^a-z0-9 -/:?=]/g,"").trim();(t.startsWith("javascript:")||t.startsWith("vbscript:")||t.startsWith("data:"))&&i[s].setAttribute("href","")}const t=[];for(var a=0;a<i[s].attributes.length;a++){var r=i[s].attributes[a];r.specified&&"on"===r.name.substr(0,2)&&t.push(r.name)}t.forEach(t=>i[s].removeAttribute(t))}return n.childNodes[0].innerHTML}}function J(t,e){e=(((void 0!==e?e||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var n=t,i=t;;)if(i=(n=i).replace(q,"").replace(W,(function(t,n){return e.indexOf("<"+n.toLowerCase()+">")>-1?t:""})),n===i)return i}const K={};function Q(t,e="core",n,...i){let s=function(t,e,n){try{return n[e][t]||t}catch(e){return t}}(t,e,n);return s="string"==typeof i[0]?function(t,e=[]){return t.replace(/\$(\d)/g,(t,n)=>void 0===e[+n]?t:G(e[+n],""))}(s,i):function(t,e={}){return Object.entries(e).forEach(([e,n])=>{t=t.replace(new RegExp(`%${e}%|%${e}(?!\\w)`,"g"),n)}),t}(s,i[0]),G(s,"<p><h1><h2><h3><h4><h5><h6><blockquote><ol><ul><li><pre><hr><br><a><em><i><strong><b><code><img><table><tr><th><td><small><span><div><sup><sub><tt>")}function U(t,e="core",...n){return t=t.trim(),K[e]||function(t="core"){"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(K[t]=window.__dw.vis.meta.locale||{}):K[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}(e),K[e][t]?Q(t,e,K,...n):"MISSING:"+t}function X({changed:t,current:e}){e.settings&&(t.settings||t.team)&&this.fire("change",{team:e.team,settings:e.settings})}function Y(t){N(this,t),this._state=e({settings:{}},t.data),this._intro=!0,this._handlers.state=[X],X.call(this,{changed:n({},this._state),current:this._state}),this._fragment=function(t,e){var n,i,d,c,u,h,p,f,m,_,g,v=U("teams / download / p"),b=U("teams / download / data-localized"),y={},w=U("teams / download / data-localized / help"),k={label:U("teams / download / data-localized / switch")};void 0!==e.settings.downloadDataLocalized&&(k.value=e.settings.downloadDataLocalized,y.value=!0);var x=new B({root:t.root,store:t.store,data:k,_bind(n,i){var s={};!y.value&&n.value&&(e.settings.downloadDataLocalized=i.value,s.settings=e.settings),t._set(s),y={}}});return t.root._beforecreate.push(()=>{x._bind({value:1},x.get())}),{c(){n=o("div"),i=o("div"),d=o("p"),c=l(v),u=l("\n\n        "),h=o("h3"),p=l(b),f=l("\n\n        "),x._fragment.c(),m=l("\n        "),_=o("p"),g=l(w),d.className="mb-6",h.className="mb-4",i.className="span6",n.className="row"},m(t,e){a(t,n,e),s(n,i),s(i,d),s(d,c),s(i,u),s(i,h),s(h,p),s(i,f),x._mount(i,null),s(i,m),s(i,_),s(_,g)},p(t,n){e=n;var i={};!y.value&&t.settings&&(i.value=e.settings.downloadDataLocalized,y.value=void 0!==e.settings.downloadDataLocalized),x._set(i),y={}},d(t){t&&r(n),x.destroy()}}}(this,this._state),this.root._oncreate.push(()=>{this.fire("update",{changed:n({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),k(this))}function Z(t,n){this._handlers={},this._dependents=[],this._computed=v(),this._sortedComputedProperties=[],this._state=e({},t),this._differs=n&&n.immutable?y:b}e(Y.prototype,C),e(Z.prototype,{_add(t,e){this._dependents.push({component:t,props:e})},_init(t){const e={};for(let n=0;n<t.length;n+=1){const i=t[n];e["$"+i]=this._state[i]}return e},_remove(t){let e=this._dependents.length;for(;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set(t,n){const i=this._state;this._state=e(e({},i),t);for(let t=0;t<this._sortedComputedProperties.length;t+=1)this._sortedComputedProperties[t].update(this._state,n);this.fire("state",{changed:n,previous:i,current:this._state}),this._dependents.filter(t=>{const e={};let i=!1;for(let s=0;s<t.props.length;s+=1){const a=t.props[s];a in n&&(e["$"+a]=this._state[a],i=!0)}if(i)return t.component._stage(e),!0}).forEach(t=>{t.component.set({})}),this.fire("update",{changed:n,previous:i,current:this._state})},_sortComputedProperties(){const t=this._computed,e=this._sortedComputedProperties=[],n=v();let i;function s(a){const r=t[a];r&&(r.deps.forEach(t=>{if(t===i)throw new Error(`Cyclical dependency detected between ${t} <-> ${a}`);s(t)}),n[a]||(n[a]=!0,e.push(r)))}for(const t in this._computed)s(i=t)},compute(t,n,i){let s;const a={deps:n,update:(e,a,r)=>{const o=n.map(t=>(t in a&&(r=!0),e[t]));if(r){const n=i.apply(null,o);this._differs(n,s)&&(s=n,a[t]=!0,e[t]=s)}}};this._computed[t]=a,this._sortComputedProperties();const r=e({},this._state),o={};a.update(r,o,!0),this._set(r,o)},fire:w,get:x,on:T,set(t){const e=this._state,n=this._changed={};let i=!1;for(const s in t){if(this._computed[s])throw new Error(`'${s}' is a read-only computed property`);this._differs(t[s],e[s])&&(n[s]=i=!0)}i&&this._set(t,n)}});return{App:Y,store:new Z({})}}));
//# sourceMappingURL=download.js.map
