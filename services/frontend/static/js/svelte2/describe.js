!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("cm/lib/codemirror"),require("cm/mode/javascript/javascript"),require("cm/addon/mode/simple"),require("cm/addon/hint/show-hint"),require("cm/addon/edit/matchbrackets"),require("cm/addon/display/placeholder"),require("Handsontable"),require("dayjs")):"function"==typeof define&&define.amd?define("svelte/describe",["cm/lib/codemirror","cm/mode/javascript/javascript","cm/addon/mode/simple","cm/addon/hint/show-hint","cm/addon/edit/matchbrackets","cm/addon/display/placeholder","Handsontable","dayjs"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).describe=e(t.CodeMirror,null,null,null,null,null,t.HOT,t.dayjs)}(this,(function(t,e,n,r,o,i,a,s){"use strict";function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(t),c=u(a),f=u(s);function h(){}function p(t,e){for(var n in e)t[n]=e[n];return t}function d(t,e){for(var n in e)t[n]=1;return t}function m(t){t()}function v(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n)}function b(t){t.parentNode.removeChild(t)}function y(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}function w(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(){return document.createDocumentFragment()}function x(t){return document.createElement(t)}function M(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function N(t){return document.createTextNode(t)}function E(){return document.createComment("")}function k(t,e,n,r){t.addEventListener(e,n,r)}function Y(t,e,n,r){t.removeEventListener(e,n,r)}function C(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function A(t,e){t.data=""+e}function O(t,e,n){t.style.setProperty(e,n)}function S(t,e){for(var n=0;n<t.options.length;n+=1){var r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function T(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function R(t,e,n){t.classList[n?"add":"remove"](e)}function D(t){return t}function j(t,e,n,r,o){let i,a,s,u=n.call(t,e,r),l=!1;return{t:o?0:1,running:!1,program:null,pending:null,run(t,e){"function"==typeof u?I.wait().then(()=>{u=u(),this._run(t,e)}):this._run(t,e)},_run(t,n){i=u.duration||300,a=u.easing||D;const r={start:window.performance.now()+(u.delay||0),b:t,callback:n||h};o&&!l&&(u.css&&u.delay&&(s=e.style.cssText,e.style.cssText+=u.css(0,1)),u.tick&&u.tick(0,1),l=!0),t||(r.group=F.current,F.current.remaining+=1),u.delay?this.pending=r:this.start(r),this.running||(this.running=!0,I.add(this))},start(n){if(t.fire((n.b?"intro":"outro")+".start",{node:e}),n.a=this.t,n.delta=n.b-n.a,n.duration=i*Math.abs(n.b-n.a),n.end=n.start+n.duration,u.css){u.delay&&(e.style.cssText=s);const t=function({a:t,b:e,delta:n,duration:r},o,i){const a=16.666/r;let s="{\n";for(let e=0;e<=1;e+=a){const r=t+n*o(e);s+=100*e+`%{${i(r,1-r)}}\n`}return s+`100% {${i(e,1-e)}}\n}`}(n,a,u.css);I.addRule(t,n.name="__svelte_"+function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(t)),e.style.animation=(e.style.animation||"").split(", ").filter(t=>t&&(n.delta<0||!/__svelte/.test(t))).concat(`${n.name} ${n.duration}ms linear 1 forwards`).join(", ")}this.program=n,this.pending=null},update(t){const e=this.program;if(!e)return;const n=t-e.start;this.t=e.a+e.delta*a(n/e.duration),u.tick&&u.tick(this.t,1-this.t)},done(){const n=this.program;this.t=n.b,u.tick&&u.tick(this.t,1-this.t),t.fire((n.b?"intro":"outro")+".end",{node:e}),n.b||n.invalidated?u.css&&I.deleteRule(e,n.name):(n.group.callbacks.push(()=>{n.callback(),u.css&&I.deleteRule(e,n.name)}),0==--n.group.remaining&&n.group.callbacks.forEach(m)),this.running=!!this.pending},abort(t){this.program&&(t&&u.tick&&u.tick(1,0),u.css&&I.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate(){this.program&&(this.program.invalidated=!0)}}}let F={};var I={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule(t,e){if(!this.stylesheet){const t=x("style");document.head.appendChild(t),I.stylesheet=t.sheet}this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule(`@keyframes ${e} ${t}`,this.stylesheet.cssRules.length))},next(){this.running=!1;const t=window.performance.now();let e=this.transitions.length;for(;e--;){const n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){let t=this.stylesheet.cssRules.length;for(;t--;)this.stylesheet.deleteRule(t);this.activeRules={}}},deleteRule(t,e){t.style.animation=t.style.animation.split(", ").filter(t=>t&&-1===t.indexOf(e)).join(", ")},wait:()=>(I.promise||(I.promise=Promise.resolve(),I.promise.then(()=>{I.promise=null})),I.promise)};function L(){return Object.create(null)}function $(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function H(t,e){return t!=t?e==e:t!==e}function P(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1){var o=n[r];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function B(t){t._lock=!0,V(t._beforecreate),V(t._oncreate),V(t._aftercreate),t._lock=!1}function U(){return this._state}function W(t,e){t._handlers=L(),t._slots=L(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function z(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function V(t){for(;t&&t.length;)t.shift()()}function q(){this.store._remove(this)}var G={destroy:function(t){this.destroy=h,this.fire("destroy"),this.set=h,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:U,fire:P,on:z,set:function(t){this._set(p({},t)),this.root._lock||B(this.root)},_recompute:h,_set:function(t){var e=this._state,n={},r=!1;for(var o in t=p(this._staged,t),this._staged={},t)this._differs(t[o],e[o])&&(n[o]=r=!0);r&&(this._state=p(p({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){p(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:$},K="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var X=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},J="object"==typeof K&&K&&K.Object===Object&&K,Q=J,Z="object"==typeof self&&self&&self.Object===Object&&self,tt=Q||Z||Function("return this")(),et=tt,nt=function(){return et.Date.now()},rt=/\s/;var ot=function(t){for(var e=t.length;e--&&rt.test(t.charAt(e)););return e},it=/^\s+/;var at=function(t){return t?t.slice(0,ot(t)+1).replace(it,""):t},st=tt.Symbol,ut=st,lt=Object.prototype,ct=lt.hasOwnProperty,ft=lt.toString,ht=ut?ut.toStringTag:void 0;var pt=function(t){var e=ct.call(t,ht),n=t[ht];try{t[ht]=void 0;var r=!0}catch(t){}var o=ft.call(t);return r&&(e?t[ht]=n:delete t[ht]),o},dt=Object.prototype.toString;var mt=pt,vt=function(t){return dt.call(t)},gt=st?st.toStringTag:void 0;var bt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":gt&&gt in Object(t)?mt(t):vt(t)};var yt=function(t){return null!=t&&"object"==typeof t},wt=bt,_t=yt;var xt=function(t){return"symbol"==typeof t||_t(t)&&"[object Symbol]"==wt(t)},Mt=at,Nt=X,Et=xt,kt=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,Ct=/^0o[0-7]+$/i,At=parseInt;var Ot=function(t){if("number"==typeof t)return t;if(Et(t))return NaN;if(Nt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Nt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Mt(t);var n=Yt.test(t);return n||Ct.test(t)?At(t.slice(2),n?2:8):kt.test(t)?NaN:+t},St=X,Tt=nt,Rt=Ot,Dt=Math.max,jt=Math.min;var Ft=function(t,e,n){var r,o,i,a,s,u,l=0,c=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,i=o;return r=o=void 0,l=e,a=t.apply(i,n)}function d(t){return l=t,s=setTimeout(v,e),c?p(t):a}function m(t){var n=t-u;return void 0===u||n>=e||n<0||f&&t-l>=i}function v(){var t=Tt();if(m(t))return g(t);s=setTimeout(v,function(t){var n=e-(t-u);return f?jt(n,i-(t-l)):n}(t))}function g(t){return s=void 0,h&&r?p(t):(r=o=void 0,a)}function b(){var t=Tt(),n=m(t);if(r=arguments,o=this,u=t,n){if(void 0===s)return d(u);if(f)return clearTimeout(s),s=setTimeout(v,e),p(u)}return void 0===s&&(s=setTimeout(v,e)),a}return e=Rt(e)||0,St(n)&&(c=!!n.leading,i=(f="maxWait"in n)?Dt(Rt(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=o=s=void 0},b.flush=function(){return void 0===s?a:g(Tt())},b},It=bt,Lt=X;var $t,Ht=function(t){if(!Lt(t))return!1;var e=It(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Pt=tt["__core-js_shared__"],Bt=($t=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||""))?"Symbol(src)_1."+$t:"";var Ut=function(t){return!!Bt&&Bt in t},Wt=Function.prototype.toString;var zt=function(t){if(null!=t){try{return Wt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Vt=Ht,qt=Ut,Gt=X,Kt=zt,Xt=/^\[object .+?Constructor\]$/,Jt=Function.prototype,Qt=Object.prototype,Zt=Jt.toString,te=Qt.hasOwnProperty,ee=RegExp("^"+Zt.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ne=function(t){return!(!Gt(t)||qt(t))&&(Vt(t)?ee:Xt).test(Kt(t))},re=function(t,e){return null==t?void 0:t[e]};var oe=function(t,e){var n=re(t,e);return ne(n)?n:void 0},ie=oe,ae=function(){try{var t=ie(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var se=function(t,e,n){"__proto__"==e&&ae?ae(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var ue=function(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r};var le=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(i[u],u,i))break}return e}}();var ce=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},fe=bt,he=yt;var pe=function(t){return he(t)&&"[object Arguments]"==fe(t)},de=yt,me=Object.prototype,ve=me.hasOwnProperty,ge=me.propertyIsEnumerable,be=pe(function(){return arguments}())?pe:function(t){return de(t)&&ve.call(t,"callee")&&!ge.call(t,"callee")},ye=Array.isArray,we={exports:{}};var _e=function(){return!1};!function(t,e){var n=tt,r=_e,o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;t.exports=s}(we,we.exports);var xe=/^(?:0|[1-9]\d*)$/;var Me=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&xe.test(t))&&t>-1&&t%1==0&&t<e};var Ne=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Ee=bt,ke=Ne,Ye=yt,Ce={};Ce["[object Float32Array]"]=Ce["[object Float64Array]"]=Ce["[object Int8Array]"]=Ce["[object Int16Array]"]=Ce["[object Int32Array]"]=Ce["[object Uint8Array]"]=Ce["[object Uint8ClampedArray]"]=Ce["[object Uint16Array]"]=Ce["[object Uint32Array]"]=!0,Ce["[object Arguments]"]=Ce["[object Array]"]=Ce["[object ArrayBuffer]"]=Ce["[object Boolean]"]=Ce["[object DataView]"]=Ce["[object Date]"]=Ce["[object Error]"]=Ce["[object Function]"]=Ce["[object Map]"]=Ce["[object Number]"]=Ce["[object Object]"]=Ce["[object RegExp]"]=Ce["[object Set]"]=Ce["[object String]"]=Ce["[object WeakMap]"]=!1;var Ae=function(t){return Ye(t)&&ke(t.length)&&!!Ce[Ee(t)]};var Oe=function(t){return function(e){return t(e)}},Se={exports:{}};!function(t,e){var n=J,r=e&&!e.nodeType&&e,o=r&&t&&!t.nodeType&&t,i=o&&o.exports===r&&n.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=a}(Se,Se.exports);var Te=Ae,Re=Oe,De=Se.exports,je=De&&De.isTypedArray,Fe=je?Re(je):Te,Ie=ce,Le=be,$e=ye,He=we.exports,Pe=Me,Be=Fe,Ue=Object.prototype.hasOwnProperty;var We=function(t,e){var n=$e(t),r=!n&&Le(t),o=!n&&!r&&He(t),i=!n&&!r&&!o&&Be(t),a=n||r||o||i,s=a?Ie(t.length,String):[],u=s.length;for(var l in t)!e&&!Ue.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Pe(l,u))||s.push(l);return s},ze=Object.prototype;var Ve=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ze)};var qe=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),Ge=Ve,Ke=qe,Xe=Object.prototype.hasOwnProperty;var Je=Ht,Qe=Ne;var Ze=function(t){return null!=t&&Qe(t.length)&&!Je(t)},tn=We,en=function(t){if(!Ge(t))return Ke(t);var e=[];for(var n in Object(t))Xe.call(t,n)&&"constructor"!=n&&e.push(n);return e},nn=Ze;var rn=function(t){return nn(t)?tn(t):en(t)},on=le,an=rn;var sn=Ze;var un=function(t,e){return function(n,r){if(null==n)return n;if(!sn(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(t,e){return t&&on(t,e,an)}));var ln=function(t,e,n,r){return un(t,(function(t,o,i){e(r,t,n(t),i)})),r};var cn=function(){this.__data__=[],this.size=0};var fn=function(t,e){return t===e||t!=t&&e!=e},hn=fn;var pn=function(t,e){for(var n=t.length;n--;)if(hn(t[n][0],e))return n;return-1},dn=pn,mn=Array.prototype.splice;var vn=pn;var gn=pn;var bn=pn;var yn=cn,wn=function(t){var e=this.__data__,n=dn(e,t);return!(n<0)&&(n==e.length-1?e.pop():mn.call(e,n,1),--this.size,!0)},_n=function(t){var e=this.__data__,n=vn(e,t);return n<0?void 0:e[n][1]},xn=function(t){return gn(this.__data__,t)>-1},Mn=function(t,e){var n=this.__data__,r=bn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nn.prototype.clear=yn,Nn.prototype.delete=wn,Nn.prototype.get=_n,Nn.prototype.has=xn,Nn.prototype.set=Mn;var En=Nn,kn=En;var Yn=function(){this.__data__=new kn,this.size=0};var Cn=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var An=function(t){return this.__data__.get(t)};var On=function(t){return this.__data__.has(t)},Sn=oe(tt,"Map"),Tn=oe(Object,"create"),Rn=Tn;var Dn=function(){this.__data__=Rn?Rn(null):{},this.size=0};var jn=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Fn=Tn,In=Object.prototype.hasOwnProperty;var Ln=function(t){var e=this.__data__;if(Fn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return In.call(e,t)?e[t]:void 0},$n=Tn,Hn=Object.prototype.hasOwnProperty;var Pn=Tn;var Bn=Dn,Un=jn,Wn=Ln,zn=function(t){var e=this.__data__;return $n?void 0!==e[t]:Hn.call(e,t)},Vn=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Pn&&void 0===e?"__lodash_hash_undefined__":e,this};function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qn.prototype.clear=Bn,qn.prototype.delete=Un,qn.prototype.get=Wn,qn.prototype.has=zn,qn.prototype.set=Vn;var Gn=qn,Kn=En,Xn=Sn;var Jn=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Qn=function(t,e){var n=t.__data__;return Jn(e)?n["string"==typeof e?"string":"hash"]:n.map},Zn=Qn;var tr=Qn;var er=Qn;var nr=Qn;var rr=function(){this.size=0,this.__data__={hash:new Gn,map:new(Xn||Kn),string:new Gn}},or=function(t){var e=Zn(this,t).delete(t);return this.size-=e?1:0,e},ir=function(t){return tr(this,t).get(t)},ar=function(t){return er(this,t).has(t)},sr=function(t,e){var n=nr(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function ur(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ur.prototype.clear=rr,ur.prototype.delete=or,ur.prototype.get=ir,ur.prototype.has=ar,ur.prototype.set=sr;var lr=ur,cr=En,fr=Sn,hr=lr;var pr=En,dr=Yn,mr=Cn,vr=An,gr=On,br=function(t,e){var n=this.__data__;if(n instanceof cr){var r=n.__data__;if(!fr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hr(r)}return n.set(t,e),this.size=n.size,this};function yr(t){var e=this.__data__=new pr(t);this.size=e.size}yr.prototype.clear=dr,yr.prototype.delete=mr,yr.prototype.get=vr,yr.prototype.has=gr,yr.prototype.set=br;var wr=yr;var _r=lr,xr=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Mr=function(t){return this.__data__.has(t)};function Nr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new _r;++e<n;)this.add(t[e])}Nr.prototype.add=Nr.prototype.push=xr,Nr.prototype.has=Mr;var Er=Nr,kr=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Yr=function(t,e){return t.has(e)};var Cr=function(t,e,n,r,o,i){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=i.get(t),c=i.get(e);if(l&&c)return l==e&&c==t;var f=-1,h=!0,p=2&n?new Er:void 0;for(i.set(t,e),i.set(e,t);++f<s;){var d=t[f],m=e[f];if(r)var v=a?r(m,d,f,e,t,i):r(d,m,f,t,e,i);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!kr(e,(function(t,e){if(!Yr(p,e)&&(d===t||o(d,t,n,r,i)))return p.push(e)}))){h=!1;break}}else if(d!==m&&!o(d,m,n,r,i)){h=!1;break}}return i.delete(t),i.delete(e),h};var Ar=tt.Uint8Array,Or=fn,Sr=Cr,Tr=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},Rr=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Dr=st?st.prototype:void 0,jr=Dr?Dr.valueOf:void 0;var Fr=function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Ar(t),new Ar(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Or(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Tr;case"[object Set]":var u=1&r;if(s||(s=Rr),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var c=Sr(s(t),s(e),r,o,i,a);return a.delete(t),c;case"[object Symbol]":if(jr)return jr.call(t)==jr.call(e)}return!1};var Ir=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Lr=ye;var $r=function(t,e,n){var r=e(t);return Lr(t)?r:Ir(r,n(t))};var Hr=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i},Pr=function(){return[]},Br=Object.prototype.propertyIsEnumerable,Ur=Object.getOwnPropertySymbols,Wr=$r,zr=Ur?function(t){return null==t?[]:(t=Object(t),Hr(Ur(t),(function(e){return Br.call(t,e)})))}:Pr,Vr=rn;var qr=function(t){return Wr(t,Vr,zr)},Gr=Object.prototype.hasOwnProperty;var Kr=function(t,e,n,r,o,i){var a=1&n,s=qr(t),u=s.length;if(u!=qr(e).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in e:Gr.call(e,c)))return!1}var f=i.get(t),h=i.get(e);if(f&&h)return f==e&&h==t;var p=!0;i.set(t,e),i.set(e,t);for(var d=a;++l<u;){var m=t[c=s[l]],v=e[c];if(r)var g=a?r(v,m,c,e,t,i):r(m,v,c,t,e,i);if(!(void 0===g?m===v||o(m,v,n,r,i):g)){p=!1;break}d||(d="constructor"==c)}if(p&&!d){var b=t.constructor,y=e.constructor;b==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(p=!1)}return i.delete(t),i.delete(e),p},Xr=oe(tt,"DataView"),Jr=Sn,Qr=oe(tt,"Promise"),Zr=oe(tt,"Set"),to=oe(tt,"WeakMap"),eo=bt,no=zt,ro=no(Xr),oo=no(Jr),io=no(Qr),ao=no(Zr),so=no(to),uo=eo;(Xr&&"[object DataView]"!=uo(new Xr(new ArrayBuffer(1)))||Jr&&"[object Map]"!=uo(new Jr)||Qr&&"[object Promise]"!=uo(Qr.resolve())||Zr&&"[object Set]"!=uo(new Zr)||to&&"[object WeakMap]"!=uo(new to))&&(uo=function(t){var e=eo(t),n="[object Object]"==e?t.constructor:void 0,r=n?no(n):"";if(r)switch(r){case ro:return"[object DataView]";case oo:return"[object Map]";case io:return"[object Promise]";case ao:return"[object Set]";case so:return"[object WeakMap]"}return e});var lo=wr,co=Cr,fo=Fr,ho=Kr,po=uo,mo=ye,vo=we.exports,go=Fe,bo="[object Object]",yo=Object.prototype.hasOwnProperty;var wo=function(t,e,n,r,o,i){var a=mo(t),s=mo(e),u=a?"[object Array]":po(t),l=s?"[object Array]":po(e),c=(u="[object Arguments]"==u?bo:u)==bo,f=(l="[object Arguments]"==l?bo:l)==bo,h=u==l;if(h&&vo(t)){if(!vo(e))return!1;a=!0,c=!1}if(h&&!c)return i||(i=new lo),a||go(t)?co(t,e,n,r,o,i):fo(t,e,u,n,r,o,i);if(!(1&n)){var p=c&&yo.call(t,"__wrapped__"),d=f&&yo.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,v=d?e.value():e;return i||(i=new lo),o(m,v,n,r,i)}}return!!h&&(i||(i=new lo),ho(t,e,n,r,o,i))},_o=yt;var xo=function t(e,n,r,o,i){return e===n||(null==e||null==n||!_o(e)&&!_o(n)?e!=e&&n!=n:wo(e,n,r,o,t,i))},Mo=wr,No=xo;var Eo=X;var ko=function(t){return t==t&&!Eo(t)},Yo=ko,Co=rn;var Ao=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}},Oo=function(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var s=n[o];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var u=(s=n[o])[0],l=t[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var f=new Mo;if(r)var h=r(l,c,u,t,e,f);if(!(void 0===h?No(c,l,3,r,f):h))return!1}}return!0},So=function(t){for(var e=Co(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Yo(o)]}return e},To=Ao;var Ro=function(t){var e=So(t);return 1==e.length&&e[0][2]?To(e[0][0],e[0][1]):function(n){return n===t||Oo(n,t,e)}},Do=ye,jo=xt,Fo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Io=/^\w*$/;var Lo=function(t,e){if(Do(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!jo(t))||(Io.test(t)||!Fo.test(t)||null!=e&&t in Object(e))},$o=lr;function Ho(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Ho.Cache||$o),n}Ho.Cache=$o;var Po=Ho;var Bo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uo=/\\(\\)?/g,Wo=function(t){var e=Po(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Bo,(function(t,n,r,o){e.push(r?o.replace(Uo,"$1"):n||t)})),e}));var zo=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},Vo=ye,qo=xt,Go=st?st.prototype:void 0,Ko=Go?Go.toString:void 0;var Xo=function t(e){if("string"==typeof e)return e;if(Vo(e))return zo(e,t)+"";if(qo(e))return Ko?Ko.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var Jo=ye,Qo=Lo,Zo=Wo,ti=function(t){return null==t?"":Xo(t)};var ei=function(t,e){return Jo(t)?t:Qo(t,e)?[t]:Zo(ti(t))},ni=xt;var ri=function(t){if("string"==typeof t||ni(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},oi=ei,ii=ri;var ai=function(t,e){for(var n=0,r=(e=oi(e,t)).length;null!=t&&n<r;)t=t[ii(e[n++])];return n&&n==r?t:void 0},si=ai;var ui=ei,li=be,ci=ye,fi=Me,hi=Ne,pi=ri;var di=function(t,e){return null!=t&&e in Object(t)},mi=function(t,e,n){for(var r=-1,o=(e=ui(e,t)).length,i=!1;++r<o;){var a=pi(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&hi(o)&&fi(a,o)&&(ci(t)||li(t))};var vi=xo,gi=function(t,e,n){var r=null==t?void 0:si(t,e);return void 0===r?n:r},bi=function(t,e){return null!=t&&mi(t,e,di)},yi=Lo,wi=ko,_i=Ao,xi=ri;var Mi=ai;var Ni=function(t){return function(e){return null==e?void 0:e[t]}},Ei=function(t){return function(e){return Mi(e,t)}},ki=Lo,Yi=ri;var Ci=Ro,Ai=function(t,e){return yi(t)&&wi(e)?_i(xi(t),e):function(n){var r=gi(n,t);return void 0===r&&r===e?bi(n,t):vi(e,r,3)}},Oi=function(t){return t},Si=ye,Ti=function(t){return ki(t)?Ni(Yi(t)):Ei(t)};var Ri=ue,Di=ln,ji=function(t){return"function"==typeof t?t:null==t?Oi:"object"==typeof t?Si(t)?Ai(t[0],t[1]):Ci(t):Ti(t)},Fi=ye;var Ii=function(t,e){return function(n,r){var o=Fi(n)?Ri:Di,i=e?e():{};return o(n,t,ji(r),i)}},Li=se,$i=Ii,Hi=Object.prototype.hasOwnProperty,Pi=$i((function(t,e,n){Hi.call(t,n)?t[n].push(e):Li(t,n,[e])}));function Bi(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}const Ui=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,Wi=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function zi(t,e){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0&&t.indexOf(">")<0)return t;if(t=Vi(t,e),"undefined"==typeof document)return t;var n=document.createElement("div");n.innerHTML=`<span>${t}</span>`,n.innerHTML=Vi(n.innerHTML,e&&!e.includes("<span>")?e+"<span>":e||void 0);for(var r=n.childNodes[0].querySelectorAll("*"),o=0;o<r.length;o++){if("a"===r[o].nodeName.toLowerCase()){"_self"!==r[o].getAttribute("target")&&r[o].setAttribute("target","_blank"),r[o].setAttribute("rel","nofollow noopener noreferrer");const t=(r[o].getAttribute("href")||"").toLowerCase().replace(/[^a-z0-9 -/:?=]/g,"").trim();(t.startsWith("javascript:")||t.startsWith("vbscript:")||t.startsWith("data:"))&&r[o].setAttribute("href","")}const t=[];for(var i=0;i<r[o].attributes.length;i++){var a=r[o].attributes[i];a.specified&&"on"===a.name.substr(0,2)&&t.push(a.name)}t.forEach(t=>r[o].removeAttribute(t))}return n.childNodes[0].innerHTML}}function Vi(t,e){e=(((void 0!==e?e||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var n=t,r=t;;)if(r=(n=r).replace(Wi,"").replace(Ui,(function(t,n){return e.indexOf("<"+n.toLowerCase()+">")>-1?t:""})),n===r)return r}const qi={};function Gi(t,e="core",n,...r){let o=function(t,e,n){try{return n[e][t]||t}catch(e){return t}}(t,e,n);return o="string"==typeof r[0]?function(t,e=[]){return t.replace(/\$(\d)/g,(t,n)=>void 0===e[+n]?t:zi(e[+n],""))}(o,r):function(t,e={}){return Object.entries(e).forEach(([e,n])=>{t=t.replace(new RegExp(`%${e}%|%${e}(?!\\w)`,"g"),n)}),t}(o,r[0]),zi(o,"<p><h1><h2><h3><h4><h5><h6><blockquote><ol><ul><li><pre><hr><br><a><em><i><strong><b><code><img><table><tr><th><td><small><span><div><sup><sub><tt>")}function Ki(t,e="core",...n){return t=t.trim(),qi[e]||function(t="core"){"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(qi[t]=window.__dw.vis.meta.locale||{}):qi[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}(e),qi[e][t]?Gi(t,e,qi,...n):"MISSING:"+t}var Xi="TOP",Ji="TPAREN";function Qi(t,e,n){this.type=t,this.value=e,this.index=n}function Zi(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}Qi.prototype.toString=function(){return this.type+": "+this.value},Zi.prototype.newToken=function(t,e,n){return new Qi(t,e,null!=n?n:this.pos)},Zi.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},Zi.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},Zi.prototype.next=function(){return this.pos>=this.expression.length?this.newToken("TEOF","EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},Zi.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var o=this.expression.substring(e+1,r);this.current=this.newToken("TSTRING",this.unescape(o),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},Zi.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(Ji,t),this.pos++,!0)},Zi.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken("TBRACKET",t),this.pos++,!0)},Zi.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken("TCOMMA",","),this.pos++,!0)},Zi.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken("TSEMICOLON",";"),this.pos++,!0)},Zi.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken("TNUMBER",this.consts[r]),this.pos+=r.length,!0}return!1},Zi.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(Xi,r),this.pos+=r.length,!0}return!1},Zi.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var o=this.expression.substring(t,e);return this.current=this.newToken("TNAME",o),this.pos+=o.length,!0}return!1},Zi.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var ta=/^[0-9a-f]{4}$/i;Zi.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var o=t.substring(e+1,e+5);ta.test(o)||this.parseError("Illegal escape sequence: \\u"+o),n+=String.fromCharCode(parseInt(o,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var i=t.indexOf("\\",e);n+=t.substring(e,i<0?t.length:i),e=i}return n},Zi.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},Zi.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,o=n;n<this.expression.length;){var i=this.expression.charAt(n);if(!e.test(i))break;n++,r=!0}return r&&(this.current=this.newToken("TNUMBER",parseInt(this.expression.substring(o,n),t)),this.pos=n),r},Zi.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,o=n,i=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:a=!0,n++,e=a;if(e&&(o=n),"e"===t||"E"===t){n++;for(var s=!0,u=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;u=!0,s=!1}else s=!1;n++}u||(n=o)}return e?(this.current=this.newToken("TNUMBER",parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=o,e},Zi.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(Xi,e);else if("∙"===e||"•"===e)this.current=this.newToken(Xi,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Xi,">="),this.pos++):this.current=this.newToken(Xi,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Xi,"<="),this.pos++):this.current=this.newToken(Xi,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(Xi,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Xi,"=="),this.pos++):this.current=this.newToken(Xi,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Xi,"!="),this.pos++):this.current=this.newToken(Xi,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},Zi.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},Zi.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},Zi.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)};var ea="IEXPR";function na(t,e){this.type=t,this.value=null!=e?e:0}function ra(t){return new na("IOP1",t)}function oa(t){return new na("IOP2",t)}function ia(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}na.prototype.toString=function(){switch(this.type){case"INUMBER":case"IOP1":case"IOP2":case"IOP3":case"IVAR":case"IVARNAME":case"IENDSTATEMENT":return this.value;case"IFUNCALL":return"CALL "+this.value;case"IFUNDEF":return"DEF "+this.value;case"IARRAY":return"ARRAY "+this.value;case"IMEMBER":return"."+this.value;default:return"Invalid Instruction"}},ia.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},ia.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}(e,t.value):"function"==typeof e?e(t):t.value===e)},ia.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},ia.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},ia.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},ia.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},ia.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept("TNAME")||this.accept(Xi,(function(t){return t.value in e})))t.push(new na("IVAR",this.current.value));else if(this.accept("TNUMBER"))t.push(new na("INUMBER",this.current.value));else if(this.accept("TSTRING"))t.push(new na("INUMBER",this.current.value));else if(this.accept(Ji,"("))this.parseExpression(t),this.expect(Ji,")");else{if(!this.accept("TBRACKET","["))throw new Error("unexpected "+this.nextToken);if(this.accept("TBRACKET","]"))t.push(new na("IARRAY",0));else{var n=this.parseArrayList(t);t.push(new na("IARRAY",n))}}},ia.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},ia.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},ia.prototype.parseUntilEndStatement=function(t,e){return!!this.accept("TSEMICOLON")&&(!this.nextToken||"TEOF"===this.nextToken.type||this.nextToken.type===Ji&&")"===this.nextToken.value||e.push(new na("IENDSTATEMENT")),"TEOF"!==this.nextToken.type&&this.parseExpression(e),t.push(new na(ea,e)),!0)},ia.prototype.parseArrayList=function(t){for(var e=0;!this.accept("TBRACKET","]");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},ia.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Xi,"=");){var e=t.pop(),n=[],r=t.length-1;if("IFUNCALL"!==e.type){if("IVAR"!==e.type&&"IMEMBER"!==e.type)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new na("IVARNAME",e.value)),t.push(new na(ea,n)),t.push(oa("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,i=e.value+1;o<i;o++){var a=r-o;"IVAR"===t[a].type&&(t[a]=new na("IVARNAME",t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new na(ea,n)),t.push(new na("IFUNDEF",e.value))}}},ia.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Xi,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(Xi,":"),this.parseConditionalExpression(n),t.push(new na(ea,e)),t.push(new na(ea,n)),t.push(new na("IOP3","?"))}},ia.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Xi,"or");){var e=[];this.parseAndExpression(e),t.push(new na(ea,e)),t.push(oa("or"))}},ia.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Xi,"and");){var e=[];this.parseComparison(e),t.push(new na(ea,e)),t.push(oa("and"))}};var aa=["==","!=","<","<=",">=",">","in"];ia.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Xi,aa);){var e=this.current;this.parseAddSub(t),t.push(oa(e.value))}};var sa=["+","-","||"];ia.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Xi,sa);){var e=this.current;this.parseTerm(t),t.push(oa(e.value))}};var ua=["*","/","%"];function la(t,e){return Number(t)+Number(e)}function ca(t,e){return t-e}function fa(t,e){return t*e}function ha(t,e){return t/e}function pa(t,e){return t%e}function da(t,e){return t===e}function ma(t,e){return t!==e}function va(t,e){return t>e}function ga(t,e){return t<e}function ba(t,e){return t>=e}function ya(t,e){return t<=e}function wa(t,e){return Boolean(t&&e)}function _a(t,e){return Boolean(t||e)}function xa(t){return Math.log(t)*Math.LOG10E}function Ma(t){return-t}function Na(t){return!t}function Ea(t){return t<0?Math.ceil(t):Math.floor(t)}function ka(t){return Math.random()*(t||1)}function Ya(t){return Array.isArray(t)?t.length:String(t).length}function Ca(t,e,n){return t?e:n}function Aa(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function Oa(t,e){return t[0|e]}function Sa(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))}function Ta(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)}function Ra(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))}function Da(t){return(t>0)-(t<0)||+t}function ja(t){return Math.log(1+t)}function Fa(t){return Math.log(t)/Math.LN2}function Ia(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}function La(t,e,n){var r,o,i,a,s,u,l=[];if(Ha(t))return Pa(t,n);for(var c=t.length,f=0;f<c;f++){var h=t[f],p=h.type;if("INUMBER"===p||"IVARNAME"===p)l.push(h.value);else if("IOP2"===p)o=l.pop(),r=l.pop(),"and"===h.value?l.push(!!r&&!!La(o,e,n)):"or"===h.value?l.push(!!r||!!La(o,e,n)):"="===h.value?(a=e.binaryOps[h.value],l.push(a(r,La(o,e,n),n))):(a=e.binaryOps[h.value],l.push(a(Pa(r,n),Pa(o,n))));else if("IOP3"===p)i=l.pop(),o=l.pop(),r=l.pop(),"?"===h.value?l.push(La(r?o:i,e,n)):(a=e.ternaryOps[h.value],l.push(a(Pa(r,n),Pa(o,n),Pa(i,n))));else if("IVAR"===p){if(/^__proto__|prototype|constructor$/.test(h.value))throw new Error("prototype access detected");if(h.value in e.functions)l.push(e.functions[h.value]);else if(h.value in e.unaryOps&&e.parser.isOperatorEnabled(h.value))l.push(e.unaryOps[h.value]);else{var d=n[h.value];if(void 0===d)throw new Error("undefined variable: "+h.value);l.push(d)}}else if("IOP1"===p)r=l.pop(),a=e.unaryOps[h.value],l.push(a(Pa(r,n)));else if("IFUNCALL"===p){for(u=h.value,s=[];u-- >0;)s.unshift(Pa(l.pop(),n));if(!(a=l.pop()).apply||!a.call)throw new Error(a+" is not a function");l.push(a.apply(void 0,s))}else if("IFUNDEF"===p)l.push(function(){for(var t=l.pop(),r=[],o=h.value;o-- >0;)r.unshift(l.pop());var i=l.pop(),a=function(){for(var o=Object.assign({},n),i=0,a=r.length;i<a;i++)o[r[i]]=arguments[i];return La(t,e,o)};return Object.defineProperty(a,"name",{value:i,writable:!1}),n[i]=a,a}());else if(p===ea)l.push($a(h,e));else if("IEXPREVAL"===p)l.push(h);else if("IMEMBER"===p)r=l.pop(),l.push(r[h.value]);else if("IENDSTATEMENT"===p)l.pop();else{if("IARRAY"!==p)throw new Error("invalid Expression");for(u=h.value,s=[];u-- >0;)s.unshift(l.pop());l.push(s)}}if(l.length>1)throw new Error("invalid Expression (parity)");return 0===l[0]?0:Pa(l[0],n)}function $a(t,e,n){return Ha(t)?t:{type:"IEXPREVAL",value:function(n){return La(t.value,e,n)}}}function Ha(t){return t&&"IEXPREVAL"===t.type}function Pa(t,e){return Ha(t)?t.value(e):t}function Ba(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Ua(t){return t.trim()}ia.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Xi,ua);){var e=this.current;this.parseFactor(t),t.push(oa(e.value))}},ia.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(Xi,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===Ji&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if("TSEMICOLON"===this.nextToken.type||"TCOMMA"===this.nextToken.type||"TEOF"===this.nextToken.type||this.nextToken.type===Ji&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(ra(n.value))}else this.parseExponential(t)},ia.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Xi,"^");)this.parseFactor(t),t.push(oa("^"))},ia.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Xi,"!");)t.push(ra("!"))},ia.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(Xi,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(ra(n.value))}else for(this.parseMemberExpression(t);this.accept(Ji,"(");)if(this.accept(Ji,")"))t.push(new na("IFUNCALL",0));else{var r=this.parseArgumentList(t);t.push(new na("IFUNCALL",r))}},ia.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(Ji,")");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},ia.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Xi,".")||this.accept("TBRACKET","[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect("TNAME"),t.push(new na("IMEMBER",this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect("TBRACKET","]"),t.push(oa("["))}}},Ba.prototype.evaluate=function(t){return t=t||{},La(this.tokens,this,t)},Ba.prototype.variables=function(){return(this.tokens||[]).filter(t=>"IVAR"===t.type).map(t=>t.value)};const Wa=new Set(["__proto__","prototype","constructor"]);function za(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||Fa,LN:Math.log,LOG10:Math.log10||xa,LG:Math.log10||xa,LOG1P:Math.log1p||ja,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||Ea,"-":Ma,"+":Number,EXP:Math.exp,NOT:Na,LENGTH:Ya,"!":Na,SIGN:Math.sign||Da,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":la,"-":ca,"*":fa,"/":ha,"%":pa,"^":Math.pow,"==":da,"!=":ma,">":va,"<":ga,">=":ba,"<=":ya,and:wa,or:_a,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":Oa},this.ternaryOps={"?":Ca};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter(t=>!isNaN(t)&&Number.isFinite(t))}let o=/\w*/g,i=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{o=new RegExp("\\p{L}*","ug"),i=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:Ca,RANDOM:ka,MIN(){return function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}(r.apply(this,arguments))},MAX(){return function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}(r.apply(this,arguments))},SUM(){return Ia(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return Ia(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort((t,e)=>t-e),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:Aa,CONCAT(){return Array.from(arguments).join("")},TRIM:Ua,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(o,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),TITLE:t=>String(t).replace(i,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),SORT(t,e=!0,n=null){if(Wa.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e,n=null){if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:Sa,FOLD:Ta,FILTER:Ra,PLUCK(t,e){if(Wa.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map(t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null)},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let o=0;o<n;o++)if(r=r&&e(t[o]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let o=0;o<n;o++)if(r=r||e(t[o]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}za.prototype.parse=function(t){var e=[],n=new ia(this,new Zi(this,t),{allowMemberAccess:!0,restrictMemberAccess:Wa});return n.parseExpression(e),n.expect("TEOF","EOF"),new Ba(e,this)},za.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Va=new za;za.parse=function(t){return Va.parse(t)},za.evaluate=function(t,e){return Va.parse(t).evaluate(e)},za.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var qa={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function Ga(t){return t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")}function Ka(t){let e=t.get("metadata.describe.computed-columns",[]);return Array.isArray(e)||(e=Object.keys(e).reduce((t,n)=>(t.push({name:n,formula:e[n]}),t),[])),e}za.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(qa,t)?qa[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const Xa={};function Ja(t="core"){"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(Xa[t]=window.__dw.vis.meta.locale||{}):Xa[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}var Qa={show(){const t=setTimeout(()=>{this.set({visible:!0})},400);this.set({t:t})},hide(){const{t:t}=this.get();clearTimeout(t),this.set({visible:!1})}};function Za(t,e){var n,r,o,i,a,s=t._slotted.default,u="help"===e.type&&ts(),l="upgrade-info"===e.type&&es();return{c(){n=x("div"),u&&u.c(),r=N(" "),l&&l.c(),o=N("\n        "),n.className=a="content "+e.type+" svelte-1h0yjz4"},m(t,e){g(t,n,e),u&&u.m(n,null),v(n,r),l&&l.m(n,null),v(n,o),s&&(v(n,i||(i=E())),v(n,s))},p(t,e){"help"===e.type?u||((u=ts()).c(),u.m(n,r)):u&&(u.d(1),u=null),"upgrade-info"===e.type?l||((l=es()).c(),l.m(n,o)):l&&(l.d(1),l=null),t.type&&a!==(a="content "+e.type+" svelte-1h0yjz4")&&(n.className=a)},d(t){t&&b(n),u&&u.d(),l&&l.d(),s&&function(t,e){for(;t.nextSibling;)e.appendChild(t.nextSibling)}(i,s)}}}function ts(t,e){var n;return{c(){(n=x("i")).className="hat-icon im im-graduation-hat svelte-1h0yjz4"},m(t,e){g(t,n,e)},d(t){t&&b(n)}}}function es(t,e){var n,r,o=function(t,e="core"){if(t=t.trim(),Xa[e]||Ja(e),!Xa[e][t])return"MISSING:"+t;var n=Xa[e][t];return"string"==typeof n&&arguments.length>2&&(n=n.replace(/\$(\d)/g,(t,e)=>(e=2+Number(e),void 0===arguments[e]?t:arguments[e]))),n}("upgrade-available");return{c(){n=x("div"),r=N(o),n.className="content-header svelte-1h0yjz4"},m(t,e){g(t,n,e),v(n,r)},d(t){t&&b(n)}}}function ns(t){W(this,t),this.refs={},this._state=p({visible:!1,class:"",compact:!1,style:null,type:"help",uid:""},t.data),this._recompute({type:1},this._state),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,r,o,i,a,s=e.visible&&Za(t,e);function u(e){t.show()}function l(e){t.hide()}return{c(){n=x("div"),r=x("span"),i=N("\n    "),s&&s.c(),r.className=o="help-icon "+e.type+" svelte-1h0yjz4",R(r,"visible",e.visible),k(n,"mouseenter",u),k(n,"mouseleave",l),n.className=a="help "+e.class+" "+e.type+" svelte-1h0yjz4",n.style.cssText=e.style,n.dataset.uid=e.uid,R(n,"compact",{compact:e.compact})},m(o,a){g(o,n,a),v(n,r),r.innerHTML=e.helpIcon,v(n,i),s&&s.m(n,null),t.refs.helpDisplay=n},p(e,i){e.helpIcon&&(r.innerHTML=i.helpIcon),e.type&&o!==(o="help-icon "+i.type+" svelte-1h0yjz4")&&(r.className=o),(e.type||e.visible)&&R(r,"visible",i.visible),i.visible?s?s.p(e,i):((s=Za(t,i)).c(),s.m(n,null)):s&&(s.d(1),s=null),(e.class||e.type)&&a!==(a="help "+i.class+" "+i.type+" svelte-1h0yjz4")&&(n.className=a),e.style&&(n.style.cssText=i.style),e.uid&&(n.dataset.uid=i.uid),(e.class||e.type||e.compact)&&R(n,"compact",{compact:i.compact})},d(e){e&&b(n),s&&s.d(),Y(n,"mouseenter",u),Y(n,"mouseleave",l),t.refs.helpDisplay===n&&(t.refs.helpDisplay=null)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}p(ns.prototype,G),p(ns.prototype,Qa),ns.prototype._recompute=function(t,e){t.type&&this._differs(e.helpIcon,e.helpIcon=function({type:t}){return"upgrade-info"===t?'<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>':"?"}(e))&&(t.helpIcon=!0)};var rs={exports:{}};
/*!
	 * JavaScript Cookie v2.2.1
	 * https://github.com/js-cookie/js-cookie
	 *
	 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
	 * Released under the MIT license
	 */!function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=e(s[0]);if(u=(r.read||r)(u,l)||e(u),n)try{u=JSON.parse(u)}catch(t){}if(o[l]=u,t===l)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return a(t,!1)},o.getJSON=function(t){return a(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()}(rs);var os=rs.exports;const is=new Set(["get","head","options","trace"]);function as(t,e={}){if(!e.fetch)try{e.fetch=window.fetch}catch(t){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!e.baseUrl)try{e.baseUrl=window.dw.backend.__api_domain.startsWith("http")?window.dw.backend.__api_domain:"//"+window.dw.backend.__api_domain}catch(t){throw new Error("Neither options.baseUrl nor window.dw is defined.")}const{payload:n,baseUrl:r,fetch:o,raw:i,...a}={payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include",...e,headers:{"Content-Type":"application/json",...e.headers}},s=`${r.replace(/\/$/,"")}/${t.replace(/^\//,"")}`;let u;if(n&&(a.body=JSON.stringify(n)),a.headers["Content-Type"].startsWith("multipart/")&&delete a.headers["Content-Type"],a.disableCSFR||is.has(a.method.toLowerCase()))u=o(s,a);else{const t=os.get("crumb");t?(a.headers["X-CSRF-Token"]=t,u=o(s,a)):u=as("/v3/me",{fetch:o,baseUrl:r}).then(()=>{const t=os.get("crumb");t&&(a.headers["X-CSRF-Token"]=t)}).catch(()=>{}).then(()=>o(s,a))}return u.then(t=>{if(i)return t;if(!t.ok)throw new ls(t);if(204===t.status||!t.headers.get("content-type"))return t;const e=t.headers.get("content-type").split(";")[0];return"application/json"===e?t.json():"image/png"===e||"application/pdf"===e?t.blob():t.text()})}as.get=us("GET");const ss=as.patch=us("PATCH");function us(t){return(e,n)=>{if(n&&n.method)throw new Error(`Setting option.method is not allowed in httpReq.${t.toLowerCase()}()`);return as(e,{...n,method:t})}}as.put=us("PUT"),as.post=us("POST"),as.head=us("HEAD"),as.delete=us("DELETE");class ls extends Error{constructor(t){super(),this.name="HttpReqError",this.status=t.status,this.statusText=t.statusText,this.message=`[${t.status}] ${t.statusText}`,this.response=t}}let cs=()=>{};var fs={insert(t){const{cm:e}=this.get();e.replaceSelection(t.key),e.focus()},unmarkErrors(){window.document.querySelectorAll("span.parser-error").forEach(t=>t.classList.remove("parser-error"))},removeColumn(){const{column:t}=this.get(),{dw_chart:e}=this.store.get(),n=e.dataset(),r=Bi(Ka(e)).filter(e=>e.name!==t.origName()),o=n.columnOrder()[n.indexOf(t.name())],i=e.get("metadata.data.changes",[]),a=[];i.forEach(t=>{t.column!==o&&(t.column>o&&t.column--,a.push(t))}),e.set("metadata.describe.computed-columns",r),e.set("metadata.data.changes",a),e.saveSoon(),this.fire("updateTable"),this.fire("unselect")},copyFormulaToData(){const{column:t,formula:e}=this.get(),n=dw.column("",e.split("\n")),r=`[${n.values().map((t,e)=>t instanceof Date&&!isNaN(t)||"string"==typeof t?JSON.stringify(n.raw(e)):t).join(",\n")}][ROWNUMBER]`;this.set({formula:r,parserErrors:[]}),this.setFormula(r,t.name(),t.origName())},setFormula(t,e,n){if(void 0===t)return;const{dw_chart:r}=this.store.get(),{cm:o}=this.get();this.set({formula:t});const i=[];t!==o.getValue()&&o.setValue(t),setTimeout(()=>this.unmarkErrors());const a=Bi(Ka(r)),s=a.find(t=>t.name===n);if(!s)return setTimeout(()=>{this.setFormula(t,e,n)},100);if(s.formula!==t)s.formula=t,r.set("metadata.describe.computed-columns",a),this.set({checking:!0}),r.saveSoon&&r.saveSoon(),this.store.set({dwChart:r}),cs();else{let t;try{t=r.dataset().column(e)}catch(t){console.error(`Failed to load column "${e}"`)}t&&t.errors&&t.errors.forEach(t=>i.push(t))}this.set({parserErrors:i})},async closeDidYouKnow(){try{await ss("/v3/me/data",{payload:{"new-computed-columns-syntax":1}}),window.dw.backend.__userData["new-computed-columns-syntax"]=1}catch(t){console.error(t)}this.set({didYouKnow:!1})}};function hs(){const t=this,{column:e,computedColumns:n}=this.get(),{dw_chart:r}=this.store.get(),o=n.find(t=>t.name===e.origName());window.dw.backend.__userData["new-computed-columns-syntax"]&&this.set({didYouKnow:!JSON.parse(window.dw.backend.__userData["new-computed-columns-syntax"]||"false")}),this.set({formula:o.formula||"",name:e.origName()});const i=/(?:parse error) \[(\d+):(\d+)\]:/;this.on("hotRendered",()=>{const{checking:t,formula:n}=this.get();if(!t)return;const r=[];e.formula===n&&(e.errors||[]).forEach(t=>{r.push(t)}),this.unmarkErrors(),this.set({parserErrors:r,checking:!1})});const a=l.default.fromTextArea(this.refs.code,{value:this.get().formula||"",mode:"simple",indentUnit:2,tabSize:2,lineWrapping:!0,matchBrackets:!0,placeholder:"",continueComments:"Enter",extraKeys:{Tab:"autocomplete"},hintOptions:{hint:function(e){const n=e.getCursor(),r=e.getTokenAt(n);let o=[];const{keywords:i}=t.get();return"variable-x"===r.type?o=i.filter((function(t){return 0===t.toLowerCase().indexOf(r.string.toLowerCase())})):"keyword-x"===r.type&&(o=za.keywords.filter((function(t){return 0===t.toLowerCase().indexOf(r.string.toLowerCase())}))),{list:o.sort(),from:l.default.Pos(n.line,r.start),to:l.default.Pos(n.line,r.end)}}}});let s;window.CodeMirror=l.default,this.set({cm:a}),cs=Ft(()=>t.fire("updateTable"),1500);const u=t=>{clearTimeout(s);const{column:e}=this.get();s=setTimeout(()=>{let{computedColumns:n}=this.get();if(!n)return void console.error("Computed columns are not loaded");n=Bi(n);const o=n.find(t=>t.name===e.origName());if(!o)return void console.error(`Computed column "${e.origName()}" was not found`);const i=n.findIndex(e=>e.name===t);-1!==i&&n.splice(i,1),o.name=t,e.name(t),r.set("metadata.describe.computed-columns",n),this.store.set({dwChart:r}),r.saveSoon&&r.saveSoon(),cs()},1500)},{formula:c,keywords:f}=this.get();function h(t){const e=new RegExp(`(?:${t.join("|")})`),n=new RegExp(`(?:${za.keywords.join("|")})`);l.default.defineSimpleMode("simplemode",{start:[{regex:/"(?:[^\\]|\\.)*?(?:"|$)/,token:"string"},{regex:/'(?:[^\\]|\\.)*?(?:'|$)/,token:"string"},{regex:n,token:"keyword"},{regex:/true|false|PI|E/,token:"atom"},{regex:/0x[a-f\d]+|[-+]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?/i,token:"number"},{regex:e,token:"variable-2"},{regex:/\/(?:[^\\]|\\.)*?\//,token:"variable-3"},{regex:/[-+/*=<>!^%]+/,token:"operator"},{regex:/[[(]/,indent:!0},{regex:/[\])]/,dedent:!0},{regex:/[a-z$][\w$]*/,token:"variable-x"},{regex:/[A-Z_][\w$]*/,token:"keyword-x"}],meta:{}}),a.setOption("mode","simplemode")}h(f),this.setFormula(c,e.name(),e.origName()),this.on("state",({changed:t,current:e,previous:n})=>{if(t.column){const t=e.column;if(t&&e.computedColumns){const n=e.computedColumns.find(e=>e.name===t.origName()),r=n?n.formula:"";this.set({formula:r,name:t.origName()}),this.setFormula(r,t.name(),t.origName()),a.setValue(r)}}if(t.name&&n.name&&u(e.name),t.metaColumns&&h(e.keywords),t.errDisplay&&e.errDisplay&&i.test(e.errDisplay)){const t=e.errDisplay.match(i),n=Number(t[1])-1,r=Number(t[2])-1;a.markText({line:n,ch:r},{line:n,ch:r+1},{className:"parser-error"})}}),a.on("change",e=>{const{column:n}=t.get();this.setFormula(e.getValue(),n.name(),n.origName())})}function ps(t){const{component:e,ctx:n}=this._svelte;e.insert(n.col)}function ds(t,e,n){const r=Object.create(t);return r.col=e[n],r}function ms(t,e){var n,r,o,i,a,s,u,l,c,f,h,p,d,m,y,w,_=Ki("cc / formula / did-you-know / title"),M=Ki("cc / formula / did-you-know / text"),E=Ki("cc / formula / did-you-know / link"),C=Ki("cc / formula / did-you-know / link2");function A(e){t.closeDidYouKnow()}return{c(){n=x("div"),(r=x("div")).innerHTML='<i class="im im-check-mark-circle"></i>',o=N("\n        "),i=x("h3"),a=N(_),s=N("\n\n        "),u=x("p"),l=N(M),c=N("\n\n        "),f=x("p"),h=N(E),p=N(" "),d=x("i"),m=N("\n            "),y=x("a"),w=N(C),k(r,"click",A),r.className="close",d.className="im im-graduation-hat svelte-1cx0ai0",y.href="https://academy.datawrapper.de/article/249-calculations-in-added-columns-and-tooltips",y.target="_blank",n.className="did-you-know svelte-1cx0ai0",O(n,"margin-top","10px"),O(n,"margin-bottom","1em")},m(t,e){g(t,n,e),v(n,r),v(n,o),v(n,i),v(i,a),v(n,s),v(n,u),v(u,l),v(n,c),v(n,f),v(f,h),v(f,p),v(f,d),v(f,m),v(f,y),v(y,w)},d(t){t&&b(n),Y(r,"click",A)}}}function vs(t,e){var n;return{c(){O(n=x("i"),"color","#ccc"),n.className="fa fa-cog fa-spin"},m(t,e){g(t,n,e)},d(t){t&&b(n)}}}function gs(t,e){var n;return{c(){(n=x("p")).className="mini-help errors svelte-1cx0ai0"},m(t,r){g(t,n,r),n.innerHTML=e.errNiceDisplay},p(t,e){t.errNiceDisplay&&(n.innerHTML=e.errNiceDisplay)},d(t){t&&b(n)}}}function bs(t,e){var n,r,o,i;return{c(){n=x("p"),r=x("i"),o=N(" "),i=x("noscript"),r.className="hat-icon im im-graduation-hat svelte-1cx0ai0",n.className="mini-help formula-hint svelte-1cx0ai0"},m(t,a){g(t,n,a),v(n,r),v(n,o),v(n,i),i.insertAdjacentHTML("afterend",e.formulaHint)},p(t,e){t.formulaHint&&(!function(t){for(;t.nextSibling;)t.parentNode.removeChild(t.nextSibling)}(i),i.insertAdjacentHTML("afterend",e.formulaHint))},d(t){t&&b(n)}}}function ys(t,e){var n,r,o,i,a,s,u,l=Ki("cc / formula / hint / insert-data"),c=Ki("cc / formula / hint / insert-data / action");function f(e){e.preventDefault(),t.copyFormulaToData()}return{c(){n=x("div"),r=x("i"),o=N("\n        "),i=N(l),a=N("\n        "),s=x("a"),u=N(c),r.className="hat-icon im im-graduation-hat svelte-1cx0ai0",k(s,"click",f),O(s,"color","white"),O(s,"font-weight","bold"),s.href="/#apply",n.className="mini-help formula-hint svelte-1cx0ai0"},m(t,e){g(t,n,e),v(n,r),v(n,o),v(n,i),v(n,a),v(n,s),v(s,u)},d(t){t&&b(n),Y(s,"click",f)}}}function ws(t,e){var n,r,o=e.col.key;return{c(){n=x("li"),r=N(o),n._svelte={component:t,ctx:e},k(n,"click",ps),n.className="svelte-1cx0ai0"},m(t,e){g(t,n,e),v(n,r)},p(t,i){e=i,t.metaColumns&&o!==(o=e.col.key)&&A(r,o),n._svelte.ctx=e},d(t){t&&b(n),Y(n,"click",ps)}}}function _s(t){W(this,t),this.refs={},this._state=p(p(this.store._init(["dw_chart"]),{name:"",formula:"",parserErrors:[],checking:!1,didYouKnow:!0}),t.data),this.store._add(this,["dw_chart"]),this._recompute({name:1,columns:1,column:1,metaColumns:1,formula:1,context:1,error:1,$dw_chart:1,parserErrors:1,errDisplay:1},this._state),this._intro=!0,this._handlers.destroy=[q],this._fragment=function(t,e){var n,r,o,i,a,s,u,l,c,f,h,p,d,m,y,M,E,S,T,D,j,F,I,L,$,H,P,B,U,W,z,V,q,G,K=Ki("computed columns / modal / intro"),X=Ki("computed columns / modal / name"),J=!1,Q=Ki("computed columns / modal / formula"),Z=Ki("cc / formula / help"),tt=Ki("computed columns / modal / available columns"),et=Ki("computed columns / modal / remove"),nt=e.didYouKnow&&ms(t);function rt(){J=!0,t.set({name:p.value}),J=!1}for(var ot=e.checking&&!e.error&&vs(),it=new ns({root:t.root,store:t.store,slots:{default:_()}}),at=e.errDisplay&&gs(t,e),st=e.formulaHint&&bs(t,e),ut=e.looksLikeColumnData&&ys(t),lt=e.metaColumns,ct=[],ft=0;ft<lt.length;ft+=1)ct[ft]=ws(t,ds(e,lt,ft));function ht(e){t.removeColumn()}return{c(){n=x("div"),nt&&nt.c(),r=N("\n\n    "),o=x("h3"),i=N(e.title),a=N("\n    "),s=x("p"),u=N(K),l=N("\n\n    "),c=x("label"),f=N(X),h=N("\n    "),p=x("input"),d=N("\n\n    "),m=x("label"),y=N(Q),M=N("\n\n        \n        "),ot&&ot.c(),E=N("\n\n        "),S=x("span"),it._fragment.c(),T=N("\n    "),D=x("textarea"),j=N("\n\n    \n    "),at&&at.c(),F=N("\n\n    \n    "),st&&st.c(),I=N("\n\n    \n    "),ut&&ut.c(),L=N("\n\n    "),$=x("p"),H=N(tt),P=N(":"),B=N("\n\n    "),U=x("ul");for(var t=0;t<ct.length;t+=1)ct[t].c();W=N("\n\n"),z=x("button"),V=x("i"),q=N(" "),G=N(et),o.className="first",c.className="svelte-1cx0ai0",k(p,"input",rt),C(p,"type","text"),m.className="svelte-1cx0ai0",D.className="code svelte-1cx0ai0",R(D,"error",e.errDisplay),O($,"margin-top","1em"),U.className="col-select svelte-1cx0ai0",O(n,"margin-bottom","15px"),V.className="fa fa-trash",k(z,"click",ht),z.className="btn btn-danger"},m(b,w){g(b,n,w),nt&&nt.m(n,null),v(n,r),v(n,o),v(o,i),v(n,a),v(n,s),v(s,u),v(n,l),v(n,c),v(c,f),v(n,h),v(n,p),p.value=e.name,v(n,d),v(n,m),v(m,y),v(m,M),ot&&ot.m(m,null),v(m,E),v(it._slotted.default,S),S.innerHTML=Z,it._mount(m,null),v(n,T),v(n,D),t.refs.code=D,v(n,j),at&&at.m(n,null),v(n,F),st&&st.m(n,null),v(n,I),ut&&ut.m(n,null),v(n,L),v(n,$),v($,H),v($,P),v(n,B),v(n,U);for(var _=0;_<ct.length;_+=1)ct[_].m(U,null);g(b,W,w),g(b,z,w),v(z,V),v(z,q),v(z,G)},p(e,o){if(o.didYouKnow?nt||((nt=ms(t)).c(),nt.m(n,r)):nt&&(nt.d(1),nt=null),e.title&&A(i,o.title),!J&&e.name&&(p.value=o.name),o.checking&&!o.error?ot||((ot=vs()).c(),ot.m(m,E)):ot&&(ot.d(1),ot=null),e.errDisplay&&R(D,"error",o.errDisplay),o.errDisplay?at?at.p(e,o):((at=gs(t,o)).c(),at.m(n,F)):at&&(at.d(1),at=null),o.formulaHint?st?st.p(e,o):((st=bs(t,o)).c(),st.m(n,I)):st&&(st.d(1),st=null),o.looksLikeColumnData?ut||((ut=ys(t)).c(),ut.m(n,L)):ut&&(ut.d(1),ut=null),e.metaColumns){lt=o.metaColumns;for(var a=0;a<lt.length;a+=1){const n=ds(o,lt,a);ct[a]?ct[a].p(e,n):(ct[a]=ws(t,n),ct[a].c(),ct[a].m(U,null))}for(;a<ct.length;a+=1)ct[a].d(1);ct.length=lt.length}},d(e){e&&b(n),nt&&nt.d(),Y(p,"input",rt),ot&&ot.d(),it.destroy(),t.refs.code===D&&(t.refs.code=null),at&&at.d(),st&&st.d(),ut&&ut.d(),w(ct,e),e&&(b(W),b(z)),Y(z,"click",ht)}}}(this,this._state),this.root._oncreate.push(()=>{hs.call(this),this.fire("update",{changed:d({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function xs(t){var e=t-1;return e*e*e+1}function Ms(t,e){var n=e.delay;void 0===n&&(n=0);var r=e.duration;void 0===r&&(r=400);var o=e.easing;void 0===o&&(o=xs);var i=getComputedStyle(t),a=+i.opacity,s=parseFloat(i.height),u=parseFloat(i.paddingTop),l=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),f=parseFloat(i.marginBottom),h=parseFloat(i.borderTopWidth),p=parseFloat(i.borderBottomWidth);return{delay:n,duration:r,easing:o,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*a+";height: "+t*s+"px;padding-top: "+t*u+"px;padding-bottom: "+t*l+"px;margin-top: "+t*c+"px;margin-bottom: "+t*f+"px;border-top-width: "+t*h+"px;border-bottom-width: "+t*p+"px;"}}}function Ns(t,e){var n,r,o,i,a,s,u,l,c,f,h,p=e.help&&Es(t,e);function d(){t.set({value:i.checked,indeterminate:i.indeterminate})}var m=e.disabled&&e.disabledMessage&&ks(t,e);return{c(){p&&p.c(),n=N("\n"),r=x("div"),o=x("label"),i=x("input"),a=N("\n        "),s=x("span"),u=N("\n        "),l=N(e.label),f=N("\n    "),m&&m.c(),k(i,"change",d),"value"in e&&"indeterminate"in e||t.root._beforecreate.push(d),C(i,"type","checkbox"),i.disabled=e.disabled,i.className="svelte-1rmafvf",s.className="css-ui svelte-1rmafvf",o.className=c="checkbox "+(e.disabled?"disabled":"")+" "+(e.faded?"faded":"")+" svelte-1rmafvf",r.className=h="control-group vis-option-group vis-option-type-checkbox "+e.class+" svelte-1rmafvf",r.dataset.uid=e.uid,R(r,"is-compact",e.compact)},m(t,c){p&&p.m(t,c),g(t,n,c),g(t,r,c),v(r,o),v(o,i),i.checked=e.value,i.indeterminate=e.indeterminate,v(o,a),v(o,s),v(o,u),v(o,l),v(r,f),m&&m.i(r,null)},p(e,a){a.help?p?p.p(e,a):((p=Es(t,a)).c(),p.m(n.parentNode,n)):p&&(p.d(1),p=null),e.value&&(i.checked=a.value),e.indeterminate&&(i.indeterminate=a.indeterminate),e.disabled&&(i.disabled=a.disabled),e.label&&A(l,a.label),(e.disabled||e.faded)&&c!==(c="checkbox "+(a.disabled?"disabled":"")+" "+(a.faded?"faded":"")+" svelte-1rmafvf")&&(o.className=c),a.disabled&&a.disabledMessage?(m?m.p(e,a):(m=ks(t,a))&&m.c(),m.i(r,null)):m&&(F.current={remaining:0,callbacks:[]},m.o((function(){m.d(1),m=null}))),e.class&&h!==(h="control-group vis-option-group vis-option-type-checkbox "+a.class+" svelte-1rmafvf")&&(r.className=h),e.uid&&(r.dataset.uid=a.uid),(e.class||e.compact)&&R(r,"is-compact",a.compact)},d(t){p&&p.d(t),t&&(b(n),b(r)),Y(i,"change",d),m&&m.d()}}}function Es(t,e){var n,r=new ns({root:t.root,store:t.store,slots:{default:_()}});return{c(){n=x("div"),r._fragment.c()},m(t,o){v(r._slotted.default,n),n.innerHTML=e.help,r._mount(t,o)},p(t,e){t.help&&(n.innerHTML=e.help)},d(t){r.destroy(t)}}}function ks(t,e){var n,r,o,i;return{c(){n=x("div"),(r=x("div")).className="disabled-msg svelte-1rmafvf"},m(t,o){g(t,n,o),v(n,r),r.innerHTML=e.disabledMessage,i=!0},p(t,e){i&&!t.disabledMessage||(r.innerHTML=e.disabledMessage)},i(e,r){i||(t.root._intro&&(o&&o.invalidate(),t.root._aftercreate.push(()=>{o||(o=j(t,n,Ms,{},!0)),o.run(1)})),this.m(e,r))},o(e){i&&(o||(o=j(t,n,Ms,{},!1)),o.run(0,()=>{e(),o=null}),i=!1)},d(t){t&&(b(n),o&&o.abort())}}}function Ys(t){W(this,t),this._state=p({value:!1,disabled:!1,faded:!1,compact:!1,indeterminate:!1,disabledMessage:"",help:!1,uid:"",class:""},t.data),this._intro=!0,this._fragment=Ns(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}p(_s.prototype,G),p(_s.prototype,fs),_s.prototype._recompute=function(t,e){t.name&&this._differs(e.title,e.title=function({name:t}){return Ki("describe / edit-column","core",{s:`"${t}"`})}(e))&&(t.title=!0),(t.columns||t.column)&&this._differs(e.metaColumns,e.metaColumns=function({columns:t,column:e}){const n=[];if(!t)return n;const r=Ga(e.origName());for(const o of t){if(o.name()===e.name())continue;const t=Ga(o.isComputed?o.origName():o.name());t&&(t!==r&&n.push({key:t,title:o.title(),type:o.isComputed?"computed":o.type()}))}return n}(e))&&(t.metaColumns=!0),t.metaColumns&&(this._differs(e.keywords,e.keywords=function({metaColumns:t}){const e=[];return t.forEach((function(t){"number"===t.type||"computed"===t.type?(e.push(t.key+"__sum"),e.push(t.key+"__min"),e.push(t.key+"__max"),e.push(t.key+"__mean"),e.push(t.key+"__median")):"date"===t.type&&(e.push(t.key+"__min"),e.push(t.key+"__max")),e.push(t.key)})),e.sort((t,e)=>e.length-t.length)}(e))&&(t.keywords=!0),this._differs(e.context,e.context=function({metaColumns:t}){const e={ROWNUMBER:1},n=["sum","round","min","max","median","mean"];return t.forEach((function(t){e[t.key]="number"===t.type?42:"text"===t.type?"answer":new Date,"number"!==t.type&&"computed"!==t.type||n.forEach(n=>{e[`${t.key}__${n}`]=42})})),e}(e))&&(t.context=!0)),(t.formula||t.context)&&this._differs(e.error,e.error=function({formula:t,context:e}){try{return""!==t.trim()&&za.evaluate(t,e),null}catch(t){return t.message}}(e))&&(t.error=!0),(t.formula||t.error)&&this._differs(e.looksLikeColumnData,e.looksLikeColumnData=function({formula:t,error:e}){return!!(t.split("\n").length>4&&!t.includes("(")&&e)}(e))&&(t.looksLikeColumnData=!0),t.$dw_chart&&this._differs(e.computedColumns,e.computedColumns=function({$dw_chart:t}){return Ka(t)}(e))&&(t.computedColumns=!0),(t.error||t.parserErrors)&&this._differs(e.errDisplay,e.errDisplay=function({error:t,parserErrors:e}){return e.length?Object.entries(Pi(e,t=>t.message)).map(([t,e])=>t+("all"!==e[0].row?` (rows ${function(t){let e=0;const n=[];for(let r=1;r<t.length;r++)t[r]-t[e]>r-e&&(n.push(r>e+1?`${t[e]}-${t[r-1]}`:t[e]),e=r);return n.push(t.length>e+1?`${t[e]}-${t[t.length-1]}`:t[e]),n.join(", ")}(e.map(t=>t.row+2))})`:"")).join("<br />"):t||!1}(e))&&(t.errDisplay=!0),t.errDisplay&&this._differs(e.errNiceDisplay,e.errNiceDisplay=function({errDisplay:t}){return t?t.replace("unexpected TOP",Ki("cc / formula / error / unexpected top")).replace(": Expected EOF","").replace("unexpected TPAREN",Ki("cc / formula / error / unexpected tparen")).replace("unexpected TBRACKET",Ki("cc / formula / error / unexpected tparen")).replace("unexpected TEOF: EOF",Ki("cc / formula / error / unexpected teof")).replace("unexpected TCOMMA",Ki("cc / formula / error / unexpected tcomma")).replace("unexpected TSEMICOLON",Ki("cc / formula / error / unexpected tsemicolon")).replace("undefined variable",Ki("cc / formula / error / undefined variable")).replace("parse error",Ki("cc / formula / error / parser error")).replace("Unknown character",Ki("cc / formula / error / unknown-character")).replace("unexpected",Ki("cc / formula / error / unexpected")).replace("member access is not permitted",Ki("cc / formula / error / member-access")):t}(e))&&(t.errNiceDisplay=!0),(t.errDisplay||t.formula)&&this._differs(e.formulaHint,e.formulaHint=function({errDisplay:t,formula:e}){if("="===e.trim().charAt(0))return Ki("cc / formula / hint / equal-sign");if(!t||"string"!=typeof t)return"";const n=t.split("<br />");for(let t=0;t<n.length;t++)if(n[t].startsWith("undefined variable:")){const e=n[t].split(": ")[1].split("(row")[0].trim();if(za.keywords.includes(e.toUpperCase())&&!za.keywords.includes(e))return`${Ki("cc / formula / hint / use")} <tt>${e.toUpperCase()}</tt> ${Ki("cc / formula / hint / instead-of")} <tt>${e}</tt>`;if("row"===e)return`${Ki("cc / formula / hint / use")} <tt>ROWNUMBER</tt> ${Ki("cc / formula / hint / instead-of")} <tt>row</tt>`}const r=(e||"").match(/Math\.([a-zA-Z0-9]+)/);if(r&&za.keywords.includes(r[1].toUpperCase()))return`${Ki("cc / formula / hint / use")} <tt>${r[1].toUpperCase()}</tt> ${Ki("cc / formula / hint / instead-of")} <tt>${r[0]}</tt>`;const o=[{s:"substr",h:"SUBSTR(x, start, length)"},{s:"substring",h:"SUBSTR(x, start, length)"},{s:"replace",h:"REPLACE(x, old, new)"},{s:"indexOf",h:"INDEXOF(x, search)"},{s:"toFixed",h:"ROUND(x, decimals)"},{s:"length",h:"LENGTH(x)"},{s:"trim",h:"TRIM(x)"},{s:"split",h:"SPLIT(x, sep)"},{s:"join",h:"JOIN(x, sep)"},{s:"getFullYear",h:"YEAR(x)"},{s:"getMonth",h:"MONTH(x)"},{s:"getDate",h:"DAY(x)"},{s:"includes",h:"y in x"}];for(let t=0;t<o.length;t++){const{s:n,h:r}=o[t],i=new RegExp("([a-z0-9_]+)\\."+n+"\\("),a=e.match(i);if(a)return`${Ki("cc / formula / hint / use")} <tt>${r.replace("%x",a[1])}</tt> ${Ki("cc / formula / hint / instead-of")}<tt>x.${n}()</tt>`}return t.includes('"&"')&&e.includes("&&")?`${Ki("cc / formula / hint / use")} <tt>x and y</tt> ${Ki("cc / formula / hint / instead-of")} <tt>x && y</tt>`:t.includes("is not a function")&&e.includes("||")?`${Ki("cc / formula / hint / use")} <tt>x or y</tt> ${Ki("cc / formula / hint / instead-of")} <tt>x || y</tt>`:""}(e))&&(t.formulaHint=!0)},p(Ys.prototype,G);var Cs="100px";function As(t,e){var n,r={class:e.helpClass},o=new ns({root:t.root,store:t.store,slots:{default:_()},data:r});return{c(){n=x("div"),o._fragment.c()},m(t,r){v(o._slotted.default,n),n.innerHTML=e.help,o._mount(t,r)},p(t,e){t.help&&(n.innerHTML=e.help);var r={};t.helpClass&&(r.class=e.helpClass),o._set(r)},d(t){o.destroy(t)}}}function Os(t,e){var n,r,o,i=e.labelHelp&&Ss(t,e);return{c(){n=x("label"),r=x("noscript"),o=N(" "),i&&i.c(),O(n,"width",e.labelWidth||Cs),n.className="control-label svelte-1ykzs2h",R(n,"disabled",e.disabled)},m(t,a){g(t,n,a),v(n,r),r.insertAdjacentHTML("beforebegin",e.label),v(n,o),i&&i.m(n,null)},p(e,o){e.label&&(!function(t){for(;t.previousSibling;)t.parentNode.removeChild(t.previousSibling)}(r),r.insertAdjacentHTML("beforebegin",o.label)),o.labelHelp?i?i.p(e,o):((i=Ss(t,o)).c(),i.m(n,null)):i&&(i.d(1),i=null),e.labelWidth&&O(n,"width",o.labelWidth||Cs),e.disabled&&R(n,"disabled",o.disabled)},d(t){t&&b(n),i&&i.d()}}}function Ss(t,e){var n;return{c(){(n=x("p")).className="mini-help mt-1"},m(t,r){g(t,n,r),n.innerHTML=e.labelHelp},p(t,e){t.labelHelp&&(n.innerHTML=e.labelHelp)},d(t){t&&b(n)}}}function Ts(t,e){var n,r;return{c(){O(n=x("p"),"padding-left",e.inline?0:e.labelWidth||Cs),n.className=r="mt-1 mini-help "+e.type+" svelte-1ykzs2h",R(n,"mini-help-block",!e.inline)},m(t,r){g(t,n,r),n.innerHTML=e.miniHelp},p(t,e){t.miniHelp&&(n.innerHTML=e.miniHelp),(t.inline||t.labelWidth)&&O(n,"padding-left",e.inline?0:e.labelWidth||Cs),t.type&&r!==(r="mt-1 mini-help "+e.type+" svelte-1ykzs2h")&&(n.className=r),(t.type||t.inline)&&R(n,"mini-help-block",!e.inline)},d(t){t&&b(n)}}}function Rs(t){var e,n,r,o,i,a,s,u,l,c,f,h;W(this,t),this._state=p({disabled:!1,help:!1,helpClass:!1,miniHelp:!1,label:!1,labelHelp:!1,class:"",inline:!1,labelWidth:!1,type:"default",valign:"baseline",uid:""},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=(e=this,n=this._state,l=e._slotted.default,c=n.help&&As(e,n),f=n.label&&Os(e,n),h=n.miniHelp&&Ts(0,n),{c(){c&&c.c(),r=N("\n\n"),o=x("div"),f&&f.c(),i=N("\n    "),a=x("div"),s=N("\n    "),h&&h.c(),a.className="controls svelte-1ykzs2h",O(a,"width","calc(100% - "+(n.labelWidth||Cs)+" - 32px)"),R(a,"form-inline",n.inline),o.className=u="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" "+n.class+" svelte-1ykzs2h",o.dataset.uid=n.uid},m(t,e){c&&c.m(t,e),g(t,r,e),g(t,o,e),f&&f.m(o,null),v(o,i),v(o,a),l&&v(a,l),v(o,s),h&&h.m(o,null)},p(t,n){n.help?c?c.p(t,n):((c=As(e,n)).c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null),n.label?f?f.p(t,n):((f=Os(e,n)).c(),f.m(o,i)):f&&(f.d(1),f=null),t.labelWidth&&O(a,"width","calc(100% - "+(n.labelWidth||Cs)+" - 32px)"),t.inline&&R(a,"form-inline",n.inline),n.miniHelp?h?h.p(t,n):((h=Ts(0,n)).c(),h.m(o,null)):h&&(h.d(1),h=null),(t.type||t.valign||t.class)&&u!==(u="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" "+n.class+" svelte-1ykzs2h")&&(o.className=u),t.uid&&(o.dataset.uid=n.uid)},d(t){c&&c.d(t),t&&(b(r),b(o)),f&&f.d(),l&&y(a,l),h&&h.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function Ds(t,e,n){const r=Object.create(t);return r.opt=e[n],r}function js(t,e,n){const r=Object.create(t);return r.optgroup=e[n],r}function Fs(t,e,n){const r=Object.create(t);return r.opt=e[n],r}function Is(t,e){for(var n,r=e.options,o=[],i=0;i<r.length;i+=1)o[i]=Ls(t,Fs(e,r,i));return{c(){for(var t=0;t<o.length;t+=1)o[t].c();n=E()},m(t,e){for(var r=0;r<o.length;r+=1)o[r].m(t,e);g(t,n,e)},p(e,i){if(e.options||e.value){r=i.options;for(var a=0;a<r.length;a+=1){const s=Fs(i,r,a);o[a]?o[a].p(e,s):(o[a]=Ls(t,s),o[a].c(),o[a].m(n.parentNode,n))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},d(t){w(o,t),t&&b(n)}}}function Ls(t,e){var n,r,o,i,a=e.opt.label;return{c(){n=x("option"),r=N(a),n.__value=o=e.opt.value,n.value=n.__value,n.selected=i=e.opt.value===e.value},m(t,e){g(t,n,e),v(n,r)},p(t,e){t.options&&a!==(a=e.opt.label)&&A(r,a),t.options&&o!==(o=e.opt.value)&&(n.__value=o),n.value=n.__value,(t.options||t.value)&&i!==(i=e.opt.value===e.value)&&(n.selected=i)},d(t){t&&b(n)}}}function $s(t,e){for(var n,r=e.optgroups,o=[],i=0;i<r.length;i+=1)o[i]=Ps(t,js(e,r,i));return{c(){for(var t=0;t<o.length;t+=1)o[t].c();n=E()},m(t,e){for(var r=0;r<o.length;r+=1)o[r].m(t,e);g(t,n,e)},p(e,i){if(e.optgroups||e.value){r=i.optgroups;for(var a=0;a<r.length;a+=1){const s=js(i,r,a);o[a]?o[a].p(e,s):(o[a]=Ps(t,s),o[a].c(),o[a].m(n.parentNode,n))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},d(t){w(o,t),t&&b(n)}}}function Hs(t,e){var n,r,o,i,a=e.opt.label;return{c(){n=x("option"),r=N(a),n.__value=o=e.opt.value,n.value=n.__value,n.selected=i=e.opt.value===e.value},m(t,e){g(t,n,e),v(n,r)},p(t,e){t.optgroups&&a!==(a=e.opt.label)&&A(r,a),t.optgroups&&o!==(o=e.opt.value)&&(n.__value=o),n.value=n.__value,(t.optgroups||t.value)&&i!==(i=e.opt.value===e.value)&&(n.selected=i)},d(t){t&&b(n)}}}function Ps(t,e){for(var n,r,o=e.optgroup.options,i=[],a=0;a<o.length;a+=1)i[a]=Hs(0,Ds(e,o,a));return{c(){n=x("optgroup");for(var t=0;t<i.length;t+=1)i[t].c();C(n,"label",r=e.optgroup.label)},m(t,e){g(t,n,e);for(var r=0;r<i.length;r+=1)i[r].m(n,null)},p(t,e){if(t.optgroups||t.value){o=e.optgroup.options;for(var a=0;a<o.length;a+=1){const r=Ds(e,o,a);i[a]?i[a].p(t,r):(i[a]=Hs(0,r),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=o.length}t.optgroups&&r!==(r=e.optgroup.label)&&C(n,"label",r)},d(t){t&&b(n),w(i,t)}}}function Bs(t){W(this,t),this._state=p({disabled:!1,width:"auto",options:[],optgroups:[],value:null,class:"",uid:""},t.data),this._intro=!0,this._fragment=function(t,e){var n,r,o,i=!1,a=e.options.length&&Is(t,e),s=e.optgroups.length&&$s(t,e);function u(){i=!0,t.set({value:T(n)}),i=!1}function l(e){t.fire("change",e)}return{c(){n=x("select"),a&&a.c(),r=E(),s&&s.c(),k(n,"change",u),"value"in e||t.root._beforecreate.push(u),k(n,"change",l),n.className=o="select-css "+e.class+" svelte-v0oq4b",n.disabled=e.disabled,O(n,"width",e.width),n.dataset.uid=e.uid},m(t,o){g(t,n,o),a&&a.m(n,null),v(n,r),s&&s.m(n,null),S(n,e.value)},p(e,u){u.options.length?a?a.p(e,u):((a=Is(t,u)).c(),a.m(n,r)):a&&(a.d(1),a=null),u.optgroups.length?s?s.p(e,u):((s=$s(t,u)).c(),s.m(n,null)):s&&(s.d(1),s=null),!i&&e.value&&S(n,u.value),e.class&&o!==(o="select-css "+u.class+" svelte-v0oq4b")&&(n.className=o),e.disabled&&(n.disabled=u.disabled),e.width&&O(n,"width",u.width),e.uid&&(n.dataset.uid=u.uid)},d(t){t&&b(n),a&&a.d(),s&&s.d(),Y(n,"change",u),Y(n,"change",l)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function Us(t){W(this,t),this._state=p({disabled:!1,width:null,labelWidth:null,options:[],optgroups:[],valign:"middle",inline:!1,help:null,miniHelp:null,uid:""},t.data),this._recompute({inline:1,width:1,labelWidth:1},this._state),this._intro=!0,this._fragment=function(t,e){var n={},r={width:e.controlWidth,class:"mt-1"};void 0!==e.value&&(r.value=e.value,n.value=!0),void 0!==e.disabled&&(r.disabled=e.disabled,n.disabled=!0),void 0!==e.options&&(r.options=e.options,n.options=!0),void 0!==e.optgroups&&(r.optgroups=e.optgroups,n.optgroups=!0);var o=new Bs({root:t.root,store:t.store,data:r,_bind(e,r){var o={};!n.value&&e.value&&(o.value=r.value),!n.disabled&&e.disabled&&(o.disabled=r.disabled),!n.options&&e.options&&(o.options=r.options),!n.optgroups&&e.optgroups&&(o.optgroups=r.optgroups),t._set(o),n={}}});t.root._beforecreate.push(()=>{o._bind({value:1,disabled:1,options:1,optgroups:1},o.get())}),o.on("change",(function(e){t.fire("change",e)}));var i={type:"select",label:e.label,labelWidth:e.labelWidth,valign:e.valign,disabled:e.disabled,inline:e.inline,miniHelp:e.miniHelp,help:e.help,uid:e.uid,helpClass:"mt-1"},a=new Rs({root:t.root,store:t.store,slots:{default:_()},data:i});return{c(){o._fragment.c(),a._fragment.c()},m(t,e){o._mount(a._slotted.default,null),a._mount(t,e)},p(t,r){e=r;var i={};t.controlWidth&&(i.width=e.controlWidth),!n.value&&t.value&&(i.value=e.value,n.value=void 0!==e.value),!n.disabled&&t.disabled&&(i.disabled=e.disabled,n.disabled=void 0!==e.disabled),!n.options&&t.options&&(i.options=e.options,n.options=void 0!==e.options),!n.optgroups&&t.optgroups&&(i.optgroups=e.optgroups,n.optgroups=void 0!==e.optgroups),o._set(i),n={};var s={};t.label&&(s.label=e.label),t.labelWidth&&(s.labelWidth=e.labelWidth),t.valign&&(s.valign=e.valign),t.disabled&&(s.disabled=e.disabled),t.inline&&(s.inline=e.inline),t.miniHelp&&(s.miniHelp=e.miniHelp),t.help&&(s.help=e.help),t.uid&&(s.uid=e.uid),a._set(s)},d(t){o.destroy(),a.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}p(Rs.prototype,G),p(Bs.prototype,G),p(Us.prototype,G),Us.prototype._recompute=function(t,e){(t.inline||t.width)&&this._differs(e.controlWidth,e.controlWidth=function({inline:t,width:e}){return t?e||"auto":e}(e))&&(t.controlWidth=!0),(t.inline||t.labelWidth)&&this._differs(e.labelWidth,e.labelWidth=function({inline:t,labelWidth:e}){return t?e||"auto":e}(e))&&(t.labelWidth=!0)};var Ws=Ft,zs=X;var Vs=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return zs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ws(t,e,{leading:r,maxWait:e,trailing:o})};function qs(t){if(Array.isArray(t)){const e={};return Object.keys(t).forEach(n=>e[n]=t[n]),e}return t}var Gs={autoDivisor(){const{dw_chart:t}=this.store.get(),{column:e}=this.get(),n=dw.utils.metricSuffix(t.locale()),r=e.values(),o=dw.utils.significantDimension(r);let i=o<-2?3*Math.round(-1*o/3):o>4?-1*o:0;const a=r.map((function(t){return t/Math.pow(10,i)}));let s=dw.utils.significantDimension(a);s<=0&&(s=a.reduce((function(t,e){return Math.max(t,Math.min(3,dw.utils.tailLength(e)))}),0)),s===i&&(i=0,s=0),i>15&&(i=0,s=0),this.set({columnFormat:{"number-divisor":i,"number-format":"n"+Math.max(0,s),"number-prepend":"","number-append":i?n[i]||" × 10<sup>"+i+"</sup>":""}})},getColumnFormat(t){const{dw_chart:e}=this.store.get();let n=Bi(qs(e.get("metadata.data.column-format",{}))[t.name()]);return n&&"auto"!==n&&void 0===n.length||(n={type:"auto",ignore:!1,"number-divisor":0,"number-prepend":"","number-append":"","number-format":"auto"}),n}};function Ks(){const t=Vs(()=>{this.fire("updateTable")},100,{leading:!1}),e=Vs(()=>{this.fire("updateTable")},100,{leading:!1}),{column:n}=this.get();this.set({colTypes:[{value:"auto",label:"auto ("+n.type()+")"},{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"date",label:"Date"}]}),this.set({columnFormat:this.getColumnFormat(n)}),this.on("state",({changed:r,current:o})=>{if(r.column){const t=o.column;this.set({columnFormat:this.getColumnFormat(t)});const{colTypes:e}=this.get();e[0].label="auto ("+n.type()+")"}if(r.columnFormat){const n=o.columnFormat,{dw_chart:r}=this.store.get(),i=o.column,a=qs(Bi(r.get("metadata.data.column-format",{}))),s=a[i.name()];if(!s||JSON.stringify(s)!==JSON.stringify(n)){if("auto"===n["number-divisor"])return void setTimeout(()=>this.autoDivisor(),100);a[i.name()]=Bi(n),r.set("metadata.data.column-format",a),r.saveSoon&&r.saveSoon(),s&&s.type===n.type?e():t()}}})}function Xs(t,e){var n,r,o,i,a,s,u,l,c,f,h={},p={},d=Ki("Prepend/Append"),m=!1,y=!1,w={label:Ki("Round numbers to"),options:e.roundOptions,optgroups:e.numberFormats,width:"180px"};void 0!==e.columnFormat["number-format"]&&(w.value=e.columnFormat["number-format"],h.value=!0);var _=new Us({root:t.root,store:t.store,data:w,_bind(n,r){var o={};!h.value&&n.value&&(e.columnFormat["number-format"]=r.value,o.columnFormat=e.columnFormat),t._set(o),h={}}});t.root._beforecreate.push(()=>{_._bind({value:1},_.get())});var M={label:Ki("Divide numbers by"),options:e.divisors_opts,optgroups:e.divisors,width:"180px"};void 0!==e.columnFormat["number-divisor"]&&(M.value=e.columnFormat["number-divisor"],p.value=!0);var E=new Us({root:t.root,store:t.store,data:M,_bind(n,r){var o={};!p.value&&n.value&&(e.columnFormat["number-divisor"]=r.value,o.columnFormat=e.columnFormat),t._set(o),p={}}});function A(){m=!0,e.columnFormat["number-prepend"]=l.value,t.set({columnFormat:e.columnFormat}),m=!1}function S(){y=!0,e.columnFormat["number-append"]=f.value,t.set({columnFormat:e.columnFormat}),y=!1}return t.root._beforecreate.push(()=>{E._bind({value:1},E.get())}),{c(){_._fragment.c(),n=N("\n\n        "),E._fragment.c(),r=N("\n\n        "),o=x("div"),i=x("label"),a=N(d),s=N("\n            "),u=x("div"),l=x("input"),c=N("\n                #\n                "),f=x("input"),i.className="control-label svelte-1qp115j",k(l,"input",A),l.autocomplete="screw-you-google-chrome",O(l,"width","6ex"),O(l,"text-align","right"),l.dataset.lpignore="true",l.name="prepend",C(l,"type","text"),k(f,"input",S),f.autocomplete="screw-you-google-chrome",O(f,"width","6ex"),f.dataset.lpignore="true",f.name="append",C(f,"type","text"),u.className="controls form-inline svelte-1qp115j",o.className="control-group vis-option-type-select"},m(t,h){_._mount(t,h),g(t,n,h),E._mount(t,h),g(t,r,h),g(t,o,h),v(o,i),v(i,a),v(o,s),v(o,u),v(u,l),l.value=e.columnFormat["number-prepend"],v(u,c),v(u,f),f.value=e.columnFormat["number-append"]},p(t,n){e=n;var r={};t.roundOptions&&(r.options=e.roundOptions),t.numberFormats&&(r.optgroups=e.numberFormats),!h.value&&t.columnFormat&&(r.value=e.columnFormat["number-format"],h.value=void 0!==e.columnFormat["number-format"]),_._set(r),h={};var o={};t.divisors_opts&&(o.options=e.divisors_opts),t.divisors&&(o.optgroups=e.divisors),!p.value&&t.columnFormat&&(o.value=e.columnFormat["number-divisor"],p.value=void 0!==e.columnFormat["number-divisor"]),E._set(o),p={},!m&&t.columnFormat&&(l.value=e.columnFormat["number-prepend"]),!y&&t.columnFormat&&(f.value=e.columnFormat["number-append"])},d(t){_.destroy(t),t&&b(n),E.destroy(t),t&&(b(r),b(o)),Y(l,"input",A),Y(f,"input",S)}}}function Js(t){W(this,t),this._state=p({columnFormat:{type:"auto",ignore:!1,"number-divisor":0,"number-format":"auto","number-prepend":"","number-append":""},colTypes:[],divisors_opts:[{value:0,label:Ki("describe / column-format / no-change")},{value:"auto",label:Ki("describe / column-format / automatic")}],divisors:[{label:Ki("describe / column-format / divide-by"),options:[{value:3,label:"1000"},{value:6,label:Ki("describe / column-format / million")},{value:9,label:Ki("describe / column-format / billion")}]},{label:Ki("describe / column-format / multiply-by"),options:[{value:-2,label:"100"},{value:-3,label:"1000"},{value:-6,label:Ki("describe / column-format / million")},{value:-9,label:Ki("describe / column-format / billion")},{value:-12,label:Ki("describe / column-format / trillion")}]}],numberFormats:[{label:Ki("Decimal places"),options:[{value:"n3",label:"3 (1,234.568)"},{value:"n2",label:"2 (1,234.57)"},{value:"n1",label:"1 (1,234.6)"},{value:"n0",label:"0 (1,235)"}]},{label:Ki("Significant digits"),options:[{value:"s6",label:"6 (1,234.57)"},{value:"s5",label:"5 (123.45)"},{value:"s4",label:"4 (12.34)"},{value:"s3",label:"3 (1.23)"},{value:"s2",label:"2 (0.12)"},{value:"s1",label:"1 (0.01)"}]}],roundOptions:[{value:"-",label:Ki("describe / column-format / individual")},{value:"auto",label:Ki("describe / column-format / auto-detect")}]},t.data),this._recompute({column:1},this._state),this._intro=!0,this._fragment=function(t,e){var n,r,o,i,a,s,u,l,c,f={},h={},p={label:Ki("Column type"),options:e.colTypes,width:"180px"};void 0!==e.columnFormat.type&&(p.value=e.columnFormat.type,f.value=!0);var d=new Us({root:t.root,store:t.store,data:p,_bind(n,r){var o={};!f.value&&n.value&&(e.columnFormat.type=r.value,o.columnFormat=e.columnFormat),t._set(o),f={}}});t.root._beforecreate.push(()=>{d._bind({value:1},d.get())});var m={label:Ki("Hide column from visualization")};void 0!==e.columnFormat.ignore&&(m.value=e.columnFormat.ignore,h.value=!0);var y=new Ys({root:t.root,store:t.store,data:m,_bind(n,r){var o={};!h.value&&n.value&&(e.columnFormat.ignore=r.value,o.columnFormat=e.columnFormat),t._set(o),h={}}});t.root._beforecreate.push(()=>{y._bind({value:1},y.get())});var w=e.column&&"number"==e.column.type()&&Xs(t,e);return{c(){n=x("div"),r=x("h3"),o=N(e.title),i=N("\n\n    "),a=x("div"),d._fragment.c(),s=N("\n\n        "),y._fragment.c(),u=N("\n\n        "),l=x("hr"),c=N("\n\n        "),w&&w.c(),r.className="first",a.className="form-horizontal"},m(t,e){g(t,n,e),v(n,r),v(r,o),v(n,i),v(n,a),d._mount(a,null),v(a,s),y._mount(a,null),v(a,u),v(a,l),v(a,c),w&&w.m(a,null)},p(n,r){e=r,n.title&&A(o,e.title);var i={};n.colTypes&&(i.options=e.colTypes),!f.value&&n.columnFormat&&(i.value=e.columnFormat.type,f.value=void 0!==e.columnFormat.type),d._set(i),f={};var s={};!h.value&&n.columnFormat&&(s.value=e.columnFormat.ignore,h.value=void 0!==e.columnFormat.ignore),y._set(s),h={},e.column&&"number"==e.column.type()?w?w.p(n,e):((w=Xs(t,e)).c(),w.m(a,null)):w&&(w.d(1),w=null)},d(t){t&&b(n),d.destroy(),y.destroy(),w&&w.d()}}}(this,this._state),this.root._oncreate.push(()=>{Ks.call(this),this.fire("update",{changed:d({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}p(Js.prototype,G),p(Js.prototype,Gs),Js.prototype._recompute=function(t,e){t.column&&this._differs(e.title,e.title=function({column:t}){return Ki("describe / edit-column","core",{s:`"${t?t.title()||t.name():"--"}"`})}(e))&&(t.title=!0)};var Qs=Math.ceil,Zs=Math.max;var tu=fn,eu=Ze,nu=Me,ru=X;var ou=Ot;var iu=function(t,e,n,r){for(var o=-1,i=Zs(Qs((e-t)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=t,t+=n;return a},au=function(t,e,n){if(!ru(n))return!1;var r=typeof e;return!!("number"==r?eu(n)&&nu(e,n.length):"string"==r&&e in n)&&tu(n[e],t)},su=function(t){return t?(t=ou(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var uu=function(t){return function(e,n,r){return r&&"number"!=typeof r&&au(e,n,r)&&(n=r=void 0),e=su(e),void 0===n?(n=e,e=0):n=su(n),r=void 0===r?e<n?1:-1:su(r),iu(e,n,r,t)}}(),lu=se,cu=Ii,fu=Object.prototype.hasOwnProperty,hu=cu((function(t,e,n){fu.call(t,n)?++t[n]:lu(t,n,1)}));function pu(t){return(+t).toFixed(function(t){return Math.max(0,String(t-Math.floor(t)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2)}(t))}function du(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function mu(t){let e=t,n=t;function r(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)<0?r=i+1:o=i}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>du(t(e),n)}(t)),{left:r,center:function(t,n,o,i){null==o&&(o=0),null==i&&(i=t.length);const a=r(t,n,o,i-1);return a>o&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)>0?o=i:r=i+1}return r}}}const vu=mu(du).right;mu((function(t){return null===t?NaN:+t})).center;var gu=vu;function bu(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}function yu(t){return t}var wu=Array.prototype.slice;function _u(t){return function(){return t}}var xu=Math.sqrt(50),Mu=Math.sqrt(10),Nu=Math.sqrt(2);function Eu(t,e,n){var r,o,i,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=ku(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),i=new Array(o=Math.ceil(e-t+1));++s<o;)i[s]=(t+s)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),i=new Array(o=Math.ceil(e-t+1));++s<o;)i[s]=(t+s)/a;return r&&i.reverse(),i}function ku(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=xu?10:i>=Mu?5:i>=Nu?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=xu?10:i>=Mu?5:i>=Nu?2:1)}function Yu(t){return Math.ceil(Math.log(function(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(o=+o)>=o&&++n}return n}(t))/Math.LN2)+1}function Cu(){var t=yu,e=bu,n=Yu;function r(r){Array.isArray(r)||(r=Array.from(r));var o,i,a=r.length,s=new Array(a);for(o=0;o<a;++o)s[o]=t(r[o],o,r);var u=e(s),l=u[0],c=u[1],f=n(s,l,c);Array.isArray(f)||(f=+f,e===bu&&([l,c]=function(t,e,n){let r;for(;;){const o=ku(t,e,n);if(o===r||0===o||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),r=o}}(l,c,f)),(f=Eu(l,c,f))[f.length-1]===c&&f.pop());for(var h=f.length;f[0]<=l;)f.shift(),--h;for(;f[h-1]>c;)f.pop(),--h;var p,d=new Array(h+1);for(o=0;o<=h;++o)(p=d[o]=[]).x0=o>0?f[o-1]:l,p.x1=o<h?f[o]:c;for(o=0;o<a;++o)l<=(i=s[o])&&i<=c&&d[gu(f,i,0,h)].push(r[o]);return d}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:_u(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:_u([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?_u(wu.call(t)):_u(t),r):n},r}function Au(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function Ou(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function Su(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Tu(t,e,n){if(r=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n))).length){if((e=+e)<=0||r<2)return Ou(t);if(e>=1)return Au(t);var r,o=(r-1)*e,i=Math.floor(o),a=Au(function t(e,n,r=0,o=e.length-1,i=du){for(;o>r;){if(o-r>600){const a=o-r+1,s=n-r+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*l/a+c)),Math.min(o,Math.floor(n+(a-s)*l/a+c)),i)}const a=e[n];let s=r,u=o;for(Su(e,r,n),i(e[o],a)>0&&Su(e,r,o);s<u;){for(Su(e,s,u),++s,--u;i(e[s],a)<0;)++s;for(;i(e[u],a)>0;)--u}0===i(e[r],a)?Su(e,r,u):(++u,Su(e,u,o)),u<=n&&(r=u+1),n<=u&&(o=u-1)}return e}(t,i).subarray(0,i+1));return a+(Ou(t.subarray(i+1))-a)*(o-i)}}function Ru(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}function Du(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const ju=Symbol("implicit");function Fu(){var t=new Map,e=[],n=[],r=ju;function o(o){var i=o+"",a=t.get(i);if(!a){if(r!==ju)return r;t.set(i,a=e.push(o))}return n[(a-1)%n.length]}return o.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return o},o.range=function(t){return arguments.length?(n=Array.from(t),o):n.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return Fu(e,n).unknown(r)},Du.apply(o,arguments),o}function Iu(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Lu(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $u(){}var Hu="\\s*([+-]?\\d+)\\s*",Pu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uu=/^#([0-9a-f]{3,8})$/,Wu=new RegExp("^rgb\\("+[Hu,Hu,Hu]+"\\)$"),zu=new RegExp("^rgb\\("+[Bu,Bu,Bu]+"\\)$"),Vu=new RegExp("^rgba\\("+[Hu,Hu,Hu,Pu]+"\\)$"),qu=new RegExp("^rgba\\("+[Bu,Bu,Bu,Pu]+"\\)$"),Gu=new RegExp("^hsl\\("+[Pu,Bu,Bu]+"\\)$"),Ku=new RegExp("^hsla\\("+[Pu,Bu,Bu,Pu]+"\\)$"),Xu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ju(){return this.rgb().formatHex()}function Qu(){return this.rgb().formatRgb()}function Zu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Uu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?tl(e):3===n?new ol(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?el(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?el(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Wu.exec(t))?new ol(e[1],e[2],e[3],1):(e=zu.exec(t))?new ol(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Vu.exec(t))?el(e[1],e[2],e[3],e[4]):(e=qu.exec(t))?el(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Gu.exec(t))?ul(e[1],e[2]/100,e[3]/100,1):(e=Ku.exec(t))?ul(e[1],e[2]/100,e[3]/100,e[4]):Xu.hasOwnProperty(t)?tl(Xu[t]):"transparent"===t?new ol(NaN,NaN,NaN,0):null}function tl(t){return new ol(t>>16&255,t>>8&255,255&t,1)}function el(t,e,n,r){return r<=0&&(t=e=n=NaN),new ol(t,e,n,r)}function nl(t){return t instanceof $u||(t=Zu(t)),t?new ol((t=t.rgb()).r,t.g,t.b,t.opacity):new ol}function rl(t,e,n,r){return 1===arguments.length?nl(t):new ol(t,e,n,null==r?1:r)}function ol(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function il(){return"#"+sl(this.r)+sl(this.g)+sl(this.b)}function al(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function sl(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ul(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new cl(t,e,n,r)}function ll(t){if(t instanceof cl)return new cl(t.h,t.s,t.l,t.opacity);if(t instanceof $u||(t=Zu(t)),!t)return new cl;if(t instanceof cl)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(a=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new cl(a,s,u,t.opacity)}function cl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function fl(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Iu($u,Zu,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ju,formatHex:Ju,formatHsl:function(){return ll(this).formatHsl()},formatRgb:Qu,toString:Qu}),Iu(ol,rl,Lu($u,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ol(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ol(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:il,formatHex:il,formatRgb:al,toString:al})),Iu(cl,(function(t,e,n,r){return 1===arguments.length?ll(t):new cl(t,e,n,null==r?1:r)}),Lu($u,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new cl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new cl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new ol(fl(t>=240?t-240:t+120,o,r),fl(t,o,r),fl(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var hl=t=>()=>t;function pl(t){return 1==(t=+t)?dl:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):hl(isNaN(e)?n:e)}}function dl(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):hl(isNaN(t)?e:t)}var ml=function t(e){var n=pl(e);function r(t,e){var r=n((t=rl(t)).r,(e=rl(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=dl(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function vl(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function gl(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=Nl(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function bl(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function yl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wl(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Nl(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var _l=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xl=new RegExp(_l.source,"g");function Ml(t,e){var n,r,o,i=_l.lastIndex=xl.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=_l.exec(t))&&(r=xl.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:yl(n,r)})),i=xl.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function Nl(t,e){var n,r,o=typeof e;return null==e||"boolean"===o?hl(e):("number"===o?yl:"string"===o?(n=Zu(e))?(e=n,ml):Ml:e instanceof Zu?ml:e instanceof Date?bl:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?gl:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?wl:yl:vl))(t,e)}function El(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function kl(t){return+t}var Yl=[0,1];function Cl(t){return t}function Al(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Ol(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=Al(o,r),i=n(a,i)):(r=Al(r,o),i=n(i,a)),function(t){return i(r(t))}}function Sl(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=Al(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=gu(t,e,1,r)-1;return i[n](o[n](e))}}function Tl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Rl(){var t,e,n,r,o,i,a=Yl,s=Yl,u=Nl,l=Cl;function c(){var t,e,n,u=Math.min(a.length,s.length);return l!==Cl&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?Sl:Ol,o=i=null,f}function f(e){return isNaN(e=+e)?n:(o||(o=r(a.map(t),s,u)))(t(l(e)))}return f.invert=function(n){return l(e((i||(i=r(s,a.map(t),yl)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,kl),c()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),u=El,c()},f.clamp=function(t){return arguments.length?(l=!!t||Cl,c()):l!==Cl},f.interpolate=function(t){return arguments.length?(u=t,c()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}function Dl(){return Rl()(Cl,Cl)}function jl(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fl(t){return(t=jl(Math.abs(t)))?t[1]:NaN}var Il,Ll=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $l(t){if(!(e=Ll.exec(t)))throw new Error("invalid format: "+t);var e;return new Hl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Hl(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Pl(t,e){var n=jl(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}$l.prototype=Hl.prototype,Hl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Bl={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Pl(100*t,e),r:Pl,s:function(t,e){var n=jl(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(Il=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+jl(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ul(t){return t}var Wl,zl,Vl,ql=Array.prototype.map,Gl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Kl(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ul:(e=ql.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,s=e[0],u=0;o>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(t.substring(o-=s,o+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Ul:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(ql.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=$l(t)).fill,n=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,m=t.comma,v=t.precision,g=t.trim,b=t.type;"n"===b?(m=!0,b="g"):Bl[b]||(void 0===v&&(v=12),g=!0,b="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var y="$"===h?o:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===h?i:/[%p]/.test(b)?u:"",_=Bl[b],x=/[defgprs%]/.test(b);function M(t){var o,i,u,h=y,M=w;if("c"===b)M=_(t)+M,t="";else{var N=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:_(Math.abs(t),v),g&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),N&&0==+t&&"+"!==f&&(N=!1),h=(N?"("===f?f:l:"-"===f||"("===f?"":f)+h,M=("s"===b?Gl[8+Il/3]:"")+M+(N&&"("===f?")":""),x)for(o=-1,i=t.length;++o<i;)if(48>(u=t.charCodeAt(o))||u>57){M=(46===u?a+t.slice(o+1):t.slice(o))+M,t=t.slice(0,o);break}}m&&!p&&(t=r(t,1/0));var E=h.length+t.length+M.length,k=E<d?new Array(d-E+1).join(e):"";switch(m&&p&&(t=r(k+t,k.length?d-M.length:1/0),k=""),n){case"<":t=h+t+M+k;break;case"=":t=h+k+t+M;break;case"^":t=k.slice(0,E=k.length>>1)+h+t+M+k.slice(E);break;default:t=k+h+t+M}return s(t)}return v=void 0===v?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n=f(((t=$l(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Fl(e)/3))),o=Math.pow(10,-r),i=Gl[8+r/3];return function(t){return n(o*t)+i}}}}function Xl(t,e,n,r){var o,i=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=xu?o*=10:i>=Mu?o*=5:i>=Nu&&(o*=2),e<t?-o:o}(t,e,n);switch((r=$l(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fl(e)/3)))-Fl(Math.abs(t)))}(i,a))||(r.precision=o),Vl(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fl(e)-Fl(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-Fl(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return zl(r)}function Jl(t){var e=t.domain;return t.ticks=function(t){var n=e();return Eu(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Xl(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),a=0,s=i.length-1,u=i[a],l=i[s],c=10;for(l<u&&(o=u,u=l,l=o,o=a,a=s,s=o);c-- >0;){if((o=ku(u,l,n))===r)return i[a]=u,i[s]=l,e(i);if(o>0)u=Math.floor(u/o)*o,l=Math.ceil(l/o)*o;else{if(!(o<0))break;u=Math.ceil(u*o)/o,l=Math.floor(l*o)/o}r=o}return t},t}function Ql(){var t=Dl();return t.copy=function(){return Tl(t,Ql())},Du.apply(t,arguments),Jl(t)}Wl=Kl({thousands:",",grouping:[3],currency:["$",""]}),zl=Wl.format,Vl=Wl.formatPrefix;var Zl=Ql(),tc=function t(){var e,n,r=Fu().unknown(void 0),o=r.domain,i=r.range,a=0,s=1,u=!1,l=0,c=0,f=.5;function h(){var t=o().length,r=s<a,h=r?s:a,p=r?a:s;e=(p-h)/Math.max(1,t-l+2*c),u&&(e=Math.floor(e)),h+=(p-h-e*(t-l))*f,n=e*(1-l),u&&(h=Math.round(h),n=Math.round(n));var d=Ru(t).map((function(t){return h+e*t}));return i(r?d.reverse():d)}return delete r.unknown,r.domain=function(t){return arguments.length?(o(t),h()):o()},r.range=function(t){return arguments.length?([a,s]=t,a=+a,s=+s,h()):[a,s]},r.rangeRound=function(t){return[a,s]=t,a=+a,s=+s,u=!0,h()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(t){return arguments.length?(u=!!t,h()):u},r.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},r.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},r.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},r.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),h()):f},r.copy=function(){return t(o(),[a,s]).round(u).paddingInner(l).paddingOuter(c).align(f)},Du.apply(h(),arguments)}(),ec=Ql();const nc=t=>t?t<.01?"<1%":(100*t).toFixed(0)+"%":"0%";function rc({validValues:t,format:e}){const n=Ou(t),r=Au(t),o=function(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}(t),i=function(t,e){return Tu(t,.5,e)}(t);return[{x:n,label:e(n),name:Ki("describe / histogram / min")},{x:r,label:e(r),name:Ki("describe / histogram / max")},{x:o,label:e(o),name:Ki("describe / histogram / mean")},{x:i,label:e(i),name:Ki("describe / histogram / median")}]}function oc(t,e,n,r){return(0===e?Ki("describe / histogram / tooltip / first"):e===n.length-1?Ki("describe / histogram / tooltip / last"):Ki("describe / histogram / tooltip")).replace("$1",t.length).replace("$2",nc(t.length/r)).replace("$3",pu(t.x0)).replace("$4",pu(t.x1))}var ic={show(t){this.set({highlight:t})},resize:function(){var t=this.refs.svg.getBoundingClientRect();this.set({width:t.right-t.left,height:t.bottom-t.top})}};function ac(){this.resize()}function sc(t){const{component:e,ctx:n}=this._svelte;e.show(n.s)}function uc(t){const{component:e}=this._svelte;e.show(!1)}function lc(t,e,n){const r=Object.create(t);return r.s=e[n],r}function cc(t,e,n){const r=Object.create(t);return r.bin=e[n],r.i=n,r}function fc(t,e,n){const r=Object.create(t);return r.tick=e[n],r}function hc(t,e){var n,r,o,i,a,s=e.tick.label;return{c(){n=M("g"),r=M("line"),o=M("text"),i=N(s),C(r,"y2","3"),C(r,"class","svelte-p5ucpx"),C(o,"y","5"),C(o,"class","svelte-p5ucpx"),C(n,"class","tick svelte-p5ucpx"),C(n,"transform",a="translate("+e.xScale(e.tick.x)+",0)")},m(t,e){g(t,n,e),v(n,r),v(n,o),v(o,i)},p(t,e){t.ticks&&s!==(s=e.tick.label)&&A(i,s),(t.xScale||t.ticks)&&a!==(a="translate("+e.xScale(e.tick.x)+",0)")&&C(n,"transform",a)},d(t){t&&b(n)}}}function pc(t,e){var n,r;return{c(){C(n=M("polygon"),"transform",r="translate("+e.xScale(e.highlight.x)+",0)"),C(n,"points","0,0,4,6,-4,6")},m(t,e){g(t,n,e)},p(t,e){(t.xScale||t.highlight)&&r!==(r="translate("+e.xScale(e.highlight.x)+",0)")&&C(n,"transform",r)},d(t){t&&b(n)}}}function dc(t,e){var n,r,o,i,a,s,u,l=oc(e.bin,e.i,e.bins,e.validValues.length);return{c(){n=M("g"),r=M("title"),o=N(l),C(i=M("rect"),"width",a=e.bin.x1!=e.bin.x0?e.xScaleBand.bandwidth():20),C(i,"height",s=e.innerHeight-e.yScale(e.bin.length)),C(i,"class","svelte-p5ucpx"),C(n,"class","bar"),C(n,"transform",u="translate("+e.xScaleBand(e.bin.x0)+","+e.yScale(e.bin.length)+")")},m(t,e){g(t,n,e),v(n,r),v(r,o),v(n,i)},p(t,e){(t.bins||t.validValues)&&l!==(l=oc(e.bin,e.i,e.bins,e.validValues.length))&&A(o,l),(t.bins||t.xScaleBand)&&a!==(a=e.bin.x1!=e.bin.x0?e.xScaleBand.bandwidth():20)&&C(i,"width",a),(t.innerHeight||t.yScale||t.bins)&&s!==(s=e.innerHeight-e.yScale(e.bin.length))&&C(i,"height",s),(t.xScaleBand||t.bins||t.yScale)&&u!==(u="translate("+e.xScaleBand(e.bin.x0)+","+e.yScale(e.bin.length)+")")&&C(n,"transform",u)},d(t){t&&b(n)}}}function mc(t,e){var n,r,o,i,a,s=e.s.name,u=e.s.label;return{c(){n=x("li"),r=N(s),o=N(": "),i=x("tt"),a=N(u),i._svelte={component:t,ctx:e},k(i,"mouseleave",uc),k(i,"mouseenter",sc),i.className="svelte-p5ucpx",n.className="svelte-p5ucpx"},m(t,e){g(t,n,e),v(n,r),v(n,o),v(n,i),v(i,a)},p(t,n){e=n,t.stats&&s!==(s=e.s.name)&&A(r,s),t.stats&&u!==(u=e.s.label)&&A(a,u),i._svelte.ctx=e},d(t){t&&b(n),Y(i,"mouseleave",uc),Y(i,"mouseenter",sc)}}}function vc(t,e){var n,r,o,i,a,s,u,l,c=Ki("describe / histogram / invalid"),f=nc(e.NAs/e.values.length);return{c(){n=x("li"),r=N(c),o=N(":\n        "),i=x("tt"),a=N(e.NAs),s=N(" ("),u=N(f),l=N(")"),O(i,"color","#c71e1d"),i.className="svelte-p5ucpx",n.className="svelte-p5ucpx"},m(t,e){g(t,n,e),v(n,r),v(n,o),v(n,i),v(i,a),v(n,s),v(n,u),v(n,l)},p(t,e){t.NAs&&A(a,e.NAs),(t.NAs||t.values)&&f!==(f=nc(e.NAs/e.values.length))&&A(u,f)},d(t){t&&b(n)}}}function gc(t){W(this,t),this.refs={},this._state=p({format:t=>t,t:0,padding:{top:10,right:65,bottom:20,left:5},height:200,width:500,values:[],highlight:!1},t.data),this._recompute({values:1,validValues:1,format:1,niceDomain:1,width:1,padding:1,bins:1,innerWidth:1,xScaleBand:1,xScale:1,height:1,innerHeight:1},this._state),this._intro=!0,this._fragment=function(t,e){for(var n,r,o,i,a,s,u,l,c,f,h,p,d,m,y,_=Ki("describe / histogram"),k=Ki("describe / histogram / learn-more"),Y=e.ticks,A=[],O=0;O<Y.length;O+=1)A[O]=hc(t,fc(e,Y,O));var S=e.highlight&&pc(t,e),T=e.bins,R=[];for(O=0;O<T.length;O+=1)R[O]=dc(t,cc(e,T,O));var D=e.stats,j=[];for(O=0;O<D.length;O+=1)j[O]=mc(t,lc(e,D,O));var F=e.NAs>0&&vc(t,e);return{c(){n=x("h3"),r=N(_),o=N("\n"),i=M("svg"),a=M("g"),s=M("g");for(var t=0;t<A.length;t+=1)A[t].c();u=E(),S&&S.c(),c=M("g");for(t=0;t<R.length;t+=1)R[t].c();h=N("\n"),p=x("ul");for(t=0;t<j.length;t+=1)j[t].c();d=N(" "),F&&F.c(),m=N("\n"),y=x("p"),n.className="svelte-p5ucpx",C(s,"class","axis x-axis svelte-p5ucpx"),C(s,"transform",l="translate(0, "+e.innerHeight+")"),C(c,"class","bars svelte-p5ucpx"),C(a,"transform",f="translate("+[e.padding.left,e.padding.top]+")"),C(i,"class","svelte-p5ucpx"),p.className="svelte-p5ucpx",y.className="learn-more"},m(e,l){g(e,n,l),v(n,r),g(e,o,l),g(e,i,l),v(i,a),v(a,s);for(var f=0;f<A.length;f+=1)A[f].m(s,null);v(s,u),S&&S.m(s,null),v(a,c);for(f=0;f<R.length;f+=1)R[f].m(c,null);t.refs.svg=i,g(e,h,l),g(e,p,l);for(f=0;f<j.length;f+=1)j[f].m(p,null);v(p,d),F&&F.m(p,null),g(e,m,l),g(e,y,l),y.innerHTML=k},p(e,n){if(e.xScale||e.ticks){Y=n.ticks;for(var r=0;r<Y.length;r+=1){const o=fc(n,Y,r);A[r]?A[r].p(e,o):(A[r]=hc(t,o),A[r].c(),A[r].m(s,u))}for(;r<A.length;r+=1)A[r].d(1);A.length=Y.length}if(n.highlight?S?S.p(e,n):((S=pc(t,n)).c(),S.m(s,null)):S&&(S.d(1),S=null),e.innerHeight&&l!==(l="translate(0, "+n.innerHeight+")")&&C(s,"transform",l),e.xScaleBand||e.bins||e.yScale||e.innerHeight||e.validValues){T=n.bins;for(r=0;r<T.length;r+=1){const o=cc(n,T,r);R[r]?R[r].p(e,o):(R[r]=dc(t,o),R[r].c(),R[r].m(c,null))}for(;r<R.length;r+=1)R[r].d(1);R.length=T.length}if(e.padding&&f!==(f="translate("+[n.padding.left,n.padding.top]+")")&&C(a,"transform",f),e.stats){D=n.stats;for(r=0;r<D.length;r+=1){const o=lc(n,D,r);j[r]?j[r].p(e,o):(j[r]=mc(t,o),j[r].c(),j[r].m(p,d))}for(;r<j.length;r+=1)j[r].d(1);j.length=D.length}n.NAs>0?F?F.p(e,n):((F=vc(t,n)).c(),F.m(p,null)):F&&(F.d(1),F=null)},d(e){e&&(b(n),b(o),b(i)),w(A,e),S&&S.d(),w(R,e),t.refs.svg===i&&(t.refs.svg=null),e&&(b(h),b(p)),w(j,e),F&&F.d(),e&&(b(m),b(y))}}}(this,this._state),this.root._oncreate.push(()=>{ac.call(this),this.fire("update",{changed:d({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}p(gc.prototype,G),p(gc.prototype,ic),gc.prototype._recompute=function(t,e){t.values&&(this._differs(e.NAs,e.NAs=function({values:t}){return t.filter(t=>"string"==typeof t||Number.isNaN(t)).length}(e))&&(t.NAs=!0),this._differs(e.validValues,e.validValues=function({values:t}){return t.filter(t=>"number"==typeof t&&!Number.isNaN(t))}(e))&&(t.validValues=!0)),(t.validValues||t.format)&&this._differs(e.stats,e.stats=rc(e))&&(t.stats=!0),t.validValues&&this._differs(e.niceDomain,e.niceDomain=function({validValues:t}){return Ql().domain(bu(t)).nice().domain()}(e))&&(t.niceDomain=!0),(t.niceDomain||t.validValues)&&this._differs(e.bins,e.bins=function({niceDomain:t,validValues:e}){const n=t,r=Cu().domain(n).thresholds(Yu)(e),o=hu(r.map(t=>t.x1-t.x0));if(r.length>2&&Object.keys(o).length>1){const t=r[1].x1-r[1].x0,o=n[0]+Math.ceil((n[1]-n[0])/t)*t;return Cu().domain([n[0],o]).thresholds(uu(n[0],o+.4*t,t))(e)}return r}(e))&&(t.bins=!0),(t.width||t.padding)&&this._differs(e.innerWidth,e.innerWidth=function({width:t,padding:e}){return t-e.left-e.right}(e))&&(t.innerWidth=!0),(t.bins||t.innerWidth)&&this._differs(e.xScaleBand,e.xScaleBand=function({bins:t,innerWidth:e}){return tc.domain(t.map(t=>t.x0)).paddingInner(.1).rangeRound([0,e]).align(0)}(e))&&(t.xScaleBand=!0),(t.niceDomain||t.bins||t.xScaleBand)&&this._differs(e.xScale,e.xScale=function({niceDomain:t,bins:e,xScaleBand:n}){return Zl.domain(t).rangeRound([0,n.step()*e.length])}(e))&&(t.xScale=!0),(t.xScale||t.format)&&this._differs(e.ticks,e.ticks=function({xScale:t,format:e}){return t.ticks(4).map(t=>({x:t,label:e(t)}))}(e))&&(t.ticks=!0),(t.height||t.padding)&&this._differs(e.innerHeight,e.innerHeight=function({height:t,padding:e}){return t-e.bottom-e.top}(e))&&(t.innerHeight=!0),(t.innerHeight||t.bins)&&this._differs(e.yScale,e.yScale=function({innerHeight:t,bins:e}){return ec.domain([0,Au(e,(function(t){return t.length}))]).range([t,0])}(e))&&(t.yScale=!0),(t.bins||t.xScale)&&this._differs(e.barWidth,e.barWidth=function({bins:t,xScale:e}){return e(t[0].x1)-e(t[0].x0)-1}(e))&&(t.barWidth=!0)};var bc="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},yc=Array.prototype,wc=Object.prototype,_c="undefined"!=typeof Symbol?Symbol.prototype:null,xc=yc.push,Mc=yc.slice,Nc=wc.toString,Ec=wc.hasOwnProperty,kc="undefined"!=typeof ArrayBuffer,Yc="undefined"!=typeof DataView,Cc=Array.isArray,Ac=Object.keys,Oc=Object.create,Sc=kc&&ArrayBuffer.isView,Tc=isNaN,Rc=isFinite,Dc=!{toString:null}.propertyIsEnumerable("toString"),jc=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Fc=Math.pow(2,53)-1;function Ic(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var i=Array(e+1);for(o=0;o<e;o++)i[o]=arguments[o];return i[e]=r,t.apply(this,i)}}function Lc(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function $c(t){return void 0===t}function Hc(t){return!0===t||!1===t||"[object Boolean]"===Nc.call(t)}function Pc(t){var e="[object "+t+"]";return function(t){return Nc.call(t)===e}}var Bc=Pc("String"),Uc=Pc("Number"),Wc=Pc("Date"),zc=Pc("RegExp"),Vc=Pc("Error"),qc=Pc("Symbol"),Gc=Pc("ArrayBuffer"),Kc=Pc("Function"),Xc=bc.document&&bc.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Xc&&(Kc=function(t){return"function"==typeof t||!1});var Jc=Kc,Qc=Pc("Object"),Zc=Yc&&Qc(new DataView(new ArrayBuffer(8))),tf="undefined"!=typeof Map&&Qc(new Map),ef=Pc("DataView");var nf=Zc?function(t){return null!=t&&Jc(t.getInt8)&&Gc(t.buffer)}:ef,rf=Cc||Pc("Array");function of(t,e){return null!=t&&Ec.call(t,e)}var af=Pc("Arguments");!function(){af(arguments)||(af=function(t){return of(t,"callee")})}();var sf=af;function uf(t){return Uc(t)&&Tc(t)}function lf(t){return function(){return t}}function cf(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=Fc}}function ff(t){return function(e){return null==e?void 0:e[t]}}var hf=ff("byteLength"),pf=cf(hf),df=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var mf=kc?function(t){return Sc?Sc(t)&&!nf(t):pf(t)&&df.test(Nc.call(t))}:lf(!1),vf=ff("length");function gf(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=jc.length,r=t.constructor,o=Jc(r)&&r.prototype||wc,i="constructor";for(of(t,i)&&!e.contains(i)&&e.push(i);n--;)(i=jc[n])in t&&t[i]!==o[i]&&!e.contains(i)&&e.push(i)}function bf(t){if(!Lc(t))return[];if(Ac)return Ac(t);var e=[];for(var n in t)of(t,n)&&e.push(n);return Dc&&gf(t,e),e}function yf(t,e){var n=bf(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var a=n[i];if(e[a]!==o[a]||!(a in o))return!1}return!0}function wf(t){return t instanceof wf?t:this instanceof wf?void(this._wrapped=t):new wf(t)}function _f(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,hf(t))}wf.VERSION="1.13.1",wf.prototype.value=function(){return this._wrapped},wf.prototype.valueOf=wf.prototype.toJSON=wf.prototype.value,wf.prototype.toString=function(){return String(this._wrapped)};function xf(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&function t(e,n,r,o){e instanceof wf&&(e=e._wrapped);n instanceof wf&&(n=n._wrapped);var i=Nc.call(e);if(i!==Nc.call(n))return!1;if(Zc&&"[object Object]"==i&&nf(e)){if(!nf(n))return!1;i="[object DataView]"}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return _c.valueOf.call(e)===_c.valueOf.call(n);case"[object ArrayBuffer]":case"[object DataView]":return t(_f(e),_f(n),r,o)}var a="[object Array]"===i;if(!a&&mf(e)){if(hf(e)!==hf(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;a=!0}if(!a){if("object"!=typeof e||"object"!=typeof n)return!1;var s=e.constructor,u=n.constructor;if(s!==u&&!(Jc(s)&&s instanceof s&&Jc(u)&&u instanceof u)&&"constructor"in e&&"constructor"in n)return!1}o=o||[];var l=(r=r||[]).length;for(;l--;)if(r[l]===e)return o[l]===n;if(r.push(e),o.push(n),a){if((l=e.length)!==n.length)return!1;for(;l--;)if(!xf(e[l],n[l],r,o))return!1}else{var c,f=bf(e);if(l=f.length,bf(n).length!==l)return!1;for(;l--;)if(c=f[l],!of(n,c)||!xf(e[c],n[c],r,o))return!1}return r.pop(),o.pop(),!0}(t,e,n,r)}function Mf(t){if(!Lc(t))return[];var e=[];for(var n in t)e.push(n);return Dc&&gf(t,e),e}function Nf(t){var e=vf(t);return function(n){if(null==n)return!1;var r=Mf(n);if(vf(r))return!1;for(var o=0;o<e;o++)if(!Jc(n[t[o]]))return!1;return t!==Af||!Jc(n[Ef])}}var Ef="forEach",kf=["clear","delete"],Yf=["get","has","set"],Cf=kf.concat(Ef,Yf),Af=kf.concat(Yf),Of=["add"].concat(kf,Ef,"has"),Sf=tf?Nf(Cf):Pc("Map"),Tf=tf?Nf(Af):Pc("WeakMap"),Rf=tf?Nf(Of):Pc("Set"),Df=Pc("WeakSet");function jf(t){for(var e=bf(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}function Ff(t){for(var e={},n=bf(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}function If(t){var e=[];for(var n in t)Jc(t[n])&&e.push(n);return e.sort()}function Lf(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],a=t(i),s=a.length,u=0;u<s;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=i[l])}return n}}var $f=Lf(Mf),Hf=Lf(bf),Pf=Lf(Mf,!0);function Bf(t){if(!Lc(t))return{};if(Oc)return Oc(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function Uf(t){return Lc(t)?rf(t)?t.slice():$f({},t):t}function Wf(t){return rf(t)?t:[t]}function zf(t){return wf.toPath(t)}function Vf(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function qf(t,e,n){var r=Vf(t,zf(e));return $c(r)?n:r}function Gf(t){return t}function Kf(t){return t=Hf({},t),function(e){return yf(e,t)}}function Xf(t){return t=zf(t),function(e){return Vf(e,t)}}function Jf(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}}function Qf(t,e,n){return null==t?Gf:Jc(t)?Jf(t,e,n):Lc(t)&&!rf(t)?Kf(t):Xf(t)}function Zf(t,e){return Qf(t,e,1/0)}function th(t,e,n){return wf.iteratee!==Zf?wf.iteratee(t,e):Qf(t,e,n)}function eh(){}function nh(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}wf.toPath=Wf,wf.iteratee=Zf;var rh=Date.now||function(){return(new Date).getTime()};function oh(t){var e=function(e){return t[e]},n="(?:"+bf(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}}var ih={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ah=oh(ih),sh=oh(Ff(ih)),uh=wf.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},lh=/(.)^/,ch={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},fh=/\\|'|\r|\n|\u2028|\u2029/g;function hh(t){return"\\"+ch[t]}var ph=/^\s*(\w|\$)+\s*$/;var dh=0;function mh(t,e,n,r,o){if(!(r instanceof e))return t.apply(n,o);var i=Bf(t.prototype),a=t.apply(i,o);return Lc(a)?a:i}var vh=Ic((function(t,e){var n=vh.placeholder,r=function(){for(var o=0,i=e.length,a=Array(i),s=0;s<i;s++)a[s]=e[s]===n?arguments[o++]:e[s];for(;o<arguments.length;)a.push(arguments[o++]);return mh(t,r,this,this,a)};return r}));vh.placeholder=wf;var gh=Ic((function(t,e,n){if(!Jc(t))throw new TypeError("Bind must be called on a function");var r=Ic((function(o){return mh(t,r,e,this,n.concat(o))}));return r})),bh=cf(vf);function yh(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var o=r.length,i=0,a=vf(t);i<a;i++){var s=t[i];if(bh(s)&&(rf(s)||sf(s)))if(e>1)yh(s,e-1,n,r),o=r.length;else for(var u=0,l=s.length;u<l;)r[o++]=s[u++];else n||(r[o++]=s)}return r}var wh=Ic((function(t,e){var n=(e=yh(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=gh(t[r],t)}return t}));var _h=Ic((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),xh=vh(_h,wf,1);function Mh(t){return function(){return!t.apply(this,arguments)}}function Nh(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var Eh=vh(Nh,2);function kh(t,e,n){e=th(e,n);for(var r,o=bf(t),i=0,a=o.length;i<a;i++)if(e(t[r=o[i]],r,t))return r}function Yh(t){return function(e,n,r){n=th(n,r);for(var o=vf(e),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(n(e[i],i,e))return i;return-1}}var Ch=Yh(1),Ah=Yh(-1);function Oh(t,e,n,r){for(var o=(n=th(n,r,1))(e),i=0,a=vf(t);i<a;){var s=Math.floor((i+a)/2);n(t[s])<o?i=s+1:a=s}return i}function Sh(t,e,n){return function(r,o,i){var a=0,s=vf(r);if("number"==typeof i)t>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(n&&i&&s)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=e(Mc.call(r,a,s),uf))>=0?i+a:-1;for(i=t>0?a:s-1;i>=0&&i<s;i+=t)if(r[i]===o)return i;return-1}}var Th=Sh(1,Ch,Oh),Rh=Sh(-1,Ah);function Dh(t,e,n){var r=(bh(t)?Ch:kh)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function jh(t,e,n){var r,o;if(e=Jf(e,n),bh(t))for(r=0,o=t.length;r<o;r++)e(t[r],r,t);else{var i=bf(t);for(r=0,o=i.length;r<o;r++)e(t[i[r]],i[r],t)}return t}function Fh(t,e,n){e=th(e,n);for(var r=!bh(t)&&bf(t),o=(r||t).length,i=Array(o),a=0;a<o;a++){var s=r?r[a]:a;i[a]=e(t[s],s,t)}return i}function Ih(t){var e=function(e,n,r,o){var i=!bh(e)&&bf(e),a=(i||e).length,s=t>0?0:a-1;for(o||(r=e[i?i[s]:s],s+=t);s>=0&&s<a;s+=t){var u=i?i[s]:s;r=n(r,e[u],u,e)}return r};return function(t,n,r,o){var i=arguments.length>=3;return e(t,Jf(n,o,4),r,i)}}var Lh=Ih(1),$h=Ih(-1);function Hh(t,e,n){var r=[];return e=th(e,n),jh(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}function Ph(t,e,n){e=th(e,n);for(var r=!bh(t)&&bf(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(!e(t[a],a,t))return!1}return!0}function Bh(t,e,n){e=th(e,n);for(var r=!bh(t)&&bf(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(e(t[a],a,t))return!0}return!1}function Uh(t,e,n,r){return bh(t)||(t=jf(t)),("number"!=typeof n||r)&&(n=0),Th(t,e,n)>=0}var Wh=Ic((function(t,e,n){var r,o;return Jc(e)?o=e:(e=zf(e),r=e.slice(0,-1),e=e[e.length-1]),Fh(t,(function(t){var i=o;if(!i){if(r&&r.length&&(t=Vf(t,r)),null==t)return;i=t[e]}return null==i?i:i.apply(t,n)}))}));function zh(t,e){return Fh(t,Xf(e))}function Vh(t,e,n){var r,o,i=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=bh(t)?t:jf(t)).length;s<u;s++)null!=(r=t[s])&&r>i&&(i=r);else e=th(e,n),jh(t,(function(t,n,r){((o=e(t,n,r))>a||o===-1/0&&i===-1/0)&&(i=t,a=o)}));return i}function qh(t,e,n){if(null==e||n)return bh(t)||(t=jf(t)),t[nh(t.length-1)];var r=bh(t)?Uf(t):jf(t),o=vf(r);e=Math.max(Math.min(e,o),0);for(var i=o-1,a=0;a<e;a++){var s=nh(a,i),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,e)}function Gh(t,e){return function(n,r,o){var i=e?[[],[]]:{};return r=th(r,o),jh(n,(function(e,o){var a=r(e,o,n);t(i,e,a)})),i}}var Kh=Gh((function(t,e,n){of(t,n)?t[n].push(e):t[n]=[e]})),Xh=Gh((function(t,e,n){t[n]=e})),Jh=Gh((function(t,e,n){of(t,n)?t[n]++:t[n]=1})),Qh=Gh((function(t,e,n){t[n?0:1].push(e)}),!0),Zh=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function tp(t,e,n){return e in n}var ep=Ic((function(t,e){var n={},r=e[0];if(null==t)return n;Jc(r)?(e.length>1&&(r=Jf(r,e[1])),e=Mf(t)):(r=tp,e=yh(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var a=e[o],s=t[a];r(s,a,t)&&(n[a]=s)}return n})),np=Ic((function(t,e){var n,r=e[0];return Jc(r)?(r=Mh(r),e.length>1&&(n=e[1])):(e=Fh(yh(e,!1,!1),String),r=function(t,n){return!Uh(e,n)}),ep(t,r,n)}));function rp(t,e,n){return Mc.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function op(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:rp(t,t.length-e)}function ip(t,e,n){return Mc.call(t,null==e||n?1:e)}var ap=Ic((function(t,e){return e=yh(e,!0,!0),Hh(t,(function(t){return!Uh(e,t)}))})),sp=Ic((function(t,e){return ap(t,e)}));function up(t,e,n,r){Hc(e)||(r=n,n=e,e=!1),null!=n&&(n=th(n,r));for(var o=[],i=[],a=0,s=vf(t);a<s;a++){var u=t[a],l=n?n(u,a,t):u;e&&!n?(a&&i===l||o.push(u),i=l):n?Uh(i,l)||(i.push(l),o.push(u)):Uh(o,u)||o.push(u)}return o}var lp=Ic((function(t){return up(yh(t,!0,!0))}));function cp(t){for(var e=t&&Vh(t,vf).length||0,n=Array(e),r=0;r<e;r++)n[r]=zh(t,r);return n}var fp=Ic(cp);function hp(t,e){return t._chain?wf(e).chain():e}function pp(t){return jh(If(t),(function(e){var n=wf[e]=t[e];wf.prototype[e]=function(){var t=[this._wrapped];return xc.apply(t,arguments),hp(this,n.apply(wf,t))}})),wf}jh(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=yc[t];wf.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),hp(this,n)}})),jh(["concat","join","slice"],(function(t){var e=yc[t];wf.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),hp(this,t)}}));var dp=pp(Object.freeze({__proto__:null,VERSION:"1.13.1",restArguments:Ic,isObject:Lc,isNull:function(t){return null===t},isUndefined:$c,isBoolean:Hc,isElement:function(t){return!(!t||1!==t.nodeType)},isString:Bc,isNumber:Uc,isDate:Wc,isRegExp:zc,isError:Vc,isSymbol:qc,isArrayBuffer:Gc,isDataView:nf,isArray:rf,isFunction:Jc,isArguments:sf,isFinite:function(t){return!qc(t)&&Rc(t)&&!isNaN(parseFloat(t))},isNaN:uf,isTypedArray:mf,isEmpty:function(t){if(null==t)return!0;var e=vf(t);return"number"==typeof e&&(rf(t)||Bc(t)||sf(t))?0===e:0===vf(bf(t))},isMatch:yf,isEqual:function(t,e){return xf(t,e)},isMap:Sf,isWeakMap:Tf,isSet:Rf,isWeakSet:Df,keys:bf,allKeys:Mf,values:jf,pairs:function(t){for(var e=bf(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r},invert:Ff,functions:If,methods:If,extend:$f,extendOwn:Hf,assign:Hf,defaults:Pf,create:function(t,e){var n=Bf(t);return e&&Hf(n,e),n},clone:Uf,tap:function(t,e){return e(t),t},get:qf,has:function(t,e){for(var n=(e=zf(e)).length,r=0;r<n;r++){var o=e[r];if(!of(t,o))return!1;t=t[o]}return!!n},mapObject:function(t,e,n){e=th(e,n);for(var r=bf(t),o=r.length,i={},a=0;a<o;a++){var s=r[a];i[s]=e(t[s],s,t)}return i},identity:Gf,constant:lf,noop:eh,toPath:Wf,property:Xf,propertyOf:function(t){return null==t?eh:function(e){return qf(t,e)}},matcher:Kf,matches:Kf,times:function(t,e,n){var r=Array(Math.max(0,t));e=Jf(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r},random:nh,now:rh,escape:ah,unescape:sh,templateSettings:uh,template:function(t,e,n){!e&&n&&(e=n),e=Pf({},e,wf.templateSettings);var r=RegExp([(e.escape||lh).source,(e.interpolate||lh).source,(e.evaluate||lh).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,(function(e,n,r,a,s){return i+=t.slice(o,s).replace(fh,hh),o=s+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),e})),i+="';\n";var a,s=e.variable;if(s){if(!ph.test(s))throw new Error("variable is not a bare identifier: "+s)}else i="with(obj||{}){\n"+i+"}\n",s="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{a=new Function(s,"_",i)}catch(t){throw t.source=i,t}var u=function(t){return a.call(this,t,wf)};return u.source="function("+s+"){\n"+i+"}",u},result:function(t,e,n){var r=(e=zf(e)).length;if(!r)return Jc(n)?n.call(t):n;for(var o=0;o<r;o++){var i=null==t?void 0:t[e[o]];void 0===i&&(i=n,o=r),t=Jc(i)?i.call(t):i}return t},uniqueId:function(t){var e=++dh+"";return t?t+e:e},chain:function(t){var e=wf(t);return e._chain=!0,e},iteratee:Zf,partial:vh,bind:gh,bindAll:wh,memoize:function(t,e){var n=function(r){var o=n.cache,i=""+(e?e.apply(this,arguments):r);return of(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return n.cache={},n},delay:_h,defer:xh,throttle:function(t,e,n){var r,o,i,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:rh(),r=null,a=t.apply(o,i),r||(o=i=null)},l=function(){var l=rh();s||!1!==n.leading||(s=l);var c=e-(l-s);return o=this,i=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=o=i=null},l},debounce:function(t,e,n){var r,o,i,a,s,u=function(){var l=rh()-o;e>l?r=setTimeout(u,e-l):(r=null,n||(a=t.apply(s,i)),r||(i=s=null))},l=Ic((function(l){return s=this,i=l,o=rh(),r||(r=setTimeout(u,e),n&&(a=t.apply(s,i))),a}));return l.cancel=function(){clearTimeout(r),r=i=s=null},l},wrap:function(t,e){return vh(e,t)},negate:Mh,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:Nh,once:Eh,findKey:kh,findIndex:Ch,findLastIndex:Ah,sortedIndex:Oh,indexOf:Th,lastIndexOf:Rh,find:Dh,detect:Dh,findWhere:function(t,e){return Dh(t,Kf(e))},each:jh,forEach:jh,map:Fh,collect:Fh,reduce:Lh,foldl:Lh,inject:Lh,reduceRight:$h,foldr:$h,filter:Hh,select:Hh,reject:function(t,e,n){return Hh(t,Mh(th(e)),n)},every:Ph,all:Ph,some:Bh,any:Bh,contains:Uh,includes:Uh,include:Uh,invoke:Wh,pluck:zh,where:function(t,e){return Hh(t,Kf(e))},max:Vh,min:function(t,e,n){var r,o,i=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=bh(t)?t:jf(t)).length;s<u;s++)null!=(r=t[s])&&r<i&&(i=r);else e=th(e,n),jh(t,(function(t,n,r){((o=e(t,n,r))<a||o===1/0&&i===1/0)&&(i=t,a=o)}));return i},shuffle:function(t){return qh(t,1/0)},sample:qh,sortBy:function(t,e,n){var r=0;return e=th(e,n),zh(Fh(t,(function(t,n,o){return{value:t,index:r++,criteria:e(t,n,o)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")},groupBy:Kh,indexBy:Xh,countBy:Jh,partition:Qh,toArray:function(t){return t?rf(t)?Mc.call(t):Bc(t)?t.match(Zh):bh(t)?Fh(t,Gf):jf(t):[]},size:function(t){return null==t?0:bh(t)?t.length:bf(t).length},pick:ep,omit:np,first:op,head:op,take:op,initial:rp,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:ip(t,Math.max(0,t.length-e))},rest:ip,tail:ip,drop:ip,compact:function(t){return Hh(t,Boolean)},flatten:function(t,e){return yh(t,e,!1)},without:sp,uniq:up,unique:up,union:lp,intersection:function(t){for(var e=[],n=arguments.length,r=0,o=vf(t);r<o;r++){var i=t[r];if(!Uh(e,i)){var a;for(a=1;a<n&&Uh(arguments[a],i);a++);a===n&&e.push(i)}}return e},difference:ap,unzip:cp,transpose:cp,zip:fp,object:function(t,e){for(var n={},r=0,o=vf(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(Mc.call(t,r,r+=e));return n},mixin:pp,default:wf}));function mp(t){if(!t.format())return Gf;switch(t.precision()){case"year":return function(t){return Wc(t)?t.getFullYear():t};case"half":return function(t){return Wc(t)?t.getFullYear()+" H"+(t.getMonth()/6+1):t};case"quarter":return function(t){return Wc(t)?t.getFullYear()+" Q"+(t.getMonth()/3+1):t};case"month":return function(t){return Wc(t)?vp(t,"MMM YY"):t};case"week":return function(t){return Wc(t)?function(t){const e=t.getUTCDay(),n=new Date(t.valueOf());n.setDate(n.getDate()-(e+6)%7+3);const r=n.getUTCFullYear(),o=Math.floor((n.getTime()-new Date(r,0,1,-6))/864e5);return[r,1+Math.floor(o/7),e>0?e:7]}(t).slice(0,2).join(" W"):t};case"day":return function(t,e){return Wc(t)?vp(t,e?"dddd, MMMM DD, YYYY":"l"):t};case"day-minutes":return function(t,e){return Wc(t)?vp(t,"MMM DD"+(e?", YYYY":"")).replace(/ /g,"&nbsp;")+" - "+vp(t,"LT").replace(" ","&nbsp;"):t};case"day-seconds":return function(t,e){return Wc(t)?(e?vp(t,"MMM DD, YYYY").replace(/ /g,"&nbsp;")+" - ":"")+vp(t,"LTS").replace(" ","&nbsp;"):t}}}function vp(t,e){const n=f.default.locale();f.default.locale("en");const r=f.default(t).format(e);return f.default.locale(n),r}dp._=dp;const gp=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","us$","ca$","can$"]);function bp(t,e){return Math.abs(t-e)<1e-6}function yp(t,e){const n=e["number-format"]||"-",r=Number(e["number-divisor"]||0),o=(e["number-append"]||"").replace(/ /g," "),i=(e["number-prepend"]||"").replace(/ /g," ");return function(e,a,s){if(isNaN(e))return e;var u,l,c=n,f=0;0!==r&&"-"===c&&(f=1),"s"===c.substr(0,1)&&(f=Math.max(0,(u=e,l=+c.substr(1),0===u?0:Math.round(l-Math.ceil(Math.log(Math.abs(u))/Math.LN10))))),s&&(f=0),"-"===c&&(f=bp(e,Math.round(e))?0:bp(e,.1*Math.round(10*e))?1:bp(e,.01*Math.round(100*e))?2:bp(e,.001*Math.round(1e3*e))?3:bp(e,1e-4*Math.round(1e4*e))?4:bp(e,1e-5*Math.round(1e5*e))?5:6),"n"===c[0]&&(f=Number(c.substr(1,c.length)));let h="0,0";for(var p=0;p<f;p++)0===p&&(h+="."),h+="0";return function(t,e,n){if(n={format:"0.[00]",prepend:"",append:"",minusChar:"−",plusMinusChar:"±",multiply:1,...n},void 0===e||isNaN(e)||""===e||null===e)return"";const{append:r,prepend:o,minusChar:i,plusMinusChar:a,multiply:s}=n;let{format:u}=n;u.includes("%")&&Number.isFinite(e)&&(e*=.01),e*=s;const l=u.indexOf("(")>-1,c=u.indexOf(";")>-1;u=u.replace(/;/g,",");let f=t(l?e:Math.abs(e)).format(u);if(c){const n=t.options.currentLocale,r=t.locales[n].delimiters.thousands,o=u.includes("%")?e/.01:e;f=Math.abs(o)<1e4?f.replace(r,""):f}return o&&!l&&e<0&&gp.has(o.trim().toLowerCase())?`${i}${o}${f.replace("+","")}${r}`:o&&e>=0&&gp.has(o.trim().toLowerCase())&&u.includes("+")?`${0===e?a:"+"}${o}${f.replace("+","")}${r}`:0===e&&u.includes("+")?`${o}${f.replace("+",a)}${r}`:e<0&&!l?`${o}${i}${f.replace("+","")}${r}`:`${o}${f}${r}`}(t,e,{format:h,prepend:a?i:"",append:a?o:"",multiply:Math.pow(10,-1*r)})}}function wp(t,e=null,n=null){if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let o=t;for(let t=0;t<r.length&&null!=o;t++)o=o[r[t]];return null==o?n:o}const _p=t=>t;function xp(t,e,n,r){return"date"===e.type()?mp(e.type(!0)):"number"===e.type()?yp(t,wp(n,"data.column-format."+r,{})):_p}var Mp={exports:{}};
/*! @preserve
	 * numeral.js
	 * version : 2.0.6
	 * author : Adam Draper
	 * license : MIT
	 * http://adamwdraper.github.com/Numeral-js/
	 */!function(t){!function(e,n){t.exports?t.exports=n():e.numeral=n()}(K,(function(){var t,e,n,r,o,i={},a={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function l(t,e){this._input=t,this._value=e}return(t=function(n){var r,o,a,s;if(t.isNumeral(n))r=n.value();else if(0===n||void 0===n)r=0;else if(null===n||e.isNaN(n))r=null;else if("string"==typeof n)if(u.zeroFormat&&n===u.zeroFormat)r=0;else if(u.nullFormat&&n===u.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(o in i)if((s="function"==typeof i[o].regexps.unformat?i[o].regexps.unformat():i[o].regexps.unformat)&&n.match(s)){a=i[o].unformat;break}r=(a=a||t._.stringToNumber)(n)}else r=Number(n)||null;return new l(n,r)}).version="2.0.6",t.isNumeral=function(t){return t instanceof l},t._=e={numberToFormat:function(e,n,r){var o,i,s,u,l,c,f,h,p=a[t.options.currentLocale],d=!1,m=!1,v="",g="",b=!1;if(e=e||0,s=Math.abs(e),t._.includes(n,"(")?(d=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(c=t._.includes(n,"+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],t._.includes(n," a")&&(v=" "),n=n.replace(new RegExp(v+"a[kmbt]?"),""),s>=1e12&&!i||"t"===i?(v+=p.abbreviations.trillion,e/=1e12):s<1e12&&s>=1e9&&!i||"b"===i?(v+=p.abbreviations.billion,e/=1e9):s<1e9&&s>=1e6&&!i||"m"===i?(v+=p.abbreviations.million,e/=1e6):(s<1e6&&s>=1e3&&!i||"k"===i)&&(v+=p.abbreviations.thousand,e/=1e3)),t._.includes(n,"[.]")&&(m=!0,n=n.replace("[.]",".")),u=e.toString().split(".")[0],l=n.split(".")[1],f=n.indexOf(","),o=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(t._.includes(l,"[")?(l=(l=l.replace("]","")).split("["),g=t._.toFixed(e,l[0].length+l[1].length,r,l[1].length)):g=t._.toFixed(e,l.length,r),u=g.split(".")[0],g=t._.includes(g,".")?p.delimiters.decimal+g.split(".")[1]:"",m&&0===Number(g.slice(1))&&(g="")):u=t._.toFixed(e,0,r),v&&!i&&Number(u)>=1e3&&v!==p.abbreviations.trillion)switch(u=String(Number(u)/1e3),v){case p.abbreviations.thousand:v=p.abbreviations.million;break;case p.abbreviations.million:v=p.abbreviations.billion;break;case p.abbreviations.billion:v=p.abbreviations.trillion}if(t._.includes(u,"-")&&(u=u.slice(1),b=!0),u.length<o)for(var y=o-u.length;y>0;y--)u="0"+u;return f>-1&&(u=u.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),0===n.indexOf(".")&&(u=""),h=u+g+(v||""),d?h=(d&&b?"(":"")+h+(d&&b?")":""):c>=0?h=0===c?(b?"-":"+")+h:h+(b?"-":"+"):b&&(h="-"+h),h},stringToNumber:function(t){var e,n,r,o=a[u.currentLocale],i=t,s={thousand:3,million:6,billion:9,trillion:12};if(u.zeroFormat&&t===u.zeroFormat)n=0;else if(u.nullFormat&&t===u.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==o.delimiters.decimal&&(t=t.replace(/\./g,"").replace(o.delimiters.decimal,".")),s)if(r=new RegExp("[^a-zA-Z]"+o.abbreviations[e]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),i.match(r)){n*=Math.pow(10,s[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),o=r.length>>>0,i=0;if(3===arguments.length)n=arguments[2];else{for(;i<o&&!(i in r);)i++;if(i>=o)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;i<o;i++)i in r&&(n=e(n,r[i],i,r));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce((function(t,n){var r=e.multiplier(n);return t>r?t:r}),1)},toFixed:function(t,e,n,r){var o,i,a,s,u=t.toString().split("."),l=e-(r||0);return o=2===u.length?Math.min(Math.max(u[1].length,l),e):l,a=Math.pow(10,o),s=(n(t+"e+"+o)/a).toFixed(o),r>e-o&&(i=new RegExp("\\.?0{1,"+(r-(e-o))+"}$"),s=s.replace(i,"")),s}},t.options=u,t.formats=i,t.locales=a,t.locale=function(t){return t&&(u.currentLocale=t.toLowerCase()),u.currentLocale},t.localeData=function(t){if(!t)return a[u.currentLocale];if(t=t.toLowerCase(),!a[t])throw new Error("Unknown locale : "+t);return a[t]},t.reset=function(){for(var t in s)u[t]=s[t]},t.zeroFormat=function(t){u.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){u.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){u.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},t.validate=function(e,n){var r,o,i,a,s,u,l,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{l=t.localeData(n)}catch(e){l=t.localeData(t.locale())}return i=l.currency.symbol,s=l.abbreviations,r=l.delimiters.decimal,o="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(c=e.match(/^[^\d]+/))||(e=e.substr(1),c[0]===i))&&((null===(c=e.match(/[^\d]+$/))||(e=e.slice(0,-1),c[0]===s.thousand||c[0]===s.million||c[0]===s.billion||c[0]===s.trillion))&&(u=new RegExp(o+"{2}"),!e.match(/[^\d.,]/g)&&(!((a=e.split(r)).length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(u):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(u)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(u)&&!!a[1].match(/^\d+$/)))))},t.fn=l.prototype={clone:function(){return t(this)},format:function(e,n){var r,o,a,s=this._value,l=e||u.defaultFormat;if(n=n||Math.round,0===s&&null!==u.zeroFormat)o=u.zeroFormat;else if(null===s&&null!==u.nullFormat)o=u.nullFormat;else{for(r in i)if(l.match(i[r].regexps.format)){a=i[r].format;break}o=(a=a||t._.numberToFormat)(s,l,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],(function(t,e,r,o){return t+Math.round(n*e)}),0)/n,this},subtract:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],(function(t,e,r,o){return t-Math.round(n*e)}),Math.round(this._value*n))/n,this},multiply:function(t){return this._value=e.reduce([this._value,t],(function(t,n,r,o){var i=e.correctionFactor(t,n);return Math.round(t*i)*Math.round(n*i)/Math.round(i*i)}),1),this},divide:function(t){return this._value=e.reduce([this._value,t],(function(t,n,r,o){var i=e.correctionFactor(t,n);return Math.round(t*i)/Math.round(n*i)})),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,r){var o,i=t._.includes(n," BPS")?" ":"";return e*=1e4,n=n.replace(/\s?BPS/,""),o=t._.numberToFormat(e,n,r),t._.includes(o,")")?((o=o.split("")).splice(-1,0,i+"BPS"),o=o.join("")):o=o+i+"BPS",o},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},o="("+(o=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter((function(t){return n.suffixes.indexOf(t)<0}))).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(o)},format:function(e,o,i){var a,s,u,l=t._.includes(o,"ib")?r:n,c=t._.includes(o," b")||t._.includes(o," ib")?" ":"";for(o=o.replace(/\s?i?b/,""),a=0;a<=l.suffixes.length;a++)if(s=Math.pow(l.base,a),u=Math.pow(l.base,a+1),null===e||0===e||e>=s&&e<u){c+=l.suffixes[a],s>0&&(e/=s);break}return t._.numberToFormat(e,o,i)+c},unformat:function(e){var o,i,a=t._.stringToNumber(e);if(a){for(o=n.suffixes.length-1;o>=0;o--){if(t._.includes(e,n.suffixes[o])){i=Math.pow(n.base,o);break}if(t._.includes(e,r.suffixes[o])){i=Math.pow(r.base,o);break}}a*=i||1}return a}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,r){var o,i,a=t.locales[t.options.currentLocale],s={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),o=t._.numberToFormat(e,n,r),e>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(s.before,"-")&&!t._.includes(s.before,"(")&&(s.before="-"+s.before),i=0;i<s.before.length;i++)switch(s.before[i]){case"$":o=t._.insert(o,a.currency.symbol,i);break;case" ":o=t._.insert(o," ",i+a.currency.symbol.length-1)}for(i=s.after.length-1;i>=0;i--)switch(s.after[i]){case"$":o=i===s.after.length-1?o+a.currency.symbol:t._.insert(o,a.currency.symbol,-(s.after.length-(1+i)));break;case" ":o=i===s.after.length-1?o+" ":t._.insert(o," ",-(s.after.length-(1+i)+a.currency.symbol.length-1))}return o}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,r){var o=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(o[0]),n,r)+"e"+o[1]},unformat:function(e){var n=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(n[0]),o=Number(n[1]);return o=t._.includes(e,"e-")?o*=-1:o,t._.reduce([r,Math.pow(10,o)],(function(e,n,r,o){var i=t._.correctionFactor(e,n);return e*i*(n*i)/(i*i)}),1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,r){var o=t.locales[t.options.currentLocale],i=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),i+=o.ordinal(e),t._.numberToFormat(e,n,r)+i}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,r){var o,i=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),n=n.replace(/\s?\%/,""),o=t._.numberToFormat(e,n,r),t._.includes(o,")")?((o=o.split("")).splice(-1,0,i+"%"),o=o.join("")):o=o+i+"%",o},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),o=Math.floor((t-60*r*60)/60),i=Math.round(t-60*r*60-60*o);return r+":"+(o<10?"0"+o:o)+":"+(i<10?"0"+i:i)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),t}))}(Mp);var Np=Mp.exports;function Ep(t,e,n,r){const o={date:"fa fa-clock-o"};return function(i,a,s,u,l,c,f){if(n.numColumns()<=u||!n.hasColumn(u))return;const h=n.column(u),{searchResults:p,currentResult:d,activeColumn:m}=t.get(),v=t.getColumnFormat(h.name());if((s=i.toPhysicalRow(s))>0){var g=xp(Np,h,e.get().metadata,h.name());c=null===h.val(s-1)||""===h.val(s-1)?"–":g(h.val(s-1),!0)}parseInt(c)<0&&a.classList.add("negative"),a.classList.add(h.type()+"Type"),a.dataset.column=u,"text"===h.type()&&c&&c.length>70&&(c=c.substr(0,60)+"…"),0===s?(a.classList.add("firstRow"),o[h.type()]&&(c='<i class="'+o[h.type()]+'"></i> '+c)):a.classList.add(s%2?"oddRow":"evenRow"),v.ignore&&a.classList.add("ignored"),m&&m.name()===h.name()&&a.classList.add("active");const b=r.hooks.run(i,"modifyRow",s);p.forEach(t=>{t.row===b&&t.col===u&&a.classList.add("htSearchResult")}),d&&d.row===b&&d.col===u&&a.classList.add("htCurrentSearchResult"),s>0&&!h.type(!0).isValid(h.val(s-1))&&null!==h.val(s-1)&&""!==h.val(s-1)&&a.classList.add("parsingError"),s>0&&(null===h.val(s-1)||""===h.val(s-1))&&a.classList.add("noData"),h.isComputed&&h.errors.length&&h.errors.find(t=>"all"===t.row||t.row===s-1)&&a.classList.add("parsingError"),f.readOnly&&a.classList.add("readOnly"),e.dataCellChanged(u,s)&&a.classList.add("changed"),function(t,e,n,o,i,a){var s=zi(r.helper.stringify(a));e.innerHTML=s}(0,a,0,0,0,c)}}var kp="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},Yp=Array.prototype,Cp=Object.prototype,Ap="undefined"!=typeof Symbol?Symbol.prototype:null,Op=Yp.push,Sp=Yp.slice,Tp=Cp.toString,Rp=Cp.hasOwnProperty,Dp="undefined"!=typeof ArrayBuffer,jp="undefined"!=typeof DataView,Fp=Array.isArray,Ip=Object.keys,Lp=Object.create,$p=Dp&&ArrayBuffer.isView,Hp=isNaN,Pp=isFinite,Bp=!{toString:null}.propertyIsEnumerable("toString"),Up=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Wp=Math.pow(2,53)-1;function zp(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var i=Array(e+1);for(o=0;o<e;o++)i[o]=arguments[o];return i[e]=r,t.apply(this,i)}}function Vp(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function qp(t){return null===t}function Gp(t){return void 0===t}function Kp(t){return!0===t||!1===t||"[object Boolean]"===Tp.call(t)}function Xp(t){var e="[object "+t+"]";return function(t){return Tp.call(t)===e}}var Jp=Xp("String"),Qp=Xp("Number"),Zp=Xp("Date"),td=Xp("RegExp"),ed=Xp("Error"),nd=Xp("Symbol"),rd=Xp("ArrayBuffer"),od=Xp("Function"),id=kp.document&&kp.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof id&&(od=function(t){return"function"==typeof t||!1});var ad=od,sd=Xp("Object"),ud=jp&&sd(new DataView(new ArrayBuffer(8))),ld="undefined"!=typeof Map&&sd(new Map),cd=Xp("DataView");var fd=ud?function(t){return null!=t&&ad(t.getInt8)&&rd(t.buffer)}:cd,hd=Fp||Xp("Array");function pd(t,e){return null!=t&&Rp.call(t,e)}var dd=Xp("Arguments");!function(){dd(arguments)||(dd=function(t){return pd(t,"callee")})}();var md=dd;function vd(t){return Qp(t)&&Hp(t)}function gd(t){return function(){return t}}function bd(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=Wp}}function yd(t){return function(e){return null==e?void 0:e[t]}}var wd=yd("byteLength"),_d=bd(wd),xd=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var Md=Dp?function(t){return $p?$p(t)&&!fd(t):_d(t)&&xd.test(Tp.call(t))}:gd(!1),Nd=yd("length");function Ed(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=Up.length,r=t.constructor,o=ad(r)&&r.prototype||Cp,i="constructor";for(pd(t,i)&&!e.contains(i)&&e.push(i);n--;)(i=Up[n])in t&&t[i]!==o[i]&&!e.contains(i)&&e.push(i)}function kd(t){if(!Vp(t))return[];if(Ip)return Ip(t);var e=[];for(var n in t)pd(t,n)&&e.push(n);return Bp&&Ed(t,e),e}function Yd(t,e){var n=kd(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var a=n[i];if(e[a]!==o[a]||!(a in o))return!1}return!0}function Cd(t){return t instanceof Cd?t:this instanceof Cd?void(this._wrapped=t):new Cd(t)}function Ad(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,wd(t))}Cd.VERSION="1.13.1",Cd.prototype.value=function(){return this._wrapped},Cd.prototype.valueOf=Cd.prototype.toJSON=Cd.prototype.value,Cd.prototype.toString=function(){return String(this._wrapped)};function Od(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&function t(e,n,r,o){e instanceof Cd&&(e=e._wrapped);n instanceof Cd&&(n=n._wrapped);var i=Tp.call(e);if(i!==Tp.call(n))return!1;if(ud&&"[object Object]"==i&&fd(e)){if(!fd(n))return!1;i="[object DataView]"}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return Ap.valueOf.call(e)===Ap.valueOf.call(n);case"[object ArrayBuffer]":case"[object DataView]":return t(Ad(e),Ad(n),r,o)}var a="[object Array]"===i;if(!a&&Md(e)){if(wd(e)!==wd(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;a=!0}if(!a){if("object"!=typeof e||"object"!=typeof n)return!1;var s=e.constructor,u=n.constructor;if(s!==u&&!(ad(s)&&s instanceof s&&ad(u)&&u instanceof u)&&"constructor"in e&&"constructor"in n)return!1}o=o||[];var l=(r=r||[]).length;for(;l--;)if(r[l]===e)return o[l]===n;if(r.push(e),o.push(n),a){if((l=e.length)!==n.length)return!1;for(;l--;)if(!Od(e[l],n[l],r,o))return!1}else{var c,f=kd(e);if(l=f.length,kd(n).length!==l)return!1;for(;l--;)if(c=f[l],!pd(n,c)||!Od(e[c],n[c],r,o))return!1}return r.pop(),o.pop(),!0}(t,e,n,r)}function Sd(t){if(!Vp(t))return[];var e=[];for(var n in t)e.push(n);return Bp&&Ed(t,e),e}function Td(t){var e=Nd(t);return function(n){if(null==n)return!1;var r=Sd(n);if(Nd(r))return!1;for(var o=0;o<e;o++)if(!ad(n[t[o]]))return!1;return t!==Id||!ad(n[Rd])}}var Rd="forEach",Dd=["clear","delete"],jd=["get","has","set"],Fd=Dd.concat(Rd,jd),Id=Dd.concat(jd),Ld=["add"].concat(Dd,Rd,"has"),$d=ld?Td(Fd):Xp("Map"),Hd=ld?Td(Id):Xp("WeakMap"),Pd=ld?Td(Ld):Xp("Set"),Bd=Xp("WeakSet");function Ud(t){for(var e=kd(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}function Wd(t){for(var e={},n=kd(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}function zd(t){var e=[];for(var n in t)ad(t[n])&&e.push(n);return e.sort()}function Vd(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],a=t(i),s=a.length,u=0;u<s;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=i[l])}return n}}var qd=Vd(Sd),Gd=Vd(kd),Kd=Vd(Sd,!0);function Xd(t){if(!Vp(t))return{};if(Lp)return Lp(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function Jd(t){return Vp(t)?hd(t)?t.slice():qd({},t):t}function Qd(t){return hd(t)?t:[t]}function Zd(t){return Cd.toPath(t)}function tm(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function em(t,e,n){var r=tm(t,Zd(e));return Gp(r)?n:r}function nm(t){return t}function rm(t){return t=Gd({},t),function(e){return Yd(e,t)}}function om(t){return t=Zd(t),function(e){return tm(e,t)}}function im(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}}function am(t,e,n){return null==t?nm:ad(t)?im(t,e,n):Vp(t)&&!hd(t)?rm(t):om(t)}function sm(t,e){return am(t,e,1/0)}function um(t,e,n){return Cd.iteratee!==sm?Cd.iteratee(t,e):am(t,e,n)}function lm(){}function cm(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}Cd.toPath=Qd,Cd.iteratee=sm;var fm=Date.now||function(){return(new Date).getTime()};function hm(t){var e=function(e){return t[e]},n="(?:"+kd(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}}var pm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},dm=hm(pm),mm=hm(Wd(pm)),vm=Cd.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},gm=/(.)^/,bm={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ym=/\\|'|\r|\n|\u2028|\u2029/g;function wm(t){return"\\"+bm[t]}var _m=/^\s*(\w|\$)+\s*$/;var xm=0;function Mm(t,e,n,r,o){if(!(r instanceof e))return t.apply(n,o);var i=Xd(t.prototype),a=t.apply(i,o);return Vp(a)?a:i}var Nm=zp((function(t,e){var n=Nm.placeholder,r=function(){for(var o=0,i=e.length,a=Array(i),s=0;s<i;s++)a[s]=e[s]===n?arguments[o++]:e[s];for(;o<arguments.length;)a.push(arguments[o++]);return Mm(t,r,this,this,a)};return r}));Nm.placeholder=Cd;var Em=zp((function(t,e,n){if(!ad(t))throw new TypeError("Bind must be called on a function");var r=zp((function(o){return Mm(t,r,e,this,n.concat(o))}));return r})),km=bd(Nd);function Ym(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var o=r.length,i=0,a=Nd(t);i<a;i++){var s=t[i];if(km(s)&&(hd(s)||md(s)))if(e>1)Ym(s,e-1,n,r),o=r.length;else for(var u=0,l=s.length;u<l;)r[o++]=s[u++];else n||(r[o++]=s)}return r}var Cm=zp((function(t,e){var n=(e=Ym(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Em(t[r],t)}return t}));var Am=zp((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),Om=Nm(Am,Cd,1);function Sm(t){return function(){return!t.apply(this,arguments)}}function Tm(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var Rm=Nm(Tm,2);function Dm(t,e,n){e=um(e,n);for(var r,o=kd(t),i=0,a=o.length;i<a;i++)if(e(t[r=o[i]],r,t))return r}function jm(t){return function(e,n,r){n=um(n,r);for(var o=Nd(e),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(n(e[i],i,e))return i;return-1}}var Fm=jm(1),Im=jm(-1);function Lm(t,e,n,r){for(var o=(n=um(n,r,1))(e),i=0,a=Nd(t);i<a;){var s=Math.floor((i+a)/2);n(t[s])<o?i=s+1:a=s}return i}function $m(t,e,n){return function(r,o,i){var a=0,s=Nd(r);if("number"==typeof i)t>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(n&&i&&s)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=e(Sp.call(r,a,s),vd))>=0?i+a:-1;for(i=t>0?a:s-1;i>=0&&i<s;i+=t)if(r[i]===o)return i;return-1}}var Hm=$m(1,Fm,Lm),Pm=$m(-1,Im);function Bm(t,e,n){var r=(km(t)?Fm:Dm)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function Um(t,e,n){var r,o;if(e=im(e,n),km(t))for(r=0,o=t.length;r<o;r++)e(t[r],r,t);else{var i=kd(t);for(r=0,o=i.length;r<o;r++)e(t[i[r]],i[r],t)}return t}function Wm(t,e,n){e=um(e,n);for(var r=!km(t)&&kd(t),o=(r||t).length,i=Array(o),a=0;a<o;a++){var s=r?r[a]:a;i[a]=e(t[s],s,t)}return i}function zm(t){var e=function(e,n,r,o){var i=!km(e)&&kd(e),a=(i||e).length,s=t>0?0:a-1;for(o||(r=e[i?i[s]:s],s+=t);s>=0&&s<a;s+=t){var u=i?i[s]:s;r=n(r,e[u],u,e)}return r};return function(t,n,r,o){var i=arguments.length>=3;return e(t,im(n,o,4),r,i)}}var Vm=zm(1),qm=zm(-1);function Gm(t,e,n){var r=[];return e=um(e,n),Um(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}function Km(t,e,n){e=um(e,n);for(var r=!km(t)&&kd(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(!e(t[a],a,t))return!1}return!0}function Xm(t,e,n){e=um(e,n);for(var r=!km(t)&&kd(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(e(t[a],a,t))return!0}return!1}function Jm(t,e,n,r){return km(t)||(t=Ud(t)),("number"!=typeof n||r)&&(n=0),Hm(t,e,n)>=0}var Qm=zp((function(t,e,n){var r,o;return ad(e)?o=e:(e=Zd(e),r=e.slice(0,-1),e=e[e.length-1]),Wm(t,(function(t){var i=o;if(!i){if(r&&r.length&&(t=tm(t,r)),null==t)return;i=t[e]}return null==i?i:i.apply(t,n)}))}));function Zm(t,e){return Wm(t,om(e))}function tv(t,e,n){var r,o,i=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=km(t)?t:Ud(t)).length;s<u;s++)null!=(r=t[s])&&r>i&&(i=r);else e=um(e,n),Um(t,(function(t,n,r){((o=e(t,n,r))>a||o===-1/0&&i===-1/0)&&(i=t,a=o)}));return i}function ev(t,e,n){if(null==e||n)return km(t)||(t=Ud(t)),t[cm(t.length-1)];var r=km(t)?Jd(t):Ud(t),o=Nd(r);e=Math.max(Math.min(e,o),0);for(var i=o-1,a=0;a<e;a++){var s=cm(a,i),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,e)}function nv(t){return ev(t,1/0)}function rv(t,e){return function(n,r,o){var i=e?[[],[]]:{};return r=um(r,o),Um(n,(function(e,o){var a=r(e,o,n);t(i,e,a)})),i}}var ov=rv((function(t,e,n){pd(t,n)?t[n].push(e):t[n]=[e]})),iv=rv((function(t,e,n){t[n]=e})),av=rv((function(t,e,n){pd(t,n)?t[n]++:t[n]=1})),sv=rv((function(t,e,n){t[n?0:1].push(e)}),!0),uv=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function lv(t,e,n){return e in n}var cv=zp((function(t,e){var n={},r=e[0];if(null==t)return n;ad(r)?(e.length>1&&(r=im(r,e[1])),e=Sd(t)):(r=lv,e=Ym(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var a=e[o],s=t[a];r(s,a,t)&&(n[a]=s)}return n})),fv=zp((function(t,e){var n,r=e[0];return ad(r)?(r=Sm(r),e.length>1&&(n=e[1])):(e=Wm(Ym(e,!1,!1),String),r=function(t,n){return!Jm(e,n)}),cv(t,r,n)}));function hv(t,e,n){return Sp.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function pv(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:hv(t,t.length-e)}function dv(t,e,n){return Sp.call(t,null==e||n?1:e)}function mv(t,e){return Ym(t,e,!1)}var vv=zp((function(t,e){return e=Ym(e,!0,!0),Gm(t,(function(t){return!Jm(e,t)}))})),gv=zp((function(t,e){return vv(t,e)}));function bv(t,e,n,r){Kp(e)||(r=n,n=e,e=!1),null!=n&&(n=um(n,r));for(var o=[],i=[],a=0,s=Nd(t);a<s;a++){var u=t[a],l=n?n(u,a,t):u;e&&!n?(a&&i===l||o.push(u),i=l):n?Jm(i,l)||(i.push(l),o.push(u)):Jm(o,u)||o.push(u)}return o}var yv=zp((function(t){return bv(Ym(t,!0,!0))}));function wv(t){for(var e=t&&tv(t,Nd).length||0,n=Array(e),r=0;r<e;r++)n[r]=Zm(t,r);return n}var _v=zp(wv);function xv(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o}function Mv(t,e){return t._chain?Cd(e).chain():e}function Nv(t){return Um(zd(t),(function(e){var n=Cd[e]=t[e];Cd.prototype[e]=function(){var t=[this._wrapped];return Op.apply(t,arguments),Mv(this,n.apply(Cd,t))}})),Cd}Um(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=Yp[t];Cd.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Mv(this,n)}})),Um(["concat","join","slice"],(function(t){var e=Yp[t];Cd.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Mv(this,t)}}));var Ev=Nv(Object.freeze({__proto__:null,VERSION:"1.13.1",restArguments:zp,isObject:Vp,isNull:qp,isUndefined:Gp,isBoolean:Kp,isElement:function(t){return!(!t||1!==t.nodeType)},isString:Jp,isNumber:Qp,isDate:Zp,isRegExp:td,isError:ed,isSymbol:nd,isArrayBuffer:rd,isDataView:fd,isArray:hd,isFunction:ad,isArguments:md,isFinite:function(t){return!nd(t)&&Pp(t)&&!isNaN(parseFloat(t))},isNaN:vd,isTypedArray:Md,isEmpty:function(t){if(null==t)return!0;var e=Nd(t);return"number"==typeof e&&(hd(t)||Jp(t)||md(t))?0===e:0===Nd(kd(t))},isMatch:Yd,isEqual:function(t,e){return Od(t,e)},isMap:$d,isWeakMap:Hd,isSet:Pd,isWeakSet:Bd,keys:kd,allKeys:Sd,values:Ud,pairs:function(t){for(var e=kd(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r},invert:Wd,functions:zd,methods:zd,extend:qd,extendOwn:Gd,assign:Gd,defaults:Kd,create:function(t,e){var n=Xd(t);return e&&Gd(n,e),n},clone:Jd,tap:function(t,e){return e(t),t},get:em,has:function(t,e){for(var n=(e=Zd(e)).length,r=0;r<n;r++){var o=e[r];if(!pd(t,o))return!1;t=t[o]}return!!n},mapObject:function(t,e,n){e=um(e,n);for(var r=kd(t),o=r.length,i={},a=0;a<o;a++){var s=r[a];i[s]=e(t[s],s,t)}return i},identity:nm,constant:gd,noop:lm,toPath:Qd,property:om,propertyOf:function(t){return null==t?lm:function(e){return em(t,e)}},matcher:rm,matches:rm,times:function(t,e,n){var r=Array(Math.max(0,t));e=im(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r},random:cm,now:fm,escape:dm,unescape:mm,templateSettings:vm,template:function(t,e,n){!e&&n&&(e=n),e=Kd({},e,Cd.templateSettings);var r=RegExp([(e.escape||gm).source,(e.interpolate||gm).source,(e.evaluate||gm).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,(function(e,n,r,a,s){return i+=t.slice(o,s).replace(ym,wm),o=s+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),e})),i+="';\n";var a,s=e.variable;if(s){if(!_m.test(s))throw new Error("variable is not a bare identifier: "+s)}else i="with(obj||{}){\n"+i+"}\n",s="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{a=new Function(s,"_",i)}catch(t){throw t.source=i,t}var u=function(t){return a.call(this,t,Cd)};return u.source="function("+s+"){\n"+i+"}",u},result:function(t,e,n){var r=(e=Zd(e)).length;if(!r)return ad(n)?n.call(t):n;for(var o=0;o<r;o++){var i=null==t?void 0:t[e[o]];void 0===i&&(i=n,o=r),t=ad(i)?i.call(t):i}return t},uniqueId:function(t){var e=++xm+"";return t?t+e:e},chain:function(t){var e=Cd(t);return e._chain=!0,e},iteratee:sm,partial:Nm,bind:Em,bindAll:Cm,memoize:function(t,e){var n=function(r){var o=n.cache,i=""+(e?e.apply(this,arguments):r);return pd(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return n.cache={},n},delay:Am,defer:Om,throttle:function(t,e,n){var r,o,i,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:fm(),r=null,a=t.apply(o,i),r||(o=i=null)},l=function(){var l=fm();s||!1!==n.leading||(s=l);var c=e-(l-s);return o=this,i=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=o=i=null},l},debounce:function(t,e,n){var r,o,i,a,s,u=function(){var l=fm()-o;e>l?r=setTimeout(u,e-l):(r=null,n||(a=t.apply(s,i)),r||(i=s=null))},l=zp((function(l){return s=this,i=l,o=fm(),r||(r=setTimeout(u,e),n&&(a=t.apply(s,i))),a}));return l.cancel=function(){clearTimeout(r),r=i=s=null},l},wrap:function(t,e){return Nm(e,t)},negate:Sm,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:Tm,once:Rm,findKey:Dm,findIndex:Fm,findLastIndex:Im,sortedIndex:Lm,indexOf:Hm,lastIndexOf:Pm,find:Bm,detect:Bm,findWhere:function(t,e){return Bm(t,rm(e))},each:Um,forEach:Um,map:Wm,collect:Wm,reduce:Vm,foldl:Vm,inject:Vm,reduceRight:qm,foldr:qm,filter:Gm,select:Gm,reject:function(t,e,n){return Gm(t,Sm(um(e)),n)},every:Km,all:Km,some:Xm,any:Xm,contains:Jm,includes:Jm,include:Jm,invoke:Qm,pluck:Zm,where:function(t,e){return Gm(t,rm(e))},max:tv,min:function(t,e,n){var r,o,i=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=km(t)?t:Ud(t)).length;s<u;s++)null!=(r=t[s])&&r<i&&(i=r);else e=um(e,n),Um(t,(function(t,n,r){((o=e(t,n,r))<a||o===1/0&&i===1/0)&&(i=t,a=o)}));return i},shuffle:nv,sample:ev,sortBy:function(t,e,n){var r=0;return e=um(e,n),Zm(Wm(t,(function(t,n,o){return{value:t,index:r++,criteria:e(t,n,o)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")},groupBy:ov,indexBy:iv,countBy:av,partition:sv,toArray:function(t){return t?hd(t)?Sp.call(t):Jp(t)?t.match(uv):km(t)?Wm(t,nm):Ud(t):[]},size:function(t){return null==t?0:km(t)?t.length:kd(t).length},pick:cv,omit:fv,first:pv,head:pv,take:pv,initial:hv,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:dv(t,Math.max(0,t.length-e))},rest:dv,tail:dv,drop:dv,compact:function(t){return Gm(t,Boolean)},flatten:mv,without:gv,uniq:bv,unique:bv,union:yv,intersection:function(t){for(var e=[],n=arguments.length,r=0,o=Nd(t);r<o;r++){var i=t[r];if(!Jm(e,i)){var a;for(a=1;a<n&&Jm(arguments[a],i);a++);a===n&&e.push(i)}}return e},difference:vv,unzip:wv,transpose:wv,zip:_v,object:function(t,e){for(var n={},r=0,o=Nd(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},range:xv,chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(Sp.call(t,r,r+=e));return n},mixin:Nv,default:Cd}));function kv(t,{delimiter:e=",",quoteChar:n='"',lineTerminator:r="\n"}={}){return t.map(t=>t.map(t=>function(t,e,n){if(null==t||"number"==typeof t&&!Number.isFinite(t))return"";const r=String(t);return-1!==r.indexOf(n)?n+r.replace(new RegExp(n,"g"),n+n)+n:new RegExp(`[\n\r${e}]`).test(r)?n+r+n:r}(t,e,n)).join(e)).join(r)}function Yv(t){const e={},n=t.slice(0);function r(t){const n=t.name();let r,o,i;for(n?(r=n,o=0,i=r):(r="X",o=1,i=`${r}.${o}`);Object.prototype.hasOwnProperty.call(e,i);)i=`${r}.${++o}`;i!==n&&t.name(i,n)}t.forEach(t=>{r(t),e[t.name()]=t});const o={columns:()=>t,column(n){if(Jp(n)){if(void 0!==e[n])return e[n];throw new Error('No column found with that name: "'+n+'"')}if(!(n<0)){if(void 0!==t[n])return t[n];throw new Error("No column found with that name or index: "+n)}},numColumns:()=>t.length,numRows:()=>t[0].length,eachColumn(e){t.forEach(e)},hasColumn:n=>void 0!==(Jp(n)?e[n]:t[n]),indexOf:n=>o.hasColumn(n)?t.indexOf(e[n]):-1,list:()=>xv(t[0].length).map(o.row),row(e){if(e>=t[0].length)return{};const n={};return t.forEach(t=>{n[t.name()]=t.val(e)}),n},csv({includeComputedColumns:e=!0,includeHeader:n=!0,numeral:r=null,...i}={}){const a=o.numRows(),s=(e?t:t.filter(t=>!t.isComputed)).map(t=>[...n?[t.title()]:[],...t.formatted(r)]),u=s[0].map((t,e)=>s.map(t=>t[e])).slice(0,a+1);return!i.delimiter&&r&&(i.delimiter=function(t){try{if(","===t.localeData().delimiters.decimal)return";"}catch(t){}return","}(r)),kv(u,i)},toCSV(){return this.csv(...arguments)},filterColumns:n=>(t=t.filter(t=>!n[t.name()]),Um(n,(t,n)=>{t&&e[n]&&delete e[n]}),o),eachRow(t){var e;for(e=0;e<o.numRows();e++)t(e);return o},add:i=>(r(i),t.push(i),e[i.name()]=i,n.push(i),o),limitRows:e=>(t.forEach(t=>{t.limitRows(e)}),o),limitColumns:e=>(t.length>e&&(t.length=e,n.length=e),o),columnOrder(e){return arguments.length?(t.length=0,e.forEach((function(e){t.push(n[e])})),o):t.map((function(t){return n.indexOf(t)}))},align(e=""){const n=Math.max(...t.map(t=>t.length));for(const r of t){const t=Array(n-r.length).fill(e);r.add(...t)}},clone:()=>Yv(t.map(t=>t.clone())),clear(){for(const e of t)e.clear()},deleteRow(...e){e.sort();for(const n of t){let t=0;e.forEach(e=>{const r=n.deleteRow(e-t);t+=r.length})}return o}};return o}Ev._=Ev;const Cv=/^ */.source,Av=/[*']* *$/.source,Ov=/[ \-/.]?/.source,Sv=/[ \-/.]/.source,Tv=/[ \-/.;,]/.source,Rv=/[ \-|T]/.source,Dv=/[ \-/.m]/.source,jv={YY:{parse:/['’‘]?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(am|pm)?/}},Fv={0:["jan","january","januar","jänner","jän","janv","janvier","ene","enero","gen","gennaio","janeiro"],1:["feb","february","febr","februar","fév","févr","février","febrero","febbraio","fev","fevereiro"],2:["mar","mär","march","mrz","märz","mars","mars","marzo","marzo","março"],3:["apr","april","apr","april","avr","avril","abr","abril","aprile"],4:["may","mai","mayo","mag","maggio","maio","maj"],5:["jun","june","juni","juin","junio","giu","giugno","junho"],6:["jul","july","juli","juil","juillet","julio","lug","luglio","julho"],7:["aug","august","août","ago","agosto"],8:["sep","september","sept","septembre","septiembre","set","settembre","setembro"],9:["oct","october","okt","oktober","octobre","octubre","ott","ottobre","out","outubro"],10:["nov","november","november","novembre","noviembre","novembre","novembro"],11:["dec","december","dez","des","dezember","déc","décembre","dic","diciembre","dicembre","desember","dezembro"]},Iv={};Um(Fv,(function(t,e){Um(t,(function(t){Iv[t]=e}))})),jv.MMM={parse:new RegExp("("+mv(Ud(Fv)).join("|")+")")},Um(jv,(function(t){t.parse=t.parse.source,td(t.test)?t.test=t.test.source:t.test=t.parse}));var Lv={YYYY:{test:$v(jv.YYYY2.test),parse:$v(jv.YYYY2.parse),precision:"year"},"YYYY-H":{test:$v(jv.YYYY.test,Ov,jv.H.test),parse:$v(jv.YYYY.parse,Ov,jv.H.parse),precision:"half"},"H-YYYY":{test:$v(jv.H.test,Sv,jv.YYYY.test),parse:$v(jv.H.parse,Sv,jv.YYYY.parse),precision:"half"},"YYYY-Q":{test:$v(jv.YYYY.test,Ov,jv.Q.test),parse:$v(jv.YYYY.parse,Ov,jv.Q.parse),precision:"quarter"},"Q-YYYY":{test:$v(jv.Q.test,Sv,jv.YYYY.test),parse:$v(jv.Q.parse,Sv,jv.YYYY.parse),precision:"quarter"},"YYYY-M":{test:$v(jv.YYYY.test,Dv,jv.MM.test),parse:$v(jv.YYYY.parse,Dv,jv.MM.parse),precision:"month"},"M-YYYY":{test:$v(jv.MM.test,Sv,jv.YYYY.test),parse:$v(jv.MM.parse,Sv,jv.YYYY.parse),precision:"month"},"YYYY-MMM":{test:$v(jv.YYYY.test,Sv,jv.MMM.parse),parse:$v(jv.YYYY.parse,Sv,jv.MMM.parse),precision:"month"},"MMM-YYYY":{test:$v(jv.MMM.parse,Sv,jv.YYYY.test),parse:$v(jv.MMM.parse,Sv,jv.YYYY.parse),precision:"month"},"MMM-YY":{test:$v(jv.MMM.parse,Sv,jv.YY.test),parse:$v(jv.MMM.parse,Sv,jv.YY.parse),precision:"month"},MMM:{test:$v(jv.MMM.parse),parse:$v(jv.MMM.parse),precision:"month"},"YYYY-WW":{test:$v(jv.YYYY.test,Ov,jv.W.test),parse:$v(jv.YYYY.parse,Ov,jv.W.parse),precision:"week"},"WW-YYYY":{test:$v(jv.W.test,Sv,jv.YYYY.test),parse:$v(jv.W.parse,Sv,jv.YYYY.parse),precision:"week"},"MM/DD/YYYY":{test:$v(jv.MM.test,"([\\-\\/])",jv.DD.test,"\\2",jv.YYYY.test),parse:$v(jv.MM.parse,"([\\-\\/])",jv.DD.parse,"\\2",jv.YYYY.parse),precision:"day"},"MM/DD/YY":{test:$v(jv.MM.test,"([\\-\\/])",jv.DD.test,"\\2",jv.YY.test),parse:$v(jv.MM.parse,"([\\-\\/])",jv.DD.parse,"\\2",jv.YY.parse),precision:"day"},"DD/MM/YY":{test:$v(jv.DD.test,"([\\-\\.\\/ ?])",jv.MM.test,"\\2",jv.YY.test),parse:$v(jv.DD.parse,"([\\-\\.\\/ ?])",jv.MM.parse,"\\2",jv.YY.parse),precision:"day"},"DD/MM/YYYY":{test:$v(jv.DD.test,"([\\-\\.\\/ ?])",jv.MM.test,"\\2",jv.YYYY.test),parse:$v(jv.DD.parse,"([\\-\\.\\/ ?])",jv.MM.parse,"\\2",jv.YYYY.parse),precision:"day"},"DD/MMM/YYYY":{test:$v(jv.DD.test,"([\\-\\.\\/ ?])",jv.MMM.test,"\\2",jv.YYYY.test),parse:$v(jv.DD.parse,"([\\-\\.\\/ ?])",jv.MMM.parse,"\\2",jv.YYYY.parse),precision:"day"},"DD/MMM/YY":{test:$v(jv.DD.test,"([\\-\\.\\/ ?])",jv.MMM.test,"\\2",jv.YY.test),parse:$v(jv.DD.parse,"([\\-\\.\\/ ?])",jv.MMM.parse,"\\2",jv.YY.parse),precision:"day"},"YYYY-MM-DD":{test:$v(jv.YYYY.test,"([\\-\\.\\/ ?])",jv.MM.test,"\\2",jv.DD.test),parse:$v(jv.YYYY.parse,"([\\-\\.\\/ ?])",jv.MM.parse,"\\2",jv.DD.parse),precision:"day"},"MMM-DD-YYYY":{test:$v(jv.MMM.test,Sv,jv.DD.test,Tv,jv.YYYY.test),parse:$v(jv.MMM.parse,Sv,jv.DD.parse,Tv,jv.YYYY.parse),precision:"day"},"YYYY-WW-d":{test:$v(jv.YYYY.test,Ov,jv.W.test,Sv,jv.DOW.test),parse:$v(jv.YYYY.parse,Ov,jv.W.parse,Sv,jv.DOW.parse),precision:"day"},"MM/DD/YYYY HH:MM":{test:$v(jv.MM.test,"([\\-\\/])",jv.DD.test,"\\2",jv.YYYY.test,Rv,jv.HHMM.test),parse:$v(jv.MM.parse,"([\\-\\/])",jv.DD.parse,"\\2",jv.YYYY.parse,Rv,jv.HHMM.parse),precision:"day-minutes"},"DD.MM.YYYY HH:MM":{test:$v(jv.DD.test,"([\\-\\.\\/ ?])",jv.MM.test,"\\2",jv.YYYY.test,Rv,jv.HHMM.test),parse:$v(jv.DD.parse,"([\\-\\.\\/ ?])",jv.MM.parse,"\\2",jv.YYYY.parse,Rv,jv.HHMM.parse),precision:"day-minutes"},"YYYY-MM-DD HH:MM":{test:$v(jv.YYYY.test,"([\\-\\.\\/ ?])",jv.MM.test,"\\2",jv.DD.test,Rv,jv.HHMM.test),parse:$v(jv.YYYY.parse,"([\\-\\.\\/ ?])",jv.MM.parse,"\\2",jv.DD.parse,Rv,jv.HHMM.parse),precision:"day-minutes"},ISO8601:{test:/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d(\.\d+)?([+-][0-2]\d:[0-5]\d|Z)/,parse:function(t){return t},precision:"day-seconds"}};function $v(){return new RegExp(Cv+Array.prototype.slice.call(arguments).join(" *")+Av,"i")}function Hv(t,e){var n=Lv[e];return td(n.test)?n.test.test(t):n.test(t,e)}function Pv(t,e,n){var r=new Date(Date.UTC(t,0,3));return r.setUTCDate(3-r.getUTCDay()+7*(e-1)+parseInt(n,10)),r}function Bv(t,e){return 12!==t?t+("pm"===e?12:0):"am"===e?0:12}var Uv={text:function(){return{parse:nm,errors:function(){return 0},name:function(){return"text"},isValid:function(){return!0},format:function(){}}},number:function(t){let e,n=0;const r={"-.":/^ *[-–—−]?[0-9]*(\.[0-9]+)?(e[+-][0-9]+)?%? *$/,"-,":/^ *[-–—−]?[0-9]*(,[0-9]+)?%? *$/,",.":/^ *[-–—−]?[0-9]{1,3}(,[0-9]{3})*(\.[0-9]+)?%? *$/,".,":/^ *[-–—−]?[0-9]{1,3}(\.[0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(,[0-9]+)?%? *$/,"'.":/^ *[-–—−]?[0-9]{1,3}('[0-9]{3})*(\.[0-9]+)?%? *$/},o={"-.":"1234.56","-,":"1234,56",",.":"1,234.56",".,":"1.234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"},i={na:1,"n/a":1,"-":1,":":1},a={},s=["-.",0];Um(t=t||[],(function(t){Um(r,(function(e,n){void 0===a[n]&&(a[n]=0),e.test(t)&&(a[n]+=1,a[n]>s[1]&&(s[0]=n,s[1]=a[n]))}))})),e=s[0];var u={parse:function(t){if(Qp(t)||Gp(t)||qp(t))return t;var r=t.replace("%","").replace("−","-").replace(/[   ]/g,"").replace("–","-").replace("—","-");return"-"!==e[0]&&(r=r.replace(new RegExp("."===e[0]?"\\.":e[0],"g"),"")),"."!==e[1]&&(r=r.replace(e[1],".")),isNaN(r)||""===r?(i[r.toLowerCase()]||""===r||n++,t):Number(r)},toNum:function(t){return t},fromNum:function(t){return t},errors:function(){return n},name:function(){return"number"},isValid:function(t){return""===t||i[String(t).toLowerCase()]||Qp(u.parse(t))},ambiguousFormats:function(){var t=[];return Um(a,(function(e,n){e===s[1]&&t.push([n,o[n]])})),t},format:function(t){return arguments.length?(e=t,u):e}};return u},date:function(t){let e,n=0;const r={},o=["",0];t=t||[],Um(Lv,(function(e,n){Um(t,(function(t){void 0===r[n]&&(r[n]=0),Hv(t,n)&&(r[n]+=1,r[n]>o[1]&&(o[0]=n,o[1]=r[n]))}))})),e=o[0];const i={parse:function(t){if(Zp(t)||Gp(t))return t;if(!e||!Jp(t))return n++,t;var r,o,i,a=(r=t.toLowerCase(),td((i=Lv[o=e]).parse)?r.match(i.parse):i.parse(r,o));if(!a)return n++,t;function s(t){return(t=+t)<30?2e3+t:1900+t}Hv(t,e)||n++;var u=(new Date).getFullYear();switch(e){case"YYYY":return new Date(a[1],0,1);case"YYYY-H":return new Date(a[1],6*(a[2]-1),1);case"H-YYYY":return new Date(a[2],6*(a[1]-1),1);case"YYYY-Q":return new Date(a[1],3*(a[2]-1),1);case"Q-YYYY":return new Date(a[2],3*(a[1]-1),1);case"YYYY-M":return new Date(a[1],a[2]-1,1);case"M-YYYY":return new Date(a[2],a[1]-1,1);case"YYYY-MMM":return new Date(+a[1],Iv[a[2]],1);case"MMM-YYYY":return new Date(+a[2],Iv[a[1]],1);case"MMM-YY":return new Date(s(+a[2]),Iv[a[1]],1);case"MMM":return new Date(u,Iv[a[1]],1);case"YYYY-WW":return Pv(a[1],a[2],1);case"WW-YYYY":return Pv(a[2],a[1],1);case"YYYY-WW-d":return Pv(a[1],a[2],a[3]);case"YYYY-MM-DD":return new Date(a[1],a[3]-1,a[4]);case"DD/MM/YYYY":return new Date(a[4],a[3]-1,a[1]);case"DD/MMM/YYYY":return new Date(a[4],Iv[a[3]],a[1]);case"DD/MMM/YY":return new Date(s(a[4]),Iv[a[3]],a[1]);case"MM/DD/YYYY":return new Date(a[4],a[1]-1,a[3]);case"MM/DD/YY":return new Date(s(a[4]),a[1]-1,a[3]);case"DD/MM/YY":return new Date(s(a[4]),a[3]-1,a[1]);case"MMM-DD-YYYY":return new Date(a[3],Iv[a[1]],a[2]);case"YYYY-MM-DD HH:MM":return new Date(+a[1],a[3]-1,+a[4],Bv(+a[5],a[8]),+a[6]||0,+a[7]||0);case"DD.MM.YYYY HH:MM":return new Date(+a[4],a[3]-1,+a[1],Bv(+a[5],a[8]),+a[6]||0,+a[7]||0);case"MM/DD/YYYY HH:MM":return new Date(+a[4],a[1]-1,+a[3],Bv(+a[5],a[8]),+a[6]||0,+a[7]||0);case"ISO8601":return new Date(a.toUpperCase());default:console.warn("unknown format",e)}return n++,t},toNum:function(t){return Zp(t)?t.getTime():Number.NaN},fromNum:function(t){return new Date(t)},errors:function(){return n},name:function(){return"date"},format:function(t){return arguments.length?(e=t,i):e},precision:function(){return Lv[e].precision},isValid:function(t){return Zp(i.parse(t))},ambiguousFormats:function(){var t=[];return Um(r,(function(e,n){e===o[1]&&t.push([n,n])})),t}};return i}};const Wv=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,zv=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function Vv(t,e){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0&&t.indexOf(">")<0)return t;if(t=qv(t,e),"undefined"==typeof document)return t;var n=document.createElement("div");n.innerHTML=`<span>${t}</span>`,n.innerHTML=qv(n.innerHTML,e&&!e.includes("<span>")?e+"<span>":e||void 0);for(var r=n.childNodes[0].querySelectorAll("*"),o=0;o<r.length;o++){if("a"===r[o].nodeName.toLowerCase()){"_self"!==r[o].getAttribute("target")&&r[o].setAttribute("target","_blank"),r[o].setAttribute("rel","nofollow noopener noreferrer");const t=(r[o].getAttribute("href")||"").toLowerCase().replace(/[^a-z0-9 -/:?=]/g,"").trim();(t.startsWith("javascript:")||t.startsWith("vbscript:")||t.startsWith("data:"))&&r[o].setAttribute("href","")}const t=[];for(var i=0;i<r[o].attributes.length;i++){var a=r[o].attributes[i];a.specified&&"on"===a.name.substr(0,2)&&t.push(a.name)}t.forEach(t=>r[o].removeAttribute(t))}return n.childNodes[0].innerHTML}}function qv(t,e){e=(((void 0!==e?e||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var n=t,r=t;;)if(r=(n=r).replace(zv,"").replace(Wv,(function(t,n){return e.indexOf("<"+n.toLowerCase()+">")>-1?t:""})),n===r)return r}function Gv(t,e,n){function r(t){return null!=t&&""!==t}const o=nv(xv(e.length)).filter((function(t){return r(e[t])})).slice(0,200).map((function(t){return e[t]}));n=n?Uv[n](o):function(t){if(Km(e,Qp))return Uv.number();if(Km(e,Zp))return Uv.date();const n=[Uv.date(t),Uv.number(t),Uv.text()];let o;const i=.1*e.filter(r).length;return Um(e,(function(t){Um(n,(function(e){e.parse(t)}))})),Km(n,(function(t){return t.errors()<i&&(o=t),!o})),Gp(o)&&(o=n[2]),o}(o);let i,a,s,u,l=t;const c=e.slice(0);let f;var h={name(){return arguments.length>=1?(t=arguments[0],l=2===arguments.length?arguments[1]:t,h):Vv(t)},origName:()=>Vv(l),title(){return arguments.length?(f=arguments[0],h):Vv(f||t)},length:e.length,val(t,r){if(arguments.length){var o=r?c:e;return t<0&&(t+=o.length),n.parse(Zp(o[t])||Qp(o[t])?o[t]:Vv(o[t]))}},formatted(t=null){return t&&"number"===this.type()?this.values().map(e=>Number.isFinite(e)?t(e).format("0.[00000000000000000000]"):e):this.raw()},values(t){var r=t?c:e;return r=Wm(r,(function(t){return Zp(t)||Qp(t)?t:Vv(t)})),Wm(r,n.parse)},each(t){for(var n=0;n<e.length;n++)t(h.val(n),n)},raw(t,n){return arguments.length?2===arguments.length?(e[t]=n,h):Zp(e[t])||Qp(e[t])?e[t]:Vv(e[t]):e.map(t=>Zp(t)||Qp(t)?t:Vv(t))},type(t){if(!0===t)return n;if(Jp(t)){if(Uv[t])return n=Uv[t](o),h;throw new Error("unknown column type: "+t)}return n.name()},range:()=>!!n.toNum&&(i||(i=[Number.MAX_VALUE,-Number.MAX_VALUE],h.each((function(t){t=n.toNum(t),Qp(t)&&!vd(t)&&(t<i[0]&&(i[0]=t),t>i[1]&&(i[1]=t))})),i[0]=n.fromNum(i[0]),i[1]=n.fromNum(i[1])),i),sum:()=>!!n.toNum&&(void 0===a&&(a=0,h.each((function(t){const e=n.toNum(t);Number.isFinite(e)&&(a+=e)})),a=n.fromNum(a)),a),mean(){if(!n.toNum)return!1;if(void 0===s){s=0;let t=0;h.each((function(e){const r=n.toNum(e);Number.isFinite(r)&&(s+=r,t++)})),s=n.fromNum(s/t)}return s},median(){if(!n.toNum)return!1;if(void 0===u){const t=h.values().map(n.toNum);u=n.fromNum(function(t){var e,n=[],r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)Jv(e=Xv(t[o]))&&n.push(e);if(n.length)return Kv(n.sort(Qv),.5)}(t))}return u},filterRows(t){return e=[],arguments.length?Um(t,(function(t){e.push(c[t])})):e=c.slice(0),h.length=e.length,i=a=s=u=void 0,h},deleteRow(t){const n=e.splice(t,1);return c.splice(t,1),h.length=e.length,i=a=s=u=void 0,n},toString:()=>t+" ("+n.name()+")",indexOf:t=>Bm(xv(e.length),(function(e){return h.val(e)===t})),limitRows(t){c.length>t&&(c.length=t,e.length=t,h.length=t)},add(...t){c.push(...t),e.push(...t),h.length=e.length},clone:()=>Gv(t,e.slice(),n.name()),clear(){e.splice(0),h.length=e.length}};return h.total=h.sum,h}function Kv(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),o=+t[r-1],i=n-r;return i?o+i*(t[r]-o):o}function Xv(t){return null===t?NaN:+t}function Jv(t){return!vd(t)}function Qv(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Zv(t){return{dataset:function(){return function(){if(t.url){const e=(new Date).getTime(),n=`${t.url}${t.url.indexOf("?")>-1?"&":"?"}v=${t.url.indexOf("//static.dwcdn.net")>-1?e-e%6e4:e}`;return window.fetch(n).then(t=>t.text()).then(e=>new tg(t).parse(e))}if(t.csv||""===t.csv){return new Promise(e=>{e(t.csv)}).then(e=>new tg(t).parse(e))}const e=new Error("You need to provide either a URL or CSV data");return Promise.reject(e)}().catch(e=>(console.error(`Could not fetch delimited data source for chart ${t.chartId}, returning an empty dataset: `+e.message),Yv([])))},parse:function(){return new tg(t).parse(t.csv)}}}Yv.delimited=Zv;class tg{constructor(t){t=Object.assign({delimiter:"auto",quoteChar:'"',skipRows:0,emptyValue:null,transpose:!1,firstRowIsHeader:!0},t),this.__delimiterPatterns=eg(t.delimiter,t.quoteChar),this.opts=t}parse(t){this.__rawData=t;const e=this.opts;"auto"===e.delimiter&&(e.delimiter=this.guessDelimiter(t,e.skipRows),this.__delimiterPatterns=eg(e.delimiter,e.quoteChar));const n="|"!==e.delimiter?"|":"#";let r;return t=n+"\n"+t.replace(/[ \r\n\f]+$/g,"").replace(/^\uFEFF/,"")+n,r=function(t,e,r){r=r||",";const o=[[]];let i,a=null;for(;a=t.exec(e);){var s=a[1];s.length&&s!==r&&o.push([]),i=a[2]?a[2].replace(new RegExp('""',"g"),'"'):a[3],o[o.length-1].push(void 0===i?"":i)}o[0][0].substr(0,1)===n&&(o[0][0]=o[0][0].substr(1));const u=o.length-1,l=o[u].length-1,c=o[u][l].length-1;return o[u][l].substr(c)===n&&(o[u][l]=o[u][l].substr(0,c)),o.slice(1)}(this.__delimiterPatterns,t,e.delimiter),e.transpose&&(r=function(t){const e=t,n=e.length?e.length:0,r=e[0]instanceof Array?e[0].length:0;if(0===r||0===n)return[];let o,i;const a=[];for(o=0;o<r;o++)for(a[o]=[],i=0;i<n;i++)a[o][i]=e[i][o];return a}(r)),function(t){return Yv(function(t){if(!t)return[];if(!(t=t.slice(e.skipRows)).length)return[];const n=t[0],r={};let o=[],i=0;return e.firstRowIsHeader&&(o=t[i],i++,t.shift()),n.map((n,i)=>{const a=t.map(t=>""!==t[i]?t[i]:e.emptyValue);let s=Jp(o[i])?o[i].replace(/^\s+|\s+$/g,""):"",u=""!==s?"":1;for(s=""!==s?s:"X.";void 0!==r[s+u];)u=""===u?1:u+1;return r[s+u]=!0,Gv(s+u,a)})}(t))}(function(t){for(let e=t.length-1;e>=0;e--)if(t[e].some(t=>""!==t))return t.slice(0,e+1);return t.slice(0,1)}(r))}guessDelimiter(t){let e=0,n=-1;const r=this,o=["\t",";","|",","];return o.forEach((o,i)=>{const a=eg(o,r.quoteChar);let s=t.match(a).length;"\t"===o&&(s*=1.15),s>e&&(e=s,n=i)}),o[n]}}function eg(t,e){return new RegExp("(\\"+t+"|\\r?\\n|\\r|^)(?:"+e+"([^"+e+"]*(?:"+e+'"[^'+e+"]*)*)"+e+"|([^"+e+"\\"+t+"\\r\\n]*))","gi")}let ng=null,rg=null;var og={render(){const{hot:t}=this.get();t.render()},doSearch(){const{hot:t,search:e}=this.get();clearTimeout(rg),rg=setTimeout(()=>{if(t&&e){const n=t.getPlugin("search").query(e);this.set({searchResults:n})}else this.set({searchResults:[]})},300)},update(){const{data:t,transpose:e,firstRowIsHeader:n,skipRows:r,hot:o}=this.get();if(!t)return;const{dw_chart:i}=this.store.get(),a=i.dataset(Zv({csv:t,transpose:e,firstRowIsHeader:n,skipRows:r}).parse()).dataset();this.set({columnOrder:a.columnOrder()});const s=[[]];a.eachColumn(t=>s[0].push(t.title())),a.eachRow(t=>{const e=[];a.eachColumn(n=>e.push(n.raw(t))),s.push(e)}),o.loadData(s);const u=Ep(this,i,a,c.default);o.updateSettings({cells:(t,e)=>{const{readonly:n}=this.get();return{readOnly:n||a.hasColumn(e)&&a.column(e).isComputed&&0===t,renderer:u}},manualColumnMove:[]}),this.set({ds:a,hasChanges:Bi(i.get("metadata.data.changes",[])).length>0}),c.default.hooks.once("afterRender",()=>this.initCustomEvents()),c.default.hooks.once("afterRender",()=>this.fire("afterRender")),o.render()},dataChanged(t){const{hot:e}=this.get();let n=!1;const r=this.store.get().dw_chart;t.forEach(([t,o,i,a])=>{if(i!==a){const{transpose:s}=this.get(),u=Bi(r.get("metadata.data.changes",[]));if(t=e.toPhysicalRow(t),o=r.dataset().columnOrder()[o],s){const e=t;t=o,o=e}u.push({column:o,row:t,value:a,previous:i,time:(new Date).getTime()}),r.set("metadata.data.changes",u),n=!0}}),n&&setTimeout(()=>{this.update()},100)},columnMoved(t,e){const{hot:n}=this.get();if(!t.length)return;const{columnOrder:r}=this.get(),o=r.slice(0),i=r[e],a=o.splice(t[0],t.length),s=void 0===i?o.length:i?o.indexOf(i):0;o.splice(s,0,...a),this.store.get().dw_chart.set("metadata.data.column-order",o.slice(0)),this.set({columnOrder:o}),c.default.hooks.once("afterRender",()=>{setTimeout(()=>{this.fire("resetSort"),n.selectCell(0,s,n.countRows()-1,s+a.length-1)},10)}),this.update()},updateHeight(){const t=this.refs.hot.querySelector(".ht_master.handsontable .wtHolder .wtHider").getBoundingClientRect().height;this.refs.hot.style.height=Math.min(500,t+10)+"px"},checkRange(t,e,n,r){const{hot:o,ds:i}=this.get();if(e!==r||0!==t||n!==o.countRows()-1)if(e===r||0!==t||n!==o.countRows()-1)this.set({activeColumn:null,multiSelection:!1});else{const t=[];for(let n=Math.min(e,r);n<=Math.max(e,r);n++){const e=this.refs.hot.querySelector(`#data-preview .htCore tbody tr:first-child td:nth-child(${n+2})`);e&&t.push(+e.dataset.column)}this.set({multiSelection:t.map(t=>i.column(t)),activeColumn:null})}},initCustomEvents(){setTimeout(()=>{this.refs.hot.querySelectorAll(".htCore thead th:first-child").forEach(t=>{t.removeEventListener("click",ug),t.addEventListener("click",ug)}),this.refs.hot.querySelectorAll(".htCore thead th+th").forEach(t=>{t.removeEventListener("click",sg),t.addEventListener("click",sg)})},500)},getColumnFormat(t){const{dw_chart:e}=this.store.get();return e.get("metadata.data.column-format",{})[t]||{type:"auto",ignore:!1}}};function ig(){ng=this,c.default.hooks.once("afterRender",()=>this.initCustomEvents()),this.refs.hot.getRootNode().addEventListener("keyup",t=>{const{activeColumn:e,ds:n}=this.get();if(e&&"input"!==t.target.tagName.toLowerCase()&&"textarea"!==t.target.tagName.toLowerCase()&&("ArrowRight"===t.key||"ArrowLeft"===t.key)){t.preventDefault(),t.stopPropagation();const r=n.indexOf(e.name());"ArrowRight"===t.key?this.set({activeColumn:n.column((r+1)%n.numColumns())}):this.set({activeColumn:n.column((r-1+n.numColumns())%n.numColumns())})}});const{dw_chart:t}=this.store.get(),e=new c.default(this.refs.hot,{data:[],rowHeaders:t=>c.default.hooks.run(e,"modifyRow",t)+1,colHeaders:!0,fixedRowsTop:1,fixedColumnsLeft:this.get().fixedColumnsLeft,filters:!0,startRows:13,startCols:8,fillHandle:!1,stretchH:"all",height:500,manualColumnMove:!0,selectionMode:"range",autoColumnSize:{useHeaders:!0,syncLimit:5},sortIndicator:!0,columnSorting:!0,sortFunction:function(e,n){if(n.col>-1){const r=t.dataset().column(n.col),o=r.type();return(t,n)=>0===t[0]?-1:(t[1]=r.val(t[0]-1),n[1]=r.val(n[0]-1),"number"===o&&(isNaN(t[1])&&(t[1]=e?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY),isNaN(n[1])&&(n[1]=e?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY)),"date"===o&&("string"==typeof t[1]&&(t[1]=new Date(110,0,1)),"string"==typeof n[1]&&(n[1]=new Date(110,0,1))),("desc"===e?-1:1)*(t[1]>n[1]?1:t[1]<n[1]?-1:0))}return(t,e)=>t[0]-e[0]},afterGetColHeader:(t,e)=>{const{activeColumn:n,ds:r}=this.get();r&&r.hasColumn(t)&&((0===t||t)&&n&&r.column(t).name()===n.name()&&e.classList.add("selected"),(0===t||t)&&(this.getColumnFormat(r.column(t).name()).ignore?e.classList.add("ignored"):e.classList.remove("ignored")))},search:"search"});window.HT=e,this.set({hot:e}),c.default.hooks.add("afterSetDataAtCell",t=>this.dataChanged(t)),c.default.hooks.add("afterColumnMove",(t,e)=>this.columnMoved(t,e)),c.default.hooks.add("afterRender",()=>this.updateHeight()),c.default.hooks.add("afterSelection",(t,e,n,r)=>this.checkRange(t,e,n,r))}function ag({changed:t,current:e,previous:n}){const r=e.hot;if(r){if(t.data&&this.update(),t.firstRowIsHeader&&n&&void 0!==n.firstRowIsHeader&&this.update(),t.hot&&this.update(),t.search&&n&&(this.doSearch(),this.set({searchIndex:0})),t.searchResults&&r.render(),t.currentResult&&e.currentResult){r.render();const t=e.currentResult;r.scrollViewportTo(t.row,t.col),setTimeout(()=>{r.scrollViewportTo(t.row,t.col)},100)}if(t.activeColumn&&setTimeout(()=>r.render(),10),t.fixedColumnsLeft&&r.updateSettings({fixedColumnsLeft:e.fixedColumnsLeft}),t.sorting){const t=this.store.get().dw_chart;r.getPlugin("columnSorting").sort(t.dataset().indexOf(e.sorting.sortBy),e.sorting.sortDir?"asc":"desc")}}}function sg(t){const e=this,n=e.parentNode.children.length;let r=-1;for(let t=0;t<n;t++)if(e.parentNode.children.item(t)===e){r=t;break}const o=+ng.refs.hot.querySelector(`.htCore tbody tr:first-child td:nth-child(${r+1})`).dataset.column,{dw_chart:i}=ng.store.get(),{activeColumn:a,hot:s}=ng.get();if(i.dataset().hasColumn(o)){const e=i.dataset().column(+o);a&&a.name()===e.name()?(t.target.parentNode.classList.remove("selected"),ng.set({activeColumn:!1}),s.deselectCell()):(t.target.parentNode.classList.add("selected"),ng.set({activeColumn:e}))}}function ug(t){t.preventDefault();const{transpose:e}=ng.get();ng.set({transpose:!e}),ng.update()}function lg(t){W(this,t),this.refs={},this._state=p({hot:null,data:"",readonly:!1,skipRows:0,firstRowIsHeader:!0,fixedColumnsLeft:0,searchIndex:0,sortBy:"-",transpose:!1,activeColumn:null,search:"",searchResults:[]},t.data),this._recompute({searchResults:1,searchIndex:1},this._state),this._intro=!0,this._handlers.state=[ag],ag.call(this,{changed:d({},this._state),current:this._state}),this._fragment=function(t,e){var n;return{c(){(n=x("div")).id="data-preview"},m(e,r){g(e,n,r),t.refs.hot=n},p:h,d(e){e&&b(n),t.refs.hot===n&&(t.refs.hot=null)}}}(this,this._state),this.root._oncreate.push(()=>{ig.call(this),this.fire("update",{changed:d({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}p(lg.prototype,G),p(lg.prototype,og),lg.prototype._recompute=function(t,e){(t.searchResults||t.searchIndex)&&this._differs(e.currentResult,e.currentResult=function({searchResults:t,searchIndex:e}){if(!t||!t.length)return null;const n=t.length;if(e<0||e>=n){for(;e<0;)e+=n;e>n&&(e%=n)}return t[e]}(e))&&(t.currentResult=!0)};var cg={toggle(t){t.preventDefault();const{visible:e,disabled:n}=this.get();n||this.set({visible:!e})},windowClick(t){if(!t.target)return;const e="SVELTE2-WRAPPER"===t.target.tagName;if(e&&!t.composedPath().length)return;const n=e?t.composedPath()[0]:t.target,r=this.refs&&this.refs.button;r&&r===n||t.target.classList.contains("hex")||this.set({visible:!1})}};function fg(t,e){var n,r,o=t._slotted.content;return{c(){n=x("div"),o||((r=x("div")).textContent="DropdownControl content"),o||(r.className="base-dropdown-inner svelte-1jdtmzv"),O(n,"width",e.width),n.className="dropdown-menu base-dropdown-content svelte-1jdtmzv"},m(t,e){g(t,n,e),v(n,o||r)},p(t,e){t.width&&O(n,"width",e.width)},d(t){t&&b(n),o&&y(n,o)}}}function hg(t){W(this,t),this.refs={},this._state=p({visible:!1,disabled:!1,width:"auto",uid:""},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,r,o,i,a,s,u=t._slotted.button;function l(e){t.windowClick(e)}function c(e){t.toggle(e)}window.addEventListener("click",l);var f=e.visible&&fg(t,e);return{c(){n=x("div"),r=x("a"),u||(o=x("button"),i=x("i")),s=N("\n    "),f&&f.c(),u||(i.className=a="fa fa-chevron-"+(e.visible?"up":"down")+" svelte-1jdtmzv",o.className="btn btn-small"),k(r,"click",c),r.href="#dropdown-btn",r.className="base-drop-btn svelte-1jdtmzv",O(n,"position","relative"),O(n,"display","inline-block"),n.dataset.uid=e.uid},m(e,a){g(e,n,a),v(n,r),u?v(r,u):(v(r,o),v(o,i)),t.refs.button=r,v(n,s),f&&f.m(n,null)},p(e,r){u||e.visible&&a!==(a="fa fa-chevron-"+(r.visible?"up":"down")+" svelte-1jdtmzv")&&(i.className=a),r.visible?f?f.p(e,r):((f=fg(t,r)).c(),f.m(n,null)):f&&(f.d(1),f=null),e.uid&&(n.dataset.uid=r.uid)},d(e){window.removeEventListener("click",l),e&&b(n),u&&y(r,u),Y(r,"click",c),t.refs.button===r&&(t.refs.button=null),f&&f.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function pg(){const{language:t}=this.store.get();t&&this.store.set({language:t.replace("_","-")})}function dg(t){W(this,t),this._state=p(this.store._init(["locales","language"]),t.data),this.store._add(this,["locales","language"]),this._recompute({$locales:1},this._state),this._intro=!0,this._handlers.state=[pg],this._handlers.destroy=[q],pg.call(this,{changed:d({},this._state),current:this._state}),this._fragment=function(t,e){var n={},r={options:e.options,width:"200px",labelWidth:"80px"};void 0!==e.$language&&(r.value=e.$language,n.value=!0);var o=new Bs({root:t.root,store:t.store,data:r,_bind(e,r){var o={};!n.value&&e.value&&(o.language=r.value),t.store.set(o),n={}}});return t.root._beforecreate.push(()=>{o._bind({value:1},o.get())}),{c(){o._fragment.c()},m(t,e){o._mount(t,e)},p(t,r){e=r;var i={};t.options&&(i.options=e.options),!n.value&&t.$language&&(i.value=e.$language,n.value=void 0!==e.$language),o._set(i),n={}},d(t){o.destroy(t)}}}(this,this._state),this.root._oncreate.push(()=>{this.fire("update",{changed:d({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}p(hg.prototype,G),p(hg.prototype,cg),p(dg.prototype,G),dg.prototype._recompute=function(t,e){t.$locales&&this._differs(e.options,e.options=function({$locales:t}){return t.map(t=>({value:t.value,label:`${t.label} (${t.value})`}))}(e))&&(t.options=!0)};const mg={transpose:"metadata.data.transpose",firstRowIsHeader:"metadata.data.horizontal-header",$language:"language"};var vg={nextResult(t){let{searchIndex:e}=this.get();const{searchResults:n}=this.get();e+=t,e<0&&(e+=n.length),e%=n.length,this.set({searchIndex:e})},keyPress(t){"F3"!==t.key&&"Enter"!==t.key||this.nextResult(t.shiftKey?-1:1)},toggleTranspose(){this.set({transpose:!this.get().transpose})},revertChanges(){const t=this.store.get().dw_chart;t.setMetadata("data.changes",[]),t.saveSoon(),this.refs.hot.update()},cmFocus(){setTimeout(()=>{this.refs.hot.get().hot.render()},100)},addComputedColumn(){const t=this.store.get().dw_chart,e=t.dataset(),n=Ka(t);let r=1;for(;e.hasColumn("Column "+r);)r++;const o="Column "+r;n.push({name:o,formula:""}),t.setMetadata("describe.computed-columns",n),t.saveSoon();const i=t.dataset(!0);this.refs.hot.update(),this.set({activeColumn:i.column(o)}),this.store.set({dw_chart:t})},sort(t,e,n){t.preventDefault(),t.stopPropagation(),this.set({sortBy:e,sortDir:n})},force(t,e=!0){t.preventDefault(),this.set({forceColumnFormat:e})},hideMultiple(t,e){const n=this.store.get().dw_chart,r=Bi(n.get("metadata.data.column-format",{}));t.forEach(t=>{r[t.name()]?r[t.name()].ignore=e:r[t.name()]={type:"auto",ignore:e}}),n.setMetadata("data.column-format",r),n.saveSoon(),setTimeout(()=>{this.refs.hot.get().hot.render()},10),this.set({multiSelection:!1})},afterRender(){this.refs.ccEd&&this.refs.ccEd.fire("hotRendered")},navigateTo(t){const{navigateTo:e}=this.get();e({id:t})}};function gg(){const{dw_chart:t}=this.store.get(),e=Object.entries(mg).reduce((e,[n,r])=>{const o=wp(t.get(),r);return null!==o&&(e[n]=o),e},{});this.set(e),this.refs.hot.update(),t.get("metadata.data.changes",[]).length>1&&this.set({hasChanges:!0}),t.onChange((t,e,n)=>{const r=Object.entries(mg).find(([,t])=>t===e);r&&this.set({[r[0]]:n})}),window.addEventListener("keypress",t=>{if(t.ctrlKey&&"f"===t.key){t.preventDefault();const e=this.refs.parent.getRootNode().activeElement;this.refs.search!==e?this.refs.search.focus():this.nextResult(1)}})}function bg({changed:t,current:e}){t.activeColumn&&!e.activeColumn&&this.set({forceColumnFormat:!1}),Object.entries(mg).forEach(([n,r])=>{if(t[n]){const t=e[n],{dw_chart:o}=this.store.get();if("$language"===n){if(!t)return;o.set("language",t),o.locale(t,()=>{this.refs.hot.render()})}else o.set(r,t)}}),t.transpose&&(this.set({activeColumn:!1}),setTimeout(()=>this.refs.hot.update(),500))}function yg(t){const{component:e,ctx:n}=this._svelte;e.sort(t,n.col.name(),!0)}function wg(t){const{component:e,ctx:n}=this._svelte;e.sort(t,n.col.name(),!1)}function _g(t){const{component:e,ctx:n}=this._svelte;e.sort(t,n.col.name(),!0)}function xg(t,e,n){const r=Object.create(t);return r.col=e[n],r}function Mg(t,e){var n,r,o,i,a,s,u,l=Ki("Make sure the data looks right"),c=Ki("describe / data-looks-right"),f={},h={label:Ki("First row as label")};void 0!==e.firstRowIsHeader&&(h.value=e.firstRowIsHeader,f.value=!0);var p=new Ys({root:t.root,store:t.store,data:h,_bind(e,n){var r={};!f.value&&e.value&&(r.firstRowIsHeader=n.value),t._set(r),f={}}});t.root._beforecreate.push(()=>{p._bind({value:1},p.get())});var d=e.showLocaleSelect&&kg(t);return{c(){n=x("h3"),r=N(l),o=N("\n\n                "),i=x("p"),a=N("\n\n                "),p._fragment.c(),s=N(" "),d&&d.c(),u=E(),n.className="first"},m(t,e){g(t,n,e),v(n,r),g(t,o,e),g(t,i,e),i.innerHTML=c,g(t,a,e),p._mount(t,e),g(t,s,e),d&&d.m(t,e),g(t,u,e)},p(n,r){e=r;var o={};!f.value&&n.firstRowIsHeader&&(o.value=e.firstRowIsHeader,f.value=void 0!==e.firstRowIsHeader),p._set(o),f={},e.showLocaleSelect?d||((d=kg(t)).c(),d.m(u.parentNode,u)):d&&(d.d(1),d=null)},d(t){t&&(b(n),b(o),b(i),b(a)),p.destroy(t),t&&b(s),d&&d.d(t),t&&b(u)}}}function Ng(t,e){var n,r,o,i,a,s,u,l,c,f,h,p,d,m,y,w=Ki("describe / show-hide-multi"),_=Ki("describe / show-selected"),M=Ki("describe / hide-selected");function E(n){t.hideMultiple(e.multiSelection,!1)}function C(n){t.hideMultiple(e.multiSelection,!0)}return{c(){n=x("h3"),r=N(w),o=N("\n\n                "),i=x("ul"),a=x("li"),s=x("button"),u=x("i"),l=N(" "),c=N(_),f=N("\n                    "),h=x("li"),p=x("button"),d=x("i"),m=N(" "),y=N(M),n.className="first",u.className="fa fa-eye",k(s,"click",E),s.className="btn",O(a,"margin-bottom","5px"),d.className="fa fa-eye-slash",k(p,"click",C),p.className="btn",i.className="unstyled"},m(t,e){g(t,n,e),v(n,r),g(t,o,e),g(t,i,e),v(i,a),v(a,s),v(s,u),v(s,l),v(s,c),v(i,f),v(i,h),v(h,p),v(p,d),v(p,m),v(p,y)},p(t,n){e=n},d(t){t&&(b(n),b(o),b(i)),Y(s,"click",E),Y(p,"click",C)}}}function Eg(t,e){var n,r;function o(t){return t.customColumn?Cg:t.columnFormat?Yg:void 0}var i=o(e),a=i&&i(t,e),s="number"==e.activeColumn.type()&&Og(t,e);return{c(){a&&a.c(),n=N(" "),s&&s.c(),r=E()},m(t,e){a&&a.m(t,e),g(t,n,e),s&&s.m(t,e),g(t,r,e)},p(e,u){i===(i=o(u))&&a?a.p(e,u):(a&&a.d(1),(a=i&&i(t,u))&&a.c(),a&&a.m(n.parentNode,n)),"number"==u.activeColumn.type()?s?s.p(e,u):((s=Og(t,u)).c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d(t){a&&a.d(t),t&&b(n),s&&s.d(t),t&&b(r)}}}function kg(t,e){var n,r,o,i,a,s=Ki("describe / locale-select / hed"),u=Ki("describe / locale-select / body"),l=new dg({root:t.root,store:t.store});return{c(){n=x("h4"),r=N(s),o=N("\n\n                "),i=x("p"),a=N("\n\n                "),l._fragment.c(),n.className="mt-5"},m(t,e){g(t,n,e),v(n,r),g(t,o,e),g(t,i,e),i.innerHTML=u,g(t,a,e),l._mount(t,e)},d(t){t&&(b(n),b(o),b(i),b(a)),l.destroy(t)}}}function Yg(t,e){var n,r,o={},i={};void 0!==e.columnFormat&&(i.column=e.columnFormat,o.column=!0),void 0!==e.normalColumns&&(i.columns=e.normalColumns,o.columns=!0);var a=new Js({root:t.root,store:t.store,data:i,_bind(e,n){var r={};!o.column&&e.column&&(r.columnFormat=n.column),!o.columns&&e.columns&&(r.normalColumns=n.columns),t._set(r),o={}}});t.root._beforecreate.push(()=>{a._bind({column:1,columns:1},a.get())}),a.on("updateTable",(function(e){t.refs.hot.update()})),a.on("renderTable",(function(e){t.refs.hot.render()}));var s=e.columnFormat.isComputed&&Ag(t);return{c(){a._fragment.c(),n=N("\n\n                "),s&&s.c(),r=E()},m(t,e){a._mount(t,e),g(t,n,e),s&&s.m(t,e),g(t,r,e)},p(n,i){e=i;var u={};!o.column&&n.columnFormat&&(u.column=e.columnFormat,o.column=void 0!==e.columnFormat),!o.columns&&n.normalColumns&&(u.columns=e.normalColumns,o.columns=void 0!==e.normalColumns),a._set(u),o={},e.columnFormat.isComputed?s||((s=Ag(t)).c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d(t){a.destroy(t),t&&b(n),s&&s.d(t),t&&b(r)}}}function Cg(t,e){var n,r,o,i={},a=Ki("describe / edit-format"),s={};void 0!==e.customColumn&&(s.column=e.customColumn,i.column=!0),void 0!==e.columns&&(s.columns=e.columns,i.columns=!0);var u=new _s({root:t.root,store:t.store,data:s,_bind(e,n){var r={};!i.column&&e.column&&(r.customColumn=n.column),!i.columns&&e.columns&&(r.columns=n.columns),t._set(r),i={}}});function l(e){t.force(e,!0)}return t.root._beforecreate.push(()=>{u._bind({column:1,columns:1},u.get())}),u.on("updateTable",(function(e){t.refs.hot.update()})),u.on("renderTable",(function(e){t.refs.hot.render()})),u.on("unselect",(function(e){t.set({activeColumn:!1})})),t.refs.ccEd=u,{c(){u._fragment.c(),n=N("\n\n                "),r=x("button"),o=N(a),k(r,"click",l),r.className="btn"},m(t,e){u._mount(t,e),g(t,n,e),g(t,r,e),v(r,o)},p(t,n){e=n;var r={};!i.column&&t.customColumn&&(r.column=e.customColumn,i.column=void 0!==e.customColumn),!i.columns&&t.columns&&(r.columns=e.columns,i.columns=void 0!==e.columns),u._set(r),i={}},d(e){u.destroy(e),t.refs.ccEd===u&&(t.refs.ccEd=null),e&&(b(n),b(r)),Y(r,"click",l)}}}function Ag(t,e){var n,r,o,i,a=Ki("describe / edit-formula");function s(e){t.force(e,!1)}return{c(){n=x("button"),r=x("i"),o=N(" "),i=N(a),r.className="fa fa-chevron-left",k(n,"click",s),n.className="btn"},m(t,e){g(t,n,e),v(n,r),v(n,o),v(n,i)},d(t){t&&b(n),Y(n,"click",s)}}}function Og(t,e){var n={},r={};void 0!==e.activeValues&&(r.values=e.activeValues,n.values=!0),void 0!==e.activeFormat&&(r.format=e.activeFormat,n.format=!0);var o=new gc({root:t.root,store:t.store,data:r,_bind(e,r){var o={};!n.values&&e.values&&(o.activeValues=r.values),!n.format&&e.format&&(o.activeFormat=r.format),t._set(o),n={}}});return t.root._beforecreate.push(()=>{o._bind({values:1,format:1},o.get())}),{c(){o._fragment.c()},m(t,e){o._mount(t,e)},p(t,r){e=r;var i={};!n.values&&t.activeValues&&(i.values=e.activeValues,n.values=void 0!==e.activeValues),!n.format&&t.activeFormat&&(i.format=e.activeFormat,n.format=void 0!==e.activeFormat),o._set(i),n={}},d(t){o.destroy(t)}}}function Sg(t,e){var n,r,o,i,a,s,u,l,c,f,h,p=e.col.title();return{c(){n=x("li"),r=x("a"),o=x("i"),a=N("\n                                    "),s=x("i"),l=N("   "),c=N(p),o._svelte={component:t,ctx:e},k(o,"click",_g),o.className=i="\n                                            fa\n                                            fa-sort-"+("text"==e.col.type()?"alpha":"amount")+"-asc\n                                            fa-fw\n                                         svelte-130nws0",s._svelte={component:t,ctx:e},k(s,"click",wg),s.className=u="\n                                            fa\n                                            fa-sort-"+("text"==e.col.type()?"alpha":"amount")+"-desc\n                                            fa-fw\n                                         svelte-130nws0",r._svelte={component:t,ctx:e},k(r,"click",yg),r.href=f="#/"+e.col.name(),r.className="svelte-130nws0",n.className=h=(e.col.name()==e.sortBy?"active":"")+" svelte-130nws0"},m(t,e){g(t,n,e),v(n,r),v(r,o),v(r,a),v(r,s),v(r,l),v(r,c)},p(t,a){e=a,o._svelte.ctx=e,t.normalColumns&&i!==(i="\n                                            fa\n                                            fa-sort-"+("text"==e.col.type()?"alpha":"amount")+"-asc\n                                            fa-fw\n                                         svelte-130nws0")&&(o.className=i),s._svelte.ctx=e,t.normalColumns&&u!==(u="\n                                            fa\n                                            fa-sort-"+("text"==e.col.type()?"alpha":"amount")+"-desc\n                                            fa-fw\n                                         svelte-130nws0")&&(s.className=u),t.normalColumns&&p!==(p=e.col.title())&&A(c,p),r._svelte.ctx=e,t.normalColumns&&f!==(f="#/"+e.col.name())&&(r.href=f),(t.normalColumns||t.sortBy)&&h!==(h=(e.col.name()==e.sortBy?"active":"")+" svelte-130nws0")&&(n.className=h)},d(t){t&&b(n),Y(o,"click",_g),Y(s,"click",wg),Y(r,"click",yg)}}}function Tg(t,e){var n,r,o,i;function a(e){t.nextResult(-1)}function s(e){t.nextResult(1)}return{c(){n=x("div"),(r=x("button")).innerHTML='<i class="fa fa-chevron-up"></i>',o=N("\n                            "),(i=x("button")).innerHTML='<i class="fa fa-chevron-down"></i>',k(r,"click",a),r.className="btn svelte-130nws0",k(i,"click",s),i.className="btn svelte-130nws0",n.className="btn-group"},m(t,e){g(t,n,e),v(n,r),v(n,o),v(n,i)},d(t){t&&b(n),Y(r,"click",a),Y(i,"click",s)}}}function Rg(t,e){var n,r;return{c(){n=x("div"),r=N(e.resultsDisplay),n.className="results svelte-130nws0"},m(t,e){g(t,n,e),v(n,r)},p(t,e){t.resultsDisplay&&A(r,e.resultsDisplay)},d(t){t&&b(n)}}}function Dg(t){W(this,t),this.refs={},this._state=p(p(this.store._init(["language","dw_chart"]),{locale:"en-US",search:"",chartData:"",readonly:!1,showLocaleSelect:!0,transpose:!1,hasChanges:!1,firstRowIsHeader:!0,fixedColumnsLeft:0,searchIndex:0,activeColumn:!1,customColumn:!1,columnFormat:!1,multiSelection:!1,forceColumnFormat:!1,searchResults:[],sortBy:"-",sortDir:!0}),t.data),this.store._add(this,["language","dw_chart"]),this._recompute({$language:1,searchIndex:1,searchResults:1,activeColumn:1,forceColumnFormat:1,$dw_chart:1,columns:1,sortBy:1,sortDir:1,searchIndexSafe:1},this._state),this._intro=!0,this._handlers.update=[bg],this._handlers.destroy=[q],this._fragment=function(t,e){var n,r,o,i,a,s,u,l,c,f,h,p,d,m,y,M,E,A,S,T,R,D,j,F,I,L,$,H,P,B,U,W,z,V,q,G,K,X,J,Q,Z,tt,et,nt,rt,ot,it,at,st,ut,lt,ct,ft,ht,pt,dt,mt,vt,gt,bt,yt,wt,_t,xt,Mt,Nt,Et=Ki("Back"),kt=Ki("Proceed"),Yt=Ki("describe / info-table-header"),Ct=Ki("describe / sort-by"),At=Ki("describe / no-sorting"),Ot=!1,St={},Tt=Ki("describe / transpose-long"),Rt=Ki("computed columns / add-btn"),Dt=Ki("Revert changes");function jt(t){return t.activeColumn?Eg:t.multiSelection?Ng:Mg}var Ft=jt(e),It=Ft(t,e);function Lt(e){e.preventDefault(),t.navigateTo("upload")}function $t(e){e.preventDefault(),t.navigateTo("visualize")}function Ht(e){t.sort(e,"-")}for(var Pt=e.normalColumns,Bt=[],Ut=0;Ut<Pt.length;Ut+=1)Bt[Ut]=Sg(t,xg(e,Pt,Ut));var Wt=new hg({root:t.root,store:t.store,slots:{default:_(),content:_(),button:_()}});function zt(){Ot=!0,t.set({search:tt.value}),Ot=!1}function Vt(e){t.keyPress(e)}var qt=e.searchResults.length>0&&Tg(t),Gt=e.search&&Rg(t,e),Kt={};void 0!==e.chartData&&(Kt.data=e.chartData,St.data=!0),void 0!==e.transpose&&(Kt.transpose=e.transpose,St.transpose=!0),void 0!==e.firstRowIsHeader&&(Kt.firstRowIsHeader=e.firstRowIsHeader,St.firstRowIsHeader=!0),void 0!==e.fixedColumnsLeft&&(Kt.fixedColumnsLeft=e.fixedColumnsLeft,St.fixedColumnsLeft=!0),void 0!==e.activeColumn&&(Kt.activeColumn=e.activeColumn,St.activeColumn=!0),void 0!==e.readonly&&(Kt.readonly=e.readonly,St.readonly=!0),void 0!==e.sorting&&(Kt.sorting=e.sorting,St.sorting=!0),void 0!==e.search&&(Kt.search=e.search,St.search=!0),void 0!==e.searchResults&&(Kt.searchResults=e.searchResults,St.searchResults=!0),void 0!==e.searchIndex&&(Kt.searchIndex=e.searchIndex,St.searchIndex=!0),void 0!==e.multiSelection&&(Kt.multiSelection=e.multiSelection,St.multiSelection=!0),void 0!==e.hasChanges&&(Kt.hasChanges=e.hasChanges,St.hasChanges=!0);var Xt=new lg({root:t.root,store:t.store,data:Kt,_bind(e,n){var r={};!St.data&&e.data&&(r.chartData=n.data),!St.transpose&&e.transpose&&(r.transpose=n.transpose),!St.firstRowIsHeader&&e.firstRowIsHeader&&(r.firstRowIsHeader=n.firstRowIsHeader),!St.fixedColumnsLeft&&e.fixedColumnsLeft&&(r.fixedColumnsLeft=n.fixedColumnsLeft),!St.activeColumn&&e.activeColumn&&(r.activeColumn=n.activeColumn),!St.readonly&&e.readonly&&(r.readonly=n.readonly),!St.sorting&&e.sorting&&(r.sorting=n.sorting),!St.search&&e.search&&(r.search=n.search),!St.searchResults&&e.searchResults&&(r.searchResults=n.searchResults),!St.searchIndex&&e.searchIndex&&(r.searchIndex=n.searchIndex),!St.multiSelection&&e.multiSelection&&(r.multiSelection=n.multiSelection),!St.hasChanges&&e.hasChanges&&(r.hasChanges=n.hasChanges),t._set(r),St={}}});function Jt(e){t.toggleTranspose()}function Qt(e){t.addComputedColumn()}function Zt(e){t.revertChanges()}return t.root._beforecreate.push(()=>{Xt._bind({data:1,transpose:1,firstRowIsHeader:1,fixedColumnsLeft:1,activeColumn:1,readonly:1,sorting:1,search:1,searchResults:1,searchIndex:1,multiSelection:1,hasChanges:1},Xt.get())}),Xt.on("resetSort",(function(e){t.set({sortBy:"-"})})),Xt.on("afterRender",(function(e){t.afterRender()})),t.refs.hot=Xt,{c(){n=x("div"),r=x("div"),o=x("div"),i=x("div"),It.c(),a=N("\n\n                "),s=x("hr"),u=N("\n\n                "),l=x("div"),c=x("a"),f=x("i"),h=N(" "),p=N(Et),d=N("\n                    "),m=x("a"),y=N(kt),M=N(" "),E=x("i"),A=N("\n        "),S=x("div"),T=x("div"),R=x("noscript"),D=N("\n                "),j=x("img"),F=N("\n            "),I=x("div"),L=x("div"),$=x("button"),H=x("noscript"),P=N("… "),B=x("span"),U=N("\n                        "),W=x("ul"),z=x("li"),V=x("a"),G=N("\n                            ");for(var t=0;t<Bt.length;t+=1)Bt[t].c();Wt._fragment.c(),K=N("\n\n                "),X=x("div"),J=x("i"),Q=N("\n                    "),Z=x("div"),tt=x("input"),nt=N("\n                        "),qt&&qt.c(),ot=N("\n\n                    "),Gt&&Gt.c(),it=N("\n\n            "),Xt._fragment.c(),at=N("\n\n            "),st=x("div"),ut=x("button"),lt=x("img"),ct=N("\n                    "),ft=N(Tt),ht=N("\n\n                "),pt=x("button"),dt=x("i"),mt=N(" "),vt=N(Rt),gt=N("…"),bt=N("\n\n                "),yt=x("button"),wt=x("i"),_t=N(" "),xt=N(Dt),Mt=N("…"),f.className="icon-chevron-left",k(c,"click",Lt),c.href="upload",c.className="btn submit",E.className="icon-chevron-right icon-white",k(m,"click",$t),m.href="visualize",m.className="submit btn btn-primary",m.dataset.uid="describe-proceed-button",l.className="btn-group",i.className="sidebar",o.className="column is-4 is-3-widescreen",j.alt="arrow",j.src="/static/img/arrow.svg",T.className="help svelte-130nws0",B.className="caret",C($,"slot","button"),$.className="btn dropdown-toggle",$.dataset.toggle="dropdown",k(V,"click",Ht),V.href="#s",V.className="svelte-130nws0",z.className=q=("-"==e.sortBy?"active":"")+" svelte-130nws0",C(W,"slot","content"),W.className="sort-menu svelte-130nws0",L.className="sort-box svelte-130nws0",J.className="im im-magnifier svelte-130nws0",k(tt,"input",zt),k(tt,"keypress",Vt),tt.autocomplete="screw-you-google-chrome",C(tt,"type","search"),tt.placeholder=Ki("describe / search / placeholder"),tt.className=et=(e.searchResults.length>0?"with-results":"")+" search-query svelte-130nws0",Z.className=rt=e.searchResults.length>0?"input-append":"",X.className="search-box form-search svelte-130nws0",I.className="pull-right",O(I,"margin-bottom","10px"),lt.alt="transpose",lt.src="/static/css/chart-editor/transpose.png",lt.className="svelte-130nws0",k(ut,"click",Jt),ut.className="btn transpose svelte-130nws0",dt.className="fa fa-calculator",k(pt,"click",Qt),pt.className="btn computed-columns",wt.className="fa fa-undo",k(yt,"click",Zt),yt.className=Nt="btn "+(e.hasChanges?"":"disabled")+" svelte-130nws0",yt.id="reset-data-changes",st.className="buttons below-table pull-right svelte-130nws0",S.className="column pt-5",r.className="columns is-variable is-5-widescreen is-8-fullhd",n.className="chart-editor"},m(b,w){g(b,n,w),v(n,r),v(r,o),v(o,i),It.m(i,null),v(i,a),v(i,s),v(i,u),v(i,l),v(l,c),v(c,f),v(c,h),v(c,p),v(l,d),v(l,m),v(m,y),v(m,M),v(m,E),v(r,A),v(r,S),v(S,T),v(T,R),R.insertAdjacentHTML("beforebegin",Yt),v(T,D),v(T,j),v(S,F),v(S,I),v(I,L),v(Wt._slotted.button,$),v($,H),H.insertAdjacentHTML("beforebegin",Ct),v($,P),v($,B),v(Wt._slotted.default,U),v(Wt._slotted.content,W),v(W,z),v(z,V),V.innerHTML=At,v(W,G);for(var _=0;_<Bt.length;_+=1)Bt[_].m(W,null);Wt._mount(L,null),v(I,K),v(I,X),v(X,J),v(X,Q),v(X,Z),v(Z,tt),t.refs.search=tt,tt.value=e.search,v(Z,nt),qt&&qt.m(Z,null),v(X,ot),Gt&&Gt.m(X,null),v(S,it),Xt._mount(S,null),v(S,at),v(S,st),v(st,ut),v(ut,lt),v(ut,ct),v(ut,ft),v(st,ht),v(st,pt),v(pt,dt),v(pt,mt),v(pt,vt),v(pt,gt),v(st,bt),v(st,yt),v(yt,wt),v(yt,_t),v(yt,xt),v(yt,Mt),t.refs.parent=n},p(n,r){if(Ft===(Ft=jt(e=r))&&It?It.p(n,e):(It.d(1),(It=Ft(t,e)).c(),It.m(i,a)),n.sortBy&&q!==(q=("-"==e.sortBy?"active":"")+" svelte-130nws0")&&(z.className=q),n.normalColumns||n.sortBy){Pt=e.normalColumns;for(var o=0;o<Pt.length;o+=1){const r=xg(e,Pt,o);Bt[o]?Bt[o].p(n,r):(Bt[o]=Sg(t,r),Bt[o].c(),Bt[o].m(W,null))}for(;o<Bt.length;o+=1)Bt[o].d(1);Bt.length=Pt.length}!Ot&&n.search&&(tt.value=e.search),n.searchResults&&et!==(et=(e.searchResults.length>0?"with-results":"")+" search-query svelte-130nws0")&&(tt.className=et),e.searchResults.length>0?qt||((qt=Tg(t)).c(),qt.m(Z,null)):qt&&(qt.d(1),qt=null),n.searchResults&&rt!==(rt=e.searchResults.length>0?"input-append":"")&&(Z.className=rt),e.search?Gt?Gt.p(n,e):((Gt=Rg(t,e)).c(),Gt.m(X,null)):Gt&&(Gt.d(1),Gt=null);var s={};!St.data&&n.chartData&&(s.data=e.chartData,St.data=void 0!==e.chartData),!St.transpose&&n.transpose&&(s.transpose=e.transpose,St.transpose=void 0!==e.transpose),!St.firstRowIsHeader&&n.firstRowIsHeader&&(s.firstRowIsHeader=e.firstRowIsHeader,St.firstRowIsHeader=void 0!==e.firstRowIsHeader),!St.fixedColumnsLeft&&n.fixedColumnsLeft&&(s.fixedColumnsLeft=e.fixedColumnsLeft,St.fixedColumnsLeft=void 0!==e.fixedColumnsLeft),!St.activeColumn&&n.activeColumn&&(s.activeColumn=e.activeColumn,St.activeColumn=void 0!==e.activeColumn),!St.readonly&&n.readonly&&(s.readonly=e.readonly,St.readonly=void 0!==e.readonly),!St.sorting&&n.sorting&&(s.sorting=e.sorting,St.sorting=void 0!==e.sorting),!St.search&&n.search&&(s.search=e.search,St.search=void 0!==e.search),!St.searchResults&&n.searchResults&&(s.searchResults=e.searchResults,St.searchResults=void 0!==e.searchResults),!St.searchIndex&&n.searchIndex&&(s.searchIndex=e.searchIndex,St.searchIndex=void 0!==e.searchIndex),!St.multiSelection&&n.multiSelection&&(s.multiSelection=e.multiSelection,St.multiSelection=void 0!==e.multiSelection),!St.hasChanges&&n.hasChanges&&(s.hasChanges=e.hasChanges,St.hasChanges=void 0!==e.hasChanges),Xt._set(s),St={},n.hasChanges&&Nt!==(Nt="btn "+(e.hasChanges?"":"disabled")+" svelte-130nws0")&&(yt.className=Nt)},d(e){e&&b(n),It.d(),Y(c,"click",Lt),Y(m,"click",$t),Y(V,"click",Ht),w(Bt,e),Wt.destroy(),Y(tt,"input",zt),Y(tt,"keypress",Vt),t.refs.search===tt&&(t.refs.search=null),qt&&qt.d(),Gt&&Gt.d(),Xt.destroy(),t.refs.hot===Xt&&(t.refs.hot=null),Y(ut,"click",Jt),Y(pt,"click",Qt),Y(yt,"click",Zt),t.refs.parent===n&&(t.refs.parent=null)}}}(this,this._state),this.root._oncreate.push(()=>{gg.call(this),this.fire("update",{changed:d({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function jg(t,e){this._handlers={},this._dependents=[],this._computed=L(),this._sortedComputedProperties=[],this._state=p({},t),this._differs=e&&e.immutable?H:$}p(Dg.prototype,G),p(Dg.prototype,vg),Dg.prototype._recompute=function(t,e){t.$language&&this._differs(e.locale,e.locale=function({$language:t}){return t}(e))&&(t.locale=!0),(t.searchIndex||t.searchResults)&&this._differs(e.searchIndexSafe,e.searchIndexSafe=function({searchIndex:t,searchResults:e}){return t<0&&(t+=e.length),t%=e.length}(e))&&(t.searchIndexSafe=!0),(t.activeColumn||t.forceColumnFormat)&&(this._differs(e.customColumn,e.customColumn=function({activeColumn:t,forceColumnFormat:e}){return!(!t||e||!t.isComputed)&&t}(e))&&(t.customColumn=!0),this._differs(e.columnFormat,e.columnFormat=function({activeColumn:t,forceColumnFormat:e}){return!(!t||t.isComputed&&!e)&&t}(e))&&(t.columnFormat=!0)),t.activeColumn&&this._differs(e.activeValues,e.activeValues=function({activeColumn:t}){return t?t.values():[]}(e))&&(t.activeValues=!0),(t.activeColumn||t.$dw_chart)&&(this._differs(e.activeFormat,e.activeFormat=function({activeColumn:t,$dw_chart:e}){return t?xp(Np,t,e.get().metadata,t.name()):t=>t}(e))&&(t.activeFormat=!0),this._differs(e.columns,e.columns=function({activeColumn:t,$dw_chart:e}){const n=e.dataset();return n?n.columns():[]}(e))&&(t.columns=!0)),t.columns&&this._differs(e.normalColumns,e.normalColumns=function({columns:t}){return t.filter(t=>!t.isComputed)}(e))&&(t.normalColumns=!0),(t.sortBy||t.sortDir)&&this._differs(e.sorting,e.sorting=function({sortBy:t,sortDir:e}){return{sortBy:t,sortDir:e}}(e))&&(t.sorting=!0),(t.searchResults||t.searchIndexSafe)&&this._differs(e.resultsDisplay,e.resultsDisplay=function({searchResults:t,searchIndexSafe:e}){return t.length>0?`${e+1} ${Ki("describe / search / of")} ${t.length} ${Ki("describe / search / results")}`:Ki("describe / search / no-matches")}(e))&&(t.resultsDisplay=!0)},p(jg.prototype,{_add(t,e){this._dependents.push({component:t,props:e})},_init(t){const e={};for(let n=0;n<t.length;n+=1){const r=t[n];e["$"+r]=this._state[r]}return e},_remove(t){let e=this._dependents.length;for(;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set(t,e){const n=this._state;this._state=p(p({},n),t);for(let t=0;t<this._sortedComputedProperties.length;t+=1)this._sortedComputedProperties[t].update(this._state,e);this.fire("state",{changed:e,previous:n,current:this._state}),this._dependents.filter(t=>{const n={};let r=!1;for(let o=0;o<t.props.length;o+=1){const i=t.props[o];i in e&&(n["$"+i]=this._state[i],r=!0)}if(r)return t.component._stage(n),!0}).forEach(t=>{t.component.set({})}),this.fire("update",{changed:e,previous:n,current:this._state})},_sortComputedProperties(){const t=this._computed,e=this._sortedComputedProperties=[],n=L();let r;function o(i){const a=t[i];a&&(a.deps.forEach(t=>{if(t===r)throw new Error(`Cyclical dependency detected between ${t} <-> ${i}`);o(t)}),n[i]||(n[i]=!0,e.push(a)))}for(const t in this._computed)o(r=t)},compute(t,e,n){let r;const o={deps:e,update:(o,i,a)=>{const s=e.map(t=>(t in i&&(a=!0),o[t]));if(a){const e=n.apply(null,s);this._differs(e,r)&&(r=e,i[t]=!0,o[t]=r)}}};this._computed[t]=o,this._sortComputedProperties();const i=p({},this._state),a={};o.update(i,a,!0),this._set(i,a)},fire:P,get:U,on:z,set(t){const e=this._state,n=this._changed={};let r=!1;for(const o in t){if(this._computed[o])throw new Error(`'${o}' is a read-only computed property`);this._differs(t[o],e[o])&&(n[o]=r=!0)}r&&this._set(t,n)}});return{App:Dg,data:{chart:{id:""},readonly:!1,chartData:"",transpose:!1,firstRowIsHeader:!0,skipRows:0},store:new jg({})}}));
//# sourceMappingURL=describe.js.map
