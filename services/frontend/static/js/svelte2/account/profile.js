!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/account/profile",t):(e="undefined"!=typeof globalThis?globalThis:e||self)["account/profile"]=t()}(this,(function(){"use strict";function e(){}function t(e,t){for(var s in t)e[s]=t[s];return e}function s(e,t){for(var s in t)e[s]=1;return e}function r(e,t){e.appendChild(t)}function n(e,t,s){e.insertBefore(t,s)}function o(e){e.parentNode.removeChild(e)}function a(e,t){for(var s=0;s<e.length;s+=1)e[s]&&e[s].d(t)}function c(){return document.createDocumentFragment()}function i(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function l(){return document.createComment("")}function u(e,t,s,r){e.addEventListener(t,s,r)}function p(e,t,s,r){e.removeEventListener(t,s,r)}function h(e,t,s){null==s?e.removeAttribute(t):e.setAttribute(t,s)}function f(e,t,s){e.style.setProperty(t,s)}function w(e,t,s){e.classList[s?"add":"remove"](t)}function m(){return Object.create(null)}function g(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function v(e,t){return e!=e?t==t:e!==t}function _(e,t){var s=e in this._handlers&&this._handlers[e].slice();if(s)for(var r=0;r<s.length;r+=1){var n=s[r];if(!n.__calling)try{n.__calling=!0,n.call(this,t)}finally{n.__calling=!1}}}function b(e){e._lock=!0,P(e._beforecreate),P(e._oncreate),P(e._aftercreate),e._lock=!1}function k(){return this._state}function y(e,t){e._handlers=m(),e._slots=m(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function E(e,t){var s=this._handlers[e]||(this._handlers[e]=[]);return s.push(t),{cancel:function(){var e=s.indexOf(t);~e&&s.splice(e,1)}}}function P(e){for(;e&&e.length;)e.shift()()}var N={destroy:function(t){this.destroy=e,this.fire("destroy"),this.set=e,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:k,fire:_,on:E,set:function(e){this._set(t({},e)),this.root._lock||b(this.root)},_recompute:e,_set:function(e){var s=this._state,r={},n=!1;for(var o in e=t(this._staged,e),this._staged={},e)this._differs(e[o],s[o])&&(r[o]=n=!0);n&&(this._state=t(t({},s),e),this._recompute(r,this._state),this._bind&&this._bind(r,this._state),this._fragment&&(this.fire("state",{changed:r,current:this._state,previous:s}),this._fragment.p(r,this._state),this.fire("update",{changed:r,current:this._state,previous:s})))},_stage:function(e){t(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:g};const S=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,x=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function H(e,t){if(null===e)return null;if(void 0!==e){if((e=String(e)).indexOf("<")<0&&e.indexOf(">")<0)return e;if(e=T(e,t),"undefined"==typeof document)return e;var s=document.createElement("div");s.innerHTML=`<span>${e}</span>`,s.innerHTML=T(s.innerHTML,t&&!t.includes("<span>")?t+"<span>":t||void 0);for(var r=s.childNodes[0].querySelectorAll("*"),n=0;n<r.length;n++){if("a"===r[n].nodeName.toLowerCase()){"_self"!==r[n].getAttribute("target")&&r[n].setAttribute("target","_blank"),r[n].setAttribute("rel","nofollow noopener noreferrer");const e=(r[n].getAttribute("href")||"").toLowerCase().replace(/[^a-z0-9 -/:?=]/g,"").trim();(e.startsWith("javascript:")||e.startsWith("vbscript:")||e.startsWith("data:"))&&r[n].setAttribute("href","")}const e=[];for(var o=0;o<r[n].attributes.length;o++){var a=r[n].attributes[o];a.specified&&"on"===a.name.substr(0,2)&&e.push(a.name)}e.forEach(e=>r[n].removeAttribute(e))}return s.childNodes[0].innerHTML}}function T(e,t){t=(((void 0!==t?t||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var s=e,r=e;;)if(r=(s=r).replace(x,"").replace(S,(function(e,s){return t.indexOf("<"+s.toLowerCase()+">")>-1?e:""})),s===r)return r}const C={};function A(e,t="core",s,...r){let n=function(e,t,s){try{return s[t][e]||e}catch(t){return e}}(e,t,s);return n="string"==typeof r[0]?function(e,t=[]){return e.replace(/\$(\d)/g,(e,s)=>void 0===t[+s]?e:H(t[+s],""))}(n,r):function(e,t={}){return Object.entries(t).forEach(([t,s])=>{e=e.replace(new RegExp(`%${t}%|%${t}(?!\\w)`,"g"),s)}),e}(n,r[0]),H(n,"<p><h1><h2><h3><h4><h5><h6><blockquote><ol><ul><li><pre><hr><br><a><em><i><strong><b><code><img><table><tr><th><td><small><span><div><sup><sub><tt>")}function O(e,t="core",...s){return e=e.trim(),C[t]||function(e="core"){"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(C[e]=window.__dw.vis.meta.locale||{}):C[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}(t),C[t][e]?A(e,t,C,...s):"MISSING:"+e}var q={exports:{}};
/*!
	 * JavaScript Cookie v2.2.1
	 * https://github.com/js-cookie/js-cookie
	 *
	 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
	 * Released under the MIT license
	 */!function(e,t){var s;s=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var s=arguments[e];for(var r in s)t[r]=s[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function s(r){function n(){}function o(t,s,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},n.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(s);/^[\{\[]/.test(a)&&(s=a)}catch(e){}s=r.write?r.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var i in o)o[i]&&(c+="; "+i,!0!==o[i]&&(c+="="+o[i].split(";")[0]));return document.cookie=t+"="+s+c}}function a(e,s){if("undefined"!=typeof document){for(var n={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var c=o[a].split("="),i=c.slice(1).join("=");s||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var d=t(c[0]);if(i=(r.read||r)(i,d)||t(i),s)try{i=JSON.parse(i)}catch(e){}if(n[d]=i,e===d)break}catch(e){}}return e?n[e]:n}}return n.set=o,n.get=function(e){return a(e,!1)},n.getJSON=function(e){return a(e,!0)},n.remove=function(t,s){o(t,"",e(s,{expires:-1}))},n.defaults={},n.withConverter=s,n}((function(){}))},e.exports=s()}(q);var L=q.exports;const j=new Set(["get","head","options","trace"]);function M(e,t={}){if(!t.fetch)try{t.fetch=window.fetch}catch(e){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!t.baseUrl)try{t.baseUrl=window.dw.backend.__api_domain.startsWith("http")?window.dw.backend.__api_domain:"//"+window.dw.backend.__api_domain}catch(e){throw new Error("Neither options.baseUrl nor window.dw is defined.")}const{payload:s,baseUrl:r,fetch:n,raw:o,...a}={payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include",...t,headers:{"Content-Type":"application/json",...t.headers}},c=`${r.replace(/\/$/,"")}/${e.replace(/^\//,"")}`;let i;if(s&&(a.body=JSON.stringify(s)),a.headers["Content-Type"].startsWith("multipart/")&&delete a.headers["Content-Type"],a.disableCSFR||j.has(a.method.toLowerCase()))i=n(c,a);else{const e=L.get("crumb");e?(a.headers["X-CSRF-Token"]=e,i=n(c,a)):i=M("/v3/me",{fetch:n,baseUrl:r}).then(()=>{const e=L.get("crumb");e&&(a.headers["X-CSRF-Token"]=e)}).catch(()=>{}).then(()=>n(c,a))}return i.then(e=>{if(o)return e;if(!e.ok)throw new U(e);if(204===e.status||!e.headers.get("content-type"))return e;const t=e.headers.get("content-type").split(";")[0];return"application/json"===t?e.json():"image/png"===t||"application/pdf"===t?e.blob():e.text()})}function R(e){return(t,s)=>{if(s&&s.method)throw new Error(`Setting option.method is not allowed in httpReq.${e.toLowerCase()}()`);return M(t,{...s,method:e})}}M.get=R("GET"),M.patch=R("PATCH"),M.put=R("PUT"),M.post=R("POST"),M.head=R("HEAD"),M.delete=R("DELETE");class U extends Error{constructor(e){super(),this.name="HttpReqError",this.status=e.status,this.statusText=e.statusText,this.message=`[${e.status}] ${e.statusText}`,this.response=e}}function $(e,t){var s,a,c,d=e._slotted.labelExtra;return{c(){s=i("label"),a=i("noscript"),s.className="control-label svelte-150khnx"},m(e,o){n(e,s,o),r(s,a),a.insertAdjacentHTML("beforebegin",t.label),d&&(r(s,c||(c=l())),r(s,d))},p(e,t){e.label&&(!function(e){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling)}(a),a.insertAdjacentHTML("beforebegin",t.label))},d(e){e&&o(s),d&&function(e,t){for(;e.nextSibling;)t.appendChild(e.nextSibling)}(c,d)}}}function I(e,t){var s;return{c(){(s=i("div")).className="help success svelte-150khnx"},m(e,r){n(e,s,r),s.innerHTML=t.success},p(e,t){e.success&&(s.innerHTML=t.success)},d(e){e&&o(s)}}}function D(e,t){var s;return{c(){(s=i("div")).className="help error svelte-150khnx"},m(e,r){n(e,s,r),s.innerHTML=t.error},p(e,t){e.error&&(s.innerHTML=t.error)},d(e){e&&o(s)}}}function B(e,t){var s;return{c(){(s=i("div")).className="help svelte-150khnx"},m(e,r){n(e,s,r),s.innerHTML=t.help},p(e,t){e.help&&(s.innerHTML=t.help)},d(e){e&&o(s)}}}function z(e){var s,a,c,l,u,p,h,m,g,v,_,b,k,E;y(this,e),this._state=t({label:"",help:"",compact:!1,class:"",error:!1,success:!1,width:"auto",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(s=this,a=this._state,v=s._slotted.default,_=a.label&&$(s,a),b=a.success&&I(0,a),k=a.error&&D(0,a),E=!a.success&&!a.error&&a.help&&B(0,a),{c(){c=i("div"),_&&_.c(),l=d("\n    "),u=i("div"),p=d("\n    "),b&&b.c(),h=d(" "),k&&k.c(),m=d(" "),E&&E.c(),u.className="form-controls svelte-150khnx",c.className=g="form-block "+a.class+" svelte-150khnx",f(c,"width",a.width),c.dataset.uid=a.uid,w(c,"compact",a.compact),w(c,"success",a.success),w(c,"error",a.error)},m(e,t){n(e,c,t),_&&_.m(c,null),r(c,l),r(c,u),v&&r(u,v),r(c,p),b&&b.m(c,null),r(c,h),k&&k.m(c,null),r(c,m),E&&E.m(c,null)},p(e,t){t.label?_?_.p(e,t):((_=$(s,t)).c(),_.m(c,l)):_&&(_.d(1),_=null),t.success?b?b.p(e,t):((b=I(0,t)).c(),b.m(c,h)):b&&(b.d(1),b=null),t.error?k?k.p(e,t):((k=D(0,t)).c(),k.m(c,m)):k&&(k.d(1),k=null),t.success||t.error||!t.help?E&&(E.d(1),E=null):E?E.p(e,t):((E=B(0,t)).c(),E.m(c,null)),e.class&&g!==(g="form-block "+t.class+" svelte-150khnx")&&(c.className=g),e.width&&f(c,"width",t.width),e.uid&&(c.dataset.uid=t.uid),(e.class||e.compact)&&w(c,"compact",t.compact),(e.class||e.success)&&w(c,"success",t.success),(e.class||e.error)&&w(c,"error",t.error)},d(e){e&&o(c),_&&_.d(),v&&function(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}(u,v),b&&b.d(),k&&k.d(),E&&E.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(z.prototype,N);let F,Y=!1;function W({password:e}){return F?F(e):(!Y&&e.length>4&&(Y=!0,require(["zxcvbn"],e=>{F=e})),!1)}function G(t,s){return{c:e,m:e,d:e}}function J(e){var s,r,a;y(this,e),this._state=t({password:""},e.data),this._recompute({password:1,passwordStrength:1,passwordTooShort:1,passwordHelp:1},this._state),this._intro=!0,this._fragment=(s=this._state,a=s.password.length>=8&&G(),{c(){a&&a.c(),r=l()},m(e,t){a&&a.m(e,t),n(e,r,t)},p(e,t){t.password.length>=8?a||((a=G()).c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&o(r)}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(J.prototype,N),J.prototype._recompute=function(e,t){e.password&&(this._differs(t.passwordTooShort,t.passwordTooShort=function({password:e}){return e.length<8}(t))&&(e.passwordTooShort=!0),this._differs(t.passwordStrength,t.passwordStrength=W(t))&&(e.passwordStrength=!0)),(e.password||e.passwordStrength)&&this._differs(t.passwordHelp,t.passwordHelp=function({password:e,passwordStrength:t}){return""!==e&&t?O("account / password / "+["bad","weak","ok","good","excellent"][t.score]):O("account / pwd-too-short","core",{num:8})}(t))&&(e.passwordHelp=!0),(e.password||e.passwordTooShort||e.passwordStrength||e.passwordHelp)&&this._differs(t.passwordError,t.passwordError=function({password:e,passwordTooShort:t,passwordStrength:s,passwordHelp:r}){return!!e&&(t?O("account / pwd-too-short","core",{num:8}):!!(s&&s.score<2)&&r)}(t))&&(e.passwordError=!0),(e.passwordStrength||e.passwordHelp)&&this._differs(t.passwordSuccess,t.passwordSuccess=function({passwordStrength:e,passwordHelp:t}){return!!(e&&e.score>2)&&t}(t))&&(e.passwordSuccess=!0),(e.password||e.passwordTooShort)&&this._differs(t.passwordOk,t.passwordOk=function({password:e,passwordTooShort:t}){return e&&!t}(t))&&(e.passwordOk=!0)};var X={initChangeEmail(){const{email:e}=this.get();this.set({changeEmail:!0,newEmail:e})},async changeEmail(){const{newEmail:e}=this.get();this.set({savingEmail:!0});const t=[],s=[];try{await M.patch("/v3/me",{payload:{email:e}}),t.push("Your email has been changed successfully. You will receive an email with a confirmation link.")}catch(e){if("HttpReqError"===e.name){const t=await e.response.json();"Invalid request payload input"===t.message?s.push(O("account / change-email / error / invalid-email")):s.push(t.message?O("account / change-email / error / "+t.message):e.message)}else s.push("Unknown error: "+e)}this.set({savingEmail:!1}),s.length?this.set({errors:s}):this.set({changeEmail:!1,messages:t,errors:[]})},async changePassword(){const{currentPassword:e,newPassword:t,email:s}=this.get();this.set({savingPassword:!0});const r={password:t,oldPassword:e},n=[];try{await M.patch("/v3/me",{payload:r});const e=new URLSearchParams;e.append("ref","/account"),e.append("email",s),e.append("passwordChanged","true"),window.location.href="/signin?"+e}catch(e){if("HttpReqError"===e.name){const t=await e.response.json();n.push(t.message||e.message)}else n.push("Unknown error: "+e)}0===n.length?this.set({changePassword:!1,currentPassword:"",newPassword:"",errors:[]}):this.set({errors:n}),this.set({savingPassword:!1})},async deleteAccount(){const{confirmPassword:e,confirmEmail:t}=this.get();this.set({deletingAccount:!0});const s=[];try{await M.delete("/v3/me",{payload:{password:e,email:t}})}catch(e){if("HttpReqError"===e.name){const t=await e.response.json();"delete-or-transfer-teams-first"===t.message?s.push(O("account / delete / team-conflict")):s.push(t.message||e.message)}else s.push("Unknown error: "+e)}this.set({deletingAccount:!1}),s.length?this.set({errors:s}):this.set({deleteAccount2:!1,deleteAccount3:!0})}};function Z(){const{emailChanged:e}=this.get();e&&(this.set({messages:[O("account / profile / email-changed")]}),window.history.replaceState("","",window.location.pathname))}function K(e,t,s){const r=Object.create(e);return r.message=t[s],r}function Q(e,t,s){const r=Object.create(e);return r.message=t[s],r}function V(e,t){for(var s,c,d,l=t.messages,u=[],p=0;p<l.length;p+=1)u[p]=ee(e,Q(t,l,p));return{c(){s=i("div"),c=i("div"),d=i("div");for(var e=0;e<u.length;e+=1)u[e].c();d.className="alert alert-success svelte-1uqq9ww",c.className="span6",s.className="row",f(s,"margin-top","20px")},m(e,t){n(e,s,t),r(s,c),r(c,d);for(var o=0;o<u.length;o+=1)u[o].m(d,null)},p(t,s){if(t.messages){l=s.messages;for(var r=0;r<l.length;r+=1){const n=Q(s,l,r);u[r]?u[r].p(t,n):(u[r]=ee(e,n),u[r].c(),u[r].m(d,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=l.length}},d(e){e&&o(s),a(u,e)}}}function ee(e,t){var s,r=t.message;return{c(){(s=i("p")).className="svelte-1uqq9ww"},m(e,t){n(e,s,t),s.innerHTML=r},p(e,t){e.messages&&r!==(r=t.message)&&(s.innerHTML=r)},d(e){e&&o(s)}}}function te(e,t){var s,r=t.errors.join("");return{c(){(s=i("div")).className="alert alert-warning"},m(e,t){n(e,s,t),s.innerHTML=r},p(e,t){e.errors&&r!==(r=t.errors.join(""))&&(s.innerHTML=r)},d(e){e&&o(s)}}}function se(e,t){var s,a,c,l,f=O("account / email");function w(t){e.initChangeEmail()}return{c(){s=i("input"),a=d("\n            "),c=i("button"),l=d(f),s.disabled="disabled",s.value=t.email,h(s,"type","email"),u(c,"click",w),c.className="btn btn-save btn-default"},m(e,t){n(e,s,t),n(e,a,t),n(e,c,t),r(c,l)},p(e,t){e.email&&(s.value=t.email)},d(e){e&&(o(s),o(a),o(c)),p(c,"click",w)}}}function re(e,t){var s,a,c,l,f,w,m,g,v,_,b=!1,k=O("Back"),y=O("account / email");function E(){b=!0,e.set({newEmail:s.value}),b=!1}function P(t){e.set({changeEmail:!1})}function N(t){e.changeEmail()}return{c(){s=i("input"),a=d("\n            "),c=i("button"),l=d(k),f=d("\n            "),w=i("button"),m=i("i"),v=d("  "),_=d(y),u(s,"input",E),h(s,"type","email"),u(c,"click",P),c.className="btn btn-default",m.className=g="fa "+(t.savingEmail?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww",u(w,"click",N),w.className="btn btn-save btn-primary"},m(e,o){n(e,s,o),s.value=t.newEmail,n(e,a,o),n(e,c,o),r(c,l),n(e,f,o),n(e,w,o),r(w,m),r(w,v),r(w,_)},p(e,t){!b&&e.newEmail&&(s.value=t.newEmail),e.savingEmail&&g!==(g="fa "+(t.savingEmail?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww")&&(m.className=g)},d(e){e&&o(s),p(s,"input",E),e&&(o(a),o(c)),p(c,"click",P),e&&(o(f),o(w)),p(w,"click",N)}}}function ne(e,t){var s,a,l,w,m,g,v,_,b,k,y,E,P,N,S,x,H,T,C,A,q,L,j,M,R,U,$=O("account / password"),I=O("Back"),D=!1,B={},F=O("account / invite / password-clear-text"),Y=O("account / password");function W(t){e.set({changePassword:!1})}var G=t.changePassword&&t.errors&&t.errors.length&&ae(e,t);function X(){D=!0,e.set({currentPassword:_.value}),D=!1}var Z={label:O("Current Password"),help:O("account / password / current-password-note")},K=new z({root:e.root,store:e.store,slots:{default:c()},data:Z});function Q(e){return e.showPasswordAsClearText?de:ie}var V=Q(t),ee=V(e,t),te={};void 0!==t.newPassword&&(te.password=t.newPassword,B.password=!0),void 0!==t.passwordHelp&&(te.passwordHelp=t.passwordHelp,B.passwordHelp=!0),void 0!==t.passwordSuccess&&(te.passwordSuccess=t.passwordSuccess,B.passwordSuccess=!0),void 0!==t.passwordError&&(te.passwordError=t.passwordError,B.passwordError=!0),void 0!==t.newPasswordOk&&(te.passwordOk=t.newPasswordOk,B.passwordOk=!0);var se=new J({root:e.root,store:e.store,data:te,_bind(t,s){var r={};!B.password&&t.password&&(r.newPassword=s.password),!B.passwordHelp&&t.passwordHelp&&(r.passwordHelp=s.passwordHelp),!B.passwordSuccess&&t.passwordSuccess&&(r.passwordSuccess=s.passwordSuccess),!B.passwordError&&t.passwordError&&(r.passwordError=s.passwordError),!B.passwordOk&&t.passwordOk&&(r.newPasswordOk=s.passwordOk),e._set(r),B={}}});e.root._beforecreate.push(()=>{se._bind({password:1,passwordHelp:1,passwordSuccess:1,passwordError:1,passwordOk:1},se.get())});var re={error:t.passwordError,label:O("New Password"),success:t.passwordSuccess,help:t.passwordHelp},ne=new z({root:e.root,store:e.store,slots:{default:c()},data:re});function oe(){e.set({showPasswordAsClearText:S.checked})}function ce(t){e.changePassword()}return{c(){s=i("h3"),a=d($),l=d("\n            "),w=i("button"),m=d(I),g=d("\n        "),G&&G.c(),v=d("\n        "),_=i("input"),K._fragment.c(),b=d("\n\n        "),ee.c(),k=d("\n            "),y=i("div"),se._fragment.c(),ne._fragment.c(),E=d("\n        "),P=i("div"),N=i("label"),S=i("input"),x=d("\n                "),H=i("noscript"),T=d("\n\n        "),C=i("button"),A=i("i"),L=d("  "),j=d(Y),R=d("\n        "),U=i("hr"),u(w,"click",W),w.className="btn btn-save btn-default btn-back",u(_,"input",X),h(_,"type","password"),_.className="input-xlarge",f(y,"width","287px"),u(S,"change",oe),h(S,"type","checkbox"),N.className="checkbox",P.className="control-group",f(P,"margin-top","-10px"),f(P,"margin-bottom","20px"),A.className=q="fa "+(t.savingPassword?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww",u(C,"click",ce),C.disabled=M=!(t.newPasswordOk&&t.currentPassword),C.className="btn btn-primary"},m(e,o){n(e,s,o),r(s,a),r(s,l),r(s,w),r(w,m),n(e,g,o),G&&G.m(e,o),n(e,v,o),r(K._slotted.default,_),_.value=t.currentPassword,K._mount(e,o),n(e,b,o),ee.m(ne._slotted.default,null),r(ne._slotted.default,k),r(ne._slotted.default,y),se._mount(y,null),ne._mount(e,o),n(e,E,o),n(e,P,o),r(P,N),r(N,S),S.checked=t.showPasswordAsClearText,r(N,x),r(N,H),H.insertAdjacentHTML("afterend",F),n(e,T,o),n(e,C,o),r(C,A),r(C,L),r(C,j),n(e,R,o),n(e,U,o)},p(s,r){(t=r).changePassword&&t.errors&&t.errors.length?G?G.p(s,t):((G=ae(e,t)).c(),G.m(v.parentNode,v)):G&&(G.d(1),G=null),!D&&s.currentPassword&&(_.value=t.currentPassword),V===(V=Q(t))&&ee?ee.p(s,t):(ee.d(1),(ee=V(e,t)).c(),ee.m(k.parentNode,k));var n={};!B.password&&s.newPassword&&(n.password=t.newPassword,B.password=void 0!==t.newPassword),!B.passwordHelp&&s.passwordHelp&&(n.passwordHelp=t.passwordHelp,B.passwordHelp=void 0!==t.passwordHelp),!B.passwordSuccess&&s.passwordSuccess&&(n.passwordSuccess=t.passwordSuccess,B.passwordSuccess=void 0!==t.passwordSuccess),!B.passwordError&&s.passwordError&&(n.passwordError=t.passwordError,B.passwordError=void 0!==t.passwordError),!B.passwordOk&&s.newPasswordOk&&(n.passwordOk=t.newPasswordOk,B.passwordOk=void 0!==t.newPasswordOk),se._set(n),B={};var o={};s.passwordError&&(o.error=t.passwordError),s.passwordSuccess&&(o.success=t.passwordSuccess),s.passwordHelp&&(o.help=t.passwordHelp),ne._set(o),s.showPasswordAsClearText&&(S.checked=t.showPasswordAsClearText),s.savingPassword&&q!==(q="fa "+(t.savingPassword?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww")&&(A.className=q),(s.newPasswordOk||s.currentPassword)&&M!==(M=!(t.newPasswordOk&&t.currentPassword))&&(C.disabled=M)},d(e){e&&o(s),p(w,"click",W),e&&o(g),G&&G.d(e),e&&o(v),p(_,"input",X),K.destroy(e),e&&o(b),ee.d(),se.destroy(),ne.destroy(e),e&&(o(E),o(P)),p(S,"change",oe),e&&(o(T),o(C)),p(C,"click",ce),e&&(o(R),o(U))}}}function oe(t,s){var n,o,a,l,f=O("account / password");function w(e){t.set({changePassword:!0})}var m={label:O("Password"),help:""},g=new z({root:t.root,store:t.store,slots:{default:c()},data:m});return{c(){n=i("input"),o=d("\n            "),a=i("button"),l=d(f),g._fragment.c(),n.disabled=!0,n.value="abcdefgh",h(n,"type","password"),u(a,"click",w),a.className="btn btn-save btn-default"},m(e,t){r(g._slotted.default,n),r(g._slotted.default,o),r(g._slotted.default,a),r(a,l),g._mount(e,t)},p:e,d(e){p(a,"click",w),g.destroy(e)}}}function ae(e,t){for(var s,r=t.errors,c=[],d=0;d<r.length;d+=1)c[d]=ce(e,K(t,r,d));return{c(){s=i("div");for(var e=0;e<c.length;e+=1)c[e].c();s.className="alert svelte-1uqq9ww"},m(e,t){n(e,s,t);for(var r=0;r<c.length;r+=1)c[r].m(s,null)},p(t,n){if(t.errors){r=n.errors;for(var o=0;o<r.length;o+=1){const a=K(n,r,o);c[o]?c[o].p(t,a):(c[o]=ce(e,a),c[o].c(),c[o].m(s,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=r.length}},d(e){e&&o(s),a(c,e)}}}function ce(e,t){var s,r=t.message;return{c(){(s=i("p")).className="svelte-1uqq9ww"},m(e,t){n(e,s,t),s.innerHTML=r},p(e,t){e.errors&&r!==(r=t.message)&&(s.innerHTML=r)},d(e){e&&o(s)}}}function ie(e,t){var s,r=!1;function a(){r=!0,e.set({newPassword:s.value}),r=!1}return{c(){u(s=i("input"),"input",a),s.dataset.lpignore="true",h(s,"type","password"),s.className="input-xlarge"},m(e,r){n(e,s,r),s.value=t.newPassword},p(e,t){!r&&e.newPassword&&(s.value=t.newPassword)},d(e){e&&o(s),p(s,"input",a)}}}function de(e,t){var s,r=!1;function a(){r=!0,e.set({newPassword:s.value}),r=!1}return{c(){u(s=i("input"),"input",a),s.dataset.lpignore="true",h(s,"type","text"),s.className="input-xlarge"},m(e,r){n(e,s,r),s.value=t.newPassword},p(e,t){!r&&e.newPassword&&(s.value=t.newPassword)},d(e){e&&o(s),p(s,"input",a)}}}function le(t,s){var n,o,a=O("account / delete");function l(e){t.set({deleteAccount:!0})}var f=new z({root:t.root,store:t.store,slots:{default:c()},data:{label:"Delete account",help:""}});return{c(){n=i("button"),o=d(a),f._fragment.c(),u(n,"click",l),n.className="btn btn-danger",h(n,"href","#")},m(e,t){r(f._slotted.default,n),r(n,o),f._mount(e,t)},p:e,d(e){p(n,"click",l),f.destroy(e)}}}function ue(t,s){var a,c,l,h,f,w,m,g,v,_,b,k,y,E,P,N,S=O("account / confirm-account-deletion"),x=O("account / confirm-account-deletion / no"),H=O("account / or"),T=O("account / confirm-account-deletion / yes");function C(e){t.set({deleteAccount:!1})}function A(e){t.set({deleteAccount:!1,deleteAccount2:!0})}return{c(){a=i("h3"),c=i("i"),l=d(" "),h=d(S),f=d("\n        "),w=i("button"),m=i("i"),g=d("\n              "),v=d(x),_=d("\n\n        "),b=d(H),k=d("\n\n        "),y=i("button"),E=i("i"),P=d("   "),N=d(T),c.className="fa fa-times svelte-1uqq9ww",a.className="svelte-1uqq9ww",m.className="fa fa-chevron-left",u(w,"click",C),w.className="btn btn-back btn-primary",E.className="fa fa-times",u(y,"click",A),y.className="btn btn-default"},m(e,t){n(e,a,t),r(a,c),r(a,l),r(a,h),n(e,f,t),n(e,w,t),r(w,m),r(w,g),r(w,v),n(e,_,t),n(e,b,t),n(e,k,t),n(e,y,t),r(y,E),r(y,P),r(y,N)},p:e,d(e){e&&(o(a),o(f),o(w)),p(w,"click",C),e&&(o(_),o(b),o(k),o(y)),p(y,"click",A)}}}function pe(e,t){var s,a,l,w,m,g,v,_,b,k,y,E,P,N,S,x,H,T,C,A,q,L,j,M,R,U,$,I,D,B,F,Y,W,G,J,X,Z,K=O("account / delete / hed"),Q=O("account / delete / really"),V=O("account / confirm-account-deletion / free"),ee=O("You cannot login and logout anymore."),te=O("You cannot edit or remove your charts anymore."),se=O("account / delete / charts-stay-online"),re=!1,ne=!1,oe=O("account / delete / really-really"),ae=O("No, I changed my mind.."),ce=O("Yes, delete it!");function ie(){re=!0,e.set({confirmEmail:q.value}),re=!1}function de(){ne=!0,e.set({confirmPassword:j.value}),ne=!1}var le={label:O("Please enter your password to confirm the deletion request:"),error:!(!t.errors||!t.errors.length)&&t.errors.join(". ")},ue=new z({root:e.root,store:e.store,slots:{default:c()},data:le});function pe(t){e.set({deleteAccount2:!1})}function he(t){e.deleteAccount()}return{c(){s=i("h2"),a=d(K),l=d("\n        "),w=i("div"),m=i("p"),g=d(Q),v=d("\n            "),_=i("ul"),b=i("li"),k=d(V),y=d("\n                "),E=i("li"),P=d(ee),N=d("\n                "),S=i("li"),x=d(te),H=d("\n            "),T=i("p"),C=d(se),A=d("\n\n            "),q=i("input"),L=d("\n                "),j=i("input"),ue._fragment.c(),M=d("\n            "),R=i("p"),U=d("\n            "),$=i("div"),I=i("button"),D=i("i"),B=d("  "),F=d(ae),Y=d("\n                "),W=i("button"),G=i("i"),X=d(" \n                    "),Z=d(ce),f(s,"margin-bottom","20px"),u(q,"input",ie),h(q,"type","email"),q.placeholder=O("E-Mail"),u(j,"input",de),h(j,"type","password"),j.placeholder=O("Password"),R.className="lead",D.className="fa fa-chevron-left",u(I,"click",pe),I.className="btn btn-info",G.className=J="fa "+(t.deletingAccount?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww",u(W,"click",he),W.className="btn btn-danger",$.className="control-group",w.className="delete-account"},m(e,o){n(e,s,o),r(s,a),n(e,l,o),n(e,w,o),r(w,m),r(m,g),r(w,v),r(w,_),r(_,b),r(b,k),r(_,y),r(_,E),r(E,P),r(_,N),r(_,S),r(S,x),r(w,H),r(w,T),r(T,C),r(w,A),r(ue._slotted.default,q),q.value=t.confirmEmail,r(ue._slotted.default,L),r(ue._slotted.default,j),j.value=t.confirmPassword,ue._mount(w,null),r(w,M),r(w,R),R.innerHTML=oe,r(w,U),r(w,$),r($,I),r(I,D),r(I,B),r(I,F),r($,Y),r($,W),r(W,G),r(W,X),r(W,Z)},p(e,t){!re&&e.confirmEmail&&(q.value=t.confirmEmail),!ne&&e.confirmPassword&&(j.value=t.confirmPassword);var s={};e.errors&&(s.error=!(!t.errors||!t.errors.length)&&t.errors.join(". ")),ue._set(s),e.deletingAccount&&J!==(J="fa "+(t.deletingAccount?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww")&&(G.className=J)},d(e){e&&(o(s),o(l),o(w)),p(q,"input",ie),p(j,"input",de),ue.destroy(),p(I,"click",pe),p(W,"click",he)}}}function he(t,s){var a,c,l,u,p,h,w,m,g=O("account / delete / hed"),v=O("Your account has been deleted."),_=O("Goodbye!");return{c(){a=i("h2"),c=d(g),l=d("\n        "),u=i("h3"),p=d(v),h=d("\n        "),w=i("a"),m=d(_),f(a,"margin-bottom","20px"),w.href="/",w.className="btn btn-primary btn-large"},m(e,t){n(e,a,t),r(a,c),n(e,l,t),n(e,u,t),r(u,p),n(e,h,t),n(e,w,t),r(w,m)},p:e,d(e){e&&(o(a),o(l),o(u),o(h),o(w))}}}function fe(e){y(this,e),this._state=t({changePassword:!1,changeEmail:!1,emailChanged:!1,deleteAccount:!1,deleteAccount2:!1,deleteAccount3:!1,deletingAccount:!1,showPasswordInPlaintext:!1,messages:[],currentPassword:"",newPassword:"",newPasswordOk:!1,passwordError:!1,passwordHelp:!1,passwordSuccess:!1,confirmEmail:"",confirmPassword:"",email:"",newEmail:"",savingEmail:!1,savingPassword:!1,showPasswordAsClearText:!1,errors:[],groups:[{title:"Account settings",tabs:[{title:"Profile",icon:"fa fa-fw fa-user"}]},{title:"Team settings",tabs:[]}]},e.data),this._intro=!0,this._fragment=function(e,t){var s,a,u,p,h,w,m,g,v,_,b,k=O("account / change-login"),y=t.messages&&t.messages.length&&V(e,t),E=t.changeEmail&&t.errors.length&&te(e,t);function P(e){return e.changeEmail?re:se}var N=P(t),S=N(e,t),x={label:O("E-Mail"),help:t.changeEmail?O("account / confirm-email-change"):""},H=new z({root:e.root,store:e.store,slots:{default:c()},data:x});function T(e){return e.changePassword?ne:oe}var C=T(t),A=C(e,t);function q(e){return e.deleteAccount3?he:e.deleteAccount2?pe:e.deleteAccount?ue:le}var L=q(t),j=L(e,t);return{c(){y&&y.c(),s=d("\n\n"),a=i("div"),u=i("div"),E&&E.c(),p=d("\n        "),S.c(),h=l(),H._fragment.c(),w=d("\n\n        "),A.c(),m=d(" "),j.c(),g=d("\n    "),v=i("div"),_=i("p"),b=d(k),u.className="span6",_.className="help",v.className="span4",a.className="row edit-account",f(a,"margin-top",(t.messages&&t.messages.length?0:20)+"px")},m(e,t){y&&y.m(e,t),n(e,s,t),n(e,a,t),r(a,u),E&&E.m(u,null),r(u,p),S.m(H._slotted.default,null),r(H._slotted.default,h),H._mount(u,null),r(u,w),A.m(u,null),r(u,m),j.m(u,null),r(a,g),r(a,v),r(v,_),r(_,b)},p(t,r){r.messages&&r.messages.length?y?y.p(t,r):((y=V(e,r)).c(),y.m(s.parentNode,s)):y&&(y.d(1),y=null),r.changeEmail&&r.errors.length?E?E.p(t,r):((E=te(e,r)).c(),E.m(u,p)):E&&(E.d(1),E=null),N===(N=P(r))&&S?S.p(t,r):(S.d(1),(S=N(e,r)).c(),S.m(h.parentNode,h));var n={};t.changeEmail&&(n.help=r.changeEmail?O("account / confirm-email-change"):""),H._set(n),C===(C=T(r))&&A?A.p(t,r):(A.d(1),(A=C(e,r)).c(),A.m(u,m)),L===(L=q(r))&&j?j.p(t,r):(j.d(1),(j=L(e,r)).c(),j.m(u,null)),t.messages&&f(a,"margin-top",(r.messages&&r.messages.length?0:20)+"px")},d(e){y&&y.d(e),e&&(o(s),o(a)),E&&E.d(),S.d(),H.destroy(),A.d(),j.d()}}}(this,this._state),this.root._oncreate.push(()=>{Z.call(this),this.fire("update",{changed:s({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),b(this))}function we(e,s){this._handlers={},this._dependents=[],this._computed=m(),this._sortedComputedProperties=[],this._state=t({},e),this._differs=s&&s.immutable?v:g}t(fe.prototype,N),t(fe.prototype,X),t(we.prototype,{_add(e,t){this._dependents.push({component:e,props:t})},_init(e){const t={};for(let s=0;s<e.length;s+=1){const r=e[s];t["$"+r]=this._state[r]}return t},_remove(e){let t=this._dependents.length;for(;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set(e,s){const r=this._state;this._state=t(t({},r),e);for(let e=0;e<this._sortedComputedProperties.length;e+=1)this._sortedComputedProperties[e].update(this._state,s);this.fire("state",{changed:s,previous:r,current:this._state}),this._dependents.filter(e=>{const t={};let r=!1;for(let n=0;n<e.props.length;n+=1){const o=e.props[n];o in s&&(t["$"+o]=this._state[o],r=!0)}if(r)return e.component._stage(t),!0}).forEach(e=>{e.component.set({})}),this.fire("update",{changed:s,previous:r,current:this._state})},_sortComputedProperties(){const e=this._computed,t=this._sortedComputedProperties=[],s=m();let r;function n(o){const a=e[o];a&&(a.deps.forEach(e=>{if(e===r)throw new Error(`Cyclical dependency detected between ${e} <-> ${o}`);n(e)}),s[o]||(s[o]=!0,t.push(a)))}for(const e in this._computed)n(r=e)},compute(e,s,r){let n;const o={deps:s,update:(t,o,a)=>{const c=s.map(e=>(e in o&&(a=!0),t[e]));if(a){const s=r.apply(null,c);this._differs(s,n)&&(n=s,o[e]=!0,t[e]=n)}}};this._computed[e]=o,this._sortComputedProperties();const a=t({},this._state),c={};o.update(a,c,!0),this._set(a,c)},fire:_,get:k,on:E,set(e){const t=this._state,s=this._changed={};let r=!1;for(const n in e){if(this._computed[n])throw new Error(`'${n}' is a read-only computed property`);this._differs(e[n],t[n])&&(s[n]=r=!0)}r&&this._set(e,s)}});return{App:fe,data:{chart:{id:""},readonly:!1,chartData:"",transpose:!1,firstRowIsHeader:!0,skipRows:0},store:new we({})}}));
//# sourceMappingURL=profile.js.map
